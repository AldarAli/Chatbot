A New Wireless Architecture for In-Flight Entertainment Systems
Inside Aircraft Cabin
Ahmed AKL, Thierry GAYRAUD, and Pascal BERTHOU
CNRS ; LAAS ; 7 avenue du Colonel Roche, F-31077
Universite de Toulouse ; UPS, INSA, INP, ISAE ; LAAS ; F-31077
Toulouse, France
{aakl, gayraud, berthou}@laas.fr
Abstract—A primary difﬁculty when investigating commu-
nication requirements rises when a very speciﬁc ﬁeld as an
aircraft cabin is considered. The diverse needs of passengers
are often incompatible to the strict constraints inside the cabin.
Nowadays, In-Flight Entertainment (IFE) systems, for instance,
are widely spread in modern ﬂights. An IFE system usually
consists of a Seat Electronic Box, the passengers terminal
hardware, plus a Passengers Control Unit, the remote control to
select the service, and a Visual Display Unit, the screen. Using
the wireless technology in these systems can increase the satis-
faction level of both the passengers and the avionics companies.
However, the inside of the cabin is not a ﬂexible environment;
reliability and safety are two mandatory requirements, so
different constrains are imposed. This means that off-shelf
technologies (hardware including antennas, network topology,
network protocols and services) are usually not suitable for
such environment. Consequently, a new architecture has to
be designed and implemented. This paper aims at integrating
heterogeneous available communication technologies, showing
their pros and cons, within this context, while considering
the imposed communication restrictions inside the aircrafts
cabin. From that, a new wireless heterogeneous architecture
is proposed. In addition, to be able to use such architecture,
we propose a new protocol, which utilizes the smart antennas
technology to allow Passenger Control Units to be recognized
and conﬁgured autonomously without any external interven-
tion.
Keywords-IFE system, Wireless networks, PLC, Smart an-
tenna, Protocol engineering and evaluation
I. INTRODUCTION
In recent years, market surveys have revealed a surprising
and growing trend in the importance of In-Flight Entertain-
ment (IFE) with regard to choice of airline. With modern
long range aircraft the need for ”stop-over” has been re-
duced, so the duration of ﬂights has also been increased. Air
ﬂights, especially long distance, may expose passengers to
discomfort and even stress. IFE can provide stress reduction
entertainment services to the passenger. The IFE system
is an approach that can utilize the wireless technology
for the purpose of exchanging data -in both directions-
between passengers and the entertainment system. Although
wired communication gives better performance than wireless
communication, but most of modern personal devices are
based on the wireless technology, so providing wireless ca-
pabilities is essential for efﬁcient utilization of these devices.
Moreover, a wireless headphones is more satisfactory than a
wired headset attached to the seat arm. We are not targeting
to make the system fully wireless, but to emphasize the idea
that different technologies can be used in the IFE system to
improve the passenger’s service satisfaction level [1].
As stated by Niebla [2], users are becoming more and
more familiar to personal equipments, such as mobile
phones, laptops, and PDAs. This shows the importance of
providing aircrafts with facilities that support these equip-
ments.
Nowadays, different wireless technologies with different
capabilities exist in the market such as WiFi, Bluetooth,
infrared, and Wirelss Universal Serial Bus (WUSB). How-
ever, these technologies may have certain characteristics that
make them unsuitable for usage inside the cabin. Although
it was proven that WiFi and Bluetooth can be used inside
the cabin with no fear of interfering with navigational
equipments [3], it is still difﬁcult to use them in large
numbers since performance degrades due to allocating them
in a small area inside a metallic tunnel (i.e., cabin), which
is full of different obstacles (i.e., seats). In addition, the
normal way of setting these technologies is usually done
through predeﬁned identiﬁers (i.e., IP address) or a user key
(i.e., Bluetooth authentication key). Both techniques don’t
match the constrains inside the cabin, where devices must
be designed without any predeﬁned identiﬁers and to be
conﬁgured without any user intervention
However, usage of the wireless technology will help in
decreasing the connecting wires; this is a valuable criterion
in aircrafts designing. Using off-shelf technologies inside the
cabin is usually not applicable when using them in the usual
manner; the environment inside the cabin has very strict
constrains since safety is a major requirement. Consequently,
using just one technology can’t be the optimum solution.
In fact, using a combination of different technologies can
provide a better service while overcoming the existing
constrains. The way passengers use their Personal Electronic
Devices (PED) (i.e., mobile phones, laptop, etc.) was usually
done through specialized devices [2], [3]. Nevertheless, there
159
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

is no current research to use a combination of off-shelf
technologies inside the cabin.
The IFE market attracted many companies to submit
different IFE solutions. Thales [4], an avionic systems
provider, introduced its own IFE system that can be tailored
according to the needs of the airlines companies. Some
other companies provide dedicated solutions for certain parts
of the IFE systems; the AeroMobile [5] is a GSM service
provider for the aviation industry that allows passengers to
use their mobile phones and devices safely during the ﬂight.
Passengers can connect to an AeroMobile pico cell located
inside the craft which relays the text messages and calls to
a satellite link which sends them to the ground network.
The AeroMobile system manages all the cellular devices
onboard, so signal strength can be ketp at a minimum value
to minimize interference. This system is adopted by Pana-
sonic to be part of its in-ﬂight cellular phone component.
FlyNet [6] is an onboard communication service provided
by Lufthansa to allow passengers to connect to the Internet
during their ﬂight.
In the next section, we will introduce an overview for the
IFE system showing its components and requirements. Sec-
tion II-C introduces the communication challenges that face
the IFE systems. Section III shows the proposed available
technologies that can be used to overcome the challenges in
such environment. Section III-B introduces our approach for
integrating them together. Section IV presents our proposed
protocol that utilizes the smart antenna capabilities to con-
nect the IFE devices. Section V shows how the protocol was
veriﬁed and validated through a Uniﬁed Modeling Language
(UML) model and NS2 simulation. Finally, we present the
conclusion and future work.
II. BACKGROUND AND RELEVANT WORK
The recognized economics of wireless networks and com-
munications systems have made them an attractive target
for environments where individual wires are cumbersome.
An airplane cabin is such an environment. Dwayne [7] said
that due to the need of rapidly reconﬁguring the cabin’s
seating, it is further assumed that wireless networking, rather
than cable or ﬁber optics, must be used to interconnect
passenger’s entertainment equipment with other elements of
the system.
The use of wireless communication technologies on board
of an aircraft provides an opportunity to remove wiring
and save weight on the aircraft. The weight savings can
be directly measured in terms of fuel savings and improved
operating economics over the life time of an aircraft. How-
ever, there is a need to ensure that there is no interference
with the aircraft’s communication and navigation systems.
A. The need for IFE systems
Hao [8] mentioned that the enclosed environment of
the aircraft can cause discomfort or even problems to
passengers. IFE systems can greatly reduce these negative
effects. This can be done by using e-books, video/audio
broadcasting, games, internet, and On Demand services. The
fact that passengers come from highly heterogeneous pools
(such as age, gender, ethnicity, etc.) causes an impact on the
adaptive interface systems.
As mentioned by Fariba [9], the IFE systems usually
include screen-based, audio and communication systems.
The screen-based products include video systems enabling
passengers to watch movies, news and sports. These systems
had progressed into video-on-demand, allowing passengers
to have control when they watch movies. Air map display is
another service that allows them to locate their ﬂight’s route.
Exterior-view cameras also enable passengers to have the pi-
lot’s forward view on take-off and landing on their personal
TV screens. Audio systems include different types of music
channels and special programs recorded for the airlines.
Communication systems include intra-communications with
devices such as telephones, facsimile and in-seat power sup-
plies, and inter-communications between the screen-based
system and its subsystems (i.e., remote control).
B. The IFE system’s components
In fact, the entertainment starts from the passenger’s
seat design where most of the IFE system components
are embedded. Wiring cables connect together all of the
electronic devices in the seat as well as connecting them to
the whole system in the cabin. They run through the cabin’s
walls, ﬂoor, and seats. Unfortunately, conveying signals and
power to seats with a connector for each seat would cause
reliability and maintenance problems, and hinder timely
cabin reconﬁguration.
Nowadays, IFE systems are interactive systems, so a
Passenger Control Unit (PCU) is usually needed to control
the surrounding devices. The PCU should be compact and
easily held. Moreover, the pocket holding the PCU has to
be placed in a way that makes it reachable and not to affect
the passenger’s comfort. At the beginning, PCUs used to be
ﬁxed aside to the Visual Display Unit (VDU) at the back of
the front seat. This orientation introduced a problem when
the passenger setting beside the window wants to move to
the corridor; where all his neighbors have to replace their
PCUs to allow him to pass. To overcome this problem, PCUs
are now connected to their VDUs through wires passing via
their seat.
A Visual Display Unit (VDU) is usually ﬁxed to the back
of the front seat. Depending on the required features of the
system, ordinary displays can be used to display the visual
contents or touch screens can be installed to act as input
devices. Another orientation is to be ﬁxed in the ceiling as
a shared display for a group of seats.
A Seat Electronic Box (SEB) can be used to connect the
system’s different components together. It is used to connect
the passenger’s devices and the IFE system instead of having
160
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

a separate channel for each signal. For example, to transmit
communication and video signals, two different networks
should be available if the SEB is not used. When using the
SEB, the communication and video devices are connected
directly to it to convey signals to the rest of the IFE system
through one single network. Then, it simpliﬁes and facilitates
maintenance procedure since malfunctioning devices can be
easily replaced without affecting the IFE connections.
Halid [10] stated that Power Line Communication (PLC)
can provide a way of communication through power lines
networks. Power lines and communication networks have
different physical characteristics, so a PLC modem must
be used as an interface between the two networks. They
must be designed to provide accepted network operation
under typical power lines transmission conditions. However,
power lines are not designed as a good transmission media. It
suffers from attenuation, fading, and noise. Nevertheless, the
great advances in digital signal processing, error detection
and correction, modulation, media access control techniques
encourage the use of PLC in communication ﬁeld.
A part from the physical requirements of an IFE system,
there are especial operational requirements to cope with its
expected functionality.
• Self conﬁguration: The system’s units must be self
conﬁgurable without any external intervention [11].
They must start, run, and cope with any changes in
the system autonomously since the crew members are
too busy to handle such operations; and even if they
have the time and effort, they may lack the required
technical background.
• Minimized wiring and power consumption: As men-
tioned before, these are valuable criteria in aircrafts’
designing where wiring is considered as excess weight
that can be expressed in terms of excess fuel consump-
tion. Castagne [12] addressed the effect of weight over
the Direct Operating Costs (DOC) by calculating the
impact of weight increase on annual fuel consumption
IDOC =
fc×nseat
Wop
, where fc is the annual fuel con-
sumption, nseat is the number of seats, Wop is the
operating weight. In fact, calculating the exact saved
weight depends on various factors such as the cabin
structure, cables routing, type of cables, etc. However,
we can imagine the amount of saved weight through
the contribution of Hurley [13]. He showed that cables
ﬂexibility is a design factor that affects cable routing;
this means that cables may be extended through longer
paths to reach its destination. Moreover, special jumpers
and connectors are needed to attach cables, and groups
of cables can be attached to a cable harness; this
indicates that weight calculation will include the added
weight of accompanied materials and equipments. It
also indicates that wiring can hinder the maintenance
process as well as imposing difﬁculties in changing the
cabin’s layout.
• Easy to use: Passengers of no knowledge about using
modern technology must be able to use the system
easily. For example, the PCU controls (i.e., Volume,
Rewind, Forward, etc.) are known for almost everyone;
especial purpose controls such as Settings, Mode, etc.
can be carefully manipulated and, if used, to be pro-
vided by explanatory information when possible.
• It has to be easily replaced: In case of failure in
one of the system’s units, the unit has to be changed
instantaneously and easily without the need of any
technician, especially if the failure happened during the
ﬂight time.
• Topology is not dynamic: Once the network is setup,
there will be no change in topology till the end of the
ﬂight unless a unit fails. In case of replacing a failed
unit, it must be self conﬁgurable to join the network
again. However, if passengers attached their PEDs to
the system, some dynamism can be considered.
• Scalability: The system must be scalable to suit plans
of different sizes and different seats layout.
C. Communication challenges
Although aircraft security may be seen as another burden
due to its very strict requirements, but it is mandatory to
be included during the design of communication and data
services. A major concern for using wireless devices in
aircraft cabin is their interference with the aircraft’s com-
munication and navigation system, especially unintended
interference from passenger’s Personal Electronic Devices
(PED). Holzbock [14] said that the installed navigation
and communication systems on the aircraft are designed
to be sensitive to electromagnetic signals, so they can be
protected against passenger’s emitters by means of frequency
separation. In addition, Jahn [3] mentioned that there are two
types of PEDs’ interference, intentional and spurious. The
former is the emissions used to transmit data over the PED’s
allocated frequency band. The latter is the emissions due to
the RF noise level.
Moreover, the existing systems suffer from bandwidth
limitations; the trend toward bandwidth-consuming Internet
services currently cannot be satisﬁed [3]. Passenger number
and categories can be considered as a factor that affects net-
work scalability. For example, the network bandwidth should
be increased if the number of the ﬁrst class passengers was
increased to support the increasing need for video stream.
It is stated by Holzbock [14] that existing indoor channel
models mainly investigate ofﬁce or home environments, thus
these models may not be appropriate for modeling an aircraft
cabin channel. Attenuation of walls and multi path effects
in a normal indoor environment are effects, which are not
expected to be comparable to the effect of the higher obstacle
density in a metallic tunnel. The elongated structure of a
cabin causes smaller losses, than that expected in other
type of room shapes. However, the power addition of local
161
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

signal paths can lead to fading of the signal in particular
points. In addition, small movements of the receiver can
have a substantial effect on reception. The same opinion
was emphasized by Diaz [15].
Different efforts were held to overcome this problem,
Youssef
[16]
used
the
commercial
software
package
Wireless Insite to model the electromagnetic propagation
of different wireless access points inside different types
of aircrafts. Moraitis [17] held a measurement campaign
inside a Boeing 737-400 aircraft to obtain a propagation
development model for three different frequencies, 1.8,
2.1, and 2.45GHz which represent the GSM, UMTS, and
WLAN and Bluetooth technologies, respectively. Path Loss
Modeling was presented by the formula:
PL(d) = FSL(do) + 10n log10( d
do ) (dB)
Where PL(d)) is the average path loss value in (dB)
at a distance d in (m) from the transmitter to the receiver,
FSL(do) is the free-space path loss in (dB) at a reference
distance do, and n is the path loss exponent (decay rate).
The wave-guide effect was expected to be noticeable
since the cabin is considered as a long metallic tunnel.
Thus, the value of n should be lower than 2. However,
his measurements showed that n was found to be slightly
larger than 2; showing that the wave-guide effect was
counterbalanced. This is due to the thick carpet covering
of the ﬂoor, non reﬂective textile covering the seats, and
the gaps between rows of seats trap the transmitted rays.
According to his measurements, he represented the average
seat inserting loss Lseat due to the backrests by the formula:
Lseat = 1
N
PN
i=1(PL
meas
i
− FSLi) (dB)
Where FSLi is the free-space loss at the i-th seat,
PL
meas
i
is the average measured path loss at the i-th
passenger Seat, and N is the total number of seats
The effect of human presence inside the cabin over Ultra
Wide Band (UWB) propagation was addressed by Chiu [18].
He considered three scenarios for placing the transmitter
and receivers; Ceiling to Headrest, Ceiling to Armrest, and
Headrest to Armrest; for each scenario the cabin was empty,
partially ﬁlled, and fully ﬁlled with passengers. For the ﬁrst
two scenarios, the transmitter was mounted at the ceiling
and receiving antennas were mounted at the headrest and
armrest levels. For the last scenario, the transmitter was
located at the headrest level, and the receiver was located at
the armrest level. The measurements showed that the path
gain dropped by no more than a few dB for the Ceiling
to Headrest scenario. and dropped by up to 10 dB for the
Ceiling to Armrest and Headrest to Armrest scenarios. The
measurements concluded that the presence of human body
inside the cabin affects the wireless propagation and must
be considered during wireless design.
Another challenge is that the cabin of an aircraft and the
aeronautical environment in general deﬁne a very speciﬁc
scenario that presents several constraints, which will affect
the coverage and capacity planning. This is due to the fact
that the space is very limited in an aircraft cabin, and its
design allows installing equipment only in speciﬁc locations,
where the conﬁguration of the panels is easy to disassemble
for maintenance [2]. Therefore, the replacement technique
associated with the IFE system components, may affect
the welling of the companies to use them. Replacing time
consuming parts can lead to a long aircraft downtime or
ﬂight delays. Also, a device that fails during the ﬂight,
and is difﬁcult to be replaced, will cause the passenger
to be unsatisﬁed. Consequently, it is advisable to design
components that are easily replaced with the minimum
required technical skill.
III. FROM COMMUNICATION TECHNOLOGIES TO
HETEROGENEOUS ARCHITECTURE
As mentioned by Holzbock [14], wireless Cabin aims
at developing a communication infrastructure consisting of
heterogeneous wireless access networks to provide aircraft
passengers and crew members with access to IFE system.
Passengers are able to access different services through
state-of-the-art wireless access technologies such as W-LAN
IEEE802.11, and Bluetooth.
A. Available technologies
Regardless of different technologies available in the mar-
ket, we are concerned with the ones that can be utilized
inside the cabin
1) Ethernet: Ethernet is currently the standard for wired
communication in different ﬁelds. Haydn [19] showed that
it is characterized by interesting features such as good
communication performance, scalability, high availability,
and resistance to external noise. However, Ethernet cabling
is considered a burden for aircraft design
2) Wireless LAN: WLAN is a well known technology
used in different commercial, industrial, and home devices,
and can easily coexist with other technologies to form a
heterogeneous network [2]. Jim [20] stated that WLAN
and Bluetooth technologies are two complementary not a
competing technologies. They can cooperate together to
provide users with different connecting services.
3) Wireless USB: Universal Serial Bus (USB) technology
allows different peripherals to be connected to the same PC
more easily and efﬁciently than other technologies such as
serial and parallel ports. However, cables are still needed to
connect the devices. This raised the issue of Wireless USB
(WUSB) where the devices can have the same connectivity
through a wireless technology. Neal [21] stated that although
it is difﬁcult to achieve a wireless performance similar to
162
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

wired USB, but the rapid improvements in radio commu-
nication can make WUSB a competent rival. It is based
on the Ultra Wide Band (UWB) technology. In Europe, it
supports a frequency range from 3.1 to 4.8 GHz. Moreover,
Udar [22] mentioned that UWB communication is suitable
for short range communications, which can be extended by
the use of mesh networks. Although WUSB was designed to
satisfy client needs, but it can also be used in a data centre
environment. He discussed how WUSB characteristics can
match such environment. This application can be of a great
help in IFE systems, which strive to massive data commu-
nication to support multimedia services and minimizing the
connection cables. Moreover, Jong [23] discussed the design
issues related to WUSB. He stated that WUSB can support
up to 480Mbps, but in real world it doesn’t give the promised
values; and he showed the effect of design parameters on the
device’s performance.
4) Power Line Communication: A PLC network can
be used to convey data signals over cables dedicated to
carry electrical power; where PLC modems are used to
convert data from the digital signal level to the high power
level; and vice versa. Using an existing wiring infrastructure
can dramatically reduce costs and effort for setting up a
communication network. Moreover, it can decrease the time
needed for reconﬁguring the cabin’s layout since less cables
are going to be relocated.
However, such technology suffers from different prob-
lems. A power line cable works as an antenna that can
produce Electromagnetic Emissions (EME). Thus, the PLC
device must be Electromagnetic Compatible (EMC) to the
surrounding environment. This means that it must not pro-
duce intolerable EME, and not to be susceptible to them. To
overcome this problem, the transmission power shouldn’t
be high in order not to disturb other communicating de-
vices [10]. However, working on a limited power signal
makes the system sensitive for external noise. In spite of
this, the PLC devices can work without concerns of external
interference due to two reasons. Firstly, the PLC is divided
into segments; this minimizes signal attenuation. Secondly,
all the cabin’s devices are designed according to strict
rules that prevent EME high enough to interfere with the
surrounding devices.
5) Smart Antennas: A smart antenna is a multi-element
antenna where the emitted signal from each element can be
controlled to direct the antenna’s beam towards a certain
direction as well as controlling the transmission power [24].
This feature is of great importance for ad-hoc networks
domain where interference and power saving are two major
issues.
Moreover, Okamoto [25] stated that smart antennas can
provide the wireless environment with different advantages.
First, it can signiﬁcantly reduce the multi-path fading effect.
Second, it minimizes the power consumption required for
communication. Third, it can improve the system’s Signal-
to-Interference Ratio (SIR).
B. The heterogeneous architecture
IFE system is a ﬁeld starving for unusual ideas. Passen-
gers can be satisﬁed by receiving services dedicated to a
single user, but it will be more amusing if they can be offered
services for multiple users, where passengers of similar
interests can share their time. Using a single communication
technology inside the cabin can’t yield satisfactory results,
but a combination of different technologies can have a great
impact on the provided services.
The term heterogeneous in the networking domain usually
implies the mix between wireless and wired networks. How-
ever, we mean by heterogeneity, the existence of different
networking technologies cooperating together to achieve
certain services. The network can be divided into User
Technology and System Technology. A User Technology is
the technology apparent and directly used by the user (i.e.,
Bluetooth, WiFi, etc.) to connect his devices to the system.
A System Technology is the technology used by the system
and is hidden from the user (i.e., PLC).
Figure 1.
Heterogeneous network architecture
In our proposed heterogeneous architecture, we suggest
the usage of a PLC network to convey data between a data
server and the passengers’ seats where he use his PEDs.
In addition, wireless Access Points (APs) are connected to
the PLC backbone as well; while WUSB is used to provide
a way to connect some USB devices to the network (see
Figure 1).
C. Architecture evaluation
In this section, we will introduce some experimentation
results to show the applicability of the proposed technologies
for a cabin’s IFE system
1) PLC: The proposed PLC system is shown in Figure 1;
it consists of a Power Line Head Box (PLHB) and a Power
Line Box (PLB). The PLHB connects the two terminals of
the power line to connect the data server with the seats.
Each PLHB service a group of seats, which are equipped
with PLB per seat. The PLB is responsible for distributing
the signal received by the PLHB to the seat’s SEB. both
PLHB and PLB devices can be conﬁgured through their
163
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

internal web interface to deﬁne their IP address and other
conﬁguration parameters.
The MGEN (version 4.2) [26] trafﬁc generator was used to
emulate the trafﬁc produced by the data server, and a laptop
was used as a substitute to the SEBs. A trafﬁc of 3480 bit/sec
was used to represent each seat, so a total trafﬁc of 3480×20
bit/sec was injected into the PLHB. The target of the test
was to collect different statistics to study the behavior of the
PLC system by injecting periodic trafﬁc ﬂows at constant
intervals.
Figure 2.
Flow rate of all ﬂows
Figure 2 shows the sum of ﬂows’ rates. The stepping of
the ﬂow rate is constant indicating that the PLC connection is
able to carry the injected trafﬁc, and each PLHB can support
up to 20 PLBs at a rate of 3480 bit/sec for each PLB. In
addition, Figure 3 represents the packet count of the ﬁrst
ﬂow. It is clear that the packet count stayed constant from
the start to the end of the simulation without being affected
by the injection of the subsequent ﬂows. This emphasis the
same results derived from Figure 2.
However, it is normal to have packet dropping during
transmission. Figure 4 shows the obtained loss fraction;
it is less than 0.05, which can be considered as a good
value. Such conﬁguration can provide the IFE with a way to
provide video services by using the existing power cabling.
2) WLAN: We held different NS2 [27] simulations to
propose a good distribution for the wireless Access Points
(APs) inside the cabin. We used the same cabin conﬁguration
used by Alexandaros [28]. The cabin consists of 26 rows
with 6 seats each (3 on each side of the aisle); this gives a
total of 156 seats. The cabin is 21m long and 3.54m wide.
The rows’ separation distance is 81cm. By default, NS2 uses
the standard 802.11 protocol which supports 2Mb rate. We
used the more reliable 2Mb physical layer than the upper
Figure 3.
Packet count of the ﬁrst ﬂow
Figure 4.
Loss Fraction
standard (i.e., 802.11b,g) since the transmission environment
inside the cabin is not optimum.
A wireless node - representing a passenger’s device - is
located at the position of each seat, and APs are used to
connect them with the data server. Using large number of
wireless devices in a very narrow metallic tunnel like the
cabin has a dramatic effect on the network’s performance.
For this reason, we are studying the effect of using frequency
separation between APs. However, we need to determine the
minimum number of APs required to cover the whole cabin,
and their distribution inside the cabin, so we experimented
with three scenarios. In scenario ’A’, all nodes (each has
a transmission range covering the whole cabin) are using
the same communication channel. Scenario ’B’ uses nodes
164
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

with short transmission range, which allows connection only
to the nearest Access Point (AP), while using the same
channel. Scenario ’C’ shows nodes with short transmission
range and using channel separation. The channel separation
in the third scenario is based on the fact that 802.11 only
allows the usage of three non interfering channels (i.e.,
channels 1, 6, and 11). The impact of the three scenarios
over average throughput, average delay, and number of
transmitted packets is studied.
Figure 5.
APs distribution
Each scenario was repeated 5 times while using different
numbers of Aps located at the aisle. We started by using
one AP and the number is incremented until we reached the
maximum number of APs, which was determined according
to the cabin’s dimensions. The AP’s transmission power was
adjusted to minimize the transmission range, so the signal
can travel a distance just enough to reach the seat beside the
window in order to minimize the effect of its reﬂection. This
allowed us to use a maximum number of 5 APs (Figure 5).
Figure 6.
Packets sent by the transmitter
For all scenarios, the nodes (156 node + APs) were
conﬁgured to have a large queue that can hold up to
1000 packets in order to prevent packet dropping. The
transmission power was adjusted to 10mW as the minimum
value deﬁned in the 802.11 standard. In scenarios that use
different channels, Channels 1, 6, and 11 were adjusted to
their frequencies 2.412e9 Hz, 2.437e9 Hz, and 2.462e9 Hz
respectively. The Rx threshold was determined according to
the required transmission range. It was calculated by the tool
”Threshold” provided as a separate program with the NS2
simulator. Table I shows the values used with each number
of APs. For each simulation, the APs were distributed evenly
throughout the aisle to provide a full coverage for the cabin.
Number of
Transmission range
Rx threshold
APs
(meters)
1
10.5
8.97474e-9
2
5.25
3.58989e-8
3
3.5
8.07726e-8
4
2.625
1.43596e-7
5
2.1
2.24368e-7
Table I
RX THRESHOLD VALUES
Figure 7.
Average Throughput
Figure 8.
Average Delay
When comparing the three scenarios we can ﬁnd that us-
ing just different number of APs doesn’t have a great impact
on the networks performance, but when accompanied with
channel separation the networks performance is dramatically
enhanced. Figure 6, Figure 7, and Figure 8 combine the
results of scenarios A, B, and C. It is noticeable that there
is no great difference between scenario A and B; this is due
to the existence of large number of nodes in a small area. In
addition, there are many nodes in the shared zone between
every two APs. In this zone, nodes are able to detect two
APs, but they select just one of them. In other words, on the
physical level signals are interfering, while on the logical
level only one AP is seen. However, as the number of APs
increase, the difference between scenario A and B starts to
increase slightly; this is because the number of nodes in the
shared zone becomes less, so the interference decreases. On
165
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

the contrary, when using channel separation (i.e., scenario C)
performance was dramatically enhanced after using 3 APs
It is worthy to note that the number of nodes assigned
to each AP affects its performance; the fewer nodes we
use, the higher performance we get. When using 1, 2, 3,
4, and 5 APs, each AP will have 156, 78, 52, 39, and 32
nodes respectively. However, the difference in the number of
assigned nodes with 3, 4, and 5 APs is small. This justiﬁes
the reason for saturation after using more than 3 APs; where
APs almost handles the same amount of APs
Figure 9.
Average Throughput for different number of nodes
The results in Figure 7 showed that the best values
introduced by scenario C is relatively small (i.e. 12 KB/sec);
this is due to the high number of nodes within a small area
causing interference between them. However, we have to
highlight some issues. First, the APs are not used to convey
video streaming; they are used to provide the passenger’s
PED with simple internet services, while video entertain-
ment is achieved through the VDU dedicated for the IFE
system. Second, we used the more reliable 802.11 version
that supports 2 MB rate; this means that the passengers in
the cabin can not be connected to the outside with a rate
higher than that. Third, GPRS connections support a rate of
100 kb/sec, so that, if the performance degraded more than
indicated in Figure 7 the PEDs can achieve internet services
with the GPRS rate.
To study the effect of nodes’ number we repeated sce-
nario C with 30 and 40 nodes. Figure 9 shows that the
network almost has the same behavior and the Average
Throughput was greatly enhanced when the number of nodes
decreased. This behavior shows the Airlines companies that
they have two trade offs, either to provide a free internet
service with poor performance, or to have a controlled
access to keep acceptable performance. Consequently, a free
internet access can be introduced in small ﬂights since not all
passengers are going to access the internet simultaneously,
some of them will use other IFE services, or sleep, or
talk. On the other hand, a prepaid internet access can be
used in large ﬂights where number of internet users will be
considerably large.
3) WUSB: WUSB to connect passenger’s devices seems
to be an appealing solution since it doesn’t require any
additional adapters or connectors, and avoids interference
Elapsed time
Delay ratio
WUSB
915secs
((344/915)*100)-100=62.4%
Wired USB
344secs
Table II
WUSB VS WIRED USB
with other wireless technologies (i.e., WLAN, Bluetooth,
etc.) by using different bandwidth.
Figure 10.
WUSB test-bed
Figure 10 shows our WUSB experimentations test-bed.
WUSB Host and Device dongles were used to connect USB
devices. The Host dongle is connected to the computer USB
port, while the Device dongle connects the USB devices.
The dongles driver allows changing of transmission as well
as the transmission channels.
• Connecting different USB devices:Connecting multiple
USB devices (i.e., mouse, and keyboard) was done in
two different ways; ﬁrstly by using two Device dongles
for each USB device, secondly by using a USB hub.
The results of the ﬁrst approach were not satisfactory
because the two dongles were using the same channel
causing interference between them. However, the Host
dongle has the ability to choose between seven different
channels. In other words, it is possible to use seven
Hosts at the same transmission range without any
interference between them. The second approach gave
better performance. Moreover, a hub is much more
economical than using a WUSB dongle dedicated for
each device.
• File transfer:It is important to know if WUSB is
capable of transferring large ﬁles, and to what extent
it is comparable to wired USB, so 4064 ﬁles of size
892MB were transferred to a ﬂash USB storage device
using WUSB and wired USB.
The results shown in Table II indicate that WUSB are
slower by almost 60% than wired USB.
• Transmission range with different power levels:The test
started by putting the Host dongle and the Device
dongle on the same line of sight; then the device dongle
is moved away until it is disconnected. The same pro-
cedure was repeated while using two Device dongles.
The two dongles are placed at the same horizontal level
with a separation of few centimeters, and are moved
together. The whole experiment was repeated while
changing the dongles transmission power level (i.e.,
166
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

low, normal and strong).
As shown in Table III, the existence of two dongles at
the same area, and working at the same channel has a
dramatic effect on transmission range, so when consid-
ering that the distances between seats inside the cabin is
considerably short when compared with the minimum
transmission range, then it is highly recommended to
use different channels for neighboring dongles.
Transmission power
Max achieved distance in meters
between Tx and Rxs
Single device
Dual device
Low
7
4.2
Normal
12
6.3
Strong
16
8.4
Table III
TRANSMISSION RANGE
4) Smart Antennas: Smart antennas can be used for node
localization in WSN networks. Zhuhong [29] mentioned two
methods for determining node’s position, the range-based,
and range-free methods. The ﬁrst depends on the distance
and angle information, while the later depends on estimating
the location through the information of transmitted packets.
According to this categorization, we will consider the range-
based approach to provide our proposed protocol with the
information necessary to allow each VDU to determine the
position of its own PCU.
The smart antenna’s location can be an issue for many
arguments. One opinion is to ﬁx the antenna in the seat’s arm
and to be directed towards the VDU, so the PCU will only
act as a keyboard. Although this is an appealing solution, but
it decreases the easiness of installation and reconﬁguration of
seats, and it may require physical changes to the seat arm’s
design. In addition, any changes in the position of the front
seat’s back, or the seat’s arm itself (which can change its
orientation in some types of seats) can affect the connection.
For these reasons we propose to locate the antenna in the
PCU itself. Our proposed protocol can provide a mechanism
to determine the PCU’s position; which can be determined
by the proposed protocol as shown in the next sections.
IV. DESIGN OF THE PROPOSED PROTOCOL
For every VDU in the IFE system, there is a dedicated
PCU to allow the passenger to choose his selections. Thus,
each VDU is surrounded by different number of PCUs.
Selecting the appropriate comrade is not an easy task espe-
cially if we considered that the PCUs are neither predeﬁned
nor pre-assigned for any VDU. Nevertheless, using non-
conﬁgured PCUs makes the system more maintainable with
respect to device failure where any failing device can be
replaced instantaneously, and automatically recognized by
the system. Accordingly, each VDU has to ﬁnd its own PCU.
Device identiﬁcation and device localization are usually
treated in the literature as separate problems and are usu-
ally addressing outdoor situations. Radio frequency (RF)
ﬁngerprinting techniques [30]–[32] were used to identify
wireless devices specially for security reasons. On the other
hand, smart antennas are usually used for localization pur-
poses [33], [34]. We did not ﬁnd references of work done
with the same assumptions, considering that our proposed
protocol utilizes the localization capabilities of smart anten-
nas to introduce a device identiﬁcation technique.
The smart antenna technology can provide a signiﬁcant
help in such environment. First, it can overcome the draw-
backs of some physical hindrances such as interference, and
multipath fading. Second, it can provide the system with the
location information between each transmitter and receiver
in terms of distance and angle.
This information can be used in the coupling process
between VDUs and PCUs; when a VDU is able to know
the location information of the surrounding PCUs, it will be
possible for it to select the required partner. However, such
process needs a selection mechanism able to differentiate be-
tween the targeted and the unconcerned neighboring devices.
Accordingly, the proposed protocol can use this information
to allow the VDU to select its PCU without being confused
by the large number of surrounding devices. The protocol
is able to sense all the devices within range, identify the
required device, and ﬁnally select it. Moreover, it is able to
detect if the required device is out of service or not.
A. General requirements
Depending on the seats layout, each VDU is surrounded
by one or more PCUs. When the system is started, these
PCUs are not assigned to any VDU, so It is the task of each
VDU to ﬁnd its own PCU. The following problems may
occur:
• A situation may exist where more than one PCU exist
in the range of the same VDU. In this case, the protocol
should be able to use the provided location information
(i.e., angle and distance) to determine the suitable PCU.
• When the link between a VDU and its PCU is broken,
the protocol must be able to detect the situation and
determine if it is due to a PCU failure or because the
user had moved it out of the VDU’s range.
• When a failing unit is replaced (either a VDU or a
PCU), it must be self conﬁgured to take its role in the
network
Figure 11 shows a normal seat conﬁguration where each
VDU is ﬁxed in its own seat and surrounded by different
PCUs. The protocol has three phases, conﬁguration phase,
normal operation, and re-conﬁguration phase.
• Conﬁguration Phase: This phase occurs during the
system’s startup. It is responsible for determining the
network’s topology. Each VDU checks the availability
of its PCU and responds with its status.
• Normal Operation: In this phase, the protocol must be
aware of the availability of its assigned PCU.
167
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

• Re-conﬁguration phase: It occurs when a VDU fails to
connect to its PCU or vice versa. After the failing unit
had been replaced or re-operated, it should be able to
join the network automatically.
Figure 11.
VDUs and PCUs distribution
B. Speciﬁcations
The protocol should be able to allow each VDU to ﬁnd
its own PCU and provide their connection status. In other
words, it is not the protocol’s responsibility to transfer data
between nodes. Transferring data like audio or video streams
can be accomplished by other protocols (i.e., TCP/IP).
The protocol should provide the running applications with
information required to take certain actions (i.e., warnings
due to a failing PCU). The following is a list of the proposed
services:
• Multiple PCUs awareness: The protocol should be able
to detect multiple PCUs that may exist in the VDU’s
range and select the appropriate one.
• ID assignment: The protocol should automatically as-
sign a unique ID to both of the PCU and the VDU so
they can communicate with each other.
• Failure reports: A failing VDU or PCU should be
detected and reported.
• Self adaptation: After replacing a failing device, it must
be able to join the network automatically.
• PCU out of range: when a user moves or directs the
PCU away of the VDU, the protocol should be able to
identify this situation and differentiate between being
out of range and out of service.
C. Functionality and studied use cases
When the system is started, the Conﬁguration Phase is
initiated. In all scenarios, the VDU broadcasts a QRY search
request and waits for replies within a predetermined time
interval to prevent indeﬁnite wait states. The next step is
to use the angle information to exclude the PCU(s) behind
it (since it is only interested in the PCUs at its front side)
and starts to handle the other PCU(s) of valid replies (i.e.,
seat ’D’ in Figure 12). All functioning PCUs, which are not
assigned to another VDU will respond to the request. The
correct PCU should be located at the nearest distance on
the right side of the VDU, so the selection procedure looks
for the responding PCU, which has the least angle with the
vertical ”Y” axis, and the shortest distance. However, there
may be a case where two PCUs are too close to each other
to the extent that the VDU can’t accurately determine the
differences between their angle and distance. In this case
the VDU asks them to start negotiation between each other.
These situations are presented in Figure 12 and Figure 13
to present the following scenarios:
Figure 12.
Different scenarios for less than three valid PCUs
1) No PCU(s): When The VDU doesn’t receive a reply
for its search request, it raises an error to indicate that
no PCU(s) are within its range, and enters a search
state until a PCU is found. (i.e., seat ’A’).
2) Best case: only one valid PCU is located in its
correct position within the VDU’s range: The VDU
sends a QRY join request and the PCU replies with a
QRY accept to conﬁrm the assignment (i.e., seat ’B’).
3) Two PCUs: If the VDU received 2 valid replies within
the time limit, then this indicates the presence of two
PCUs within the range (i.e., seat ’C’). The PCU with
the smallest angle with respect to the ’Y’ axis is
selected. If two PCUs are too close for the system
to differentiate the difference in angle, then the PCU
with the shortest distance is selected. If the difference
in distance can’t be determined, then the VDU sends a
QRY negotiate request to authorize the PCUs to elect
one of them. The negotiation result is returned to the
VDU to know its elected PCU.
4) The worst case is the existence of more than two
PCUs: If the VDU received more than two valid
replies, then it starts to sort them in ascending order
ﬁrstly according to their angle to the ’Y’ axis ,
secondly according to their distance. It is expected
that the required PCU has the smallest angle and the
shortest distance on the right of the ’Y’ axis. There are
different scenarios for this situation (see Figure 13).
Table IV shows how each situation can be handled.
• Seat ’E’: PCU1 was selected because it has the
smallest angle on the right side of the ’Y’ axis.
• Seat ’F’: PCUs 1&4 are ﬁrstly selected since
they are at the right side. However, they have
equal angles, so their distance is checked.. Finally,
PCU1 is selected because it has a shorter distance.
168
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Seat
Situation
Selection criteria
Angle
Distance
Negotiation
E
Small angle
1
-
-
F
Same angle
1&4
1
-
G
Too close(same angle
1&2
1&2
1
& distance)
Table IV
SELECTION CRITERIA
• Seat ’G’: PCUs 1&2 were selected according to
the angle and distance criteria. They are too close
to each other to the extent that the VDU can’t
differentiate between their angles and distances,
so the VDU initiates a negotiation session to elect
one of them. Finally, PCU1 is selected.
Figure 13.
More than two PCUs within range
Figure 14.
Failing PCUs scenarios
In fact, the real world is not that simple. If faults exist,
then there will be exceptions in the above scenarios. For
example, if the correct PCU was not functioning, then a
wrong PCU can be chosen. This means that a PCU failure
may affect its VDU as well as its neighboring VDU(s). To
overcome this situation, the angle of the 1st PCU in the left
quarter is always considered (i.e., PCU2). For instance, at
seat ’H’ (see Figure 14), if the angle of the recommended
PCU for selection (i.e., PCU4) is greater than the angle of
PCU2, this indicates that PCU1 is not working. This is due
to the fact that the correct PCU must have the smallest angle
and shortest distance to its VDU.
Unfortunately, this scheme doesn’t solve the problem of
seat ’I’ where the angles and distances of PCU3 and PCU4
are equal, so they will enter a negotiation phase that ends
up with electing PCU4 (which is not correct). Therefore, it
is mandatory for PCUs to wait before starting negotiation
to allow the wrong PCU (i.e., PCU4) to be chosen by its
appropriate VDU (i.e., seat ’J’). In this case, seat ’I’ can
raise an error for not ﬁnding its PCU.
For seat ’K’, PCU4 angle is equal to PCU2 angle, but
with a greater distance, so PCU4 is not the correct PCU. In
addition, each VDU has to inform all the PCUs in its range
that it had found its PCU. On the other hand, a PCU, which
knows that all the surrounding VDUs had found their own
PCU will understand that its VDU is not functioning.
D. Selection mechanism
Each VDU creates a list of the surrounding PCUs contain-
ing their location information. At the start of the selection
procedure, the VDU deletes from its PCUs list all the PCUs
instances behind it, and then two lists are created, one for
PCU(s) on the left hand side, and the other for PCU(s) on the
right hand side. The two lists are sorted in an ascending order
according to their angles. After sorting, the two lists can be
categorized as shown in Table V. The table shows the actions
that should be taken according to each state; remember
that selection is taken according to angle, distance, and
negotiation, respectively.
State
Number of PCUs
Action
Left zone
Right zone
1
≥0
0
Raise an error
2
0
1
Wait then select the PCU
3
0
>1
Select (according to angle,
and distance, or negotiation)
4
≥1
≥1
Compare → Wait → Select
Table V
DOMAIN OF PCUS OCCURENCIES
• Angle selection: For state1, an error is initiated when
there are no PCUs in the right zone. For state2, if only
one PCU is present in the right zone then it will be
selected after waiting for a time interval. The waiting
time is important in case that the correct PCU is not
functioning where another PCU may be selected. The
waiting time gives the other PCU(s) the chance to be
selected by its own VDU(s). This will lead to raising
an error after the malfunctioning PCU is not detected.
For state3, the selection between PCUs in the right
zone is performed according to their angle and distance,
or ﬁnally by negotiation. For state4 where there is at
least 1 PCU in each zone, the selection is performed
according to their angles where θ1 and θ2 represent the
angles of PCUs in the right and left zones, respectively.
The angle of the ﬁrst PCU in both zones (with respect to
the Y axis) is compared and actions are taken according
to Table VI. Note that the absolute value of angles is
used in the comparison.
169
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Condition
Action
θ1 < θ2
θ1 is selected if no other PCU in the right
zone has the same angle, other wise
a distance selection is performed
θ1 > θ2
Error is raised
θ1 = θ2
Selection according to distance is performed
Table VI
ANGLE SELECTION CRITERIA
Seat
Differences in
Action
r
θ
L
-ve
Zero
PCU 1 is selected
M
-ve
-ve
PCU 2 is selected
N
Zero
-ve
PCU 1 is selected
P
+ve
Zero
Error is Raised
Table VII
NEGOTIATION ACTIONS
• Distance selection: When two or more of the selected
PCUs at the right side have the same angle, the PCU
with the shortest distance ”r” is selected. If two PCUs
have the same shortest distance, then a negotiation is
started to elect one of them and inform the VDU with
the result.
Figure 15.
Negotiation cases
Figure 16.
Negotiation cases
• Negotiation selection: The negotiation session is shared
between the VDU, which initiates the request, and
the PCUs that participate in the negotiation. Firstly,
the VDU creates a Participation List for all of the
concerned PCUs, it then sends a negotiation message
that includes the list to each of the participants, and
waits for their reply. Each PCU receives the message
and tries to ﬁnd its position with respect to the others.
Each PCU is already aware of the VDU’s position.
Figure 16 shows different cases of negotiation and
Table VII shows the related actions. For seat ”L” PCUs
1&2 are able to communicate with each other and to
decide that PCU1 is nearer to the VDU. The same thing
happens to seats ”M & N”. For seat ”P”, they will
notice that PCU2 is the nearest but with larger distance;
this may be due to a failing PCU, so an error is raised.
V. PROTOCOL DESIGN AND EVALUATION
Fixing bugs in a protocol is an important and often
the highest priority activity. Tracking down bugs, in non
predeﬁned protocol speciﬁcations, is a challenge to many
designers. Checking protocol correctness is often done using
veriﬁcation techniques such as ”Reachability Analysis” [35],
which searches through all reachable states. It is almost
impossible to do an exhaustive test, which often requires
100% of the reachable states. Another approach can be used,
which is program proof. This requires an automated solution
for analyzing and testing the design, so we used TAU ver-
sion 3.1 [36] to build and verify our UML model. UML lan-
guage is a formal language ensuring precision, consistency,
and clarity in the design that is crucial for mission critical
applications. It has a high degree of testability as a result of
its formalization for parallelism, interfaces, communication,
and time. After identifying the protocol’s functionality, NS2
simulator was used to apply more scenarios and show the
protocol’s performance.
A. The UML model
The informal techniques used to design communication
protocols (i.e., timing diagrams) yield a disturbing number
of errors or unexpected and undesirable behavior in most
protocols, so we are interested in formal techniques, which
are being developed to facilitate design of correct protocols.
It is accepted that the key to successfully develop a system
is to produce a good system speciﬁcation and design. This
task requires a suitable speciﬁcation language, satisfying the
following needs:
• A well designed set of concepts.
• Unambiguous, clear, and precise speciﬁcations.
• A thorough and accurate basis for analyzing the spec-
iﬁcations.
• A basis for determining whether or not an implemen-
tation conforms to the speciﬁcations.
• Computer support for generating applications without
the need for the traditional coding phase.
UML language has been deﬁned to meet these demands.
Three different layers were modeled, Upper, Protocol, and
Lower layers. The Upper layer initiates the session by a
request to start the search phase and waits for the results;
while the Lower layer provides the protocol layer with the
distance ”r” and the angle ”θ”. The Protocol layer provides
the necessary functionality that our protocol needs to work
correctly. In addition, a model was used to represent the
environment and determines the number of PCUs and their
locations with respect to the VDU.
170
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

1) The model’s structure: The protocol’s model consists
of three main classes; VDU and PCU classes - to represent
the behavior of the VDU, the PCU - and the Network class,
which determines the scenario parameters. Each scenario
consists of a VDU, and a set of PCUs of different locations.
The Network class is responsible for informing the working
instances of the VDU and PCU(s) with their locations.
Figure 17.
Model structure
Figure 18.
VDU Class
Both of the VDU and PCU classes consist of three internal
classes, the Upper Layer class, the Protocol Layer class, and
the Lower Layer class (see Figure 17). The Protocol Layer
class represents the core of the protocol, while the other two
layers are just assistances to provide the needed services.
The connection between these layers and the surrounding
environment takes place through the main class (i.e., VDU
class, PCU class). Figure 18 represents the VDU class as
an example of the UML structures. Each internal class has
input and output interfaces to communicate to each other.
The lower layer class has interfaces to the containing VDU
class to allow it to communicate with external entities.
For example, to start a search request, the request is sent
from the Upper Layer to the Protocol Layer where the cor-
rect decision is taken and the required action is determined.
Now, the action should be sent to a corresponding instance
(i.e., PCU). A signal is sent to the Lower Layer then to
the containing class, which in turn sends the signal to the
corresponding instance. When the corresponding instance
receives the signal, the signal reaches the Protocol Layer
of the instance through the same reversal internal path.
On the other hand, the Network class has a different struc-
ture since it is not concerned with the protocol’s behavior.
It determines the VDU and PCU instances, and provides the
working instances with their location information in order
to simulate the services provided by the smart antennas
2) The model’s behavior: An example for the model
behavior is shown in Figure 19. As an initial preparation,
the Network class sends the location information to the
VDU and PCU(s) instances so that each instance knows its
own location (signal 1). After the VDU had received its
initialization data, its Upper Layer sends a search request to
its protocol layer (signal 2). The Protocol Layer broadcasts
this request to the neighboring PCU(s). When the Protocol
Layer of a PCU instance receives the request, it replies with
a signal that shows its presence (signal 3).
Figure 19.
Model’s signals
The VDU waits until it receives the replies to count the
number of available PCUs. If no PCU had replied, then an
error message is sent to the upper layer (signal 4). If one
or more PCU had replied, then a selection procedure starts.
The result of this selection is used to send a ”Join” signal to
the selected PCU (signal 5) and waits for its ”Reply” signal
to conﬁrm its joining (signal 6). The conﬁrmation is sent to
the upper layer to inform it with the PCU that belongs to
the PCU (signal 7).
B. performance evaluation
Obviously, TAU can provide us with a way to verify the
correctness of the protocol through limited scenarios. It is
difﬁcult to use it to experiment with complicated scenarios,
and determine performance issues. NS2 simulator [27] was
used as the next step. It is a part of VINT (Virtual INternet
Testbed) project [37]. It is an open source simulator that
171
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

can be used to evaluate different issues for both wired and
wireless networks. In the simulation part we are trying to
verify the written code for the NS2 as well as to ﬁnd out
the protocol’s points of weakness.
Figure 20.
Threshold area
A problem that faced us was the unavailability of a smart
antenna module embedded in NS2 because the protocol’s
behavior is highly dependent on their presence. However,
this was not a great issue because NS2 keeps track of the
location of each node in the simulation through the class
MobileNode. This means that the results of the simulation
represents the actual performance of the protocol’s behavior.
The NS2 simulation is deﬁned by TCL scripts, and C++
codes where the protocol’s module was implemented in
C++ and linked to the TCL script for further conﬁguration.
For example, if we used the provided coordinates we will
never be able to start a negotiation session, because the
VDU will always see that the PCUs are of different angles
and distances. In other words, to implement negotiation
scenarios, the VDU must consider the PCUs as if they are
coinciding. This was solved by using a Threshold variable
(changed through the TCL script) through which two PCUs
are coinciding if the distance between them is less than the
Threshold value. The Threshold area is represented by dark
circle in Figure 20, which represents two coinciding nodes,
when they are located within a circle of radius equal to the
Threshold value, and are considered non-coinciding if the
distance between them is greater than the Threshold.
Figure 21.
NS2 extra scenarios
In addition to the scenarios mentioned before (i.e., seats
”A” to ”P”), we implemented two extra scenarios (see
Figure 21) Seat ”Q” represents an error situation (because
there isn’t any PCUs in the right area). Seat ”R” represents a
normal operation. They are almost like the situations of seat
”A” and ”B” respectively, but we used them just to prove
that the existence of multiple PCUs within the same region
doesn’t affect the correctness of the selection
Source
Message
Meaning
VDU
Search Request
Starts the search phase
Search Join
Accepts its own PCU
Negotiate
Starts a negotiation session
PCU
Search Reply
A respond to Search Request
Search Accept
A respond to Search Join
Negotiate Request
Starts negotiation between PCUs
Negotiate Accept
Conﬁrms acceptance of
Negotiate Request
Negotiate Reply
A respond to Negotiate
Table VIII
MESSAGES LIST
Table VIII summarizes the types of messages exchanged
between VDUs and PCUs instances. They are categorized
according to the initiating device. The message sequence
depends on the type of situation if it is a normal operation
(Figure 22) or an error situation (Figure 23) or a negotiation
operation (Figure 24).
Figure 22.
Normal operation
Figure 22, Figure 23, and Figure 24 show timing dia-
grams for three categories of scenarios, normal operation,
error operation, and negotiation operation respectively. Each
message is labeled by its transmission time stamp. When it
happens that the same type of message is sent from different
transmitters we choose the time stamp of the latest one
(maximum value). For example, when the VDU broadcasts
a Search Request message, it receives a Search Reply mes-
sage from all the neighboring PCUs. In this case we choose
the time stamp of the last received Search Reply. At the right
side of the ﬁgures, we calculated the time delay between
each two successive messages. At the bottom of the ﬁgures
we indicated the scenarios (i.e., seats), which match each
operation.
172
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 22 shows the results of normal operation scenarios
where the VDU broadcasts the request and the PCU(s)
send(s) their replies. The VDU decides, which PCU is the
required one and sends a join request for the chosen one,
which in turn replies with its acceptance. It is obvious that
the maximum delay in this operation is the wait period,
which the VDU uses to wait for all available PCUs to
respond. The delay was set to approximately 2secs. The
value was chosen to be relatively large to show its impact on
the protocol’s performance; considering that the processing
time of the requests is trivial when compared to the wait
time.
Figure 23.
Error operation
Figure 23 shows the fastest operation, which took place
when the required PCU is not detected. After waiting for the
delay period (i.e., 2secs) through which it receives all the
Search Reply messages (if any). The VDU raises an internal
error to show the failure of ﬁnding the PCU.
Figure 24.
Negotiation operation
Figure 24 shows the most time consuming operation,
which takes place during negotiation between PCUs to elect
one of them. The ﬁrst part is the same as the start of a
normal operation, but when the VDU fails to distinguish the
location difference between two PCUs where one of them is
probably the required one, it asks them to start negotiation
and elect one of them. The most time consuming parts are
the waiting periods (mentioned above), and the negotiation
process between the PCUs. Each of them is about 2 s.
Figure 25.
Convergence time
Figure 25 shows a comparison for the convergence time
of each operation. It indicates that the negotiation operation
is the slowest one, while the difference between a normal
operation and an exception (error) is not large. However,
the delay of the slowest case is still acceptable during
the system’s startup. On the other hand, no signiﬁcant
comparison can be made to previous work since the wireless
cabin environment is still under investigation.
VI. CONCLUSION AND FUTURE WORK
Heterogeneous network architecture is a promising so-
lution for such application. Using PLC networks can be
a competitive solution since it decreases the amount of
cabling inside the cabin, and can be used to connect the
APs (to support mobility) directly to the network system.
Moreover, it overcomes the interference constrain, and can
provide enough bandwidth to support heavy trafﬁc required
for multimedia services. When combined with WUSB, it
becomes easier for passengers to connect their PEDs.
Through experimentation results and simulations, this
work proves that it is possible to build a heterogeneous
network, which contains all the mentioned technology; each
to solve a certain part of the problem. Multimedia content
distribution supported by PLC and Ethernet architecture
added to personal communication supported by WUSB
and WiFi can provide the IFE system with a satisfactory
solution needed for such systems. This can be done without
interfering with each other.
Smart antennas can solve or minimize interference prob-
lems. However, new wireless technologies like smart an-
tennas require special mechanisms to fully utilize their
capabilities. The proposed protocol is designed to use these
capabilities to provide the IFE remote control with self-
conﬁgurable wireless characteristics. Although the proto-
col’s procedures seems complicated, but in fact they are
not because it depends on comparing existing information
without using excessive messaging. This behavior enhances
the convergence time and the protocol’s performance.
173
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

The UML model and the NS2 simulation proved that the
proposed protocol is able to utilize the location information
provided by the smart antennas to allow each VDU to
detect its own PCU. Moreover, the protocol considered the
probable failure situations, and was able to detect and handle
them. However, the protocol point of weakness is its internal
timer. The simulation results showed that the value of the
timer has a great impact on convergence time.
In addition, the usage of an UML model before creating
a NS2 simulation had proved to be of great importance
to the protocol’s design life time. Although designing the
UML model seemed to be a time consuming part, but it
saved the effort of bug tracking and semantic errors during
implementing the NS2 module.
In this phase of the work, we aimed to have a proof
of the concept to show the feasibility of our proposed
protocol. The next step is to enhance the written code
by using better data structures to minimize the processing
delay and improve the convergence time. In addition, we
are aiming at trying simulations that represent a real cabin
conﬁguration, and inject scenarios with randomly failing
devices. Furthermore, we are looking forward to implement
a real test-bed to experiment the performance of our protocol
in a real environment.
REFERENCES
[1] Akl A., Gayraud T., and Berthou P., “Investigating Several
Wireless Technologies to Build a Heteregeneous Network for
the In-Flight Entertainment System Inside an Aircraft Cabin”,
The Sixth International Conference on Wireless and Mobile
Communications (ICWMC), pp 532-537, 2010.
[2] Niebla C.P., “Coverage and capacity planning for aircraft
in-cabin wireless heterogeneous networks”, IEEE Vehicular
Technology Conference, pp 1658-1662, 2003.
[3] Jahn A. and Holzbock M., “Evolution of aeronautical com-
munications for personal and multimedia services“, IEEE
Communications Magazine, vol 41, pp 36-43, 2003.
[4] Thales
IFE
site:
http://www.thales-ifs.com/,
last
visited:
13 July 2011.
[5] AeroMobile
site:
http://www.aeromobile.net/,
last
visited:
13 July 2011.
[6] FlyNet site: http://konzern.lufthansa.com/en/themen/net.html,
last visited: 13 July 2011.
[7] Folden D., Jackson T., Panique M., Tiensvold R., Wolff R.S.,
Howard T., Julian E., Junkert L., Lopez D., and Oudshoorn
M.J., ”An Aircraft Cabin Wireless System for Games and Video
Entertainment“, ACM Computer in Entertainment, pp 1-17,
2007.
[8] Liu H., ”In-Flight Entertainment System: State of the Art
and Research Directions“, Second International Workshop on
Semantic Media Adaptation and Personalization (SMAP 2007),
pp 241-244, 2007.
[9] Alamdari F., ”Airline in-ﬂight entertainment: the passengers’
perspective”, Journal of Air Transport Management, vol 5,
pp 203-209, 1999
[10] Hrasnica H., Haidine A., and Lehnert R., “Broadband Pow-
erline Communications Networks”, John Wiley & Sons Ltd.,
2004.
[11] Mcauley A. J. and Manousakis K., “SELF-CONFIGURING
NETWORKS“, 21st Century Military Communications Confer-
ence Proceedings, vol 1, pp 315-319, 2000.
[12] Castagne S., Curran R., and Collopy P., ”Implementation of
value-driven optimisation for the design of aircraft fuselage
panels“, Proceedings of International Journal of Production
Economics, pp 381-388, 2009.
[13] Hurley W.C. and Cooke T.L., ”Bend-insensitive Multimode
Fibers Enable Advances Cable Performance“, Proceedings of
the 58th International Wire and Cable Symposium (IWCS),
pp 458-467, 2009.
[14] Holzbock M., Hu Y., Jahn A., and Werner M., ”Advances
of aeronautical communications in the EU framework“, Inter-
national Journal of Satellite Communications and Networking,
vol 22, pp 113-137, 2004.
[15] Diaz N.R. and Esquitino J.E.J., ”Wideband Channel Charac-
terization for Wireless Communications inside a short haul air-
craft“, Vehicular Technology Conference, pp 223-238, 2004.
[16] Youssef M., Vahala L., and Beggs J.H., ”Wireless network
simulation in aircraft cabins“, IEEE Antennas and Propagation
Society Symposium, vol 3, pp 2223-2226, 2004.
[17] Moraitis N., Constantinou P., Fernando Perez F., and Valtr P.,
”Propagation Measurements and Comparison with EM Tech-
niques for In-Cabin Wireless Networks“, Journal EURASIP
Journal on Wireless Communications and Networking - Spe-
cial issue on advances in propagation modelling for wireless
systems, pp 1-13, 2009.
[18] Chiu S. and Michelson D.G., ”Effect of Human Presence
on UWB Radiowave Propagation Within the Passenger Cabin
of a Midsize Airliner“, IEEE Transactions on Antennas and
Propagation, vol 58, pp 917-926, 2010.
[19] Thompson H., ”Wireless and Internet communications tech-
nologies for monitoring and control“, Control Engineering
Practice, vol 12, pp 781-791, 2004.
[20] Lansford J., Stephens A., and Nevo R., ”Wi-Fi (802.11b)
and Bluetooth: Enabling Coexistence”, IEEE Communications
Magazine, pp 20-27, 2001.
[21] Leavitt N., “For Wireless USB, the Future Starts Now”, IEEE
Computer Society, vol 40, pp 14-16, 2007.
[22] Udar N., Kant K., Viswanathan R., and Cheung D., “Charac-
terization of Ultra Wide Band Communications in Data Center
Environments”, Proceedings of ICUWB, pp 322-328, 2007.
[23] Sohn J.M., Baek S.H., and Huh J.D., “Design issues towards
a high performance wireless USB device”, IEEE International
Conference on Ultra-Wideband, vol 3, pp 109-112, 2008.
174
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

[24] Winters Jack H., “Smart Antenna Techniques and Their
Application to Wireless Ad-hoc Networks“, IEEE Wireless
Communications Journal, pp 77-83, 2006.
[25] Okamoto Garret T., ”Smart antenna systems and wireless
LANs“, Kluwer Academic Publishers, pp 225, 2002.
[26] MGEN site: http://pf.itd.nrl.navy.mil/mgen/mgen.html, last
visited: 13 July 2011.
[27] NS2
site:
http://www.isi.edu/nsnam/ns/,
last
visited:
13 July 2011.
[28] Kaouris A., Zaras M., Revithi M., Moraitis N., and Constanti-
nou P., ”Propagation Measurements inside a B737 Aircraft
for In-Cabin Wireless Networks“, IEEE Vehicular Technology
Conference (2008), pp 2932-2936, 2008.
[29] You Z., Meng Max Q.H., Liang H., Li S., Li Y., Chen W.,
Zhou Y., Miao S., Jiang K., and Guo Q., ”A Localization
Algorithm in Wireless Sensor Networkcs Using a Mobile Bea-
con Node“, Proceedings of the International Conference on
Information Acquisition, pp 420-426, 2007.
[30] Scanlon P., Kennedy I., and Liu Y., ”Feature Extraction
Approaches to RF Fingerprinting for Device Identiﬁcation in
Femtocells“, Bell Labs Technical Journal, vol 15, pp 141-151,
2010.
[31] Aldasouqi I. and Salameh W., ”Detecting and Localizing
Wireless Network Attacks Techniques“, International Journal
of Computer Science and Security (IJCSS), vol 4, pp 82-97,
2010.
[32] Danev B. and Capkun S., ”Transient-based Identiﬁcation
of Wireless Sensor Nodes”, Proceedings of the International
Conference on Information Processing in Sensor Networks,
pp 25-36, 2009.
[33] Zhang B. and Yu F., “LSWD : Localization Scheme for
Wireless Sensor Networks using Directional Antenna”, IEEE
Transactions on Consumer Electronics, pp 2208-2216, 2010.
[34] Seshan Srirangarajan S.F.A.S. and Tewﬁk A.H., “Implemen-
tation of a Directional Beacon-Based Position Location Algo-
rithm in a Signal Processing Framework”, IEEE Transaction
On Wireless Communication, vol 9, pp 1044-1053, 2010.
[35] Lin F.J., Chu P.M., and Liu M.T., ”Protocol Veriﬁcation
using reachability analysis“, ACM Computer Communication
Review, pp 126-135, 1988.
[36] IBM Rational Tau site : http://www-01.ibm.com/software/
awdtools/tau/, last visited: 13 July 2011.
[37] VINT project site: http://www.isi.edu/nsnam/vint/, last vis-
ited: 13 July 2011.
175
International Journal on Advances in Networks and Services, vol 4 no 1 & 2, year 2011, http://www.iariajournals.org/networks_and_services/
2011, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

