Structural Equation Modeling with Sentiment Information and  
Hierarchical Topic Modeling
Takurou Ogawa 
Department of Sustainable System Sciences 
Graduate School of Humanities and Sustainable Systems 
Osaka Prefecture University 
Japan 
e-mail: saa01052@edu.osakafu-u.ac.jp 
Ryosuke Saga 
Department of Sustainable System Sciences 
Graduate School of Humanities and Sustainable Systems 
Osaka Prefecture University 
Japan 
e-mail: saga@cs.osakafu-u.ac.jp
 
 
Abstractâ€”Service evaluation depends on various factors, such 
as assurance, responsiveness, and tangibles. Given that 
emotional satisfaction affects service satisfaction, analyzing 
both the evaluation and sentiments is important in improving 
service. Previous studies have identified the evaluation factor 
and determined the degree of influence on the resulting 
evaluation. However, there is little effective analysis that reflects 
the influence of such a factor on sentiment. In this study, we use 
hierarchal Latent Dirichlet Allocation and structural equation 
modeling (SEM) to express the causality relationships of service 
evaluation visually and quantitatively. Sentiment obtained 
quantitatively by using sentiment analysis is newly applied to 
SEM to obtain knowledge reflecting the influence of sentiment. 
As a result of the experiment, we can identify the causality of 
service and determine the influence of the evaluation factor and 
sentiment quantitatively. Furthermore, we conduct an 
experiment that compares a causal model with and without 
sentiment information  and improve the model interpretability. 
Keywords-sentiment analysis; service analysis; structural 
equation modeling; hierarchical Latent Dirichlet Allocation; 
causal analysis 
I. 
 INTRODUCTION  
In recent years, the service industry has grown rapidly 
such that in developed countries, there are so many markets 
that account for 60% to 70% of a country's gross domestic 
product (GDP). In the United States where GDP is the highest, 
the service industry's GDP is $ 15.52 trillion, accounting for 
80% of the total GDP [1][2]. In addition, with the spread of 
smartphones, apps for various services (e.g., Twitter, 
navigation), the introduction of recommended hotels, and the 
rise of electronic services (e.g., Internet shopping) are rapidly 
increasing. With this background, the importance of services 
has grown in recent years. Service improvement is important 
as services are produced and consumed at the same time 
compared with products that are released and finished. Thus, 
analyzing the evaluation of the service in order to improve 
such service is important. 
Service evaluation depends on various factors, such as 
assurance, responsiveness, and tangibles. For example, 
SERVQUAL evaluates the quality of service [3] with five-
dimensional indicators, and Airport Service Quality [4] 
defines airport evaluation factors. As there are many factors 
in the evaluation of services, it is necessary to find out the 
evaluation factors to analyze the evaluation. 
Generally, analyzing services is difficult because these 
have special features that ordinary products do not have like 
Intangible, Heterogeneous, Inseparable, and Perishable. 
However, there are several clues to analyze the services from 
the data (e.g., questionnaire). Especially, user review is useful 
because the review describes user experience of and perceived 
from the services. It is possible to analyze the quality of 
service and the evaluation of service. Meanwhile, emotional 
satisfaction is also regarded as an important and attractive 
factor in service satisfaction. That is, customers experience 
different positive and negative sentiments related to service, 
and these sentiments influence service satisfaction [5]. Of 
course, these factors influence service evaluation and the 
sentiments related to the service are implied in the user 
review; however, there is no study to identify and analyze 
evaluation factors together with sentiment information. 
This paper describes the method by which to perform 
causality analysis from text data, such as user review. In order 
to treat causal analysis, we use the topic-based approaches by 
applying a topic model to the review. In addition, the 
sentiments for evaluation factors in the text are quantitatively 
determined using sentiment analysis method to understand 
emotional satisfaction. By applying topic and sentiment 
information to structural equation modeling (SEM), we 
analyze the influence of each factor quantitatively. 
The first contribution of this paper is that it obtains the 
knowledge reflecting sentiment information from the user 
review by using sentiment analysis. Second, it understands 
the influence on the sentiment of the evaluation factor based 
on the idea that sentiments are essential for service evaluation 
factor analysis. By using SEM with path diagram, we can also 
analyze and understand the causality relationships among 
topics and their sentiments associated with topics that are 
visually and quantitatively express. 
This paper is structured as follows. Section II refers to the 
existing related research, Section III explains the core method 
of the analysis process, and Section IV describes analysis 
experiments using actual data. Finally, Section V discusses 
future work and Section VI concludes this study. 
230
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

II. 
LITERATURE REVIEW 
In related research for service analysis, SERVQUAL [3] 
measures the quality of service by measuring the gap between 
advance expectation and subsequent experience using five 
indicators prepared in advance. SURVPERF [6] measures the 
quality of service based on the subsequent experience alone. 
Related researches include a study that further increased the 
dimension from these five dimensions [7] and another that 
changed the dimension to measure the quality of electronic 
service [8]. There are many evaluation indicators, but it is 
difficult to measure all services by one standard because there 
are many types of services and their characteristics largely 
differ. 
Meanwhile, related works on SEM include a study that has 
found relationships between customer loyalty and service 
quality [9] and another that has proposed a model to infer the 
purchase factor of the game by combining hierarchal Latent 
Dirichlet Allocation (hLDA) and SEM [10]. A previous work 
used SERVQUAL and SEM to examine the effects of the 
former [11]. A study increased dimensions of the 
SERVQUAL and analyzed it through SEM [7]. Another study 
identified the factors that affect customer satisfaction and the 
dimensions of service quality and their ranking in the context 
of fast food restaurants [12]. A previous study used the main 
aspects of pedestrian level of service (PLOS) [13], namely, 
safety, security, mobility and infrastructure, and comfort and 
convenience, to provide a comfortable and safe walking 
environment. PLOS is a measurement tool for evaluating the 
degree of pedestrian accommodation on roadways. This study 
also used SEM to provide the essential information for 
interpreting the aspects of the walking environment that 
influence PLOS [14]. Another research analyzed the influence 
of e-commerce services, which are the core dimension of e-
service quality, on internet banking adoption and brand 
loyalty of banks [15]. These works, however, do not consider 
the sentiment contained in the text. 
Meanwhile, emotional satisfaction is largely believed to 
affect service satisfaction [5]. In relation to this, sentimental 
analysis is useful in comprehending and handling the 
sentiment information. A study utilizes sentiment analysis and 
Latent Dirichlet Allocation (LDA) to evaluate the quality of 
airport services [16], while another determines the userâ€™s 
evaluation for each attribute by combining Airport Council 
International-defined airport service quality attributes and 
sentiment analysis [17]. In these studies, sentiment is 
considered one of the important factors in sales of services; 
thus it is essential to consider sentiment. However, no study 
has proposed structural equation modeling that considers the 
sentiment contained in text.  
Therefore, the current paper proposes the model for SEM 
with sentiment information. By using this model, we can 
acquire knowledge including sentiment information visually. 
III. 
METHODOLOGY 
In this paper, the analysis is performed according to the 
process of Figure 1. First, topics are extracted by learning a 
topic model. Next, we find the sentiment and topic 
distribution for that topic. Finally, a model is constructed 
based on these data and this is then analyzed by SEM so that 
can gain knowledge. 
A. Topic Model  
The topic model is a method that tries to clarify the 
structure of a document group by inferring words contained in 
the topic based on the premise that the document group has a 
specific topic. In a topic model, a document is a collection of 
words probabilistically generated by the topic to which it 
belongs. 
Topic models include different methods, such as latent 
semantic analysis (LSA) [18], LDA [19] and hLDA [20]. The 
LDA assumes a multi-topic model in which the document is 
based on mixed topics. LDA has a 1:n relationship between 
documents and topics, not 1:1 like LSA. LDA is considered to 
be a more natural model in documents, such as review texts 
that are written in one document about various aspects [19]. 
HLDA is an extended method of LDA and is a hierarchal 
model as shown in Figure 2. It has the property of 
automatically constructing relationships among hierarchical 
topics. As a learning result, a hierarchical model constructed 
hierarchically and a keyword group constituting each topic are 
generated together with their generation probabilities. The 
specific content of the topic can be inferred from the keyword 
groups of a topic. In this study, hLDA is used because it is a 
natural document model and the relationships between topics 
are defined automatically. 
 
Sentiment 
Information 
Words 
Distribution 
Path Model 
Knowledge 
Learning 
 
Dataset 
Sentiment Analysis 
 
SEM  
 
Construction 
Bag of Words 
Hierarchal 
Topic Model 
Figure 1.  Analysis process  
 
 
 
Figure 2. Hierarchal structure of topics 
 
 
231
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

B. Sentiment Analysis 
Sentiment analysis literally refers to the analysis of 
sentiments. By using sentiment analysis, such as posted 
comments, one can determine whether consumers have 
negative or positive sentiments and the strength of such 
sentiments. Sentiment analysis can be performed on a per-
document or per-sentence basis. 
To embed sentiment to SEM explained later, we have to 
recognize sentiments on each topic for each review. In this 
study, we regard the average of sentiment values ranging 
between -1(negative) and 1(positive) as document sentiments 
by calculating Equation (1) as  
ğ¸ğ‘–ğ‘š= 
1
|ğ‘‡ğ‘–(ğ‘†ğ‘š)| âˆ‘
ğ‘ âˆˆğ‘‡ğ‘–(ğ‘†ğ‘š) ğ¸(ğ‘ ),
                     (1) 
where Eim is the sentiment about the topic ğ‘‡ğ‘– of the review Rm; 
Sm is a set of sentences in Rm and | | is the element number of a 
set; Ti(Sm) represents the sentence set of Sm, including the topic 
I; and the function E recognizes the sentiment of a sentence. 
If there is no sentence related to a topic, the result of Equation 
(1) is 0 (neural) and regards this sentiment about the topic as 
neutral. The longer the review, the more likely it is to include 
other topics. Therefore, it is possible to extract sentiments 
related to topics more accurately by focusing only on 
sentences containing topics in reviews. 
Here, valence aware dictionary for sentiment reasoning 
(VADER) [21] is used as function E in the equation. This 
method is particularly accurate for sentiment analysis in 
social media. There are several studies that used VADER. 
One study analyzed the correlation of positive and negative 
user reviews of mobile apps before and after app update, 
respectively, by using VADER because VADER has the high 
precision in the social media field [22]. In VADER, the value 
of sentiment is represented by -1 to 1 (the closer to -1 the 
more negative and the closer to 1 the more positive the 
sentiment). Therefore, the Eim outputs the value between -1 
and 1.  
C. Strucuture Equation Modeling (SEM) 
SEM [23] is a method characterized by the use of factor 
analysis and regression analysis. Factor analysis is the idea 
that observed variables are based on some hidden factor, and 
the influence of the factor is to be determined by 
â€œcorrelationâ€ (variance / covariance). Regression analysis is 
a technique for finding the relationship between a variable to 
be predicted (target variable) and a variable (explanatory 
variable, independent variable) that describes the target 
variable. In other words, SEM can be considered as a factor 
regression analysis. 
The SEM can express causal relationships between 
variables visually and quantitatively by using a path model, 
as shown in Figure 3. A path model consists of three 
elements: latent variables, observed variables, and paths. 
Latent variables are factors that cannot be observed in actual. 
Observation variables can actually be observed and are 
essential for estimating a latent variable. In the path model, 
latent variables are represented by ellipses and observation 
variables are represented by rectangles. The causal 
relationship between such items is represented by the path of 
the arrow, and the degree of influence is represented by the 
path coefficient. 
D. Construct Path Model and Find Knowledge 
Topics that cannot be observed directly are considered as 
latent variables serving as correspondence between SEM and 
topic model. The keywords that make up the topic, the 
sentiment for the topics, and the rating values of each review 
are the observation variables. From the idea of the topic 
model that words are generated by topics, each topic is 
regarded as a factor and the paths from the topics are drawn 
to the keywords to which the topics are related. Moreover, the 
paths between topics are drawn from the upper topics to the 
lower ones based on the idea of the hierarchical structure of 
the hLDA topics.  
Next, we explain the process of incorporating sentiment 
information into the path model. Sentiment information 
influences the intention of a model. Thus, we have to 
carefully 
determine 
how 
to 
incorporate 
sentiment 
information. Generally, sentiments for service are generated 
as perceived experience (after the service) or the expectation 
(before using the service). Therefore, the model is expressed 
by drawing a path to sentiment information from each topic. 
When we draw a path from the topic to sentiment 
information, the causal relationship between the sentiment 
and the topic becomes clear. Moreover, rating evaluation is 
considered to be generated from the top-level topic that 
includes all elements. Therefore, by drawing the path from 
the top-level topic to the rating evaluation, the model can 
represent the causal relationship with the rating.  
Furthermore, by comparing the values of path 
coefficients from the higher topics to the lower topics, it is 
possible to find an important factor for the rating. By paying 
attention to the path coefficient from the lowest topic to the 
keyword, we can find the degree of influence of more detailed 
factors. The path coefficients from each topic to sentiment are 
large and the causal relationship with sentiment could be 
expressed. By comparing the path coefficient from each topic 
to sentiment, topics with a larger causal relationship with 
sentiment can be found. 
However, the path model of SEM is usually prone to 
model identification failure, especially if there are too many 
latent variables. Conversely, if the number of latent variables 
is less, the amount of information in the model may be too 
 
Figure 3.  Path model of SEM 
 
 
232
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

small for interpretation. As the topic is a latent variable in the 
path model, the number of topics must also be adjusted. We 
also need to remove unreliable paths and observation 
variables with relatively small influence. 
IV. 
EXPERIMENTS 
The purpose of this experiment is to confirm the 
feasibility of proposed approaches described in Section III. 
Furthermore, we consider the experimental results. 
A. Dataset, Parameters, and Processing 
In this analysis, the data must have text data and 
numerical evaluation data, and it is ideal to have as many 
review data as possible in order to apply the topic model. In 
addition, in order to characterize statistical data based on the 
concept of Bag of Words, the text of one review data must 
include many words. In this experiment, we employ user-
reviews of the datasets published online by Kaggle and 
Github: the hotel1, airport2, app3 for shops and electronic 
services4 for purchasing clothes. Airport, app and electronic 
services reviews are collected by web scraping. Hotel reviews 
are provided by Datafinitiâ€™s Business Database. Each review 
has review text with a rating between 1 and 5 or 1 and 10. We 
also regard a review text as a document. In this method, we 
have to ensure that the topics and the appearance frequency 
of the feature words described are included in each document. 
In addition, we examined reviews of each dataset and 
understood that a review that passes for a document have 
about 30 words. Therefore, only documents stated with more 
than 30 words are used. The app analyzes information from 
randomly extracted data. The number of reviews after these 
pre-processing is shown in Table I. In this experiment, 
sentiments on topics in the lowest level are determined for 
the construction of a path model. Moreover, ğ‘‡ğ‘–  in (1) 
indicates a topic of the lowest level (i.e., topic in third level). 
Whether a sentence includes or does not include a topic is 
determined based on whether or not a keyword constituting 
the topic is included.  
As criteria to evaluate the result, we use goodness of fit 
index (GFI), adjusted GFI (AGFI), root means square error 
of approximation (RMSEA), and Bayes information criterion 
(BIC) were used [24][25]. As equations for GFI, AGFI, 
RMSEA, BIC, 
  ğºğ¹ğ¼ =  
ğ‘¡ğ‘Ÿ((âˆ‘(ğœƒÌ‚)âˆ’1(ğ‘† âˆ’ âˆ‘(ğœƒÌ‚)))2)
ğ‘¡ğ‘Ÿ((âˆ‘(ğœƒÌ‚)âˆ’1âˆ’ğ‘†)2)
,                    (2) 
where Î£(ğœƒÌ‚) is the estimated value of covariance matrix and  
ğ‘† is value of the actual sample covariance matrix. ğ‘¡ğ‘Ÿ((ğ´)2)  
expresses ğ‘¡ğ‘Ÿ(ğ´ğ´â€²), 
ğ´ğºğ¹ğ¼ = 1 âˆ’  
ğ‘›(ğ‘›+1)
2ğ‘‘ğ‘“  (1 âˆ’ ğºğ¹ğ¼),                (3) 
where ğ‘›  is the number of observed variables and ğ·ğ¹  is 
degrees of freedom, 
ğ‘…ğ‘€ğ‘†ğ¸ğ´ =  âˆšmax [ğœ’2âˆ’ğ·ğ¹
ğ‘âˆ’1 , 0]
ğ·ğ¹
,                        (4) 
where ğ‘ is the number of samples, 
ğµğ¼ğ¶ =  ğœ’2 âˆ’ ğ·ğ¹ log(ğ‘).                         (5) 
And as an equation to calculate degrees of freedom, 
ğ·ğ¹ = 
1
2ğ‘›(ğ‘› + 1) âˆ’ ğ‘,                            (6) 
where ğ‘ is the number of variables in equation. Equation (2) 
expresses how well the total variance in the saturation model 
that includes paths between all possible variables can be 
explained by the estimation model that is the analysis result 
of this experiment. A value between 0 and 1 is taken and the 
closer a value is to 1, the better the model becomes. A value 
of 0.9 or higher is desirable. GFI is unconditionally improved 
in fitness as model degrees of freedom decreases. Equation 
(3) corrects the shortcomings of GFI and penalizes models 
with many parameters and high complexity. The same value 
as GFI is taken, and the closer it is to 1 the better the resulting 
model. If the model is not complex, GFI and AGFI will be 
close values. Equation (4) is an index that expresses the 
difference between the model distribution and the true 
distribution. The fit is good with a value of 0.05 or less, and 
the fit is bad with 0.1 or more. Equation (5) estimates the 
posterior probability based on chi-square value when the 
model is selected. This is used to evaluate the balance 
between model suitability and the amount of information and 
is used in carrying out relative evaluation. It is better for the 
value to be smaller. 
In this experiment, we used several packages and 
libraries: Mallet package [26] for hLDA, Python's nltk 
package with VADER method [27] for sentiment analysis, 
and SEM package of R [28] for SEM analysis.  
TABLE I.  
DATA AND RESULT 
Dataset Name 
# of Reviews 
GFI 
AGFI 
RMSEA 
BIC 
Hotel1 
8104 
0.9025 
0.8881 
0.05525 
9188 
Airport2 
13444 
0.9152 
0.9005 
0.05266 
12950 
App3 
5442 
0.8979 
0.8835 
0.05960 
6848 
e-Commerce4 
19354 
0.9213 
0.9060 
0.05446 
19272 
 
1. https://www.kaggle.com/datafiniti/hotel-reviews#Datafiniti_Hotel_Reviews.csv 
2. https://github.com/quankiquanki/skytrax-reviews-dataset/tree/master/data 
3. https://www.kaggle.com/usernam3/shopify-app-store#reviews.csv 
4. https://www.kaggle.com/nicapotato/womens-ecommerce-clothing-reviews# 
233
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

B. Result 
Table I shows the calculation results of the evaluation 
indexes for each data and analyzed models. From Table I, we 
could find that hotel, airport, and e-commerce models have a 
GFI of over 0.9 and AGFI maintains high levels. Moreover, 
none of the models have an of less than 0.05, but it is much 
closer to 0.5, compared to the model whose fit is bad with 0.1 
or more. 
It can be said that all of models fit well to the dataset and 
the constructed models are reliable from the viewpoint of 
these indices.  
As an example, let us show the result of the app dataset 
in Figure 5. The causal relationship among the keywords that 
comprise a topic is similar to the depiction in Figure 4. The 
words at the bottom of the model are those that make up the 
identified topics from the text data of the review using the 
topic extraction with hLDA. Here, the topics (latent 
variables) are estimated by authors from the words that make 
up each topic. For example, â€œresponseâ€ is estimated because 
it has a large causal relationship with â€œsupportâ€ and is 
considered to be a topic related to responses to actions, such 
as â€œinstall,â€ â€œteam,â€ and â€œissue.â€ We were able to create a 
path model based on the hierarchical structure of a text data 
document group revealed by hLDA. Further, causal 
relationships can be analyzed by paying attention to arrow 
and values calculated by SEM between topics or between 
topics and words or sentiment information at the bottom of 
the model.  
We focus on the â€œcorrespondâ€ area with a large path 
coefficient from the top topic. The â€œresponseâ€ is also 
considered to be an important factor for evaluation because 
when comparing the two topics under â€œcorrespond,â€ the path 
from â€œcorrespondâ€ to â€œresponseâ€ has a larger path coefficient. 
Here, the path between the latent variable â€œresponseâ€ and the 
value of the sentiment â€œE(response)â€ has a large coefficient, 
implying that â€œresponseâ€ has a strong relationship with the 
sentiment strongly. Therefore, it can be considered that the 
sentiment of â€œresponseâ€ also leads to evaluation. 
In the same way, when we check the other paths to 
sentiments, we could find the relationships with and 
influences to evaluation. From the figure, â€œresponse,â€ â€œflow,â€ 
â€œprice,â€ and â€œe-serviceâ€ have an effect of sentiments (the 
paths over 0.5) and the â€œdesignâ€ and â€œindividualâ€ did not. We 
are not certain whether the results agree or not, but this 
specific one indicates which topics lead to emotional 
satisfaction. In this way, it is possible to improve the service 
 
Figure 4. Expression of a path from the latent to the observed variable 
 
 
Figure 5.  Analysis result of the app dataset 
 
234
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

by quantitatively understanding the specific service factors 
that influence to the sentiments and evaluation. 
Figure 6 presents another example of analysis. For 
instance, â€œroom facilityâ€ is estimated by different room 
features namely, â€œbathroom,â€ â€œshower,â€ and â€œbedâ€ and 
â€œroom conditionâ€ is evaluated using â€œsmell,â€ â€œsmoke,â€ and 
â€œdirty.â€ The hotel structure can be reviewed by examining the 
results of the analysis of hotel data. Hotels are evaluated 
using â€œroom,â€ â€œfacility,â€ and â€œconvenience.â€ By focusing on 
low hierarchy, the details of the evaluation factors, such as 
â€œroom conditionâ€ and â€œpublic transport,â€ can be analyzed. 
Moreover, the factor that influences sentiment can be 
comprehensively 
understood. 
We 
focus 
on 
the 
â€œconvenienceâ€ area with a large path coefficient because this 
topic exerts large influence on the evaluation (rating). 
â€œConvenienceâ€ that has â€œchargeâ€ and â€œcardâ€ has a small 
effect on sentiment, whereas â€œpublic transportâ€ that has 
â€œshuttleâ€ and â€œmetroâ€ exerts a large effect. Therefore, â€œpublic 
transportâ€ 
leads 
to 
emotional 
satisfaction, 
whereas 
â€œconvenienceâ€ does not. 
     We then compare the analysis results with and without 
sentiment information. Figure 7 illustrates the analysis result 
of the hotel dataset that does not consider sentiment 
information. We compare Figures 6 and 7. The topic 
â€œconvenienceâ€ composed of â€œchargeâ€ and â€œreserveâ€ shares a 
weak relationship with sentiment information. Therefore, 
even if the sentiment information is deleted, no large 
difference is observed in the path coefficient between the 
topic and the words that constitute the topic.  
Subsequently, we analyze the topic â€œpublic transport,â€ 
which is strongly related to sentiment information. If 
sentiment information is not considered, the largest path 
coefficient is observed in the path to â€œmetro;â€ otherwise, the 
path to â€œfreeâ€ possesses the largest coefficient This 
phenomenon occurs because the path coefficient from the 
path to the words that have strong relationships with 
sentiment information increases, that is, if â€œfreeâ€ has a strong 
 
Figure 6.  Analysis result of the hotel dataset 
 
 
Figure 7.  Analysis result of the hotel dataset that deletes sentiment information from Figure 6 
 
235
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

relationship with sentiment information, then this word is the 
important factor in the causal model of hotels that considers 
sentiment information.  
In the topic â€œroom facilityâ€ in Figure 7, all path 
coefficients have positive values. However, in the same topic 
in Figure 6 , which considers sentiment information, paths 
with negative values, such as those to â€œsmellâ€ and â€œsmoke,â€ 
appear. This phenomenon can be ascribed to the negative 
relationship of these words with the sentiment information of 
the topic â€œroom condition.â€ For instance, the sentiment 
values in documents that contain these words tend to be 
negative, whereas those in documents that do not have these 
words are positive. Therefore, adding sentiment information 
to the topic leads to the clarification of the negative factor.  
In summary, a causal model that considers sentiment 
information can be constructed. 
This study aims to improve the interpretability of the 
causality model. Figure 8 shows the result of the airport 
dataset. The figure displays several paths that have small path 
coefficients. 
A 
causality 
model 
with 
enhanced 
interpretability can be constructed by deleting these paths 
because the two variables connected by a small path 
coefficient have almost no causal relationship. Figure 9 
displays the result after deleting the paths in Figure 8 that 
have small path coefficients (path coefficient < 0.01), except 
those with sentiment information. Figure 10 shows the result 
after deleting the paths in Figure 9 that have small path 
 
Figure 8. Analysis result of airport dataset 
 
 
Figure 9. Analysis result of airport dataset that deleted several paths from Figure 8 
TABLE II.  
EVALUATION INDICES OF AIRPORT DATASET 
Figure Name 
GFI 
AGFI 
RMSEA 
BIC 
Figure 7 
0.9152 
0.9005 
0.05266 
12950 
Figure 8 
0.9210 
0.9007 
0.05275 
11358 
Figure 9 
0.9275 
0.9134 
0.05287 
9885 
 
236
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

coefficients (path coefficient < 0.01), except those with 
sentiment information. 
Table II summarizes the calculation results of the 
evaluation indices for Figures 7, 8, and 9. GFI and AGFI 
increase as the paths that have small path coefficients are 
deleted, whereas RMSEA decreases because of the change in 
the number of observed variables. The results suggest that all 
figures fit well to the dataset, and the constructed models are 
reliable from the viewpoint of these indices. 
An easy-to-interpret causality model of the airport dataset 
can be constructed from Figure 10 because the paths that have 
small causal relationships are deleted. In other words, the 
amount information decreases, but we can construct a simple 
model and focus only on the important elements.  
V. 
DISCUSSION AND FUTURE WORK 
From the experiment, we found that sentiment information 
is useful for analyzing services, but we have to consider 
improving sentiment expression. For example, we extracted 
sentiment information of topics based on (1), but this 
equation does not consider the length of the sentence. 
Nevertheless, it enables us to accurately determine the 
sentiment on the topic by considering the weight based on the 
sentence length. For example, longer sentences are more 
likely to include other topics. Therefore, it may be possible to 
extract sentiments related topics more accurately by reducing 
the impact of such sentences on sentiments of specific topics. 
Secondly, when two or more topics are included in one 
sentence, even if it is used in a contrasting sentence, such as 
â€œ(Text about TOPIC A) but (Text about TOPIC B),â€ the same 
sentiment value is calculated for the topic. If there is a 
conjunction (e.g., â€œbutâ€), a more accurate sentiment analysis 
can be performed by further processing, such as dividing. 
Thirdly, several factors such as â€œsmellsâ€ in Figure 4 are 
considered negative but it would be positive for several 
people. Therefore, it is possible to express this situation by 
dividing reviewer into a group that thinks the factor is 
negative and a group that thinks factor is positive and 
expressing it to path model. Finally, in this paper, the 
accuracy improvement and knowledge are obtained by 
constructing path models under different assumptions during 
the construction of the path model. 
 Furthermore, we consider the hierarchical topic structure 
to construct the path model. In this study, we use hLDA to 
extract such structure. Several methods can be used to extract 
the hierarchical topic structure. Zhu et al. proposed an 
extraction method [29] that combines a biterm topic model 
(BTM) [30] and Bayesian rose trees (BRTs) [31]. The present 
study extracts the topics by using BTM and constructs a 
hierarchical structure by utilizing BRTs. Moreover, this study 
adopts simBRT to account topic similarity. Viegas et al. 
proposed CluHTM [32], which is a novel non-probabilistic 
hierarchical topic modeling strategy based on non-negative 
matrix factorization and CluWords [33]. This method ensures 
topic coherence and reasonable topic hierarchies and uses the 
utilization as an original cross-level stability analysis metric 
to define the number of topics and the shape of the hierarchical 
structure. The abovementioned methods can be used to 
accurately estimate the document structure.  
A topic is defined as a bag of words without explicit 
semantics. In this study, the contents of the topics are 
estimated using the words that compose them. However, the 
topic model loses objectivity. To address this issue, we can 
use topic labeling. Several methods can be used to add 
semantic labels to the topic model. Nalasco et al. proposed an 
automatic labeling technique by using a new candidate 
selection algorithm and three scoring methods [34]. Bhatia et 
al. proposed a neural embedding approach that involves 
automatic topic labeling by using Wikipedia article titles [35]. 
Mao et al. proposed an automatic labeling technique for 
hierarchical topic structures [36]. 
VI. 
CONCLUSION 
In this paper, we analyzed the causal relationships in 
service by using SEM and sentiment information. We 
 
Figure 10. Analysis result of airport dataset that deleted several paths from Figure 9 
237
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

constructed the path model by using hLDA and sentiment 
analysis between topics and sentiments. The findings of the 
experiment using the user reviews of airports, hotels, 
shopping apps, and electronic services show the feasibility of 
our proposed model. We summarize the following findings 
from the experiments: 
âš« 
We obtained knowledge by analyzing service 
while considering sentiments. 
âš« 
We determined the impact on the rating of each 
topic. 
âš« 
We obtained the causal relationship between each 
topic and sentiment quantitatively and provided 
clues for further analyses. 
Service analysis that considers sentiment information is 
conducted by this study. We found that sentiment 
information has the relationship with service evaluation. 
We also performed service analysis considering 
sentiment and obtained knowledge reflecting sentiment 
information from the user reviews. The consideration of 
sentiment information is essential for service analysis, and 
the creation of path models with sentiment information is 
considered effective in extracting information that helps 
increase service satisfaction. It is suggested that the analysis 
process in this paper may provide useful knowledge for 
service analysis and service improvement. On the one hand, 
this can be used by service providers in improving services 
and creating new services. Service providers can 
quantitatively find factors that have major impacts on the 
evaluation of services and customer sentiments. On the other 
hand, it can be used by service users to efficiently grasp the 
outline of services that are not formed. Although we analyzed 
the indefinite service in the experiments, it can be applied to 
other things like tangible products. The potential applicability 
is high because analysis is performed from the text. 
REFERENCES 
[1] T. Ogawa and R. Saga. â€œText-based Causality Modeling with 
Emotional Information Embedded in Hierarchic Topic 
Structureâ€, 
Proceedings 
of 
the 
Ninth 
International 
Conference on Social Media Technologies, Communication, 
and Informatics, pp. 15-20, November 2019. 
[2] Central Intelligence Agency: The World Factbook: GDP - 
Composition, by sector of origin. [Online]. Available from: 
https://www.cia.gov/library/publications/the-world-
factbook/fields/214.html, [retrieved: October, 2019]. 
[3] A. Parasuraman, V. A. Zeithaml, and L. L. Berry,  
â€œSERVQUAL: A Multiple-Item Scale for Measuring 
Consumer Perceptions of Service Qualityâ€, Journal of 
Retailing, vol. 64, No. 1, pp. 12-40, 1988. 
[4] Airports Council International. ACI: Airport Service Quality, 
ASQ. : The ASQ Barometer. [Online]. Available from: 
https://aci.aero/customer-experience-asq/services/asq-
barometer/, [retrieved: October, 2019]. 
[5] V. Liljander and T. Strandvik, â€œEmotions in service 
satisfactionâ€, International Journal of Service Industry 
Management, vol. 8, Issue 2, pp. 148-169, 1997. 
[6] J. J. Cronin and S. A. Taylor, â€œMeasuring Service Quality: A 
Reexamination and Extensionâ€, Journal of Marketing, vol. 
56, No. 3, pp. 55-68, July 1992. 
[7] M. Ali and S. A. Raza, "Service quality perception and 
customer satisfaction in Islamic banks of Pakistan: the 
modified SERVQUAL model", Total Quality Management 
& Business Excellence, vol. 28, Issue 5-6, pp. 559-577, 
November 2015. 
[8] P. K. Sari, A. Alamsyah, and S. Wibowo, "Measuring e-
commerce service quality from online customer review using 
sentiment analysis", Journal of Physics: Conference Series, 
vol. 971, Issue 1, 2018. 
[9] F. D. Orel and A. Kara, â€œSupermarket self-checkout service 
quality, customer satisfaction, and loyalty: Empirical 
evidence from an emerging marketâ€, Journal of Retailing and 
Consumer Services, vol. 21, Issue 2, pp, 118-129, March 
2014. 
[10] R. Kunimoto and R. Saga, â€œCausal Analysis of Userâ€™s Game 
Software Evalution Using hLDA and SEMâ€, IEEJ, vol. 135, 
Issue 6, pp. 602-610, 2015. 
[11] A. M. Al-Mhasnah, F. Salleh, A. Afthanorhan, and P. L. 
Ghazali, â€œThe relationship between services quality and 
customer satisfaction among Jordanian healthcare sectorâ€, 
Management Science Letters, vol. 8, Issue 12, pp. 1413-
1420, 2018.  
[12] N. Aidin, â€œRevisiting customersâ€™ perception of service 
quality in fast food restaurantsâ€, Journal of retailing and 
consumer services, vol. 34, pp. 70-81, Janualy 2017. 
[13] K. E. Zannat, D. R. Raja, and M. S. G. Adnan, â€œPedestrian 
Facilities and Perceived Pedestrian Level of Service (PLOS): 
A 
Case 
Study 
of 
Chittagong 
Metropolitan 
Area, 
Bangladeshâ€, Transportation in Developing Economies, vol. 
5, Issue 2, pp. 1-16, April 2019.[D] 
[14] G. R. Bivina and M. Parida, â€œModelling perceived pedestrian 
level of service of sidewalks: a structure equation approachâ€, 
Transport, vol. 34, No. 3, pp. 339-350, May 2019. 
[15] S. Rahi, M. A. Ghani, and F. M. Alnaser, â€œThe Influence of 
E-Commerce Services and Perceived Value on Brand 
Loyalty of Banks and Internet Banking Adoption: A 
Structural Equation Model (SEM)â€, The Journal of Internet 
Banking and Commerce, vol. 22, No. 1, pp. 1-18, April 2017. 
[16] K. Lee and C. You, â€œAssessment of airport service quality: 
A complementary approach to measure perceived service 
quality based on Google reviewsâ€, Journal of Air Transport 
Management, vol. 71, pp. 28-44, August 2018. 
[17] L. Martin-Domingo, J. C. MartÃ­n, and G. Mandsberg, â€œSocial 
media as a resource for sentiment analysis of Airport Service 
Quality(ASQ)â€, Journal of Air Transport Management, vol. 
78, pp. 106-115, July 2019. 
[18] S. Deerwester, S. T. Dumais, G. W. Furnas, T. K. Landauer, 
and R. Harshman, â€œIndexing by latent semantic analysisâ€, 
Journal of The American Society for Information Science, 
vol. 41, Issue 6, pp. 391-407, 1990. 
[19] D. M. Blei, A. Y. Ng, J. B. Edu, and M. I. Jordan, â€œLatent 
dirichlet allocationâ€, The Journal of Machine Learning 
Research, No. 3, pp. 993-1022, 2003. 
[20] D. M. Blei, T. L. Griffiths, M. I. Jordan, and J. B. 
Tenenbaum, â€œHierarchical topic models and the nested 
chinese restaurant processâ€, Proceedings of the 16th 
International Conference on Neural Information Processing 
Systems, pp. 17-24, 2003. 
[21] C. J. Hutto and E. Gilbert, â€œVADER: a parsimonious rule-
based model for sentiment analysis of social media textâ€, 
International AAAI Conference on Web and Social Media, 
2014. 
[22] L. Xiaozhou, Z. Zheying, and S. Kostas, â€œSentiment-aware 
Analysis of Mobile Apps User Reviews Regarding Particular 
Updatesâ€, Proceedings of The Thirteenth Intetnational 
Conference on Software Engineering Advances, pp. 99-107, 
2018. 
238
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

[23] C. J. Anderson and W. D. Gerbing, â€œStrucutural equation 
modeling in practice: A review and recommended two-step 
approachâ€, Psychologcal Bulletin, vol. 103, No. 3, pp. 411-
423, May 1988. 
[24] K. Schermelleh-Engel, H. Moosbrugger and H. MÃ¼ller, 
â€œEvaluating the Fit of Structural Equation Models: Tests of 
Significance and Descriptive Goodness-of-Fit Measuresâ€, 
Methods of Psychological Research Online, vol. 8, No. 2, pp. 
23-74, 2003. 
[25] G. Schwarz, â€œEstimating the Dimension of a Modelâ€, 
Annanls of Statistics, vol. 6, No. 2, pp. 461-464, 1978. 
[26] A Kachites, â€œMallet: A Machine Learning for Language 
Toolkitâ€, http://mallet.cs.umass.edu, [retrieved: October, 
2019]. 
[27] â€œNatural Language Toolkit â€“ NLTK 3.4.4 documentâ€, 
https://www.nltk.org, [retrieved: October, 2019]. 
[28] R. Ihaka, R. C. Gentleman, â€œThe R Project for Statistical 
Computingâ€, https://www.r-project.org, [retrieved: October, 
2019]. 
[29] J. Zhu, X. Li, M. Peng, J. Huang, T. Qian, et al., â€œCoherent 
Topic Hierarchy: A Strategy for Topic Evoluationary 
Analysis on Microblog Feedsâ€, Proceedings of 16th 
International 
Conference 
on 
Web-Age 
Information 
Management, pp. 70-82, June 2015. 
[30] X. Yan, J. Guo, Y. Lan and X. Cheng, â€œA biterm topic model 
for short textsâ€, WWWâ€™13: Proceedings of the 22nd 
international conference on World Wide Web, pp. 1445-
1456, May 2013. 
[31] C. Yee, Y. W. The and K. A. Haller, â€œBayesian Rose Treesâ€, 
UAIâ€™10: Proceedings of the Twenty-Sixth Conference on 
Uncertainly in Artificial Intelligence, pp. 65-72, July 2010. 
[32] F. Viegas, W. Cunha, C. Gomes, A. Pereira, L. Rocha, et al., 
â€œCluHTM-Semantic Hierarchical Topic Modeling based on 
CluWordsâ€, Proceedings of the 58th Annual Meeting of the 
Association for Computation Linguistics, pp. 8138-8150, 
July 2020. 
[33] F. Viegas, S. Canuto, C. Gomes, W. Luiz, T. Rosa, et al., 
â€œCluWords: 
Exploiting 
Semantic 
Word 
Clustering 
Representation for Enhanced Topic Modelingâ€, WSDMâ€™19: 
Proceedings of the Twelfth ACM International Conference 
on Web Search and Data Minig, pp. 753-761, January 2019. 
[34] D. Nolasco and J. Oliveira, â€œDetecting Knowledge 
Innovation through Automatic Topic Labeling on Scholar 
Dataâ€, Proceeding of the 49th Hawaii International 
Conference on System Science (HICSS), pp. 358-367, 2016. 
[35] S. Bhatia, J. H. Lau and T. Baldwin, â€œAutomatic labeling of 
topics with neural embeddingsâ€, Proceedings of the 26th 
International Conference on Computing Linguistics: Human 
Language Technologies, pp. 1536-1545, 2011. 
[36] X. L. Mao, Z. Y. Ming, Z. J. Zha, T. S. Chua, H. Yan and X. 
Li, â€œAutomatic labeling hierarchical topicsâ€, ACM 
International Conference Proceeding Series, pp. 2383-2386, 
2012. 
239
International Journal on Advances in Systems and Measurements, vol 13 no 3 & 4, year 2020, http://www.iariajournals.org/systems_and_measurements/
2020, Â© Copyright by authors, Published under agreement with IARIA - www.iaria.org

