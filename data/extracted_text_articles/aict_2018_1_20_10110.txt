Teaching Workbench for Channel Emulation Attenuation
Debora Meyhofer Ferreira  
Decom - Unicamp Campinas, Brazil 
De.ferreira@gmail.com 
Pedro Chaves - Dsif - Unicamp Campinas, Brazil 
pchaves@dsif.fee.unicamp.br 
Eduardo Lima - Instituto Eldorado 
eduardo.lima@eldorado.org.br 
 
Omar Carvalho Branquinho 
Leonardo Delforno 
Engenharia El√©trica 
PUCCamp 
Campinas, Brazil 
Omar.branquinho@gmail.com 
l_delforno@hotmail.com 
Abstract ‚Äî With the increasing use of the Internet of Things, 
wireless solutions like Low Power Wide Area Networks will be 
in demand. The behavior of the radio link constitutes a major 
challenge for these solutions. It dictates the quality of the service 
and is dependent on the communication channel that in turn is 
correlated to the environmental conditions where the network is 
to be installed. Professionals in this area need to understand the 
propagation mechanisms to plan, implement and manage these 
networks. The learning of these principles can be arduous if 
using real radio links in open areas, due to the impossibility to 
control the propagation mechanisms. This paper presents the 
first results of a low-cost channel emulation workbench to be 
used in classrooms for the learning of propagation principles in 
different scenarios. The proposal is to emulate flat fading 
channel behaviors and thus facilitating the learning of 
propagation principles and the effects in link quality with 
different channel models, like Friis and Log-Distance. The 
testing and benchmarking of the workbench was done with the 
use of an open source wireless sensor network to measure the 
radio signal intensity and thus verify the reproduction of the flat 
fading model by the workbench. The initial results demonstrate 
the usefulness of this workbench as it incorporates an automatic 
setup that permits the execution of different propagation 
experiments in the classroom. 
 
Keywords ‚Äì LPWAN; IoT; Network; WSN; channel 
emulation. 
 
I. 
INTRODUCTION 
      The number of devices connected to the Internet is 
growing with the perspective of yearly increases [1]. This will 
generate a large amount of data that will need to be processed 
in order to control industrial processes or simply assure more 
comfort or safety, such as residential automation and 
applications in smart cities.  
      The 
Low 
Power 
Wide 
Area 
Networks 
(LPWAN) 
technologies are a solution. Several technologies have been 
proposed to meet different Internet of Things (IoT) scenarios 
such as Lora [2] and SigFox [3]. The knowledge of how 
LPWAN 
works 
is 
fundamental 
for 
the 
effective 
implementation of IoT, especially the communication 
channel since there is no point in focusing on the storage of 
data if there is no guarantee of communication between 
nodes.  
      To assure connectivity, it is necessary to invest in the 
operation of LPWAN, monitoring the behavior of the 
channel.   
      There are many studies about channel effects focusing on 
the higher layers of the protocol as in [4], where there is a 
concern regarding the teaching of LPWAN, focusing on 
network configuration, data set and software engineering. In 
[5] solutions are proposed only for routing and medium access 
through a simulation model. 
      There is also some use of LPWAN to teach other subjects 
[6] and [7] despite IoT and data communication and there are 
some authors who use simulation to explain the 
communication channel, as in [8] and [9]. 
      The teaching of wireless networks stumble on the 
complexity of assembling experiments that allow the 
reproduction of the phenomena found in radio frequency (RF) 
connections. In laboratory it would be difficult, for example, 
to create free space attenuation scenarios or environment 
effects by varying the loss with physical obstacles. There are 
some commercial channel emulators like Propsim Channel 
Emulator from Keysigth [10], however these are quite 
complex to operate and expensive to acquire, rendering them 
unsuitable for use in undergraduate classes. 
      This article presents a low-cost strategy for teaching the 
particularities of wireless communications, simulating the 
disturbances suffered by the RF signal, as it is essential to 
understand how the system reacts to the channel. To create 
the conditions for the learning and understanding of these 
processes, a radio channel emulator is proposed. With this 
strategy, it is possible to imprint, on the radio signal, the 
characteristic signal fluctuations while generating statistical 
representations. The emulator reproduces propagation 
phenomena, such as free space attenuation, log-normal, 
Rayleigh, etc. With this capability, it is possible to present 
communication concepts in real conditions, with experiments 
that can be evaluated in laboratory. 
      The emulation is accomplished using software-controlled 
attenuators, connected to real wired networks using a shielded 
camera, so that it is possible to evaluate the channel effect in 
the communication with regard to the wireless network 
physical layer [11]. Parameters, such as modulation, data rate, 
power, frequency offset, etc. can then be controlled and 
explored.  
4
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-650-7
AICT 2018 : The Fourteenth Advanced International Conference on Telecommunications

      Section II presents a review of the literature on 
propagation in Free Space and Log Distance models. Section 
III presents the emulation table, while Section IV presents the 
materials used. Section V shows the test methods and 
emulations with the results in Section VI and conclusions in 
Section VII. 
II. 
FREE SPACE AND LOG DISTANCE MODELS 
The Received Signal Strength Indication (RSSI) decreases 
over the distance on any transmission medium. In wireless 
systems this attenuation can be quite strong due to large 
distances and types of environment in which the system is 
operating. 
Considering a simple network with two nodes, for the 
monitoring of IoT devices, as shown in Figure 1. It is 
necessary to think about the channel effect over the system to 
appropriately ensure the communication‚Äôs quality between the 
nodes.  
 
 
Fig 1:  Nodes connectivity 
 
The models used to plan the communication channels, 
which are still the subject of research, are usually 
deterministic or statistical [12]. Regarding the deterministic 
models, it is important to consider the exact physical 
characteristics of the propagation medium. In this paper we 
will consider the Free Space and the Log Distance models. 
The Free Space model considers the transmission power 
(PTX), the gains on the transmission (GTX) and the reception 
(GRX) antennas, the distance between nodes and the 
operating frequency [3]: 
Prx = Ptx + Gtx + Grx ‚àí 10 log(
4œÄd
Œª )2  
 
(1) 
      This expression considers as attenuation only the distance 
between nodes and the frequency of operation, which can be 
observed in Figure 2: 
 
 
Fig. 2: Free Space Attenuation Calculated for Three Different 
Frequencies 
The Log Distance model considers the Path Loss 
Attenuation factor (ÔÅ¢) that characterizes the different types of 
environments, according to Table 1:  
 
TABLE I: Path loss Œ≤ [12] 
Environment 
Path Loss Œ≤ 
Free Space 
2 
Rural (plane) 
3 
Suburban (plane) 
4 
Urban (high buildings) 
4.5 
 
     This model assumes that the PRX(d), at a distance d, can be 
calculated by considering ÔÅ¢ and a reference PRX(d0) at a point 
close to the transmitter (with Free Space attenuation), 
according to Figure 3 [13].  
 
 
Fig. 3: Log Distance Model 
 
PRX(d) = PRX(ùëë0) ‚àí 10Œ≤ log (
d
ùëë0)   
(2) 
       The calculations based on the Log Distance model, for 3 
different values of Œ≤ (Figure 4), consider that to know the 
total attenuation of the system, it is necessary to add the 
attenuation of the Free Space, according to (2):  
 
 
 
Fig. 4: Log Distance Attenuation Calculated 
 
The Free Space Model predicts that the received power 
decays as the negative square root of the distance and the Log 
Distance increases the decay according to the propagation 
environment. Although they are simple and deterministic 
models, they are the base for the characterization of the 
workbench and the development of other statistical models.  
 
5
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-650-7
AICT 2018 : The Fourteenth Advanced International Conference on Telecommunications

III. 
EMULATION WORKBENCH 
According to [14], both simulated experiments (virtual 
laboratories) and real remotely operated plants (remote 
laboratories), have recently been used more often. The 
advantage of remote laboratories resides in the fact that 
students can use real equipment that exist in several areas of 
engineering [15] [16].  
      The emulating workbench replicates a two-node LPWAN, 
showing what would happen to the propagation signal if those 
nodes were transmitting information through a RF channel 
(Figure 5), where the nodes are interconnected by an emulated 
RF channel. 
 
 
Fig. 5: Emulation Workbench Diagram 
 
      Only two nodes were used to demonstrate the workbench 
in this work, but the system allows the use of several nodes to 
emulate characteristics like routing techniques, for example.  
 
IV. 
MATERIALS 
Currently, there are many LPWAN technologies. Among 
these technologies, Radiuino [17] was chosen mainly because 
it is an open platform created specifically for LPWAN. It is 
based on the Arduino development environment (IDE).  
 
i. 
Hardware 
For the RF channel emulation, the base and the sensor 
were interconnected through a Mini-Circuits digital variable 
attenuator (ZSAT -31R5+) operated by a microcontroller as 
shown in Figure 6: 
 
 
 
Fig. 6: Emulation Workbench Materials 
 
ii. 
Firmware 
The base and sensor node programming was done with the 
Arduino's Integrated Development Environment (IDE), the 
firmware was developed in C ++ and Radiuino-specific 
libraries [17]. 
iii. 
Software 
      The programs used to control the base node, as well as 
the sensor node and the digital attenuator were developed in 
Python. 
V. 
METHODS AND RESULTS 
       The final test configuration included a PC-Base and a PC-
Microcontroller connection made via a USB cable. The Base-
Attenuator-Sensor connection was made through a coaxial 
cable, eliminating the antennas. The digital attenuator created 
the attenuation effect on the channel. 
The computer sent the Arduino‚Äôs 52-byte packet to the 
base via the USB, the base incremented the address 
identification (ID) and transmitted via emulated RF with the 
power previously programmed into the base firmware. For 
each packet sent, the attenuation value was changed. The 
sensor node received the packet from the base, measured the 
RSSI, verified the instructions regarding what should be done 
and returned the information to the base to be processed by 
the computer.   
The digital variable attenuator of 31.5 dB was controlled 
by an Arduino. For each received packet, the attenuation was 
incremented to represent the attenuation in Free Space and 
Log Normal models with several values of Œ≤.  
Figure 7 shows the graph for the RSSI on the primary 
vertical axis against the attenuation on the secondary vertical 
axis.  
 
 
 
 
Fig. 7: Emulation Results 
 
      The attenuation ranged from 0 to 31.5dB, while the RSSI 
went from -35 dBm to nearly -67dBm. The time was also 
emulated to vary. The graphs confirm the usefulness of this 
setup to carry out experiments. It is possible to observe the 
expected inverse correlation between attenuation and 
intensity of the emulated signal, representing the attenuation 
in free space. 
       Figure 8 shows the emulated of path loss attenuation for 
different values of Œ≤ according to the attenuation in the Log 
Distance model. 
 
6
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-650-7
AICT 2018 : The Fourteenth Advanced International Conference on Telecommunications

 
 
Fig. 8: Log Distance Emulation Results 
 
      The graph highlights the versatility the workbench lends 
to the task of varying the attenuation curve to reflect different 
environments. 
        Figure 9 presents the comparison between the 
emulated workbench and the calculated Free Space model, 
with the power on the primary vertical axis against the 
attenuation on the secondary vertical axis.  
 
 
 
Fig 9: Emulated x Calculated Comparison 
         It is possible to verify that as the attenuation of the 
emulated system (continuous line) grows, the RSSI 
proportionally degrades, coinciding with the calculated 
values (dashed line), demonstrating the efficiency and 
accuracy of the workbench. 
VI. 
CONCLUSION  AND FUTURE WORKS 
       This paper presented an emulation workbench that can 
be used for testing LPWAN technologies and for the 
demonstration of how these technologies behave in an 
unstable and non-repeatable environment such as RF 
communication, using the Free Space and Log Distance 
models as examples. 
      Results from the workbench using Radiuino LPWAN 
technology demonstrate that a set up consisting of two 
interconnected nodes and a digital attenuator can emulate the 
characteristics of a real environment. 
      Teaching RF channel becomes much more effective with 
an emulated system that uses real IoT components. The 
workbench also allows the testing and comparison of other 
technologies for predetermined scenarios, making it easier to 
define the technologies to be used, since IoT technologies 
must be customized per application.  
      The great advantage of this type of emulation is the 
control over the attenuation imprinted on the channel. It can 
be used for the emulation of models like the propagation in 
free space, Log Distance or any other type of probabilistic 
distribution. As a future work, we propose to extend the 
emulation bench to cater for probabilistic models of channel 
propagation, such as Log Normal, Rayleigh and Rice. In 
addition, we also intend to use other LPWAN technologies to 
compare performance and efficiency, as well as to enable the 
emulation bench to be accessible remotely. 
REFERENCES 
[1] U. Raza, P. Kulkarni, and M. Sooriyabandara, ‚ÄúLow Power Wide 
Area Networks: An Overview,‚Äù IEEE Commun. Surv. Tutorials, 
vol. 19, no. 2, pp. 855‚Äì873, 2017. 
[2] Lora Alliance. [Online]. Available: https'://lora-alliance.org 
[Accessed: 03-Apr-2018] 
[3] 
Sigfox 
[Online]. 
Available: 
https://www.sigfox.com/en 
[Accessed: 03-Apr-2018] 
[4] E. Tanin, ‚ÄúTeaching Wireless Sensor Networks at the University 
of Melbourne,‚Äù IEEE Distrib. Syst. Online, vol. 8, no. 6, pp. 3‚Äì3, 
Jun. 2007. 
[5] G. Zhou, T. He, S. Krishnamurthy, and J. A. Stankovic, ‚ÄúImpact 
of radio irregularity on wireless sensor networks,‚Äù in Proceedings of 
the 2nd international conference on Mobile systems, applications, 
and services  - MobiSYS ‚Äô04, 2004, p. 125. 
[6] A. Lei, C.-U. Lei, N. Wong, and K. Lok Man, ‚ÄúIntegration of a 
Wireless Sensor Network Project for Introductory Circuits and 
Systems Teaching,‚Äù pp. 19‚Äì23, 2013. 
[7] P. Lin, V. Provenzano, G. Palumbo, T. Gabb, and J. Telesman, 
‚ÄúA Weblab For A Level And Temperature Control Plant 
,‚Äù Symp. A Q. J. Mod. Foreign Lit., pp. 243‚Äì253, 2010. 
[8] A. Martinez-Sala, et al, ‚ÄúAn accurate radio channel model for 
wireless sensor networks simulation,‚Äù J. Commun. Networks, vol. 
7, no. 4, pp. 401‚Äì407, Dec. 2005. 
[9] R. G. [UNESP] Nespolo, ‚ÄúSensor Deployment 3D para Redes de 
Sensores Sem Fio (RSSF),‚Äù Aug. 2016. 
[10] Keysigth - Propsim Channel Emulator. [Online]. Available: 
http://www.mrc-gigacomp.com/pdfs/Keysight-Propsim-F8-
Datasheet.pdf [Accessed: 03-Apr-2018] 
[11] K. Pentikousis, ‚ÄúTCP in wired-cum-wireless environments,‚Äù 
IEEE Commun. Surv. Tutorials, vol. 3, no. 4, pp. 2‚Äì14, 2000. 
[12] S. Haykin and M. Moher, Modern Communication Systems. 
Porto Alegre, Brasil.: Bookman, 2008. 
[13] T. S. Rappaport, Comunica√ß√µes Sem Fio: Principios e Pr√°tica, 
2nd ed. Pearson, 2009. 
[14] J. Uhomoibhi, F. Ubwa, and I. Ibhuiyan, ‚ÄúVirtual and remote 
laboratory implementation in engineering education and research‚Äù 
in 2014 International Conference on Interactive Collaborative 
Learning (ICL), 2014, pp. 1095‚Äì1099. 
[15] S. Lopez, A. Carpeno, and J. Arriaga, ‚ÄúRemote Laboratory 
eLab3D: A Complementary Resource in Engineering Education,‚Äù 
IEEE Rev. Iberoam. Tecnol. del Aprendiz., vol. 10, no. 3, pp. 160‚Äì
167, Aug. 2015. 
[16] D. A. Miele, B. Potsaid, and J. T. Wen, ‚ÄúAn Internet-based 
remote laboratory for control education,‚Äù in Proceedings of the 2001 
American Control Conference. (Cat. No.01CH37148), 2001, pp. 
1151‚Äì1152 vol.2. 
[17] ‚ÄúRadiuino.‚Äù [Online]. Available: radiuino.cc. [Accessed: 03-
Apr-2018].  
7
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-650-7
AICT 2018 : The Fourteenth Advanced International Conference on Telecommunications

