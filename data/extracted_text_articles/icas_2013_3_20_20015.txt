Numerical Model of Generelized Multi-Priority Queuing System  
 
Eimutis Valakevicius, Mindaugas Snipas 
Department of Mathematical Research in Systems 
Kaunas University of Technology 
Kaunas, Lithuania 
E-mails: {eimval@ktu.lt, minsnip@ktu.lt} 
 
 
Abstract—The paper presents a novel approach of semi-
automatic technique for creation numerical models of 
stochastic queuing systems of general type. The general model 
can be reduced to a queuing system of desired construction: 
with various numbers of queues, servers, any service time 
distributions and different priorities.   Markov chains are used 
to model the dynamics of systems with phase–type distributed 
service times. Event–driven approach is applied to model the 
change of the system.  The calculated stationary probabilities 
of possible states of the system are used to compute measures 
of the system performance.   
Keywords-generalized queueing system; numerical model; 
phase–type distribution; Markov chain; stationary probabilities 
I. 
 INTRODUCTION  
Queuing models are useful mathematical tools in the 
study of design problems of a wide variety of stochastic 
service systems, such as, computer and telecommunication 
networks, inventory, logistic and other complex systems. 
There are a lot of publications in scientific literature devoting 
to the construction of analytical models of Markovian 
queuing systems [1][2][3][4][5]. Some queuing systems are 
modeled using numerical approach.  Usually, the analytic 
approach is effective only for Markovian queuing systems 
with infinite waiting room. However, it is difficult or often 
impossible to find analytical solutions of non-Markovian 
multi-class 
and 
multi-server 
priority 
queues. 
Some 
researches restricting themselves analyzing two priority 
classes or limiting the number of high or low priority jobs 
[6][7]. In other papers multi-priority, multi-server   system is 
roughly approximated by a single server system [8] or 
aggregating the multi-priority classes into two classes, as in 
[9][10]. This article proposes a numerical approach for semi-
automatic construction numerical models of complex 
generalized queuing systems.  The numerical technique 
allows modeling a wide variety of stochastic service 
systems. The paper is an enhancement of articles published 
in [11][12] and can be considered as a “work in progress”. 
So, it was not possibility to compare the proposed technique 
with related work.  
The paper is organized as follows. Section 2 gives 
description of a generalized queuing system under 
consideration. 
Section 
3 
describes 
the 
algorithm 
implemented in to programming tool to create a numerical 
model. The example is given in Section 4 and the paper is 
concluded in Section 5. 
II. 
DESCRIPTION OF THE STOCHASTIC MODEL 
Consider a queuing system with k identical servers and n 
priority classes: the highest priority 1 and lowest priority n. 
Priority rules is non - preemptive. In queuing applications, it 
is often convenient to approximate the service time by 
distributions that are built out of a finite sum or a finite 
mixture of exponentially distributed components. These 
distributions are called phase-type distributions. The 
application of such distribution allows constructing 
Markovian model [13] of the system. The queuing system 
under consideration assumes Poisson arrival processes [14] 
of n class’s customers with rates 
n
i i
.
,1
,
…
=
λ
 and phase-
type 
distributed 
service 
times 
with 
parameters 
.2,1
. ;
,1
( ) ,
=
=
k j
i
i j
…
µ
 Two phase-type distribution will be 
used in the model. The approximation of general type 
distribution by two phase-type distribution is discussed in 
[12]. The scheme of simplified queuing system with n = 2 
and k =1 is represented in Figure 1: 
pppp 
1µ )1(
 
1µ( )2
 
1
λ  
1− a
 
a 
2
λ
−p
1
p 
 
 
Figure 1. The simplified queuing system  
 
 Within each class, service discipline of customers is a 
First Come First Served (FCFS).   Queue length of each 
class customers is limited. Each served customer can leave 
the system with probability p or can be returned for repeated 
service with probability 1-p.  
 
67
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-257-8
ICAS 2013 : The Ninth International Conference on Autonomic and Autonomous Systems

III. 
 PROCESS OF CREATING A NUMERICAL MODEL OF 
THE QUEUEING SYSTEM  
We will present the algorithm of creating the numerical 
model of a queuing system under consideration. It can be 
considered as consisting of five parts [15].  
1.  Define the state vector of the system. All possible 
combinations of coordinates describe the set of all possible 
system states. 
 2.  Identify all the possible events which change the state 
of the system. 
 3.   Describe all the events for generation system states 
and transition matrix.  
      4.  Compute the stationary probabilities of the states. 
5.  Calculate the performance measures of the system.   
The performance of the generalized queuing system will 
be described according the suggested algorithm. 
The state of the system is given by the vector  
 
 
2 ),
.
,1
,
;
,
,1
,
, ;
,1
,
(
k
n
k
n
m
s
k
n
n
j
n s
i
s
S
m
j
i
+
+
+
=
+
+
=
=
=
…
…
…
 
(1) 
 
here 
is , 
n
i
= ,1
 - the number of customers in the ith  
         queue.  
 
 






+
+
=
−
=
;
,
,1
if the server is idle;
,0
by customer from th queue;
    
) th server is busy
if the (
,
k
n
n
j
i
n
j
i
s j
…
 
(2) 
 
 
 












+
+
+
=
−
−
−
−
−
−
=
2 ;
,
,1
phase ;
second
)th server in the
in the (
if the customer is served
2,
first phase ;
the
) th server in
in the (
if the customer is served
1,
)th server is idle;
if the (
,0
k
n
k
n
m
k
n
m
k
n
m
k
n
m
sm
…
 
(3) 
 
 
The values of coordinates are bounded so: 
 
 
n
l i
s
i
i
,
,1
,
= …
≤
. 
 (4) 
 
The set of transition rates among states is the following: 
 
 
, },
,1
,
, ,
,1
,
, ,
,1
,
{
2)
(
1)
(
k
j
k
j
n
i
Rates
j
j
i
…
…
…
=
=
=
=
µ
µ
λ
 
(5) 
 
where  
 
iλ - the  arrival rate of ith class customers to the system; 
(i)
µ j
- the service rate of a customer in jth server and ith 
stage. 
 
The set of possible events in the system: 
 
 
5 },
,
,1
4
,
4 ;
,
,1
3
,
3 ;
,
,1
2
,
2 ;
.
,1
,
;
,
,1
,
, ;
,2
,
;
{ 1
k
n
k
n
t
e
k
n
k
n
e
k
n
k
n
r
e
k
n
k
n
m
e
k
n
n
j
e
n
i
e
e
E
t
r
m
j
i
+
+
+
=
+
+
+
=
+
+
+
=
+
+
+
=
+
+
=
=
=
…
…
…
…
…
…
ν
ν
 
(6) 
 
where 
ie - a customer of the ith class arrived to system 
with rate  
iλ  ; 
je - a customer was  served in (j-n)th  server in the 
first  phase and  with rate 
µj )1(
p (1-a) leaves the 
system; 
em
- a customer was  served in (m-n-k)th  server in 
the first  phase and  with rate 
( )1
m n k
µ − −
 (1- p)(1-a) 
returns for repeated service;   
re - a customer was transferred  from the first 
phase  to the second phase  in the  (r-n-2k)th  
server with rate  
)1(
r n k
µ − −
a; 
νe
- a customer was served in 
3 )
(
ν − n − k
th  
server and left the system with rate 
(2)
µν −n−k
p; 
te - a customer was  served in (t-n-4k)th  server 
and was returned for repeated service with rate 
(2)
t n k
µ − −
(1-p); 
       
      The initial state is  
  
     
0, )
,0
(
0
…
=
S
. 
 
The description of the event 
1e is given below. 
 
68
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-257-8
ICAS 2013 : The Ninth International Conference on Autonomic and Autonomous Systems

1e : 
if      
1
1
s < l
 
then if 
2 )
,
,1
2)),
1
(
0
(
1
k
n
k
n
m
or s
s
and
s
m
m
+
+
+
=
=
=
>
…
 
                                                      then   
1
:
1
1
= s +
s
 
  end if 
        else 
}
,
,1
,0
: min{ :
k
n
n
p
p s
j
p
+
+
=
=
=
…
: 1
,1
:
=
=
j+k
j
s
s
 
    
 
           end if 
Return  Rate 
: λ1
=
 
 
The created programming tool using described events 
generates the possible set of states, constructs the transition 
matrix among them, calculates stationary probabilities of 
system states 
 
 
)
;
( ;
:)
2
.
,1
,
;
,
,1
,
, ;
,1
,
(
m
j
i
m
j
i
s
s
s
k
n
k
n
m
s
k
n
n
j
n s
i
s
π
π
=
+
+
+
=
+
+
=
=
…
…
…
 
(7) 
  
and computes performance measures of the system. The 
formulas for computing desired measures must be created.  
For example, the mean queue length 
)
(
iL
E
 of ith class 
customers in the system is calculated according the 
following formula 
 
 
∑
∑
∑
=
+
= +
+
= + +
⋅
=
n
s i
n k
j n
s
k
n
m n k
s
m
j
i
i
i
i
j
m
s
s s
s
L
E
,
,1
,
,
,1
,
2
,
,1
,
)
;
;
(
)
(
…
…
…
π
 (8) 
IV. 
EXAMPLE  
Consider a queuing system with 3 priority classes and 2 
identical servers. This queuing system assumes Poisson 
arrival processes with rates  
n
i i
,
,1
,
= …
λ
 and exponentially 
distributed service times with parameters 
(1)
µ j
and
0
(2)
=
µ j
, 
k
j
= ,1 …,
 respectively.  
The main problem when modelling real systems is a rapid 
growth of the number of states of a Markov chain. 
Computation of stationary probabilities can require a large 
amount of calculations and computer resources.  For 
example, if the set of states is described as  
 
 
(
)
{
}
5
5
4
4
;3
3
2;
2
1
1
5
4
1 2
;
;
;
;
,
,
,
,
,
l
l s
s
l
s
l
l s
s
s s s s s
S
s
≤
≤
≤
≤
≤
=
, (9) 
 
it is easy to prove that the total number of states equal to 
 
 
)1
1)(
1)(
1)(
1)(
(
5
4
3
2
1
+
+
+
+
+
l
l
l
l
l
. 
(10) 
 
We chose limitation on summary waiting space  
 
 
7
3
2
1
≤
+
+
l
l
l
. 
(11) 
 
We estimated the mean queue length for each customer 
class and general loss probability 
(
P Loss)
  (i.e., the 
probability that the customer of any class will not be 
served).  
Numerical modeling results were compared with 
simulation results using ARENA simulation software.  
During each simulation session total amount of more than 5 
500 000 customer arrivals were generated.  We used PC 
with AMD Athlon 64 X2 dual core processor 4000+ 2.10 
GHz, 896 MB of RAM physical address extension. Intensity 
rates, modeling results and calculation times are in Table 1.  
 
 
TABLE I  
MODELING RESULTS 
 
Parameters 
Method 
( )
1L
E
 
(
E L2 )
 
(
3L )
E
 
(
P Loss)
 
Time, s. 
λ1 =1
 
8.0
λ2 =
 
5.0
λ3 =
 
Numerical 
modeling 
0.0722 
0.0922 
0.0800 
0.0012 
78 
2
11( )
=
µ
 
3
2 )1(
=
µ
 
4
)1(
µ3 =
 
ARENA 
0.0719 
0.0925 
0.0795 
0.0012 
316 
λ1 = 2
 
6.1
λ2 =
 
λ2 =1
 
Numerical 
modeling 
0.4108 
0.7774 
1.0709 
0.0764 
79 
2
11( )
=
µ
 
3
(1)
µ2 =
 
4
( )1
µ3 =
 
ARENA 
0.4097 
0.7783 
1.0684 
0.0763 
314 
 
 
 
 
 
 
69
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-257-8
ICAS 2013 : The Ninth International Conference on Autonomic and Autonomous Systems

The modeling parameters were chosen freely. The 
obtained results showed that it requires less calculation time 
and gives higher accuracy than standard simulation software 
to model certain queuing systems.      
V.  CONCLUSION AND FUTURE WORK 
This paper presented a new programing tool, which was 
developed in C++ language code to implement a numerical 
model. The tool realized the semi-automatic technique for 
creation of numerical models and analysis of stochastic 
queuing systems.  It generates the set of all possible states 
and transition matrix of the system under consideration, 
computes the stationary probabilities and the performance 
measures of the system according the given formulas. The 
technique offers advanced functionality compared to existing 
tools from several points of view: 1) the tool allows solving 
problems of large scale (with thousands or millions of 
states); 2) the tool allows creating models of non-markovian 
queuing systems approximating ones by markovian models. 
Problems of large dimension require a large amount of 
calculations and computer resources. Often it is impossible 
to solve some problems with available resources. The future 
work will be devoted for creation a special computation 
algorithm which allows avoiding mentioned problems.  
 
REFERENCES 
[1] 
A. Sleptchenko, A. Harten, and M. Heijden, “An exact 
solution for   the state probabilities of the multi-class, multi-
server queue with preemptive priorities, Queuing systems”, 
Queueing Systems: Theory and Applications, vol. 50, 2005, 
pp. 81-107. 
[2]  H. R. Gail, S. L. Hantler, and B. A. Taylor, “On preemptive 
Markovian queue with multiple servers and two priority 
classes”, Mathematics of Operations research, vol. 17, no. 2, 
1992, pp. 365-391. 
[3] 
A. Sleptchenko, I .J. B. F. Adan, and  G .J. van Houtum,  
“Joint queue length distribution of multi-class, single-server 
queues 
with 
preemptive 
priorities” 
<http://alexandria.tue.nl/repository/books/581962.pdf> 
25.12.2012 
 
 
 
 
 
[4]   M. Harchol-Balter, T. Osogami, A. Scheller-Wolf, and A. 
Wierman, “Multi-server queueing systems with multiple 
priority 
classes 
Queueing 
Systems”, 
Theory 
and 
Applications, vol. 51, 2005, pp. 331-360.  
[5] 
E. P. C. Kao and S. D. Wilson, “Analysis of non - 
preemptive priority queues with multiple servers and two 
priority classes”, European Journal of Operational Research, 
vol. 118, 1999, pp. 181-193. 
[6] 
E. P. C. Kao and K. S. Narayanan, “Computing steady-state 
probabilities of a nonpreeptive priority multiserver queue“, 
Journal on Computing, vol. 2, no 3, 1990, pp. 211 – 218. 
[7] 
E. Kao and K. Narayanan, “Modeling a multiprocessor 
system with preemptive priorities“, Management Science, 
vol. 2, 1991,  pp.185–97. 
[8] 
A. Bondi and J. Buzen, “The response times of priority 
classes under preemptive resume in M/G/m queues“, In 
ACM Sigmetrics, Aug. 1984,  pp. 195–201. 
[9] 
 I. Mitrani and P. King, “Multiprocessor systems with 
preemptive priorities“,  Performance Evaluation, vol.1, 1981, 
pp. 118–125. 
[10] T. Nishida, “Approximate analysis for heterogeneous 
multiprocessor systems with priority jobs“, Performance 
Evaluation, vol. 15, 1992, pp. 77–88. 
[11] M. Snipas and E. Valakevicius, “Numerical-analytic model 
of multi-class, multi-server queue with nonpreemptive 
priorities”,  Innovations and Advances in Computer Sciences 
and 
Engineering. 
Dordrecht: 
Springer, 
2010, 
ISBN 
9789048136575, pp. 413-415. 
[12]  E. Valakevičius, ”The application of phase type distributions 
for modelling queuing systems”, Journal of Systemics, 
Cybernetics and Informatics, vol. 5, no. 6, 2009,   pp. 28-32. 
 [13] W-K. Ching and M. K. Ng, “Markov Chains: Models, 
Algoritms and Applications”, Springer, 2005. 
[14]  H. C. Tijms, Stochastic Models: An Algorithmic Approach. 
John Wiley & Sons, 1994. 
[15] H. Pranevičius and  E. Valakevičius, Numerical Models of 
Systems Specified by Markovian processes. Kaunas: 
Technologija, 1996. 
 
 
 
 
 
 
 
 
 
 
 
70
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-257-8
ICAS 2013 : The Ninth International Conference on Autonomic and Autonomous Systems

