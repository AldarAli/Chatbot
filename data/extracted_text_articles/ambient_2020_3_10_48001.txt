Long-Range Data Transmission for Online Water Quality Monitoring
of the Tembling River in Rural Areas of Pahang, Malaysia
Norashikin M. Thamrin
Agrosen Laboratory, Faculty of Electrical Engineering
Universiti Teknologi MARA
Shah Alam, Selangor, Malaysia
e-mail: norashikin@uitm.edu.my
Mohamad Farid bin Misnan
Faculty of Electrical Engineering
Universiti Teknologi MARA
Pasir Gudang, Johor, Malaysia
e-mail: mohamadfarid@uitm.edu.my
Nik Nor Liyana Nik Ibrahim
Department of Chemical and Environmental Engineering
Universiti Putra Malaysia
Serdang, Selangor, Malaysia
e-mail: niknorliyana@upm.edu.my
Navid Shaghaghi
Ethical, Pragmatic, and Intelligent Computing (EPIC) Lab,
Departments of Mathematics and Computer Science (MCS)
and Computer Science and Engineering (CSEN)
Santa Clara University (SCU), Santa Clara, USA
e-mail: nshaghaghi@scu.edu
Abstract— Pahang river’s main tributary, Tembeling river,
flows through the Taman Negara national park in Pahang,
which is an eco-tourism attraction in Malaysia. Tembeling
river is the main sources of water and food for its surrounding
communities.
However,
agricultural
and
recreational
development on the river banks, monsoon season flooding, and
maritime activities on the river have polluted the river water to
levels that can cause the extinction of fish and thus the loss of
the fishermen’s income and livelihood. An automated water
quality monitoring system at Tembeling River is therefore
believed to benefit the ecosystem immensely. But, the limited
mobile network coverage, uneven terrain, and dense forest
foliage have made it difficult for wireless data transmission.
This paper proposes long-range data transmission via multi-
hop
short-range
Radio
Frequency
(RF)
communication
between the remote sensor node(s) and a base station through a
network of data extender nodes that utilize the ÂB network
layer Energy Aware Communication Protocol (EACP) in order
to take advantage of the nodes’ sleep cycles. Thus, this work
hopes to contribute towards providing stable, reliable, and
energy efficient wireless data transfer technology for deploying
Internet of Things (IoT) solutions in rural areas.
Keywords-
ÂB;
Automated
Environmental
Monitoring;
Internet of Things (IoT); Repeater; Tembeling River; XBee.
I.
INTRODUCTION
Malaysia is a country in South East Asia that is bordered
by Thailand, Indonesia, Singapore, and Vietnam by sea and
land. The country is rich in coastal and mountain diversity
and is divided into two sections: Peninsular Malaysia and
East Malaysia. Pahang, which is the country’s third-largest
state after Sabah and Sarawak in East Malaysia, is the
largest state in Peninsular Malaysia. Two-thirds of the state
is covered by dense forests, intersected by numerous rivers
at its center, joining to form the Pahang river that dominates
the drainage system in the region and nourishes Malaysia's
most significant rainforest, namely Taman Negara, which is
estimated to be 130 million years old. Taman Negara is also
one of the central regions in Peninsular Malaysia that
contributes to the wildlife richness in the country [1]. It has
a wide variety of habitat types that host more than 3000
species of plants, 480 species of birds, and 150 species of
mammals including some rare species, 30 species of
rodents, and more than 80 species of bats [4].
Among the essential ecosystems that are continuously
studied in Taman Negara are the freshwater areas [2]-[4]
along the Pahang river. The Tembeling river is the main
tributary of the Pahang river and a well-known eco-tourism
destination for local and international patrons [5][6]. Several
major tributaries flow into the Tembeling river, such as
Keniam river, Sat river, Sepia river, Tahan river, and
Trenggan river. The community utilizes the Tembeling river
as a source of water and food. Additionally, places such as
the village of Mat Daling (Kampung Mat Daling), Pagi
village (Kampung Pagi), Bantal village (Kampung Bantal),
and Kuala Sat village (Kampung Kuala Sat) still rely on
boats as a means of transportation. Furthermore, a small
number of locals perform aquaculture activities in the
Tembeling river, where species such as patin (pangasius
sutchi) and tilapia are bred [7] for commercial usage.
Unfortunately, extensive anthropogenic activities at the
entrance to the Taman Negara including land clearing for
the construction of hotels, resorts, and restaurants, improper
discharge of wastewater from these amenities, and intense
navigation by motor boats, are causing pollution and the
destruction of the fish habitat [7][8]. Furthermore, following
the monsoon season, a higher concentration of heavy metals
such as Silver (Ag) and Cadmium (Cd) are displayed in the
river water. The likely source of these minerals is however
believed to be from the area's natural geology [9]. The
aforereferenced studies suggest that the water supply in the
National Park is of acceptable quality for recreational
purposes.
However,
continuous
monitoring
of
28
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-814-3
AMBIENT 2020 : The Tenth International Conference on Ambient Computing, Applications, Services and Technologies

environmental pollutants is essential in keeping the water
safe and thus preventing any recreational water illness.
II.
MOTIVATION
An extreme flood in the states of Pahang in 2014 caused
massive damage to the region as well as substantial damage
to the infrastructure of the cities. Untreated raw sewage
entered the Pahang river during the flood which caused the
contamination of the water and surrounding environments
[10]. As a result, traces of heavy metals were found in the
Pahang river fish. Even though the amount discovered was
small, it could still be hazardous to human health as
measurements have shown that the trace metal concentration
in fish samples almost exceeded the recommended levels by
the Malaysian Food Act of 1983 [10][11]. The study
presented new data from a survey of fish count and their
habitat status in Sungai Pahang, specifically located in the
Maran district of Pahang. Three groups of fish that were
analyzed in the studies indicated that the fish population in
this area were influenced by a combination of water quality
parameters such as pH and Dissolved Oxygen (DO). The
results also provided an important database for future
fishing activities and the conservation of fish in the river
area [12]. A qualitative study of the settlers living near the
Tembeling
river
was
also
conducted
to
observe
the
vulnerability of the villagers to environmental changes in
the river [7]. The study found the problems of the
cleanliness of the river, climate change, and the loss of fish
and shrimp, have negatively influenced the villagers’ daily
lives and income.
A continuous water monitoring system at Tembeling
and other tributaries of Pahang river to monitor the impact
of ecological and anthropogenic activities on fish habitat is
therefore
important
for
the
future
improvement
and
development of fisheries. The implementation of an IoT
monitoring system has many advantages for a variety of
purposes and use cases such as measuring environmental
radiation, irrigation or harvesting automation, monitoring
cattle, ambient temperature sensing, and much more as
discussed
in
numerous
work such as [13]-[18]. The
architecture for the proposed IoT river water monitoring
system consists of three layers, namely, (1) sensing layer,
(2) network layer, and (3) application layer. The sensing
layer enables water parameters to be identified, sensed, and
measured with a variety of sensor devices. In other
applications, these devices can be connected through Wi-Fi,
Ethernet, serial bus, 3G/4G/LTE/5G, ZigBee, RFID, or
other link layer protocols [18]. The primary constraint to
this implementation here however is the limitation of the
available networks in rural areas such as Tembeling river. In
Malaysia, the Ministry of Communications and Multimedia
(KKMM) initiated a telecentre system for rural communities
to improve their digital literacy through computer and
online activities since 2000. The first telecentres constructed
were located in Sungai Air Tawar, Selangor and Kota
Marud, Sabah. To date, 42 telecentres have been built in
Malaysia. Such telecentres use wireless technology to make
it easier for local villagers to access the Internet. In Pahang,
there are three telecentres, which were built at Bandar Tun
Razak,
Bukit
Goh,
and
Sungai
Koyan.
Sadly,
such
telecentres are far from the research areas at Kampung Pagi
and Tembling river and thus challenging to access. Beyond
the
challenges
of
2G/3G/4G
connectivity,
another
problematic element for wireless data transmission at the
remote monitoring site is the uneven terrain that hinders
long range Point to Point (P2P) wireless communication by
resulting in a Non-Line-Of-Sight (NLOS) link between the
transmitter and the receiver.
Previous research typically only investigated the type of
fish
species,
effect
on
the
fish
population,
and
the
sociological impact on the Tembeling River community. An
IoT implementation to continuously track the river water
quality, however, has not been reported so far. Therefore,
more work is needed to understand the behavior of
communication signals at the remote sites of the Tembeling
river.
III.
BACKGROUND AND OVERVIEW
There is a demand for a cost-effective and reliable
technique to establish a communication medium in rural
areas such as Tembeling river’s surrounding areas. To
address the problem of limited access to mobile signal
coverage (2G/GSM, 3G/WCDMA, 4G/LTE, and 5G) at the
Tembeling river’s remote site, a P2P system can be used. A
seemingly easy P2P solution could involve using LoRa
modules operating on frequencies between 919MHz to
923MHz in a similar fashion to existing monitoring systems
such as the Hydration Automation (HA) system used for
continuous monitoring of water tank levels in farms and
ranches [14] or the HiveSpy system used for continuous
monitoring of beehive frames for honey production in
apiaries [15]. Both of these systems use a network of Relay
Units (RUs) - a.k.a. repeaters, for propagating the signal
from the Sensing Units (SUs) to the base station over
several kilometers.
This paper similarly proposes a procedure for wireless
data transmission between the water sensor nodes and the
base station by using repeaters. However, due to the fact
that the uneven terrain and dense forest in the area inhibit
long range P2P communication, a much larger network of
more closely positioned repeaters is necessary. Therefore,
instead of using the more expensive LoRa modules used in
HA and HiveSpy, the usage of cheaper but lower range
XBee Pro modules is recommended. XBee Pro modules
utilize 2.4Ghz RF serial frequency communication for
transmitting and receiving the data. Another advantage of
using these modules is that they offer the ability to operate
on cheap batteries for years [19].
In order to further prolong the battery life on the
modules, sleep cycles will be used. However, as the number
of repeaters increase so will the complexity of keeping
universal time within the system. A proposed solution is to
29
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-814-3
AMBIENT 2020 : The Tenth International Conference on Ambient Computing, Applications, Services and Technologies

readapt the ÂB networking layer protocol used in the
aforementioned monitoring systems [14][15] to work atop
of the Zigbee link layer protocol. ÂB is an Energy Aware
Communication Protocol (EACP) used to take maximum
advantage of individual node sleep cycles in an IoT system
and is agnostic to the physical and medium access layers of
the communication subsystem [20]. Therefore, ÂB provides
a great opportunity for the enhancement of the energy
efficiency of the water quality monitoring system proposed
here for the Tembling river.
Figure 1 shows the proposed remote site for installing an
IoT monitoring system of Tembeling river’s water quality in
Kampung Pagi. The system's base station is planned to be
located at the local primary school, SK Kampung Pagi,
which is about 1.28 kilometers from the remote site.
Theoretically, this remote site and the proposed base station
can be interconnected with a single hop LoRa solution.
However, due to the uneven terrain and existence of a dense
rainforest in between the sensors and base station, multiple
hops will be necessary. And especially since these hops will
not have the possibility to cover grate distances each, the
advantage offered by the long range of LoRa modules gives
way to the disadvantage of their higher cost in comparison
to XBee communication modules. Hence a network of low
range yet carefully positioned P2P repeaters that utilizes an
energy efficient communication protocol such as ÂB,
presents itself as a realistic solution for this rural area of
Tembling river in this remote corner of Malaysia.
Figure 1.
The proposed location for testing the long-range data
transmission between a sensor node on the bank of the Tembeling River
and a base station at Kampung Pagi, in Taman Negara national park in
Pahang, Malaysia.
IV.
LONG-RANGE DATA TRANSMISSION PROTOCOL
The proposed RF long-range data transmission system
consists of three parts: (1) sensor node(s), (2) data
extender(s), and a (3) base station. Each part is equipped
with XBee Pro RF transceiver modules. The working range
of each XBee Pro RF module is estimated at around 3200
meters for line-of-sight (LOS) communication [21], so
theoretically, the values transmitted from the sensor node
can be repeated by adding an extender every 3200 meters
until reaching the base station. However, because of the
uneven terrain and dense forest in Kampung Pagi that limits
LOS communication and attenuates the signal strength, the
range of the RF signals and thus the number of data
extender modules needed will vary. Figure 2 illustrates the
overall module structure in the proposed data transmission
system.
Figure 2.
The block diagram of the proposed RF data transmission.
A.
Sensor Node
The sensor node has several water quality sensors
attached, as shown in Figure 3. The data gathered from each
of the sensors is collected and appended to an array. The
array is then transmitted using the RF transmitter to the next
hop in the system which is either the base station itself or a
data extender for systems where the senser node and base
station are far apart such as in the proposed system at
Tembeling river. Each array packet has a unique identifier in
its packet header to identify the sending sensor node so that
multiple sensor nodes can be used with a single base station.
Figure 3.
The sensor node to collect water parameters.
B.
Data Extender
The data obtained from multiple sensor nodes are
received and transmitted to another data extender or directly
to the base station using RF transceivers. The network of
30
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-814-3
AMBIENT 2020 : The Tenth International Conference on Ambient Computing, Applications, Services and Technologies

data extenders is also called a repeater network. Figure 4
shows the innerworkings of a data extender module.
Figure 4.
The designed data extender module system.
The data extenders
will
be placed
in appropriate
locations between the sensor node(s) and the base station at
Kampung Pagi, as shown in Figure 5, which will be
determined based on the Receive Signal Strength (RSS)
received by the module. The repeaters will be placed at the
best places for LOS communication to ensure the reliability
in data transmission. However, the terrain and climate will
play a major role in the need for specialized or ruggedized
extender node casing in order to prevent water from entering
the nodes during the monsoon season for instance. Custom
ruggedized
capsules
can
however
be
costly
and
environmentally un-friendly. Thus, to keep the production
cost of the capsules low yet environmentally friendly, they
can be 3D-printed using Polyethylene Terephthalate Glycol
(PETG) filament which has proven to be resistant to water,
prolonged exposure to sunlight, and even acidic conditions
[22]. And to esure the capsules are waterproofed, the same
best practices for the 3D-printing of such outdoors capsules
as depicted in [23] will be followed.
Figure 5.
Possible area for placing Data Extenders in Kampung Pagi.
C.
Base Station
The base station is the part of the system that aggregates
all of the data collected by the sensor nodes within an area
and relays the data to the World Wide Web. The data
gathered from the sensor nodes are transmitted either
directly or through data extenders. Thus, the base station
must be equipped with the same RF transmitter module as
the sensor nodes and data extenders.
As depicted in Figure 6, the received data is filtered and
identified based on the unique identification appended in the
data
array.
Then
the
ATmega328p
micro-controller,
processes the data array by separating it into individual
water parameters. The water parameters are then published
to the cloud as a JSON payload via an ESP wireless module.
The published data are displayed on the online dashboard of
the IoT water quality monitoring system in order to enable
the remote monitoring of the water quality from anywhere
in the world.
Figure 6.
The base station module to transmit the received data onto IoT
Cloud platform for online water quality monitoring system.
V.
CONCLUSION
The Tembeling river’s fish habitat are the primary source
of food and income for its surrounding communities.
Unfortunately,
the
erratic
monsoon
season
floods,
anthropogenic activities in the form of nearby plantation
activities and construction for attraction of tourism, and a
major increase in maritime commerce and transportation
have impaired the water quality and thus endangered many
species of fish. For this reason, an IoT monitoring system
for water quality is absolutely necessary.
Such a remote monitoring system has to be fitted with
long-range wireless data transmission that can visualize the
data online. Due to limited mobile network coverage in rural
areas as well as uneven terrain and dense forest foliage that
inhibits the propagation of long-range P2P communication
signals, the data transmitted from the remote sensor nodes
must be propagated through the use of a network of short-
range RF transmission repeaters that are positioned to
maintain LOS communication. The nodes must all be
extremely
energy
efficient
and
be
encapsulated
in
weatherized
casings
in
order
to
withstand
harsh
environmental conditions for long durations. When the data
reaches the base station, it is transmitted to a remote server
in order to be displayed on a web-based dashboard.
31
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-814-3
AMBIENT 2020 : The Tenth International Conference on Ambient Computing, Applications, Services and Technologies

ACKNOWLEDGMENT
This research was made possible with the funding from the
Universiti Teknologi MARA (600-RMC/LESTARI SDG-T
5/3(125/2019). Many thanks to the Faculty of Electrical
Engineering at Universiti Teknologi MARA for providing
facilities and guidance throughout this work. Lastly, the
researchers like to acknowledge the department of Chemical
and Environmental Engineering at Universiti Putra Malaysia
and the departments of Mathematics & Computer Science
(MCS) and Computer Science & Engineering (CSEN) at
Santa Clara University, Santa Clara, USA for research
collaboration.
REFERENCES
[1]
A. Jambari, S. Sasidhran, H. R. A. Halim, K. A. Mohamed, A.
Ashton-Butt, A. M. Lechner, and B. Azhar "Quantifying
species
richness
and
composition
of
elusive
rainforest
mammals
in
Taman
Negara
National
Park,
Peninsular
Malaysia," Global
Ecology
and
Conservation, 18,
2019,
e00607.
[2]
Y. Mohd-Azham and H. R. Singh, "Freshwater fish diversity
and their distribution along the Keniyam River, Taman
Negara Pahang, Malaysia" In IOP Conference Series: Earth
and Environmental Science, IOP Publishing, July 2019, Vol.
269, No. 1, pp. 012034.
[3]
F. A. Farinordin, N. N. Nazri, A. Samat, D. Magintan, A. K.
J. P. Besar, M. F. Sayuti, and S. M. Nor, "Freshwater fishes of
Sungai Sat and Sungai Kelapah, Taman Negara National
Park, Pahang". Journal of Wildlife and Parks, 2016, 31, pp.
49-60.
[4]
A. M. Radhi, M. F. N. Fazlinda, M. N. A. Amal, and
H.Rohasliney. "A review of length-weight relationships of
freshwater fishes in Malaysia". Transylvanian Review of
Systematical and Ecological Research, 2018, 20(1), p. 55-68.
[5]
A. Azlizam, S. N. H.Syed-Alias, J. Mazlina, N. H. Idris, and
M. Manohar. "The attractiveness of Taman Negara National
Park, Malaysia as perceived by local visitors". Journal of
Wildlife and Parks, 2018, 33, pp. 1-13.
[6]
A. D. Khairudin and N. H. A. Rahman. "Evaluating the
quality
experience
of
ecotourist
in
Taman
Negara
Pahang". E&ES, 2020, 447(1), 012014.
[7]
S. M. Yassin, A. A. Samah, B. A. Samah, K. Idris, A.
Hamzah,
and
H.
A.
M.
Shaffril.
"The
sensitivity
of
communities
towards
the
environmental
changes
in
Tembeling, Pahang and Muar Rivers". Life Science Journal,
2013, 10(3), pp. 2143-2152.
[8]
M. S. Adnan, "Development and evaluation of indices to
assess the ecological health of the Pahang River", Malaysia.
PhD thesis, Kyushu University, 2011.
[9]
S. Rajan, N. N. M. Firdaus, M. Appukutty, and K.Ramasamy.
"Effects of climate changes on dissolved heavy metal
concentrations among recreational park tributaries in Pahang,
Malaysia", 2012.
[10] N. Manap, K. Sandirasegaran, N. S. Syahrom, and A. Amir,
“Analysis of Trace Metal Contamination in Pahang River and
Kelantan River, Malaysia”. In MATEC Web of Conferences,
2019, Vol. 266, p. 04003. EDP Sciences.
[11] D. I. Saparuddin, "Determination the concentrations of heavy
metals in silver catfish (pangasiussp.) from Sungai Semantan
and Sungai Tembeling", 2017.
[12] Z. A. Rashid, M. N. A. Amal, and S.Shohaimi, "Water
Quality Influences on Fish Occurrences in Sungai Pahang,
Maran District, Pahang, Malaysia". Sains Malaysiana, 2018,
47(9), pp. 1941-1951.
[13] A. Tocchi, V. Roca, L. Angrisani, F. Bonavolontà, and R. S.
L. Moriello, "First step towards an IoT implementation of a
wireless
sensors
network
for
environmental
radiation
monitoring". In 2017 IEEE International Instrumentation and
Measurement Technology Conference (I2MTC), May 2017,
pp. 1-6.
[14] N. Shaghaghi, P. Ferguson, J. Mayer, Z. Cameron, and B.
Dezfouli, "A Low-power Wireless Sensing Unit for Hydro-
System Automation," 2019 IEEE 9th Annual Computing and
Communication Workshop and Conference (CCWC), Las
Vegas, NV, USA, 2019, pp. 0659-0665.
[15] N. Shaghaghi, HiveSpy. In Proceedings of the 5th EAI
International Conference on Smart Objects and Technologies
for Social Good (GoodTechs '19). Association for Computing
Machinery, New York, NY, USA, 2019, pp. 126–127.
[16] T. Natori, N. Ariyama, S. Tsuichihara, H. Takemura, and
N.Aikawa, "Study of Activity Collecting System for Grazing
Cattle". 2019 34th International Technical Conference on
Circuits/Systems, Computers and Communications (ITC-
CSCC), June 2019, pp. 1-4.
[17] R. K. Dhammi, K. M. Soni, S. Selvam, and P. Singh, "Real
Time monitoring of high temperature of remote places using
Wireless Sensor Network without use of any peripheral
hardware". 2019 6th International Conference on Signal
Processing and Integrated Networks (SPIN), March 2019, pp.
850-853.
[18] S. Guoqiang, C. Yanming, Z. Chao, and Z.Yanxu, "Design
and implementation of a smart IoT gateway". In 2013 IEEE
International
Conference
on
Green
Computing
and
Communications and IEEE Internet of Things and IEEE
Cyber, Physical and Social Computing, August 2013, pp. 720-
723.
[19] M. Orgon, L. Zagajec, and I. Schmidt, "XBee technology:
Complex
evaluation
of
radio
parameters".
2019
11th
International Congress on Ultra Modern Telecommunications
and Control Systems and Workshops (ICUMT), October
2019, pp. 1-6.
[20] N. Shaghaghi, Z. Cameron, N. Kniveton, J. Mayer, W. Tuttle,
and P. Ferguson “ÂB: An Energy Aware Communications
Protocol (EACP) for the Internet of Things (IoT)”. 2020 Web,
Artificial Intelligence and Network Applications (WAINA)
March 2020, Springer Advances in Intelligent Systems and
Computing, vol 1150. pp. 877-889.
[21] Y. Choden, M. Raj, C. Wangchuk, P. Singye, and K.
Muramatsu, "Remote Controlled Rescue Robot Using ZigBee
Communication". 2019 IEEE 5th International Conference for
Convergence in Technology (I2CT), March 2019, pp. 1-5.
[22] B. Kuhn, “Important Advantages of PETG Filament in 3D
Printing”. MakeShaper, December 2016. [Online] Available:
https://www.makeshaper.com/2016/11/15/important-
advantages-of-petg-filament-in-3d-printing
[23] N. Shaghaghi and J. Mayer, "A Sustainable 3D-printed casing
for Hydro-System Automation Sensing Units," 2019 IEEE
Global
Humanitarian
Technology
Conference
(GHTC),
Seattle, WA, USA, 2019, pp. 1-7.
32
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-814-3
AMBIENT 2020 : The Tenth International Conference on Ambient Computing, Applications, Services and Technologies

