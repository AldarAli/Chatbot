Geo-processing Approaches for Urban Water Supply and Drainage Systems’ Data
Rehabilitation
Cagri Cimen
Department of Water and Environment
Y¨uksel Proje Inc.
Ankara, 06610, Turkey
e-mail: ccimen@yukselproje.com.tr
Suleyman Canberk Tuskan
Department of Water and Environment
Y¨uksel Proje Inc.
Istanbul, 34485, Turkey
e-mail: sctuskan@yukselproje.com.tr
Anil Olgac
Department of Water and Environment
Y¨uksel Proje Inc.
Ankara, 06610, Turkey
e-mail: aolgac@yukselproje.com.tr
Abstract—This study highlights the critical importance of
accurate and comprehensive physical data in Integrated Urban
Water Management (IUWM) and sustainable planning of water
resources. Inaccurate or insufficient physical data can directly
impact the reliability and sensitivity of planning, making it
crucial for administrations to maintain accurate, thorough, and
up-to-date data. To achieve reliable simulation results from
hydrodynamic models, it is essential to define actual conditions
in the model using correct and complete physical datasets. The
study proposes a methodology for handling physical datasets of
infrastructure systems in a GIS environment to obtain reliable
simulation results. Digital and non-digital data from existing
infrastructure systems are obtained and transferred to the GIS
environment, with subroutines applied as needed to ensure accu-
racy and completeness. The physical data is then combined into
a single database, correcting deficiencies and ensuring upstream-
downstream continuity in the hydraulic model structure. With the
integration of all physical data into the GIS environment, analysis
and queries of geometric and attribute information are carried
out for the detection and correction of deficiencies and errors of
the system elements. This approach resulted in high-precision
planning, detecting and correcting deficiencies and errors of
the system elements, and ensuring the upstream-downstream
continuity relationship in the hydraulic model structure. This
study emphasizes the significance of accurate physical data in
the sustainable management of urban infrastructure systems,
and the proposed method can be utilized for any level of
planning. Accurate and up-to-date physical data is essential for
the sustainable management of urban infrastructure systems, and
the use of the GIS environment and hydrodynamic models can
lead to high-precision planning and reliable simulation results.
Keywords—Water and drainage systems; hydrodynamic model-
ing; GIS analysis; data accuracy; sustainable water management.
I. INTRODUCTION
Water is a critical resource for human survival, and access to
safe and clean water is essential for sustaining public health,
environmental integrity, and economic prosperity. Efficiency
and sustainability are primary goals of the services obtained by
city municipalities and water companies in modern urban areas
[1]. Integrated Urban Water Management (IUWM) methods,
such as Sustainable Urban Drainage Systems (SUDS), Low
Impact Development (LID), and Best Management Practices
(BMP) have become increasingly widespread in recent years to
achieve the Water-Sensitive City (WSC) goal. These methods
aim to minimize the environmental impact of urbanization
and improve the resilience of urban water systems to climate
change and other stressors. Achieving a WSC requires more
than just the implementation of these techniques. The multi-
dimensional analysis capabilities of hydrodynamic modeling
software must also be used as much as possible in the
management and design of water infrastructure.
Model output simulation is a widely used method in modern
cities, which can show problematic spots and risks in urban
networks with high precision. However, accurate identification
of problematic spots and potential risks in urban networks
depends on precise, accurate, and up-to-date technical at-
tributes of the entire urban network, which are typically
stored in GIS databases [2]. Low input data quality can
significantly affect the accuracy of simulation results. Data
deficiencies are often encountered in GIS data for a variety
of reasons, including converting data from Computer-Aided
Design (CAD) or other formats into GIS. In particular, in
metropolises, where a significant amount of data is being
continuously entered into the system, ensuring data quality
that can be used in hydrodynamic models to achieve accu-
rate results is crucial [3]. Without high-quality input data,
hydrodynamic models cannot be run without preprocessing,
which can lead to deficiencies and errors in the simulation
results [4] [5]. To address this issue, the ISO 19114 standard
provides guidance for assessing and rehabilitating GIS data
quality. The standard for data rehabilitation outlines a five-
step process for improving data quality. The first step in the
ISO 19114 standard is to assess the quality of the GIS data.
This includes identifying any missing or faulty geometries, as
well as missing data in the attribute table. Once the data has
been assessed, the needs for data quality can be determined.
This involves identifying the types of data that need to be
improved, as well as the level of accuracy required. The next
step is to develop a study methodology for improving the
data quality. This involves identifying the appropriate tools
and techniques that will be used to improve the data, as well
as the resources that will be required to carry out the study.
The study methodology will need to be tailored to the specific
needs of the project, taking into account the type of data being
collected, the level of accuracy required, and the available
resources. Once the study methodology has been developed,
the study results can be specified. This involves identifying
7
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

the specific improvements that will be made to the GIS data,
as well as the expected outcomes of the study. The study
results should be communicated clearly to all stakeholders
involved in the project, including water utility companies, city
municipalities, and software developers. The final step in the
ISO 19114 standard is to check the conformance of the data.
This involves verifying that the GIS data has been improved
to the required level of accuracy, and that it meets all relevant
standards and guidelines. Checking the conformance of the
data is essential to ensure that the hydrodynamic models run
accurately and that WSC goals are achieved.
Hence, the ISO 19114 standard provides a valuable frame-
work for the rehabilitation of GIS data in the context of
IUWM. Following the standard can help to ensure that the
technical attributes of the whole city network are kept up-to-
date, accurate, and precise. By using engineering approaches to
correct deficiencies in GIS data, and by verifying missing and
certain system information with field studies, real-condition
model results can be achieved. In addition, the successful op-
eration of hydrodynamic models requires precise and complete
technical attributes and upstream-downstream relationships of
the network. This may require time and financial resources
to complete, along with field studies to verify missing and
incomplete system information. Nonetheless, correcting and
rehabilitating the GIS data through engineering approaches in
the GIS environment with site investigation support can lead
to the accurate simulation results necessary for modeling a
WSC.
The purpose of this paper is to highlight the importance of
GIS data quality in hydrodynamic modeling and to discuss
engineering approaches to improve data quality in a GIS envi-
ronment. The proposed method aims to improve the accuracy
and reliability of hydrodynamic models and provide more
reliable decision support for water infrastructure management
and design.
The subsequent sections of this paper are structured as
follows: Section II outlines the problems encountered and the
methods employed to address them, including a presentation of
the methodology. Section III provides an in-depth explanation
of the problem and the approach utilized. The methodology
is also presented in Section II. Finally, Section IV presents
the conclusion of the paper, summarizing the benefits and
contributions of this work.
II. METHODOLOGY
In the context of hydrodynamic modeling, accurate and
complete GIS data is critical for achieving reliable results. This
is particularly important for water infrastructure management
and design, where incorrect or incomplete data can lead to
costly errors and inefficiencies. One common challenge in
hydrodynamic modeling is ensuring the continuity of man-
holes and pipelines in the software. The hydrodynamic mod-
eling software possesses GIS software capabilities, allowing
it to represent both wastewater and stormwater lines utilizing
point geometry for manholes and line geometry for pipelines.
However, in actuality, these manholes and lines are intercon-
nected, and it’s necessary to have no gaps between points and
lines in the software. Furthermore, since the wastewater and
stormwater lines rely on the gravitational movement of water,
thus, to address this issue, it is essential to ensure manhole-
line-manhole continuity in both plan and profile from the
upstream point to the final downstream point. Data deficiency
and gaps should be identified and completed according to
this principle. To achieve this, classifications can be made to
identify problems, such as non-connected lines and manholes
with short distances that are not visible to the eye and faulty
or missing lines (Figure 1).
Figure 1. Sample of non-connected point (i.e. manhole) with the lines (i.e.
pipes) error.
Non-connected manholes and lines can be caused by issues,
such as data loss during the transfer of data from field
acquisitions, sensitivity mismatch, and other factors that can
disrupt data integrity. Faulty or missing lines may occur due
to post-measurement data transfer problems, database errors,
and other issues. To overcome these challenges, engineering
approaches can be employed to improve GIS data quality
in the hydrodynamic modeling process. By addressing these
challenges and improving GIS data quality, more reliable
hydrodynamic models can be developed, providing better
decision support for water infrastructure management and
design.
In the preliminary evaluation of the geometric and attribute
information in the point (manhole) and line (pipe) layers for
the use of the data in hydraulic analysis, in this study, two
main problems were identified:
• discontinuity/disconnection (that is not visible) between
the pipe and the manhole,
• broken and missing pipelines (on a visible scale).
The identified problems are classified and resolved according
to the developed algorithm explained in detail below.
A. GIS Data Quality Improvement Approaches
The obtained data have been subjected to two types of
geoprocessing analysis and evaluation in GIS applications.
8
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

a) Spatial Analysis
• Intersect analysis
• Near analysis
• Select by location
• Select by attribute
• Buffer
b) Topological Analysis
• Point-Line Relation Topological
• Must be Covered by Endpoints
• Must be Covered by Line (Snap, extend, trim)
• Point-Point Relation Topological
The spatial analysis was employed to conduct intersection
analysis in order to obtain information about the manholes
that were in contact with the lines. Proximity analysis was
used to transfer information on manholes located within a
certain distance to the line database. Various analyses, such
as connected/not-connected and coverage, were carried out
using the Select by Location tool. The identification of related
lines and manholes was accomplished through the Select by
Attribute tool, which involved a comparison of the attribute
tables. The topological analysis of the data involved checking
whether the line and manhole layers were complementary to
each other. The analysis verified the presence of manholes at
both ends of the line and the existence of a line touching
the manhole. Through the use of geoprocessing algorithms,
such as ”Spatial Analysis” and ”Topological Analysis” in
the GIS environment, physical disconnections and numerous
deficiencies of the same type, which could not be detected
visually, were identified.
These approaches have resulted in improvements to both the
point and line layers, correcting errors on a scale that may not
be visible to the naked eye. The main errors and shortcomings
have been categorized as follows:
Point (Manhole) Layer:
• Non-connected points with the line
• Missing points (manholes) at the start or end of the lines
Line (Pipe) Layer:
• Pipes that are a continuation of each other but whose ends
do not touch each other
• Duplicate lines
• Missing data and errors that are visible at the line layer,
such as the case of missing and disconnected collector
lines or the case of missing discharge lines.
B. Disconnected Lines and Missing data (Visible errors)
In some cases, certain lines in the GIS database may not
accurately represent their real-world counterparts. This can
occur due to a variety of factors, including difficulties with
fieldwork and challenges in properly adding geometry and
attribute data for older lines. Additionally, issues may arise
when attempting to convert CAD data of existing lines to
the GIS environment. These conversion problems can result
in missing data and errors in the GIS database, which can
lead to inaccuracies in the hydrodynamic models. To address
these issues, engineering approaches have been employed in a
GIS environment with the oversight of local administration
controls. Corrections were made to the GIS database to
improve the accuracy and reliability of the input of these
data into the hydrodynamic model through careful inspection
and analysis to identify errors that were missed. This process
has involved a combination of techniques, including manual
updates to the GIS database and the use of geoprocessing
algorithms to identify and correct issues.
III. PROPOSED SOLUTIONS
In the analysis results, several error types are commonly
observed. To ensure proper control and tracking of analysis
and queries performed on the GIS database, it is recommended
to create a new column in the attribute table and record the
corresponding operations. The different types of errors and
their respective arrangement methods are discussed below:
1. Disconnection of points and lines: This error occurs when
a line is missing in the upstream-downstream route (Figure
2). To address this issue, the missing lines are completed
to establish the upstream-downstream relationship up to the
discharge point. The completion process takes into account
estimated information about the systems, topographical bases,
and current maps obtained in one-on-one meetings with ad-
ministrative units.
Figure 2.
Sample error of the disconnection of points and lines (i.e.,
disconnection of manholes with lines).
2. Missing discharge lines: This error refers to lines that lack
an outlet line extending to the final discharge point (Figure 3).
To resolve this issue, the line is extended from the last manhole
to the discharge point, vertically connecting it from the shortest
distance. The diameter of the last pipe is considered, and if
the discharge point is a stream, the bottom elevations of the
stream are taken into account. If the discharge point is a lake
or sea, the slope of the previous line is considered.
3. Indeterminate cross-section dimensions of lines: This
error occurs when cross-section dimensions are undefined or
empty in the attribute table. The deficiency is completed by
assuming that it is the same size as the previous line.
9
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

Figure 3. Sample error of the missing discharge line.
4. Line elevations not defined: This error represents lines
that are not determined, defined as 999.99, or as the same
as manhole ground elevations. To address this error, the
deficiency is completed by considering the flow levels of the
previous/next pipe and manhole. If information is lacking for
more than one manhole and/or line, the nearest manhole and/or
lines with available information were used.
5. Undefined ground level in manhole: This error refers to
manhole floor levels that are undefined or defined as 999.99.
To complete the missing data, the Digital Elevation Model
(DEM) is used.
6. Manhole ground level and base level being equal: This
error occurs when the manhole floor level is incorrectly the
same as the ground level. To resolve this issue, the ground
level is first checked on the digital elevation model, and then
the completion method #4 is applied.
7. Pipe ridge elevation > ground elevation: This error
occurs when the pipe ridge elevation is above the ground.
If the drain line is acceptable, no further action is required.
Otherwise, the flow level and diameter compatibility at the
beginning and end of the pipes is checked. If these conditions
are not met, the ground level is checked, and the arrangement
is made accordingly.
8. Two lines output from one manhole: It means that there
are two lines downstream of the manhole. (When a collector
divides into two or more branches, the flow calculations be-
come more complex, and as a result, some modeling software
may not be capable of solving such situations)
Arrangement method: If the capabilities of the modeling
software used can solve this situation, it is used exactly,
otherwise, it is reduced to a single line.
9. Reverse slope of the lines: The elevation of the stream
on the upstream side of the line is lower than that on the
downstream side (Figure 4).
Arrangement method: Correction for deficiencies no. 4, 6,
and 7 is applied on reverse sloping lines, otherwise, it is
accepted as is.
Figure 4. Sample error of the reverse slope of the pipeline.
10. Zero-slope lines: These are the lines with equal stream
elevations upstream and downstream (Figure 5).
Figure 5. Sample error of the equal flow levels of the pipeline.
Arrangement method: Correction for deficiencies 4, 6, and
7, such as reverse slope lines is applied, otherwise, it is
accepted as is.
11. Single lines: Usually refers to culverts and road cross-
ings.
Arrangement method: Since single lines with large cross-
sections are usually produced at road crossings, there are
no upstream and downstream lines. Therefore, they are not
considered as part of the collector system.
12. Multiple points at close range represented by a single
manhole: Large cast-in-place manholes represented by multi-
ple point objects with the same characteristics.
Arrangement method: If this manhole definition is made as
2 or 3 points, these points are arranged to be defined with a
single point for the hydraulic model base.
13. Small section lines between large section lines: Small
section lines connecting two large section lines (Figure 6).
10
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

Figure 6.
Sample error of the multi-point display at near-distance of cast
manholes.
Arrangement method: The section size compatibility is
checked by examining the entire line. In this context, if the
difference between the dimensions is large, the diameter is
considered large; otherwise, it is preserved.
14.Repeating or crossing lines on the same route: It is the
situation where there are lines of different or the same size on
the same axis or road (Figure 7).
Figure 7. Sample error of repeating or crossing lines on the same route.
Arrangement method: If there are lines starting from the
same upstream point, manufactured on the same axis, on
different dates, and cut in different diameters and discharged
to the same point, the larger diameter line or the newly
constructed line is preserved.
To overcome the problems experienced during the transfer
of planning from the CAD environment to the GIS environ-
ment, it may be advantageous to use middleware that we
develop ourselves. The Autolisp platform, which is Autocad’s
macro development interface, stands out with its widespread
awareness and capabilities.
Figure 8 shows the algorithm to convert an infrastructure
plan in an Autocad file to an Excel sheet of manholes, along
with their attribute information using the AutoLISP Visual
Basic code.
Figure 8. Flowchart to convert an Autocad file to an Excel sheet of manholes.
The algorithm presented here extracts essential information
from manholes in a sewer network using the AutoLISP Visual
Basic code. Specifically, the code captures the coordinates
of the manholes from the center of the circle, as well as
their respective manhole numbers, ground elevation, and flow
elevation information from the texts written on the manhole.
11
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

The explanation of each step of the algorithm is provided
below.
1- Start Lisp: The program starts by invoking Lisp.
2- Get User Input ”Enter the maximum manhole radius”:
This step prompts the user to enter the maximum manhole
radius that is required for the separation of manhole and
label circles.
3- Get User Input ”Select Manholes”: This step prompts the
user to select the manholes for which data needs to be
exported to an Excel file.
4- Creates a list from manhole circles: This step creates a
list of manhole circles that have been selected in step 3.
5- Suitability check for the Radius and Selection inputs:
This step performs suitability checks for the maximum
manhole radius and the selected manholes. If the input
values are not suitable, the program returns to step 2. If
the input values are suitable, the program proceeds to the
next step.
6- Are all manholes processed? (Loop): This step checks
whether all the manholes have been processed in a
loop. If all manholes have been processed, the program
proceeds to step 7. If not, the program extracts the X, Y
coordinates, manhole number, ground level, and manhole
invert level from the manhole label texts and proceeds to
the next iteration of the loop.
7- Select a location for save data to an excel file: This step
prompts the user to select a location to save the data to
an excel file.
8- Write Manhole data list to Excel file: This step writes
the list of manhole data to the Excel file that has been
selected in step 7.
Figure 9 shows the sample of the extracted information and
transferred to an Excel file. The the output file can be easily
converted to a GIS shapefile format, allowing for efficient data
analysis and further processing in the GIS environment.
Figure 9. Example of transferring manholes CAD data to excel with Autocad
Visual Basic lisp.
IV. CONCLUSION
The proper design and modeling of urban water supply
and drainage systems are essential for urban planning and
infrastructure development. Effective hydrodynamic modeling
requires careful consideration of multiple factors, such as data
collection, model setup, calibration, and validation. Accurate
data collection is essential for developing a reliable model, and
it involves the use of appropriate data quality improvements
approaches, such as data cleaning, filtering, and normalization.
The editing and arrangement of data help to ensure the quality
of the model and avoid errors. The correction and validation
of input data are also critical stages that enable the model
to represent the real-world system accurately. This requires
a thorough understanding of the hydraulic and geometric
properties of the system components and the use of appropriate
software tools to model and analyze the system’s behavior. The
presented guidelines and data quality improvement methods in
this paper provide a useful framework that helps to ensure the
accuracy and completeness of the data used in the modeling
process. Furthermore, the use of middleware, such as Autocad
Visual Basic code can streamline the data transfer process
between different software environments and facilitate the in-
tegration of data into a GIS platform. GIS tools and algorithms
provide a range of benefits, such as data visualization, spatial
analysis, data editing, and the ability to integrate multiple
data sources. This integration enables efficient visualization
and analysis of the urban water supply and drainage system’s
behavior and performance, aiding decision-making processes
related to system design and management.
ACKNOWLEDGMENT
The authors would like to thank the colleagues and man-
agers of the R&D and Quality and Management Systems
Departments at Y¨uksel Proje International Co. for their contri-
butions and efforts. The authors would also like to especially
thank the management of Y¨uksel Proje (President and Vice
President) and the Coordinator of the Water and Environment
Department) for their support and encouragement of scientific
and academic research.
REFERENCES
[1] S. Han, H. Hwang, S. Kim, G. S. Baek, and J. Park, ”Sustainable water
infrastructure asset management: a gap analysis of customer and service
provider perspectives,” Sustainability, 7.10, pp. 13334-13350, 2015.
[2] M. Badhrudeen, E. S. Boria, G. Fonteix, M. D. Siciliano, and S.
Derible, ”The C2G Framework to Convert Infrastructure Data from
Computer-Aided Design (CAD) to Geographic Information Systems
(GIS),” Informatics. Vol. 9. No. 2. MDPI, 2022.
[3] H. Baumann, N.H. Ravn, and A. Schaum, ”Efficient Hydrodynamic
Modelling of Urban Stormwater Systems for Real-Time Applications,”
Modelling 3.4, pp. 464-480, 2022.
[4] T. Richta, ”Issues of GIS data management,” Geoinformatics Fce Ctu
1, pp. 56-63, 2006.
[5] N. Mardani, et al., Sidle ”Improving the accuracy of hydrodynamic
model predictions using Lagrangian calibration,” Water 12.2 p. 575,
2020.
[6] G. Droj, S. Suba, and A. Buda, ”Modern techniques for evaluation of
spatial data quality. revcad,” Journal of Geodesy and Cadastre, 9, pp.
265-272, 2009.
12
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-079-7
GEOProcessing 2023 : The Fifteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

