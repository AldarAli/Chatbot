Home Automation with IQRF Wireless Communication Platform: A Case Study 
Vladimir Sulc 
MICRORISC s.r.o. 
Jicin, Czech Republic 
sulc@microrisc.com 
Radek Kuchta, Jaroslav Kadlec 
Faculty of Electrical Engineering and Communication 
Brno University of Technology 
Brno, Czech Republic 
kuchtar | kadlecja@feec.vutbr.cz
 
Abstract— This paper describes a new wireless communication 
platform IQRF. In the paper is description of main features of 
the platform, available communication modules, gateways to 
other wired and wireless communication system, and 
development tools. The paper also describes a case study 
focused on IQRF Smart house concept. IQRF platform was 
designed and developed especially for home automation and 
telemetry projects. 
Keywords- Home Automation; IQRF; IQMESH; Wireless 
communication; Networking.  
I. 
 INTRODUCTION 
Smart House is a building, equipped with electronic 
system enabling occupants to control, program or use variety 
of electronic devices by entering a simple command. For 
example, a homeowner on vacation can remotely monitor, 
arm or disarm security system or switch on heating system 
when he is returning from his vacation earlier. Devices can 
also communicate to each other. Remote thermometer 
located in the place of comfort can provide data to Heating 
Ventilating Air Conditioning (HVAC) system in different 
rooms and actuators can interpret variety of different 
commands sent by Control Unit or by other devices in 
distributed control systems. 
Such electronic systems are making buildings smarter. 
They consist usually from electronic devices providing data 
(sensors), devices interpreting control data (actuators), 
control devices (central units) and from devices providing 
communication interface to the system (gateways). All of 
these devices are usually located at different places of the 
building, therefore there is a need to enable simple, usually 
low data rate, communication between devices.  
In new buildings connectivity would be easily realized by 
structured wiring during building process, on the other hand 
in existing buildings it would be a problem to make new 
wirings, especially when the building has not  been prepared 
for that. Also, from the point of the installation costs 
additional installation of structured wiring in existing 
buildings is highly expensive.  Cost of wire installation for 
simple electronic devices, like light switches, is 20 or 30 
times higher than the cost of the switch. In this case wireless 
communication would be an ideal solution. Prices of Radio 
Frequency (RF) modules are dramatically falling down, 
enabling widely penetrate the market. The main idea of a 
house with remotely controlled equipment is shown in Fig. 1.  
More complex or larger buildings bring new challenges 
for wireless communication to cover all devices by the signal 
which guarantee sufficient QoS (Quality of Service) 
parameters. Simpler wireless network topologies such as star 
would be efficiently used for smaller buildings; increase of 
the transmit power and/or sensitivity of the receivers would 
help to cover less accessible places, but this approach 
increases also RF radiation, interferences and it would not be 
even possible in some cases to cover the whole building due 
to the obstacles or walls construction. Higher bands (2.4GHz 
or higher) would face such problems with signal propagation 
more often than sub GHz bands. Wireless Mesh Network 
therefore seems to be an ideal communication topology to 
make buildings smarter.  
There are available different wireless communication 
solutions from different vendors on the market place. These 
solutions support different network topologies. Many of 
them are based on 802.15.4 [1] standard defining Physical 
Layer (PHY) and Media Access Layer (MAC) for Low Rate 
Wireless Personal Area Networks (LR-WPAN). In most 
cases they work on non-licensed wireless communication 
bands. Non-licensed bands are different in a lot of countries. 
In European Union, there are 433 MHz, 868 MHz, 2.5 GHz 
and other bands. In the United States of America, there are 
especially 916 MHz and several others.   
One such standardized protocol that works on non-
licensed bands is, for example, Zigbee. It involves a solution 
based on the IEEE 802.15.4 standard [1] prepared by Zigbee 
Alliance [2]. This standard was developed by consortium of 
industrial companies especially for building automation 
[3,4]. There are also special applications for industrial 
control [5,6,7,8,9,10,11]. Among the proprietary solutions, 
reference can be made to the technology of MiWi launched 
by Microchip Technology Inc. [12]. MiWi is based on the 
aforementioned standard but simpler than Zigbee from the 
implementation point of view. This technology does not 
support direct cooperation with Zigbee devices [13,14]. 
From other solutions available on the market, mention would 
be made, for example, of the solution promoted by Z-wave 
alliance [15,16]. 
These solutions have disadvantage in attempt on being a 
universal solution targeting every kind of applications.  It 
brings heavier protocols, more difficult and more expensive 
implementations. 
Implementation of solutions such as Zigbee or MiWi 
consists of software solution stack and hardware solution 
used for communication. Software solution stack is 
developed by a microcontroller manufacturer for defined 
microcontroller or by a producer that wants to supply his 
products for communication modules designed for the area 
of domestic automation. The software stack is a package of 
212
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

program routines, functional components and program 
subsystems (hereinafter Stack) permitting the basic operation 
of the communication module according to the chosen 
solution for wireless communication. The manufacturer of 
the end device uses the modules for selected communication 
solution, and then creates a further application extension to 
implement the actual application functionality of the end 
device [17,18,19,20]. 
 
Central Control 
Panel
Lights
Heating system
Hot water
Ventilating system
Lights
Lights
Door bell
S
Security system
Lights
Lights
Remote Control
Heating system
Remote Control
Watering
Remote control over Internet
 
Fig. 1.  
The main idea of Smart House 
There are also other proprietary solutions with wireless 
functionality. In the most cases they allow simple direct 
communication link without any other network functionality 
and they usually use master/slave communication model. 
The paper is focused on description of IQRF wireless 
communication platform and its possible application in the 
smart house concept. At the beginning of the paper is short 
description of the smart house concept. Following section 
describes 
wireless 
communication 
platform 
IQRF, 
communication modules, IQRF operating system that allows 
rapid application development, available gateways to other 
wireless and wired systems, and description of development 
tools for fast design and development. At the end of the 
paper future work and conclusion are summarized.  
II. 
IQRF SMART HOUSE CONCEPT 
The main idea of IQRF Smart House concept is shown in 
Fig. 1. The idea is to allow control almost all electrical 
equipment through wireless communication. The main parts 
are lights, heating system, ventilating system and hot water 
systems.  
Smart house concept also contains security system that 
controls the main entrance doors, windows and when it is 
needed also contains motion sensors. 
The concept also contains global garden watering system 
and control of garage door and car entrance. 
III. 
WIRELESS COMMUNICATION PLATFORM IQRF 
To address requirements from home automation and 
telemetry systems a new wireless communication platform 
IQRF was designed. The name IQRF is an acronym 
Intelligent Radio Frequency. At the beginning the platform 
was used especially to control electrical heating systems in a 
hotel or other commercial buildings where centralized 
control is needed. Now IQRF is designed to control whole 
set of devices used in a home automation process. The 
platform was developed by Microrisc company [21]. The 
main parts of the platform are covered by Czech and US 
patents [22,23,24,25]. These patents cover a method of 
creating a generic network communication platform, special 
signal coding scheme, and direct peripheral addressing in 
wireless network. 
IQRF is using its own concept of the communication 
module structure. Wireless part is based on short-range radio 
components produced by RFM Company, which work in 
non-licensed communication bands. IQRF communication 
modules are available for 868 MHz and 916 MHz 
frequencies. 
 
Fig. 2.  
The block structure of the IQRF communication module 
A. 
Transceiver Module  
Whole platform is based on transceivers modules. Basic 
block structure of a module is shown in Fig. 2.  
213
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

Transceiver module is a tiny intelligent electronic board 
with complete circuitry needed for realization of wireless RF 
connectivity. Microcontroller with an inbuilt operating 
system, providing debug functionality, integrated LDO 
regulator and temperature sensor dramatically reduce time of 
application 
development. 
Low 
power 
consumption 
predetermines these modules for use in battery powered 
applications.  
Depends on module version different microcontrollers 
are used. The newest version is using microcontroller 
Microchip PIC 16F886. Modules without integrated antenna 
are the same size like SIM card and they are using the same 
connector. Modules with integrated antenna are bigger by 
antenna 
but 
still 
with 
the 
same 
connector 
for 
assembling/plugging these modules to a superior systems. 
Therefore it is possible replacing each other according to the 
application needs. 
 
Fig. 3.  
IQRF communication modules with and without integrated 
antenna 
Basically, the IQRF communication module has three 
standard input/output interfaces, one analogue input, an SPI 
interface, and digital ports. Each module contains integrated 
analogue temperature sensor, LED and 3 V linear regulators, 
which supplies communication module and moreover can be 
used for supplying user application. In Fig. 3 is shown the 
latest version of the IQRF communication modules TR-52 
with and without integrated antenna. These modules are 
using FSK modulation and they have more digital 
input/outputs. 
B. 
Operating system 
 Every IQRF Transceiver module is equipped by 
operating system (IQRF OS) implementing its basic 
functionality. IQRF OS is buffer oriented. Block scheme is 
shown in Fig. 4. 
 IQRF OS dramatically simplifies design phase, 
programmer of application can focus on application only, 
detailed study of RFIC and data processing before TX or 
after RX is not needed. Besides basic functionality IQRF OS 
provides also mechanism for application upload when the 
application is compiled. Programmer will set IQRF module 
to the programming mode, then, via SPI interface application 
code is uploaded to the module. 
Whole system offers about 40 functions. A function 
block diagram is shown in Fig. 4. The main functions of OS 
are: 
 RF functions for transmitting, receiving, bonding and 
setting up, 
 IIC and SPI communication functions, 
 EEPROM access functions, 
 three buffers for RF, COM and INFO are available, 
 other auxiliary functions for LED, OS information, 
delays and sleep mode functions are available too. 
Up to 64 bytes is possible to send in one packet. The 
packet size is variable and should be set before packet is sent 
by a transmit function. 
Analog inputs
Digital ports
Communication functions
OS
User’s 
application
SPI
IIC
UART
buffer RF
buffer COM
buffer INFO
user data
Timing
Input/
Output
Pulse/
pulsing
LED
RF, IQMESH
A/D 
converter
Power 
check
IQRF Software Support
IQRF Communication Module
SPI
IIC
UART
Digital 
I/O
Analog 
input
Thermo-
meter
 
Fig. 4.  
Basic functionality block diagram of IQRF Operating system 
IQRF operating system is implemented to the program 
memory of the microcontroller. Program memory is divided 
to two main parts. The first part is used by IQRF operating 
system and the second is available for user’s application. 
When user’s application needs to call some OS function, it 
calls function address defined in the definition file of the 
selected OS version. Programmers of the application can use 
whole set of the microcontroller instruction. Some 
restrictions for direct program memory access are applied. 
Because direct program memory access instructions are not 
allowed in the user’s code, IQRF has implemented functions 
to store and read data from the on chip integrated EEPROM 
memory. 
IQRF is wireless communication platform, therefore 
IQRF OS supports functions to create network, with different 
topology. When IQRF networking functionality is used, 
there have to be one coordinator in the network. Each 
communication module can work as a coordinator. Each 
module is possible to connect to two different networks. This 
functionality allows interconnection of the separated network 
without any gateway. Network possibilities and MASH 
functions are described in detail in the next chapter. 
To support wireless and network functionality three data 
buffers are available. The OS also offers functions to copy 
data between buffers. Buffer called RF contains wirelessly 
received data or data to be transmitted. COM buffer is used 
to send and receive data via SPI, IIC and UART interface. 
INFO buffer is used by system for block operations. 
A special signal coding scheme brings higher data 
throughput due to real time data compression and also higher 
214
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

reliability and noise immunity due to perfect DC balance of 
the coded signal [24]. 
OS also offers functions for timing, power control, reset 
and integrated LED control. Detailed description of all IQRF 
OS function is in [21]. 
C. 
Gateways and Development tools 
Various gateways to common standards such as 
Bluetooth, ZigBee and GSM are available. Simple 
applications can use RS-232 gateway or more useful USB 
gateway. These simple gateways were developed to allow 
connection between IQRF and other proprietary solutions. 
They also allow connecting IQRF and standard PC with 
user’s application.  
For more sophisticated applications, GSM or Ethernet 
gateways are available. To allow interconnection between 
IQRF and standard wireless solution a Bluetooth and ZigBee 
gateways are available.  
Development tools allow debugging and testing of user 
applications 
using 
supporting 
software. 
To 
provide 
comfortable environment for a transceiver development kits 
typically contain interface connectors, battery, interface to 
user pins and so on. 
There is also integrated development environment IQRF 
IDE that is available for all IQRF development kits. This 
IDE allows software development with integrated BKND 
compiler, programming of all IQRF modules. The IDE 
integrates user application debugging information, SPI 
communication debugging. 
IV. 
A CASE STUDY 
In the next sections, two use cases are described. The first 
one describes a smart house in vocation program. The 
second one describes a situation, when owner has to return 
from vacation earlier.  
For our use cases we prepared a small smart house with 
only a few remotely controlled devices. The central control 
unit is, in this case, Smart House Central Server with USB – 
IQRF gateway.  This server is possible to program to control 
whole house. It also allows automatic processes like heating 
system control or switch on/off lights in selected time 
periods. The server works also as a network coordinator. 
There is selected number of lights. Each of them has 
IQRF transceiver and is controller remotely through IQRF 
network. Each light has own remote switch, but in our 
scenario these switches are not important.  
The house is equipped with wirelessly controlled heaters 
and boiler for hot water. 
Because some devices are out of range of Central Server 
we have to use IQRF Router. Heater 1 is out of range from 
central server and from the router, but is in range of Light 1. 
Because each IQRF Transceiver can work on background as 
a router, we do not need another router.  
Whole system is controlled and programed through IQRF 
Remote Control. This device has graphical LCD and allows 
direct control of each unit or programming of Smart House 
Central Server.  
In use cases is also a user. The user has access to IQRF 
Remote Control and has cellular phone with IQRF GSM 
Gateway phone number. He also knows how to control and 
program whole house remotely. 
 
 
IQRF Remote control
IQRF Router
IQRF GSM Gateway
Smart House 
Central Server
Light 1
IQRF Transceiver
IQRF Transceiver
Heater 1
IQRF Transceiver
Heater n
Light n
IQRF Transceiver
Light x
IQRF Transceiver
Boiler
IQRF Transceiver
User with GSM cellular 
phone
GSM Network
 
Fig. 5.  
Block diagram used for a case study 
The house also has IQRF GSM Gateway that allows 
connection from GSM network. The web server is not 
included in our scenario, but it is another way, how to 
control whole system. 
Network components and their connections of our smart 
house are shown in Fig 5. Whole communication ways are 
setup and system is in standard state. 
A. 
Use Case I 
It is winter time and the user is going out for vacation. 
Because nobody will stay in the house for vacation time, it is 
not necessary to have hot water; also temperature in the 
house should be lower than in standard time. User will create 
a new profile called “vacation” through IQRF Remote 
Control. In this profile will select that boiler is switched off 
215
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

and heating system is switched to tempering only. This 
profile will store to Central server for future use.  
Because on vacation time the house is empty, it is a good 
time for rubbers. Due to this reason the user will extend 
vacation profile with automatic light switching. He will 
select time of switching on and time of switching off for 
each light. There is also possibility to add random variable 
for each light. So time will be little bit different each day. 
Before the user leaves the house, he will select vacation 
profile on the remote controller. He also selects the day of 
return when profile will be automatically changed to 
standard profile. It is important value, because the heating 
system has to change temperature from tempering to 
standard temperature and it takes time. 
If the user forgets to change profile he will use a cellular 
phone to change the profile remotely. 
When the user comes back home from vacation he has 
the same comfort like he leaves home, but during his 
vacation the smart house saved energy, costs and of course 
living environment. 
B. 
Use Case II 
This use case expands use case I. The smart house is 
using profile vacation and user is somewhere out. But he has 
to change his plans, and return back to home earlier.  
In this case, he will use his cellular phone to connect 
through IQRF GSM Gateway to Smart House Central 
Server. By this way he will change profile from vacation to 
standard. Internal house system will turn on hot water system 
and also heating system will try to reach standard 
temperature immediately. 
V. 
FUTURE WORK AND CONCLUSIONS 
IQRF is a new wireless communication platform 
especially designed and developed for specific requirements 
from home automation and telemetry. One of the main aims 
was to offer wireless platform to developers of the end user 
devices that allows rapid development without necessity of 
stack implementations.  
One of the typical application usages of IQRF is in Smart 
houses and similar projects. The platform was designed 
especially for home automation and telemetry projects. 
Network functionality, available gateways and easy 
implementation to user devices allow rapid application 
development without long study period of chosen wireless 
solution. Developers only use prepared OS functions and 
work with application layer of communication protocol. 
Now we are working on implementation of all features of 
smart house concept. Patented direct peripheral addressing in 
wireless networks provides an easy way to make open 
communication platforms utilizing built-in IQMESH features 
[25]. This concept is described in details in paper [26]. It will 
be used as the basis of the concept of IQRF Smart House, 
building the highest application level and bringing it as 
completely open platform. 
Network functionality of the IQRF platform is based on 
patented IQMESH protocol. This protocol was defined as a 
light and portable to the inexpensive hardware with limited 
resources. IQMESH protocol is scalable and ready to support 
new routing algorithms. All currently supported routing 
schemes are ported to the smallest 8b microcontrollers. 
To allow integration to other wired and wireless 
communication systems different gateways exist. IQRF also 
offer development tools for all products.  
 
ACKNOWLEDGMENT 
This research has been supported by the Czech Ministry 
of Education, Youth and Sports in the frame of MSM 
0021630503 MIKROSYN New Trends in Microelectronic 
Systems and Nanotechnologies Research Project, partly 
supported by ARTEMIS JU in Project No. 100205 Process 
Oriented Electronic Control Units for Electric Vehicles 
Developed on a multi-system real-time embedded platform 
and by ENIAC JU in Project No. 120001 Nanoelectronics 
for an Energy Efficient Electrical Car, partly by the Czech 
Ministry of Industry and Trade in projects FR-TI1/057 
Automatic stocktaking system and FR-TI1/058 Intelligent 
house-open platform. 
REFERENCES 
[1] L. De Naris and M. G. Di Benedetto, "Overview of the IEEE 
802.15.4/4a standards for low data rate wireless personal data 
networks.," in 4th Workshop on Positioning, Navigation and 
Communication 2007 (WPNC 07), 2007, pp. 285-289. 
[2] ZigBee. (2009, May) ZigBee Aliance Web Pages. [Online]. 
http://www.zigbee.org [Cited: 20.9.2010] 
[3] C Evans-Pughe, "Bzzzz zzz [ZigBee wireless standard]," IEE 
Review, pp. 28-31, March 2003. 
[4] Khusvinder Gill, Shuang-Hua Yang, Fang Yao, and Xin Lu, "A 
ZigBee-Based Home Automation System," IEEE TRANSACTIONS 
ON CONSUMER ELECTRONICS, pp. 422-430, May 2009. 
[5] K. Gill, Shuang-Hua Yang, Fang Yao, and Xin Lu, "A zigbee-based 
home automation system," Consumer Electronics, IEEE Transactions 
on, pp. 422-430, March 2009. 
[6] D Edgan, "The emergence of ZigBee in building automation and 
industrial control," Computing & Control Engineering Journal, pp. 
14-19, April-May 2005. 
[7] I.A. Zualkernan, A.R. Al-Ali, M.A. Jabbar, I. Zabalawi, and A. 
Wasfy, "InfoPods: Zigbee-based remote information monitoring 
devices for smart-homes," Consumer Electronics, IEEE Transactions 
on, pp. 1221-1226, August 2009. 
[8] R. Casas, A. Marco, I. Plaza, Y. Garrido, and J. Falco, "ZigBee-based 
alarm 
system 
for 
pervasive 
healthcare 
in 
rural 
areas," 
Communications, IET , pp. 208-214, February 2008. 
[9] I. Poole, "What exactly is... ZigBee?," Communications Engineer , 
pp. 44-45, August-September 2004. 
[10] T. Ciardiello, "Wireless communications for industrial control and 
monitoring," Computing & Control Engineering Journal , pp. 12-13, 
April-May 2005. 
[11] Carles Gomez and Josep Paradells, "Wireless Home Automation 
Networks: A Survey of Architectures and Technologies," IEEE 
COMMUNICATIONS MAGAZINE, vol. 48, no. 6, pp. 92-101, June 
2010. 
[12] D. Flowers and Y. Yang, "MiWi Wireless Networking Protocol 
Stack," 2008. 
[13] Y. K. Huang et al., "An Integrated Deployment Tool for ZigBee-
based Wireless Sensor Networks," in 5th International Conference on 
Embedded and Ubiquitous Computing, Shanghai, 2008, pp. 309-315. 
[14] T. W. Song and C. S Yang, "A Connectivity Improving Mechanism 
for ZigBee Wireless Sensor Networks," in 5th International 
216
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

Conference on Embedded and Ubiquitous Computing, Shanghai, pp. 
495-500. 
[15] C. Gomez and J. Paradells, "Wireless home automation networks: A 
survey 
of 
architectures 
and 
technologies," 
Communications 
Magazine, IEEE , pp. 92-101, June 2010. 
[16] J. Walko, "Home Control," Computing & Control Engineering 
Journal , pp. 16-19, October-November 2009. 
[17] G Ferrari, P Medagliani, S Di Piazza, and M Martalo, "Wireless 
sensor networks: Performance analysis in indoor scenarios," Eurasip 
Journal on Wireless Communications and Networking, 2007. 
[18] M. H. F. Ghazvini, M. Vahabi, M. F. A. Rasid, and R. Abdullah, 
"Improvement of MAC Performance for Wireless Sensor Networks," 
in 
13th 
International-Computer-Society-of-Iran-Computer 
Conference, 208, pp. 147-152. 
[19] L. L. Liang, L. F. Huang, X. Y. Jiang, and Y. Yao, "Design and 
Implementation of Wireless Smart-home Sensor Network Based on 
ZigBee Protocol.," in International Conference on communications, 
Circuits and Systems, Xiamen City, 2008, pp. 487-491. 
[20] V.C. Gungor and G.P. Hancke, "Industrial Wireless Sensor Networks: 
Challenges, Design Principles, and Technical Approaches," Industrial 
Electronics, IEEE Transactions on, pp. 4258-4265, October 2009. 
[21] Microrisc. 
(2009, 
May) 
Microrisc 
Web 
Page. 
[Online]. 
http://www.microrisc.cz/new/weben/index.php [Cited: 18.5.2010] 
[22] V. Šulc, "Czech Republic Patent - Electronic transceiver module for 
network wireless communication in electric or electronic devices or 
systems.," PUV 16181. 
[23] V. Šulc, "Czech Republic Patent - Module for wireless 
communication between electric or electronic equipment or systems, 
method for its control and method for creating generic platforms for 
user applications in area of wireless communications with those mo," 
PUV 18340. 
[24] V. Šulc, "US Patent - Method of coding and/or decoding binary data 
for wireless transmission, particularly for radio transmitted data, and 
equipment for implementing this method.," 7167111, 2007. 
[25] V. Šulc, "Czech Republic Patent - A method of accessing the 
peripherals of a communication device in a wireless network of those 
communication devices, a communication device to implement that 
method and a method of creating generic network communication," 
PUV 18679, 2008. 
[26] V. Šulc, R. Kuchta, and Radimír Vrba, "IQMESH implementation in 
IQRF 
wireless 
communication 
platform," 
In 
2009 
Second 
International Conference on Advances in Mesh Networks, pp. Pages 
62-65, 2009. 
 
 
217
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

