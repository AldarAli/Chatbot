Static Bluetooth Scatternet Formation Models: The Impact of FHSS
Celio Marcio Soares Ferreira,
Ricardo Augusto R. Oliveira,
Haroldo Santos Gambini
Computer Science Department (DECOM)
Federal University of Ouro Preto (UFOP)
Ouro Preto, Minas Gerais, Brasil
e-mail: celio@linuxplace.com.br,
{rrabelo, haroldo.santos}@gmail.com
Alejandro C. Frery
Instituto de Computac¸˜ao
Universidade Federal de Alagoas (UFAL)
Macei´o, AL, Brasil
e-mail: acfrery@gmail.com
Abstract—The
potential
of
Wireless
Personal
Network
(WPAN) applications is virtually untapped. The presence of low
cost Bluetooth technology in most mobile devices makes it the
logical choice for further exploration. Existing Bluetooth models
neglect its own communication technique, the Frequency-Hopping
Spread Spectrum (FHSS), and part of the challenge of generating
efﬁcient Scatternet algorithms is related to the characteristics of
FHSS. We propose a model of FHSS using dynamic graphs and
show the impact of its use in topology of these networks. We show
that small changes in a centralized model of Scatternets lead to
better trafﬁc and consumption; also, their topology results are
comparable to those of dynamic models.
Keywords—bluetooth; scatternet; fhss; dynamic graph.
I.
INTRODUCTION
Applications
using
Wireless
Personal
Area
Network
(WPAN) have not yet explored their full potential. The possi-
bility of forming wider-ranging Ad Hoc networks among low
cost and low power consumption devices enhances their most
common use, which is limited by the data cable replacement.
Some of the possible applications of WPAN are: proﬁle,
message and location exchange in mobile social networks;
mesh networks for Internet access using mobiles as repeaters;
networks for monitoring life support medical devices; residen-
tial (smart buildings) and industrial automation; dating services
and social games, by connecting users with compatible proﬁles
using an open network of mobile devices.
Bluetooth is the most popular WPAN technology [1]: 906
million mobile phones were sold in 2010, almost all with
Bluetooth; 171 million laptops were shipped in 2010, 77%
of them with Bluetooth; more than 50 million game consoles
were shipped in 2010, 62% of them with Bluetooth; more than
40 million Bluetooth enabled health and medical devices were
sold in early 2011; one third of all new vehicles produced in
2011 included Bluetooth, which will increase to 70% by 2016.
Studies carried out between 2002 and 2006 [2] introduced
different Bluetooth Scatternet formation protocols. Due to the
increasing use of Bluetooth, current research has once again
focused on the Bluetooth Scatternet formation protocols: [3]–
[5], to list a few. However, none of them have been stan-
dardized yet and, therefore, no commercial products include
this functionality. In the context of mobile social networking
applications for example, we found no popular application
despite the increasing number of devices manufactured with
Bluetooth. This void is due to the complexity of implementing
Scatternet algorithms.
Bluetooth allows devices to communicate using channels
with a hopping sequence coordinated by the master device and
known to all participants in the Piconet. In order to establish
a connection, the pattern of frequency hops must be known, a
technique called Frequency Hopping Spread Spectrum (FHSS).
The Bluetooth connection process involves two phases:
discovery and link formation. During the discovery phase, the
device that will assume the role of master scans for slave
devices waiting for connection. Master and slaves begin a
sequence of pseudo-random frequency hops, until a frequency
coincidence occurs. After the match takes place, the link
formation phase starts with the slave waiting for a random time
to respond to the master: the Backoff interval. Randomness and
a Backoff time are necessary to avoid collisions, however, they
introduce seconds of delay to the initial connection.
On evaluation of the efﬁciency of the Scatternet, the FHSS
is seen to exert a signiﬁcant inﬂuence on the Bridge nodes,
which are responsible for the inter-Piconet communication. In
order for a node to act as a Bridge, it must stop communicating
within one Piconet and change its standard hopping sequence
for another.
During this procedure, the node that plays the role of the
Bridge enters into the HOLD state. This procedure has a high
associated cost due to the master exchange and subsequently
the exhange of hopping sequence and the synchronisation of
responses, which are coordinated by the Scheduling. These
characteristics mean that the location, volume and types of
these Bridges directly inﬂuence energy consumption and traf-
ﬁc.
Assessment and understanding of the Scatternet algorithms
and models are essential, because many of the delays and
losses in performance and energy observed during the forma-
tion and coordination were attributed to the complexity of the
algorithm that can generate many Bridges, and the need for
the discovery of new nodes.
Our study focuses on two issues related to the use of
the FHSS in Bluetooth: the randomness of the discovery
procedure and the inﬂuence of Bridges on the performance
of a Scatternet.
We show that there is a substantial degradation of the de-
26
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

vice discovery procedure, and we analyze how this degradation
affects the classic static Bluetooth Scatternet formation. This
problem is directly related to the FHSS. According to Jedda et
al. [7], [8], this is the main cause of the lack of efﬁciency in
the Bluetooth Scatternet Formation protocols and the absence
of its adoption in the standardization process.
Our contribution to this ﬁeld of research:
•
Model Bluetooth as a Dynamic Graph for use
in Static Bluetooth Scatternet Formation Model:
From the work of Pettarin et al. [9], which models
Bluetooth as a graph, we improved this model with the
FHS() process - representing the Frequence Hopping
Sequence, and the Disc() - representing the Discovery
process. These two new functions characterize the
Bluetooth graph as a dynamic graph. This model
can be used as a requisite to create static Bluetooth
Scatternet formation models;
•
A New Optimization Model for Static Scatternet
Formation: We propose an update of a classic static
Bluetooth Scatternet formation model, the mathemati-
cal programming model described in Marsan et al. [6].
We create a new model by penalizing the activation
of Bridges and by including new constraints. This
new model produced optimal solutions in which the
structure of the Scatternets is more coherent with
the ones predicted by Law et al. [10], a well-known
dynamic Bluetooth Scatternet Formation model. Our
considerations can be used as constraints for other
static Bluetooth Scatternet formation models;
Section II shows the related work; Section III-A explores
WPANs, detailing the machine in the connection state of
Bluetooth. In Section III-B, we model Bluetooth FHSS in a
dynamic graph. In Section III-C, we introduce the Scatternet,
and in Section III-D, we address the elements that inﬂuence
the efﬁciency of its formation. In Section IV, we analyze the
effects on FHSS in our experiments. Finally, we detail the
conclusions in Section V.
II.
RELATED WORK
In Tahir et al. [5] the Scatternet routing protocol (SROP)
is proposed. Its main purpose is to establish routes with a
minimum number of hops between source and destination. For
this to occur, the master searches all possible paths through
ﬂooding. Its main advantage is the fact that since the master
knows all the links, it can use this information if any device
at the source wants to communicate with a member of the
Piconet. According to the author, there is a time saving beneﬁt
in this search for routes using ﬂooding, and its performance is
evaluated in the ns-2 [11] simulator.
Jedda et al. [7] analyzed the impact of Bluetooth speciﬁ-
cation parameters on the convergence of a Scatternet. These
impacts are related to the use of the FHSS communication
technique. Using the ns-2 [11] simulator, the differences in
convergence times between dynamic and static algorithms in
Bluetooth Scatternet Formation (BSF) are shown. Some results
showed that changes in the implementation of Bluetooth are
more signiﬁcant in static algorithms.
Pettarin et al. [9] discuss the expansion and diameter of the
ad-hoc Bluetooth topology induced by the discovery phase, by
means of a Random Geometric Graph (RGG). However, the
work does not explore the topology of a Piconet or the intrinsic
characteristics of FHSS.
In Law et al. [10] a new dynamic algorithm of Scat-
ternet formation is introduced. In its organization, devices
are separated by components. It deﬁnes a device, Piconet or
Scatternet as a component. They show that their algorithm
has O(log n) time complexity and O(n) message complexity,
which generates an algorithm with an efﬁcient battery usage.
In Chiasserini and Marsan [12] the restrictions of the
centralized model of Marsan et al. [6] are complemented by a
discussion and proposal of distributed algorithms in Scatternet
formation, including routines for the insertion and removal of
nodes.
Marsan et al. [6] provide a description of the Scatternet
formation using mathematical programming. Constraints are
proposed in a min-max formulation, leading to an optimization
problem, which is solved in a centralized way. However, this
article does not take into account the effects of FHSS. This
approach is limited to the rules established for each device,
without assigning penalties for Bridge nodes.
III.
METHODOLOGY
A. WPANs
Wireless Personal Area Networks (WPANs) are wireless
networks between low cost, energy-consumption and data-loss
devices that create short links around the user’s workspace.
Bluetooth is the most common WPANs technology, whose
communication uses FHSS and has a connection range of
10 m, as found in the most common versions present in the
market. FHSS is a common communication technique in ad-
hoc peer-to-peer networks. They communicate on one channel
for each time slot. They are less susceptible to noise from
neighboring networks, can be used at various distances, offer
QOS and stronger security compared to traditional 802.11 Wi-
Fi. A Bluetooth network is called a Piconet, and its nodes act
as master or slaves.
Two distinct phases are required to connect Bluetooth
devices: the Discovery and the Link formation. During the
Discovery phase, the device that will assume the role of
master goes into the INQUIRY state, looking for slave devices
awaiting a connection in an INQUIRY SCAN state.
The searching device sends an identiﬁer called Inquiry
Access Code (IAC). During the INQUIRY, the IAC is broad-
cast on 32 of the 79 frequencies deﬁned by the speciﬁcation,
divided into two trains of 16. This sequence of hopping
frequencies occurs in a pseudo-random way, with calculations
derived from the clock of the device. Master and slaves begin a
sequence of pseudo-random frequency hops, until a frequency
coincidence occurs.
A time slot difference collaborates with the increased
likelihood of the device hearing the same channel on which
a IAC was transmitted: the devices in INQUIRY state hop
in time slots of 312.5µS faster than the standard Bluetooth
625µS used by devices in INQUIRY SCAN.
27
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

After receiving an IAC, the slave device assumes a state
called INQUIRY RESPONSE, waits for the Backoff time to
elapse and responds to the request by sending its network
address and clock in a packet called Frequency Hopping
Synchronization (FHS). After this process, it enters a state
called PAGE SCAN. When the master receives the FHS, it
enters a state of PAGE, and uses the information received
from the FHS for synchronization and connection with the
slave nodes that have already been discovered and are in the
PAGE SCAN state.
During Backoff, the device waits for a random value of
Time slots (0−639.375)µS. This status is set after the device
receives a master’s IAC, with the objective of minimizing
packet collisions of response to the master. When the Backoff
time is over, the device waits for a new IAC in the INQUIRY
RESPONSE state, by sending its hop pattern and clock to
the master.
During the PAGE state, the master device selects a slave to
be connected through its network address, and sends packages
through the sequence of estimated hops in the clock of the
slave previously discovered.
After the PAGE process is complete, the Piconet is formed
and the devices gain an online status and may also negociate
the roles of master and slave.
Intra-Piconet communication requires a Scheduling pro-
cess, during which the master performs a polling on each slave,
and only upon receipt of this packet shall they be allowed to
communicate again in the Piconet. The order in which the
slaves receive this package is called Polling Cycle and it also
determines the slots that will be used. This scheduling must
be coordinated by an algorithm that determines the sequence
in which the master will poll the slaves.
B. Dynamic Graphs
The Bluetooth network will be described as a graph, ac-
cording to the deﬁnition of Gupta and Kumar [13]. According
to Pettarin et al. [9], the links can be described by the function
c(n), where n is the number of devices, and the range of
each device is r(n) With this, the Bluetooth network denoted
by the graph BT(r(n), c(n)), where r(n) are the vertices Vn
and c(n) are the edges En. A set of nodes, Vn , with spatial
displacement described by a random variable N , uniformly
distributed in [0, 1]2; a set of edges En , obtained as follows:
each vertex, u ∈ Vn , selects a random set of c(n) neighbours,
all at the distance of r(n); one edge ei = {u, v}, ei ∈ En
exists only if the vertex u selects another vertex v.
Pettarin et al. [9] describes a situation in which the devices
are moving and setting the Bluetooth network connection, as
a sequence of graphs Gt(n, ρ, r(n), c(n), t), in which ρ is
the set of nodes that are part of the connection graph, and
t is each time step, linked to the movement of devices. This
sequence of graphs can be compared to a Markov chain, whose
transition can be described by the model of moving nodes or
by spontaneous disconnections.
Assuming that F is the set of frequencies used in FHSS,
so that fi
∈ F, 0 < i ≤ 79. FHS is a function of
FHS(CLK, MS), where CLK is the clock of the elements
involved and MS is the address of the Piconet master. The
details of FHS are given by Bluetooth speciﬁcations. We
have F ′, so that fi = FHS(CLK, MS), which is an pseudo-
random sequence of the set F. The sequence of F ′ is unique to
each master-slave link. Thus, for communication to take place,
each ei = {u, v} must have the same F ′.
Let u and v be vertexes that meet the formalization
described in the previous section. We deﬁne the discovery
process as the operation Disc(u, v, fi), an operation to insert
an edge from the set En. The Disc() process has its execution
distributed, while running u and v at the same time. Master
and slaves begin a sequence of pseudo-random frequency
hops, until a frequency fi coincidence occurs. Once matched,
the slave waits for a random time to respond FHS() to
the master, and this is called the Backoff interval. This is
necessary because the FHS() must be exchanged between
nodes. For this reason, after Disc() the slave returns FHS()
and generates the correct F ′ for the connection. MS will
belong to the element that has been selected as the master.
Given this deﬁnition, the graph BT(r(n), c(n)) can be
classiﬁed as a dynamic graph. According to Frigioni et al. [14],
a dynamic graph is a graph G whose edges are not ﬁxed and
in which some property p of a given graph G = (Vn, En)
is considered to be true after a series of operations. The
algorithm that maintains this property classiﬁes the vertices
and edges in different states, with operations that alter these
states. These sequences and operations deﬁne a dynamic model
of edges, which can be removed and inserted into En during
the veriﬁcation of F ′.
C. Scatternets
Scatternets are collections of Piconets that are formed
spontaneously without ﬁxed infrastructure. They are dynamic
networks that enable nodes to communicate in scenarios of
more than one hop. They break the centralized limits of
the Bluetooth speciﬁcation with star topology, coordinated
by a master, thus making mesh formations possible. The
Scatternet formation rules do not receive further details from
the Bluetooth speciﬁcation, thus enabling other alternatives to
be created by means of distributed algorithms, which establish
the rules of Piconet associations.
The elements that enable multihop communication across
the Scatternet are called “Bridges”. They are needed for
inter-Piconet communication. They alternate the pattern of
frequency hopping among those masters connected. The Blue-
tooth mode that deﬁnes this operation is the HOLD mode. This
Bluetooth state is used as a solution for the coexistence of a
node in more than one Piconet.
The HOLD mode permits FHSS nodes to be Bridges and
to interact with other networks. During the HOLD mode,
an exchange of the node’s master takes place and hence, a
synchronization of the channel with the Piconet must occur.
This way, a node leaves its Piconet, changes its hopping
pattern, and starts to receive Pollings from the master of
another Piconet. It should be noted that a device cannot be the
master of more than one network, but may be master in one
Piconet and a slave in multiple Piconets, acting as a Bridge.
This procedure has a cost associated to the change of hopping
pattern from another Piconet and with Scheduling. These costs
28
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

directly inﬂuence the optimization of Scatternet, which in turn,
directly inﬂuences energy consumption and trafﬁc.
Now we introduce the static and dynamic models.
1) Static Model: The centralized model of Scatternet, also
known as the static Bluetooth Scatternet model, is not a
protocol. Instead, it provides a description of the Scatternet
formation using mathematical programming, and constraints
are proposed in a min-max formulation, leading to an op-
timization problem which is solved in a centralized way. It
can ﬁnd the best possible performance for a given graph,
obeying the Piconet Bluetooth restrictions. The objective of
this model is to minimize the trafﬁc of nodes that are subject
to greater congestion and energy consumption, such as the
masters and Bridges, respecting the restrictions following the
full convergence of the Scatternet. After that, it can be used
to generate a Scatternet formation.
Marsan et al. [6] model, for instance, discuss the central-
ized Scatternet requirements:
•
Network Connectivity: there must be at least one path
between two nodes in the network;
•
System Complexity: in order to reduce the complexity
of the network, the number of Piconets is limited to a
ﬁxed value;
•
Trafﬁc Demand: the network must support the neces-
sary source-destination connection;
•
Roles of the Node: there must be some constraints
applied to some nodes, according to the role they play:
master or slave.
These requirements and constraints lead to a min-max
criterion which is solved using CPLEX [15]. In its model of
constraints, the pseudo-randomness of the Discovery phase is
not included. The inﬂuence of the delays caused by the effort
involved in switching channels during trafﬁc between Piconets
by a Bridge node in HOLD mode is not addressed either.
2) Dynamic Model: Dynamic models of Scatternets are
protocols, and its distributed algorithms use the following
heuristic [2]:
•
Any device is a member of no more than two Piconets;
the number of Piconets is close to the optimal; the
lower bound of Piconets is (n − 1)/k, n being the
number of network nodes and k the number of slaves
in a Piconet;
•
Bridge devices should never be masters. This reduces
the load Scheduler of the masters, which will then
only consider the intra-Piconet communication;
•
The number of Piconets is restricted. This reduces
the number of potential inter-Piconet conﬂicts in the
Bridges, but limits the potential of alternative routes;
•
There should be as few Piconets as possible. This
reduces the number of channels to be used and thus
potential interference;
•
Piconets should not be connected to more than one
Bridge. This minimizes the coordination effort needed
for Scheduling;
•
A device must participate in as few Piconets as
possible. This decreases the amount of inter-Piconet
Scheduling in the device.
Law et al. [10] show in their dynamic model that their
algorithm has O(log n) time complexity and O(n) message
complexity. However, according to Jedda [8], their dynamic
model also does not consider the improvements made to FHSS,
which appear in Bluetooth version 1.2.
D. Efﬁciency In Scatternet Formation
The location of Bridges is critical for the evaluation of the
impact of the resulting topology. Given they are responsible for
the inter-Piconet communication, they are subjected to more
communication overhead and processing than other nodes.
We evaluated the inﬂuence of the number of Bridges on a
Scatternet and the need of the HOLD mode for data to be ex-
changed between Piconets. The HOLD mode consumes energy
and inﬂuences trafﬁc, being one of the states that require the
greatest effort in the resynchronization of frequencies in the
Piconets, and which participates in and awaits communication
polling during the Scheduling process. An efﬁcient Scatternet
topology should minimize its use because:
1)
Fewer Bridges mean less delays in migration to an-
other Piconet during the transmission of the received
data;
2)
Fewer masters on the network imply fewer Bridges,
and fewer delays in the exchange and resynchroniza-
tion of the channels of the new Piconet.
IV.
RESULTS
We used the UCBT [16], an extension that simulates Blue-
tooth in ns-2 [11], developed by the University of Cincinnati.
In order to assess the delay in the formation of new
Piconets during the Discovery phase, we generated instances
with 1 master and c(n) neighbouring devices, which were
candidates for the role of slave.
In accordance with Pettarin et al. [9], we observed that
as the value of c(n) is increased, so is the likelihood of
connection. The rationale for this is that during the Discovery
phase, all devices in INQUIRY SCAN perform pseudo-random
hops in slower Time Slots than the master until there is a match
of frequencies. This behavior shows that, despite the increase
in density of devices within the range of the master, the FHSS
provides greater resilience to collisions and depletion of the
spectrum.
Figure 1 shows the formation of a theoretically maximal
Piconet, represented by one master and seven slaves. We
observed the proportional increase value of c(n) and the time,
until it forms a Piconet with 1 master and 7 slaves. This
behaviour is explained by the need for matching the channel
in the Discovery phase, the Backoff and Scheduling of intra-
Piconet packets.
In order for a new discovery to take place, the master
needs to stop the intra-Piconet comunication. While the slaves
that have already entered the Piconet change to the HOLD
mode, waiting for new pollings from the master before recom-
municating. The time cost of this operation grows with the
29
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

Fig. 1.
Time of ﬁrst master-slave connection
Fig. 2.
Time until formation of the ﬁrst complete Piconet with 7 slaves and
1 master
Fig. 3.
INQUIRY packets necessary for formation of the ﬁrst Piconet
increase of devices c(n) due to the randomness of the intra-
Piconet Scheduling and Discovery of new slaves. The error
bars in Figure 2 show the high degree of variability and delay
in connection, represented by random variables associated
with the Discovery of slaves, Backoff time and Intra-Piconet
Scheduling processes.
Figure 3 shows the number of INQUIRY packets transmit-
ted as a function of the number of devices in the formation of
the ﬁrst Piconet.
A. Topology analysis
To evaluate the efﬁciency of a Scatternet topology and the
inﬂuence of Bridges, we simulated the formations with Law et
al. [10] algorithms. We generated 30 instances of 20 devices
until full convergence. Based on the results, we generated
graphs of the most common Scatternet obtained with 20 nodes,
Figure 4.
Fig. 4.
Common Scatternet of 20 devices found by Law et al. [10] algorithm
The graphs generated in our model follow the rules of
efﬁciency as per the dynamic algorithm of Law et al. [10];
centralized models like Marsan et al. [6] need to be modiﬁed
so that the results are closer to an efﬁcient energy consumption
result.
Looking at the graph shown in the article Marsan et al. [6]
Figure 5, we found that some of the items that inﬂuence the
performance of a Scatternet are neglected:
•
The connection between master node 13 with node 0,
is a link master / master;
•
Node 9 is the Bridge of three Piconets, a prohibitive
result;
•
We observe various network loops between the Pi-
conets of masters 7 and 17, connected by nodes 9 and
15;
•
Four Piconets is an excessive amount for 20 nodes.
B. Improving the centralized model of Marsan et al. [6]
The model from Marsan et al. [6] is described as follows:
•
N - Number of nodes;
•
C - Connections through network;
•
MMAX - Maximum Piconets;
•
XMAX - Maximum number of active nodes in Pi-
conet;
30
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

Fig. 5.
Scatternet with 20 devices found in Marsan et al. [6] model
•
ZMAX - Maximum radius of Piconet.
•
M - Nodes constrained to act as masters;
•
V - Nodes constrained to act as slaves.
For each node i, i ∈ N, three binary variables are deﬁned:
µi,βi, and σi, which are equal to 1 if the node is a master, a
Bridge or a slave, respectively, and are otherwise equal to 0.
For each pair of nodes (i, j), i, j ∈ N, the set X = {xij}, xij
is 1 if j is assigned to master i, otherwise 0 .
The model has the following constraints, described in
Table I :
µi + βi + σi = 1,
∀i ∈ N
(1)
X
i∈N
xij ≤ σj + |N|.βj + |N|.µj,
∀j ∈ N
(2)
X
i∈N
xij ≥ 2 − σj − µj,
∀j ∈ N
(3)
xii = µi,
∀i ∈ N
(4)
xij.zij ≤ ZMAX.µi,
∀i, j ∈ N
(5)
X
j∈N
xij ≤ XMAX.µi,
∀i ∈ N
(6)
2 + xji ≥ µi + µj + xij,
∀i, j ∈ N,
i ̸= j
(7)
xik + xjk ≤ 4 − µi − µj − xij, ∀i, j, k ∈ N, i ̸= j, j ̸= k
(8)
X
i∈N
µi ≤ MMAX
(9)
X
i∈M
µi = |M|
(10)
X
i∈V
σi = |V |
(11)
In order that the solution to the problem of the centralized
model of Marsa et al. [6] generates a topology similar to that
obtained by simulation using the dynamic algorithm of Law
et al. [10], we had to add two new constraints to the eleven
existing in the original model.
TABLE I.
MARSAN ET AL. [6] SCATTERNET CONSTRAINTS
Constraint
Description
1
a node is either a master, or a slave or a Bridge;
2
a slave is assigned to one master at most;
3
a slave or a master are assigned to one Piconet at least;
while a Bridge is assigned to two Piconets at least;
4
a master is assigned to it-self;
5
maximum connect distance is ZMAX;
6
limits the size of Piconet to XMAX;
7
If nodes i and j are masters;
the assignment of i to j if is assigned to i;
8
prevents cycles among sets of three nodes;
9
the maximum number of masters is MMAX;
10
nodes in M to be masters;
11
nodes in set V to be slaves.
Fig. 6.
Scatternet generated with modiﬁed model of Marsan et al. [6]
•
µi + µj + xi,j ≤ 2
∀ i, j ∈ N
i ̸= j ; a master
must only belong to one Piconet.
•
βi+xij +xji+xik +xki+xkl+xlk ≤ 3
∀i, j, k, l ∈
N
i ̸= j ∨ i ̸= k ∨ i ̸= l ∨ j < k ∨ k < l ; a Bridge
must only connect two Piconets.
By adding penalties to the Bridges and these two con-
straints, we make sure that the resulting graph has a topology
that is less prone to effects resulting from delays when Bridges
are in HOLD mode. Considering a dynamic graph, these
penalties are associated to the cost of functions Disc() and
FHS() shown in Section III-B.
To demonstrate the efﬁcacy of our modiﬁcation, we used
the same instance as that of Marsan et al. [6], with input
parameters equal to those of Table II, which form the graph
of Figure 5.
TABLE II.
INPUT PARAMETERS
N
C
MMAX
XMAX
ZMAX
M
|V |
20
15
4
8
10
√
2
3
{7, 17}
0
We can see in the Scatternet topology found by our model
in Figure 6, that all the items required for effective formation,
as previously mentioned in Section III-D, are respected. Our
static model approaches the results of Law et al. [10] as
31
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

shown in Figure 4. This algorithm has a cost of O(log n) time
complexity and O(n) message complexity, so we can conclude
that our resulting graph represents a Scatternet with an ideal
distribution of data ﬂow and power consumption.
V.
DISCUSSION
The delay of the Bluetooth connection process and the
loss of efﬁciency of some of the algorithms in Scatternet
formation are directly related to the effects of FHSS. A correct
mapping of its peculiarities is essential for the suitable design
of Bluetooth solutions and applications.
The delay in Discovery is the determining factor for simpler
applications restricted to a Piconet that requires adequate
responsiveness. The Disc() and FHS() functions in the dynamic
graph, shown in Section III-B, models the demand of this
factor and its importance in the Scatternet formation. We
simulated the formation of Piconets and Bluetooth Scatternets
to analyze the delay caused by the discovery process for new
nodes during the formation of a new Piconet, and the entry of
new slaves into an existing Piconet.
The centralized model that uses mathematical program-
ming is useful in evaluating the performance of the simplest
Scatternet topologies. In adapting the classic model of Marsan
et al. [6] by changing the weights of the Bridges in the
constraints, we achieved results similar to those obtained by
simulation of another classic dynamic algorithm.
In addition, we can conclude that our resulting graph of
the static Bluetooth Scatternet model represents a Scatternet
with an ideal distribution of data ﬂow and power consumption,
since its result is similar to that of Law et al. [10]: complexity
of O(log n) time complexity and O(n) message complexity.
Our optimization can be used as a requisite for other static
Bluetooth Scatternet formation models.
Research that proposes changes to the Bluetooth speciﬁca-
tion or workarounds for some yet-to-be-explored use examples
are a necessity, given the context of the increasing popularity of
Bluetooth in Smartphones and Tablets, thereby leveraging this
new wave of applications, which is still virtually unexplored
due to the side effects of using FHSS.
In future work, we will state that both static and dynamic
Bluetooth Scatternet Formation protocols must consider the
impact of the FHSS for achieving more practical results and
process standardization.
ACKNOWLEDGEMENT
Thanks to Fundac¸˜ao de Amparo `a Pesquisa do Estado de
Minas Gerais (FAPEMIG), to CNPq, Capes and FAPEAL.
REFERENCES
[1]
Bluetooth.com,
”The
bluetooth
network
effect,”
Last
Visited
in
11/02/2013.[Online].
Available:
http://www.bluetooth.com/Pages/network-effect.aspx/
[2]
R. Whitaker, L. Hodge, and I. Chlamtac, ”Bluetooth scatternet forma-
tion: A survey,” 2004.
[3]
C. M. Yu, ”Gloal conﬁgured method for blueweb routing protocol,” IET
Communications, vol. 6, no. 1, january 2012, pp. 69–75.
[4]
S. Tahir, A. M. Said, and S. T. Bakhsh, ”Bluetooth network re-formation
protocol for reducing path length (bnr),” in Computer Information
Science (ICCIS), 2012 International Conference on, vol. 2, june 2012,
pp. 755–759.
[5]
S. Tahir, A. M. Said, and S. T. Bakhsh, ”A Bluetooth Scatternet Route
Optimization Protocol,” in AASRI Procedia - AASRI Conference on
Power and Energy Systems, vol. 2, 2012, pp. 142–148.
[6]
M. A. Marsan, C. Chiasserini, A. Nucci, G. Carello, L. D. Giovanni,
and L. D. Giovanni, ”Optimizing the topology of bluetooth wireless
personal area networks,” 2002, pp. 572–579.
[7]
A. Jedda, G.-V. Jourdan, and N. Zaguia, ”Some side effects of fhss
on bluetooth networks distributed algorithms,” in Proceedings of the
ACS/IEEE International Conference on Computer Systems and Appli-
cations - AICCSA 2010, ser. AICCSA 10. Washington, DC, USA: IEEE
Computer Society, 2010, pp. 1–8.
[8]
A. Jeddah, N. Zaguia, and G.-V. Jourdan, ”Analyzing the device discov-
ery phase of bluetooth scatternet formation algorithms,” in Distributed
Computing Systems Workshops, 2009. ICDCS Workshops 09. 29th
IEEE International Conference on, june 2009, pp. 468–471.
[9]
A. Pettarin, A. Pietracaprina, and G. Pucci, ”On the expansion and
diameter of bluetooth-like topologies,” in Algorithms - ESA 2009,
ser. Lecture Notes in Computer Science, A. Fiat and P. Sanders, Eds.
Springer Berlin / Heidelberg, 2009, vol. 57, pp. 528–539.
[10]
C. Law, A. K. Mehta, and K.-Y. Siu, ”A new bluetooth scatternet
formation protocol,” Mob. Netw. Appl., vol. 8, no. 5, Oct. 2003, pp.
485–498,
[11]
N. S. 2, ”The network simulator - ns2,” Last Visited in 11/02/2013.
[Online]. Available: http://www.isi.edu/nsnam/ns/
[12]
C. F. Chiasserini and M. A. Marsan, ”Towards feasible topology
formation algorithms for bluetooth-based wpans,” in in Proc. Hawaii
Int. Conf. on System Science, Big Island. Society Press, 2003, pp. 313–
322.
[13]
P. Gupta and P. Kumar, ”The capacity of wireless networks,” Informa-
tion Theory, IEEE Transactions on, vol. 46, no. 2, , Mar. 2000, pp.
388–404.
[14]
D. Frigioni and G. F. Italiano, ”Dynamically switching vertices in planar
graphs (extended abstract),” in Proceedings of the 5th Annual European
Symposium on Algorithms. London, UK: Springer-Verlag, 1997, pp.
186–199.
[15]
IBM,
”Ibm
ilog
cplex
optimizer,”
Last
Visited
in
11/02/2013.
[Online].
Available:
http://www-
01.ibm.com/software/integration/optimization/cplex-optimizer/
[16]
D. A. Q. Wang, ”Ucbt - bluetooth extension for ns2 at the univer-
sity of cincinnati,” Last Visited in 11/02/2013. [Online]. Available:
www.cs.uc.edu/cdmc/ucbt/
32
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

