Onto-Trafﬁc: A Semantic Trafﬁc Analysis Tool based on GPS Data for Smart-Cities
Juan J. S´anchez-Escobar‡, Liliana I. Barbosa-Santill´an∗,
Luis F. Barbosa-Santill´an∗, Fatemeh G. Nasri-Shandiz∗ and Gabriel A. Le´on-Paredes∗ †
∗University of Guadalajara
†Polit´ecnica Salesiana University
‡Technical and Industrial Teaching Center
email: jjsanchez@ceti.mx, ibarbosa@cucea.udg.mx,
francisco.barbosa@alumno.udg.mx, ghazalnasri@hotmail.com and gleon@ups.edu.ec
Abstract—Nowadays by growing usage of vehicles, control and
monitor the trafﬁc is a promise for smart cities. Recommendation
Systems are one of the solutions provided by smart cities for
such issues. These kind of systems are trend in Information
Technologies and they are acquiring acceptance among scientiﬁc
communities and enterprises as well. Such systems feed users with
valuable information about their environment and help them to
take better decisions related to trafﬁc jam. This paper presents
OntoTrafﬁc, a recommendation system based on ontologies, which
supports the user to obtain information related to urban trafﬁc in
the city of Beijing. The information is provided according to the
user’s requests. This recommendation system works with Global
Positioning System (GPS) traces taken from the Beijing data set,
which has twenty one millions traces. In addition, 5888 traces
were gathered through smartphones of Guadalajara citizens. In
OntoTrafﬁc system, data are collected by certain algorithms that
extract the data from a reliable databases. Produced information
from such system, which depends on the other recommendation,
allows users being more productive and efﬁcient in urban issues.
This information also improves user’s life quality by spending less
time and money on their daily activities. OntoTrafﬁc also provides
recommendations to obtain: (1) average trafﬁc on a speciﬁc street,
(2) ﬁnd rush hours for each street, (3) discover the most crowded
streets in a certain time, (4) demonstrate the distance between
two points on the map, and (5) show the bustle streets between
7:00 pm to 3:00 am. Finally this paper suggests some activities for
future work such as: (a) build new models to support smart cities,
(b) supporting recommended system developments for decision
makers, (c) valuing data analysis and ontologies for future High
Performance Computing (HPC) center.
Keywords—Recommendation systems; urban trafﬁc; smart cites;
OntoTrafﬁc system; smart applications; GPS data analysis.
I.
INTRODUCTION
Over the last ﬁve years, urban density in big cities has
been increased constantly and in some cases, such as less-
developed regions it has expanded dramatically. As a result,
the increase of urban density generated many issues like
healthcare, public security, pollution, etc. Moreover, urban
mobility has been affected drastically by the increase of
population in major cities. This situation has a tendency to
get worse due to increase of migration from rural areas to
urban areas in the coming years [1]. These issues can be
more remarkable on travel seasons, because there are more
people and more vehicles traveling at the same time to the
same place. In addition, road infrastructures cannot expand at
the same pace to solve the problem. As a consequence, the
inhabitants of big cities are the ones who suffer from daily
troubles such as trafﬁc jam, delays and high fuel consumption
[2]; in addition, there are some other intangible problems such
as fatigue, stress, air pollution, higher rate of accidents and
diseases, that are caused by urban growth and trafﬁc. The
aforementioned issues are very complex and involve multiple
factors. Hence, these signiﬁcant problems have been anal-
ysed and treated from different perspectives and via different
entities. Finding a solution for cited problems is not easy
because there are also some governmental issues involved,
such as politics, guidelines, infrastructure investments and lack
of using intelligent applications. However, systems like mobile
sensors that employ Global Positioning System (GPS) are
growing so fast and almost all of the smartphones are using
GPS beneﬁts, but still there are issues to provide the accurate
users location. Calabrese et al., [3] mention in their work that
use of smartphones for geo-location is only useful when trafﬁc
routes have been deﬁned and identiﬁed. Herring et al., [4]
have utilized gadgets with GPS to improve the accuracy of
user’s location. Disadvantage of this phenomena is that data
acquisition depends on people participation by downloading
and executing the application on their smartphones. Incursion
of social networks and massive spread of smartphones have
contribute to the develop of various projects where GPS are
utilized as data collectors systems, like tracking GPS trajecto-
ries projects. For example, the GeoLife project [5] identiﬁes
the relationship between people and places, enabling people to
share life experiences and build connections among each other
using location history. Users share travel experience using
GPS trajectories. Also, they obtain information from the GPS
traces with the objective to recommend sites where other users
and travellers visited. In other project presented by Microsoft
Research Asia [5], they have focused on characterizing and
comprehending people behavior, based on supervised learning
through GPS traces to infer and predict their mobility behavior.
Another ambitious project called T-Drive [6] Yuan et al., have
utilized taxis GPS as mobile sensor to register the trajectory.
Hence, they use the experience and ability of taxi drivers to
locate the best route for the user’s destiny. In this project, a
database has been created with most used routes trajectories of
Beijing city using GPS traces of 33,000 taxis during 3 months.
The authors could identify each segment (every block in a
trajectory) and time estimation between each node (an inter-
section between streets). Thus, the fastest route from one point
to another could be calculate and demonstrate. Subsequently,
users can choose the best route to their selected destination [7].
Many developing countries have witnessed an explosive ve-
hicular growth. Our motivation is to improve people’s lives
through the knowledge of a recommender, by using an open
source standard-based learning management system, that al-
lows them to choose the better available option.
5
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-477-0
IMMM 2016 : The Sixth International Conference on Advances in Information Mining and Management (includes DATASETS 2016)

It is essential to have a recommendation system that could
predict the behaviour of certain routes based on user’s previous
queries. Therefore, the use of recommendation systems could
reduce the travel in time and costs, and by this way users can
reach their destination with less stress.
One of the challenges is the architecture proposal, which
transforms the input using a data structure (ontologies) with a
huge datasets.
A. Contributions
Our contributions are as follows: 1) automatically identi-
fying trafﬁc interests from a user’s history, 2) alert techniques
that can be used to better determine whether a new recom-
mendation is interesting, and 3) present a sample of speciﬁc
SPARQL queries in order to evaluate system’s answers.
B. Structure of the paper
This paper is organized as following: in Section 2, method-
ology is introduced. In Section 3, experiment results are
presented. Finally, Section 4, presents conclusions.
II.
METHODOLOGY
A description of our recommender system based on On-
tologies is shown in Figure 1. In the ﬁrst level, dataset are
grouped into two sets (a) 21 millions of Beijing GPS records
and (b) 5888 Guadalajara GPS records. On the second level,
the GPS traces are transformed into Ontology Web Language
(OWL) Lite. Then, OntoTrafﬁc is populated and its consistency
is veriﬁed with Protege. In the fourth level, valid questions
for OntoTrafﬁc were identiﬁed and agreed. Next, competence
questions are translated to SPARQL language. We use ARQ
and JENA engines in order to run the SPARQL expressions
into OntoTrafﬁc. Results are validated by a focus group, and
translated to XML format to integrate with the project TUI-
TRAFFIC. Finally, all ﬁles transformed to CAP-XML ﬁle
format.
Figure 1. Recommender system architecture based on OntoTrafﬁc
Some of the objectives that OntoTrafﬁc covers are:
•
Average trafﬁc ﬂow on a speciﬁc street.
•
Obtain street rush hours.
•
Identify the most crowded streets in a certain time.
•
Measure distance between two particular points on the
map.
•
Recognize the most crowded streets between 7:00 pm
to 3:00 A.M.
On the other hand, GPS Taxi Cabs ﬁles contain data
collected by monitoring local taxicabs GPS in the city of
Beijing, China. This dataset was obtained from [5] where
10383 ﬁles have been collected. Each ﬁle contains the GPS
lecture of a single taxicab. This means that 10383 taxicabs
were tracked. Figure 2 shows a fragment of a GPS trace ﬁle
content. Each ﬁle has a ”.txt” extension and the information
stored in all of them is plain text.
Figure 2. GPS Traces located in the txt ﬁles.
It can be noticed that every taking reading is represented
as a single line. The name of the ﬁelds is as follows: id taxi,
date, hour, latitude and longitude.
Additionally, the ﬁrst column of Table 1 shows the name of the
ﬁelds from the collected data of GPS lectures, while on the
second column we present an example of values. This was
done for clariﬁcation purposes and all parameters are self-
explanatory.
TABLE I. SCHEMA AND EXAMPLE OF A GPS TRACE FILE
avgﬂow
Field
Example
id taxi
9999
date
2008-02-02
hour
13:39:30
latitude
40.03238
longitude
116.28176
In order to process all the instances of OntoTrafﬁc we
convert the CSV ﬁles to turtle ﬁles as shown in Figure 3.
Figure 3. Convert the CSV ﬁles to turtle ﬁles.
6
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-477-0
IMMM 2016 : The Sixth International Conference on Advances in Information Mining and Management (includes DATASETS 2016)

III.
RESULTS
This system can also give recommendations on (1) average
trafﬁc on a speciﬁc street, (2) rush hours of streets, (3) most
crowded streets in a certain time, (4) distance between two
points on the map, and (5) most crowded streets between 7:00
pm to 3:00 am, such as explained form A to E.
A. Average trafﬁc ﬂow on a speciﬁc street
The ﬁrst test aim was to ﬁnd the average trafﬁc ﬂow on a
speciﬁc street. Our dataset has been used for this test. Figure
4 shows results of the SPARQL query:
SELECT (AVG(?Flujo) AS ?Avg_flow)
WHERE {
?IDStreet s:flujo?Flujo;
s:name "DKMLTADKHFYLRKHQRMPO";
s:col "SZMAXRLJMHFKURUJYYOG".
}
Figure 4. Result of average trafﬁc ﬂow on a speciﬁc street by using
Beijing’s dataset
B. Streets rush hours
Second test purpose was to ﬁnd the busiest points in a
certain time (rush hours). To fulﬁll this test aim, we used
Beijing’s dataset.
Figure
5 shows results in a statistical graph and Figure
6
shows the result of the SPARQL query:
SELECT ?latitude ?longitude ?Hour
(COUNT(?gps) AS ?Amount)
WHERE
{
?gps gps:latitude ?latitude;
gps:longitude ?longitude;
gps:hour?Hour
FILTER(?latitude != 0.0).
FILTER(?longitude != 0.0).
}
GROUP BY ?latitude ?longitude ?Hour
HAVING(COUNT(?gps) > 1)
ORDER BY DESC (?Amount)
LIMIT 20
Figure 5. Results of busiest points in a certain time on Beijing
Figure 6. Results of busiest points in a certain time on Beijing
C. The most crowded streets in a certain time
The third test aim was to ﬁnd certain points with more
occurrences regardless of day and time. To achieve results for
this test, our dataset has been used. Figure 7 shows the results
of SPARQL query:
SELECT ?latitude ?longitude
(COUNT(?gps) AS ?Amount)
WHERE
{
?gps m:Latitude_from ?latitude;
m:Longitude_from ?longitude.
FILTER(?latitude != 0.0).
FILTER(?longitude != 0.0).
}
GROUP BY ?latitude ?longitude
HAVING(COUNT(?gps) > 1)
ORDER BY DESC(?Amount)
Figure 7. Results of the most crowded streets in Beijing
D. Distance between two particular points on the map
Fourth test target was to measure and demonstrate the
distance between two particular points on the map. For this
result, Beijing dataset has been used. Figure
8 shows the
result to SPARQL query:
7
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-477-0
IMMM 2016 : The Sixth International Conference on Advances in Information Mining and Management (includes DATASETS 2016)

SELECT (SUM(?Distancia_Seg) AS
?Distance_mts)
WHERE
{
?gps1 m:IDSegmento
?Segmento;
m:Distancia_Seg ?Distancia_Seg .
FILTER(?Segmento > A ).
FILTER(?Segmento < B ).
}
Figure 8. Results of distance between point A to B on Beijing dataset
E. The most crowded streets between 7:00 PM to 3:00 AM
The aim of the ﬁfth test was to ﬁnd the crowded points
between 7:00 PM to 3:00 AM. For obtain results of this test,
Beijin dataset has been used. The following query was used
in this aim.
SELECT ?longitude
?latitude ?t_hour
(COUNT(?gps) as ?Amount )
WHERE
{
{?gps gps:hour ?hour;
gps:longitude ?longitude;
gps:latitude ?latitude .
BIND (SUBSTR(?hour,1,2) as ?t_hour)
FILTER(?latitude != 0.0).
FILTER(?longitude != 0.0).
FILTER(?hour>="19:00:01").
FILTER(?hour<="23:59:59").
FILTER(?latitude=?latitude).
FILTER(?longitude=?longitude)
}
UNION
{?gps gps:hour ?hour;
gps:longitude ?longitude;
gps:latitude ?latitude .
BIND (SUBSTR(?hour,1,2) as ?t_hour)
FILTER(?latitude != 0.0).
FILTER(?longitude != 0.0).
FILTER(?hour>="00:00:01").
FILTER(?hour<="03:00:00") .
FILTER(?latitude=?latitude).
FILTER(?longitude=?longitude)
}
}
GROUP BY ?longitude ?latitude ?t_hour
HAVING (COUNT(?gps)>2)
ORDER BY DESC (?Amount)
Figure 9 shows result to the SPARQL query:
Figure 9. Results of the most crowded streets between 7:00PM and 3:00AM
of Beijing dataset
IV.
CONCLUSION
OntoTrafﬁc was developed as a basis for creating a rec-
ommendation system. Our system will recommend the best
trafﬁc route based on ﬁve solutions. The present paper shows
that, by using GPS traces from citizens mobile devices, can
recommend the best route in order to travel from point A to
point B in a speciﬁc time of day or under certain conditions
in a moment. It also helps to know the most frequent route,
the most utilized roads, time with the most heavy trafﬁc load,
city areas with the biggest trafﬁc jam, the best places to take
a Taxi, the preferred route for drivers, the different routes
available to reach a place or the alternative routes according
to a speciﬁc daytime, in a reasonable execution time. It was
observed that the processing time increases by the quantity
of GPS traces to be analysed. Even in the ﬁrst experiment,
the quantity of traces was relevant (more than 1,000,000).
Our main contribution is to have a recommendation system
that could predict the behaviour of the trafﬁc based on ﬁve
questions and answers of certain routes depending on different
user’s search criteria. Besides, our methodology is simple
because based on ontologies and SPARQL language is possible
to discover data in a huge dataset as Beijing. Above all, it is
important to highlight that this work is in development process.
For future work, we propose: (a) Build new models to support
smart cities. (b) Support recommender systems development
for decision makers. (c) Use data analytic and ontologies for
a future HPC center.
ACKNOWLEDGMENT
We thank Sciences Research Council (CONACyT) for
funding this research project.
REFERENCES
[1]
UNPD, “Unpd. 2012. world urbanization prospects: The 2011 revision,”
tech. rep., 2011.
[2]
D. Schrank, T. Lomax, and B. Eisele, “Urban mobility report 2011. report
for the texas transportation institute,” tech. rep., 2011.
[3]
F. Calabrese, M. Colonna, P. Lovisolo, D. Parata, and C. Ratti, “Real-time
urban monitoring using cell phones: A case study in rome,” Intelligent
Transportation Systems, IEEE Transactions on, vol. 12, pp. 141–151,
March 2011.
[4]
R. Herring et al., “Using mobile phones to forecast arterial trafﬁc
through statistical learning,” 89th Transportation Research Board Annual
Meeting, Washington DC, 2010.
[5]
Y. Zheng, X. Xie, and W.-Y. Ma, “Geolife: A collaborative social
networking service among user, location and trajectory.,” IEEE Data Eng.
Bull., vol. 33, no. 2, pp. 32–39, 2010.
[6]
J. Yuan et al., “T-drive: driving directions based on taxi trajectories.,”
in GIS (D. Agrawal, P. Zhang, A. E. Abbadi, and M. F. Mokbel, eds.),
pp. 99–108, ACM, 2010.
[7]
K. Sia-Nowicka, J. Vandrol, T. Oshan, J. A. Long, U. Demar, and A. S.
Fotheringham, “Analysis of human mobility patterns from gps trajecto-
ries and contextual information,” International Journal of Geographical
Information Science, vol. 30, no. 5, pp. 881–906, 2016.
8
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-477-0
IMMM 2016 : The Sixth International Conference on Advances in Information Mining and Management (includes DATASETS 2016)

