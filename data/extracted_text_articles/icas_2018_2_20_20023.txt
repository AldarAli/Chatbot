Key Parameter Identification for Faulty Wafer Detection Using Image Processing  
Shu-Kai S. Fan1, Du-Ming Tsai2, Chih-Hung Jen3, Rui-Yu Huang1 and Kuan-Lung Chen1 
 
1Department of Industrial Engineering and Management 
National Taipei University of Technology, Taiwan, ROC  
Email: morrisfan@ntut.edu.tw, ray4733430@yahoo.com.tw, ms199323@gmail.com  
 
2Department of Industrial Engineering and Management 
Yuan-Ze University, Taiwan, ROC 
Email: iedmtsai@saturn.yzu.edu.tw  
 
3Department of Information Management  
Lunghwa University of Science and Technology, Taiwan ROC 
Email: f7815@mail.lhu.edu.tw  
 
Abstract—Nowadays, the semiconductor industry has become 
fully automated during the manufacturing process where 
abundant process parameters are collected on-line by sensor for 
the Fault Detection and Classification (FDC) purpose. To analyze 
these parameters and identify a smaller set of key parameters 
that have crucial influence on wafer quality must bring great 
benefits in stabling the manufacturing process and enhancing the 
production yield. Therefore, this article considers an alternative 
approach to use image processing techniques for analyzing the 
raw trace data. First, the one-dimensional time series data of a 
wafer batch was transformed into a two-dimensional image. 
Fisher’s Criterion (FC) ratios of the labelled good and defect 
wafer images are computed. The parameters that have high FC 
ratios are deemed the key parameters. The nine key parameters 
were identified by using the proposed image processing technique, 
which concurs with the technical experiences from the process 
engineers.  
KeyWords: 
Semiconductor 
manufacturing, 
Key 
parameter 
identification, Image Processing, Fisher’s criterion  
I. 
 INTRODUCTION AND PROPOSED METHOD  
Nowadays, in the semiconductor manufacturing practice, 
wafer manufacturing is a complicated multiple-step sequence 
of photolithographic and chemical processing steps during 
which electronic circuits are gradually fabricated on a wafer 
made of pure semiconducting material; that is, the so-called 
“raw trace data.” Likewise, a gigantic amount of data with a 
wide variety of process parameters are simultaneously 
generated. Raw trace data are automatically recorded in every 
sensor during manufacture processes, so multiple time series 
data are produced wafer by wafer. The final wafer quality 
should be, in essence, highly related to some key parameters. In 
ordinary practice, the engineers use their practical experiences 
gained from extensive experimental results and historical 
testing data to decide on potential key parameter. Therefore, 
the investigation of possible key parameters among the raw 
trace data poses a challenging task for process engineers in 
semiconductor manufacturing. 
To improve the production yield and maintain the 
process stability, identifying the key parameters from the raw 
trace data is an important issue in routine manufacturing. 
Feature selection aims to downsize the amount of the raw trace 
data but still maintains the key information. In the Advanced 
Process Control (APC) practice, the raw trace data are collected 
by sensor continuously. The process control engineer will use 
this kind of data to perform the Fault Detection and 
Classification (FDC) and process control/monitoring tasks. 
Traditional FDC approaches in semiconductor manufacturing 
use univariate statistics for monitoring, which is tedious and 
might be misleading if key parameters cannot be correctly 
identified. Although the APC of semiconductor manufacturing 
has advanced considerably in the past decade, this paper 
attempts to propose an alternative approach by means of image 
processing techniques to analyze the raw trace data for 
identifying key parameters.  
In the open literature, there exist many researches that 
transform a two-dimensional image data into one-dimensional 
data and apply traditional statistical methods for post hoc 
analysis. For instance, Bartlett et al. [1] proposed using 
Independent Component Analysis (ICA) to study face 
recognition. On the contrary, from a reverse point of view, the 
one-dimensional raw trace data collected for this article will be 
recast into a two-dimensional image, and then existing image 
processing methods can be readily employed.  
A semiconductor manufacturing process that consists of 
38 parameters in the raw trace data set was under investigation. 
In the data set, there are 155 wafers monitored, labelled with 
134 good and 21 defect wafers. For each parameter, the 
155 180

 measurements of 155 wafers and 180 readings are 
placed in an image as shown in Figure 1.  
19
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-634-7
ICAS 2018 : The Fourteenth International Conference on Autonomic and Autonomous Systems

 
Figure1. Parameter Image. 
 
These 38 parameters are BufPurge N2 MFC Flow, Buffer 
Chamber Robot Correct EXT, Buffer Chamber Robot Correct 
ROT, CHILLED WATE R TEMP, CH Inner Heater Zone 
Temp, CH Outer Heater Voltage Ratio Mode, Chamber heater 
pid error, H2_Flow Setpoint1, H2_MFCFlow, Heater servo 
fwd, N2 Flow Setpoint1, N2 MFC Flow, N2 PURGE Flow 
Setpoint1, N2 PURGE_MFC Flow, NF3_MFCFlow, Number 
Wafer In Periodic Clean Process, PH3 Flow Setpoint1, PH3 
MFC Flow, SiH4 Flow Setpoint1, SiH4 MFC Flow, 
Temperature Power, Chamber fore line pressure, Chamber 
heater lift spacing, Chamber heater lift step number, Chamber 
inner heater zone current, Chamber inner heater zone power, 
Chamber inner heater zone resistance, Chamber inner heater 
zone voltage, Chamber lift position, Chamber misc number of 
wafer count, Chamber outer heater current, Chamber outer 
heater power, Chamber outer heater resistance, Chamber outer 
heater voltage, Chamber pm current wafer count, Chamber 
pressure reading, Chamber recipe elapsed time, and Chamber 
throttle valve position. 
In this study, the raw trace data was transformed into an 
8-bit gray-level representation. The maximum value is 255, so 
the grey level range would be from 0 to 255. The minimum 
value 0 represents black and the maximum value 255 
represents white.  
For each wafer, a univariate statistic, the Signal-to-Noise 
Ratio (SNR) is calculated as in (1). 
SNR



 
 
 
(1) 
In (1), μ is the mean and σ is the standard deviation. Under a 
particular parameter, the SNR is evaluated wafer-wise, 
generating a transformation from a time series realization into 
the feature of wafer’s parameter. From a practical viewpoint, a 
key parameter must be able to clearly differentiate between 
good and defective wafers. Therefore, it is highly anticipated 
that the SNR of good wafers exhibits an obvious difference as 
compared to that of defective wafers.  
Next, Fisher’s criterion (FC) ratio is used to identify the 
key parameters from the 38 parameters. As usual, FC tries to 
find a projection direction, attempting to increase the 
separation between classes while minimizing the variance 
within a class [2][3] (see Figure 3). In the paper, the SNR is 
used to compute each parameter’s FC ratio wafer by wafer. 
Firstly, the SNRs are classified into two categories: good and 
defective in that labelling was previously done. The good 
wafers fall into group 1 and the defective wafers fall into group 
2. Since there are 38 parameters in total, there are 38 FC ratios 
as well.  
 
 
Figure 3. FC Ratio Schematic Diagram 
 
Lastly, the K-means algorithm will be used to set up the 
threshold for identifying the key parameters. As a clustering 
method, K-means proposed by MacQueen [4] is a type of 
unsupervised learning algorithms, which solves the problem of 
clustering unlabeled data. The goal of this algorithm is to 
partition the data into K groups, and assign a cluster to each 
data point; K represents the number of clusters.  
The procedure of the K-means algorithm and its flow 
chart (see Figure 4) are shown as follows: 
 
Start
Initialize 
Number of 
Cluster K
Calculate the new 
means to be the 
centroids
Calculate Distance between data 
point and the cluster center 
Assign data point to the  
Cluster which are nearest to 
the cluster center
Data Point Moved
END
Yes
No
 
Figure 4. Flow chart of K-means algorithm 
20
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-634-7
ICAS 2018 : The Fourteenth International Conference on Autonomic and Autonomous Systems

 
1. 
Select K the number of clusters; 
2. 
Assign each data point to the clusters that has the nearest 
to the cluster center; 
3. 
Updated the new means of each cluster; 
4. 
Repeat Steps 2 and 3 until no data point moved.  
 
In addition, Figure 5 illustrates the proposed key 
parameter identification process. 
Identify Key Parameter
Input the Wafer 
Manufacturing 
processing Data
Transform 
Data into 
Image
Calculate 
Signal-to-noise 
Ratio
Calculate 
Fisher’s 
Criterion ratio
Identify Key 
Parameter by 
using K-means
 
Figure 5.  Key Parameter Identification Procedure. 
 
 
In the next section, some preliminary experimental results 
are demonstrated to validate the proposed procedure.  
 
II. 
EXPERIMENTAL RESULTS OF KEY PARAMETER 
IDENDIFICATION  
The key parameter identification result will be presented 
in this section. Every parameter was investigated by using the 
proposed procedure. An exemplary parameter, Chamber heater 
pid error, is illustrated in Figure 6. In the table, the original data 
profile is shown in (a), and the image representation in (b). In 
(a), the red lines indicate the profiles of the defective wafers, 
whereas the blue lines represent the profiles of the good wafers.  
 
Chamber heater pid error 
 
(a) 
 
 
(b) 
Figure 6. Chamber Heater Pid Error. 
 
In this study, potential key parameters are mainly 
identified based upon Fisher’s Criterion, and then Table I 
tabulates the FC values of all the 38 parameters. To set up a 
threshold for identification, the K-mean algorithm is used to 
classify all the 38 FC values into two clusters: key parameters 
and non-key parameters. As mentioned in subsection D, the 
cluster with a larger FC value is deemed the key parameter 
cluster.  
 
TABLE I. FISHER'S CRITERION LISTS OF 38 PARAMETERS 
Parameter 
Fisher’s Criterion 
1. BufPurge N2 MFC Flow 
0.03922 
2. Buffer Chamber Robot 
Correct EXT 
0.10435 
3. Buffer Chamber Robot 
Correct ROT 
0.01229 
4. CHILLED WATER 
TEMP 
0.01998 
5. CH Inner Heater Zone 
Temp 
3.74436 
6. CH Outer Heater Voltage 
Ratio Mode 
0.001468 
7. Chamber heater pid error 
5.01448 
8. H2_Flow Setpoint1 
0.001038 
9. H2_MFCFlow 
0.000226 
10. Heater servo fwd 
0 
11. N2 Flow Setpoint1 
0.009865 
12. N2 MFC Flow 
0.009985 
13. N2 PURGE Flow 
Setpoint1 
0.022763 
14. N2 PURGE_MFC Flow 
0.01684 
15. NF3_MFCFlow 
0.013256 
16. Number Wafer In 
Periodic Clean Process 
0 
  
 
 
 
Figure 7. Identify Key Parameter by Using K-means. 
 
Figure 7 exhibits the classification result via K-means as 
2
K  . The red points denote the key parameters as the black 
point represents the non-key parameters. In the figure, the Y 
axis stands for the FC value and the X axis denotes the 
parameter ID. The identified 9 key parameters are also shown 
in Table II. The identified parameters are all related to the inner 
heater sensors, which were also confirmed by the on-site 
engineers. Based upon this process investigation, the process 
engineer can proceed to constructing adequate control charts 
for a much smaller set of process parameters. By doing so, the 
false alarm of FDC can be greatly reduced.  
21
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-634-7
ICAS 2018 : The Fourteenth International Conference on Autonomic and Autonomous Systems

 
 
 
TABLE II. KEY PARAMETERS IDENTIFIED 
Result of Research Method 
Engineer’s Experience 
Chamber heater pid error 
✓ 
Chamber Inner Heater Zone 
Current 
✓ 
Chamber Inner Heater Zone 
Power 
✓ 
Chamber Inner Heater Zone 
Voltage 
✓ 
  
 
 
III. 
CONCLUSION 
In this research, the proposed method clearly identifies 9 
key parameters. This result concurs by the well-known process 
engineer’s domain knowledge and practical experiences. 
Through this case study, the proposed method proves to be a 
viable tool capable of correctly identifying the key parameters 
out of abundant process parameters in the semiconductor 
manufacturing practice. An immediate study for future research 
could be the identification of possible key steps for the key 
parameters revealed from this paper.  
 
REFERENCES 
[1] 
M. S. Bartlett, J. R. Movellan, and T. J. Sejnowski, “Face Recognition 
by independent component analysis,” IEEE Transactions on Neural 
Networks, Vol. 13, No. 6, pp. 1450-1464, 2002. 
[2] 
R. O. Duda, P. E. Hart and D. G. Stork, ”Pattern classification,” Wiley, 
New York, 2001. 
[3] 
G. Pires, U. Nuness and M. Castelo-Branco,“Statistical spatialfiltering 
for a P300-based BCI: Tests in able-bodied, and patients with cerebral 
palsy and amyotrophic lateral sclerosis,” Journal of Neuroscience 
Methods, Vol. 195, pp. 270-281, 2011. 
[4] 
J. MacQueen, “Some methods for classification and analysis of 
multivariate observations” In Proceedings of the fifth Berkeley 
symposium on mathematical statistics and probability, Vol. 1, No. 14, pp. 
281-297, 1967. 
[5] 
D. R. Mackay, “The impact of EDI on the components sector of the 
Australian automotive industry,” The Journal of Strategic Information 
Systems, Vol. 2, No. 3, pp. 243-263, 1993. 
 
22
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-634-7
ICAS 2018 : The Fourteenth International Conference on Autonomic and Autonomous Systems

