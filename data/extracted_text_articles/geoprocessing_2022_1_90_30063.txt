Cross-border Delivery and Web-based Visualization of 3D Buildings
Lassi Lehto and Jaakko Kähkönen 
Department of Geoinformatics and Cartography 
Finnish Geospatial Research Institute 
Masala, Finland 
e-mail: lassi.lehto@nls.fi, jaakko.kahkonen@nls.fi
Abstract—Need for 3D geodata is increasing in various 
environmental and energy-related applications. This concerns 
in particular the content theme buildings. Cross-border 
provision of 3D buildings is thus an important research and 
development objective, as the challenges related to human 
settlements tend to traverse physical boundaries and need to be 
tackled in the international context. The GeoE3 project has been 
developing a content integration platform for facilitating cross-
border access to 3D buildings datasets from five European 
countries. The approach is based on the utilization of modern 
standards, like OGC API Features and CityJSON, and applies 
on-the-fly processing of datasets for improved coverage and 
harmonization. 
Keywords-3D 
buildings; 
cross-border; 
harmonization; 
CityJSON, OGC API Features. 
 
I. 
 INTRODUCTION 
Cross-border provision of 3D geodata is a new and 
challenging task for the Pan-European Spatial Data 
Infrastructure development [1]. The provision of nation-wide 
3D data is in early stages and related standards are currently 
in rapid development phase [2]. First examples of genuine 
cross-border 3D geodata services are just being developed. 
GeoE3 project has been working on cross-border 
interoperable provision of 3D buildings [3]. The project 
consortium includes National Mapping and Cadastral 
Agencies (NMCAs) from five European countries: Estonia, 
Finland, Norway, Spain and The Netherlands. The project has 
continued for one year and a half and has achieved significant 
results [4][5]. Although the approach selected by the NMCAs 
vary drastically from country to country, the GeoE3 project 
has managed to set up consistent access to 3D buildings from 
all the participating countries. 
The service architecture adopted in the GeoE3 project 
relies on three-tier model. On the bottom tier, the varying 
national legacy content provision mechanisms are utilized to 
get access to the geodata content. On the second tier the 
GeoE3 data integration platform is responsible for adapting 
the content encodings and service interfaces to the needs of 
the modern technologies used on the client side. On the third 
tier are the client applications making use of the GeoE3 
datasets in various identified renewable energy and smart city 
related use cases. 
The Open Geospatial Consortium’s new family of service 
interface standards, called OGC API [6] is the basis of the 
GeoE3 data integration platform. All the content provision 
from the platform is based on this set of standard interfaces 
and the related data encoding specifications. So far, GeoE3 
has successfully implemented content access services based 
on OGC API Features [7] and OGC API Coverages [8] service 
specifications. In addition, the platform applies OGC API 
Processes [9] for supplementary on-the-fly processing and 
OGC API Records [10] for metadata provision. The core 
software solution used for the integration platforms Python-
based computing environment is the OGC API Features 
reference implementation called pygeoapi [11]. In addition to 
OGC API Features, the software package supports at least 
preliminarily all the other needed OGC API standards. Django 
[12] is used as the Web application framework on the GeoE3 
content integration platform and pygeoapi is adapted by the 
project to run in this framework. 
In addition to 3D buildings, the GeoE3 project delivers 
also 2D buildings, together with rich attribute content. 
Schema for the building attributes is modelled on the basis of 
INSPIRE alternative encoding and model simplification rules 
[13]. GeoE3 is also working with coverage type content 
themes like Digital Terrain Model (DTM) and Digital Surface 
Model (DSM). Based on the needs of the selected use cases, 
some climate-related datasets, like temperature, windspeed 
and sunshine hours, are also included. These are accessed 
from the bottom tier as point observations, converted to 
coverage type data on the platform and provided through OGC 
API Coverages compliant service points to the client 
applications. 
3D buildings are accesses from various different legacy 
sources from the bottom level and provided from the 
integration platform via OGC API Features service end point. 
According to the general approach adopted in the GeoE3 
project, all the available country-specific datasets are 
configured as individual data collections inside a single OGC 
API instance. This way a simple but powerful solution for 
content integration can be achieved. Individual country’s 
dataset can be accessed by querying the appropriate 
collection. Cross-border data requests are supported naturally 
with the so called cross-collection query, supported in the 
OGC API Features standard (Part 3: Filtering and the 
Common Query Language) [14]. The new CityJSON 
36
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-983-6
GEOProcessing 2022 : The Fourteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

encoding standard for 3D geodata representation is adopted 
for the transfer of 3D buildings [15]. 
The rest of the paper is organised as follows. Section II 
discusses the solutions used for the provision of 3D building 
data. Section III describes the approach for delivering 3D 
buildings via the OGC API Features service interface. In 
Section IV Web browser-based 3D visualization is discussed. 
The paper ends with the conclusion in Section V. 
II. 
DELIVERY SOLUTIONS 
As the 3D provision of buildings data is in its early stages 
by the NMCAs, the solutions and selected standards vary 
significantly from country to country. However, the GeoE3 
project has been able to provide full country coverage of 3D 
buildings in a consistent manner from all the participating five 
countries. This also involves dynamic, on-the-fly creation of 
LOD1 building geometries in some cases. 3D buildings are 
provided via the OGC API Features, Web Feature Service 
(WFS) or OGC API Processes interface, and are encoded in 
CityJSON format. 
In the case of Estonia and Finland, the approach is quite 
the same. 3D buildings data are available on the country level 
as CityGML [16] file downloads. The Estonian dataset covers 
the whole country. The Finnish 3D buildings dataset at the 
moment only covers 10 distinct production areas, situated all 
over the country. The datasets are downloaded to the GeoE3 
integration platform and then uploaded to the 3D City DB 
database [17]. The WFS-compliant service implementation 
provided by the 3D City DB developers is used to access the 
contents of the database. Along the adopted principles of the 
GeoE3 integration platform, the WFS interface is hidden 
behind an OGC API Features instance, through which the 
clients will access the 3D buildings using feature ID and 
BBOX queries. 
The Norwegian NMCA, Kartverket, is just about to start 
the 3D buildings production. An OGC API Processes -
compliant on-the-fly process has been developed on the 
GeoE3 integration platform to provide a temporary solution 
for the provision of Norwegian 3D buildings. The solution 
currently only supports feature ID -based queries. When a 
feature ID comes in to the OGC API Processes instance, the 
corresponding building is queried from the 2D buildings OGC 
API Features interface of the GeoE3 platform. From the 
received feature geometry the Minimum Enclosing Rectangle 
(MER) of the building is retrieved and the corresponding 
piece of DTM and DSM are queried. Then DTM and DSM 
height values inside the area of the building are used to 
calculate elevation for the building’s roof and floor. Finally, 
the footprint geometry of the building and the derived 
elevations are used to generate a CityJSON-encoded LOD1 
3D model of the building. The process is integrated to the 
GeoE3 platform so that it can be used as a source for 3D 
buildings in a similar fashion than other countries’ buildings. 
Input parameters of the OGC API Processes interface include 
the code of the country from which the building is queried, 
and the identifier of the building, see Figure 1. 
In the case of the Netherlands, the 3D buildings are 
available for file download readily in the CityJSON format. 
However, the buildings are packaged into a tiled file structure. 
Thus, a lot of preprocessing is required to download and 
integrate the buildings with the GeoE3 platform in a way that 
facilitates an individual building to be efficiently retrieved. A 
custom-built database is used on the GeoE3 platform to store 
the ID of the building, together with the corresponding 
CityJSON representation of its 3D model. The access 
interface is currently modelled after the WFS interface’s 
feature ID query. 
 
 
Figure 1. Processing pipeline for the OGC API Processes-based on-the-fly 
generation of LOD1 category 3D building models on the GeoE3 integration 
platform. 
Spain is a special case among the GeoE3 countries, as it 
already has a functioning service interface for the 3D 
buildings available. The service provides access to KML-
based representation of the building’s 3D model via a feature 
ID query. So, the interface only supports retrieval of 
individual buildings. The KML encoding is generated 
dynamically by the service from a database of floorplans. The 
resulting 3D model is thus detailed in the internal subdivision 
of the building, but still represents only LOD1 category 3D 
modelling. To integrate the Spanish service to the GeoE3 
platform, a proxy service was developed for transforming the 
KML encoding into the CityJSON format. The proxy service 
publishes to the calling application an interface supporting 
WFS’s feature ID query. Examples of 3D buildings from all 
the GeoE3 participating countries are presented in Figure 2 
(from top to bottom: Finland, Estonia, Norway, The 
Netherlands, Spain).  
III. 
OGC API FEATURES-BASED ACCESS 
There are several actions going on to define a service 
interface for accessing wide scale 3D geodata. Many of them  
37
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-983-6
GEOProcessing 2022 : The Fourteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
 
Figure 2. Examples of 3D buildings from all the GeoE3 countries. 
 
focus on efficient streamed delivery of continuous 3D scenes 
[18]. In GeoE3 the approach to 3D geodata delivery has been 
kept simple. The idea is to select the area desired for 3D 
inspection on a 2D basemap, and then request the 3D 
representation of the whole area in one single query. At the 
moment the access interface is simply based on the OGC API 
Features standard, with the format query parameter having 
value ‘cityjson’ and the BBOX parameter indicating the area 
to be requested. The approach is appropriate for conveniently 
viewing city block level environments. This facilitates general 
inspection of the whole area with natural 3D controls, and the 
selection of individual buildings for detailed attribute analysis. 
At the moment the OGC API Features-based access to 3D 
buildings is only available for the Finnish and Estonian 
datasets. 
A rich set of attribute information has been added to the 
3D building to support the envisaged renewable energy-
related use cases. In the case of the Finnish dataset, all 
attributes available in the corresponding 2D building are first 
integrated. Then an external service is queried using the 
building attribute ‘externalReference_reference’ as the key. 
Several technical attributes can be added to the building as a 
result of this query. The climate-related OGC API Coverage 
services available on the GeoE3 platform are queried next, 
with the position of the building as the parameter. Three 
additional parameters, indicating long-period average 
temperature, windspeed and yearly sunshine hours on the 
location of the building, can then be added. Finally, the energy 
certificate register is queried to find out the energy efficiency 
category of the building. This attribute is added to the 
building, if available. As a result, the 3D building has a wide 
set of attributes present, supporting various energy-related 
analysis scenarios with 3D visualization capabilities (see 
Figure 3). Similar functionalities will be added to the 
buildings of other countries once necessary data sources 
become available. 
IV. 
 WEB-BASED 3D VISUALIZATION 
The 2D mapping functionalities of the GeoE3 platform’s 
user interface rely on use of the OpenLayers library [19]. 
However, CityJSON and the related software packages have 
been selected as the solution for 3D visualization needs in the 
GeoE3 project [20]. All the 3D geodata delivered from the 
GeoE3 integration platform are currently encoded in 
CityJSON format. Buildings have varying support on 
semantic surfaces, depending on the availability of this 
information in the national datasets. The omission of 
semantics is 
partially accounted 
for 
by on-the-fly 
computations in the visualization module (i.e. walls are 
distinguished from the roof and the floor by their vertical 
nature). The 3D visualization in the GeoE3 user interface is 
based on the Vue component ‘ThreeJsViewer’, part of Ninja 
[21], developed by the University of Delft [22]. Various 
helping functionalities have been developed to guide the 
camera position by mouse movements on the 2D map, 
potentially considering the elevation information derived 
from DSM via the GeoE3 platform’s OGC API Coverage 
service. In some cases, the GeoE3 platform also supports 3D 
viewing of DTM together with the building’s 3D model.
38
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-983-6
GEOProcessing 2022 : The Fourteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
 
Figure 3. City block-level view of the 3D buildings, requested by a BBOX query from the OGC API Features service of the GeoE3 platform (top). Attribute 
display of the selected building with technical, climate and energy related attributes shown (bottom). 
 
 
 
 
39
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-983-6
GEOProcessing 2022 : The Fourteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

V. 
CONCLUSION 
The GeoE3 project has been able to develop an advanced 
content integration platform supporting cross-border access 
and visualization of 3D buildings. The technical integration 
across participating countries’ 3D data is facilitated by 
treating individual datasets as collections inside a single OGC 
API Features service instance. Seamless cross-border queries 
are supported by applying so-called cross-collection queries 
of the OGC API Features specification, Part 3. CityJSON is 
used as the efficient means for transferring and consuming 3D 
geodata in Web-based user interfaces. Despite the challenges 
related to varying production mechanisms, 3D building data 
has been made consistently available from all five 
participating countries. Various on-the-fly mechanisms have 
been developed to facilitate the 3D provision of buildings. In 
particular, an OGC API Processes-compliant process 
computes LOD1 category building models in real-time from 
building’s 2D footprint and DTM/DSM-derived elevation 
values. 
The work continues to improve the consistency among the 
countries’ datasets and the service interfaces through which 
they are delivered. For instance, buildings from the 
Netherlands are to be made available via the OGC API 
Features interface with support for BBOX queries. All WFS 
feature ID queries will be replaced by the OGC API Feature 
interface’s Item query. New datasets will be added as they 
become available – in particular this involves new production 
areas in Finland. Client application solutions will also be 
developed for demonstrating the utilization of 3D buildings in 
further use case scenarios. 
 
ACKNOWLEDGMENT 
The GeoE3 project is co-financed by the Connecting 
Europe Facility (CEF) of the European Union with the grant 
agreement number INEA/CEF/ICT/A2019/2063390. 
The authors wish to acknowledge CSC – IT Center for 
Science, Finland, for computational resources. 
 
REFERENCES 
[1] F. Biljecki, J. Stoter, H. Ledoux, S. Zlatanova, and A. Çöltekin, 
“Applications of 3D City Models: State of the Art 
Review”. ISPRS Int. J. Geo-Inf. 2015, 4, pp. 2842-2889. 
https://doi.org/10.3390/ijgi4042842 
[2] OGC, “OGC Advances Standards for the Built Environment 
and 
3D”. 
[Online]. 
Available 
from: 
https://www.ogc.org/domain/built, 2022, [retrieved: May, 
2022] 
[3] GeoE3, Geospatially Enabled Ecosystem for Europe, GeoE3 
Home Page. [Online]. Available from: https://geoe3.eu, 2021, 
[retrieved: May, 2022] 
[4] L. Lehto, J. Kähkönen, J. Reini, T. Aarnio, and R. Tervo,  
Cross-border and Cross-domain Integration of Content in a 
European Geospatially Enabled Ecosystem. GEOProcessing 
2021, the Thirteenth International Conference on Advanced 
Geographic Information Systems, Applications, and Services, 
Jul 18-22, 2021, Nice, France, pp. 1-5. ISBN: 978-1-61208-
871-6 
[5] L. Lehto and J. Kähkönen, OGC API Features HTML-output 
as a Feature Dashboard, Abstr. Int. Cartogr. Assoc., 3, 176, 
https://doi.org/10.5194/ica-abs-3-176-2021, 2021, [retrieved: 
May, 2022] 
[6] OGC, OGC API Home Page. [Online]. Available from: 
https://ogcapi.ogc.org, 2021, [retrieved: May, 2022] 
[7] OGC, OGC API – Features Home Page. [Online]. Available 
from: https://ogcapi.ogc.org/features/, 2022, [retrieved: May, 
2022] 
[8] OGC, OGC API – Coverages Home Page. [Online]. Available 
from: https://ogcapi.ogc.org/coverages/, 2022, [retrieved: May, 
2022] 
[9] OGC, OGC API – Processes Home Page. [Online]. Available 
from: https://ogcapi.ogc.org/processes/, 2022, [retrieved: May, 
2022] 
[10] OGC, OGC API – Records Home Page. [Online]. Available 
from: https://ogcapi.ogc.org/records/, 2022, [retrieved: May, 
2022] 
[11] T. Kralidis, pygeoapi Home Page. [Online]. Available from: 
https://pygeoapi.io, 2021, [retrieved: May, 2022] 
[12] Django, Django Home Page. [Online]. Available from 
https://www.djangoproject.com, 2022, [retrieved: May, 2022] 
[13] INSPIRE-MIF, INSPIRE Alternative Encoding Model 
Simplification 
Rules. 
[Online]. 
Available 
from: 
https://github.com/INSPIRE-MIF/2017.2/blob/master/model-
transformations/TransformationRules.md, 2020, [retrieved: 
May, 2022] 
[14] OGC, “OGC API Features – Part 3: Filtering and the Common 
Query 
Language 
(CQL)”. 
[Online]. 
Available 
from 
https://portal.ogc.org/files/96288, 2020, [retrieved: May, 2022] 
[15] H. Ledoux et al. ”CityJSON: a compact and easy-to-use 
encoding of the CityGML data model”. Open geospatial data, 
softw. stand. 4, 4 (2019). https://doi.org/10.1186/s40965-019-
0064-0 
[16] OGC, CityGML Home Page. [Online]. Available from: 
https://www.ogc.org/standards/citygml, 2012, [retrieved: May, 
2022] 
[17] Z. Yao et al. 3DCityDB - a 3D geodatabase solution for the 
management, analysis, and visualization of semantic 3D city 
models based on CityGML.Open geospatial data, softw. 
stand. 3, 5 (2018). https://doi.org/10.1186/s40965-018-0046-7 
[retrieved: May, 2022] 
[18] OGC, “Indexed 3D Scene Layers (I3S)”. [Online]. Available 
from: https://www.ogc.org/standards/i3s, 2021, [retrieved: 
May, 2022] 
[19] OpenLayers, OpenLayers Home Page. [Online]. Available 
from: https://openlayers.org, 2022, [retrieved: May, 2022] 
[20] CityJSON, CityJSON Home Page. [Online]. Available from: 
https://www.cityjson.org, 2021, [retrieved: May, 2022] 
[21] S. Vitalis et al. CITYJSON + WEB = NINJA, ISPRS Annals of  
Photogrammetry, Remote Sensing and Spatial Information 
Sciences, 
VI-4/W1-2020, 
pp. 
167–173, 
https://doi.org/10.5194/isprs-annals-VI-4-W1-2020-167-2020, 
2020. 
[22] TUDelft, TU Delft 3D Geoinformation Home Page. [Online]. 
Available from: https://3d.bk.tudelft.nl, 2022, [retrieved: May, 
2022]
 
40
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-983-6
GEOProcessing 2022 : The Fourteenth International Conference on Advanced Geographic Information Systems, Applications, and Services

