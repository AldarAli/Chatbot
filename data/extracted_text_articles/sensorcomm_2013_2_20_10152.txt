A 169 MHz Wireless M-BUS Based Advanced Meter  
Infrastructure for Smart Metering 
 
M. Alonso-Arce, P. Bustamante, G. Solas and J. Añorga 
Department of Electronics and Communication 
CEIT and Tecnun (University of Navarra) 
Donostia-San Sebastián, Spain 
maarce@ceit.es, pbustamante@tecnun.es, gsolas@tecnun.es, jbenito@ceit.es 
 
 
Abstract— Nowadays, the use of wireless technologies provides 
a great benefit to the society. One particular example is the 
shift towards smarter, more advanced meters. While this trend 
first started off with the electricity meter market, the adoption 
of smart meters within the gas and water meter market is also 
gaining momentum. This article presents an architecture, 
design 
and 
implementation 
of 
an 
advanced 
meter 
infrastructure based on 169 MHz, which is suitable for critical 
deployments as basements, courtyards, etc. The article includes 
the design and implementation of a wireless sensor node and a 
gateway for Gas Smart Metering, which can coordinate the 
network and connect the metering to the “Cloud”. This way, 
the acquired data could be used to improve the measurement 
systems avoiding human errors. 
Keywords— Wireless Sensor Networks, Advanced Metering 
Infraestrucutre (AMI), wireless M-Bus, Cloud Computing 
service 
I.  INTRODUCTION 
The cost reduction for the wireless technology has raised 
the number of applications, in which the remote monitoring 
and metering are included. This has caused many companies 
to dedicate their research to the development of wireless 
sensor platforms, known as Smart Meters, aimed at this 
purpose. 
The Smart Meters are defined as advanced energy, water, 
or gas meters which measure the energy consumption of a 
consumer and provide added information to the energy 
provider companies. Smart meters can read real-time energy 
consumption information including voltage, phase angle and 
frequency values and securely communicate that data. The 
smart meters are part of a bigger system where, in addition to 
the 
smart 
meters 
a 
bidirectional 
communication 
infrastructure and the remote control of the devices are 
included. 
The meter network platform we are proposing is based on 
the 169 MHz frequency band. This band has been reserved in 
Europe for meter reading purposes. Along the paper a 
standard platform and its gateway to the Internet is proposed, 
developed and tested. The platform is able to read meters or 
sensors remotely through typical communication protocols 
such M-Bus, Modbus, I2C, SPI, UART, etc., and also it has 
been optimized for low cost and low energy consumption. 
The meter network is made up of different wireless 
sensor nodes linked to a master node which is connected to 
Internet via the mobile network. The sensor nodes are placed 
near the meters or sensors located in places where a robust 
communication system is needed, due to the attenuation. 
Examples of these kinds of places are basements, courtyards, 
rooftops, etc. 
The rest of this paper is structured as follows: in Section 
II, details are provided concerning the related work including 
the identification of the main commercial platforms and its 
characteristics. In Section III, the system architecture is 
described. Section IV explains the implementation of the 
different parts of the Advanced Meter Infrastructure. Section 
V shows both the test done to the system and the results 
obtained. And finally, conclusions and future work are 
drawn in Section VI. 
II. RELATED WORK 
Currently, the commercial available WSN platforms in 
use are very similar in terms of their hardware architecture, 
which are based either on the 16-bit MSP430 microcontroller 
or the 8-bit ATmega128 MCU, in combination with a 
network architecture based on IEEE 802.15.4 standard. 
Examples of this type of platforms are TelosB, MicaZ and 
IRIS. The popularity of the use of the MSP430 and 
ATmega128 processors is due to several reasons, such as the 
ultra low power energy consumption, the community 
support, the open source compilers based on GNU-GCC, and 
the different embedded operating systems support, such as 
TinyOS or ContikiOS [1][2]. The limitations of the platforms 
for the IEEE 802.15.4 based networks have led us to develop 
a new hardware platform for the 169 MHz frequency band. 
Other meter infrastructures are presented in the literature. 
These meter infrastructures are based on the platforms 
mentioned above. For example in [3] an AMI is created in 
the city of Goteborg, based on the ZigBee technology using 
the 2.4 GHz band. Another example is ZAMI [4], which 
proposes a ZigBee based infrastructure for automatic meter 
data collection and energy auditing and management. 
In relation with the 169 MHz frequency band, a variety 
of protocols compete to extend the use of their proprietary 
approaches. Protocols such as ZigBee [5], EnOcean Routing 
Protocol [6], KNX-RF [7] and wireless M-Bus are the major  
 
33
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

contenders. Currently, the wireless M-Bus has a special 
importance, as it has been selected by the metering industry, 
which is organized in associations (i.e. the Open Metering 
Group).  
Wireless M-Bus is based on the Metering bus (M-Bus) 
which is specialized in transmitting data from the different 
meters. The wireless M-Bus is specified by the European 
Norm 13757 [8] and covers the communications from the 
OSI model hardware layer to the application layer. Although 
wireless M-Bus does not specify the network organization, 
leaving it open, gives all the necessary tools to implement it. 
Wireless companies have developed modules which are in 
compliance with this norm, having most of them a 
preprogrammed embedded stack. For this reason, these 
modules are not suitable for research purposes.  
III. SYSTEM ARCHITECTURE 
The system architecture addresses buildings in a 
neighborhood, creating a 169 MHz wireless network, in 
which the meters and the sensors are the network sensor 
nodes. The communication between each node and the data 
mining 
services 
is 
carried 
out 
via 
Internet. 
The 
interconnection is provided by a special node, the gateway 
Node. For the connection to the WAN, the mobile 
communication networks have been selected, using a 
GSM/GPRS [9][10] module. Due to the fact that some 
sensor nodes can be out of range with the gateway node, all 
of the nodes perform message routing. 
 
Fig. 1 Advanced Meter Infrastructure (AMI), based on wireless M-BUS 
networks 
Fig. 1 presents the most important components of the system, 
where each sensor node is able to report data values and 
respond to external request in an autonomous and 
independent way. These nodes require small computational 
power but memory can be an important issue, depending on 
the time interval the measured values have to be stored. 
Usually the sensor nodes are run by batteries; although in 
some cases they could be run by the electric grid. In the case 
of the gateway node, it requires significantly higher energy 
resources for collecting and storing together the data 
received from the sensor nodes, and to be sent to the data  
 
 
mining services. This node is also responsible for sending the 
software updates, the configuration commands and test 
commands to the nodes. As it has been mentioned, this node 
is connected to the Internet via a GSM/GPRS module. The 
current consumption of these modules could reach peaks of 
1A. This is the reason why the gateway node is powered by 
the electric grid. 
IV. IMPLEMENTATION 
A. Hardware implementation of Sensor Node 
The objective of developing a new wireless M-Bus 
platform was to have a base layout design that can be easily 
controlled and modified. It could also be used in various 
applications with different interfaces for meters and sensors. 
Fig. 2 shows a scheme of the proposed Sensor Node. 
 
Fig. 2 Sensor's Node hardware scheme 
The hardware architecture of the wireless device has 
been divided in different modules: the microprocessor 
module, the multipurpose sensor interface, the 169MHz RF 
module and the Power supply module. 
The microcontroller module is the core of the system. It 
receives the sensor information through the multipurpose 
interface and also controls the battery level and the radio 
communications. For this module we chose a MSP430 based 
microcontroller used in the main commercial platforms such 
as TelosB, TinyNode, Tmote Sky, etc [11]. The selected one 
is the MSP430F5529 microcontroller with 8KB+2KB RAM, 
128KB Flash and with integrated USB and PHY supporting 
USB 2.0, four 16-bit timers, a high-performance 12-bit 
analog-to-digital converter (ADC), two universal serial 
communication interfaces (USCI), hardware multiplier, 
DMA, real-time clock module with alarm capabilities, and 
47 utilizable I/O pins. The MSP430F5529 is a 16-bit RISC 
microcontroller equipped with different low power modes 
between Off Mode (RAM Retention) and Standby mode 
(1.9μA from 1.8V to 3.6V).  
34
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

 
Fig. 3 Picture of the developed sensor node 
For the 169 MHz frequency band, the CC1120 chip from 
Texas Instruments was chosen. This RF module was selected 
due to the fact that it offers the possibility of changing 
parameters related to the communication protocol, a feature 
not provided by the commercial ones. 
The Printed Circuit Board (PCB) was designed 
addressing signal integrity issues for digital circuits such as 
loop inductance, crosstalk, and Power Distribution Network 
(PDN) issues. A FR4 2-layer PCB was used with all the 
components in the top layer. For crosstalk reduction, all 
empty routing space was filled with cooper and connected to 
ground plane. In the case of the PDN decoupling capacitors 
are placed near the IC’s power pins minimizing the effect 
they have on the rest of the circuit. Traces were kept as small 
as possible and splaying corners are used, to avoid 
transmission line reflections. In order to have the best 
performance against the EMC the smallest component 
packages were used to ensure low equivalent Series 
Inductance (ESL). The result of the developed sensor node is 
shown in Fig. 3, where the dimensions are 80mm x 40mm. 
 
Fig. 4 Gateway's hardware scheme 
B. Hardware implementation of the Gateway Node 
The gateway node is designed as an extension of the 
previous node with added modules and features. In this case, 
a GSM/GPRS module and a FLASH memory are added to 
the hardware architecture, and the USB interface is used to 
have a direct connection to the PC. It is used as a command 
line for debugging and programming. Another remarkable 
change is the power source which is obtained from the 
electric grid. A graphical scheme of the gateway node is 
shown in Fig. 4. 
 
The PCB was designed similarly to the one of the sensor 
node. The result of the gateway node implementation is 
shown in Fig. 5, where the dimensions are 85mm x 54 mm. 
 
Fig. 5 Picture of the developed wireless M-BUS Gateway 
C. Software implementation 
The developed software is a key point of the system and 
has a modular scheme. It also created from scratch and built 
with the open msp430-gcc compiler. The design allows the 
different modules to be independent from the hardware as 
long as the same standards and definitions are used. Fig. 7 
shows the software architecture and the interactions between 
its components. The major components are: 
• 
Sensor node software: reports information about the 
sensors and responds to requests. 
• 
Gateway node software: includes the following 
functions: request data, aggregate nodes to the 
network, manages communications and provides 
information about all the nodes to the “cloud”. 
• 
Data mining service: exploits the data and introduces 
them into the database. 
• 
Web interface: displays the data and allows the user 
to send commands to the network or to an individual 
node. 
The sensor node software implements a wireless M-Bus 
stack besides a power saving algorithm, designed to manage 
all the power modes of the modules. It puts the modules in 
the best mode, considering the tradeoff between their 
functionality and the minimum power consumption. 
 
<device> 
  <id>01:02:0A:0B:0C:0D:01:01</id> 
  <measure> 
    <var> 
      <varid>1</varid> 
      <value>2</value> 
      <time>2013-04-16 12:20:53</time> 
    </var> 
  </measure> 
</device> 
Fig. 6 XML file description 
35
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

The embedded software running in the gateway node also 
implements the wireless M-Bus stack, but in this case it is 
not worth implementing the power saving algorithm. 
Furthermore, this software implements the gateway 
functionality, which translates the data between the wireless 
M-Bus network and the Internet. However, another protocol 
translation occurs prior to this one. Data obtained from the 
wireless M-Bus network is translated into a custom XML, 
and is sent to the data mining service by the HTTP protocol 
over TCP/IP via the GSM/GPRS module. In addition, the 
gateway node has a USB interface with a console for 
configuration. An example of a piece of code from a 
generated XML file is shown in Fig. 6. 
The data mining service is composed by a RESTful web 
service API, a MySQL database and a web server service. 
The RESTful service receives the XML file generated and 
sent by the gateway nodes and introduces it into the 
database. The web server service is used as a web interface 
that handles the data visualization and is able to configure 
some parameters of the nodes and also to send commands to 
the gateway. 
V. TESTS AND RESULTS 
In this section, the most relevant results and tests have 
been evaluated. First, a power consumption study of the 
main operations of the sensor node is shown. Then the 
evaluation of the gateway communications front-end is 
exposed. Finally, the whole system with Internet connection 
is evaluated and analyzed. 
A. Sensor Node 
The energy consumption of the developed sensor node 
has been studied by analyzing the voltage drop across a 10Ω 
resistor placed in series with the power source. Then the 
current consumption is obtained by applying the Ohm’s law. 
Fig. 8 shows the current consumption profile obtained for 
different typical operations.  
• 
Interval 1 and 5 shows the device in the best power 
down mode, where the average current consumption 
is 0.223mA. 
• 
Interval 2 corresponds to the microcontroller in 
active mode and the transceiver in idle mode, where 
the total current consumption average is 2.529mA.  
• 
Interval 3 relates to the receive operation of the 
transceiver in the channel “1a”, defined in the 
wireless M-Bus standard. In this interval the device 
is waiting for a packet and receives it, in which case 
the current consumption average is 25.002mA.  
• 
Interval 4 presents a transmit operation of a wireless 
M-Bus packet in channel “1a”, composed by 23 
bytes without taking into account the preamble. In 
this case the current consumption average is 
40.075mA during 45.5ms. 
 
Fig. 8 Node´s Energy consumption 
-5
0
5
10
15
20
25
30
35
40
45
0
100
200
300
400
Current Consumption
(mA)
Time
(ms)
1
4
2
3
5
 
Fig. 7 Software Architecture 
Sensor Node
Sensor 
or
Meter
Report  data and
respond requests
Request data
Gateway Node
Sensor 
or
Meter
Report  data and 
respond requests
Request data
Send commands 
and manages the 
communications
Receives messages and 
stores them into Flash
Data Mining Service
Database
Send XML 
files via HTTP
Sensor 
Node 
Software
Sensor 
Node 
Software
Introduce data into 
database
RESTful
Web Server
Send 
Commands
Receives 
requested 
data
Web 
Server
Request
data
Web 
Interface
Visualizes data and serves 
the command line
Receives commands
36
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

B. Gateway Node 
The gateway node was built and tested similar to the 
sensor node. Upon the electrical test was done, the 
connection to the PC through the USB was tested, creating a 
command line in the USB and configuring the USB line as a 
serial CDC emulation. The GSM/GPRS module was tested 
by sending AT commands via the command line and 
observing the responses, sending some text messages to 
some phone devices. 
C. Advanced Meter Infraestrucutre 
The system was prepared by setting-up a wireless meter 
network with 2 sensor nodes and 1 gateway node. As the 
sensor nodes do not have connected any sensor or meter, the 
sensor nodes were configured to send periodical messages 
every 2 minutes with the “On time” value to the gateway 
node. The data mining service and the web interface was 
configured as it is presented in the implementation. 
 
Fig. 9 Web interface screenshot 
The infrastructure was tested analyzing the results 
obtained in the web interface, which shows the “On time” 
values configured to be sent on sensor nodes. A screenshot 
of the web interface is shown in Fig. 9. The developed 
wireless M-Bus stack was checked by requesting data of a 
sensor node. The results obtained validate the network 
functionality and the suitability of the wireless M-Bus for the 
AMI. 
VI. CONCLUSIONS AND FUTURE WORK 
This paper proposes an architecture, describes the 
implementation of the required hardware and presents the 
design and the implementation of the software for an 
Advanced Meter Infrastructure. We successfully build a 
small low power sensor node platform and a gateway node 
platform. 
Wireless M-Bus demonstrated to be a good solution to 
implement the communications for the Advanced Meter 
Infrastructure. The software architecture has been validated 
and allows bidirectional communication between the web 
interface and the sensor nodes. 
In addition, a power consumption analysis has been 
performed and the obtained value will be used to determine 
the periods of transmission for a specific lifetime. 
Currently we are working on improving and enlarging 
the knowledge of the meter infrastructure in several ways: 
• 
Defining a new generic XML file. 
• 
Studying the transmissions from a physics point of 
view. 
• 
Introducing the Internet of Things to the system, 
allowing TCP/IP communications. 
• 
Release the Hardware and Software as an open 
Hardware Platform for Metering purposes. 
ACKNOWLEDGMENT 
This work was partially supported by EVALGAS project 
within the framework of ETORGAI projects, founded by the 
Basque Government. 
REFERENCES 
[1] M. Kuorilehto, M. Kohvakka, J. Suhonen, P. Hämäläinen, M. 
Hännikäinen, and T.D. Hamalainen, “Ultra-Low Energy 
Wireless Sensor Networks in Practice”, John Wiley & Sons, 
2008, Part II, pp. 29-49. 
[2] M. Johnson, M. Healy, P. van de Ven, M.J. Hayes, J. Nelson, 
T. Newe, and E. Lewis, “A Comparative Review of Wireless 
Sensor 
Network 
Mote 
Technologies”, 
IEEE 
Sensors 
Conference, 2009, pp. 1439-1442.  
[3] Thomas Arnewid, “AMI in the city of Goteborg”, Metering 
International,  Issue 4, 2007, pp 76-79. 
[4] Hoi Yan Tung, Kim Fung Tsang, and Ka Lun Lam, “ZigBee 
sensor network for Advanced Metering infrastructure”, 
International Conference on Consumer Electronics, Digest of 
Technical Papers, 2010, pp. 95-96. 
[5] ZigBee Alliance, “ZigBee: Wireless Control That Simply 
Works”, ZigBee White Papers, April 2007. 
[6] EnOcean GmbH, “Routing Concept from EnOcean”, 
EnOcena Green Smart Wireless White Paper, February 2006. 
[7] KNX and EnOcean, “KNX and EnOcean White Paper”, 
enocean alliance, 2008. 
[8] “Communication systems for meters and remote reading of 
meters”, EN 13757, 2011. 
[9] A.H. Primicanta, M.Y. Nayan, and M. Awan, “Hybrid 
Automatic Meter Reading System”, Computer Technology 
and Development International Conference, 2009. Vol.2, pp. 
264-267. 
[10] F. Ding, G. Song, J. Li, and A. Song, “A ZigBee Based Mesh 
Network for Home Control System”, Education Technology 
and Training and International Workshop on Geoscience and 
Remote Sensing, 2008. Vol.1, pp. 774-748. 
[11] H.Y. Tung, K.F. Tsang, and K.L. Lam, “ZigBee sensor 
network for Advanced Metering infrastructure”, International 
Conference on Consumer Electronics, Digest of Technical 
Papers, 2010, pp. 95-96. 
 
37
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

