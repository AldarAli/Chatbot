Design and Development of a Large-scale Network Testbed on a Research and
Education Network
Chu-Sing Yang, Pang-Wei Tsai, Jen-Fa Huang
Institute of Computer and Communication Engineering,
Department of Electrical Engineering
National Cheng Kung University (NCKU)
Tainan City, Taiwan
{csyang, pwtsai, huajf}@ee.ncku.edu.tw
Te-Lung Liu
National Center for High-Performance Computing
National Applied Research Laboratories (NARLabs)
Tainan City, Taiwan
tlliu@narlabs.org.tw
Abstract—As the Internet continues to grow in width and
depth, its very architecture presents challenges when it comes
to implementing innovations. For testing new developments,
networking developers need an environment for evaluating
their ideology and practicality. The testing environment is
required to emulate a production network, and it also has to
operate in the private area without real-world interference.
Under these circumstances, the network testbed provides such
a platform for the developers. This paper presents the TaiWan
Advanced Research and Education Network testbed, a large-
scale, as well as multi-layer network testbed, constructed for
network research, and designed to orchestrate and aggregate
resources
of
different
testbed
sites
for
supporting
the
conduction of experiments. The paper aims to share the
building experience of this network testbed, introducing the
key development points and future work.
Keywords-Network Testbed; Virtualization; SDN; Cloud;
Resource Control.
I.
INTRODUCTION
The Internet has become a critical infrastructure in
modern society [1] even though its design choices could not
be used to anticipate the current needs [2]. While the scope
of the Internet continues to grow at a fast pace, its
architecture
makes
implementing
innovations
difficult.
Therefore, before new approaches and concepts can be
implemented to the actual global network, they need to be
evaluated in a bench-scale environment first. A testbed
enables new technologies to be tested experimentally with
realistic
and
reproductive
scenarios.
Thus,
network
developers are able to verify their new ideas without the fear
of interfering with the real environment. For the reasons
above,
recently,
many
institutes
[3][4][5]
have
been
designing
and
developing testbeds
to
satisfy
research
requirements.
Since the Software-Defined Networking (SDN) [6] has
been proposed to improve the programmability of network
architecture, it is commonly applied in network provision.
There are also several testbed projects using SDN in their
designs. For example, the Global Environment for Network
Innovations (GENI) [7], is supported by National Science
Foundation of the United States, and RISE [8] is a large-
scale testbed with nation-wide network infrastructure for
research and academic use. Furthermore, OFELIA [9]
project financially supported by European Union is a testbed
which using SDN to integrate various sites as a large-scale
network testbed in Europe. OF@TEIN [10] is another
project to utilize production network to constructed a
collaborated
testbed
with
cloud
services
and
SDN
techniques. The common point of these network testbeds is
that they integrate underlay infrastructure, access networks
and computing resources for supporting testbed purposes,
providing such a platform to explore new network inventions
for network researchers.
In
Taiwan,
the
TaiWan
Advanced
Research
and
Education Network (TWAREN) [11] operated by the
National Center for High-performance Computing (NCHC)
[12] is an academic network in Taiwan, providing variety
services
and
applications
for
research
and
education
purposes. In order to support more advanced experiment of
the Future Internet researches, a plan of building a SDN-
enabled testbed on TWAREN has been proposed. The design
goal of the testbed is to extend the software-defined
controllability into TWAREN. By doing this, the testbed
users are able to have more flexibility on conducting their
experiments. This testbed is also designed to aggregate
geographically
distributed
resources
from
different
providers, and testbed users are able to use the cloud
resources of participated providers in distributed testbed
sites. To manage these resources, a resource control software
is also developed. The design goal of this testbed is to
provide
a
flexible
environment
to
sustain
innovative
researches of Taiwan’s academic and research institutes.
While
the
testbed
is
still
under
verification
and
improvement, in this paper, we present our experience for
building this SDN network testbed on TWAREN (i.e.,
TWAREN testbed), and several on-going progress steps are
also introduced. The remainder of this paper is organized as
follows. The background and related work are introduced in
Section 2. The concerns, design and development issues are
described in Section 3. The initial performance measurement
is presented in Section 4. Finally, the conclusions and future
work are provided in Section 5.
85
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

II.
BACKGROUND AND RELATED WORK
A.
Software-Defined Networking
With the advancement of network technologies, many
ideas and implementations have sprouted in recent years.
However, due to the architecture of the legacy network, new
innovation may be limited by existing policies and rules. The
SDN is recognized as a new architecture to enhancing the
network programmability for fulfilling requirements. Two of
the most significant characteristics of SDN is the centralized
control and softwarized management. By using the SDN
controller, network devices are able to change behaviors
according to upper layer instructions. Nowadays, the most
well-known SDN protocol is OpenFlow [13]. It is a SDN
solution to improve the controllability and scalability on
network provision. In an OpenFlow network, there are three
basic components: switch, controller and application. The
switch is used to handle traffic transmission, and controller is
responsible
for
managing
the
switch
operation.
The
application is able to tell the controller what is the required
network behavior for the upper layer.
In the beginning, the SDN research was focusing mainly
on layer 2 and layer 3 networks [6]. However, to enhance the
network control ability, there is a trend to extend the
controllability
into
underlay
network.
For
example,
Mambretti et al. [14] proposed their research about using an
experimental control-plane architecture to achieve Light-path
provisioning dynamically. Filer et al. [15] also introduced
their experience on observing network infrastructure in a
cloud system, discussing the impact of elasticity on network
capacity and flexibility. Moreover, Channegowda et al. [16]
made a discussion on their OpenFlow testbed, which is
allowing seamless operation across heterogeneous optical
and packet transport domains. Larrabeiti et al. [17] also
presented their research of building a large-scale network
testbed with both packet-switched and circuit-switched
services. As described above, it can be found that the
software-defined mechanism is becoming more and more
popular in network design, development and implementation
in network innovation.
B.
SDN-enable Network and Testbed Development
For conducting a large-scale network experiment, the
main problem is to access the required resources for building
the
testing
environment.
Therefore,
many
large-scale
network researches are often supported by network operation
institutes or enterprises. Following are the three typical
instances:
•
Internet2 and GENI Testbeds: GENI is a project
to build a national resource control framework and
provide a testing environment for experiments and
verifications [3]. The testbed network of GENI is
based on the Internet 2 [18] backbone. Internet 2
provides GENI testbeds with a multi-layer resources
including optical facility, layer 2 service and IP
route.
By
deploying
computing
resources
and
network control systems [19] [20], GENI testbeds
have
an
open,
large-scale,
realistic
network
environment for researchers to evaluate their ideas
and explore network research.
•
JGN and
RISE
Testbed: The Japan Gigabit
Network (JGN) [21] is a nationwide network
supported by the National Institute of Information
and Communication Technology in Japan. The
Research
Infrastructure
for
large-scale
network
Experiments (RISE) testbed is using this network
infrastructure to virtualize the physical network as
logical network for experimental purposes [8]. By
assigning a number of logical networks called
Existing Virtual Networks (EVNs) for creating
private experiment networks, the testbed users of
RISE are able to operate their desirable topologies in
parallel and reduce the time spent in the experiment
deployments.
•
TEIN and OF@TEIN Testbed: The Trans-Eurasia
Information Network (TEIN) is a network which
connects more than fifty countries in Europe and
Asia [22]. TEIN plays an important role of inter-
continental traffic exchanges among Europe and
Asia countries, and it is also actively being used for
international
joint
researches
and
education
purposes. The OpenFlow at TEIN (OF@TEIN)
collaboration community was established in 2012,
and its career is to carry out the SDN research issues.
The OF@TEIN testbed [10] is using distributed
architecture, deploying testbed sites at the domestic
collaborators, and making site-to-site connection
through the TEIN.
C.
Research and Education Network in Taiwan
The TWAREN was initiated to construct a fundamental
network
for
research
and
education
in
Taiwan.
The
infrastructure of TWAREN backbone consists of four core
nodes. All these nodes are connected with spare dark fibers
for redundancy. There are also many GigaPOPs (Point of
Presence)
located
at
regional
network
centers.
These
GigaPOPs
are
the
communicating
entities
among
the
TWAREN backbone and local networks. In initialization,
most GigaPoPs are using dark fibers with SDH technique to
connect to the core nodes [23]. By using SDH, the
TWAREN Optical network is able to divide multiple light-
paths between two GIgaPOPs for different purposes. For
upper layer connection, the GigaPoPs provide layer 2
entrance to stitch the network. By using this infrastructure,
TWAREN facility provides various kinds of networking
services [23]. For example, the TANet is a logical network
based on TWAREN backbone. It is used to serve the
academic
institutes
for
network
access.
For
another,
TWAREN VPLS VPN is a network service to establishing
point-to-point connections among branches of research
institutes. The proposed testbed in this paper also uses this
method to create logical and isolated networks to support
user experiments.
III.
SYSTEM DESIGN
In this section, we present our experience on building a
large-scale, as well as multi-layer network testbed on
86
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

TWAREN. The introduction includes concerns, system
architecture,
and
system
deployment.
Several
key
development
issues
in
testbed
construction
are
also
discussed.
A.
Testbed Architecture
To explain the TWAREN testbed design, the overview of
the TWAREN testbed is shown in Fig. 1. The testbed system
can be categorized in three parts: the physical layer, the
logical layer and the access layer.
•
Physical Layer: The physical layer is provisioned
with optical transport solutions in TWAREN [23]. It
uses a monolithic infrastructure to create virtual
networks for supporting different purposes. The
light-paths
are
configured
with
SDH
SNCP
protection, preventing single point failure occurred.
The devices in this layer are the fundamental
hardware of TWAREN infrastructure.
•
Logical Layer: The logical layer is the middle layer
for integrating the other two layers. It consists of
numerous layer 2 devices and enabled VLAN to
separate virtual networks.
For building site-to-site
connection among TWEAREN testbed sites, each
connection is assigned with a unique VLAN ID. By
doing this, the network traffic of each connection is
isolated, operating as a virtual links for deploying
testbed network.
•
Access Layer: The access layer is the one appearing
to the testbed users. The computing devices (e.g.,
server and storage) are located here, and layer 3
devices are deployed to establish the network
connection among the resources and testbed users.
There is also a resource control software in this layer
provides the front-end GUI to testbed users. It is the
interface bridge for connecting the testbed system
with users. Testbed users can request resources (e.g.,
virtual machines and virtual networks) at the front-
end interface first. After that, the resource control
software allocates sliced resources to build testing
environments. When the experiments are finished,
testbed users can notify the testbed system to free the
resources and make them re-useable.
B.
Network Resource Control
The optical infrastructure of TWAREN is shared by
testbed network and production network. Therefore, to avoid
the interference, these two networks must be separated
logically. There is a management mechanism [24] built on
TWAREN for light-path control. It supports circuit and
equipment protection. Therefore, we use existing light-paths
to create multiple VLANs. By enabling QinQ [25] tunnel,
each site-to-site link can be divided into as many slices as
needed, and the slices are restructuring as virtual paths for
traffic delivery. The packet switching is made by a SDN
controller.
By
using
VLAN
tag-translation
[26],
the
controller is able to manage the site-to-site flows in
transmission.
C.
Computing Resource Control
In anticipation, the institutes participating in TWAREN
testbed would share their computing resources for the others,
and a control software would be used to take control. For
unifying computing resources, currently, the virtual machine
is representing the smallest unit in computing resource.
Currently, the XenServer [27] is used to manage virtual
machines. The received instructions of the XenServer will be
converted to create virtual machine. By doing this, the
control software sends instruction to each resource site to
setup sufficient virtual machines for serving testbed users.
With the integration of network and computing resources,
Physical
Network
Logical
Network
Computing
Resource
Access Layer
Logical Layer
Physical Layer
TWAREN Optical Network
Testbed User
TWAREN Backbone
SDN Network
VLAN B
VLAN A
VLAN A
VLAN B
VLAN A+B
Computing
Resource
Computing
Resource
Computing
Resource
Testbed Experiment Network
SDN Network
VPLS VPN Service
Light-path
Figure 1. The architecture overview of TWAREN testbed.
87
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

the TWAREN testbed is able to provide a private space for
testbed users to conduct their experiments.
D.
Testbed Site Deployment
In the initial phase, we establish four resource sites in the
TWAREN testbed. The TWAREN facility provides 6
VLANs to setup virtual links between two sites. These links
are constructed as a mesh topology for connecting testbed
sites, which is shown as Fig 2. Each resource site is deployed
with an OpenFlow switch, and there is a shared controller
(with out-of-band connection) used to manage all the
switches.
IV.
INITIAL EVALUATION
The implementation of the testbed is still work in
progress, while the four testbed sites are ready for initial
evaluation. Currently, four available sites in TWAREN
testbed are located at NCU, NCKU, NCHC and TWISC, and
more sites are anticipated to join in the near future. For
verification, we limit the site-to-site bandwidth to 1Gbps
initially. By using the iperf [28], the result shows that each
link is able to reach the line rate speed. The ping [29]
availability
test
also
shows
a
good
response
time.
Furthermore, for long-term monitoring, we use a Cacti [30]
system to collect and present traffic statistics.
For the initial evaluation, an experiment scenario with
video broadcasting in 4K resolution is conducted [31]. The
streaming VMs are allocated at NCU, NCKU and TWISC
sites. By using video player, the receiver is able to get the
streaming from broadcasting VMs, which is shown as Fig 3.
In our observation, the video traffic for serving one receiver
is about 20-24 Mbps. To conduct the stress-test on
broadcasting VMs, we use flazr [32] to simulate numerous
receivers for acquiring large traffic. Furthermore, due to the
fact that each site-to-site connection is limited to 1Gbps, for
processing oversubscribed traffic without conjunction, we let
the SDN controller select available paths in mesh topology.
For example, the traffic flow from NCU to NCKU can be
divided in two available routes: NCU  NCKU and NCU
 TWISC  NCKU. As a result, the monitoring traffic
from NCU to NCKU site has a merged throughput, which is
shown in Fig 4. The result of the initial evaluation shows that
the testbed system is able to conduct simple network
experiments, and the SDN controller is able to manage
OpenFlow switches in the testbed for controlling network
traffic.
V.
CONCLUSIONS AND FUTURE WORK
This paper describes the experience of designing and
implementing a network testbed to support innovative
research in Taiwan. The design principle of this testbed
system
includes
several
concepts
for
achieving
virtualization. The network of this testbed fully supports the
OpenFlow protocol. For managing various resources in the
testbed, a resource control software is implemented to
allocate resources among different resource sites. The whole
implementation of the testbed is still in progress, while the
prototype has been verified. When fully completed, the
testbed is expected to orchestrate and aggregate the various
resources of domestic academic institutes in support of
large-scale network researches.
Since
testbed
users
may
need
various
kinds
of
networking environments within which they can emulate the
actual environment. Therefore, making network functions to
be a service on the testbed is essential. The following works
Switch
NCU
VLAN A
VLAN D
VLAN F
VLAN E
VLAN C
VLAN B
Switch
NCKU
Switch
NCHC
Switch
TWISC
Server-1
Server-2
Server-1
Server-2
Server-3
Server-4
Server-1
Server-2
Server-2
Server-3
Server-1
Server-4
Under
Construction
Under
Construction
Figure 2. The virtual link among TWAREN testbed sites.
Figure 3. The received 4K streaming on PC.
Figure 4. The monitoring result made by MRTG [33] tool.
88
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

are expected to enhance the emulation functionality of
TWAREN testbed:
•
Enhancement of Programmability in Underlay
Network: Owing to one of the characteristics in
SDN is to enhance the programmability on the
network,
how
to
extend
the
controllability
to
underlay network becomes an important issue. For
example,
Belter
et
al.
[34]
introduced
their
experience on building GEYSERS, a multi-domain
testbed for testing and validating cloud-oriented
technologies.
The
extended
controllability
is
expected to have more flexibility and adaptation on
physical network. More testbed operations, such as
optical route switching and light-path protection, can
be controlled by softwarized methods for supporting
advanced network research.
•
Resource
Aggregation:
Because
many
testbed
collaborators may have their own cloud solutions,
for
managing
variety
resources,
making
collaboration on these resource is a rapid way for
extend the testbed scale. Currently, the TWAREN
testbed only supports Xen-based virtual machine. If
there is a standard protocol for integrated resources
with control software of TWAREN testbed, it would
be possible to serve more users to conduct large-
scale experiments that are geographically distributed.
•
High-speed Network Infrastructure: Nowadays,
many scientific research projects on TWAREN
generate
massive
amounts
of
traffic.
As
a
consequence, at present, the TWAREN backbone
has reached its limited bandwidth capacity, and the
transmission performance of OpenFlow research
network may be affected by the available capacity of
TWAREN backbone. There is an ongoing plan for
deploying 100G infrastructure of TWAREN. The
capacity promotion is expected to achieve the ability
of traffic engineering on delivering large traffic
generated by possible killer applications on the
testbed.
ACKNOWLEDGMENT
This research is financially supported by the MOST
(under grants No.105-2218-E-194-002 and 104-2218-E-001-
002) for which authors are grateful. Authors also appreciate
to the Mobile Broadband Network Laboratory of National
Central University and TWAREN Network Operation Center
for their support.
REFERENCES
[1]
E. G. Gran, T. Dreibholz, and A. Kvalbein, "Nornet core-a
multi-homed research testbed," Computer Networks, vol. 61,
pp. 75-87, 2014.
[2]
J. Aug´e et al., "Tools to foster a global federation of
testbeds," Computer Networks, vol. 63, pp. 205-220, 2014.
[3]
"Global environment for network innovations." [Online].
Available: http://www.geni.net/ 2016.08.30
[4]
"National
institute
of
information
and
communications
technology."
[Online].
Available:
https://www.nict.go.jp/
2016.08.30
[5]
"Fire
testbeds."
[Online].
Available:
http://www.ict-
fire.eu/home/fire-testbeds.html 2016.08.30
[6]
D.
Kreutz
et
al.,
"Software-defined
networking:
A
comprehensive survey," Proceedings of the IEEE, vol. 103,
no. 1, pp. 14-76, 2015.
[7]
M. Berman, C. Elliott, and L. Landweber, "Geni: Large-scale
distributed infrastructure for networking and distributed
systems
research,"
in
Communications
and
Electronics
(ICCE), 2014 IEEE Fifth International Conference on. IEEE,
pp. 156-161, 2014.
[8]
Y. Kanaumi et al., "Rise: A wide-area hybrid openflow
network testbed," IEICE transactions on communications, vol.
96, no. 1, pp. 108-118, 2013.
[9]
"Ofelia
testbed."
[Online].
Available:
http://www.fp7-
ofelia.eu/ 2016.08.30
[10] J. Kim et al., "Of@ tein: An openflow-enabled sdn testbed
over international smartx rack sites," Proceedings of the Asia-
Pacific Advanced Network, vol. 36, pp. 17-22, 2013.
[11] "Taiwan advanced research and education network." [Online].
Available: http://http://www.twaren.net/english/ 2016.08.30
[12] "National center for high-performance computing." [Online].
Available: https://www.nchc.org.tw/en/ 2016.08.30
[13] N. McKeown et al., "Openflow: enabling innovation in
campus
networks,"
ACM
SIGCOMM
Computer
Communication Review, vol. 38, no. 2, pp. 69-74, 2008.
[14] J. Mambretti, D. Lillethun, J. Lange, and J. Weinberger,
"Optical dynamic intelligent network services (odin): an
experimental controlplane architecture for high-performance
distributed
environments
based
on
dynamic
lightpath
provisioning," IEEE Communications Magazine, vol. 44, no.
3, pp. 92-99, 2006.
[15] M. Filer et al., "Elastic optical networking in the microsoft
cloud," Journal of Optical Communications and Networking,
vol. 8, no. 7, pp. A45-A54, 2016.
[16] M. Channegowda et al., "Experimental demonstration of an
openflow based software-defined optical network employing
packet, fixed and flexible dwdm grid technologies on an
international multi-domain testbed," Optics express, vol. 21,
no. 5, pp. 5487-5498, 2013.
[17] D. Larrabeiti et al., "Integrating a next-generation optical
access network testbed into a large-scale virtual research
testbed,"
in
2015
17th
International
Conference
on
Transparent Optical Networks (ICTON). IEEE, pp. 1-6, 2015.
[18] "Internet2." [Online]. Available: http://www.internet2.edu/
2016.08.30
[19] "Protogeni." [Online]. Available: http://www.protogeni.net/
2016.08.30
[20] "Exogeni."
[Online].
Available:
http://www.exogeni.net/
2016.08.30
[21] "Jgn-x."
[Online].
Available:
http://www.jgn.nict.go.jp/
2016.08.30
[22] "Trans-eurasia information network." [Online]. Available:
http://www.teincc.org/ 2016.08.30
[23] T.-L. Liu and C. E. Yeh, "Planning and design of twaren:
Advanced
national
research
and
education
network
in
taiwan,"
in
Advanced
Information
Networking
and
Applications
Workshops,
2007,
AINAW’07.
21st
International Conference on, vol. 1. IEEE, pp. 918-922, 2007.
[24] S.-C. Lin et al., "Twaren optical network laboratory and
lightpath
control
system,"
in
Advanced
Information
Networking and Applications- Workshops, 2008. AINAW
2008. 22nd International Conference on. IEEE, pp. 1492-
1498, 2008.
[25] L. Katzri and O. Yaron, "Apparatus for and method for
supporting 802.1 q vlan tagging with independent vlan
89
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

learning in lan emulation networks," US Patent 6,639,901,
Oct. 28 2003.
[26] P.-W. Tsai, P.-W. Cheng, C.-S. Yang, M.-Y. Luo, and J.
Chen, "Supporting extensions of vlan-tagged traffic across
openflow networks," in Research and Educational Experiment
Workshop (GREE), 2013 Second GENI. IEEE, pp. 61-65,
2013.
[27] D. E. Williams, Virtualization with Xen (tm): Including
XenEnterprise, XenServer, and XenExpress. Syngress, 2007.
[28] A. Tirumala, F. Qin, J. Dugan, J. Ferguson, and K. Gibbs,
"Iperf: The tcp/udp bandwidth measurement tool," http://dast.
nlanr. net/Projects, 2005.
[29] S. M. Bellovin, M. Leech, and T. Taylor, "Icmp traceback
messages," IETF Internet Draft, 2003.
[30] "Cacti - the complete rrdtool-based graphing solution."
[Online]. Available: http://www.cacti.net/ 2016.08.30
[31] C.-T. Lin (2014), SDN/NFV-based Resource Orchestrator for VNF
Deployment and High Availability - A Case Study of Live Streaming
Service
(Master's
thesis).
Retrieved
from
http://handle.ncl.edu.tw/11296/ndltd/09173940899962258539
2016.08.30
[32] “Flazr” [Online]. Available: http://flazr.com/ 2016.08.30
[33] T. Oetiker and D. Rand, "Mrtg: The multi router traffic
grapher." in LISA, vol. 98, pp. 141-148, 1998.
[34] B. Belter et al., "The geysers optical testbed: A platform for
the integration, validation and demonstration of cloud-based
infrastructure services," Computer Networks, vol. 61, pp.
197-216, 2014.
90
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

