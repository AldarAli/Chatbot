Automated Guidance Based on indoors Visible Light Communication 
 
Paula Louro, Manuela Vieira, Manuel Augusto Vieira  
DEETC/ISEL/IPL,  
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
 
 
 
CTS-UNINOVA  
Quinta da Torre, Monte da Caparica, 2829-516,  
Caparica, Portugal 
  
e-mail: plouro@deetc.isel.pt, mv@isel.ipl.pt, mv@isel.pt  
 
 
 
Abstract— Wireless communication devices have generated 
growing interest in indoor navigation over the past few years. 
The Internet of Things (IoT) and the inherent connectivity of 
billions of devices are making indoor localization and 
proximity detection increasingly attractive. Global Positioning 
System (GPS) has poor, unreliable performance when used in 
closed spaces, requiring alternative techniques and wireless 
technology. Due to the unlicensed free spectrum, optical 
wireless technologies are currently playing an important role 
in this field. Light Emitting Diodes (LEDs) are the basis for 
Visible Light Communication (VLC) technology due to their 
ability to simultaneously provide low energy consumption light 
and enable the possibility of wireless communication. These 
features empowered VLC as an effective communication 
technology due to the ubiquity of the illumination spots, 
especially in indoor applications. We propose the use of Visible 
Light Communication (VLC) to support guidance and 
communication for signaling in an indoor environment. The 
research focuses on developing guidance VLC systems, 
transmitting 
control 
data 
information, 
and 
decoding 
techniques. The communication system uses RGB white LEDs 
as emitters and pinpin photodiodes with selective spectral 
sensitivity as receivers. The downlink communication occurs 
between the infrastructure and the mobile user, while uplink 
communication occurs in the opposite direction. Different 
modulation methods, such as On-Off keying and Manchester 
codes, are used, allowing a comparison between them. The 
decoding strategy is based on accurate calibration of the 
output signal. We will discuss coding schemes, modulation 
formats, and decoding algorithms in this paper, as well as the 
characteristics of transmitters and receivers. 
Keywords - Visible Light Communication; positioning; 
footprint map, On-Off keying, Mancheste coding. 
I. 
INTRODUCTION 
Light emitting diodes (LEDs) are the basis for Visible 
Light Communication (VLC) technology due to their ability 
to simultaneously provide low energy consumption light and 
enable the possibility of wireless communication. Due to the 
widespread of the LED light spots, especially in indoor 
applications, 
these 
features 
enabled 
VLC 
as 
a 
communication technology [1][ 2]. The high bandwidth and 
immunity to electromagnetic interference of VLC make it a 
promising option for future generations (5G/6G) of wireless 
communications, as it is a good candidate for indoor 
interconnection 
and 
networking 
in 
parallel 
with 
radiocommunications [3][4]. In addition to its high capacity, 
unregulated spectrum, immunity to 
radio frequency 
electromagnetic interference, spatial confinement, and low 
power consumption, VLC is also an energy efficient green 
technology [5]. In indoor navigation it is also a promising 
application, where GPS signals are inefficient walls and 
other obstacles greatly attenuate GPS signals. As in VLC the 
density of optical transmitters addresses a high density of 
beacons, visible light enables a higher level of accuracy on 
location [6][7]. This is the key to provide guidance and 
navigation services. 
The focus of this paper is the use of VLC to implement 
an indoor positioning system with added communication 
abilities. The system is composed of a pinpin heterostructure 
a:SiC:H [8] device to perform the photodetection of the 
optical signals generated by white trichromatic RGB LEDs. 
The photodetector [ 9 ][ 10 ] is based on a-SiC:H/a-Si:H 
heterostructures, operating therefore in the visible spectrum. 
It exhibits active filtering and amplification properties and a 
selective sensitivity, as its design was tailored to address a 
wavelength sensitive device [11][12]. When different visible 
signals are encoded in the same optical transmission path, the 
device multiplexes the different optical channels, performs 
different filtering processes (amplification, switching, and 
wavelength conversion) and outputs a multiplexed signal. 
Decoding of this signal enables the recovery of the 
modulated signal transmitted by each emitter [13 ]. This 
procedure demands accurate regulation of each photocurrent 
level [14] to produce a reliable calibration curve. On-Off 
keying modulation and Manchester codes will be used to 
analyze bit decoding from the multiplexed signal. 
The paper is organized as follows. After the introduction 
(Section I), the VLC system specifications is presented in 
Section II covering the transmitter and receiver, data coding, 
modulation schemes and the calibration for decoding. In 
Section III experimental scenarios are detailed and the 
obtained results are presented and discussed. Conclusions 
and guidelines for future work are addressed in Section IV. 
 
II. 
VLC SYSTEM SPECIFICATIONS 
This section covers the specifications of the VLC system, 
including the transmitter, receiver, coding and modulation 
techniques. 
42
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-091-9
SENSORDEVICES 2023 : The Fourteenth International Conference on Sensor Device Technologies and Applications

A. VLC Transmitter  
Transmission of data is carried out by one modulated 
chip using white polychromatic RGB LEDs. The modulation 
and conversion from digital to analog data is software 
defined. Four LEDs are mounted in square arrangement on 
VLC transmitters using one red or blue emitter in each LED 
for data transmission. In each VLC transmitter two blue and 
two red emitters are modulated. The remaining emitters do 
not communicate.  
The photodetector used in the receiver unit is a 
photodiode composed of a pinpin heterostructure based on a-
SiC:H/a-Si:H. It exhibits active filtering and amplification 
properties and a selective sensitivity, as its design was 
tailored to address a wavelength sensitive device in the 
visible spectrum. In this photodiode, two a-Si:H pins are 
mounted on top of one a-SiC:H pin, which allows the device 
to be used over the full visible spectrum. The device is 
operated under reverse bias to improve collection efficiency. 
Steady state optical bias using short visible wavelength (400 
nm) is used to improve amplification of the longer 
wavelengths and attenuation of the short ones. Fig. 1 shows 
the plot of the spectral emission of three optical emitters of 
the VLC transmitter and the spectral sensitivity of the 
sensing photodiode. 
a) 
400
450
500
550
600
650
700
10-9
10-8
10-7
530 nm
430 nm
626 nm
 
 
Photocurrent (A)
Wavelength (nm)
Background light
 Without 
 With 
 b) 
Fig. 1. a) Spectral emission of thee VLC transmitter and b) spectral 
sensitivity of the VLC receiver. 
B. Channel model 
A Lambertian beam distribution for each LED was used 
to model the VLC channel. The channel gain was computed 
using line-of-sight conditions that included both the 
transmitter and receiver devices' fields of view. Fig. 2 shows 
the map of the coverage signal on a 2D representation, due to 
the four emitters located at the corners of a square 
configuration. The map representation is expressed in dBm. 
At the center of the region, there is the highest power signal 
because there is contribution from all four emitters. There is 
less received power at the corners, as only three emitters 
contribute to the signal, while it is even less at the sides, 
where only two emitters participate. 
 
 
Fig. 2. Signal coverage produced by each emitter and definition of the 
footprints enabled by the signals transmitted by each emitter. 
The optical signals reaching each position determine the 
spatial coverage of the VLC transmitter. Therefore, the 
position can be inferred more accurately inside this delimited 
area. In this coverage area, each optical excitation is assigned 
to a specific footprint. Fig. 1shows the unit navigation cell 
and the footprints associated with it. Those footprint regions 
marked #1, #2, ..., #9 correspond to the optical excitations 
shown also on Fig. 2. 
 
C. Data coding  
Specific data codes are needed to define the 
communication link and the type of message to be 
transmitted. In every channel, it was used synchronous 
transmission based on a data frame of fixed length. 
Synchronization of the frames can be enabled using different 
approaches. The SoT is placed at the beginning of the frame 
and the EoT at the end. Then a TYPE block with 4 bits is 
used 
to 
define 
the 
type 
of 
message 
(0000 
in 
request/acknowledge mode, 0011 in standard/update mode). 
The complete structure of the data frame has the format 
displayed in Fig. 3. 
 
Fig. 3. Data frame structure of the VLC communication channel. 
43
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-091-9
SENSORDEVICES 2023 : The Fourteenth International Conference on Sensor Device Technologies and Applications

The block labelled GEO-LOCATION (16 bits) identifies 
the cell and footprint. The cell identification is coded as 
XXX0YYY0, where XXX addresses the line and YYY the 
column of the cell. The footprint is produced by coding the R 
and B emitters with four bits set to 1 and four bits set to 0, 
while the R' and B' emitters are coded with two bits set to 1 
and two bits set to 0, and then two bits set to 1 and two bits 
set to 0. The 36 bits MESSAGE block addresses specific 
instructions transmitted to the user and depends on the type 
of communication mode. 
 
D. Modulation schemes 
Data transmission demands the use of a specific 
modulation scheme. Here we will use both On-Off Keying 
(OOK) and Manchester. OOK has proven to be a valuable 
modulation scheme in VLC due to its low complexity and 
ease of implementation, but it still severely limits data rates, 
which is further exacerbated by systems using different 
dimming levels. This paper aims to look at OOK and 
Manchester coding VLC modulation techniques with distinct 
levels of complexity, allowing for a comparative evaluation 
between the two. 
OOK assigns different levels of amplitude to each of the 
data bits we wish to modulate, with a bit time duration of bt. 
Manchester assigns both levels to each bit, one per bit time 
duration bt, but it is the transitions from on to off (“on-off”) 
or off to on (“off-on”) that distinguish between '0' and '1' 
data bits. In this paper the Manchester codes use the 
convention of considering “off-on” transitions as ‘0’s and 
“on-off” transitions as ‘1’s. The representation under OOK 
and Manchester modulations is shown in Fig. 4. 
 
Fig. 4. Representation of data bits in OOK and Manchester, in the 
time domain. 
Data transmission in Manchester is halved since it takes 
twice as long to transmit the "on" or "off" pulses that encode 
the same information as in OOK. In contrast, Manchester 
forces at least one level transition per bit of data, leading to 
lower levels-permanence, even in long sequences of the 
same bit. 
E. Calibration for decoding 
With 
each optical emitter 
data 
transmission, 
a 
multiplexed signal is produced at the photodetector. Due to 
the VLC transmitter's four independent emitters, the output 
optical signals can combine one, two, three, or four optical 
excitations. If the driving currents for each emitter are 
adjusted correctly, this can produce 16 different optical 
combinations and therefore 16 different photocurrent levels. 
The bit decoding of the multiplexed signal corresponds to the 
correct assignment of each photocurrent level to the 
respective optical excitation. This is provided using a 
previous system calibration, by adjusting the photocurrent 
levels of the multiplexed signal. Since Manchester codes 
demand the double of the bits to encode the same 
information, each 'on' or 'off' state of the LED produces two 
adjacent photocurrent levels.  
Fig. 5 shows the calibration signal with 16 levels 
assigned to each input optical state. The optical signal 
transmitted by each emitter is displayed on top of the picture. 
The multiplexed signal is shown under OOK and Manchester 
modulations. 
a) 
 
b) 
Fig. 5. Calibration curve for a) OOK modulation; b) Manchester 
codes. 
In OOK modulation (Fig. 5a), the set of 16 distinct 
calibration levels produce a staircase-like shape in the MUX 
signal, each associated with a particular optical excitation 
type. The left side of Fig. 6 a) indicates the correspondence 
of the optical state RR'BB' and the level label (di, i =0, 1, …, 
15) using binary notation. When using Manchester codes 
(Fig. 5b), the same data bit sequence takes twice as long as 
OOK, which half the data rate. The calibration curve takes 
on a very different shape. This occurs because of how 
44
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-091-9
SENSORDEVICES 2023 : The Fourteenth International Conference on Sensor Device Technologies and Applications

Manchester uses 2 bits to represent each data bit, leading to 
the calibration curve having a shape of two alternating OOK 
calibration curves with one rising branch and the other 
falling branch. 
III. RESULTS AND DISCUSSION 
In this study, different optical signals were generated by 
the four optical transmitters of each LED lamp, using OOK 
and Manchester codes to infer about the decoding process. 
The transmitted frame has 29 bits, including a 5 bit 
synchronization header followed by the cell ID with 8 bits 
and a 16 bit randomly generated message. 
Fig. 6 shows the acquired multiplexed signal under OOK 
and Manchester coding. On top of the figure the optical 
signals transmitted by each transmitter are also represented. 
The signals of the R and B LEDs are represented by the solid 
red and blue lines, and R’ and B’ LEDs by the red and blue 
dashed lines, respectively. 
0,0
0,5
1,0
1,5
2,0
2,5
0
1
2
3
4
5
6
MUX Signal (a.u.)
Time (ms)
a) 
0
1
2
3
4
5
0
1
2
3
4
5
6
MUX Signal
Time (ms)
b) 
Fig. 6. Transmitted data message using: a) OOK and b) Manchester 
modulations (R and B are represented by the solid red and blue lines, 
and R’ and B’ by the red and blue dashed lines, respectively). 
The output resultant signal acquired by the receiver 
device shows different levels of photocurrent that can be 
assigned to the correspondent optical excitation. As the 
device exhibits capacitive effects, the photocurrent level 
exhibits a rising or falling slope, dependent whether the 
transition occurs from a lower to an upper level, or vice-
versa. Consequently, this effect becomes more evident when 
two or more adjacent bits have the same state. 
In OOK modulation as the bit states are simply 
represented by '0's or '1's, it is possible that the signal 
contains many similar adjacent symbols ('1s' or '0s'), which 
reinforce this effect. It is clear from Fig. 6a) that, for 
example, the upper levels achieved by every single 'on' bit 
are lower than those obtained by two adjacent 'on' bits. This 
may induce errors in the bit decoding process. When using 
Manchester coding, Fig. 6b) each state is represented with a 
transition between different states. Therefore, no more of two 
similar bits occur during the transmission and the limitations 
imposed by the capacitive effects of the sensing device are 
attenuated. 
On the other hand, frame synchronization that is 
established by the heading block transmitted in the beginning 
of each frame is crucial to ensure correct data transmission. 
As this block is composed of a sequence of 5 specific states 
(‘on’-‘off’-‘on’-‘off’-‘on’) followed by the identification 
labels of the transmitting cells, the correct identification of 
the block among the transmitted frames is not a hard issue to 
complete successfully. Nevertheless, under Manchester 
coding a level transition is less likely to coincide with the 
start of a frame due to the halved data rate, or even with the 
start of a data bit since a transition is forced to occur in the 
middle of each data bit. An effective way of ensuring 
synchronization 
is 
to 
allocate 
more 
bits 
to 
the 
synchronization header block at the cost of the payload 
length. 
Direct comparison of the signal levels with the 
calibration signal is achieved by assigning the bit level to the 
level closest to the calibration signal. Bits represented by 
close values may be improperly decoded. This is especially 
important when using OOK modulation, since capacitive 
effects can mislead the decoded level, whereas Manchester 
modulation minimizes this problem. Parity check bits are a 
possible solution to reduce the bit error decoding.  
IV. CONCLUSIONS 
The proposed application focuses on the technique of 
decoding the multiplexed signal measured by the VLC 
receiver using OOK and Manchester modulations. The VLC 
transmitter uses RGB white LEDs to illuminate the space 
and to transmit information defining footprints inside each 
navigation cell. Coding uses frames coded with different 
information blocks. As the multiplexed signal results from 
multiple optical channels, its waveform is complex. It is 
necessary to use decoding techniques to determine the 
correct 
bits 
transmitted 
by 
each 
optical 
channel. 
Improvements to the decoding technique include parity 
check error control. The imposed state transitions for the 
representation of each bit used in Manchester coding 
minimizes the capacitive effects of the sensing photodiode. 
As a result, photocurrent levels were better defined for each 
state. 
Improvements to the decoding technique include parity 
check error control. More experimental data and different 
45
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-091-9
SENSORDEVICES 2023 : The Fourteenth International Conference on Sensor Device Technologies and Applications

operating scenarios can be used to further enhance the 
decoding techniques. 
 
ACKNOWLEDGMENT 
This work was sponsored by FCT – Fundação para a 
Ciência e a Tecnologia, within the Research Unit CTS – 
Center 
of 
Technology 
and 
systems, 
reference 
UIDB/00066/2020 and IPL/2022/POSEIDON_ISEL. 
REFERENCES 
 
[1] A. M. Căilean and M. Dimian, "Current Challenges for 
Visible 
Light 
Communications 
Usage 
in 
Vehicle 
Applications: A Survey". IEEE Communications Surveys & 
Tutorials 2017, vol. 19, no. 4, pp. 2681-2703. doi: 
10.1109/COMST.2017.2706940 364. 
[2] M. Z. Chowdhury; Hossan, M. T; Islam, A.; Jang, Y. M. A 
Comparative Survey of Optical Wireless Technologies: 
Architectures and Applications. IEEE Access 2018, vol. 6, pp. 
9819-9840, doi: 10.1109/ACCESS.2018.2792419  
[3] L. N. Alves, L. Rodrigues, J. Cura, “Lighting and 
Communications: 
Devices, 
Systems”, 
em 
Zabih 
Ghassemlooy, Luis Nero Alves, Stanislav Zvanovec, 
Mohammad-Ali Khalighi, “Visible Light Communications: 
Theory and Applications”, CRC Press, Taylor & Francis 
Group, June, 2017, ISBN: 9781498767538. 
[4] P. H. Pathak, X. Feng, P. Hu, P. Mohapatra, Visible Light 
Communication, Networking, and Sensing: A Survey”, 
Potential and Challenges. IEEE Communications Surveys 
Tutorials 2015, vol. 17, pp. 2047–2077. 
[5] H. Haas, L.Yin, Y. Wang, and C.Chen, "What is LiFi?," J. 
Lightwave Technol. 34, 1533-1544, 2016. 
[6] M.F. Keskin, A.D. Sezer, S. Gezici, “Localization via Visible 
Light Systems”, Proceedings of the IEEE 2018, 597 106, pp. 
1063–1088. doi:10.1109/JPROC.2018.2823500  
[7] Y. Zhuang et al., “A Survey of Positioning Systems Using 
Visible LED Lights”. IEEE Communications Surveys 
Tutorials, 2018, vol. 20, pp. 1963–1988.  
[8] M. Vieira, M. Fernandes, J. Martins, P. Louro, A. Maçarico, 
R. Schwarz, and M. Schubert, “Improved Resolution in a p-i-
n Image Sensor by Changing the Structure of the Doped 
Layers”, Amorphous and Heterogeneous Silicon Thin Films-
2000, Mat. Res. Soc. Symp. Proc., S. Francisco, April 24-28 
U.S.A., Vol. 609, 2000. 
[9] M. A. Vieira, M. Vieira, V. Silva, P. Louro “Optical signal 
processing for indoor positioning using a-SiCH technology” 
Proc. SPIE  9891, Silicon Photonics and Photonic Integrated 
Circuits V, 98911Z, 2016. 
[10] P. Louro, M. Vieira, M. Fernandes, J. Costa, M. A. Vieira, J. 
Caeiro, N. Neves, M. Barata, “Optical demultiplexer based on 
an a-SiC:H voltage controlled device”, Phys. Status Solidi C 
vol. 
 
7, 
No. 
3–4, 
pp. 
1188–1191, 
2010. 
DOI: 
10.1002/pssc.200982702. 
[11] P Louro, V Silva, I Rodrigues, M.A. Vieira, M Vieira 
“Transmission of Signals Using White LEDs for VLC 
Applications” - Materials Today: Proceedings, vol. 3, no. 3, 
2016, pp. 780–787 doi:10.1016/j.matpr.2016.02.009. 
[12] M. A. Vieira, M. Vieira, P. Louro, V. Silva, A. S. Garção, 
“Photodetector with integrated optical thin film filters”, 
Journal of Physics: Conference Series 421, 2013, 01201, 
 
http://iopscience.iop.org/1742-6596/421/1/012011/. 
doi:10.1088/1742-6596/421/1/012011. 
[13] P. Louro, M. Vieira, M. A. Vieira, "Geolocalization and 
navigation by visible light communication to address 
automated logistics control," Opt. Eng. Vol. 61, no. 1, 
016104, 2022, doi: 10.1117/1.OE.61.1.016104. 
[14] P. Louro, M. Vieira, M. A. Vieira, "Bidirectional visible light 
communication," Opt. Eng. Vol. 59 no. 12, pp. 127109, 2020, 
doi: 10.1117/1.OE.59.12.127109. 
46
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-091-9
SENSORDEVICES 2023 : The Fourteenth International Conference on Sensor Device Technologies and Applications

