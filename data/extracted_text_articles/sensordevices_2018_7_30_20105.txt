Navigation Cells Based on Visible Light Communication for Indoor Positioning
Paula Louro1,2, Manuela Vieira1,2, Manuel A. Vieira1,2
1 ISEL/IPL – Instituto Superior de Engenharia de Lisboa,
Instituto Politécnico de Lisboa
R. Conselheiro Emídio Navarro, 1959-007 Lisboa, Portugal
2CTS-UNINOVA
2 Quinta da Torre, Monte da Caparica, 2829-516,
Caparica, Portugal
e-mail: plouro@deetc.isel.ipl.pt; mv@isel.pt;
mvieira@deetc.isel.ipl.pt
Abstract—White Light emitting Diodes (LEDs) revolutionized
the field of illumination technology, mainly due to energy
efficiency. In addition, LEDs can also be used in wireless
communication systems when integrated in Visible Light
Communication
(VLC)
systems.
Indoor
positioning
for
navigation in large buildings using Global Positioning Service
(GPS) systems is limited by signal attenuation. The motivation
for this application is also supported by the possibility of
taking
advantage
of
an
existing
lighting
and
WiFi
infrastructure. In this work, we propose an indoor navigation
system based on the use of VLC technology. The proposed
system includes tri-chromatic white LEDs with the red and
blue chips modulated at different frequencies and a pin-pin
photodetector with selective spectral sensitivity. Optoelectronic
features of both optical sources and photodetector device are
analyzed.
The
photodetector
device
consists
of
two
pin
structures based on a-SiC:H and a-Si:H with geometrical
configuration optimized for the detection of short and large
wavelengths in the visible range. Its sensitivity is externally
tuned by steady state optical bias. The localization algorithm
makes use of the Fourier transform to identify the frequencies
present in the photocurrent signal and the wavelength filtering
properties of the sensor under front and back optical bias to
detect the existing red and blue signals. The viability of the
system was demonstrated through the implementation of an
automatic algorithm to infer the
photodetector cardinal
direction.
Keywords-
amorphous
SiC;
optoelectronic;
spectral
sensitivity; white LEDs; visible light communication; indoor
positioning.
I.
INTRODUCTION
Indoor lighting is being driven by white LED luminaires
that provide high efficiency, low power consumption and
long life span [1]. This provided a large development of the
LEDs market for lighting purposes. Additionally, LEDs can
switch to different light intensity levels at a very fast rate,
which can be used for communication where data to be
transmitted is encoded in the emitting light supplied by the
LED. This is the basis of Visible Light Communication
(VLC) [2][3][4], which is a technology holding an increasing
importance as the visible light spectrum corresponds to
license free bandwidth. Besides, it is a line of sight
technology, and consequently not prone to interference. This
confers high reliability for secure wireless communication
[5]. Moreover, the reuse of the lighting infrastructure for the
additional functionality of data communication is a very
attractive advantage. Currently, VLC is considered an
attractive technology to complement the RF-based mobile
communications systems [6][7][8][9].
VLC applications were initially developed to supply
access network in homes, but rapidly progressed to support
hand-held devices and transport vehicles [10][11][12]. Other
fields where VLC is growing include indoor localization,
human
computer
interaction,
device-to-device
communication and vehicular applications. Outdoor location
services are largely dependent on Global Positioning System
(GPS). However, for indoor scenarios this technology is no
longer feasible due to the strong attenuation of the GPS
signal. Thus, alternative solutions are demanded. Currently,
indoor localization technology is based on WiFi and VLC.
Main difference between the use of these technologies is
related to the location accuracy. In WiFi, the accuracy is
limited by the number of available wireless access points,
while in VLC it is determined by the number of LED
luminaires. As, typically in a building, there are 10 times
more LED luminaires than the number of WiFi access
points, the accuracy is naturally improved using VLC. Most
of the location approaches based on VLC described in
literature report the use of LED sources transmitting specific
identity and location information and receivers that detect the
transmitted signal by multiple optical sources. Based on the
distance
evaluation,
trilateration
is
used
for
location
assessment.
In this paper, we propose an indoor localization system
[13] designed with white RGB LEDs and a heterostructure
pinpin photodiode based on a-SiC:H/a-Si:H with a simple
On-Off modulation scheme. The tri-chromatic LEDs provide
three channels for data transmission. Blue and red emitters
are modulated at two different specific frequencies that
correspond to different cardinal directions. The green emitter
is used for identification of the LED transmission unit
[14][15]. The photodetector is designed for operation in the
visible light spectrum. The different bandgap semiconductors
of each active region of the pin structures allow selective
absorption of the light spectral components [16][17]. This is
used in the decoding strategy to infer the optical signals
received by the photodetector [18].
The proposed lighting and positioning/navigation system
involves
wireless
communication,
computer-based
algorithms, smart sensor and optical sources network, which
constitutes a transdisciplinary approach framed in cyber-
physical systems.
The rest of the paper is structured as follows. In Section
II, the design of the VLC system is described. Section III
contains results and respective discussion. Section IV
presents main conclusion and a few guidelines for future
work.
121
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-660-6
SENSORDEVICES 2018 : The Ninth International Conference on Sensor Device Technologies and Applications

II.
DESIGN OF THE VLC SYSTEM
The proposed VLC system includes an indoor scenario of
infrastructure-to-device
communication.
The
LED
luminaires are used to perform three tasks, namely, room
illumination,
position/navigation
services
and
data
transmission.
The proposed system is composed by the transmitter and
the receiver modules, located respectively at the infra-
structure and at the device. The transmitter includes white
RGB LEDs, the coder and the modulator. This unit is
responsible for the modulated optical transmission of coded
data. The
receiver
consists
of the photodetector,
the
demodulator and the decoder. The transmission channel of
the optical link is free space propagation with the constraint
of line of sight condition.
The transmitter proposed in this VLC system uses ceiling
lamps based on commercial white LEDs with red, green and
blue emitters (w-RGB LEDs). Each LED luminaire at the
ceiling is composed by four white LEDs framed at the
corners of a square (Figure 1).
Figure 1. Configuration of the LED luminaire.
Each navigation cell is assigned to a unique identifier
supplied by the green emitters that make the correspondence
between the device and the emission area. Increased position
accuracy within each navigation cell is obtained through the
modulation of the blue and red emitters of the luminaire
LEDs that map different spatial regions by the correspondent
illumination pattern. The top emitters, assigned to the north
direction, are modulated at half frequency of the bottom
emitters, assigned to the south direction. The left emitters
(west direction) are the red emitters while the right emitters
(east direction) are the blue chips of the RGB LEDs.
The optical sources used for the dual function of lighting
and data transmission through VLC are commercial RGB
white LEDs of high intensity light output and wide viewing
angle. Data from datasheet specifications indicate peak
wavelengths located in the ranges 619 nm – 624 nm, 520 nm
– 540 nm and 460 nm – 480 nm for the red, green and blue
emitters. The codification of the optical signals includes the
transmission of information related to navigation data and to
the message to broadcast.
In every transmission channels each frame is a word of
32 bits, divided into four blocks: START SYNC block (4
bits), INFO block (8 bits), MESSAGE block (16 bits) and
STOP SYNC BLOCK (4 bits).
An on-off keying modulation scheme was used with a
32-bit codification (logical state 1: light on and logical state
0: light off). A dedicated three channel LED driver with
multiple outputs was developed to modulate the optical
signals. The modulator converts the coded message of each
transmission channel into a modulated driving current signal
that actuates the emitters of each tri-chromatic white LED. In
every LED, the driving current of each emitter is controlled
independently of the other emitters.
The photodetector used for the transduction of the optical
signal is a monolithic heterojunction composed by two pin
structures built on a glass substrate and sandwiched between
two transparent electrical contacts (Figure 2).
Figure 2. Configuration of the photodetector at the receiver
module.
The intrinsic absorbers of the device are based on a-Si:H
and a-SiC:H, which provide high sensitivity in the visible
range.
Both
intrinsic
layers
were
designed
to
detect
separately short and long visible wavelengths. The front
intrinsic layer is narrow (200 nm) and exhibits a higher
bandgap material (2.1 eV, a-SiC:H). The back intrinsic layer
is thicker (1000 nm) and has a lower bandgap semiconductor
(1.8 eV, a-Si:H). This design confers high absorption of the
blue light (shorter wavelengths) and high transparency of the
red wavelength to the front absorber (pin 1) and high
absorption of longer wavelengths (red light) to the back
absorber (pin 2).
The filtering properties of the pinpin photodetector
assigned to each pin structure are demonstrated in Figure. 3,
that displays the transient photocurrent output of the device
under excitation of the RGB white LEDs using different
optical biasing conditions (back and front optical bias of 400
nm and no optical bias).
As shown in the graph of Figure 3, the photocurrent
signals for each optical excitation show different trends
dependent
on
the
optical
biasing
conditions.
Long
wavelength light from the red and green emitters are
amplified under front optical bias and attenuated (70%)
under back optical bias. For the short wavelengths (blue
light), the photocurrent signal is increased when the optical
excitation is on the back side and attenuated from the front
side.
122
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-660-6
SENSORDEVICES 2018 : The Ninth International Conference on Sensor Device Technologies and Applications

0
1
2
0,0
0,4
0,8
1,2
1,6
2,0
Photocurrent (A)
Time (ms)
Dark
Front
Back
Figure 3. Transient photocurrent output of the photodetector
under excitation of the RGB white LEDs using different optical
biasing conditions.
The quantification of the signal amplification under front
and back bias is determined by the optical gain, defined at
each wavelength as the ratio between the signal magnitudes
measured with and without optical bias. For the red, green
and blue light the front optical gain under violet background
light is, respectively, 5, 3.5 and 1.3, while for the back
optical gains, the values are 0.6, 0.6 and 1.7.
The decoding unit processes the output signals, measured
with front and back optical bias, incoming from the
oscilloscope to extract the input optical signals. The
decoding strategy starts with the identification of the
triggering event, given the idle and start bits, that ensures the
synchronization
of
the
process.
Then,
it
follows
the
identification of the unit navigation cell, which demands the
extraction of the green signal from the multiplexed signal.
After this identification, the green signal contribution is
subtracted from the front and back photocurrent signals.
Then, the next 8 bits assigned to the position INFO word of
both front and back photocurrents are processed to evaluate
the modulus of the complex Fourier coefficients. When the
calculated coefficient is above a certain threshold the signal
is considered to be present at the respective frequency,
otherwise it is discarded. The photocurrent signals measured
under front and back optical bias are used to infer,
respectively, the red signal and the blue optical signals. This
procedure allows the identification of the wavelengths and
frequencies assigned
to
the optical excitations, which
corresponds to a specific spatial position. The next 16 bits
contain the message transmitted by each emitter channel. It is
decoded using the front optical photocurrent to identify the
red contribution and the back photocurrent signal to classify
the blue excitation.
III.
RESULTS AND DISCUSSION
A.
Information coding
The
test
case
used
to
validate
the
proposed
communication scheme is displayed in Figure 4 that shows
the specific words sent in the Position INFO and DATA
blocks of each emitter, which correspond to the second and
third blocks, respectively.
Figure 4. Codification of the optical signals in test conditions.
The Position INFO word is set to the code word
10101010 in the fast emitters, to 11001100 in the slow
emitters and to 00100010 in the green emitter, corresponding
therefore to the navigation cell located in line 1 and column
1. The DATA word is set to 00000000 in the green channel,
as predicted by the adopted codification scheme and to the
words 11001100 and 10101010 in the slow and fast emitters,
respectively.
Figure 5 displays the acquired photocurrent signal by the
pinpin photodiode, biased at -8 V and under variable
conditions of optical bias (without and with front/back steady
state background light).
The signal was acquired in different positions of the
navigation unit cell, exhibiting in each case a different
pattern due to different lighting excitations. In all graphs the
trigger event allows easy synchronization and identification
of each transmitted frame. This is clearly noticeable by the
high peaks of the front photocurrent (represented in the
graphs by the magenta line), as in the idle bits all emitters are
set to ON and this combination results in photocurrent
amplification when the device is soaked by steady state
illumination from the front side. In contrast, the same signal
under back background light is decreased.
123
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-660-6
SENSORDEVICES 2018 : The Ninth International Conference on Sensor Device Technologies and Applications

a)
b)
0
1
2
3
4
0,0
0,5
1,0
1,5
2,0
2,5
3,0
3,5
4,0
Photocurrent (a.u)
Time (ms)
c)
Figure 5. Photocurrent signal by the pinpin photodiode, biased at -8 V and
under variable conditions of optical bias (without and with front/back
steady state background light).
B.
Information recovery
Figure 6 displays the photocurrent signals after the
removal of the green excitation contribution.
The next step is the identification of the transmitted
frequencies, which requires the computation of the modulus
of the complex Fourier coefficients over the 8 bits data sent
next to the idle and start bits. When the calculated coefficient
is above a certain threshold the signal is present at the
respective frequency. In this step the front photocurrent is
used to identify the red light and the back photocurrent for
the blue light.
a)
0
1
2
3
4
0,0
0,5
1,0
1,5
2,0
2,5
3,0
3,5
4,0
Photocurrent (a.u)
Time (ms)
b)
c)
Figure 6. Photocurrent signals without the contribution of the green signal
at positions: a) #1, b) #2 and c) #3.
This procedure enables the identification of the position
within the navigation cell, which mixed with the cell
identification by the green channel enables the absolute
position recognition. The message is decoded using the
adjacent 16 bits of the slow and fast emitters. The algorithm
assumes that in the front photocurrent the highest levels
correspond to the presence of the red light, while the lowest
ones to its absence, which allows the immediate recognition
of the ON-OFF states for the red channel. Attending to the
back-photocurrent signal, the same reason can be used. Here,
the highest levels are assigned to the presence of the blue
input signal and the lowest levels to its nonexistence, which
allows the immediate decoding of the blue channel. Thus,
0
1
2
3
4
5
0,0
0,5
1,0
1,5
2,0
2,5
3,0
Photocurrent (a.u)
Time (ms)
0
1
2
3
4
5
0,0
0,5
1,0
1,5
2,0
2,5
3,0
3,5
4,0
Bs Bf com green
Photocurrent (a.u)
Time (ms)
0
1
2
3
4
5
0,0
0,5
1,0
1,5
2,0
2,5
3,0
Rs Bs sem green
Photocurrent (a.u)
Time (ms)
0
1
2
3
4
5
0,0
0,5
1,0
1,5
2,0
2,5
3,0
3,5
4,0
Photocurrent (a.u)
Time (ms)
124
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-660-6
SENSORDEVICES 2018 : The Ninth International Conference on Sensor Device Technologies and Applications

both red and blue channels can be immediately tuned by
using adequate biasing light for the background. Using this
simple key algorithm, the independent red and blue bit
sequences of the message can be decoded.
IV.
CONCLUSION AND FUTURE WORK
Simultaneous navigation and data transmission based on
visible light communication was presented and discussed.
The
use
of
RGB
white
LEDs
and
a-SiC:H
pinpin
photodiodes for indoors navigation was extended to add data
transmission functionality to the VLC system. Codification
of the optical signals ensured synchronization between
frames and was also designed to shield the decoding process
from errors that might provide wrong identification of the
correspondent spatial position. The transmitted data is
encoded in a 32 bits word, but the length can be easily
expanded. Future work comprises the analysis of the system
in a wider range of optical fluxes, as well as the decoding of
different random transmitted messages.
ACKNOWLEDGEMENTS
This work was sponsored by FCT – Fundação para a
Ciência e a Tecnologia, within the Research Unit CTS –
Center
of
Technology
and
systems,
reference
UID/EEA/00066/2013
and
by
IPL/2017/SMART_VeDa/ISEL
and
IPL/2018/LAN4CC/ISEL.
REFERENCES
[1] Y. Tanaka, S. Haruyama, and M. Nakagawa, “Wireless optical
transmissions with white colored LED for wireless home links”,
Personal, Indoor and Mobile Radio Communications, 2000. PIMRC
2000. The 11th IEEE International Symposium on, vol. 2, 2000, pp.
1325-1329.
[2] W. Zhang, S. Chowdhury, and M. Kavehrad, “Asynchronous
indoor positioning system based on visible light communications”,
Optical Engineering 53(4), 045105, April 2014.
[3] W. Zhang, M. Kavehrad, “A 2-D indoor localization system
based on visible light LED,” in Proc. IEEE Photonics Society
Summer Topical Conf.—Optical Wireless Systems Applications,
pp. 80–81 ,2012.
[4]
Z.
Zia,
"A
visible
light
communication
based
hybrid
positioning method for wireless sensor networks", Intelligent
System Design and Engineering Application (ISDEA) 2012
Second International Conference, pp. 1367-1370, 2012.
[5] D. Karunatilaka, F. Zafar, V. Kalavally, and R. Parthiban,
“LED based indoor visible light communications: state of the art",
Communications Surveys Tutorials, IEEE, vol. PP, nº 99, pp 1-1,
2015.
[6] E. Ozgur, O. Dinc, and B. Akan, “Communicate to illuminate:
State-of-the-art
and
research
challenges
for
visible
light
communications”, Physical Communication 17 (2015) pp. 72–85,
http://dx.doi.org/10.1016/j.phycom.2015.08.003
[7] J. Armstrong, Y. Sekercioglu, and A. Neild, "Visible light
positioning:
a
roadmap
for
international
standardization",
Communications IEEE, vol. 51, no. 12, pp. 68-73, 2013.
[8] K. Panta K. and J. Armstrong, “Indoor localisation using white
LEDs,”Electron. Lett. 48(4), pp. 228–230 (2012).
[9] T. Komiyama, K. Kobayashi, K. Watanabe, T. Ohkubo, and Y.
Kurihara, “Study of visible light communication system using
RGB LED lights,” in Proceedings of SICE Annual Conference,
IEEE, 2011, pp. 1926–1928.
[10] N. Kumar, and N. R. Lourenço, “LED-based visible liht
communication system: a brief survey and investigation”, Journal
of Engineering and Applied Sciences, vol. 5, nº4, pp. 296-307,
2010.
[11]
A.
Jovicic,
J.
Li,
and
T.
Richardson,
“Visible
light
communication: opportunities, challenges and the path to market,”
Communications Magazine, IEEE, vol. 51, no. 12, pp. 26–32,
2013, DOI: 10.1109/MCOM.2013.6685754
[12] Z. Zhou, M. Kavehrad, and P. Deng, “Indoor positioning
algorithm
using
light-emitting
diode
visible
light
communications,” Opt. Eng. 51(8), 085009 (2012).
[13] P. Louro, V. Silva, M. A.,Vieira and M. Vieira, “Viability of
the use of an a-SiC:H multilayer device in a domestic VLC
application”, Phys. Status Solidi C 11, No. 11–12, pp. 1703–1706
(2014) / DOI 10.1002/pssc.201400035.
[14] P. Louro, V. Silva, J. Costa, M. A. Vieira and M. Vieira,
"Added transmission capacity in VLC systems using white RGB
based LEDs and WDM devices ", Proc. SPIE 9899, Optical
Sensing and Detection IV, 98990F ,April 29, 2016.
[15] M. A. Vieira, M. Vieira, V. Silva and P. Louro “Optical signal
processing for indoor positioning using a-SiC:H technology” Proc.
SPIE 9891, Silicon Photonics and Photonic Integrated Circuits V,
98911Z (May 13, 2016).
[16] P. Louro et al. “Optoelectronic characterization of a-SIC:H
stacked devices”, Journal of Non-Crystalline Solids, vol. 338-340,
no. 1 SPEC. ISS., 15 June 2004, pp. 345-348.
[17] A. Fantoni, M. Fernandes, P. Louro, and I. Rodrigues,
“Stacked
n-i-p-n-i-p
heterojunctions
for
image
recognition,
Materials Research Society Symposium - Proceedings, Volume
762,
2003,
pp.
199-204
Materials
Research
Proceedings:
Amorphous and Nanocrystalline Silicon-Based Films – 2003.
[18] P. Louro, J. Costa, M. Vieira, M. A. Vieira and Y.
Vygranenko, “Use of VLC for indoors navigation with RGB LEDs
and a-SiC:H photodetector”, Proc. of SPIE, vol. 10231, Optical
sensors 2017 (102310F-2).
125
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-660-6
SENSORDEVICES 2018 : The Ninth International Conference on Sensor Device Technologies and Applications

