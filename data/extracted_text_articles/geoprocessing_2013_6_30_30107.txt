Integration Model for Location-Based Services in iDTV Applications
Vandecia R. Monteiro Fernandes, Geraldo Braz Junior,
Carlos de Salles Soares Neto, Anselmo Cardoso de Paiva
Applied Computer Group
Federal University of Maranh˜ao
S˜ao Luiz - Brazil
vandecia@ufma.br, geraldo@nca.ufma.br,
csalles@nca.ufma.br, paiva@nca.ufma.br
Hugo Feitosa de Figueiredo,
Claudio de Souza Baptista
Department of Systems and Computer
Federal University of Campina Grande
Campina Grande, Brazil
hugoff@gmail.com,
cdsbaptista@gmail.com
Abstract—The new Digital TV (DTV) standards offer not
only a signiﬁcant improvement in picture and sound quality but
also create the ability to run applications sent over broadcast
direct to the consumers. Additionally, DTV can be watched
from mobile devices, which creates a new comprehensive
niche for large scale applications based on location services.
This paper proposes an architectural model for integration
of
Location
Based
Services
(LBS)
and
interactive
DTV
applications running on mobile devices. In particular, this
work extends the middleware Ginga giving him the ability
to support interactive applications based on location trough a
integration layers using OpenLS to make the communication
of a context server and the Ginga application. The architecture
has been evaluated using real scenarios and the analysis shows
promissing results.
Keywords-DTV;
Location
Based
Services;
Mobile
Computing; Ginga.
I. INTRODUCTION
Location-Based Services (LBS) are information services
through a mobile network, which use geographical location
to provide some speciﬁc functionality [1]. The use of
user location information enables the design of innovative
services, offering information increasingly accurate, precise
and useful. For example, the system can provide weather
information adjusted to the region where the user is
or even create a free advertising-dependent environment
based on locations around the user. Besides the location,
other information can be monitored such as heartbeat and
temperature, or environment information, such as trafﬁc and
weather condition. The information that can be collected
from the situation in which the user is contained is deﬁned
as context. So context is deﬁned as any information that can
be used to characterize the status of an entity [2].
Some works have investigated the use of LBS applications
and its usefulness. Among these, the LBS Framework
proposed in [3] has the objective of providing mechanisms
that allow the use of two separate databases as if they were a
single source of information, based on the existence of two
data sets: geographical and content associated to locations.
However, the LBS Frawework has no location management
in the mobile device and the users position is only provided
upon request to the server services. FRAGIL - Framework
for
Information
Management
Localization
[4]
[5],
is
another framework that aims to provide a reusable set
of location information protocols and a mechanism to
allow the obtaining of location based functionalities for the
development of LBS applications. Also, [6] [7] [8] present
various kinds of location based applications and facilities for
the development of LBS services on addressed to portable
devices.
Given the mobile nature of human beings, the combination
of Location-Based Services with mobile phones becomes
an attractive approach for consumers and businesses. With
the advent of mobile devices that allow the Digital TV
(DTV) reception, the processing of the location information
of devices opens doors for the development of a new niche of
applications, which associate broadcast transmissions with
the possibility of interactivity based on elements around
the device. The interactive Digital TV (iDTV) provides to
the user the ability to shop, participate in surveys, custom
programming, join a class and more. The papers [9] [10] [11]
present applications using a iDTV platform.
Interactivity depends on the hardware and software
that are available in the mobile device. The coordination
between hardware and software is done by a software
layer
called
middleware.
The
middleware
adopted
as
the standard for the Brazilian DTV, in accordance with
speciﬁcations of the International Telecommunication Union
Telecommunication Standardization Sector (ITU-T) for
IPTV is called Ginga [12]. The main function of the Ginga
middleware is to ensure interoperability in the development
of iDTV applications, providing a standardized virtual
machine on which to run interactive applications.
This paper proposes an integration model for Ginga
applications and Location Based Services (LBS) on mobile
devices, extending the range of applications and information
that could be treated by users on the move. Speciﬁcally,
the proposed architecture aims to provide mechanisms of
self-triggering using the geographic context for mobile
applications on the middleware Ginga. As a result, iDTV
applications may be extended to location-aware capabilities.
145
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

The remainder of this paper is organized as follows.
Section II focues on the background concepts needed
for the proposed architecture presented in Section III. In
Section IV, we address usage scenarios of the architecture
from the perspective of mobile digital TV. Finally Section V
concludes the paper and discuss further work to be
undertaken.
II. BACKGROUND
This section presents the theoretical background needed
for the construction of the proposed architecture. Subsection
A presents the VadeMecum framework, used to manage
the information of user’s context. Subsection B focuses on
details about the Ginga middleware, which is extended by
this work to support Location Based Services. And, the
ﬁnal subsection presents the OpenLS, that aims at promoting
interoperability for the proposed architecture.
A. VadeMecum
It is common in context based applications to have one
module or component responsible for managing rules and
actions that must be taken whenever a particular client has
satisﬁed given conditions.
The VadeMecum uses a model-based inference rules to
monitor the contextual states of users in the system. Thus,
you can add rules that will launch actions if these are met.
A rule in the VadeMecum is like E-C-A (Event-Condition-
Action), in which the event is to update some contextual
information monitored; the condition and description of a
state contextual and action is the operation to be performed
when the condition is satisﬁed. For example, a possible rule
is: when you have some close contact geographically, this
location should be shown on the map on the mobile device
user. A user can have multiple registered rules and can either
activate or disable them at any time.
In this proposal, the component that performs this task
is called ContextServer. Its basic functionality is to manage
a database of rules and actions previously registered. As
the client application is used, a context database is fed and
accessed by the ContextServer that checks whether any rule
or action should be taken according to the context in which
the customer is located. A server implementation of the
ContextServer is VadeMecum, formed by the tool CARE
(Context Aware Rule Editor) and the server itself, proposed
in [13] and visualized in Figure 1.
This server is responsible for storing context, perform
inference and monitor contextual information. Its operation
is based on contextual rules implemented using ontologies,
which indicate what actions should be implemented in
applications when a particular contextual state is reached.
The addition of the rules in the server is performed by the
end user through the CARE tool that assists the user in the
process of specifying such rules and provide a lightweight
Figure 1.
Context Server VadeMecum
and intuitive graphical user interface, so that it is easy for
users to express their rules.
After creating the rules, using the VadeMecum, they
should be sent to the context server that will monitor them
along with the state of the contextual user. The storage and
retrieval of contextual information is made via a context
model that logically describes how information is stored,
following the speciﬁcation of an ontology created previously.
The insertion and retrieval operations are performed by a
communication protocol that follows the HTTP (POST and
GET) and languages SPARQL and SPARQL Update [14].
In order to monitor the server state there is a contextual
inference engine based on rules. Once the rule is activated,
this will be accessed every time that the subset contained
in the contextual state condition is changed. When the
condition is satisﬁed, the action is executed and the rule
will be disabled until the contextual state is no longer valid
in the condition.
In the VadeMecum there are three possible actions:
• ShowMultimedia that receives as a parameter the user
who receives the action and a multimedia ﬁle,
• ShowOnMap that receives as a parameter the user who
receives the action and an object that will be shown on
the map location,
• SendMail, that receives an e-mail and sends a message
to the recipient.
However, it is possible that the actions in VadeMecum
trigger external services so they send some action itself,
which may be executed in a user’s mobile device.
B. Ginga Midleware
Ginga middleware is the name of the Japanese-Brazilian
Terrestrial Digital TV System and ITU-T standard for
IPTV. The Ginga middleware was developed entirely in
Brazil providing two types of programming environments: a
146
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

Figure 2.
Ginga Archicteture [15]
declarative, represented by Ginga-NCL, and an imperative,
represented by Ginga-J [15].
Ginga-NCL uses a declarative language based on Nested
Context Language (NCL). Through this language, an
author can describe the temporal behavior of a multimedia
presentation, associate hyperlinks (user interaction) to media
objects, deﬁne alternatives for presentation (adaptation)
and describe the layout of the presentation on multiple
devices. The Ginga-J, is a logical subsystem of the Ginga
system responsible for processing active content. A key
component of the execution environment is Ginga machine
for implementing the mandatory content, comprising a Java
virtual machine.
The architecture (Figure 2) and Ginga facilities are
designed
to
be
applied
to
broadcasting
systems
and
terrestrial broadcasting receivers. Additionally, the same
architecture and facilities can be applied to systems using
other data transport mechanisms (such as satellite systems
and cable systems or IPTV). For more information about
Ginga, its applications and models see [15].
C. OpenLS
Interoperability is one of the key points to be considered
in developing location-based systems, since these should be
available on different platforms and operating systems. The
OpenGIS Consortium [16] deﬁnes a set of computational
patterns that aim to promote interoperability between
Geographic Information Systems (GIS).
The GIS automated systems are used to store, manipulate
and analyze geographic data. In the 80s, with the advent of
personal computing, there has been a rapid development of
these systems, as well as for military use and environmental
planning. Since then, GIS has evolved to make technologies
most effective and affordable.
The OpenLS speciﬁcation [17] was adopted by the
OpenGIS Consortium, and is focused on the development of
interface speciﬁcations that facilitate the use of location and
other forms of spatial information about the environment of
wireless Internet. The goal of this initiative is to specify a set
of interfaces, standards and protocols on which developers
can use to integrate geospatial data and geoprocessing
resources into location services and telecommunications
infrastructure, providing these capabilities for a variety of
applications.
The OpenLS is used to allow access to mechanisms
for location of the network and a set of services called
OpenLS Core Services. The speciﬁed services are Location
Utilities Service, Directory Service, Presentation Service
and Route Determination Service. The applications use the
interfaces of OpenLS to get the content needed to perform
their functions. Such content would be: data maps, route
networks, addresses, navigation information, directories of
places with information, products or services.
III. THE GINGA-LBIA ARCHITECTURE
The proposed architecture, named Ginga-LBiA, aim to
integrate Location Based Services and iDTV application
under the Ginga middleware. The architecture is divided
into three modules: Context Server, Gateway and Client, as
shown in Figure 3 below.
The Context Server manage rules and actions to be
analyzed according to the DTV client context. This module
includes the Client Service Listener, Service Context Notify
application and mobile digital TV. To link the two platforms:
server and application Context Digital TV, we implemented
a translator module represented using the Gateway. Each
module and its composition are described in more detail in
the following subsections.
A. Service Context
This component aims to store and perform inference
rules based on the user contextual information and to
propose an action to be taken through the VadeMecum.
However, VadeMecum was extended to communicate with
the Ginga Digital TV. An important aspect of the proposed
architecture is that it can be easily extended by other
server implementations of context. To obtain a model
that is implementation independent, it is necessary to
create an interoperability layer. The same is proposed
in this architecture by implementing a communication
layer, independent of context server, using OpenLs as the
standard protocol for information exchange. This component
comprises the Gateway.
B. Client Module
The client module consists of three components: the DTV
application, Service Listener and Service Context Notify, as
presented in Figure 3. The application runs on a mobile
device, emulating the Ginga middleware, according to the
proposed implementation deﬁned in [18]. It is necessary
to extend the same support to the management of context
information such as the geographical location. Thus, the
application itself, through the Ginga middleware, informs
the device location. The Notify Context Service Component
is the component responsible for periodically updating data
147
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

Figure 3.
Proposed Architecture: the Ginga Location Based iDTV Architecture (Ginga-LBiA)
in the context server with client information. To accomplish
this task, the Service Context Notify receives the information
from the application and sends it to the Gateway module
according to some update policy to be deﬁned.
Once the context server evaluates the information given by
the previously created rules, if there is any action to be taken,
it forwards the action to the application through the Gateway
explained on next section. The component responsible for
managing the actions received by the server context is the
Service Listener. If the action is accepted, it is forwarded to
the application where an event is triggered for the user.
C. Gateway
The Gateway module is responsible for communication
between the server and the client module context. It is
implemented according to the OpenLS speciﬁcation [17],
which
deﬁnes
service
interfaces
that
facilitate
the
development
of
location-based
applications.
In
the
OpenLS speciﬁcation, the service request occurs via a
SLIR (Standard Location Immediate Request). The result
obtained is sent to the user via a SLIA (Standard Location
Immediate Answer). The Gateway has different functions
according to the type of architecture that is used. In the
model which uses WebServices, the request has to be dealt
with SOAP technology. If the model is adopted using the
server VadeMecum, which uses a model-based inference
rules, the Gateway will have to turn the request of the
application in a triple, such as subject, predicate, action,
using a language as SPARQL [14].
IV. SCOPE OF THE PROPOSED ARCHITECTURE FROM THE
VIEWPOINT OF DIGITAL TV APPLICATIONS
Figure 4 presents a common scheme for application
distribution on interactive digital TV. The TV broadcaster
transmits to every device the same application multiplexed
with the main video and audio. This interactive application
can be received by ﬁxed terminals in either set-top boxes or
mobile receivers. In both cases, the applications are running
on top of a middleware layer. In this content distribution
environment , applications can also provide information back
to the TV station using the Internet as a communication
Figure 4.
Common scheme for applications distribution over interactive
digital TV
channel, which allows that information about the users are
collected.
The components of the Ginga-LBiA to support location
service can also be distributed among environments and TV
broadcaster mobile device. There are three main ways on
how this architecture can be distributed, which characterizes
the supported location application proﬁle being performed.
1) Fully Broadcast Applications: In this category of
applications, all message exchanges occur in the client that
acts only like a receiver. It is not necessary to have return
communication channel to the TV broadcaster, which makes
this category the most common. The iDTV application
is transmitted to all viewers by the broadcast channel. It
is through this same channel that the entire contents of
the application is received on the client side. This means
that all alternatives that may be displayed depending on
the location must be communicated to all customers alike.
Figure 5 shows the architecture that uses only the broadcast
transmission.
As an example of possible fully location-based broadcast
applications is a scenario of location based advertising. In
this category, there is no request of content made by the
application, it only receives content. Suppose a user walking
in a shopping center. In this case, the station can transmit
an speciﬁc advertisement just to the users that are near
that mall. Thus, the application is adapted according to
148
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

Figure 5.
Fully broadcast applications using Ginga-LBiA architecture
Figure 6.
Illustration of message exchanges for hybrid application using
Ginga-LBiA architecture
the location. In other words, the advertisement is presented
depending on whether the user is close or not to the mall.
The same scenario can be applied, for example, on public
transportation such as subways and buses. If the tube is
equipped with a TV running the application of digital TV,
when it pass through certain areas, the application will
conveying advertisements about those areas.
2) Hybrid Applications:
In hybrid applications, the
content trafﬁc has the jointly responsibility in client and
server. The iDTV application will be running on the client,
and when asked for additional content, will communicate
with the server to answer the request. Figure 6 presents a
illustration of message exchanges of the architecture in this
category.
3) Applications without Broadcast: In this category only
iDTV application is resident on the client, all requests
are answered by queries to the server context. In this
category
we
can
cite
tour
guides.
In
tourist
towns,
for example, tourists can see detailed information about
buildings and historic sites. In the user mobile device, just
the iDTV application was running. When the user moves,
the application will pose a query to a server and receive
audiovisual content speciﬁc to the location where he is.
Figure 7 exemplify this kind of application.
Figure 7. Illustration of a application without broadcast using Ginga-LBiA
architecture
V. CONCLUSION
Digital TV is an important mechanism for transmitting
information.
Television
is
known
as
the
principal
communication vehicle that reaches all the social classes
and regions of the world. Interactive applications in
Digital TV allows for the implementation of further tools,
regardless of location or culture.
By joining DTV with Location Based Services it is
possible to enhance the interaction through regionalization
solutions, which provides a custom activity and content.
Thus,
applications
on
advertising,
social
media
or
government
could
be
extended
to
deal
with
speciﬁc
and localized cases.
With this goal, this paper presented the Ginga-LBiA
architecture for integration of location based applications on
the Ginga middleware. The integration was performed using
a methodology that uses the OpenLS standard in order to
achieve interoperability between different applications and
servers.
The architecture was analyzed on the main scenarios of
applications in DTV, which correspond to the following
categories: applications with or without broadcast and
hybrid. In all categories, the architecture was adequate to
provide appropriate services independently of application
kind. The proposed architecture treats location features in a
transparent manner and provides interoperable and adaptable
communication mechanisms. Thus, this architecture could
also be applied for others midlewares DTV just changing
Ginga midleware by the appropriate one. This could be
reached because all the communication interfaces are based
on OpenLS and the Gateway layer is independent of the
midleware choosen.
Finally, this approach shows promising to integrate
Digital TV services with location-based services. With
this architecture, it becomes possible to build interactive
applications that can capture the context of the client
to provide mechanisms to adapt the content appropriate.
However, it is understood that there are other context
information beyond the location that could be handled by
the architecture, such as wheather conditions, temporal and
149
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

social contexts. As further work, we intend to incorporate
new extensions to the Ginga to incorporate this contextual
information. We also intend to develop security and privacy
features as well compare this architecture with other that
would exists to capture the keys advantages and disavantages
and provide a better interoperability to our approach.
ACKNOWLEDGMENT
The authors would acknowledge CNPq, CAPES and
FAPEMA for the ﬁnancial support.
REFERENCES
[1] R. Ferraro and M. Aktihanoglu, Location-Aware Applications.
Manning Publications Co., 2011.
[2] P. Prekop and M. Burnett, “Activities, context and ubiquitous
computing,” Computer Communications, vol. 26, no. 11, pp.
1168–1176, 2003.
[3] K. Andersen, M. Cheng, and R. Klitgaard, “Framework for
building location based services,” 2003, technical report,
Aalborg Universitet.
[4] A. de Paiva, E. Monteiro, J. Rocha, C. de Souza Baptista,
A.
Silva,
and
S.
da
Rocha,
“Location
information
management
in
lbs
applications,”
Encyclopedia
of
Information
Science
and
Technology,
pp.
2450–2455,
2009.
[5] E. Monteiro, A. de Paiva, and C. de Souza Baptista,
“Arquitetura de um framework para o desenvolvimento de
aplicac¸˜oes baseadas em localizac¸˜ao,” in Conferˆencia IADIS
Ibero-Americana WWW/Internet. IADIS, 2005, pp. 336–343,
in Portuguese.
[6] N. Fernando, D. Dias, and S. Wijesekara, “A framework to
develop location based services applications using ogc map
services,” in Information and Automation for Sustainability
(ICIAFs), 2010 5th International Conference on.
IEEE,
2010, pp. 521–526.
[7] A. Desai, Z. Laliwala, and S. Chaudhary, “Context and
location based service grouping and group notiﬁcation,” in
Services Computing Conference, 2009. APSCC 2009. IEEE
Asia-Paciﬁc.
IEEE, 2009, pp. 227–232.
[8] S. Kumar, M. Qadeer, and A. Gupta, “Location based services
using android,” in IMSAA09: Proceedings of the 3rd IEEE
International Conference on Internet Multimedia Services
Architecture and Applications, 2009, pp. 335–339.
[9] M. Ferreira, M. Braga, P. Santos, and N. Santos, “An
application
model
for
digital
television
in
e-learning,”
in
Interactive
Computer
Aided
Blended
Learning-ICBL
Conference. Florian´opolis:[sn], 2009.
[10] V. Silva, R. Rosa, and V. De Lucena Jr, “Using brazilian
digital tv to integrate health care services embedded in
medical commercial devices,” Medical Informatics, vol. 1,
no. 1, pp. 93–110, 2012.
[11] O. Maia, N. Viana, and V. de Lucena Jr, “Using the idtv as the
center of an ubiquitous environment,” Medical Informatics,
vol. 1, no. 1, pp. 226–248, 2011.
[12] L. Soares and G. Souza Filho, “Interactive television in
brazil: System software and the digital divide,” in European
Conference on Interactive TV (EuroITV), ´Austria, 2007.
[13] H. F. Figueiredo, “Uma infraestrutura de suporte a aplicac¸˜oes
cientes de contexto com o enfoque no usu´ario ﬁnal,” Master’s
thesis, Universidade Federal de Campina Grande, Campina
Grande, 2008, in Portuguese.
[14] W.
Consortium,
“W3c
recommendation
sparql,”
2008,
available
at
http://www.w3.org/TR/rdf-sparql-query,
last
accessed Ocotber 21, 2012.
[15] L. Soares, R. Rodrigues, and M. Moreno, “Ginga-ncl: the
declarative environment of the brazilian digital tv system,”
Journal of the Brazilian Computer Society, vol. 12, no. 4, pp.
37–46, 2007.
[16] O.
Consortium,
“Opengis
standards,”
2012,
available
at
http://www.opengeospatial.org/standards,
last
accessed
Ocotber 21, 2012.
[17] I.
Open
Geospatial
Consortium,
“Opengis
location
services
(openls):
Core
services
[part
1-directory
service,
part
2-gateway
service,
part
3-location
utility
service(geocoder/reverse
geocoder),
part
4-presentation
service,
part
5-route
service],”
2008,
available
at
http://www.opengeospatial.org/standards/ols,
last
accessed
October 21, 2012.
[18] G.
Ferreira,
G.
Nogueira,
G.
Comarela,
F.
Fabris,
M. Martinello, and J. P Filho, “Ginga-ncl em dispositivos
port´ateis: Uma implementac¸˜ao para a plataforma android,”
2010, in Portuguese.
150
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-251-6
GEOProcessing 2013 : The Fifth International Conference on Advanced Geographic Information Systems, Applications, and Services

