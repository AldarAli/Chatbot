M2ANET Performance Under Variable Node Sleep Times
Kerul Patel, John DeDourek, Przemyslaw Pochec
Faculty of Computer Science
University of New Brunswick
Fredericton, Canada
e-mail: kerul.patel, dedourek, pochec@unb.ca
Abstract—We investigate a new variant of ad hoc networking:
a network of nodes whose sole function is to forward data in
the network. This model differentiates between terminal nodes
and transmission forwarding nodes in a network. We
investigate the performance of the network under the condition
when the forwarding nodes periodically enter the sleep state
i.e., are turned off periodically. The results show the relation
between the expected QoS (quality of service) and the duration
of sleep time of a node (also a tradeoff between QoS and
network lifetime). The higher the network node density, the
lower the impact of introducing sleep state on QoS. ns2
simulation shows a M2ANET network with sleeping nodes
running the AODV routing protocol performing better than
one running DSR for a range of node densities.
Keywords- MANET; transmission medium; quality of service
QoS; node sleep mode.
 I. 
 INTRODUCTION
An ad hoc network is a collection of wireless mobile
nodes forming a temporary network without the aid of any
stand-alone infrastructure or centralized administration. An
ad hoc network with a changing topology due to node
movements is called a Mobile Ad Hoc Network (MANET)
[1]. In a conventional ad hoc network, the nodes not only act
as hosts but also assist in establishing connection by acting
as routers that route data packets to/from other nodes in the
network. One can also propose a variation of an ad hoc
network where mobile nodes (blue) would be used for
forwarding only in order to support communication between
designated terminal nodes (red in a large circle in Figure 1).
In [2], we defined the principles of operation of a mobile
network made of forwarding nodes and called it M2ANET:
Mobile Medium Ad Hoc Network. The network nodes form
a "cloud" of communicating nodes through which all data
travels, not unlike sound waves traveling through air, thus
forming the medium for data transmission (propagation). In
this paper we test a new hypothesis that stipulates that a
reliable transmission through a mobile medium (in a
M2ANET) does not depend on the continuity of operation of
any one network node. If our new hypothesis is true, it would
have significant implications on operations of ad hoc and
sensor networks. In particular, one could create a M2ANET
using nodes with a limited battery capacity that would
operate reliably for as long as new nodes are added to the
network at the same rate as other nodes run out of battery
power. In another scenario one could envision a network
composed of nodes that switch on and off periodically (i.e.,
go to sleep) and, given sufficient number of nodes, such a
network would still be able to reliably transmit data. Nodes
that switch on and off periodically would not only conserve
battery power but also would be more difficult to locate
(hack or destroy).
In Section II, we introduce M2ANET and then discuss
using nodes with on/off sleep states in Section III.
Experiments with different numbers of nodes, different
probabilities of entering sleep state, and different routing
protocols are described in Sections IV and V. Finally, we
present the conclusion and future work, in Section VI and
Section VII, respectively.
Figure 1.  M2ANET in operation: communication channel is established
between two terminal nodes (red) using a network of mobile nodes (blue).
 II. 
STATE OF THE ART
Performance of a MANET is impacted by many factors
including node range, node mobility, number of nodes used
in a network, and the protocol used [3-7]. A good example of
protocol performance evaluation is in [5]; our own tests are
reported in [8].
We find it interesting that the node density issue
specifically and its impact on network performance was a
subject of few studies. In [9][10] authors distinguish between
31
AFIN 2011 : The Third International Conference on Advances in Future Internet
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-148-9

a physical node density versus connectivity density. The
performance of the MANET depends not only on the number
of mobile nodes in a particular area, but also on how likely
the nodes make connections. Bettstetter and Zangl derived
the expected degree of a node for n nodes with range r0
operating in an area A [11]. Their objective was to determine
the required number of nodes to achieve an "almost surely
connected network", i.e., an ad hoc network with a low
probability of having isolated nodes. Based on discussion in
[11], we provided our own definition of normalized node
density [2][8]:
δ = n c/a, 
(1)
where n is the number of nodes, c is the transmission area
covered by a node and a is the area over which the mobile
network is deployed.
In our own studies we separated the network nodes into
two categories: the terminal nodes and the communication
nodes. In this scenario a "cloud" of communication medium
nodes forms a medium through which the communication
channel can be formed. With a sufficient number of nodes in
the area a communication channel is formed across the
mobile nodes of the M2ANET allowing for designated
terminal nodes to communicate. We call such a network a
Mobile Medium MANET, or M2ANET (pronounced "
MANET square(d)"). The main task of the M2ANET is to
establish communication between the terminal nodes (and
not necessarily to link all other MANET nodes into a
connected network). This is what makes M2ANETs different
from typical MANETs: as opposed to the MANET scenario
described in [11], in M2ANET some mobile nodes may
become isolated without a detrimental effect on the network
performance.
In [2], we showed how the different QoS criteria favour
M2ANET over a conventional MANET. In [8] we showed a
slight advantage of AODV over DSR when used in
M2ANET.
 
III. 
NETWORK OF NODES WITH VARIABLE SLEEP TIMES
The main role of the network is to establish a route and to
transfer the data. In a non trivial MANET only some of the
mobile nodes would be needed to maintain the route
(channel) at any given time, with other nodes not
participating actively in the data transfer. MANET routing
protocols take care of reestablishing the route during the
initial set up and in case of a node or a link failure. In a
MANET, given a sufficiently dense network, any routing
node can be easily replaced with other nodes forming an
alternative route. The non essential nature of any routing
node suggests that they form a vast cloud of nodes serving as
a transmission medium.
One can take advantage of the non essential nature of any
one node by allowing for a node to be switched off (or
removed) and still maintaining communication through the
network. The nodes can be switched off in a coordinated
fashion or at random [12]. Our work is concerned with a
random sleeping mechanism and, apart from an obvious
scenario of evaluating network resilience in the event of a
node failure, we propose a scheme in which some routing
nodes are switched off and on intentionally. In addition to
showing that the M2ANET network can maintain its reliable
operation with some of its nodes switched off, we show the
tradeoff between network lifetime and quality of service
QoS. In our paper QoS is defined using a single metric: the
delivery ratio. The network life time is defined as the period
over which there is a sufficient number of functioning nodes
in a M2ANET, and we assume that extending the sleep time
of individual mobile nodes would conserve power and
extend the network life time by a corresponding amount. At
the same time, nodes in the sleep state would be unable to
forward data in the network, which in turn is likely to affect
network connectivity and QoS.
To establish the relation between sleep times and QoS we
investigate a M2ANET with n mobile nodes and operating in
a confined space (a rectangular region). We vary number of
nodes used in the experiment and the duration of sleep time
of a node. Sleep time of a node is randomly selected from a
uniform distribution. The status of a node is modified
periodically (e.g., every second), and pon designates the
probability that the next state of the node would be the ON
state, similar to the Randomized Independent Sleeping (RIS)
introduced in [13].
Application of a M2ANET with nodes with variable sleep
times can be considered for many scenarios, especially when
a network needs to be established quickly and without much
preparation. Nodes could be dropped into a zone of interest
from an aeroplane, or can spread (move away) from each
terminal station. QoS can be traded for the network lifetime
by adjusting the probability pon.
 
IV. 
JAVA SIMULATION USING NODE DISTANCE ONLY
A Java simulation of a mobile network is used with two
nodes at stationary positions and the rest mobile. The mobile
nodes are confined to an area bounded by a 500x500
rectangle (both the size of the bounded region and the
transmitter range are defined in the same units; for the sake
of the discussion below we can assume this unit distance as 1
meter). The two stationary terminal nodes shown in Figure 1
are at the opposite sides at locations (250,62) and (250, 437).
The simulation is run over 105 time units, with mobile nodes
moving in straight lines, and randomly changing speed and
direction every 25 time units. Each node can be in the on or
off state, and capable of forwarding messages pon% of the
time. A connection is formed between a pair of nodes if the
distance between them is less than the pre specified threshold
(called range and equal to 100). We test, and visualize, for
the connectivity between the terminal nodes in the network
under different node densities, and for different sleep times.
The graph in Figure 2 shows the percentage of time the
connectivity was maintained when (i) the nodes were
switched ON only 60% of the time (pon = 60%),  80% of the
time (pon = 80%), and (ii) when nodes were ON all the time
(pon = 100%), all for different number of mobile nodes used
in the simulation. The number of mobile nodes ranges from
10 to 100, for the 500x500 area and the mobile node
transmission range of 100 units, corresponds to the range of
32
AFIN 2011 : The Third International Conference on Advances in Future Internet
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-148-9

normalized node density δ of 1.6 to 16 [2]. The percentage is
calculated as a ratio of the total number of time units with
connection criteria satisfied (path exists between two
terminal nodes), to the total time. The results show that
increasing the node sleep time (i.e., lowering pon) impacts on
the connectivity in the network and has a similar effect to
changing the number of nodes in the network (note the
translation between two functions in Fig 2). The higher the
node density (or number of nodes in the network) the lower
the impact on QoS of introducing the sleep state at network
nodes. It should be noted that at higher node densities (e.g
more than 80 nodes over the area 500x500, or δ>15) the
connectivity stays at 100% whether or not the network nodes
enter the sleep state, as long as it happens infrequently
(Figure 3). This suggests that using nodes with variable sleep
times in networks with high redundancy (δ>15) would not
affect QoS while potentially extending the battery life of a
node, and consequently, the life time of the entire mobile
network.
0
10
20
30
40
50
60
70
80
90
100
10
20
30
40
50
60
70
80
90
100
Number of mobile nodes
Connectivity (%)
p_on=60%
p_on=80%
p_on=100%
Figure 2.  Comparison of M2ANET with variable sleep times, pon at 100%,
80%, and 60% .
n = 100
0
10
20
30
40
50
60
70
80
90
100
0
10
20
30
40
50
60
70
80
90
100
p_sleep = 1 - p_on (%)
Connectivity (%)
Figure 3.  M2ANET performance reduction at increased sleeping times.
 V. 
COMPARISON BETWEEN AODV AND DSR IN NS2
While the Java simulation above takes into account the
distance between nodes only, it does not account for the
difficulties in reestablishing the routes when nodes switch on
and off (i.e., enter sleep state) randomly.
We investigate the performance of two MANET
protocols when used in a M2ANET scenario with variable
node sleep times (pon = 80%, ON/OFF status of a node
reevaluated every 10 seconds). Each wireless mobile node
uses the default 802.11 parameters and has a transmission
coverage of approximately 125m x 125m. The random node
mobility for the experiments is generated using a node
movement generator “setdest” built into NS-2 [14]. The
setdest application generates a node movement file using the
random way-point algorithm. Data in the MANET are
transmitted from the source to the destination node over a
UDP connection at a constant bit rate (512 bytes sent every
0.1 seconds) and are generated using the NS-2 built-in CBR
traffic generator. Two routing protocols are used: Ad-hoc On
Demand Routing (AODV) [15] and Dynamic Source
Routing (DSR) [16]. The number of nodes used in the ad-hoc
network is varied from 30 to 70 (which corresponds to the
normalized node density δ of 4.8 to 11.2 [2]). Each
simulation is run for 50s and is repeated five times.
For performance comparison we define the delivery ratio
as a ratio of the number of packets successfully received at
the destination to the total number of packets sent from the
source. The source is sending packets at a constant rate
during the entire simulation experiment. As such the delivery
ratio shows how successfully the connectivity between two
nodes in a network is maintained (Figure 4). 100% packets
received indicates that the connectivity was available all the
time.
We attribute a slight advantage in the performance of the
AODV protocol to the specifics of our experiment and to a
different way the two protocols maintain and update the
route information. Since we have only one source node and
one destination in our network, it is only the source node that
caches the route to the destination when the DSR protocol is
used, while with AODV each node on the discovered route
0
10
20
30
40
50
60
70
80
90
100
30
40
50
60
70
Number of mobile nodes
Delivery ratio (%)
AODV
DSR
Figure 4.  Comparison of AODV and DSR protocol performance for
M2ANET with nodes with variable sleep times, pon at 80%..
33
AFIN 2011 : The Third International Conference on Advances in Future Internet
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-148-9

maintains a routing entry. When a link break occurs due to a
mobile node entering the sleep state (or simply getting out of
the transmission range), AODV may be able to reestablish
the route faster than DSR by reusing the existing routing
tables at some of the nodes (down stream from the break, or
by attempting a "local repair": sending RREQ from an
intermediate node), resulting in a higher delivery ratio.
 
VI. 
CONCLUSION
We introduced and demonstrated a new view of the
operation of a MANET, in which the mobile nodes form a
"cloud" of transmission nodes, and act as a transmission
medium. The performance metric for the M2ANET is
different form that of a typical network in that the
transmission nodes are solely facilitating the transmission
between the terminal nodes and are of no other value. The
routing nodes that are not in the path of the signal between
the terminal nodes do not influence the performance metric.
The network can tolerate switching the routing nodes on and
off periodically because the function supported by any
individual node can be easily and automatically replaced by
the routing protocol. The simulation shows that the
performance of the network with nodes with variable sleep
times is predicable: increasing the sleep time of a node has a
similar effect as reducing the total number of nodes. We
observed that in a network with many redundant nodes (high
normalized node density δ ) introduction of variable sleep
times for each network node has negligible effect on QoS
and over all network performance. The simulation showed
that AODV is better than DSR in a network with nodes with
variable sleep times (Figure 4).
 
VII. FUTURE WORK
More experimental work is required to investigate all
aspects of performance of M2ANETs with nodes with
variable sleep times: in particular we plan to investigate the
impact of the distribution of sleep times on M2ANETs with
different number of nodes. We also plan to investigate the
performance of the M2ANET theoretically, following the
approach presented in [11]. We hope to introduce new
routing protocols specific to M2ANETs in the future. We
would also like to investigate the role of the motion pattern
of the mobile nodes (forming a "cloud" of transmission
nodes) on M2ANET performance.
REFERENCES
[1] 
J. Macker and S. Corson, “Mobile ad hoc networks (MANET),” IETF
Working Group Charter, 1997. Available: http://www.ietf.org/
dyn/wg/charter/manet-charter.html. Accessed on May 20, 2010.
[2] 
J. DeDourek and P. Pochec, M2ANET: a Mobile Medium Ad Hoc
Network, Wireless Sensor Networks: Theory and Practice, WSN
2011, Paris, France, pp. 1 - 4, Feb. 2011.
[3] 
F. Bai, N. Sadagopan, B. Krishnamachary, and A. Helmy, "Modeling
Path Duration Distributions in MANETs and their Impact on Routing
Performance", IEEE Journal on Selected Areas of Communications
(JSAC), Vol. 22, No. 7, pp. 1357 - 1373, September 2004.
[4] 
M. S. El-azhari, O. A. Al-amoudi, M. Woodward, and I. Awan,
"Performance Analysis in AODV Based Protocols for MANETs",
IEEE 2009 International Conference on Advanced Information
Networking and Applications Workshops WAINA 2009, pp. 187 -
192, May 2009.
[5] 
N. S. M. Usop, A. Abdullah, and A. F. A. Abidin, " Performance
Evaluation of AODV, DSDV & DSR Routing Protocol in Grid
Environment", IJCSNS International Journal of Computer Science
and Network Security, Vol. 9, No. 7, pp. 261-268, July 2009.
[6] 
R. Misra and C. R. Mandal, "Performance comparison of
AODV/DSR on-demand routing protocols for ad hoc networks in
constrained situation", IEEE International Conference on Personal
Wireless Communications ICPWC 2005, pp. 86 - 89, May 2005.
[7] 
F. Yongsheng, W. Xinyu, and L. Shanping, " Performance
Comparison and Analysis of Routing Strategies in Mobile Ad Hoc
Networks", 2008 International Conference on Computer Science and
Software Engineering, pp. 505 - 510, 2008.
[8] 
K. Patel, J. DeDourek, and P. Pochec, "Investigation of Channel
Formation in a MANET", 2010 Fifth International Conference on
Systems and Networks Communications (ICSNC 2010), Nice,
France, pp 229-231, August 2010.
[9] 
E. Natsheh and K. Buragga, " Nodes Density and Broadcast
Management in Heterogeneous Environments of Mobile Ad-Hoc
Networks", Journal of Computer Science, 6 (3), pp. 312 - 319, 2010.
[10] E. M. Royer, P. M. Melliar-Smith, and L. E. Moser, "An analysis of
the optimum node density for ad hoc mobile networks", IEEE
International Conference on Communications ICC 2001, V. 3, pp.
857 - 861, June 2001.
[11] C. Bettstetter and J. Zangl, " How to achieve a connected ad hoc
network with homogeneous range assignment: an analytical study
with consideration of border effects", 4th International Workshop on
Mobile and Wireless Communications Network, pp. 125 – 129, Sept.
2002.
[12] C. Hua and T. P. Yum, "Asynchronous Random Sleeping for Sensor
Networks", ACM Transactions on Sensor Networks, Vol. 3, No. 3,
Article 15, pp. 1 – 25, August 2007.
[13] S. Kumar, T. H. Lai and J. Balogh, "On k-coverage in a mostly
sleeping sensor network", MobiCom'04, pp. 144 – 158, Sept. 26 –
Oct. 1, 2004.
[14] K. Fall and K. Vardhan, “The ns Manual (formerly ns Notes and
Documentation),” The VINT Project, UC Berkeley, LBL, USC/ISI,
and Xerox PARC, November 2003. Available: http://www.isi.edu/
nsnam/ns/doc/. Accessed on May 20, 2010.
[15] C. Perkins, E. Belding-Royer, and S. Das, “Ad hoc On-demand
Distance Vector (AODV) Routing”, RFC 3561, July 2003.
[16] D. Johnson, Y. Hu, and D. Maltz, “The Dynamic Source Routing
Protocol (DSR) for Mobile Ad Hoc Networks for IPv4”, RFC 4728,
2007.
[17] R. Bai and M. Singhal, "DOA: DSR over AODV Routing for Mobile
Ad Hoc Networks ", IEEE Transactions on Mobile Computing,
Volume: 5 Issue:10, pp. 1403 - 1416, Oct. 2006.
34
AFIN 2011 : The Third International Conference on Advances in Future Internet
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-148-9

