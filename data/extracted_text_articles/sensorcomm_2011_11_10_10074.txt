Live Data Acquisition for Situation Awareness in Trafﬁc Management Systems Using
Laser Sensors
Armin Veichtlbauer, Peter Dorﬁnger, Ulrich Schrittesser
Advanced Networking Center
Salzburg Research Forschungsgesellschaft m.b.H.
Salzburg, Austria
{ﬁrstname.lastname}@salzburgresearch.at
Abstract—Trafﬁc management systems help to organise the
more and more dense trafﬁc in cities. However, the classic
approach for such systems is the use of trafﬁc models, which
incorporate a long-term knowledge of trafﬁc situations in the
respective city. This approach is not adequate for reacting
to changes in trafﬁc, either long-term changes, which have
not been trained to the model, or short-term changes due to
unexpected events. In this paper, we describe how we collect
real-time trafﬁc data using a laser scanner, evaluate the preci-
sion of the trafﬁc measurements and assess the circumstances
under which the results are useable for a professional trafﬁc
management system.
Keywords-Situation Awareness, Sensor Data Acquisition, Ve-
hicle Counting, Trafﬁc Management.
I. INTRODUCTION
In modern cities trafﬁc is becoming a topic of more and
more controversial discussion: On the one hand the need for
transportation of people and goods from place A to place B
is still increasing [1], on the other hand this causes severe
problems, especially in cities with dense population (as
the most European cities are): congestion, pollution, noise,
etc. [2]. Trafﬁc management systems are used to optimise
the trafﬁc according to pre-deﬁned metrics. This is done for
instance by setting the time periods for green and red phases
of trafﬁc lights.
Yet in most cases, trafﬁc management systems are based
on static trafﬁc models only [3], i.e., static data that provide
statistical information about characteristic parameters like
trafﬁc density in an area, throughput of an intersection, rates
for different directions, etc. These information are provided
for several situations (e.g., rush hour, night trafﬁc, holidays,
etc.), and for each of these situations some optimisation
calculations can be performed.
For many operating trafﬁc management systems these
parameters are captured manually, e.g., by a person counting
cars passing a certain position [4]. This is an unfavourable
situation: First, the correctness of the data cannot be vali-
dated. Second, in order to integrate long-term trafﬁc changes,
the counting has to be re-done in regular intervals, and the
model has to be optimised again in order to adapt to the
changes of the regarded trafﬁc situations.
However the knowledge of the current distribution of
these parameters does not compensate for a situation aware-
ness including live trafﬁc data. To be able to include unex-
pected events like accidents or short-time changes like the
opening of a new shopping mall into the trafﬁc management
system, a real-time capable solution for sensing the current
trafﬁc situation is an indispensable precondition. A dynamic
trafﬁc management system is able to react to every change
detected, i.e., instead of making ofﬂine optimisations based
on measured trafﬁc data, the trafﬁc management system
reacts in real-time to the trafﬁc measurements, thus setting
up a closed-loop control [5]. This is called a dynamic trafﬁc
management system [3].
Such a system consists of the following logical distin-
guished parts:
• The sensing part: Several trafﬁc parameters of interest
for the trafﬁc management have to be measured, e.g.,
the number of vehicles passing per lane and per time
unit, the ratio of vehicles driving to the outgoing
directions of an intersection, the average time a vehicle
needs to drive from reference point A to reference point
B, the average pollution caused by vehicles, etc.
• The communication part: The sensed values have to be
collected in timely manner (with timing constraints).
Thus the underlying communication network, which is
used for transmitting the measured values to the control
part, has to be dependable [6].
• The control part: Dynamic trafﬁc management systems
use the sensed values under real-time conditions for the
respective trafﬁc management tasks (e.g., control trafﬁc
lights or dynamic speed limits) according to existing
rules [3].
• The actuator part: To inﬂuence the trafﬁc in order to
optimise the relevant trafﬁc parameters according to
a deﬁned strategy, the trafﬁc has to be controlled by
suitable actuators. Here, the trafﬁc lights are the easiest
way to inﬂuence trafﬁc in cities; dynamic speed limit
signs are used on highways; but also weak actuators can
be taken into account [7], like signs with the number
of free parking slots in city centres, etc.
268
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

During the project sTC-net [8] we worked on a proto-
typical solution of a dynamic trafﬁc management system.
The part of our group was the setup of a sensor system
and the collection of sensor data, which are usable as input
for a dynamic control system. This machine learning based
control system was set up by a partner company.
In this paper, we describe the trafﬁc sensing approach
we used, based on a single row laser scanner system. First
we give a brief overview of the state-of-the-art of scientiﬁc
work in this area. In the following section we describe the
architecture of the system we used to measure and collect
data (hardware, software, communication infrastructure).
The next section shows the trafﬁc counting algorithm, which
was implemented in Matlab [9], and how we validated the
output of that algorithm. This is followed by an overview
of the measurements we conducted with this system and the
results of the measurements. After that, we present some
conclusions that can be derived. Finally, we give an outlook
at possible further research and development activities.
II. RELATED WORK
There are several approaches for trafﬁc counting and for
sensing other trafﬁc parameters like average speed etc.:
Inductive loops; magnetic, piezo-electric and pneumatic
sensors; microwave, infrared and ultrasonic radars; optical
systems and ﬂoating car data (FCD).
For trafﬁc counting, laser scanners are a popular alterna-
tive, especially overhead mounted at highways [10]. Zhao
et.al. [11] propose to use horizontally mounted single row
laser scanners to monitor the trafﬁc at an intersection in a
city. The applicability of such an approach to our scenario
is limited, as a mounting at a height of less than one meter
has two main disadvantages: First, as the lasers can easily be
reached, they are potentially subject to vandalism. Second,
pedestrians waiting at a position near the laser devices are
“blocking” a large angle of the laser scanners.
Regarding trafﬁc management systems, there are ap-
proaches to integrate live sensor data into dynamic trafﬁc
management systems [3]. Such systems could also ex-
ploit the sensor information to adopt their rule base, i.e.,
the underlying trafﬁc model, by using machine learning
methods (e.g., artiﬁcial neural networks [12], or genetic
algorithms [13]).
For communication purposes, e.g., collecting the sensed
data, wireless networks provide an easy to deploy solu-
tion [14].
III. SYSTEM ARCHITECTURE
Existing trafﬁc counting solutions are using a large num-
ber of laser sensors. In typical installations [10], one laser
sensor is installed above each lane in order to count the
number of vehicles on this lane. In cities, it is often not
possible to install a metal carrier above the lanes due to
limited space. Consequently installing one laser per lane is
Figure 1: Intersection Salzburg Lehen
not feasible. Besides that, for larger intersections, e.g., with
12 individual lanes (3 lanes per direction), installing 12 laser
sensors is a cost factor that operators are not willing to pay
in many cases.
Our approach had the goal to sense the trafﬁc on an
intersection using a minimum number of laser devices and
to setup an installation with minimal costs, being accurate
enough to be used as input for a trafﬁc management system.
According to the requirements of the trafﬁc management
system of our partner a target value of 90% [8] for precision
and recall [15] is sufﬁcient. Here, precision is the ratio of
correctly counted vehicles compared to all counts; recall is
the ratio of correctly counted vehicles to all vehicles.
Figure 1 shows our installation at the intersection Ignaz-
Harrer-Str./Rudolf-Biebl-Str. in Salzburg Lehen. Two lasers
have been installed to count the vehicles to and from south
and partially vehicles from west (Lane 23) and to east (Lane
13). For sensing the complete trafﬁc on all lanes at the
chosen intersection, four lasers would be required. The lanes
are numbered according to the following scheme: The ﬁrst
digit is the number of the laser, and the second digit is a
running index. Lanes may be scanned by two lasers, having
two identiﬁcation numbers then, e.g., Lane 24 = Lane 16.
The lasers were mounted on existing trafﬁc light masts
in order to minimize the effort and costs for mounting. As
a consequence the position of the masts is not optimal for
the used lasers. Thus we expected to get a good estimation
under which circumstances (e.g., light, weather conditions)
the measurements fulﬁl the required precision and recall.
For validating the conducted measurements a camera
was installed. The camera’s resolution does not allow for
identifying the plates, but is sufﬁcient for counting.
Figure 2 visualizes the measurement architecture at the
chosen site. It consists of two lasers, three router boards
and one server:
269
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

Figure 2: Measurement architecture
1) Laser: The LMS111 [16] is a single row type laser
scanner from the company Sick with a high proﬁling
rate of 50 Hz and wide viewing angle of 270 degrees.
The LMS111 measures the distance to the reﬂecting
object for each laser beam. On black background, this
laser scanner has a maximum range of 18 m. The
stepsize between two laser beams is 0.5 degrees; thus
a single scan consists of 540 values. The last scan
is stored locally and can be transmitted to the server
upon request.
2) Routerboard: The Mikrotik Router Board 532A [17]
is a fully integrated communication platform for high-
speed, Ethernet and wireless networks with the Linux
based Mikrotik Router Operating System. It offers the
use of the R52 wireless module, which operates in 2.4
GHz and 5 GHz ranges.
3) Server: The server is a robust IP54 laptop with dual
core and Win XP operating system. It is placed inside
the intersection’s main control cabinet. An application
requests the laser measurement data in regular inter-
vals and relays the collected data to a MySQL database
on the laptop.
The lasers and the server are connected to the Router-
boards via Ethernet cables. In order not to inﬂuence any
other radio frequencies, the communication between the
Routerboards is done in the 5 GHz frequency range. The
embedded boards are installed in a splash-proof enclosure
mounted in the proximity of the sensors on the respective
trafﬁc light masts.
IV. ALGORITHM
Our system requires knowledge about the individual ge-
ometry at the intersection. The mounting heights of the
lasers as well as the horizontal distance from the laser to the
borders of the individual lanes have to be known. A further
step needed in initialization is to measure the ground, as the
shape of the ground is not necessarily even. Unevenness or
inclination of the ground inﬂuence the measurements and
have to be identiﬁed in advance.
This is done best by simply sensing the empty intersec-
tion: The laser measures the distances to the road surface
itself without any cars present. For places further away than
18 m from the sensor, we are not able to detect the road
surface any more. We are using linear extrapolation of the
detected surface then. This extrapolation only works for
almost horizontal intersections.
Our newly developed vehicle counting algorithm itself
consists of three major steps:
1) Pre-process the data for each lane
2) Count vehicles for each lane
3) Combine information from different lanes
Pre-processing the data sets is done as follows: Values,
which are further away than the current lane of interest, are
set to ground. Values, which are closer than the current lane
of interest are replaced by “NaN” (the Matlab value “Not a
Number”) [9], as it is uncertain whether there is a vehicle
behind this obstacle or not.
For the vehicle counting algorithm, the pre-processed data
is used for each lane of interest. For each measurement value
(which is representing the distance from the laser scanner
to the reﬂection point) the height of the corresponding
obstacle is derived, using a trigonometric calculation (cosine
function) with the current angle of the laser beam and the
height of the laser sensor as inputs.
Figure 3 shows 200 consecutive scans on a speciﬁc lane of
interest. The color scheme changes from dark red for max-
imum distance to dark blue for minimum distance. White
ﬁelds indicate that no value has been retrieved (NaN). The
ﬁgure shows three cars passing the lane, where especially for
Car 1 and Car 3 only a small number of measurement values
have been retrieved. For the measurements on this lane an
angle of 22 degrees is of interest; thus we are concentrating
on the respective 45 scan points.
Due to the plain surface of cars and the acute measure-
ment angle of the objects, many measurements do not pro-
duce correct values (NaN). As a consequence the algorithm
has to detect a car even if it is represented by NaNs and
not only by respective measurement values (i.e., smaller
distances between laser and reﬂection point than for the
ground). This can be observed for instance for Car 2.
Figure 4 shows same plot as Figure 3, but after determi-
nation of the height (above ground) of each individual scan
point.
To deal with the NaN values a linear interpolation is used.
The results of such an interpolation for the above example
are shown in Figure 5. These interpolated values are used
for classiﬁcation.
270
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

Figure 3: Representation of three cars (distance)
Figure 4: Representation of three cars (height)
Figure 5: Representation of three cars (interpolated)
Figure 6: Representation of a pedestrian
In comparison to a car, a pedestrian leads to a smaller
representation, as indicated in Figure 6.
A scan is classiﬁed in one of three categories:
• “Car Scan”: This scan provides an indication for a
vehicle
• “Clear Scan”: The measurement reﬂects that there is no
vehicle present on the lane
• “Unsure Scan”: For this scan it cannot be determined
whether a vehicle is present or not
A scan is classiﬁed as Car Scan, if two characteristics are
met: First there has to be at least one block (of a pre-deﬁned
length) of (consecutive) values greater than zero. Second the
average height within this block has to exceed the MinHeight
threshold.
For classiﬁcation as Clear Scan two other characteristics
have to be met: First the average height has to be below the
NoiseHeight threshold or the average is based on less than
5 values (the rest is interpolated). Second the NaN fraction
(number of NaN values divided by the number of scan points
for this lane) has to be below MaxNaNtoClear.
An Unsure Scan is one that falls into none of the above
categories.
In our prototypical implementation the MinHeight thresh-
old is set to 250 mm and the NoiseHeight threshold is set
100 mm. The value of MaxNaNtoClear depends on the lane
and is conﬁgured between 0.2 and 0.9.
To count a detection as car, three Car Scans without a
Clear Scan in between have to be present. Each Car Scan
increases the CarIndicationCount whereas a Clear Scan
resets this variable to 0. An Unsure Scan does not change
the CarIndicationCount.
For trafﬁc management systems it is important to consider
the fraction of large vehicles like trucks or buses compared
to the total number of vehicles. Thus our algorithm adds
a further category for the scans, which is based on the
maximum height value within one lane: A Truck Scan.
271
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

Right turn
0
20
40
60
80
100
120
7,00 10,00 13,00 16,00 19,00 22,00 1,00
4,00
7,00 10,00 13,00 16,00 19,00 22,00 1,00
4,00
7,00 10,00 13,00 16,00 19,00 22,00
Time
Counts
Figure 7: Right-Turn Lane 23 to 24
This is a subcategory of a Car Scan, where additionally the
maximum height exceeds 2750 mm. If we count ﬁve scans
as Truck Scan (using the variable TruckIndicationCount),
without a Clear Scan in between, the vehicle is classiﬁed as
truck or bus; otherwise it is assumed to be a car.
After the counts of the separate lanes have been ﬁnished,
the measurements can be combined in order to improve the
rate of correctly measured turns. Lane 23 for instance is
solely intended for right turns only; nevertheless it occurs
that cars on this lane go straight ahead. To correct the count-
ing for such (misbehaving) vehicles, we combine counts on
Lane 23 and Lane 24: If within Z seconds after a vehicle
was counted on Lane 23 there is no count on Lane 24, this
item is removed from the number of right turning vehicles,
as it probably was (illicitly) moving straight ahead. The
parameter Z has to be adjusted according to the intersection’s
geometry.
Furthermore the validation process has shown that trucks
and buses, which perform a right turn from Lane 23 to Lane
24 trend to sheer out to Lane 25, thus making a passing
of two trucks/buses at the same time impossible. Thus
whenever a truck/bus is counted on Lane 24, a truck/bus
count from Lane 25 within a given time range is removed.
An important design goal was that the ability of the
algorithm to be able to operate live, with a delay small
enough to enable the trafﬁc control in time. Thus we decided
that the counting algorithm should basically operate on
single scans. As mentioned, it only uses two status variables
(CarIndicationCount and TruckIndicationCount) to proceed
information between different scans. In practice, for trafﬁc
management systems a typically used counting granularity
is 15 min.
V. MEASUREMENTS
We have performed a number of measurements on the
intersection shown in Figure 1. The measurements were
performed under different environmental inﬂuences: We
have taken into account different weather conditions, day
and night, as well as high and low load situations.
MEAS.
LANE 23
LANE 24
RIGHT TURN
PREC.
RECALL
PREC.
RECALL
PREC.
RECALL
M1
99.1
100
98.8
100
100
100
M2
100
100
100
100
100
99.1
M3
100
100
97.3
98.6
100
100
M4
97.7
100
97.0
98.8
100
99.2
Table I: Results for different conditions
LANE 25A
LANE 15B
LANE 14
LANE 13
RIGHT
TURN
PREC.
98.3
98.9
100
91.1
100
RECALL
96.7
98.9
100
99.5
98.5
Table II: Results for different lanes
We performed 4 different measurements with a length of
about 20 min each, and analysed the classiﬁcation results
compared with a manual counting based on the camera
movie. Measurement M1 was performed at a high load
situation in the morning with good weather conditions, M2
at a high load situation during snowfall, M3 at a low load
situation in the night and M4 at a high load situation with
sun in the afternoon. Furthermore we conducted a long-term
measurement for 3 consecutive days. For the latter, Figure 7
shows the number of counted right turns.
As evaluation metrics, we use precision and recall [15].
Table I shows precision and recall for the counts on Lane
23 and Lane 24 as well as for the number of right turns.
Precision and recall are close to 100% and comply with the
requirement to exceed 90%.
We further evaluated the ability to count trafﬁc on further
lanes including interior lanes (e.g., Lane 15/25) where it
is likely that an object on an exterior lane inﬂuences the
measurement. Table II shows the results of these lanes based
on Measurement M4.
These results show that also trafﬁc on interior lanes can be
counted with the needed precision and recall. Yet the values
are lower due to inﬂuences of exterior lanes. Lane 15 resp.
25 is a split lane where the left part is used for left turns,
and the right part to go straight ahead. Thus we split this
lane also for our counting algorithm. We used the respective
nearer lasers: Laser 2 for the left part (Lane 25A), Laser 1
for the right part (Lane 15B).
We observed a lower precision (yet still above 90%)
for Lane 13: This is due to the mounting position of the
laser; the laser beam crosses the cross-walk in the region
of interest. It may occur that pedestrians or groups of
pedestrians are counted as cars. This problem increases with
the distance between the laser and the area of interest, as the
angle gets more acute and thus laser beams reach the side of
the car/pedestrian and not the roof of a car. However, these
wrong counts for the pedestrians can be easily removed by
post processing, e.g., by mapping incoming and outgoing
272
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

trafﬁc together (like it was performed for Lanes 23 and 24)
or by simply taking into account the current phase of the
trafﬁc lights.
For interior lanes, which are further away from the laser
devices, the counting algorithm does not obtain the required
precision and recall of 90%; thus for counting Lane 11, 12,
or 22 further lasers would have to be installed. The reason
for these limits of the applicability of the laser devices is,
that (besides the limited distance the laser is able to measure)
the angle between laser beam and moving object gets too
acute to obtain enough correct measurement values.
VI. CONCLUSION
We have shown the ability and the potential of the
examined technology to work as a trafﬁc sensor, measuring
the number of two different categories of vehicles (cars
vs. buses or trucks) passing a control point in a deﬁned
measurement period. The required measurement precision
and recall (90%) have been reached, yet both values turned
out to be very much dependent on the angle between laser
and street surface and on the distance between device and
the reﬂecting point.
VII. FURTHER WORK
An automatic adaptation to different geometries of in-
tersections would help to reduce the effort of installing
sensor systems at new intersections. This has potential to
be researched in follow-up projects.
Another unsolved question is the integration of sensors
and actuators from third-party providers by generating a
generic interface in order to enhance the situation awareness
of the trafﬁc management system and to enable alternative
control mechanisms to red lights and speed limits. For
instance the integration of FCD could help to identify
regions of high trafﬁc density and slow speed. If drivers get
informed of the current trafﬁc situation this could enable
them to avoid these regions for the time being.
ACKNOWLEDGMENT
The work described in this paper was conducted during
the project ”Subsidiary Trafﬁc Control Network” (sTC-net)
funded by the Austrian Federal Ministry for Transport,
Innovation and Technology.
REFERENCES
[1] The
Austrian
Federal
Ministry
for
Trafﬁc,
Innivation
and Technology (BMVIT), “Klug investieren, verantwor-
tungsvoll sparen - Ausbauplan Bundesverkehrsinfrastruktur
2011–2016,” 2009.
[2] M. Finkelstein, M. Jerrett, and M. Sears, “Trafﬁc Air Pollu-
tion and Mortality Rate Advancement Periods,” in American
Journal of Epidemiology, pp. 173-177, 2004.
[3] Q. Yang, “A Simulation Laboratory for Evaluation of Dy-
namic Trafﬁc Management Systems,” Doctoral Thesis, Mas-
sachusetts Institute of Technology, June 1997.
[4] Ad
Hoc
News.
(2010,
April)
Verkehrsza-
ehlung
2010
hat
begonnen.
Accessed:
2011-03-
30.
[Online].
Available:
http://www.ad-hoc-news.de/
verkehrszaehlung-2010-hat-begonnen--/de/News/21208522
[5] M. Papageorgiou, C. Diakaki, V. Dinopoulou, A. Kotsialos,
and Y. Wang, “Review of road trafﬁc control strategies,” in
Proceedings of the IEEE., 91 (12), pp. 2043-2067, 2003.
[6] G.
Panholzer,
A.
Veichtlbauer,
P.
Dorﬁnger,
and
U.
Schrittesser, “Simulation of a Robust Communication Proto-
col for Sensor Data Acquisition,” in Proceedings of the Sixth
International Conference on Wireless and Mobile Communi-
cations (ICWMC 2010), pp. 145-150, September 2010.
[7] M. Vasirani and S. Ossowski, “Market-based coordination
for intersection control,” in Proceedings of the 2009 ACM
symposium on Applied Computing, pp. 747-751.
ACM
Digital Library, 2009.
[8] Salzburg
Research
Forschungsg.m.b.H.
(2011)
sTC-
net
–
Intelligente
Sensoren
im
Verkehrsmanagement.
Accessed:
2011-03-23.
[Online].
Available:
http://www.
salzburgresearch.at/projekt/stc-net/
[9] The MathWorks, Inc. (2011) MATLAB - The Language
Of Technical Computing. Accessed: 2011-03-23. [Online].
Available: http://www.mathworks.com/products/matlab/
[10] Road
Trafﬁc
Technology.
(2011)
AutoSense
Truck
Body
Classiﬁer.
Accessed:
2011-03-31.
[On-
line].
Available:
http://www.roadtrafﬁc-technology.com/
contractors/detection/osi/osi3.html
[11] H. Zhao, J. Cui, H. Zha, K. Katabira, X. Shao, and R.
Shibasaki, “Monitoring an intersection using a network of
laser scanners,” in Proceedings of IEEE Int. Conf. on Intelli-
gent Transportation Systems (ITSC 08), pp. 428-433, 2008.
[12] K. Dresner and P. Stone, “Multiagent Trafﬁc Management: An
Improved Intersection Control Mechanism,” in Proceedings
of the Fourth International Joint Conference on Autonomous
Agents and Multiagent Systems 2005 (AAMAS 2005), pp.471-
477.
ACM Digital Library, July 2005.
[13] K. Fikse, “Accelerating the Search for Optimal Dynamic
Trafﬁc Management,” Master Thesis, University of Twente,
January 2011.
[14] D. Curiac and C. Volosencu, “Urban Trafﬁc Control System
Architecture Based on Wireless Sensor-Actuator Networks,”
in Proceedings of the 2nd International Conference on Man-
ufacturing Engineering, Quality and Production Systems, pp.
259-263, September 2010.
[15] C. D. Manning, P. Raghavan, and H. Sch¨utze, Introduction to
Information Retrieval, 1st ed.
Cambridge University Press,
July 2008.
[16] SICK
AG.
(2011)
LMS100
and
LMS111.
Accessed:
2011-03-29.
[Online].
Available:
http://www.sick.com/us/en-us/home/products/product
news/laser measurement systems/Pages/lms100.aspx
[17] MikroTik.
(2011)
Routerboard.
Accessed:
2011-04-01.
[Online]. Available: http://www.routerboard.com/rb500.html
273
SENSORCOMM 2011 : The Fifth International Conference on Sensor Technologies and Applications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-144-1

