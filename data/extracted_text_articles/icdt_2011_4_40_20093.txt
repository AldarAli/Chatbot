UEP for Wireless Video Streaming Using Spatially Multiplexed MIMO System With
a Suboptimal Joint Detection
Sanghyun Bak and Jaekwon Kim
Computer and Telecomun. Engineering Division
Yonsei University,Wonju, Republic of Korea
Email: jaekwon@yonsei.ac.kr
Abstract‚ÄîRecently, unequal error protection (UEP) tech-
niques for video transmission over multiple-input multiple-
output (MIMO) wireless channel have been actively researched.
Spatially multiplexed (SM) MIMO system with joint detection
achieves a good bit error rate (BER) performance as well as a
high data rate, however, UEP can not be implemented because
all the physical (PHY) layer signals are jointly detected. In
transmitting video streams, peak signal to noise ratio (PSNR)
is important rather than BER, and it is well known that
PSNR is improved by UEP. In this paper, we propose an UEP
technique for wireless video streaming using SM MIMO system
with a suboptimal joint signal detection method. Computer
simulations demonstrate that the PSNR performance of QR-
LRL-based UEP, that is computationally very efÔ¨Åcient when
compared with the conventional optimal maximum likelihood
(ML) detection, is slightly better than that of the optimal ML
detection that is considerably more computation intensive.
Keywords-UEP, H.264/AVC, MIMO, Joint Detection, ML,
Spatial Mutiplexing.
I. INTRODUCTION
Video streaming service in wireless environments is a
challenging task that requires both high data transmission
speed and high transmission reliability [1]. Wireless channel
is characterized by limited spectral bandwidth, limited trans-
mit power, and unstable channel gains [2]. Consequently,
error-resilient video streaming at a high speed using these
limited resources is a demanding task in wireless video
communications.
A popular application (APP) layer H.264/AVC was de-
signed to enable network-friendly video streaming as well
as enhanced compression efÔ¨Åciency [1]. Various error re-
siliency schemes can be used for H.264/AVC video stream-
ing such as semantics, syntax error detection, data partition-
ing (DP), slice interleaving, Ô¨Çexible macro-block ordering
(FMO), parameter set sharing, and error concealment tech-
niques [3]. However, all these error resiliency schemes are
APP layer schemes that do not consider physical (PHY)
layer systems. There have been several previous works
addressing APP-PHY cross layer design.
In the APP-PHY cross layer design approaches in [4]
and [5], an orthogonal space-time block code (OSTBC) was
adopted for multiple-input multiple-output (MIMO) systems
[6]. The OSTBC MIMO system, however, does not increase
data transmission speed when compared with the traditional
single antenna PHY system [7]. Due to the low transmission
speed, MIMO system using an OSTBC seems not suitable
for real time video streaming.
In [8], an implicit unequal error protection (UEP) tech-
nique for video streaming over MIMO wireless channel
was proposed. Spatially multiplexed (SM) MIMO system
provides
N
min
=
min(N
T
;
N
R
) virtual subchannels, where
N
T is the number of transmit antennas and
N
R is the number
of receive antennas, thereby
N
min times higher data trans-
mission speed than single antenna PHY system. When linear
signal detection is used as in [8], the virtual subchannels
show different transmission reliability, i.e, signal-to-noise
ratio (SNR). In [8], UEP is achieved implicitly by assigning
a APP video stream of higher priority to a PHY subchannel
with higher reliability. In [9], a transmission power for mul-
tiple transmit antennas was also controlled to further beneÔ¨Åt
from MIMO systems. In these two previous works, however,
linear signal detection methods were considered that offer
severely degraded error performance when compared to a
joint signal detection method.
In this paper, we propose an UEP technique for prioritized
video streaming, assuming SM MIMO system with a sub-
optimal joint signal detection method QR-decomposition-
least-reliable-layer (QR-LRL). There are various joint de-
tection methods such as sphere decoding (SD) [10], QR-
decomposition-M-algorithm-maximum likelihood detection
(QRM-MLD) [11], lattice reduction aided detection (LRAD)
[12], and optimal ML signal detection [13]. From the
perspective of video streaming, the main problem of using
joint signal detection is that all the signals from multiple
antennas are jointly detected, thus the transmission reliability
of all PHY subchannels are not differentiated. Consequently,
UEP for prioritized video streaming exploiting the reliability
information of subchannels is not allowed. In this paper, we
show that the suboptimal joint detection method QR-LRL in
[14] can be used for UEP. The QR-LRL is a computationally
efÔ¨Åcient but suboptimal joint detection method, thus the
average BER performance is inferior to that of ML signal
detection. The PSNR performance of QR-LRL, however,
91
ICDT 2011 : The Sixth International Conference on Digital Telecommunications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-127-4

is slightly superior to that of the ML detection as will be
demonstrated in the simulation section.
II. SYSTEM MODEL
The developed APP-PHY cross layer system, illustrated
in Fig. 1, is described in this section. The APP layer of the
system is based on the H.264/AVC encoder, which delivers
network abstraction layer (NAL) unit streams. In Fig. 1,
X
f
;s;m
;
f
=
1;
2;



;
F
;
s
=
1;
2;



;
S;
m
=
1;
2;



;
M
stands for the
m-th macroblock in the
s-th slice of the
f-th frame, where
F is the number of frames,
S is the
number of slices in a frame, and
M is the number of
macroblocks in a slice. The notation
^
X
f
;s;m in Fig. 1 denotes
the compressed macroblock that is different from
X
f
;s;m
due to quantization in the process of compression. In this
paper, a slice or a NAL packet was considered as a single
PHY packet. Each PHY packet is 31-bit cyclic redundancy
check (CRC) encoded. Then, when SM MIMO system is
assumed, NAL units or PHY packets are assigned to transmit
antennas of appropriate reliability. At the receiver side,
N
T
PHY packets are jointly detected. Then, the CRC parity bits
are used to determine if each packet is received safely. The
acknowledgement (ACK) or not ACK (NACK) information
is passed to the APP layer. If NACK for a slice is received,
the APP layer does not try to decode the slice but perform
an error concealment for the slice. Transmission of sequence
parameter set (SPS) and picture parameter set (PPS) NAL
units are assumed error-free.
We consider MIMO systems with
N
T transmit antennas
and
N
R
(
N
T
) receive antennas. Let
x
=
[x
1
x
2



x
N
T
‚ÑÑ
T
denote the transmit signal vector, where
x
i
;
i
=
1;
2;
:
:
:
;
N
T
is the transmitted signal from the
ith transmit antenna;
y
=
[y
1
y
2



y
N
R
‚ÑÑ
T denotes the received signal vector, where
y
j
;
j
=
1;
2;
:
:
:
;
N
R is the received signal at the
jth receive
antenna;
H with dimension of
N
R

N
T denotes the channel
gain matrix, of which entry
h
j;i
;
j
=
1;
2;
:
:
:
;
N
R
;
i
=
1;
2;
:
:
:
;
N
T is the channel gain between the
ith transmit
antenna and the
jth receive antenna;
z
=
[z
1
z
2



z
N
R
‚ÑÑ
T
denotes the noise vector, where
z
j
;
j
=
1;
2;
:
:
:
;
N
R is
assumed to be zero mean complex white Gaussian with
variance of

2
z. Then the MIMO system can be described
as follows.
y
=
r
E
x
N
T
Hx
+
z:
(1)
In this paper, we assume independent and identically
distributed (i.i.d.) Rayleigh fading channel gains, and ideal
channel estimation at the receiver side.
III. UNEQUAL ERROR PROTECTION USING MIMO PHY
SYSTEMS
In this section, two previous UEP techniques are de-
scribed, and we propose a novel UEP technique exploiting
SM MIMO systems with a suboptimal joint detection.
A. UEP Using OSTBC MIMO System
In [4] [5], the orthogonal space-time block code
G
4 in [6]
was used assuming 4 transmit antennas, i.e.,
N
T
=
4. Then,
assuming 4 receive antennas, i.e.,
N
R
=
4, and collecting
the received signals during 4 symbol periods, the received
signal matrix
Y
2
C
44 is expressed as
Y
=
r
E
x
3
HX
OSTBC
+
Z:
(2)
where
y
j;n
;
j
=
1;
2;
3;
4;
n
=
1;
2;
3;
4, the
(j;
n)th entry
of
Y, denotes the received signal at the
jth receive antenna
during the
nth symbol period; the noise matrix
Z
2
C
44
is composed of entries
z
j;n
;
j
=
1;
2;
3;
4;
n
=
1;
2;
3;
4, that
denotes the noise at the
jth receive antenna during the
nth
symbol period; the space-time coded signal is given as
X
OSTBC
=
2
6
6
4
x
1

Figure 1.
APP-PHY cross layer system.
G
4 is
3=4 symbols per channel use and that of SISO system
is 1 symbol per channel use. We argue that the low data
transmission speed of OSTBC MIMO system renders itself
not suitable for video streaming service, which necessitates
the SM MIMO system that is addressed in the following
section.
B. UEP Using SM MIMO Systems with Linear Signal De-
tection
In [8][9], SM MIMO systems were used to provide UEP
for prioritized video streaming. The considered detection
methods in [8][9] are linear equalizers such as zero-forcing
(ZF) or minimum mean squared error (MMSE) . If ZF or
MMSE equalizer is used and when
N
T
=
N
R
=
4, the
corresponding weight matrices are
W
ZF
=

0
5
10
15
20
25
30
35
40
45
50
10
‚àí3
10
‚àí2
10
‚àí1
10
0
Eb/No (dB)
PER
 
 
OSTBC
MMSE subch( r = 1)
MMSE subch( r = 2)
MMSE subch( r = 3)
MMSE subch( r = 4)
Figure 2.
PER performance of OSTBC MIMO and SM MIMO with the
linear MMSE detection.
^
x
M
L
=
arg
min
x2C
4





y

can be also observed that the four subchannels of QR-LRL
have differentiated transmission reliability.
10
12
14
16
18
20
22
24
10
‚àí3
10
‚àí2
10
‚àí1
10
0
Eb/No (dB)
PER
 
 
Conventional ML
QR‚àíLRL average
QR‚àíLRL subch( r = 1)
QR‚àíLRL subch( r = 2)
QR‚àíLRL subch( r = 3)
QR‚àíLRL subch( r = 4)
Figure 3.
PER performance of the suboptimal QR-LRL and the conven-
tional ML. The performance of conventional ML and QR-LRL subch(r
=
2) are almost identical. Also, the average PER of QR-LRL is almost the
same as the QR-LRL subch(r
=
3).
IV. SIMULATION RESULTS
In this section, we perform a set of computer simulations
to show the improved PSNR performance by the proposed
UEP technique based on QR-LRL. Reference software
JM16.0 was used for encoding and decoding of H.264/AVC
video stream. The total number of frames
F
=
256, GOP
size is 4, 30 frames per second (fps) Foreman video in CIF
resolution was used, the number of slices in a frame
S=4,
and a slice is composed of 99 macroblocks, IDR period
and I period are the same as 4. QP of I and P slices are
set as 28, and no B slice was used. The search range for
motion vector estimation is
16 pixels with resolution of
1=4 pixel, the number of reference frame for motion vector
estimation was set to 1, entropy coding of CABAC was used.
The transmission of the Ô¨Årst GOP was also assumed error-
free for a simple implementation of error concealment that
copies a previous slice. In PHY layer, 16-QAM constellation
was used, 31 bit CRC parity bits based on the polynomial
X
31
+
X
30
+
X
26
+
X
24
+
X
18
+
X
15
+
X
14
+
X
12
+
X
11
+
X
10
+
X
8
+
X
6
+
X
5
+
X
4
+
X
3
+
X
+
1 are used to
check if a slice or a PHY pacekt was successfully received.
If NACK is detected, the NACK information is passed to
APP layer that does not try to decode but instead copy a
recent slice.
Fig. 4 compares the PSNR performance of the two
schemes at
E
b
=
N
0
=
22(dB), the conventional ML and
the suboptimal QR-LRL-based UEP. The PSNR in Fig. 4
is the average of 7 PSNRs for 7 different set of i.i.d. PHY
channel gains and noises. It can be seen that the suboptimal
QR-LRL-based UEP achieves a better performance than the
conventional ML detection. Thus it can be stated that a
better average PER performance does not guarantee a better
PSNR performance. We note that the conventional optimal
ML detection requires
jC
j
4 times ML metric calculations,
while the suboptimal QR-LRL requires only
jC
j times ML
metric calculations.
V. CONCLUSION
In this paper, we proposed a novel UEP technique for
prioritized video streaming over SM MIMO systems with a
suboptimal joint detection. OSTBC MIMO system and SM
MIMO system with linear signal detection suffer from a low
data transmission speed and a degraded PER performance,
respectively. SM MIMO system with joint detection achieves
both high transmission speed and high transmission reliabil-
ity, however, UEP is not allowed in general. We showed the
suboptimal joint detection method QR-LRL can be used to
implement UEP. With the aid of computer simulations, we
demonstrated that the PSNR by the suboptimal QR-LRL,
requiring only
jC
j times ML metric calculations, is slightly
superior to that by the conventional optimal ML detection
that requires
jC
j
4 times ML metric calculations, when the
number of transmit antenna is 4.
REFERENCES
[1] T. Wiegand, G. J. Sullivan, G. Bjontegaard, and A. Luthra,
‚ÄúOverview of the H.264/AVC video coding standard,‚Äù IEEE
Trans. Circuits Syst. Video Technol., vol. 13, no. 7, pp. 560-
576, July 2003.
[2] T. Stockhammer,
M. M. Hannuksela,
and T. Wiegand,
‚ÄúH.264/AVC in wireless environments,‚Äù IEEE Trans. Circuits
Syst. Video Technol., vol. 13, no. 7, pp. 657-673, July 2003.
[3] S. Kumar, L. Xu, M. K. Mandal, and S. Panchanathan, ‚ÄúError
resiliency schemes in H.264/AVC standard,‚Äù J. Vis. Commun.
Image R., April 2006.
[4] M. K. Jubran, M. Bansal, and L. P. Kondi, ‚ÄúLow-delay low-
complexity bandwidth-constrained wireless video transmission
using SVC over MIMO systems,‚Äù IEEE Trans. Multimedia,
vol. 10, no. 8, pp. 1698-1707, Dec. 2008.
[5] M. K. Jubran, M. Bansal, and L. P. Kondi, ‚ÄúAccurate distortion
estimation and optimal bandwidth allocation for scalable H.264
video transmission over MIMO systems,‚Äù IEEE Trans. Image
Process., vol. 18, no. 1, pp. 106-116, Jan. 2009.
[6] V. Tarokh, N. Seshardi, and A. Calderbank, ‚ÄúSpace-time block
codes from orthogonal designs,‚Äù IEEE Trans. Inform. Theory
, vol. 45, no. 6, pp. 1456-1467, July 1999.
[7] S. Sanhdu and A. Paulraj, ‚ÄúSpace-time block codes: a capacity
perspective,‚Äù IEEE Commun. Letters., vol. 4, no. 12, pp. 384-
386, Dec. 2000.
[8] S. Song and C. W. Chen, ‚ÄúScalable H.264/AVC video trans-
mission over MIMO wireless systems with adaptive channel
selection based on partial channel information,‚Äù IEEE Trans.
Circuits Syst. Video Technol., vol. 17, no. 9, pp. 1218-1226,
Sept. 2007.
95
ICDT 2011 : The Sixth International Conference on Digital Telecommunications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-127-4

50
100
150
200
250
28
30
32
34
36
38
40
42
frame index ( f )
YPSNR(dB)
QR‚àíLRL‚àíbased UEP
Conventional ML
Figure 4.
PSNR performance of the conventional ML and QR-LRL-based UEP.
[9] D. Song and C. W. Chen, ‚ÄúMaximum-throughput deliery
of SVC-based video over MIMO systems with time-varying
channel capacity,‚Äù J. Vis. Commun. Image R., pp. 520-528,
2008.
[10] E. Viterbo and J. Boutros, ‚ÄúA universal lattice code decoder
for fading channels,‚Äù IEEE Trans. Inf. Theory, vol. 45, no. 5,
pp. 1639-1642, July 1999.
[11] K. J. Kim and J. Yue, ‚ÄúJoint channel estimation and data
detection algorithms for MIMO-OFDM systems,‚Äù Proc. 36th
Asilomar Conf. Signals, Syst., Comput., pp. 295-300, 2002.
[12] D. Wubben, R. Bohnke, V. Kuhn, and K.-D. Kammeyer,
‚ÄúNear-Maximum- Likelihood Detection of MIMO Systems
using MMSE-Based Lattice- Reduction,‚Äù Proc. IEEE Int. Conf.
Commun., vol. 2, pp. 798-802, June 2004.
[13] Y. S. Cho, J. Kim, W. Y. Yang, and C. G. Kang, MIMO-
OFDM Wireless Communications with MATLAB, Wiley and
Sons, 2010.
[14] S. Bahng, Y. Park, and J. Kim, ‚ÄúQR-LRL signal detection for
spatially multiplexed MIMO systems,‚Äù IEICE Trans. Commun.,
vol. E91-B, no. 10, pp. 3383-3386, Oct. 2008.
[15] G. J. Foschini, ‚ÄúLayered Space-Time Architecture for Wire-
less Communication in a Fading Environment When Using
Multiple Antennas,‚Äù Bell Labs Tech. J., vol. 1, no. 2, pp. 41-
59, 1996.
[16] R. Narasimhan, ‚ÄúError propagation analysis of VBLAST with
channel-estimation errors,‚Äù IEEE Trans. Commun., vol. 53, no.
1, pp. 27-31, 2005.
96
ICDT 2011 : The Sixth International Conference on Digital Telecommunications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-127-4

