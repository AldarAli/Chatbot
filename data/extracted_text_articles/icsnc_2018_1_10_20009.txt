M2ANET Performance under Multiple Competing Data Flows 
Oluwatola Ayansiji, John DeDourek, Przemyslaw Pochec  
Faculty of Computer Science 
University of New Brunswick 
Fredericton, Canada 
e-mail: { tola.ayansiji, dedourek, pochec}@unb.ca 
 
 
Abstract—A Mobile Ad hoc Network (MANET) is a network of 
wireless mobile devices capable of communicating with one 
another without any reliance on a fixed infrastructure. A Mobile 
Medium Ad hoc Network (M2ANET) is a set of mobile 
forwarding nodes functioning as relays for facilitating 
communication between the users of this Mobile Medium. The 
performance of a Mobile Medium depends not only on the 
forwarding node density, their distribution and movement but 
also is affected by the traffic load present in the Medium. The 
traffic in the Mobile Medium may be due to multiple users using 
the Medium or due to rogue users performing a Denial of 
Service (DOS) attack. We investigate the performance of a 
Mobile Medium serving multiple users under different routing 
protocols, focusing on the performance of the Ad hoc On-
demand Distance Vector (AODV) routing protocol. The 
simulation results show that the packet delivery is only 
moderately affected (Packet Delivery Ratio (PDR) dropped 
form 93% to 83% in the sample network) by the presence of a 
competing flow in the Medium, due to the resilience of ad hoc 
networks. On the other hand, in the same network, the packet 
delay is affected significantly (four fold increase in packet delay, 
from 0.2s to 0.8s, in the sample network).  
 
Keywords-MANET; M2ANET; performance; delivery ratio; 
delay; multiple data flows; DOS. 
 
I. 
INTRODUCTION 
A MANET is a set of mobile devices that cooperate with 
each other by exchanging messages and forwarding data [1]. 
A Mobile Medium Ad hoc Network (M2ANET) proposed in 
[2] is a particular configuration of a typical MANET where 
all mobile nodes are divided into two categories: (i) the 
forwarding only nodes forming the so called Mobile 
Medium, and (ii) the communicating nodes, mobile or 
otherwise, that send data and use this Mobile Medium for 
communication. The advantage of this M2ANET model is 
that the performance of such a network is based on how well 
the Mobile Medium can carry the messages between the 
communicating nodes and not based on whether all mobile 
nodes form a fully connected network. An example of a 
M2ANET is a cloud of autonomous drones released over an 
area of interest facilitating communication in this area. The 
movement of nodes in a M2ANET can be preplanned by the 
user, selected at random or purposefully controlled for the 
best network performance. When the mobile nodes are 
designed to guide their movement themselves, we call such a 
network a Self-organizing Mobile Medium Ad hoc Network 
(SMMANET) [3]. 
As in any network, the performance depends on many 
factors: link data rates, protocol used and, for MANET type 
networks, node density and movement pattern. The traffic 
pattern and network congestion will also have an impact on 
M2ANET performance. In this paper, we set out to 
investigate the effect of additional users on M2ANET 
performance. These new users can be legitimate users of the 
M2ANET or even some rogue nodes purposely interfering 
with legitimate M2ANET operations. 
In Section II, we present background on M2ANETs and 
their operation. The simulation experiment investigating the 
presence of multiple flows in a M2ANET on its performance 
is presented in Section III, with results analyzed in Section 
IV. The conclusion is in Section V. 
II. 
STATE OF THE ART 
We introduced the concept of a Mobile Medium in our 
seminal paper on M2ANETS in 2011 [2]. A M2ANET 
realizes the connection between two hosts with the cloud of 
nodes serving as the data communication medium (aka 
Mobile Medium) and forming the communication channel. 
Any particular connection in the Medium does not matter as 
long as the channel between communicating users of the 
M2ANET can be formed. As a consequence, M2ANETs 
exhibit fault-resilience, given that they are not operating with 
a single point of failure. Examples of networks operating on 
a similar principle include the Google Loon project [4], 
Facebook's flying internet service [5] and a swarming micro 
air vehicle network (SMAVNET II) [6]. 
Despite the possibility that the nodes forming a Mobile 
Medium can operate in a manner similar to traditional 
MANETS using the same type of hardware nodes and the 
same routing protocols, the means of investigation of 
M2ANETs are different from traditional approaches to 
investigating ad hoc networks as they rely on different 
performance metrics. Specifically, the performance of any 
individual links and the connectivity between the M2ANET 
nodes does not matter directly. What is important is the 
performance of the channel through the Mobile Medium 
allowing the users of the M2ANET to communicate 
successfully. For example, the question whether all the nodes 
in the Mobile Medium are connected together is of no 
importance.  
Our past investigation of M2ANETs centered on the 
following issues: node density in the Mobile Medium, node 
1
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

movement pattern and the cooperation among the nodes.  
The node density in general indicates how many mobile 
forwarding nodes are present in an area of interest where 
wireless communication is to be supported by means of the 
Mobile Medium. The smaller the area and the larger the 
number nodes the better the performance that the M2ANET 
offered to the users of the Medium [2]. For a M2ANET to 
operate efficiently, the available mobile nodes need to be 
positioned and moved over the area of coverage. Having the 
forwarding nodes mobile contributes to greater resiliency of 
the implementation, because new nodes move in and take 
over form the failing ones [7], and allows for the use of aerial 
drones, like micro air vehicles/planes [6], with hard limits on 
the sustained minimum velocity. M2ANET mobile nodes can 
move at random [8], in groups [9], along fractal paths [10] or 
can even be cooperating among themselves like an intelligent 
swarm, to best facilitate the demand from M2ANET users 
[3]. 
Our past investigations of M2ANETs focused on the 
Mobile Medium operating autonomously and serving a pair 
of users, similar to having two users connecting wirelessly 
with a line of sight link. In this paper, we set out to investigate 
the behavior of the Mobile Medium in the presence of 
multiple data flows being carried simultaneously in a 
M2ANET. There are many practical scenarios that 
correspond to this model: (i) a simple scenario where multiple 
users rely on the same Mobile Medium to carry their data and 
(ii) a malicious attack scenario, where rogue nodes inject data 
into the Mobile Medium in an attempt to interfere with the 
legitimate traffic.  
III. 
PERFORMANCE OF A M2ANET IN THE PRESENCE OF 
COMPETING FLOWS 
The performance of the Mobile Medium in the presence 
of competing flow is investigated using the ns2 simulator [11] 
in a simulated generic scenario with a preset number of 
Mobile Medium nodes moving randomly in a bounded 
region. As in the previous studies [2][3][7]-[10], the 
performance of the Mobile Medium is measured at different 
forwarding node densities by varying the number of nodes in 
the M2ANET network. Experiments with three different 
MANET routing protocols: AODV, Destination Sequenced 
Distance Vector (DSDV), and Dynamic Source Routing 
(DSR) are conducted [12]. Three user scenarios are 
investigated: a pair of users communicated through the 
Mobile Medium without any other traffic present (so called 
"no DOS" scenario), and the same but with one or two other 
flows active across the Medium (DOS1 and DOS2 
scenarios). In the multi flow scenarios, the additional flows, 
for the sake of argument, are considered as rogue flows that 
are interfering with the original flow (thus the name DOS1/2: 
Denial Of Service with one/two rogue flow(s) scenario) and 
only the performance of the first (principal) flow is 
investigated. In order to investigate the potential interference 
between data flows in the Mobile Medium, the locations of 
the sources and destinations were selected so that straight line 
paths between pairs of users would intersect with one 
another, Figure 1.  
 
Figure 1. Screen shot of the simulation showing a M2ANET network with 
two communicating nodes 0 and 1, and four rogue nodes 2 to 5. 
 
In the mobile network simulation, the random mobility 
model is used as a reference case scenario, mostly because it 
is a standard model used in network simulation. The base case 
model used is the Random Way Point (RWP) model available 
in ns2 [11]. In RWP, nodes are moved in a piecewise linear 
fashion, with each linear segment pointing to a randomly 
selected destination and the node moving at a constant, but 
randomly selected speed. The mobile nodes forming the 
Mobile Medium move at random speeds with an average 
speed of 4 m/s. The main communicating nodes 0 and 1 are 
stationary. The source and destination nodes are located at 
(200,650) and (900,700) coordinates, respectively. The 
simulation details are summarized in Table 1. 
TABLE I.  
SIMULATION PARAMETERS 
Parameters 
Simulator 
NS-2.34 
Channel Type 
Channel / Wireless Channel 
Network Interface Type 
Phy/WirelessPhy 
Mac Type 
Mac/802.11 
Radio-Propagation Type 
Propagation/Two-ray ground 
Interface Queue Type 
Queue/Drop Tail 
Link Layer Type 
LL 
Antenna 
Antenna/Omni Antenna 
Maximum Packets in ifq 
50 
Area (n * n) 
1000 x 1000m 
Source Type 
CBR over UDP 
packetSize_ 512 
interval_ 0.05 
Simulation Time 
300 s 
Routing Protocol 
AODV, DSDV, DSR 
 
The data traffic for each flow is modelled with the CBR 
traffic generator and sent using UDP over simulated Mobile 
Medium networks with five different node densities from 20 
to 120 nodes. Node density indicates the total number of 
mobile nodes in the 1000 m by 1000 m square region 
modelled in the experiments. The delivery ratio is the ratio of 
the number of packets successfully received at the destination 
N
1 
2
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

node to the number of packets sent during each simulation 
experiment. The packet delivery time (delay) is the difference 
between the time the packet was received at the destination 
and the time the same packet was sent from the source node. 
Each mobile network scenario has been simulated three times 
for a 300 second simulation run time and the average results 
taken. 
IV. 
RESULTS AND ANALYSIS 
The Mobile Medium performed as expected (matching 
the packet delivery rate results of previous studies, e.g., [2]) 
when presented with a single flow to transmit and no other 
flows interfering with it, i.e., no DOS. When additional flows 
were present in the Mobile Medium the performance 
decreased. The decrease was more pronounced for DSDV 
and DSR, and very moderate for AODV, in the presence of 
moderate disturbance to the Mobile Medium (only one 
additional rogue flow in DOS1), Figure 2. Better 
performance of AODV can be attributed to it being reactive 
and distributed [1][12].  
Figure 2. Delivery ratio for three scenarios. 
 
Further investigation of the DOS1 scenario shows that the 
AODV advantage is present over the full range of node 
densities, Figure 3 and 4. Finally, with more significant load 
in the Mobile Medium, i.e., in the presence of two rogue 
flows in DOS2, the delivery ratio for all tested routing 
protocols dropped similarly to just below 50%, as seen in 
Figure 2. 
Figure 3. Packet delivery ratio vs number of nodes, no DOS. 
 
Figure 4. Packet delivery ratio vs number of nodes, DOS1. 
 
The investigation of packet delivery times shows 
significant increases in the average packet delays when a 
second flow is present, DOS1 scenario. In the single flow 
scenario, no DOS, the delays were well below 0.5s in all 
experiments across all node densities, Figure 5. With the 
second flow present, the DOS1 scenario, the delays increased 
in general, with the most significant delay in the range of 5s 
registered in the DSR experiments, Figure 6. For the best 
performing protocol, AODV, the delays were below 0.2s in 
the single flow scenario and up to 0.79s in the DOS1 scenario. 
Figure 5. Average delay [sec] vs number of nodes, no DOS. 
 
 
Figure 6. Average delay [sec] vs number of nodes, DOS1. 
0
1
2
3
4
5
6
7
20
40
60
80
100
120
AODV
DSDV
DSR
N
1 
0
0.5
1
No DOS
DOS1
DOS2
AODV
DSDV
DSR
0
0.5
1
20
40
60
80
100
120
AODV
DSDV
DSR
0
0.1
0.2
0.3
0.4
0
50
100
150
AODV
DSDV
DSR
0
0.5
1
0
20
40
60
80
100
120
AODV
DSDV
DSR
N
1 
3
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

 
Figure 7. AODV: path lenght for each packet sent, DOS1. 
 
 
Figure 8. AODV: path lenght for each packet sent, no DOS. 
 
Further investigation of the AODV protocol indicates that 
increase in packet delays may be attributed to much longer 
forwarding path lengths, and more frequent path changes. In 
the network with two flows, DOS1, up to 34 hops were 
registered for packet 2200 on Figure 7, compared to the path 
length reaching only 17 in a network with a single flow, no 
DOS scenario in Figure 8. 
V. 
CONCLUSION AND FUTURE WORK 
Previous studies showed the dependence of the 
performance of a Mobile Medium on network infrastructure 
characteristics: the forwarding node density, movement 
pattern, routing protocol etc. In this paper, we showed how 
the Mobile Medium performance is affected by the presence 
of multiple flows in the network. Introducing competing 
flows in the Mobile Medium network results in gradual 
degradation of packet delivery ratio, from close to 93% for 
AODV for a single flow scenario, down to 83% for two flows 
and only 44% for three flows. The decrease is even more 
significant for DSDV and DSR. What is more significant, the 
Mobile Medium experiences a drastic increase in average 
packet delays when the second flow is added across all 
investigated configurations. The AODV average delays 
increased from less than 0.2s up to 0.79s. The delays for the 
worst performing DSR increased from 0.79s to 6.48s. 
The Mobile Medium, while showing a great resilience to 
packet loss with a moderate traffic increase, is expected to 
experience significant delays in packet delivery when the 
traffic carried through the medium increases. 
Future work could focus on investigation of AODV class 
routing protocols (on-demand, reactive) centering on 
maintaining high delivery ratio while improving on packet 
delays.  
REFERENCES 
[1] S. Basagni, M. Conti, S. Giordano, and  I. Stojmenovic (Eds.), Mobile 
Ad Hoc Networking, New York, Wiley-IEEE Press, 2001. 
[2] J. DeDourek and P. Pochec, "M2ANET: a Mobile Medium Ad Hoc 
Network", Wireless Sensor Networks: Theory and Practice, WSN 2011, 
Paris, France, Feb. 2011, pp. 1-4.  
[3] H. Almutairi, J. DeDourek, and P. Pochec, "Node Movement Control 
Based on Swarm Intelligence for a Mobile Medium Ad hoc Network", The 
Eight International Conference on Advances in Future Internet, AFIN2016, 
July 27, 2016, Nice, France, pp. 1-8. 
[4] H. Hodson, "Google's Project Loon to float the internet on balloons", 
New Scientist, October 2013.  
[5] J. Brustein, "Facebook’s Flying Internet Service, Brought to You by 
Drones", Bloomberg Businessweek, March 4, 2014. 
[6] A. J. Pacheco, et al., "Implementation of a Wireless Mesh Network of 
Ultra Light MAVs with Dynamic Routing; Proceedings of the IEEE Globe 
Work; Anaheim, CA, USA. 3–7 December 2012, pp. 1591–1596 
[7] K. Patel, J. DeDourek, and P. Pochec, "M2ANET Performance Under 
Variable Node Sleep Times", Third International Conference on Advances 
in Future Internet, AFIN2011, Nice, France, Aug. 2011, pp. 31-34. 
[8] M. Alzaylaee, J. DeDourek, and P. Pochec, "Linear Node Movement 
Patterns in MANETS", The Ninth International Conference on Wireless and 
Mobile Communications ICWMC 2013, Nice, France, July 21-26, 2013, pp. 
162-166. 
[9] A. Alshehri, J. DeDourek, and P. Pochec, "The Advantage of Moving 
Nodes in Formations in MANETs and M2ANETs", The Ninth International 
Conference on Wireless and Mobile Communications ICWMC 2013, Nice, 
France, July 21-26, 2013, pp. 228-232. 
[10] H. Alseef, J. DeDourek, and P. Pochec, "A Method for Custom 
Movement Generation in Wireless Mobile Network Simulation", The 
Seventh International Conference on Emerging Networks and Systems 
Intelligence, EMERGING 2015, July 19 - 24, 2015, Nice, France, pp. 27-32. 
[11] H. Ekram and T. Issariyakul, Introduction to Network Simulator ns2, 
Springer, 2009 
[12] S. K. Sarkar, T. G. Basavaraju, and C. Puttamadappa,  Ad Hoc Mobile 
Wireless Networks, Principles, Protocols, and Applications, Auerbach 
Publications Taylor & Francis Group, 2007. 
N
1 
N
1 
0
10
20
30
40
0
500
1000
1500
2000
2500
3000
3500
4000
4500
5000
5500
6000
0
5
10
15
20
0
500
1000
1500
2000
2500
3000
3500
4000
4500
5000
5500
6000
4
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

