Performance Analysis of a Full Duplex MAC Protocol with Binary Exponential Backoff
Sammy Chan
Department of Electronic Engineering
City University of Hong Kong
Hong Kong SAR
P.R. China
Email: eeschan@cityu.edu.hk
Abstract—The full duplex mode in wireless communication allows
simultaneous data transmission and reception on a single channel,
hence increasing the data rate and reducing the access delay. In
this paper, we propose a TDMA-based medium access control
protocol to realize the beneﬁt of full duplex communication. This
protocol deploys the binary exponential backoff mechanism to
resolve contention. We develop an analytical model to evaluate
its performance. This protocol is suitable for future generations
of mobile telecommunication networks, such as 5G networks.
Keywords–Full duplex; MAC; Exponential backoff.
I.
INTRODUCTION
The next generation wireless networks, such as the ﬁfth
generation mobile telecommunications networks (5G net-
works) and the new generation of Wireless Local Area Net-
works (WLANs), need to support higher user density. This is
due to the tremendous success of smart phones and increasing
deployment of the Internet of Things (IoT) technology. More-
over, users are running more and more bandwidth intensive
and time-sensitive multimedia applications. These two factors
drive the next generation wireless networks to provide much
higher data rates. For example, 5G networks target to provide
a data rate of several orders of magnitude higher than that of
4G networks.
In order to enable the next generation wireless networks
to deliver a tremendously increased data rate, the spectrum
efﬁciency needs to be signiﬁcantly enhanced. This can be
achieved by a multitude of new technologies, such as spectrum
efﬁciency optimization, cooperative communications, multiple-
input multiple-output (MIMO) [1], non-orthogonal multiple
access [2] [3] and full duplex (FD) transmission [4] [5].
In currently deployed wireless networks, nodes cannot
transmit and receive on the same frequency band at the
same time. Either frequency-division duplexing (FDD) or
time-division duplexing (TDD) transmission techniques are
commonly deployed. Both of them operate in half-duplex
modes. In FDD, two frequency channels are needed to support
bidirectional communications; one for uplink and one for
downlink. In TDD mode, the uplink and downlink data are sent
in orthogonal time-slots. On the other hand, FD transmission
allows a node to simultaneously send and receive data on a
single channel.
In the approach proposed in [4], FD transmission is realized
by the use of analog and digital cancellation. It requires one
receiving (RX) antenna, one transmitting (TX) antenna and
a balanced/unbalunced (Balun) transformer to be installed at
each node. First, analog cancellation is used. The signal from
the TX antenna is cancelled at the RX antenna by the inverted
signal generated by the Balun transformer. It can cancel a
minimum of 45 dB across a 40 MHz spectrum. Then, digital
cancellation is employed to further reduce self-interference by
up to 73 dB for 10 MHz OFDM signal. In [5], a design
for a wideband multiple-antenna self-interference canceller for
orthogonal frequency-division-multiplexing (OFDM) systems
is presented. It combines three methods to reduce the self-
interference. First, multiple antennas are suitably placed on
a node for passive suppression. It maximizes the attenuation
of the self-interference signal over the channel between the
transmitter and receiver antennas of the same node. Second,
a per-subcarrier per-receive-antenna analog self-interference
canceler is used. Third, a digital self-interference canceller in
baseband is implemented. The extensive experimental results
demonstrate that this three-stage design achieves a minimum
and maximum cancellation of 70 dB and 100 dB, respectively,
with a median of 85 dB.
When FD transmission is enabled, it can be deployed in
two different modes. As shown in Figure 1(a) , both nodes
1 and 2 are equipped with one TX antenna and one RX
antenna. They can send and receive data simultaneously over
the single channel. This mode is referred to as FD-bidirectional
transmission. Alternatively, as shown in Figure 1(b), node 1
is sending data to node 2. While node 2 is receiving the data,
it can immediately forward it to node 3. In other words, node
2 is simultaneously receiving and transmitting. This mode is
referred to as FD-relay transmission. For this mode, only node
2 needs to have two antennas installed; one TX antenna and
one RX antenna. Since node 1 and node 3 do not transmit and
receive simultaneously, each of them only need to have one
antenna.
Having FD transmission enabled at the physical layer, there
is a need for a suitable medium access control (MAC) protocol
to realize its beneﬁt. In [6], a FD MAC protocol is proposed
for nodes equipped with directional antennas to improve the
throughput of a multi-hop ﬂow using the FD-relay mode. In
[7], a uniﬁed MAC protocol is proposed to establish either
FD-bidirectional or FD-relay transmission. The protocol is
based on the RTS/CTS mechanism. In [8]-[10], MAC protocols
are proposed for the case that only the base station has FD
capability while user nodes still operate in half duplex mode.
In [11] [12], FD MAC protocols are proposed for the more
general case that both base station and user nodes have FD
capability. In [13], the authors propose a CSMA-based MAC
1
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-633-0
ICNS 2018 : The Fourteenth International Conference on Networking and Services

1
2
1
2
3
(a)
(b)
Figure 1. FD transmission modes.
protocol in which transmitters use FD techniques to monitor
the channel usage during transmitting, and backoff as soon as
collision is observed.
So far, MAC protocols for FD transmission are mainly
designed for WLANs. In this paper, we propose a MAC
protocol for cellular networks in which both base stations
and user equipment (UE) can support FD transmission. The
proposed protocol is contention based and requires UE to use
the binary exponential backoff (BEB) algorithm for contention
resolution. The remainder of this paper is organized as follows.
In Section II, we present our proposed MAC protocol. Then,
in Section III, we develop an analytical model to characterize
the average packet delay and its standard deviation under the
saturated condition. In Section IV, we verify the accuracy
of our model by comparing with simulation results. Finally,
Section V concludes the paper.
II.
MAC PROTOCOL
The frame structure for the proposed MAC protocol is
shown in Figure 2. In this protocol, the channel is time slotted
and organized into frames. Each frame has a duration of E, and
consists of a request subframe, a full duplex data subframe,
an information subframe and a downlink data subframe, with
duration Tr, Tf, Ti and Th, respectively.
A request subframe has m request slots, each of length t.
In order to gain the right to send a data packet, an UE ﬁrst
needs to send a bandwidth request to a randomly chosen slot
in the request subframe. If there is only one request submitted
to the request slot, the request is successful. On the other hand,
if there are two or more UE submitting their requests in the
same request slot, collision occurs.
In a full duplex data subframe, there are d data slots. Upon
receiving the bandwidth requests, the BS will announce the
contention result in the full duplex map (FD Map) of the
information subframe. It assigns a data slot in the full duplex
data subframe of the next frame to each successful UE. Each
data slot is of length T (T ≫ t), which is the transmission
time of a data packet (all packets are assumed to have the
same length throughout this paper). Here, we assume that a
data slot is randomly chosen and assigned to a successful UE.
Since full duplex transmission is supported, when an UE is
transmitting a packet to the BS in the assigned data slot, the BS
can simultaneously send downlink trafﬁc to the corresponding
UE. For those unsuccessful UE, they need to execute the
BEB algorithm to resolve contention. The complete process
of sending request is described as below.
Initially, before sending a request each UE starts its own
backoff process by randomly selecting a backoff time in the
range [0, CW −1], where CW is the contention window. Here
the backoff time represents the number of request slots that
must pass before the request can be submitted. At the ﬁrst
attempt, CW is set equal to W, the minimum contention
window. If the request is unsuccessful, then the contention
window size is multiplied by λ = 2, and another backoff
period is initiated. This process is repeated for each subsequent
request failure, i.e., Wi = λiW, where i is the number of
re-attempts. Window doubling continues until the maximum
possible value, CWmax = λrW, r ≥ 1, is reached. If the
request is unsuccessful after r attempts, the window is main-
tained at CWmax for the remaining attempts until the request is
successful, or until the maximum number of attempts, R ≥ r,
is reached. If the request is still unsuccessful after R attempts,
the packet is discarded.
In Figure 2, we show an example in which an UE sends
a request in frame 1 but fails. It carries out the BEB process
and ﬁnally can have a duplex data transmission in frame n. If
the trafﬁc between UE and the BS is symmetric, there is no
need to provision downlink data subframes. However, to cater
for the case in which some UE only have downlink trafﬁc,
the downlink data subframe with b data slots is provisioned.
When an UE only has downlink trafﬁc, the BS will inform it
in the downlink map (DL Map) of the information subframe
to receive a packet in a particular data slot in the downlink
data subframe.
III.
ANALYTICAL MODEL
Consider a cell with N UE. Assume that all UE are in
saturated condition, i.e., they always have packets to send. The
packet delay X is deﬁned as the time duration from its ﬁrst
bandwidth request until the packet transmission has ﬁnished.
Note that if the bandwidth reservation of a packet is successful,
the packet will be removed from the head of the queue into a
temporary buffer and transmitted to the channel in the coming
full duplex data subframe. Thus, the bandwidth request of the
next packet (now become the head of the queue) can be sent
in the request subframe of the next frame.
A. Unsuccessful Request Probability
Let p be the probability that a request sent by an UE is
unsuccessful, which is given by
p = 1 − (1 − pc)(1 − pd),
(1)
where pc and pd are probabilities that a request sent by an
UE is unsuccessful due to collision with other requests, or
lack of data slots in the full duplex data subframe of the next
frame, respectively. In the following, we show that both pc
and pd can be expressed as a function of the probability p,
hence ﬁxed point equations can be established to calculate the
individual probabilities.
A request is successfully transmitted on the ﬁrst attempt
with probability 1 − p (ignoring a normalisation factor that
we will introduce later). Recall that the contention window is
initially set to W, the average number of elapsed backoff slots
2
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-633-0
ICNS 2018 : The Fourteenth International Conference on Networking and Services

Tf
Th
Tr
frame 1
V

BW request
packet sent
DL
Map
FD
Map
U
full duplex
full duplex
full duplex
Ti
frame 2
frame n
Tr
Tr
Figure 2. Frame structure of the proposed MAC protocol.
before such a request is
m
2 + (W − 1)/2. The ﬁrst term is
due to the fact that an UE cannot start a new backoff period
for its next request immediately after the previous one in the
same frame but has to wait until the next frame. And because
requests are uniformly chosen among the m request slots in
each frame, the average number of backoff slots wasted until
the next frame is m
2 . The second term represents the average
number of backoff slots an UE has to wait before attempting
to send a request according to the BEB mechanism described
in Section II.
If the ﬁrst transmission fails, the request is successfully
transmitted on the second attempt with probability p(1 − p).
The average number of elapsed backoff slots in this case is
m
2 + (λW − 1)/2. Continuing this argument until the Rth
attempt yields the overall average number of elapsed backoff
slots before a successful request transmission:
Bavg
=
m
2 + η
r−1
X
i=0
pi(λiW − 1
2
) +
(2)
η(λrW − 1
2
)
R−1
X
i=r
pi
=
m
2 + ηW(1 − (λp)r)
2(1 − λp)
−
1 − pr
2(1 − pR) + (λrW − 1)(pr − pR)
2(1 − pR)
,
where
η = (1 − p)(1 − pR)−1,
and (1 − pR) is a normalisation factor.
Note that assuming a request will be eventually successful,
then Bavg is the average number of backoff slots an UE has to
wait before sending requests, i.e., it is an average inter-arrival
time of requests in this system. Therefore, the probability that
an UE attempts to send the request in a slot is given by
τ = 1/(Bavg + 1).
Since there are N saturated UE, the probability pc that a
request sent by an UE is unsuccessful due to collision with
other requests can be expressed as
pc = 1 − (1 − τ)N−1.
(3)
The probability that there are j, 0 ≤ j ≤ k = min(m, N)
successful requests among m request slots can be approxi-
mated based on a truncated binomial distribution
Q(j) =

For the case when the tagged UE is not successful in its
ﬁrst attempt but is successful in the second attempt of sending
request, the service time can be expressed as
X(1) = U + Y (1) + V
w.p.
p(1 − p),
where Y (1) is a random sum of a frame duration E, and
p(1 − p) is the probability that the request is successful in
the second attempt. The variable Y (1) is originated from the
fact that an UE will have to wait for a random backoff period
before sending its request which is uniformly chosen from
the new contention window. In this second attempt of sending
request, an UE will choose its backoff time uniformly in
[0, W1 − 1]; W1 = λW and Y (1) can be calculated as
Y (1) =
1
X
i=0
K(i)E,
where K(i) is a discrete random variable with the following
distribution:
K(i) =













1
w.p.
m/Wi,
2
w.p.
m/Wi,
...
Ai − 1
w.p.
m/Wi,
Ai
w.p.
1 − (Ai−1)m
Wi
,
(6)
where Ai = ⌈Wi/m⌉, i = 1, .., R − 1. The ⌈z⌉ operator gives
a minimum integer value that is greater or equal to z. For
i = 0, we deﬁne K(0) = 1 w.p. one. Note that if Ai = 1, i.e.,
m ≥ Wi, then K(i) = 1 with probability one.
In general, the packet delay X can be expressed as
X = X(i)
w.p.
ηpi, 0 ≤ i ≤ R − 1,
(7)
where
X(i) = U + Y (i) + V,
(8)
and
Y (i) =
i
X
j=0
K(j)E.
To complete the expression of X, we now determine the
probability mass function (pmf) of U and V . As the tagged
UE uniformly chooses the backoff before sending a request,
the pmf of the U can be approximated as below
U =









mt
w.p.
1/m,
(m − 1)t
w.p.
1/m,
...
t
w.p.
1/m.
(9)
As the BS uniformly allocates data slots among successful
requests, the pmf of V can be expressed as
V =























T
w.p.
k′−1
X
j=0
1
j + 1 q(j),
2T
w.p.
k′−1
X
j=1
1
j + 1 q(j),
...
k′T
w.p.
1
k′ q(k′ − 1),
(10)
where q(j) is the probability that there are j ≥ 0 successful
requests other than the tagged UE in a frame. The probability
q(j) follows a truncated binomial distribution
q(j) = Q(j + 1)/(1 − Q(0)), 0 ≤ j ≤ k − 1,
(11)
where k = min(m, N) and k′ = min(k, d) and Q(j) is given
in (4).
From (7), we obtain
E[X] = η
R−1
X
i=0
pi E[X(i)],
(12)
Var[X] = η
R−1
X
i=0
pi(Var[X(i)] + (E[X(i)] − E[X])2).
The mean and variance of X(i) are derived from (8) as
E[Xi] = E[U] + E[Y (i)] + E[V ],
(13)
Var[Xi] = Var[U] + Var[Y (i)] + Var[V ],
where
E[Yi] = E
i
X
j=0
E[K(j)],
Var[Yi] = E2
i
X
j=0
Var[K(j)].
From (6), it can be shown that
E[K(j)] =



1
j = 0,
Aj − Aj(Aj − 1)
m
2λjW
j = 1, .., r − 1,
Aj − Aj(Aj − 1)
m
2λrW
j = r, .., R − 1,
(14)
and
Var[K(j)] = K(j)2 − (E[K(j)])2,
where K(j)2 is the second moment of K(j) and is given by
K(j)2 =



1
j = 0,
A2
j − Aj(Aj − 1)(1 + 4Aj)
m
6λjW
j = 0, 1, .., r − 1,
A2
j − Aj(Aj − 1)(1 + 4Aj)
m
6λrW
j = r, .., R − 1.
It remains to determine E[U], Var[U], E[V ] and Var[V ]
from (9) and (10), which can be expressed as
E[U]
=
(m + 1)t/2,
(15)
Var[U]
=
U 2 − (E[U])2, where
U 2
=
(m + 1)(2m + 1)t2/6, and
E[V ]
=
T
k−1
X
j=0
q(j)
j
X
i=0
i + 1
j + 1,
Var[V ]
=
V 2 − (E[V ])2, where
V 2
=
T 2
k−1
X
j=0
q(j)
j
X
i=0
(i + 1)2
j + 1 ,
and q(j) is given in (11).
The mean and variance of packet delay are then calculated
by substituting (13), (14), (15) into (12).
4
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-633-0
ICNS 2018 : The Fourteenth International Conference on Networking and Services

IV.
NUMERICAL RESULTS
In this section, we validate the analytical model by
simulation. For this purpose, we have built a discrete event
simulator by C++ to generate simulation results. The duration
of each simulation run is 5,000 seconds, with a warm-up period
of 500 seconds. From Figures 3, 4(a) and 4(b), it can be
seen that simulation and analytical results match quite well. It
conﬁrms that our model is sufﬁciently accurate. At the same
time, we also use the developed analytical model to investigate
the impact of different parameters on the performance of the
MAC protocol.
The system parameters used throughout this section are as
follows. With a 25 MHz spectrum, the 64-QAM modulation
scheme is used to achieve a data rate of 120 Mbps. A mini
slot is a basic unit of different time slots, and has a duration
of
1
2500 millisecond. Each bandwidth request has a duration of
6 mini slots. Each data slot has a duration of 94 mini slots,
which allows the transmission of approximately 0.5 KB data
at 120 Mbps. The information subframe has a duration of 10
request slots. Also, W = 8, r = 3, and R = 5.
First, we set m = d = 12, and evaluate the failure
probability of a request for different N. The result is shown in
Figure 3. As expected, the more UE in the network, the higher
the collision probability that requests would experience.
8
10
12
14
16
18
20
0.2
0.25
0.3
0.35
0.4
0.45
0.5
0.55
0.6
0.65
0.7
Number of user equipment (N)
Request Failure Probability
 
 
analysis
simulation
Figure 3. Failure probability of request (b = 6, m = d = 12).
Having the probability of unsuccessful request, the mean
and standard deviation of the packet delay are computed as
described in Section III-B. These analytical values together
with the simulation results are plotted against N in Figures 4(a)
and 4(b). As shown in the ﬁgures, reducing the number of
data slots available in the full duplex data subframe causes
an increasing in both mean and standard deviation of the
packet delay. This is because when there are less data slots
available, the failure probability of requests increases, and thus
the average backoff time increases. As a result, the mean and
standard deviation of packet delay increase.
Next, we investigate the impact of the size of the down-
link data subframe. We consider that the trafﬁc is close to
symmetric and, only occasionally, the BS has to rely on the
downlink data subframe to deliver packets to UE. In that case,
8
10
12
14
16
18
20
0
0.5
1
1.5
2
2.5
3
3.5
4
Number of user equipment (N)
Mean Delay (ms)
 
 
analysis DL data=6
simulation DL data=6
analysis DL data=12
simulation DL data=12
(a)
8
10
12
14
16
18
20
0
0.5
1
1.5
2
2.5
3
3.5
4
Number of user equipment (N)
Standard Deviation of Delay (ms)
 
 
analysis DL data=6
simulation DL data=6
analysis DL data=12
simulation DL data=12
(b)
Figure 4. (a) Mean delay and (b) standard deviation of delay versus the
number of user equipment (b = 6, m = 12).
the number of data slots in this subframe can be much smaller
than d. Here, we use the case of b = 12, m = 12, N = 20 as
a reference, and calculate how much (measured in %) delay
is reduced when b is reduced from 12 to 2. The results are
plotted in Figure 5.
It can seen that when b = 2, the mean delay is reduced by
about 37%. Clearly, the reduction of delay is due to a smaller
frame size as th decreases with b. This reﬂects one of the
beneﬁts of the full duplex MAC protocol.
V.
CONCLUSION
In this paper, we have proposed a MAC protocol for mobile
telecommunication networks which support full duplex wire-
less communication. In this MAC protocol, binary exponential
backoff is used to resolve contention. We have also developed
an analytical model for performance evaluation in terms of
request failure probability, mean and standard deviation of
packet delay. Explicit forms of these performance metrics have
5
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-633-0
ICNS 2018 : The Fourteenth International Conference on Networking and Services

2
3
4
5
6
7
8
9
10
11
12
0
5
10
15
20
25
30
35
40
Number of slots in the downlink data subframe.
time reduction (%)
 
 
analysis
simulation
Figure 5. Percentage of delay reduction versus the number of slots in
downlink data subframe.
been derived. The model has been validated by simulation
results. The numerical results have shown the impact of various
parameters on the performance metrics. Moreover, packet
delay can be signiﬁcantly reduced due to the deployment of
full duplex wireless communication.
REFERENCES
[1]
E. B¨jornson, E. G. Larsson, and T. L. Marzetta, “Massive MIMO: Ten
Myths and One Critical Question,” IEEE Communications Magazine,
vol. 54, no. 2, February 2016, pp. 114-123.
[2]
L. Dai et al., “Non-orthogonal Multiple Access for 5g: Solutions,
Challenges, Opportunities, and Future Research Trends,” IEEE Com-
munications Magazine, vol. 53, no. 9, September 2015, pp. 74-81.
[3]
C. Xu, Y. Hu, C. Liang, J. Ma, and Li Ping, “Massive MIMO, Non-
orthogonal Multiple Access and Interleave Division Multiple Access,”
IEEE Access, vol. 5, August 2017, pp. 14728–14748.
[4]
M. Jain et al., “Practical, Real-time, Full Duplex Wireless,” In Proceed-
ings of ACM MobiCom’11, Sep 19-23, 2011, Las Vegas, pp. 300–312.
[5]
M. Duarte et al., “Design and Characterization of a Full-duplex
Multiantenna System for Wiﬁ Networks,” IEEE Trans. on Vehicular
Technology, vol. 63, no. 3, March 2014, pp. 1160-1177.
[6]
K. Miura and M. Bandai,“Node Architecture and Mac Protocol for
Full Duplex Wireless and Directional Antennas,” In Proceedings of
IEEE International Symposium on Personal, Indoor and Mobile Radio
Communications (PIMRC’12), Sep 9-12, 2012, Sydney, pp. 385-390.
[7]
W. Cheng, X. Zhang, and H. Zhang, “RTS/FCTS Mechanism Based
Full-duplex Mac Protocol for Wireless Networks,” In Proceedings of
IEEE Globecom 2013, Dec 9-13, 2013, Alanta, pp. 5017–5022.
[8]
Q. Qu et al., “Fuplex: A Full Duplex Mac for the Next Generation
Wlan,” In Proceedings of the 11th EAI International Conference on
Heterogeneous Networking for Quality, Reliability, Security and Ro-
bustness (QSHINE 2015), Aug 19-20, 2015, Taipei, pp. 239-245.
[9]
W. Choi, H. Lim, and A. Sabharwal, “Power-controlled Medium Access
Control Protocol for Full-duplex Wiﬁ Networks,” IEEE Trans. on
Wireless Communications, vol. 14, no. 7, July 2015, pp. 3601-3613.
[10]
A. Tang and X. Wang, “A-duplex: Medium Access Control for Efﬁcient
Coexistence Between Full-duplex and Half-duplex Communications,”
IEEE Trans. on Wireless Communications, vol. 14, no. 10, Oct 2015,
pp. 5871-5885.
[11]
W. Zhou, K. Srinivasan, and P. Sinha, “RCTC: Rapid Concurrent
Transmission Coordination in Full Duplex Wireless Networks,” In
Proceedings of the 21st IEEE International Conference on Network
Protocols (ICNP), Oct 7-10, 2013, G¨ottengen, pp. 1-10.
[12]
D. Marlal and ¨O G¨urb¨uz, “S-CW FD: A Mac Protocol for Full-duplex
in Wireless Local Area Networks,” In Proceedings of IEEE Wireless
Communications and Networking Conference (WCNC 2016), Mar 3-6,
2016, San Francisco, pp. 1–6.
[13]
Y. Liao, K. Bian, L. Song, and Z. Han, “Full-Duplex MAC Protocol
Design and Analysis,” IEEE Communications Letters, vol. 19, no. 7,
July 2015, pp. 1185–1188.
[14]
G. Bianchi, “Performance analysis of the IEEE 802.11 distributed coor-
dination function,” IEEE Journal on Selected Areas in Communications,
vol. 18, no. 3, March, 2000, pp. 535–547.
6
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-633-0
ICNS 2018 : The Fourteenth International Conference on Networking and Services

