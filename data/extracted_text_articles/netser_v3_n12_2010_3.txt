Evaluation of Environmental Wireless Sensor
Network - Case Foxhouse
Ismo Hakala, Jukka Ihalainen, Ilkka Kivel¨a
University Of Jyv¨askyl¨a
Kokkola University Consortium Chydenius
P.O.Box 567, FI-67701, Kokkola, Finland
{ismo.hakala, jukka.ihalainen, ilkka.kivela}@chydenius.ﬁ
Merja Tikkakoski
Veteli, Finland
merja.tikkakoski@pp.inet.ﬁ
Abstract—Environmental monitoring in agriculture is an in-
teresting and promising area of application for wireless sensor
networks. Wireless sensor networks can deliver valuable infor-
mation about environment, animals and their habitat. This paper
describes a case where such sensing application was implemented
by the authors together with biologists. The wireless sensor
network collected data in hard outdoors conditions over a period
of one year, during which luminosity, temperature and humidity
were measured in a foxhouse. Evaluation of IEEE802.15.4 based
communication used was one of the main subjects of the study.
The throughput and the link quality statistics are presented and
some factors related to link quality are analysed. In addition
to reliability analysis, this paper describes the Foxhouse Case
implementation, reports on its results, presents the power-
consumption measurements and discusses the observations made
during project.
Index Terms—wsn implementation; environmental monitoring;
reliability; link quality; power-consumption
I. INTRODUCTION
Environmental monitoring, both indoors and outdoors, is
one of the most promising application areas for wireless sensor
networks. Compared to traditional sensing methods wireless
sensor network (WSN) technology offers some important
beneﬁts: wide areas can be covered with inexpensive nodes,
battery-powered devices with a self-conﬁguration ability en-
able quick and easy system installation, the energy-efﬁciency
of battery-powered devices makes long-term monitoring pos-
sible, and typically there is also a real time access to data.
In addition, when monitoring animals, for example, human
presence is unwanted and can distort the results or even
cause damage to the subjects of monitoring. By using WSNs,
measurements can be done without any other disturbance
except that caused by the deployment of the network. Thus
the results would also be free from any external impact.
In spite of the improvements in WSN technology there are
not too many cases reported where WSN has been used in
environmental monitoring. One such experiment was the Fox-
house case implemented by The Kokkola University Consor-
tium Chydenius (later Chydenius) [1]. The other environmental
wireless sensor networks have been built also, and valuable
information about hardware and software has been obtained,
see, e.g., [2], [3], [4], [5], [6], [7], and [8].
The Foxhouse project was undertaken jointly with the
MTT Agrifood Research Finland. The wireless sensor network
for environmental monitoring was implemented in the Fur
Farming Research Station at Kannus. The reason for the WSN
implementation was the need to get real time information
about the habitat of foxes in a foxhouse. The amount of light
received is presumed to be the key factor in stimulating repro-
duction of foxes, so measuring light intensity in different parts
of the foxhouse was the focal point of interest. Measurement
data for luminosity as well as temperature and humidity were
gathered outdoors over a period of one year. We also observed
the functionality and usability of the network, and some tools
for network maintenance were developed during the project.
In addition to habitat monitoring we also wanted long-
term information about WSNs in environmental monitoring
as well as about the performance of wireless communication
due to the IEEE802.15.4 standard. The amount of collected
data was large in the Foxhouse project. A total of 1 707 758
received packets were stored in the database over a period
of one year. This large database enabled us to evaluate the
wireless sensor network’s IEEE802.15.4 based communica-
tion. The performance of wireless communication is studied
by analysing the throughput and the quality of links. The link
quality is evaluated by using received signal strength indicator
(RSSI) which indicates the strength of the radio signal at
the receiver’s position. Measurement data for temperature and
humidity enabled analysis of the effects of weather conditions
on link quality. Measurements to analyse the effect of angular
orientation on link quality as well as to evaluate node’s power
consumption were performed also.
This paper is organized as follows. First we overview some
related research where WSN has been used in agriculture and
environmental monitoring. The Foxhouse case as a sensing ap-
plication is described and the CiNet sensor network and node
architectures are introduced. Resulting statistics about network
reliability, like the throughput and the quality of links, as well
as the application data are given. Some factors related to link
quality are analysed and the power consumption measurements
of a battery-powered sensing node are presented. Finally, the
project experiences are discussed brieﬂy.
II. RELATED WORK
WSN implementations have been used and reported in
monitoring tasks during the past few years. In agriculture there
29
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

have been applications where WSNs have delivered valuable
information about environment, e.g., about soil moisture and
microclimate [2], [3], and [6]. Also animals and their habitat
have been monitored. A famous implementation of this kind
was created by the project in Great Duck Island, where
some researchers from the University of California, Berkeley,
together with biologists from the College of the Atlantic, built
a sensor network and collected data from a seabird habitat
[7]. In that project the researchers discussed also the need and
possibilities for network status monitoring and retasking.
In the implemented sensor network projects, performance of
wireless sensor network has been one of the main concerns.
The impact of environmental conditions on the link perfor-
mance has been studied. For example, distance, height and
angular orientation of devices have been reported to affect
the received signal strength sensitivity [9]. Also the effect of
foliage and weather conditions on the propagation of radio
waves has been studied in [5], [10] and [11]. Reliability of
sensor networks includes more than just error-free wireless
communication. For example, validity of data is important,
and, when problems occur, fault detection is needed. A fault
detection system was tested in the project where groundwater
quality was measured [12] and [13].
Typically, monitoring testbeds have included some tens of
nodes. In some cases a network may include a few hundreds
of nodes. Trio Testbed was a large network with 557 solar-
powered nodes [14]. That network was functioning for quite a
long time. The researchers of Trio Testbed discussed main-
tenance issues as well as middleware and system software
challenges in outdoor sensing systems.
When monitoring environment, animals or their habitat,
pure technical knowledge about sensor network technology
is usually not sufﬁcient; the implementations require also
knowledge about the ecosystem.
III. FOXHOUSE CASE
Furbearing animals have been raised on farms from the 19th
century. In the present housing system for foxes, rows of cages
are placed in sheds. They provide a normal outside temperature
while protecting against direct sunlight, wind and rain. In
addition to the traditional sheds, also special halls have been
tested as shelters. The goal of the scientiﬁc research has been
to improve the health and welfare of animals as well as their
productivity. From the economical point of view, successful
breeding of animals is important. The amount of light received
is presumed to be the key factor in stimulating reproduction.
This has been studied in the Fur Farming Research Station
at Kannus where, among other things, light intensity has
been measured in different conditions in sheds and in a hall
(foxhouse), and the results of fox breeding have then been
compared [15].
Luminosity varies during the day and year. So the mea-
surement should be more or less constant at least in the
breeding season. Luminosity can also vary a lot in different
parts of the foxhouse and many sensors are needed to cover
the whole area. The measuring problem thus matched perfectly
the potential for solution behind the idea of WSNs. By using
the wireless sensor network the researchers could get real
time data from the habitat all year round. Another reason
for this experiment was to get practical experience about the
reliability of communications in a CiNet network. The project
was carried out cooperatively between Chydenius and MTT
Agrifood Research Finland.
The Foxhouse project, funded by the Finnish Funding
Agency for Technology and Innovations, started on April
11th 2006, and the wireless sensor network gathered data
for over one year. A foxhouse is a large wooden building
(approximately 15x75 meters in area) where fox cages are
placed in four rows about 80 centimeters above the ground.
The building has an asphalt ﬂoor and a part of the roof and
the walls are made of transparent ﬁberglass. Luminosity in
all areas of the foxhouse was the focal point of interest, but
some of the nodes were equipped also with temperature and
humidity sensors. There was no heating in the building.
The system architecture in the Foxhouse case is shown in
Figure 1. The sensor nodes in the foxhouse send measurements
to a sink, which is connected to a PC by a serial cable. All
received information is stored into a SQL database in the PC.
Data in the database can be browsed by a web application.
CiNet WSN
network
sadasd
Web 
pages
sadasd
Excel 
reports
Apache Tomcat
MySQL database
Struts Application 
Framework
RS232
Gateway sink
Internet
Figure 1.
System architecture
Normally environmental monitoring networks require nodes
with a battery supply. In this special case we could however
use the main supply, because electricity was already available.
This way we could also eliminate any effects of batteries’
voltage variation on link quality. A battery powered node was
included in the network for testing the real power consumption
of the measuring nodes.
The nodes were attached about 1 meter above the metal
cages as shown in Figure 2. Each wireless node was lightly
30
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

encapsulated in a small plastic box while the sensors were left
outside the box. The photodiode was shielded additionally with
an aluminium tube.
Figure 2.
Node and photodiode placement
A. System Architecture
The system architecture is depicted in Figure 1. The wireless
sensor network produces measurements data, which is deliv-
ered to the gateway (sink node). The sink node is connected to
the server via a RS232 cable. The PC acts as a server in this
system, running a Java program for reading packets from serial
port. The Java program has the following functions: it reads
data from the serial port, parses measurement data and adds
timestamps, and ﬁnally stores the prepared data to a MySQL
database. The Java program has no control functions, it
only stores incoming packets. The system’s database contains
all information about the actual measurements (temperature,
humidity, and luminosity) and also management data (RSSI,
packet counts) for diagnostic purposes. The database includes
basic information about nodes, nodes’ location etc. A raw
packet payload is also stored in the database.
The application is built as a 3-tier web application and
it relies on freeware and open-source software. It consists
of a Tomcat Java application server, Struts framework, and
MySQL database server. The Tomcat Application server and
Struts framework together act as a web server and the MySQL
database server provides data storage.
Node measurements
The nodes are measuring 5 minutes interval. Choose measurement type, interval, and nodes. Then hit submit to view graph and retrieve Excel
export.
Measurement
 Temperature
 Luminosity
 Humidity
Averaging
 Hour
 Day
 Week
Interval
 Last 24h
 Last week
 Last month
 Dates From: 2006-04-01 To:
2007-07-31
Nodes
 103
 200
 100
 102
 101
 214
 213
 212
 211
 226
 225
 224
 223
 222
 221
 Check All Export result to
excel
 
 
 
Logoff
Introduction 
Measurements
Statistics
RSSI
status
Foxhouse monitoring
http://cinet.chydenius.fi:8080/foxhouse/ShowMeasurements.do
1 of 1
22.1.2010 12:23
Figure 3.
User interface in the Foxhouse monitoring system.
The user interface of the web application enables browsing
and reporting of stored measurements. Data can be viewed as
a graph on a web page or Excel report. An example of the user
interface can be seen in Figure 3, in which the temperature
from the 1st May 2006 until the 30th July 2007 is displayed.
The measurement period can be deﬁned by start and end dates.
The period is also possible to choose from pre-entered values
for day, week, or month. Also averaging is done by day, week,
or month. In addition to physical quantities also statistical
information about measurements as well as communication
statistics can be monitored on the web site.
B. Network
The network was build to collect as reliable information
as possible from the habitat of animals. It was likely that
luminosity values would vary inside the foxhouse and nodes
were situated in places that were interesting from the re-
searchers’ point of view. Cluster topology appeared to be
the most suitable topology for this purpose. The network
included two kind of devices: sensing nodes (RFD) and routing
nodes (FFD). Some of the routing nodes worked as cluster
heads also. The wireless sensor network in the Foxhouse case
consisted of 14 nodes in two clusters: the front cluster and
the rear cluster. Node 102 was the cluster head of the rear
cluster (nodes 211-213) and node 101 was the cluster head of
the front cluster (nodes 221-225). The placement can be seen
in Figure 4. Nodes were programmed beforehand with ﬁxed
routing table as well as ID numbers, since the platform does
not support hardware MAC address.
In ﬁgure 4 the nodes with RFD labels are sensing nodes
that are extremely energy-efﬁcient. They used the same mea-
31
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

Front side
Back side
RFD
221
RFD
222
RFD
223
RFD
224
RFD
226
RFD
225
SINK
100
15,8m
74,4m
RFD
212
RFD
211
RFD
213
FFD
102
FFD
101
FFD
103
Base station
35m
RFD 200
(battery)
Figure 4.
Node locations in the Foxhouse
surement interval and woke up in every 5 minutes to send
measured values to cluster heads which forwarded packets
through routing nodes to the sink. Rest of the time they were
in deep sleep. Measuring in every 5 minutes produced more
data than needed, but, because packet losses are likely in
WSNs, a quite high measuring frequency was wanted. The
current consumption of a sensing node during the measuring
and transmitting period is explained in Subsection 4F.
The nodes with FFD labels are routing nodes, which take
care of multi-hop communication and collect also statistical in-
formation about packet losses and link qualities. The network
was not synchronized, and that is why routing nodes had to
be active and listen to incoming packets all the time. Their
energy consumption was higher than that of sensing nodes.
Multi-hop communication was based on ﬁxed routing tables,
which means that each sensing node is sending packets to a
sink via the same route, which minimizes control trafﬁc. The
solution was justiﬁed in this special case, because the network
was both small and static and a predeﬁnition of topology was
possible.
The communication protocol used, IEEE 802.15.4, allows
frames of 128 bytes, including the protocol overhead which is
needed in every packet. Because all the messages have their
starting cost, we aggregated management data cumulatively in
each node, i.e., when a sensing node sends a message to a
sink, each node in the communication path appends its own
management data to the message. This method reduces the
number of delivered packets. Thus, the light data aggregation
used is cost-effective.
For studying the reliability of wireless communication two
different communication methods were used. In the ﬁrst phase
(implementation and testing) from April 2006 to October
2006 all the communication links were unidirectional, so no
acknowledgements were used. In the second phase (evaluation)
from October 2006 to June 2007, acknowledgements and
management data were required to ensure communication over
link. In case of missing packets, there could be a maximum
of three retransmissions.
C. Sensor Node
The nodes used in the Foxhouse network were CiNet nodes.
CiNet is a research and development platform for wireless
sensor network implemented by Chydenius. The hardware in
the CiNet node is specially designed for WSNs and consists
of inexpensive standard off-the-shelf components. The CiNet
node includes all the basic components for wireless sensor
networks. It has a microcontroller and a transceiver on board
as well as one temperature sensor for testing purposes. In real
monitoring more sensors are needed. These sensors can be
placed on a special sensor board, which can be connected
to the main board. The device is shown in Figure 5 and its
architecture in Figure 6.
Figure 5.
The CiNet main board
The processor in the CiNet main board is an inexpensive
8-bit controller ATmega128L. It is highly integrated, and as a
low-power CMOS controller it is suitable for battery-powered
32
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

Hardware architecture
128K
FLASH
8-bit
MCU CORE
4K
SRAM
TWI
SPI
2 x USART
10-bit ADC
Transceiver
Chipcon CC2420
MCU ATMEGA128L
4K
EEPROM
Temp Sensor
DS1621
Osc.
7.3728MHz
Antenna
AF 2.4
Radio (CC2420)
MAC (802.15.4)
APPLICATION
POWER
SAVING
TOPOLOGY
CONTROL
DATA
CROSS-LAYER
MANAGEMENT
PROTOCOL
STACK
Software architecture
Figure 6.
The CiNet software and hardware architectures
devices. It has good power saving features and enough internal
memory. The AVR RISC architecture supports efﬁcient C
programming and is able to execute most instructions in a
single clock cycle. The RF transceiver CC2420 is connected
directly to the controller with an SPI connection.
In addition to the main board, a sensing node in the
Foxhouse network included a sensor board. The sensor boards
were equipped with photodiodes (Osram BPW21), and some
of the nodes have also temperature/humidity sensors (Sensirion
SHT7x). A measurement period could take a relatively long
time, in the worst case 380ms. To save energy, the sensing
nodes use a short duty cycle, i.e., they are in a sleep mode
approximately 99.8% of time depending on the sensors con-
nected.
The software in nodes was implemented according to the
cross-layer architecture [16]. The cross-layer approach seemed
to offer good performance in devices with reduced resources
and it appeared to be a working solution. The software
architecture used in a node is shown in Figure 6. The main
idea in this model has been to implement the wireless sensor
network’s basic tasks, such as topology management and
power saving functionalities, as separate protocols in a cross-
layer management entity. These modules can control directly
both the application and protocol stack. Data structures, which
are in shared use, are also implemented in the cross-layer
management entity. The biggest advantage of the cross-layer
implementation is its reduced computational and memory
requirements - not all the information need to be transmitted
between the application interfaces and protocol layers.
Wireless communication between two neighbour nodes
takes place according to the 802.15.4 protocol, and these layers
are implemented in the RF transceiver. All other modules are
implemented in the microcontroller. The application takes care
of communication with sensors. If a node has several sensors
connected, data from all used sensors is added to the same
payload. The protocol stack routes packets according to the
IP protocol by using routing table information. The modules
in cross-layer management are in common use or control
both the protocol stack and application. The power saving
module controls the functionality of other modules. Topology
control in the cross-layer management gathers some statistical
information from the received packets. The measured statistics
were link quality and number of received packets in each
node. Link quality was estimated in practice by measuring
the signal strength from each received packet. These statistics
are presented in more detail in Chapter IV.
IV. RESULTS
The amount of collected data in the Foxhouse project was
large. A total of 1 707 758 received packets were stored in
the database. Based on this material, the researchers were able
to analyse the physical circumstances of the foxhouse, the
reliability of the network, and the quality of links. The effects
of weather conditions and angular orientation of devices on
the link quality are analysed also as well as the power
consumption of the battery-powered sensing node.
A. Environmental Monitoring
The WSN in the Foxhouse collected luminosity, tempera-
ture and humidity values for one year. Typically, luminosity
measurements were done manually a few times each day. The
WSN reduced the need for manual measurement and recording
in the database and made constant real-time data available for
the biologists of MTT Agrifood Research Finland. Moreover,
the network increased the number of measurements manyfold
and, therefore, the network gave more information about the
physical circumstances in the foxhouse. The measurements
were stored in a SQL database, and are thus easily available
for further studies. In this respect the sensor network can be
regarded as a working solution for environmental monitoring.
For the biologists the most important information was the
luminosity inside the foxhouse. They were especially eager
to know how light conditions varied in different parts of the
foxhouse and also how luminosity values change during winter
and spring. In Figure 7 there is an example of luminosity
values in the foxhouse depicted graphically. From the ﬁgure
it is easy to get an overall understanding of how luminosity
begins to increase after winter and of the related differences
between nodes. In the ﬁgure, luminosity is averaged by week,
and a rising trend is clear. Differences between trends show
that the amount of light varies in different parts of the
foxhouse. By using other ﬁlters, more variations in daytime
luminosity values can be observed. In Figure 8 luminosity
values are averaged by day. Measurements are available also
in the SQL database and in an Excel format. Similar statistics
are also available about temperature and humidity conditions.
33
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

2
3
4
5
6
7
8
0
1
2
3
4
5
6
7
8
9
Week of the year
Luminosity (lux)
 
 
Node 213
Node 211
Node 225
Node 223
Node 221
Figure 7.
Averaged luminosity values during two months from the 11th of
January in 2007.
0
07/03/17
07/03/27
07/04/07
07/04/17
07/04/27
07/05/06
0
50
100
150
200
Time (days)
Luminosity (lux)
 
 
Node 225
Node 226
Node 223
Node 222
Node 221
Figure 8.
Development of averaged luminosity from March to June 2007.
B. Reliability of Communication
Reliability of IEEE 802.15.4 based wireless communication
was one of the research subjects in this project. The plan was
to relate it to the number of packet losses. Due to collisions
and external disturbances, packet losses are possible.
Table I shows the received packets from the sensing nodes
from the 12th of January until the 8th of February 2007. The
throughput of the rear cluster was very good and that of the
front cluster was almost 100%. The period was free from
device failures and the throughput of the routing nodes 101,
102 and 103 was 100%. Thus the results in Table 1 show also
the ratio of received packets to delivered packets at the cluster
heads. Table II shows the longest continuous break and the
number of consecutive missed packets for each sensing node
during the break. The results of the front cluster were very
good, at most only 8 consecutive packets were missed. Nodes
212 and 213, the sensing nodes of the rear cluster, had minor
problems: node 212 missed 501 consecutive packets and node
213 missed 171 consecutive packets. This can be seen in the
throughput statistics also. The short breaks of a single node
had no effects on the environmental monitoring application. It
can be concluded that wireless links were very reliable. The
statistical calculations were based on 69 014 received packets.
Table I
THROUGHPUT STATISTIC BETWEEN 12TH JAN AND 8TH FEB
Node
Throughput %
Rear cluster
211
99.85
212
93.42
213
97.81
Front cluster
221
99.59
222
99.29
223
99.95
224
99.77
225
99.95
226
99.28
Table II
THE LONGEST BREAK AND THE NUMBER OF CONSECUTIVE MISSED
PACKETS BETWEEN 12TH JAN AND 8TH FEB
Node
Packets
Break start
Break end
Rear cluster
#
Date
Time
Date
Time
211
3
25.01
20:52
25.01
21:07
212
501
16.01
05:06
17.01
22:53
213
171
16.01
07:56
16.01
22:53
Front cluster
221
7
24.01
04:27
24.01
05:02
222
8
02.02
08:04
02.02
08:44
223
3
13.01
09:05
13.01
09:20
224
6
24.01
05:32
24.01
06:02
225
3
02.02
08:04
02.02
08:44
226
8
02.02
06:59
02.02
07:39
Table III presents the corresponding ﬁgures as Table I
from the 12th of January until the 1st of May 2007. The
throughput of the nodes of the front cluster is good (excepting
node 224), but not as good as in Table I. The reason is
that the cluster head, node 101 in the front cluster, had a
severe two weeks failure between the 24th of February and
the 8th March. Similarly, the throughput of the rear cluster
was not good and was basically due to two longer periods
when node 102, the cluster head of the rear cluster, was dead
and the communication from the rear cluster was disabled. The
throughput of the rear cluster was also affected by the failure
of node 101. The statistical calculation in Table III was based
on 203 494 received packets.
The results show clearly that the network used could not
guarantee reliable communication whenever there were prob-
lems in some critical nodes, like cluster heads. The poor results
were basically due to device failures and the topology used.
On the other hand, a failure of a single node is not necessarily
a big problem in environmental monitoring. For example, a
sensing node, node 224, broke during the spring 2007, and it
shows in the statistics as a poor throughput. In any case, only
34
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

the measurements of that node were lacking; the other nodes
in the front cluster gave enough information for the needs of
the environmental monitoring application. Thus, it can be con-
cluded that the network of sensing nodes was dense enough for
the application but the network of routing nodes was too sparse
for reliable communication. Reliability of communication can
easily be improved by increasing alternative communication
paths to the sink.
Table III
THROUGHPUT STATISTIC BETWEEN 12TH JAN AND 1ST MAY
Node
Throughput %
Rear cluster
211
58.14
212
57.81
213
59.76
Front cluster
221
88.93
222
88.66
223
89.01
224
28.62
225
89.02
226
88.78
C. Link Quality
The signiﬁcance of sufﬁcient link quality came apparent
at the beginning of the project when the network was in-
stalled. Distributing the nodes was difﬁcult because of the
unpredictable radio range. As it is well known, soil and other
surfaces considerably affect the radio range by emitting signals
and causing reﬂections. Also devices’ angular orientation as
well as variable weather conditions affect wireless commu-
nication. For that reason, radio range is difﬁcult to predict
beforehand. The average radio range inside the foxhouse was
only 30-40m with the maximum transmission power of 0 dBm.
Some nodes did not necessarily have a line of sight. Outside
with the same transmission power the nodes have about 100m
radio range.
Link quality can be evaluated by using the Received Signal
Strength Indicator (RSSI), which indicates the strength of the
radio signal at the receiver’s position. The observed good
throughput statistics indicate that there are no problems with
the quality of links. However, during the project the received
RSSI values varied signiﬁcantly in time. An example of the
received RSSI variation is shown in Figure 9.
The noticed RSSI variation forced us to ensure an adequate
signal level. We added some functionalities which helped us
to monitor the quality of links. The cluster heads measured
the strength of the received signal from each sensing node
and included this information to the end of data frame. The
received RSSI values appeared to be especially useful when
distributing nodes. Finding the positions for each node in a
static network was easy and quick when the quality of link
was known.
01/05
02/05
03/05
04/05
05/05
06/05
07/05
08/05
09/05
10/05
11/05
12/05
13/05
14/05
−72
−70
−68
−66
−64
−62
−60
−58
−56
−54
−52
Days
RSSI (dBm)
 
 
Node 226 
Node 225 
Node 223
Node 222
Node 221
Figure 9.
RSSI of the front cluster between 1st May and 15th May.
Tables IV and V present the statistics of RSSI values from
the 12th of January until the 8th of February 2007. For each
node the average of RSSI is above -80dBm and the standard
deviation of RSSI varies between 0.76dBm and 2.90dBm.
From Table IV it can be seen that the RSSI value of a single
node can vary as much as 18dBm. However, Tables IV and
V show that on average the link quality of nodes is good
apart from the sensing node 211, which had the RSSI value
below -75dBm for most of time. The minimum RSSI value
was -83dBm, which in our experience can indicate unreliable
communication. On the other hand, the throughput between
sensing node 211 and sink was very good, which implies that
the link quality was good enough for reliable communication.
In spite of signiﬁcant variation of the received RSSI values it
can be concluded that the link qualities of the sensing nodes
were very good on average.
Table IV
LINK QUALITY STATISTIC BETWEEN 12TH JAN AND 8TH FEB
Node
Mean
Std
Min
Max
RSSI
RSSI
RSSI
RSSI
Rear cluster
dBm
dBm
dBm
dBm
211
-77.2
1.7
-83
-73
212
-69.5
2.9
-75
-62
213
-71.1
1.0
-73
-68
Front cluster
dBm
dBm
dBm
dBm
221
-59.9
1.6
-64
-55
222
-65.4
2.5
-78
-60
223
-54.9
1.9
-63
-54
224
-55.1
1.0
-57
-53
225
-64.4
1.0
-67
-61
226
-54.5
0.8
-58
-53
D. Effects of Angular Orientation on Link Quality
During the project there seemed to be also variations
between apparently similar devices; the link quality seemed to
be better in some devices than others. Variations of the distance
35
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

Table V
RELATIVE FREQUENCY DISTRIBUTION FOR RSSI BETWEEN 12TH JAN
AND 8TH FEB
Node
Relative frequency %
Rear cluster
[−83, −75]
(−75, −65]
(−65, −57]
dBm
dBm
dBm
211
85.7
14.3
0
212
0
89.8
10.2
213
0
100
0
Front cluster
[−83, −75]
(−75, −65]
(−65, −57]
dBm
dBm
dBm
221
0
0
100
222
0.1
54.1
45.8
223
0
0
100
224
0
0
100
225
0
13.3
86.7
226
0
0
100
between nodes could not alone explain the variations of the
link quality. The angle of a device was also signiﬁcant. Minor
changes in positions were able to destroy the communication
link between two devices. The effect of antenna’s angular
orientation has been reported in [9] also.
We designed the measurement procedure such as to obtain
knowledge about how the received RSSI depends on a device
and angular orientation. The measurements were done inside
a large football hall in spring 2006. One transmitter device
and six similar receiver devices were used. The transmitter
and each receiver were attached to one-meter high wooden
poles. The distance between the transmitter and a receiver was
4 meters. The transmitter was transmitting packets at -10dBm
while in 8 different orientations (0, 45, 90, 135, 180, 225, 270,
and 315 degrees) The transmitter was conﬁgured to send 20
packets per transmission period. When calculating the mean
of RSSI, the maximum and minimum values were dropped in
order to eliminate possible outliers. Figure 10 shows that there
exist variations of RSSI values between different devices, but
the impact of the angular orientation on the received RSSI is
clearly more signiﬁcant. In the worst case, the effect of the
angular orientation on the received RSSI can be over 20dBm.
Thus, the angular orientation clearly affects the received RSSI.
E. Effects of Weather Conditions on Link Quality
The weather conditions in the foxhouse were comparable to
typical Scandinavian outdoor weather conditions. The lowest
temperature during the measurement period was −33.6 ◦C and
the highest 32.4 ◦C. The relative humidity inside the Foxhouse
varied between 14.3% and 93.1% . The temperature and the
relative humidity outside the Foxhouse were approximately the
same as inside. A very low temperature and a high relative
humidity make the conditions demanding for WSN.
While the network seemed to work well one day some
of the static links could some other day prove unreliable.
The link quality statistics show that the standard deviation of
RSSI could be as high as 2.9dBm and RSSI of a single node
RSSI (dBm)
0°
15°
30°
45°
60°
75°
90°
105°
120°
135°
150°
165°
±180°
−165°
−150°
−135° −120°
−105°
−90°
−75°
−60° −45°
−30°
−15°
60
70
80
90
r1
r2
r3
r4
r5
r6
Figure 10.
Variation of RSSI with angular orientation
could vary as much as 18dBm. The observed anomalies in the
link performance of a single node can be explained by multi-
path propagation and dynamic environmental factors, such as
the presence of people, movements, and weather conditions.
These factors can interfere with the radio signal propagation,
varying the received RSSI. On the other hand, most of the
nodes had the line of sight and there was very little changes
in environmental factors except in weather conditions. Since
the radio frequency of 2.4GHz is also the resonant frequency
of water, variation in air’s moisture content can interfere with
the received RSSI. An environment with a high humidity tends
to absorb more power from the radio signals than when the
humidity level is lower.
Figure 11 shows the average of relative humidity and RSSI
from the 12th of January until the 8th of February. The values
are averaged each hour. The effect of the relative humidity
on the RSSI values can be seen in Figure 11. When the
relative humidity increases, RSSI values decrease. Similar
negative correlated results have been observed by others as
well [17] and [5]. On the other hand, opposite effects of
relative humidity on the RSSI values have been observed by
[10]. When the relative humidity increases, the received signal
strength increases. We observed similar positively correlated
results also. Figure 12 shows the average of relative humidity
and RSSI from the 14th of June until the 30th of June. The
values are averaged each hour. The ﬁgure shows that the RSSI
values are clearly positively correlated with relative humidity.
The results are contradictory to each other in this matter.
Relative humidity is dependent on the temperature. Figures
13 and 14 shows temperature and relative humidity from
the 12th of January until the 8th of February and from the
14th of June until the 30th of June, respectively. The values
are averaged each hour. When the temperature changes, the
relative humidity will change. However, as in the case of RSSI,
the Figures 13 and 14 show clearly that relative humidity
36
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

24/01
26/01
28/01
30/01
01/02
03/02
05/02
07/02
09/02
−61
−60
−59
−58
−57
RSSI(dBm)
Days
 
 
70
75
80
85
90
Humidity(%)
RSSI
Humidity
Figure 11.
Relative humidity and RSSI between 12th Jan and 8th Feb
15/06
16/06
17/06
18/06
19/06
20/06
21/06
22/06
23/06
24/06
25/06
26/06
27/06
28/06
29/06
30/06
−64
−63.5
−63
−62.5
−62
−61.5
−61
−60.5
−60
Days
RSSI(dBm)
 
 
0
12.5
25
37.5
50
62.5
75
87.5
100
Humidity(%)
RSSI
Humidity
Figure 12.
Relative humidity and RSSI between 14th June and 30th June
correlates both positively and negatively with temperature.
On the other hand, relative humidity and temperature are
associated with the dew point. If the temperature T and
the relative humidity R are given the dew point Td can be
approximated by
Td ≈
bf(T, R)
a − f(T, R),
where
f(T, R)
=
aT
b + T ln R,
a
=
17.27,
b
=
237.7 ◦C.
When the dew point remains constant and temperature in-
creases, relative humidity will decrease. At a given barometric
pressure, independent of temperature, the dew point indicates
the mole fraction of water vapor in the air, and therefore
determines the speciﬁc humidity of the air. Thus, the dew
point can be a better ”absolute” measure of the air’s moisture
content than relative humidity.
24/01
26/01
28/01
30/01
01/02
03/02
05/02
07/02
09/02
70
80
90
Humidity(%)
Days
−40
−20
0
Temperature(°C)
 
 
Temperature
Humidity
Figure 13.
Relative humidity and temperature between 12th Jan and 8th Feb
15/06
17/06
19/06
21/06
23/06
25/06
27/06
29/06
01/07
20
40
60
80
Humidity(%)
Days
 
 
0
10
20
30
Temperature(°C)
Humidity
Temperature
Figure 14.
Relative humidity and temperature between 14th June and 30th
June
Figures 15 and 16 show the dew point and relative humidity
from the 12th January until the 8th of February and from the
14th of June until the 30th of June, respectively. The values
are averaged each hour and the dew points are calculated by
using the above equation. Both Figure 15 and Figure 16 show
that RSSI values are negatively correlated with the dew point.
We can conclude that the main part of the observed variation
of the received RSSI of a single static node can be explained
by the variation of weather conditions.
F. Power Consumption of Sensing Nodes
Normally
environmental
monitoring
networks
require
battery-powered nodes. In this special case we could, however,
use the main supply. In spite of main supply, the protocols
of the used nodes supported energy-efﬁciency. The power
consumption of a sensing node was measured by adding a
8.2Ω resistor next to the power supply. We measured the
voltage over the resistor and calculated the current using the
Ohm’s law. Similar methods have been used in [18] and [19].
In order to indicate the different phases, an output pin is
triggered when there is a phase transition.
A sensing node works periodically and each cycle has two
main modes: a sleep mode and a work mode. During a sleep
mode the radio module is turned off and the microcontroller
wakes up every second which takes at most 5ms and the power
37
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

24/01
26/01
28/01
30/01
01/02
03/02
05/02
07/02
09/02
−61
−60
−59
−58
−57
RSSI(dBm)
 
 
−40
−30
−20
−10
0
Dew point(°C)
Days
RSSI
Dew point
Figure 15.
Dew point and RSSI between 12th Jan and 8th Feb
15/06
16/06
17/06
18/06
19/06
20/06
21/06
22/06
23/06
24/06
25/06
26/06
27/06
28/06
29/06
30/06
−64
−63.5
−63
−62.5
−62
−61.5
−61
−60.5
−60
RSSI(dBm)
Days
 
 
−4
−2
0
2
4
6
8
10
12
Dew point(°C)
RSSI
Dew point
Figure 16.
Dew point and RSSI between 14th June and 30th June
consumptions stays below 6mA. The entire sleep mode takes
300s and the power consumption is below 30µA on average.
The work mode can be divided into 5 phases, which are
depicted in Figure 17. The phases t1, t2, and t3 are the tem-
perature, relative humidity, and luminosity measuring phases
which take approximately 216ms, 62ms, and 102ms, respec-
tively. The power consumption is approximately 12.4mA. The
phase t4 is the message preparing phase which takes about
81ms, and the power consumption is about 13.2mA. During
the phases t1 − t4 the microcontroller is turned on and the
radio module is turned off. In the phase t5, the transmitting
phase, both radio module and microcontroller are turned on,
and the duration of this phase depends on the number of
retransmissions. In case of missing acknowledgements, there
are at most three retransmissions. The phase takes at most
95ms, and the power consumption stays below 30.6mA.
The entire work mode takes at most 556ms, and the power
consumption is 15.6mA on average.
The duty cycle of the sensing node is very short. Sensing
nodes are in a sleep mode about 99.8% of the time. In average
the power consumption of the entire cycle is at most 59µA.
200
300
400
500
600
700
800
900
0
5
10
15
20
25
30
35
40
Time (ms)
Current (mA)
 
 
Current
T1: 216ms, 12.17mA
T2: 62ms, 12.06mA
T3: 102ms, 12.91mA
T4: 81ms, 13.15mA
T5: 95ms, 30.59mA
T1
T2
T3
T4
T5
Figure 17.
Power consumption of a sensing node
In the project a typical AA-type battery with voltage of 3.6V
and capacity of 1000mAh was used. It can support the sensing
node 1000mAh · 1/0.064mA ≈ 17014 hours, which is about
708 days.
During the project battery duration in a low temperature was
tested also. A battery-powered node measured temperature,
humidity and luminosity during 10 months from October 2006
onwards. The lowest temperature during the measurement
period was −33.6 ◦C and the highest 32.4 ◦C. The node
function was 100% reliable in all weather conditions. The
node was still working in July 2007 when the test period
ended. Thus, the test of battery powered node supports the
above calculations.
V. DISCUSSION
Although the application in the Foxhouse case was quite
small, we believe that it is actually quite a typical sensing
network with its typical problems and features. The imple-
mented network met the requirements. The biologists from
MTT Agrifood Research Finland got desired information
about habitat of animals, and the network reduced the need
for manual measurements.
From the network developers’ viewpoint the Foxhouse case
was twofold. The tested IEEE802.15.4 wireless communica-
tion links proved very reliable in hard outdoors conditions.
However, during the project the received RSSI of the static
nodes could vary signiﬁcantly in time, which could be ex-
plained by the variation of weather conditions. In spite of
some variations of the received RSSI, the quality of links
proved to be very good on average. Also the battery-powered
node worked ﬁne in spite of cold weather and the proto-
cols proved to support energy-efﬁciency. On the other hand,
the sensor nodes appeared to have some problems and the
cluster topology could not guarantee reliable communication
whenever there were problems in cluster heads. Alternative
communication paths would have been needed. Also, it is
important to recognize possible communication problems soon
after malfunctioning.
38
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

During the project we added some functionalities which
helped us to monitor network status. Information about quality
of links together with information of successful packet delivery
gave an idea about the network status and also helped to
evaluate possible reasons for malfunctioning. It is however
obvious that, in the future, network management in the CiNet
network needs more attention, and we are going to focus
our work on this question. Improvement of both diagnostics
and reconﬁguration is essential when thinking of usability and
reliability of the CiNet network.
VI. CONCLUSION
The environmental monitoring system in the Foxhouse case
proved that WSN using the IEEE802.15.4 communication pro-
tocol is reliable. The quality of links proved to be good on av-
erage in spite of some observed anomalies in link performance.
The project showed also the technology used is relatively
easy to implement in an environmental monitoring application.
The use of WSN made constant real-time data available
for biologists, and it also reduced manual measurements. To
that extent, the WSN in the Foxhouse case was successful.
There were nevertheless problems in functionalities of some
routing nodes, which together with the ﬁxed topology caused
unnecessary packet loss. Reliability of communication can be
improved by using a dynamic routing protocol. Design and
implementation of a dynamic routing protocol will be future
work. The Foxhouse case made it clear that IEEE802.15.4
based communication is suitable for environmental monitoring
applications, but more attention must be paid to network
management issues in the future.
REFERENCES
[1] I. Hakala, M.Tikkakoski, and I. Kivel¨a, “Wireless sensor network in
environmental monitoring - case foxhouse,” in Proceedings of the Sec-
ond International Conference on Sensor Technologies and Applications
(SENSORCOMM 2008), Cap Esterel, France, August 25-31 2008.
[2] R. Beckwith, D. Teibel, and P. Bowen, “Results from an agricultural
wireless sensor network,” in IEEE 1st Workshop on Embedded Net-
worked Sensors, Tampa, Florida, USA, 2004.
[3] J. Burrell, T. Brooke, and R. Beckwith, “Vineyard computing: Sensor
networks in agricultural production,” IEEE Pervasive Computing, vol. 3,
no. 1, 2004.
[4] R. Cardell-Oliver, M. Kranz, K. Smettem, and K. Mayer, “A reactive
soil moisture sensor network: Design and ﬁeld evaluation,” International
Journal of Distributed Sensor Networks, vol. 1, pp. 149–162, April 2005.
[5] P. K. Haneveld, “Evading murphy: A sensor network deployment in
precision agriculture,” Tech Report, 2007.
[6] K. Langendoen, A. Baggio, and O. Visser, “Murphy loves potatoes:
Experiences from a pilot sensor network deployment in precision
agriculture,” in Proc. 14th Intl. Workshop on Parallel and Distributed
Real-Time Systems (WPDRTS), Rhodes, April 2006.
[7] A. Mainwaring, J. Polastre, R. Szewczyk, D. Culler, and J. Anderson,
“Wireless sensor networks for habitat monitoring,” in Proceedings of
the 1st ACM International Workshop on Wireless Sensor Networks and
Applications, Atlanta, 2002, pp. 88–97.
[8] K. Martinez, J. Hart, and R. Ong, “Environmental sensor networks,”
IEEE Computer, vol. 37, no. 8, pp. 50–56, 2004.
[9] D. Lymberopoulos, Q. Lindsey, and A. Savvides, “An empirical char-
acterization of radio signal strength variability in 3-d ieee 802.15.4
networks using monopole antennas,” in European Workshop on Wireless
Sensor Networks, EWSN’06, Zurich, Switzerland, February 13-15 2006.
[10] J. Thelen, D. Goense, and K. Langendoen, “Radio wave propagation in
potato ﬁelds,” in Proceedings of the First workshop on Wireless Network
Measurements (co-located with WiOpt 2005), Riva del Garda, Italy, April
2005.
[11] M. Hebel, R. Tate, and D. Watson, “Results of wireless sensor network
transceiver testing for agricultural applications,” ASABE Paper No.
073077. St.Joseph, Mich.:ASABE, 2006.
[12] N. Ramanathan, E. Kohler, and D. Estrin, “Towards a debugging system
for sensor networks,” International Journal for Network Management,
2005.
[13] N. Ramanathan, L. Balzano, M. Burt, D. Estrin, E. Kohler, T. Harmon,
C. Harvey, J. Jay, S. Rothenberg, and M. Srivastava, “Rapid deployment
with conﬁdence: Calibration and fault detection in environmental sensor
networks,” CENS, Tech Report, 2006.
[14] P. Dutta, J. Hui, J. Jeong, S. Kim, C. Sharp, J. Taneja, G. Tolle,
K. Whitehouse, and D. Culler, “Trio: Enabling sustainable and scalable
outdoor wireless sensor network deployments,” in the Fifth International
Conference on Information Processing in Sensor Networks: Special track
on Platform Tools and Design Methods for Network Embedded Sensors,
2006.
[15] H. T. Korhonen, T. Rekil¨a, and T. Kivinen, “Siniketun kasvatus halli-
olosuhteissa,” Turkistalous, no. 8, 2006.
[16] I. Hakala and M. Tikkakoski, “From vertical to horizontal architecture
- a cross-layer implementation in a sensor network node,” in InterSense
2006, the First International Conference on Integrated Internet Ad hoc
and Sensor Networks, Nice, France, May 30-31 2006.
[17] Y. Chen, J. Chiang, H. Chu, P. Huang, and A. Tsui, “Sensor-assisted
wi-ﬁ indoor location system for adapting to environmental dynamics,”
in Proceedings of the 8th ACM Symposium on Modeling, Analysis
and Simulation of Wireless and Mobile Systems, MSWiM’05, Montreal,
Quebec, Canada, October 10-13 2005.
[18] E. Erdogan, S. Ozev, and L. Collins, “Online snr detection for dynamic
power management in wireless ad-hoc networks,” Research in Micro-
electronics and Electronics, no. 22, 2008.
[19] B. Hohlt, L. Doherty, and E. Brewer, “Flexible power scheduling for
sensor networks,” in Proceedings of the 3rd International Symposium
on Information Processing in Sensor Networks, IPSN 2004, Berkeley,
California, Usa, April 26-27 2004.
39
International Journal on Advances in Networks and Services, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Article part of a special issue on Wireless Sensor Networks

