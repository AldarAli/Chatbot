Comparison of the Fully-Differential and Single-Ended Solutions of the Frequency
Filter with Current Followers and Adjustable Current Ampliﬁer
Jan Jerabek and Kamil Vrba
Department of Telecommunications, Faculty of Electrical Engineering and Communication
Brno University of Technology
Purkynova 118, 612 00 Brno, Czech Republic
Emails: jerabekj@feec.vutbr.cz, vrbak@feec.vutbr.cz
Abstract—Two solutions of universal and adjustable current-
mode ﬁlters are presented in this contribution. The ﬁrst of them
is able to process single-ended (S-E) signals in communications
and the other can operate fully-differentially (F-D) and there-
fore is well applicable for balanced transmission lines. Both
circuits have adjustable quality factor and both are analyzed
in this contribution. Their simulation results are compared to
each other. Main contribution of this paper is the presentation
of two novel solutions and their mutual comparison.
Keywords-adjustable ampliﬁer; DACA; fully-differential.
I. INTRODUCTION
F-D structures [1]–[10], usually used on balanced com-
munication lines, have several beneﬁts when compared to
the single-ended (S-E) circuits. It is, for instance, higher
dynamic range of the signals, high attenuation of common-
mode signal, better power supply rejection ratio, and lower
harmonic distortion. F-D structures also have some disad-
vantages. They are, in particular, larger area needed on the
chip, which is related to greater power consumption, and
sometimes the design of F-D structures is more complex
with respect to S-E topologies.
The basics of the design of simple F-D structures with a
high Common Mode Rejection Ratio (CMRR) (by coupling
two S-E structures) were described in [1]. Transconductance
elements such as the Balanced Operational Transconduc-
tance Ampliﬁer (BOTA) [2] are very often present in F-
D ﬁlters. Differential-input buffered and transconductance
ampliﬁers (DBTA) [3] can also be applied, for instance.
The Fully Differential Current Feedback Operational Am-
pliﬁer (FDCFOA) operating in the voltage mode and having
various internal structures is also quite common [4]; for
example fully-differential current conveyors of the second
generation (FDCCII) [5]–[7] or fully-differential current fol-
lowers (FD-CF) [9], [10]. The structures traditionally work
in the voltage-mode (VM); however, recent research is also
focused on the current-mode (CM) ﬁlters. Various concep-
tions of simple F-D circuits capable of processing current-
mode signals can be found in [8], while the methodology for
the F-D ﬁlter design with various target requirements was
presented in [11].
Recently, current followers with non-unity gain [12] or
current ampliﬁers [13], [14] have been presented and should
be suitable for high-frequency applications. In [9], [15], [16],
the Digitally Adjustable Current Ampliﬁer (DACA) has been
presented.
The newly designed structure of the universal ﬁlter work-
ing in the current mode is compared with its F-D equivalent
in this contribution. Both solutions provide the possibility
of digital adjustment of the quality factor. Multiple-output
current follower (MO-CF) [17], [18], its fully-differential
equivalent, Fully-Differential Current Follower (FD-CF),
and DACA are used as active elements. The main aim of this
work is to compare these F-D and S-E solutions, because
this approach is not so common.
Contribution is organized as follows: Section II provides
short description of active elements; Section III includes de-
signed ﬁlters and Section IV summarizes simulation results.
II. ACTIVE ELEMENTS DEFINITIONS
The S-E and F-D structures presented in this contribution
operate with three types of active element. One is a simple
current active follower with dual or multiple outputs (DO-
CF, MO-CF) [17]. As an example, the DO-CF schematic
symbol is shown in Fig. 1a, and its simple 3rd-level simula-
tion model suitable for AC analysis is shown in Fig. 1b. This
model covers only input and output impedances. Ideally, the
current transfer from an input to an output is unity, with
inverted or non-inverted phase of the signal.
The F-D equivalent of the DO-CF circuit is the Fully-
Differential Current Follower (FD-CF), which is suitable
for fully-differential signal processing. It has at least four
outputs, two with positive current transfer and two with
negative current transfer from the input nodes. The FD-CF
schematic symbol is shown in Fig. 2a, a simple 3rd-order
AC simulation model is shown in Fig. 2b. The ideal FD-CF
is described by
IOUT1+ = IOUT2+ = (1/2)(IIN+ − IIN−),
(1)
IOUT1− = IOUT2− = −(1/2)(IIN+ − IIN−).
(2)
50
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

(a)
(b)
Figure 1.
Dual-Output Current Follower (DO-CF): (a) schematic symbol
(b) 3rd-order AC simulation model
(a)
(b)
Figure 2.
Fully-Differential Current Follower (FD-CF): (a) schematic
symbol (b) 3rd-order AC simulation model
A
Digitally
Adjustable
Current
Ampliﬁer
(DACA)
(Fig. 3a) is the other active element. The key feature of
DACA is that current gain (A) is adjustable and can be
controlled by three-bit digital bus. The DACA circuit was
lately developed in cooperation with ON Semiconductor in
the CMOS 0.35 µm technology. We have several samples
from the second test batch available and they are currently
undergoing the ﬁrst tests. The DACA 3rd-level AC simula-
tion model is depicted in Fig. 3b. The current transfers of
the DACA element are given by the relations
(a)
(b)
Figure 3.
Digitally Adjustable Current Ampliﬁer (DACA): (a) schematic
symbol (b) 3rd-order AC simulation model
IID = IIN+ − IIN− ,
(3)
IOD = IOUT+ − IOUT−,
IOD = 2AIID ,
(4)
IOUT+ = A(IIN+ − IIN−),
(5)
IOUT− = −A(IIN+ − IIN−).
(6)
where IID represents the differential input current, IOD is the
differential output current, and A stands for the adjustable
current gain of DACA element. It is clear that the differential
gain is twice higher than the single-ended gain. A can be
adjusted from 1 to 8 in steps of 1.
Measurement results for the DACA features are not yet
available; therefore the DACA is modeled only partially and
the model does not cover all parameters. Only input and
output impedances are modeled, similarly to DO-CF and
FD-CF elements.
III. DESIGNED S-E AND F-D FILTER
Universal ﬁlter with current-only active elements was
designed in both the single-ended (Fig. 4) and the fully-
differential (Fig. 5) variant. Independent adjusting of the
quality factor for every ﬁltering function is possible by
adjustable current gain of DACA in both variants.
The denominator of all transfer functions is for the S-E
ﬁlter equal to:
D(s) = 1 + sC2R2A + s2C1C2R1R2 .
(7)
Provided transfer functions are:
ILP
IIN
= −IiLP
IIN
=
1
D(s) ,
(8)
51
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

Figure 5.
Fully-differential universal and adjustable frequency ﬁlter with three FD-CF and one DACA elements working in the current mode
Figure 4.
Single-ended universal and adjustable frequency ﬁlter with three
MO-CF and one DACA elements working in the current mode
IBP
IVST
= sC2R2A
D(s)
,
(9)
IHP
IIN
= −IiHP
IIN
= s2C1C2R1R2
D(s)
,
(10)
ILP + IHP
IIN
= −IiLP + IiHP
IIN
= 1 + s2C1C2R1R2
D(s)
,
(11)
IiLP + IBP + IiHP
IIN
= −1 − sC2R2A + s2C1C2R1R2
D(s)
.
(12)
Relations for angular frequency and quality factor can be
easily derived:
ω0 =
r
1
R1R2C1C2
,
(13)
Q = 1
A
r
R1C1
R2C2
.
(14)
It is obvious that the quality factor of ﬁlters from Fig. 4
and Fig. 5 can be controlled by DACA gain A with an
inverse proportion. The F-D ﬁlter is designed so as to have
almost the same transfer functions as the S-E ﬁlter thanks to
appropriately modiﬁed values of passive elements as shown
in Fig. 5. In order to obtain particular transfer functions for
the F-D ﬁlter, A in each of the equations has to be replaced
by 2A because of the differential gain of DACA, which is
twice higher than the S-E gain, as demonstrated by eqs. (3)–
(6).
Table I
VALUES OF PASSIVE COMPONENTS
Variant [–]
C1 [pF]
C2 [pF]
R1 [kΩ]
R2 [Ω]
S-E
430
68
2
390
F-D
430
68
4
200
IV. SIMULATION RESULTS
To verify the theoretical presumptions, the behavior of
both the S-E and the F-D ﬁlters has been analyzed by Spice
simulations. The chosen or calculated values are summarized
in Table I. Theoretical pole frequency is 1 MHz in each
case, theoretical quality factor is Q = {0.9; 1.3; 2.9; 5.7},
obtained by gain values A = {8; 5; 2; 1}. It is clear that
resistor values are changed in the case of the F-D ﬁlter
from Fig. 5, because they are placed in lengthwise branches.
Therefore, R11 = R12 = 2 kΩ and R21 = R21 = 100 Ω.
Floating capacitor C1 (and C2, of course) could be replaced
by two grounded capacitors in the particular solution. These
capacitors would be 860 pF in the case of C1 and 136 pF
in the case of C2.
Simulation results comparing the S-E and the F-D ﬁlter
are shown in Fig. 6. All simulations were done with simple
models shown in Fig. 1b, Fig. 2b and Fig. 3b. The graph
in Fig. 6a contains magnitude responses of inverting low-
pass, band-pass, inverting high-pass and inverting band-stop
ﬁlters, Fig. 6b shows an example of quality factor adjustment
in the case of band-pass ﬁlter, and Fig. 6c includes all
characteristics of all-pass ﬁlter.
The differences between the S-E and the F-D solutions
are clearly visible in the low-frequency area, particulary in
the case of iHP and BP functions. The F-D ﬁlter provides
a slightly higher low-frequency attenuation than the S-E
solution. In the current mode, low-frequency attenuation is
dependent on the output impedances of active elements, but
in this particular case, the difference is caused mainly by
unequal values of resistors. The theoretical values of the
quality factor of BP ﬁlters are included in Fig. 6b, the
52
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

-70
-60
-50
-40
-30
-20
-10
0
10
1,0E+04
1,0E+05
1,0E+06
1,0E+07
1,0E+08
Magnitude response [dB] 
Frequency [Hz] 
 BP 
 iHP 
 iBS 
 iLP 
(a)
-60
-50
-40
-30
-20
-10
0
10
1,0E+04
1,0E+05
1,0E+06
1,0E+07
1,0E+08
Magnitude response [dB] 
Frequency [Hz] 
 0.9 
 1.3 
 2.9 
 5.7 
Qteor 
(b)
<<<<<
dif
nedif
>>>>
-300
-250
-200
-150
-100
-50
0
50
100
150
200
0,E+00
2,E-07
4,E-07
6,E-07
8,E-07
1,E-06
1,0E+04
1,0E+05
1,0E+06
1,0E+07
1,0E+08
Phase shift [degrees] 
Group delay [s] 
Frequency [Hz] 
-20
-10
0
10
20
0,01
1,00
100,00
Gain [dB] 
Frequency [MHz] 
 Phase 
Delay 
(c)
Figure 6.
Simulation results of universal and adjustable ﬁlters with four
current-only active elements; F-D ﬁlter (solid line) compared to S-E ﬁlter
(dotted line). (a) magnitude response of iLP, iHP, BP and iBS functions
(b) adjustement of quality factor in case of BP ﬁlter (c) iAP - magnitude
and phase response, group delay
simulation results for S-E are 4.3, 2.5, 1.2 and 0.8, and the
simulation results for F-D are 4.9, 2.6, 1.2, 0.8.
V. CONCLUSION
Both S-E and F-D ﬁlters have several beneﬁts when
compared to each other. Simulation results that were shown
in this contribution showed that both solutions provide com-
parable features and therefore both of them can ﬁnd good
applications in communications and transmission systems.
ACKNOWLEDGMENT
This work was supported in part by the Czech Science
Foundation, project 102/09/1681 and by the Czech Ministry
of Education, program MSM 0021630513.
REFERENCES
[1] O. Casas and R. Pallas-Areny. ”Basics of Analog Differential
Filters”, IEEE Transaction on Instrumentation and Measure-
ment, Vol. 45, No. 1, pp. 275–279, 1996.
[2] M. O. Shaker, S. A. Mahmoud, and A. M. Soliman, ”New
CMOS Fully-Differential Transconductor and Application to
a Fully-Differential Gm-C Filter”. ETRI Journal, Vol. 28, No.
2, pp. 175–181, 2006.
[3] N. Herencsar, J. Koton, and K. Vrba, ”Differential-Input
Buffered and Transconductance Ampliﬁer (DBTA)-Based
New Trans-Admittance- and Voltage-Mode First-Order All-
Pass Filters”.In Proceedings of the 6th International Confer-
ence on Electrical and Electronics Engineering - ELECO’ 09.
Turkey: EMO Yayinlari, pp. 256–259, 2009.
[4] S. A. Mahmoud, ”Low Voltage Fully Differential CMOS
Current Feedback Operational Ampliﬁer”, Proc 47th IEEE
Midwest Int Symposium Circuits and Systems, Vol. 1, pp. 49–
52, 2004.
[5] E. A. Soliman and S. A. Mahmoud, ”New CMOS fully
differential current conveyor and its application in realizing
sixth order complex ﬁlter”. IEEE International Symposium
Circuits and Systems, pp. 57–60, 2009.
[6] E. A. Sobhy and A. M. Soliman, ”Realizations of fully
differential voltage second generation current conveyor with
an Application”. International Journal of Circuit Theory and
Applications, Vol. 38, No. 5, pp. 441–452, 2010.
[7] C. M. Chang, B. M. Al-Hashimi, C. L. Wang, and C.
W. Hung, ”Single fully differential current conveyor biquad
ﬁlters”, IEEE Proc. of Circuits, Devices and Systems, No. 5,
pp. 394–398, 2003.
[8] R. H. Zele, D. J. Allstot, and T. S. Fiez, ”Fully balanced
CMOS current-mode circuits”. IEEE Journal of Solid-State
Circuits, Vol. 28, No. 5, pp. 569–575, 1993.
[9] J. Jerabek, R. Sotner, and K. Vrba, ”Fully-differential current
ampliﬁer and its application to universal and adjustable ﬁlter”.
In 2010 Int Conf on Applied Electronics. Pilsen: University
of West Bohemia, Czech Republic, pp. 141–144, 2010.
[10] A. Hussain and N. Tasadduq, ”Realizations of CMOS Fully
Differential Current Followers/Ampliﬁers”, IEEE Interna-
tional Symposium on Circuits and Systems (ISCAS 2009),
Taipei, Taiwan, pp.1881–1384, 2009.
[11] M. Massarotto, O. Casas, V. Ferrari, and R. Pallas-Areny,
”Improved Fully Differential Analog Filters”. IEEE Transac-
tion on Instrumentation and Measurement, Vol. 56, No. 6, pp.
2464–2469, 2007.
[12] W. Tangsrirat and T. Pukkalanun, ”Digitally programmable
current follower and its applications,” Int. J. Electron. Com-
mun. (AEU), vol. 63, no. 5, pp. 416–422, 2009.
53
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

[13] H. A. Alzaher, ”A CMOS digitally programmable universal
current mode ﬁlter,” IEEE Trans. Circuits and Systems II, vol.
55, no. 8, pp. 758–762, 2008.
[14] B. Sedighi and M. S. Bakhtiar, ”Variable gain current mirror
for highspeed appications,” IEICE Electronics Express, vol.
4, no. 8, pp. 277–281, 2007.
[15] J. Koton, N. Herencsar, J. Jerabek, and K. Vrba, ”Fully
Differential Current-Mode Band-Pass Filter: Two Design So-
lutions”. In Proc. 33rd Int Conf on Telecom and Signal
Procesing, TSP 2010. Baden, Austria, pp. 1–4, 2010.
[16] J. Jerabek, K. Vrba, and M. Jelinek, ”Universal Fully-
Differential Adjustable Filter with Current Conveyors and
Current Ampliﬁer in Comparison with Single-Ended So-
lution,” In 2011 Int Conf on Applied Electronics. Pilsen:
University of West Bohemia, Czech Republic, pp. 189–192,
2011.
[17] J. Jerabek, R. Sotner, and K. Vrba, ”Current-Mode Filters
with Single-Ended and Fully-Differential Nth- order Synthetic
Elements”. In Proceedings of the 34th International Con-
ference on Telecommunications and Signal Processing TSP
2011. Budapest: Hungary, pp. 269–273, 2011.
[18] J. Jerabek and K. Vrba, ”Design of Fully-Differential Filters
with nth-order Synthetic Elements and Comparison with
Single- Ended Solution”. In Proc of the 2011 Int Conf on
Computer and Communication Devices (ICCCD 2011). Bali,
Indonesia, pp. V1-48 – V1-52, 2011.
54
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

