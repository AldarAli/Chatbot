Genetic Algorithm For LoRa Transmission Parameter Selection
Aghiles Djoudi12, Raﬁk Zitouni2, Nawel Zangar1 and Laurent George1
1LIGM/ESIEE Paris, 5 boulevard Descartes, Champs-sur-Marne, France
2ECE Research Lab Paris, 37 Quai de Grenelle, 75015 Paris, France
Email: {aghiles.djoudi, nawel.zangar, laurent.george}@esiee.fr, raﬁk.zitouni@ece.fr
Abstract—The exponential growth of Internet of things (IoT)
applications in both industry and academic research raises many
questions in wireless sensor networks. Heterogeneous networks
of IoT devices strongly depend on the ability of IoT devices
to adapt their data transmission parameters to each application
requirement. One of the most important problem of the emerging
IoT networks is the limitation in terms of energy consumption
and computation capability. These limitations could be addressed
by using the edge computing to unload IoT devices from
additional computation tasks. Our work is motivated by the idea
of matching each transmission conﬁguration with a reward and
cost values to satisfy applications constraints. Our goal is to make
IoT devices able to select the optimal conﬁguration and send their
data to the gateway with the QoS required by IoT applications. In
this work, we use LoRa network to evaluate the efﬁciency of our
algorithm. Determining the best conﬁguration among 6720 LaRa
transmission settings is challenging. The difﬁculty is mainly due
to the lack of tools that could take all applications requirements
into account to select the best settings. To address this problem,
we use a genetic algorithm in an edge computing to select the
transmission parameters needed by the application. Each LoRa
conﬁguration represents a feature that needs to be selected to
match better the QoS criteria. Particularly, we analyze the impact
of selecting one conﬁguration in 3 kinds of applications: text,
voice and image transmission by modeling a new adaptive data
rate selection process.
Keywords—Genetic algorithm; Fuzzy logic; LoRaWAN; Adap-
tive Data Rate (ADR).
I. INTRODUCTION
The need of Low Power Wide Area Networks (LPWAN)
increased signiﬁcantly these ﬁve last years. The main factor is
that IoT devices require low power consumption to transmit
data in a wide area. LoRa, Sigfox and Narrowband IoT
(NB − IoT) are the most known technologies that satisfy
these requirements. Applications like smart building and smart
environment are one of hundreds use cases that need to be
deployed with such technologies. Unlike Sigfox and NB-IoT,
LoRa is more open for academic research because the spec-
iﬁcation that governs it is relatively open. The transmission
could be conﬁgured with 4 parameters: Spreading Factor (SF),
Transmission Power (Tx), Coding Rate (CR) and Bandwidth
(BW), to achieve better performance.
The main LPWAN research directions are about link op-
timization, adaptability and large scale networks to support
massive number of devices. The selection of an appropriate
transmission parameter for IoT networks typically depends
on the nature of the application. In this paper, we investigate
the performance of heterogeneous networks (i.e., when each
IoT device selects its LoRa transmission parameters according
to its link budget and the application requirements). For that
purpose, we have developed a LoRa transmission adaptation
mechanism. Both ns-3 simulator and the Low cost LoRa Gate-
way [1] are used to validate our approach. The computation
tasks of the selection process will run on the Gateway device
(Raspberry-pi) and the required settings will be sent to nodes
for the next transmission.
This paper is organized as follows. Section II elucidates
summary of related works. In Section III, we propose our
approach to solve LoRa parameter selection problem. Our
experiments is presented in Section IV. Section V concludes
this paper.
II. RELATED WORK
Transmission parameter conﬁguration mechanisms, such as
Adaptive Data Rate (ADR) scheme [2] need to be developed
to ﬁt each application requirement in terms of power con-
sumption, delay and packet delivery ratio. Solutions running
on LoRa node should be less complex to match computation
limitation of IoT devices as required in LoRaWAN speci-
ﬁcation. However, LoRa network server could run complex
management mechanism, which can be developed to improve
network performance. In this paper, we focus on the server-
side mechanisms.
The basic ADR scheme [2] provided by LoRaWAN predicts
channel conditions using the maximum received Signal Noise
Rate (SNR) in the last 20 packets. The basic ADR scheme is
sufﬁcient when the variance of the channel is low, it reduces
the interference compared with the static data rate [3][4]. How-
ever, their simplicity causes many potential drawbacks. First,
the diversity of LoRa Gateway models that measures SNR
make the measurement inaccurate as a result of hardware
calibration and interfering transmissions. Second, selecting the
maximum SNR each 20 packets received could be a very
long period in many IoT applications that require less uplink
transmission. Third, transmission parameters adjustment con-
siders only the link of a single node. If many LoRa nodes
are connected to the near gateway, all nodes connected to this
one will use the fastest data rate. In this case, the number of
53
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-753-5
ICSNC 2019 : The Fourteenth International Conference on Systems and Networks Communications

LoRa nodes using the same data rate will increase and the
probability of collisions also increases dramatically.
For example, the authors in [4] slightly modify the basic
ADR scheme by replacing the maximum SNR with the aver-
age function. In this paper, we focus on building a framework
that help IoT devices to adapt their transmission parameters
to the application requirements in a server side.
III. PROPOSED FRAMEWORK
The selection process scheme illustrated in Figure 1 can be
described following these ﬁve steps:
Operator policies
App preferences
QoS requirements
Device conditions
FL Criteria CN
FL Criteria C3
FL Criteria C2
FL Criteria C1
GA weights
Map conﬁguration
to the application
MCDM
Input
Training
Output
2nd component
3rd component
1st component
d1
d2
d3
dn
(w1, ..., wn)
Figure 1. The proposed scheme for LoRa transmission parameters selection
based on GA, FL and Multi-Criteria Decision Making MCDM.
1) According to the Semtech SX1276 LoRa transceiver [5],
there are 6720 possible settings (s1, ... , s6720) and the
framework has to select the most optimal one or to rank
them according to their relevance.
2) The ﬁrst step of the selection process depends on multiple
criteria up to i (c1, ... , ci). Different type of criteria
can be measured from different sources to cover the
maximum point of views, as an example, the network
server requirements, the applications requirements and
the devices conditions.
3) The Fuzzy Logic (FL) based subsystem gives an initial
score for each conﬁguration that reﬂects its relevance.
The different sets of scores (d1, ... , di) are sent to the
MCDM in the 5th step.
4) At the same time, the GA [6] assigns a suitable weight
(w1, ..., wi) for each initial selection decision, this selec-
tion is made according to the objective function that is
required by the application.
5) Using the initial scores coming from the 3rd step and
the weights using the 4th step, the multi criteria decision
making MCDM will select the most relevant settings
and rank them according to their reward.
IV. EXPERIMENTS
For our experiments we use both real environment (Figure
2) and ns-3 simulator with SX1276 LoRa module. However,
to test the scalability of genetic algorithm with numerous
IoT devices in a real environment, we use FIT IoT-LAB
platform among other platforms presented in [7]. This choice
is motivated by the number of devices supported by this
platform (up to 2000 nodes).
(a) Gateway (Raspberry-pi).
(b) Sensor node (Arduino).
Figure 2. Gateway & Sensor node.
Figure 2a presents the LoRa gateway that we build using
a low cost LoRa gateway [1] on a Raspberry-pi. Figure 2b
presents one of the two Arduino boards equipped with an
antenna that cover both 868 and 433 MHz band with a SX1276
LoRa Transceiver.
Due to the energy constraints of LoRa nodes of class A that
we use, our framework will send commands through the FCtrl
ﬁelds to ask nodes to adapt their transmission behavior to the
new application or the new environment conditions.
V. DISCUSSION
Our main contribution was to build 3 applications that
requires 3 different levels of QoS, such as text, sound and
image transmission. We used a low cost LoRa gateway on a
Raspberry-pi with 2 Arduino boards equipped with 2 LoRa
Transceivers based on the Semtech SX1276 speciﬁcation.
The main challenge addressed in this work was to explore
the application of genetic algorithm in LoRa transmission
parameter selection. To measure the accuracy of applying
genetic algorithm in an edge computing we expect to compare
our approach with other adaptive data rate solutions.
REFERENCES
[1]
Pham. (). Low Cost LoRa Gateway, [Online]. Available: https:
/ / github . com / CongducPham / LowCostLoRaGw (visited on
08/30/2019).
[2]
L. Alliance. ().
LoraWAN Speciﬁcation, [Online]. Available:
https://lora-alliance.org/resource-hub/lorawanr-speciﬁcation-
v103 (visited on 08/30/2019).
[3]
M. C. Bor, U. Roedig, T. Voigt, and J. M. Alonso, “ Do LoRa
Low-Power Wide-Area Networks Scale?
”, in Proceedings of
the 19th ACM International Conference on Modeling, Analysis
and Simulation of Wireless and Mobile Systems - MSWiM ’16,
00223, Malta, Malta: ACM Press, 2016, pp. 59–67.
[4]
M. Slabicki, G. Premsankar, and M. D. Francesco, “ Adaptive
Conﬁguration of Lora Networks for Dense IoT Deployments
”, NOMS 2018 - 2018 IEEE/IFIP Network Operations and
Management Symposium, pp. 1–9, 2018, 00025.
[5]
Semtech. ().
Semtech LoRa Technology Overview, [Online].
Available: https : / / www . semtech . com / lora (visited on
09/01/2019).
[6]
M. Alkhawlani and A. Ayesh, “
Access Network Selection
Based on Fuzzy Logic and Genetic Algorithms
”, Advances
in Artiﬁcial Intelligence, vol. 2008, pp. 1–12, 2008, 00089.
[7]
A.-S. Tonneau, N. Mitton, and J. Vandaele, “ How to Choose
an Experimentation Platform for Wireless Sensor Networks?
A Survey on Static and Mobile Wireless Sensor Network
Experimentation Facilities
”, Ad Hoc Networks, vol. 30,
pp. 115–127, Jul. 2015, 00046.
54
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-753-5
ICSNC 2019 : The Fourteenth International Conference on Systems and Networks Communications

