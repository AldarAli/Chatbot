Wayfinding Services in Crowded Buildings Through Visible Light  
 
Manuela Vieira, Manuel Augusto Vieira, Paula Louro, 
Alessandro Fantoni 
ADETC/ISEL/IPL,  
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
CTS-UNINOVA  
Quinta da Torre, Monte da Caparica, 2829-516,  
Caparica, Portugal 
  
e-mail: mv@isel.ipl.pt, mv@isel.pt, plouro@deetc.isel.pt, 
afantoni@deetc.isel.ipl.pt 
 
Pedro Vieira 
ADETC/ISEL/IPL,  
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
Instituto das Telecomunicações  
Instituto Superior Técnico, 1049-001,  
Lisboa, Portugal 
e-mail: pvieira@isel.pt 
 
Abstract— This paper investigates the applicability of an 
intuitive risk of transmission wayfinding system in public 
spaces, virtual races, indoor large environments and complex 
buildings using Visible Light Communication (VLC). Typical 
scenarios include: finding places, like a particular shop or 
office, guiding users across different floors, and through 
elevators and stairs. The system is able to inform the users, in 
real time, not only of the best route to the desired destination, 
through a route without clusters of users, but also of crowded 
places. Data from the sender is encoded, modulated and 
converted into light signals emitted by the transmitters. Tetra-
chromatic white sources are used providing a different data 
channel for each chip. At the receiver side, the modulated light 
signal, containing the ID and the 3D geographical position of 
the transmitter and wayfinding information, is received by a 
SiC optical sensor with light filtering and demultiplexing 
properties. Since lighting and wireless data communication is 
combined, each luminaire for downlink transmission becomes 
a single cell, in which the optical Access Point (AP) is located in 
the ceiling and the mobile users are scattered across the 
overlap discs of each cell, underneath. The light signals emitted 
by the LEDs are interpreted directly by the receivers of the 
positioned users. Bidirectional communication is tested. The 
effect of the location of the Aps is evaluated and a 3D model for 
the cellular network is analyzed. In order to convert the 
floorplan to a 3D geometry, a tandem of layers in a orthogonal 
topology is used, and a 3D localization design, demonstrated  
by a  prototype implementation, is presented. Uplink 
transmission is implemented, and the 3D best route to navigate 
through venue is calculated. Buddy wayfinding services are 
also considered. The results showed that the dynamic VLC 
navigation system enables to determine the position of a mobile 
target inside the network, to infer the travel direction along the 
time, to interact with received information and to optimize the 
route towards a static or dynamic destination.  
 
Keywords- Visible Light Communication; Indoor navigation; 
Bidirectional 
Communication; 
Wayfinding; 
Optical 
sensors;Multiplexing/demultiplexing techniques. 
I. 
INTRODUCTION 
Optical wireless communication has been widely studied 
during the last years in short-range applications. Therefore, 
communications within personal working/living spaces are 
highly 
demanded. 
The 
availability 
of 
portable 
communication devices, such as smartphones and tablets 
increases the demand on mobile wireless connectivity. 
Several technologies have been investigated to provide 
wireless connections to the users in indoor and outdoor 
environments. Nowadays, indoor positioning methods are 
mainly based on Wi-Fi, Bluetooth, Radio-Frequency 
Identification (RFID) and Visible Light Communications 
(VLC) [1][2][3][4]. VLC is a data transmission technology 
[5] that can easily be employed in indoor environments 
since it can use the existing LED lighting infrastructure with 
simple modifications [6][7]. VLC can be regarded as a light 
based Wi-Fi, i.e., instead of radio waves uses visible light to 
transmit the data. It presents advantages when compared 
with the Wi-Fi, namely the invulnerability to the hackers 
since it does not penetrate through the wall, its high capacity 
and efficiency. Once lights are essential part of operating 
rooms, the VLC technology finds applications in a wide 
variety of fields like: in medical and healthcare, in airlines 
and aviation, in supermarkets and railway stations, in retail 
stores, in hidden communication or in Line-of -Sight (LoS) 
applications as in traffic control, vehicle to vehicle 
communication or smart street lighting.  
The VLC systems use the wavelength range between 380 
nm and 780 nm and the LEDs are used as light sources and 
transmitters. Therefore, the LEDs are twofold by providing 
illumination, as well as communication. LEDs are 
incoherent light sources and transmitting information can 
only be realized by the optical intensity change. Here, the 
On-OFF keying (OOK) modulation scheme is used. In the 
sequence, we propose to use modulated visible light, carried 
out by white tetra-chromatic low cost LEDs. The use of 
those LEDs provides different data channel for each chip 
offering 
the 
possibility 
of 
Wavelength 
Division 
Multiplexing (WDM), which enhances the transmission data 
rate. At the receiver side, the modulated light signal is 
received by a SiC photodetector, based on a tandem a-
SiC:H/a-Si:H pin/pin structure, that presents light filtering 
and demultiplexing properties decoding the received 
1
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

information[8 [9]. Here, when different visible signals are 
encoded in the same optical transmission path, the device 
multiplexes the different optical channels, performs 
different filtering processes (amplification, switching, and 
wavelength conversion) and finally decodes the encoded 
signals recovering the transmitted information. 
Research is still necessary to design LED arrangements 
that can optimize communication performance while 
meeting the illumination constraints for a variety of large 
indoor layouts. Visible light can be used as an ID system in 
different places such as buildings and subways and can be 
employed for identifying the room number and its building. 
The main idea is to divide the space into spatial beams 
originating from the different ID light sources, and identify 
each beam with a unique timed sequence of light signals. 
Fine-grained indoor localization can enable several 
applications; in airports, supermarkets and shopping malls. 
Exact location of products can greatly improve the 
customer's shopping experience and enable customer 
analytics and marketing [10]. The signboards, based on 
arrays of LEDs, positioned in strategic directions to 
broadcast the information [11], are modulated acting as 
down- 
and 
up-link 
channels 
in 
the 
bidirectional 
communication.  
In this paper, a LED-supported positioning and 
navigation VLC system is proposed. After the Introduction, 
in Section II, a VLC scenario for large environments is 
established, the emitters and receivers are characterized and 
the communication protocol presented. In Section III, the 
main experimental results are presented, the effect of the 
location of the optical Access Points (Aps) is evaluated and 
a model for the different cellular networks is analysed. 
Square and hexagon mesh are tested, and a 2D localization 
design, demonstrated by a prototype implementation, is 
presented. Uplink transmission is implemented and the 2D 
best route to navigate through venue calculated. In section 
IV the conclusions are drawn showing that the system make 
possible to determine the position of a mobile target inside 
the network, to infer the travel direction along the time and 
to interact with information received. 
II. 
VLC NETWORK  
In the follow the VLC network is described. 
 
A. 
Architecture 
The scenario simulated is an airport. Here, the  raveler, 
equipped with a receiver, navigates from outdoor to indoor. 
It sends a request message to find the right track and, in the 
available time, he adds customized points of interest and 
halls to boarding. During his path, the passenger is advised 
how to reach its destination and the possibility to use 
location 
based 
advertising 
services. 
The 
requested 
information is sent by the emitters at the ceiling to its 
receiver. In Figure 1, the proposed architecture and scenario 
are illustrated. 
Restaurants
Red
Green
Blue
Violet
Transmitters
Boarding
A1
A2
A4
A3
B
A
Hall
Shops
Receivers
B
C
C
Main entrance
a) 
b) 
 
Figure 1 
a) Optical infrastructure and indoor layout.b) a) Mesh and 
cellular hybrid architecture  
Two topologies were considered: the square for the main 
hall and the hexagonal for the marketing zones (Figure 1a). 
Data from the infrastructure is encoded, modulated and 
converted into light signals emitted by the transmitters. 
Tetra-chromatic (Red, Green, Blue, Violet) white sources 
are used, providing a different data channel for each chip. 
At the receiver side, the modulated light signal, containing 
the ID and the 2D geographical position of the transmitter 
and wayfinding information, is received by a SiC 
photodetector with light filtering and demultiplexing 
properties. To synchronize the signals from multiple LEDs, 
the transmitters use different IDs, allowing the signal to be 
reconstructed at the receiver.  
Although not the scope of this paper, we propose a mesh 
cellular hybrid structure to create a gateway-less system 
without any external gateways needed. We propose this 
network configuration since it is wireless and ad-hoc. It 
spans all devices, is wire free, demonstrate resiliency to 
physical obstructions and adapt to changes in the 
transmission medium. Therefore, a mesh network is a good 
fit because it dynamically reconfigures itself and grows to 
2
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

the size of any installation. Is also a secure and trustworthy 
network [12]. As illustrated in Figure 1b, the luminaires, in 
this architecture, are equipped with one of two types of 
nodes: A “mesh” controller that connects with other nodes 
in its vicinity. These controllers can forward messages to 
other devices (I2D) in the mesh, effectively acting like 
routers nodes in the network. A “mesh/cellular” hybrid 
controller, that is also equipped with a modem providing IP 
base connectivity to the central manager services (CM). 
These nodes acts as border-router and can be used for edge 
computing. Under this architecture, the short-range mesh 
network purpose is twofold: enable edge computing and 
device-to-cloud communication, by ensuring a secure 
communication from a luminaire controller to the edge 
computer or datacenter (I2CM), through a neighbor 
luminaire controller with an active cellular connection; and 
enable peer-to-peer communication (I2IIP), to exchange 
information between smart devices. 
 
B. 
Large Environments emitters and receivers  
The principal components of the VLC system are the 
LEDs, which acts as the communication sources and the SiC 
WDM devices that serves as receiving element. Data from 
the sender is converted into an intermediate data 
representation, byte format, and converted into light signals 
emitted by the transmitter module. The light signal is 
received by the WDM photodetector that detects the on/off 
states of the LEDs, generates a binary sequence of the 
received signals and convert data into the original format.  
The LEDs emit light when the energy levels change in 
the semiconductor diode. The wavelength depends on the 
semiconductor material used to form the LED chip. For data 
transmission, commercially available polychromatic white 
LEDs were used at the nodes of the network. On each node 
only one chip is modulated for data transmission and carries 
useful information while the others are only supplied with 
DC to maintain white colour illumination. Red (R; 626 nm), 
Green (G;530 nm), Blue (B; 470 nm) and violet (V; 390 
nm) LEDs, are used [13][14]. Since lighting and wireless 
data communication is combined, each luminaire for 
downlink transmission become a single cell, in which the 
optical access point (AP) is located in the ceiling and the 
mobile users are scattered within the overlap discs of each 
cells underneath.  
Lighting in large environments is designed to illuminate 
the entire space in a uniform way. Ceiling plans for the LED 
array layout is shown in Figure 2. Two topologies 
considered: the square, (Figure 2a) and the hexagonal 
(Figure 2b). In the square lattice topology the cells have 
squares shapes while in the hexagonal one they are 
distributed to form a hexagonal shaped constellation. To 
receive the information from several transmitters, the 
receiver must be positioned where the circles from each 
transmitter 
overlaps, 
producing 
at 
the 
receiver, 
a 
multiplexed (MUX) signal that, after demultiplexing, acts 
twofold as a positioning system and a data transmitter.  
 
1
R1,2
V2,3
B2,2
G1,3
1
1
1
1
2
2
4
5
4
5
5
6
6
6
8
8
8
9
9
9
9
8
4
2
4
6
2
3
7
G3,3
R3,2
3
3
4
2
,2
2
9
9
1
1
1
1
1
7
4
6
6
8
8
8
8
5
7
2
2
8
6
6
6
4
4
4
5
V4,3
5
B4,2
V4,1
R1,4
B2,4
3
R3,4
3
3
B4,4
G1,1
V2,1
7
7
G3,1
7
G5,1
G5,3
R5,4
R5,2
G1,5
V2,5
G3,5
V4,5
G5,5
1
2
8
4
5
6
1
1
1
1
1
1
2
2
2
2
2
2
6
6
6
6
6
9
9
5
9
9
8
8
8
8
8
8
4
4
4
4
4
3
3
9
7
9
7
7
7
7
Hall
B
A
C
 
1
2
3
5
5
R
G
B
V
X
Y
5
1
2
3
5
5
5
5
R1,1
G0,1
G2,1
R3,1
R-1,1
G-2,1
V2,2
V0,2
B1,2
B-1,2
B3,2
V0,0
V2,0
V-20
B1,0
B-1,0
R1,-1
R-3,-1 G-2,-1
G2,-1
V-2,-2
V0,-2
B-1,-2
B-3,-2
B1,-2
R-1,-3
G-2,-3
R1,3
G2,3
G0,-1
R-1,-1
4
4
4
4
4
4
 
Figure 2. Illustration of the optical scenarios (RGBV >modulated LEDs 
spots). Cellular topologies:  a) Clusters of cells in square topology . b) 
Clusters of cell in hexagonal topology. 
In both topologies, each node, X I,j, carries its own color, 
X, (RGBV) as well as its ID position in the network (I,j). In 
both, the grid sizes were chosen to avoid overlap in the 
receiver from adjacent grid points. The overlap regions 
(footprints) are pointed out in Figure 2 and reported in Table 
1. The device receives multiple signals, finds the centroid of 
the received coordinates and stores it as the reference point 
position. 
Users 
in 
different 
locations 
are 
served 
simultaneously by the same transmitter leading to a fine 
grained implementation. Due to the overlapping coverage 
area of adjacent Aps joint transmission exists. In Table I, 
and for both topologies, the overlap regions below each AP 
(footprints) are displayed.  
3
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

TABLE 1 FINE-GRAINED TOPOLOGIES: FOOTPRINT REGIONS. 
Footprint 
regions 
Square topology 
Hexagonal 
topology 
#1 
RGBV 
RGV 
#2 
RGB 
GBV 
#3 
RB 
RBV 
#4 
RBV 
RGB 
#5 
BV 
RGBV 
#6 
GBV 
- 
#7 
GV 
- 
#8 
RGV 
- 
#9 
RG 
- 
 
The VLC photosensitive receiver is a two terminal 
double 
PIN 
photodetector 
based 
on 
a 
multilayer 
heterostructure, 
p-I’(a-SiC:H)-n/p-i(a-Si:H)-n. 
Two 
transparent front and back contacts are used [8]. The device 
presents high sensitivity and linear response in the visible 
range 
generating 
at 
the 
terminals 
a 
proportional 
photocurrent. It fast response enables the possibility of high 
speed communications. Modulated light supplied by the 
polychromatic LEDs is used for data transmission. The 
signals are encoded into colours intensities emitted by red, 
green, blue and violet LEDs. The generated photocurrent is 
processed using a transimpedance circuit and the 
proportional voltage is processed, by using signal 
conditioning techniques (adaptive bandpass filtering and 
amplification, triggering and demultiplexing), until the data 
signal is reconstructed at the data processing unit (digital 
conversion, decoding and decision) [13].  
 
C. 
Modulation technique 
An on-off keying (OOK) modulation scheme was used 
providing a good trade-off between system performance and 
implementation complexity. The OOK transmits data by 
sequentially turning on and off the LED providing digital 
dimming support. To create a communication protocol to 
ensure the required system performance and overcome the 
technology constraints, a 32 bits data frame was designed. 
Three control fields, one for synchronism (Sync.) and two 
for the identification of the cell (ID) begin each frame. This 
sequence is followed by a fourth block that is for the 
payload, as it is shown, for both topologies, in Figure 3. A 
stop bit is used at the end of each frame.  
 
 
 
Figure 3. Data frame structure. Representation one encoded message, in a 
time slot from the array in the network: a) Square topology; R12 ; G1,3 ; B2,2 
and V2,3 are the transmitted node packet.       B) Hexagonal topology; R-1,-1; 
G0,-1; B1,0 and V0,0  are the transmitted node packet. 
The first five bits in the frame are used for time 
synchronization. The same synchronization header [10101], 
in an ON-OFF pattern, is imposed simultaneously to all 
emitters. Each colour signal (RGBV) carries its own ID-
BIT, so, the next bits give the coordinates of the emitter 
inside the array (Xi,j). Cell’s IDs are encoded using a binary 
representation for the decimal number. In the square 
topology (Figure 3a) six bits are used: the first three for the 
binary code of the line and the other three for the column. In 
the hexagonal topology, 60º Cartesian coordinates were 
applied (Figure 2b). Here, An extra bit was added at the 
beginning of the binary code to represent the number’s sign: 
setting that bit to 0 is for a positive number, and setting it to 
1 is for a negative number. The remaining bits in the 
number indicate the absolute value. So, the next eight bits 
(ID) are assigned, respectively, to the x and y coordinate (I,j) 
of the emitter in the array (Figure 3b). For both, the last bits, 
in the frame, are reserved for the message send by the Xij 
node (payload data). With this information, the method will 
give an unique answer, i.e., the location of the receiver in 
the array (Xi,j) and the broadcast information. 
Results show that in the square network R1,2 , G1,3, B2,2 
and V2,3 are the transmitted node packets, in a time slot, 
from the unit cell where the restrooms are located (Figure 
2a). In the hexagonal network, the nodes R-1,-1, G0,-1, B1,0 and 
V0,0, at the first ring of the restaurant zone (Figure 2b) are 
the transmitters. 
III. 
EXPERIMENTAL RESULTS AND DISCUSSION 
Main results are discussed. 
4
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

A. 
Decoding, Positioning and point-to-point Route 
In a data frame, the MUX signal at the receiver, due to 
the joint transmission of four R, G, B and V optical signals, 
is presented in Figure 4. The data acquisition was obtained 
under environment light. On the top the bit sequence used to 
drive the LEDs is displayed. This sequence allows all the 
on/off sixteen possible combinations of the four input 
channels (24).  
0.0
0.5
1.0
1.5
2.0
2.5
0
1
2
3
4
5
6
7
8
#1
d15
d14
d13
d12
d11
d10
d9
d8
d7
d6
d5
d4
d3
d2
d1
d0
R
G
B
V
0 0 0 0
0 0 0 1
0 0 1 0
0 0 1 1
0 1 0 0
0 1 0 1
0 1 1 0
0 1 1 1
1 0 0 0
1 0 0 1
1 0 1 0
1 0 1 1
1 1 0 0
1 1 0 1
1 1 1 0
1 1 1 1
R G B V
 
 
MUX ()
Time (ms)
Figure 4. MUX signal of the calibrated cell. On the top the transmitted 
channels packets [R, G, B, V] are depicted. A received MUX signal is also 
superimposed to exemplify the decoding process. 
 
Results show that the code signal presents as much 
separated levels as the on/off possible combinations of the 
input 
channels, 
allowing 
decoding 
the 
transmitted 
information [12]. All the ordered levels (d0-d15) are pointed 
out at the correspondent levels, and are displayed as 
horizontal dotted lines. In the right hand side the match 
between MUX levels and the 4 bits binary code assigned to 
each level is shown. For demonstration of the decoding 
technique, a signal received, in the same frame of time, 
when the receiver is in the main the hall (Figure 2a) 
underneath position #1, is also added. Comparing the 
calibrated levels (d1-d15) with the different assigned 4-digit 
binary code, the decoding is straightforward. 
After decoding each input channel, and taking into account 
the frame structure (Figure 3), the position of the receiver 
and its ID in the network is revealed[15] [16]. The footprint 
position comes directly from the synchronism block, where 
all the received channels are simultaneously on or off. For 
instance, in any footprint #1 the maximum amplitude 
detected (see arrow) corresponds to the binary word [1111], 
meaning that the received information comes from the 
overlap of the four input channels. 
0.0
0.5
1.0
1.5
2.0
2.5
t3
t3
t1
t2
t1
[#5]
[#7]
[#3]
[#9]
[#1]
0011
0101
1100
1010
1111
RGBV
ID
Sync
Payload data
V2,3
B2,4
G3,3
R3,4
 
 
IMUXnor
Time (ms)
 
 
 
Figure 5. Fine-grained indoor localization and navigation in successive 
instants (t1, t2 and t3): MUX/DEMUX signals in a point-to-point path 
across the main hall (#5>#1> #9) at the. On the top the complete 
transmitted channels packets [R, G, B, V] are decoded. 
In Figure 5, for the same frame time and in three 
successive instants (t1, t2, t3), the received MUX signals, 
when the receiver is in the main hall and moves from #5 to 
#9, through #1 (Figure 2a), confirms the decoding process. 
Decoding, when the four channels overlap (#1), is set on the 
top of the figure to direct into the packet sent by each node. 
The footprint position comes directly from the synchronism 
block. For instance, if the maximum amplitude detected 
corresponds to the binary word [0011], it means that it has 
only received the overlap transmission from the blue and the 
violet channels (footprint #5). In the right side of the figure 
the levels other levels ascribed to #1, #3, #5 and #9 are point 
it out. 
Each decoded message carries, also, the transmitter’s 
node address. So, the next block of six bits, in the square 
topology (or eight in the hexagonal one), gives de ID of the 
received node. In Figure 5, in position #5 the network 
location of the transmitters are B2,4 [010;100] and V2,3 
[010;011] and while in #1 the assigned transmitters are R3,4, 
G3,3, B2,4 and V2,3. The last block is reserved for the 
transmission of the advertising (Payload data). The stop bit 
(0) is used always at the end of each frame.  
To compute the point-to-point along a path, we need the 
data along the path. The input of the aided navigation 
system is the coded MUX signal, and the output is the 
system state decoded at each time step (t). As a proof of 
concept, in the lab, a navigation data bit transition was 
tested by moving the receiver along known pattern path. In 
5
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

this example (Figure 5) at t1 the user enters the hall by line 
#5, it goes to position #1 at t2 and it chooses the boarding 
terminal C (#5) at t3. Results show that, as the receiver 
moves between generated point regions, the received 
information pattern changes. Between two consecutive data 
sets, there is a navigation data bit transition (channel is 
missing or added). We observe that when the receiver 
moves from #1 to # 9 (Figure 5) two different ID channels 
are missing (B2,4 and V2,3). Here, the 4-bynary bit code has 
changed from [1111] to [1100].  
In Figure 6, a path across the hexagonal topology was 
also tested. Here, the receiver enters the restaurants area 
(#4> #5> #3). 
0.0
0.5
1.0
1.5
2.0
2.5
R
#4(t1)
#3 (t3)
#5 (t2)
[1011]
[1110]
[1111]
RGBV
Payload data
ID
Sync
V0,-2
B-1,-2
G-2,-3
R-1,-3
 
 
IMUX nor
Time (s)
 
 
 
Figure 6 
Fine-grained indoor localization and navigation in successive 
instants instants (t1, t2 and t3). Signal acquisition through the restaurants 
area (R). On the top the transmitted channels packets are decoded [R, G, B, 
V]. 
Main results from both topologies show that fine grained 
localization is achieved by detecting the wavelengths of the 
received channels in each region. The location and path of a 
mobile receiver was obtained based on the LED-based 
navigation system. In an orthogonal layout (hall), the square 
topology is the best. It allows crossroads and the client can 
walk easily in the horizontal, vertical or both directions. In 
concentric layouts, to fill all the space with hexagon 
presents advantages (restaurants, and shops areas). Here, the 
client can move around and walk between the different rings 
toward the outside region.  
 
B. 
Bidirectional Communication 
The VLC is a wireless broadband technology. It provides 
multiuser with simultaneous access communication. All the 
nodes communicate with each other through a centralized 
controller and the signal is used to establish a point-to-point 
link between the transmitters and the receiver. 
Request
Response
 
0.0
0.5
1.0
1.5
2.0
2.5
0.0
0.5
1.0
 INFO 
#3
#3
0 1 1 0 1 0
0 1 1 0 1 0
0 1 0 0 1 0
0 0 0 0 0 0
0 1 0 0 1 0
0 0 0 0 0 0
Response
Request
[0000]
[0010]
[1000]
  ID    
B2,2
R3,2
RGBV
[1010]
 Sync
      Payload Data    
B2,2
R3,2
 
 
I MUX nor
Time (ms)
 
Figure 7. Bidirectional communication: MUX/DEMUX signals assigned 
to a “request” and a “response” message. On the top the transmitted 
channels packets [Xi,j] are decoded. 
Bidirectional communication between VLC emitters and 
receivers at a handheld device can be established through a 
control manager linked to a signboard. Each ceiling lamp 
broadcasts a message with its ID and useful information 
which is received and processed by the receiver. Using a 
white polychromatic LED as optical source for uplink, the 
receptor sends to the local controller a “request” message 
with its location (ID) and adds its needs for the available 
time (Payload data). For route coordination, the local 
controller emitter sends the downlink “response” message. 
In Figure 7, the MUX signal assigned to a “request” and a 
“response” message are displayed. In the top, the decoded 
information is presented. In the right side, the match 
between the MUX signal and the 4-binary code is pointed 
out. 
Here, in a time slot, the traveler, in position #3 (R3,2 , 
B2,2), sends to the central controller the message “request” 
in order to add the points of interest (boarding or the right 
track). After that it is advised, through a “response” 
message, that the request was received, how to reach its 
4
3
5
6
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

destination in time and how to use location based services. 
In bidirectional VLC transmission we use different codes in 
the frame structure for uplink and downlink. Taking into 
account the frame structure (Figure 3), results show that the 
codification of both signals is synchronized (Sync). The 
“request” message includes the complete address of the 
traveller (Sync+ID) and the help need (Payload Data). In the 
“response” message the block (ID), in a pattern [000000], 
means that a response message, from the local manager, is 
being sent. The next block (6 bits) identifies the address 
(INFO) for which the message is intended and finally in the 
last block appears the requested information (Payload Data). 
Here, the emitter controller [000000] responds to a request 
of a passenger located in position # 3 (R3,2 , B2,2) and sends 
back the requested information. 
 
C. 
Multi-person cooperative localization 
An unforeseen pandemic is facing the world caused by a 
corona virus known as SARS-CoV-2. Transmission of the 
coronavirus is possible indoors, especially when people 
spend extended periods in crowded and poorly ventilated 
rooms [ 17 ]. The widely accepted main transmission 
mechanism is through droplet borne pathways. Person-to-
person spread to be the most common form of transmission, 
occurring mainly among people who are within 2m of each 
other for a prolonged period of time. This means people 
should stay the recommended distance apart from others. It 
also means people should avoid gathering in groups, 
crowded places and mass gatherings. 
Person-to-person spread to be the most common form of 
transmission of COVID-19, occurring mainly among people 
who are within 2m of each other for a prolonged period of 
time. This means people should stay the recommended 
distance apart from others. It also means people should 
avoid gathering in groups, crowded places and mass 
gatherings. So, in crowded building the routes to a specific 
place should avoid those regions. We consider that the risk 
of transmission exists if the distance between two users is 
less than 2 m. The system has to alert the users to stay away 
from those regions and to plan the better route to the desired 
wayfinding services 
The existence of congested zones can be locally detected 
by the “mesh / cellular” hybrid controller (Figure 1b), which 
is also equipped with a modem providing IP base 
connectivity to the central manager. The hybrid controller 
integrates the number of requests and individual positions, 
received during the same time interval. Once the individual 
positions are known, the relative positions are calculated. If 
the relative position is less than 2 m, a contamination risk 
locally exists and an alert message is send for the users and 
the CM is informed. This alert allows the CM to recalculate, 
in real time, the best route for the users that request 
wayfinding services avoiding crowded regions.  
IV. 
CONCLUSIONS  
A VLC multi-person cooperative localization dynamic 
LED-assisted 
navigation 
system 
for 
large 
indoor 
environments was proposed. For lighting, data transmission 
and positioning, white LEDs were used. A SiC optical 
MUX/DEMUX mobile receiver decodes the data and based 
on the synchronism and ID of the joint transmitters infers its 
location, point-to-point path, timing and user flows.  
A VLC scenario was established and the communication 
protocol presented. Bidirectional communication between 
the infrastructures and the mobile receivers were analysed. 
Two cellular networks were tested and compared: square 
and hexagonal. Main results show that, for both topologies, 
the location of a mobile receiver, concomitant with data 
transmission is achieved. The LED-aided VLC navigation 
system make possible to determine the position of a mobile 
target inside the network, to infer the travel direction along 
the time and to interact with received information. 
Minding the benefits of VLC, it is expected that this type 
of communication will have an important role in positioning 
applications. Moving towards real implementation, the 
performances of such systems still need to improve. As a 
future goal, we plan to finalize the embedded application, 
for experimenting in several network layouts. Effects as 
synchronization, shadowing and ambient light noise will be 
minimized by distributing lighting sources (MIMO 
techniques) to optimize the coverage. 
ACKNOWLEDGEMENTS 
This work was sponsored by FCT – Fundação para a 
Ciência e a Tecnologia, within the Research Unit CTS – 
Center 
of 
Technology 
and 
Systems, 
reference 
UIDB/00066/2020. The project IPL/IDI&CA/2020/Geo-
Loc/ISEL, is also acknowledge. 
REFERENCES 
 
[1] C. Yang, and H. R. Shao,, “WiFi-based indoor positioning,” 
IEEE Commun. Mag., vol. 53, no. 3, pp. 150–157, Mar. 2015. 
[2] X. Y. Lin, T. W. Ho, C. C. Fang, Z. S. Yen, B.J. Yang, and F. 
Lai, “A mobile indoor positioning system based on iBeacon 
technology,” in Proc. Int. Conf. IEEE Eng. Med. Biol. Soc., 
pp. 4970–4973, 2015. 
[3] C. H. Huang, L. H. Lee, C. C. Ho, L. L. Wu, and Z. H. Lai, 
“Real-time rfid indoor positioning system based on kalman 
filter 
drift 
removal 
and 
heron-bilateration 
location 
estimation,” IEEE Trans. Instrum. Meas., vol. 64, no. 3, pp. 
728–739, Mar. 2015. 
[4] N. U. Hassan, A. Naeem, M. A. Pasha, T. Jadoon, and C. 
Yuen, “Indoor positioning using visible led lights: A 
survey,”ACM Comput. Surv., vol. 48, pp. 1–32 , 2015. 
[5] E. Ozgur E. Dinc, O. B. Akan, “Communicate to illuminate: 
State-of-the-art and research challenges for visible light 
communications,” Physical Communication 17 pp. 72–85, 
2015. 
 
 
 
7
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

 
[6] D. Tsonev, H. Chun, S. Rajbhandari, J. McKendry, S. Videv, 
E. Gu, M. Haji, S. Watson, A. Kelly, G. Faulkner, M., 
Dawson, H. Haas, and D. O’Brien, “A 3-Gb/s single-LED 
OFDM-based wireless VLC link using a Gallium Nitride 
μLED,” IEEE Photon. Technol. Lett. 26 (7), pp.637–640, 
2014. 
[7] D. O’Brien, H. L. Minh, L. Zeng, G. Faulkner, K. Lee, D. 
Jung, Y. Oh, and E. T. Won, “Indoor visible light 
communications: challenges and prospects,” Proc. SPIE 7091, 
709106, 2008. 
[8] M. Vieira, P. Louro, M. Fernandes, M. A. Vieira, A. Fantoni 
and J. Costa, “Three Transducers Embedded into One Single 
SiC Photodetector: LSP Direct Image Sensor, Optical 
Amplifier and Demux Device,” Advances in Photodiodes 
InTech, Chap.19, pp.403-425, 2011. 
[9] M. A. Vieira, P. Louro, M. Vieira, A. Fantoni, and A. Steiger-
Garção, “Light-activated amplification in Si-C tandem 
devices: A capacitive active filter model,” IEEE sensor 
journal, 12, NO. 6, pp. 1755-1762, 2012. 
[10] A. Jovicic, J. Li, and T. Richardson, “Visible light 
communication: opportunities, challenges and the path to 
market,” Communications Magazine, IEEE, vol. 51, no. 12, 
pp. 26–32, 2013. 
[11] S. B. Park, D. K.Jung, H. S. Shing, D. J. Shing, Y. J. Hyun, 
K. Li, and Y. J. Oh, “Information broadcasting system based 
on visible light signboard,” presented at Wireless and Optical 
Communication 2007, Montreal, Canada, 2007. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
[12] A. Yousefpour C. Fung T. Nguyen, K. Kadiyala, F. Jalali, A. 
Niakanlahiji, J. Kong J. P. Jue, “All one needs to know about 
fog computing and related edge computing paradigms: A 
complete survey”, Journal of Systems Architecture,Volume 
98, pp. 289-330, 2019. 
[13] M. Vieira, M. A. Vieira., P. Louro., P. Vieira, A. Fantoni, 
“Fine-grained indoor localization: optical sensing and 
detection,” Proc. SPIE 10680, Optical Sensing and Detection 
V, 106800H (9 May 2018). 
[14] M. Vieira, M. A. Vieira., P. Louro., P. Vieira, A. Fantoni,., 
“Light-emitting diodes aided indoor localization using visible 
light communication technology,” Opt. Eng. 57(8), 087105 
(2018). 
[15] M. A. Vieira, M. Vieira, P. Louro,V. Silva, and P. Vieira, , 
"Optical signal processing for indoor positioning using a-
SiCH technology," Opt. Eng. 55 (10), 107105, 2016.  
[16] M. Vieira, M: A. Vieira, P. Louro, and Vieira, "Positioning 
and advertising in large indoor environments using visible 
light communication," Opt. Eng. 58(6), 066102, 2019. 
[17] C. Iddon, A. Hathaway and S. Fitzgerald S., “CIBSE COVID-
19 Ventilation Guidance”, CIBSE, 2020.  
8
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-875-4
ALLSENSORS 2021 : The Sixth International Conference on Advances in Sensors, Actuators, Metering and Sensing

