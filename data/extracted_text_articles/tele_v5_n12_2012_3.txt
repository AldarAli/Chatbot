Potentials and Limitations of CDMA Networks for Combined Inter-Satellite 
Communication and Relative Navigation 
Rui Sun, Jian Guo, Eberhard Gill, Daan Maessen 
Chair of Space Systems Engineering, Faculty of Aerospace Engineering 
Delft University of Technology 
Kluyverweg 1, 2629 HS, Delft, the Netherlands 
r.sun@tudelft.nl, j.guo@tudelft.nl, E.K.A.Gill@tudelft.nl, D.C.Maessen@tudelft.nl  
 
 
Abstract—Precision 
formation 
flying 
missions 
require 
formation 
acquisition 
and 
maintenance 
through 
the 
interactions 
among 
spacecraft 
by 
the 
inter-satellite 
communication and relative navigation. This paper analyses 
the dedicated system constraints of the network architecture 
for precision formation flying missions. The critical time issue 
and the operational flexibility are found to be two main 
constraints. Potentially applicable architectures are discussed 
and evaluated, which combine different multiple access 
technologies, 
half-duplex/full-duplex 
configurations 
and 
network topologies.  It is proven that the most suitable and 
efficient architecture for PFF mission is the use of the half-
duplex CDMA with the topology that allows the role of being 
reference rotating from one spacecraft to another in different 
time slots. The capability of CDMA is also investigated in 
terms of the multiple access interference. The paper verifies 
that this interference can limit the maximum number of 
spacecraft and bounds the inter-satellite range diversity. The 
interference exhibits a Doppler dependency and suffers as well 
from the near-far problem. Inter-satellite navigation accuracy 
will easily drop down below meter level at the moments of 
zero- or n-kHz Doppler crossovers, and also in case of the 
signals being corrupted by the near-by interferences. Two 
realistic mission scenarios are provided to verify the severe 
effects of the interference. Operational considerations and 
interference mitigation methods are also recommended. 
Keywords-precision 
formation 
flying; 
communication; 
relative navigation;   CDMA;  Multiple access interference 
I. 
 INTRODUCTION 
Precision formation flying (PFF) missions involve the 
acquisition and maintenance of spacecraft in a desired 
relative geometric configuration, especially when trying to 
create a large virtual spaceborne instrument, such as the 
applications in the field of remote sensing and radio 
astronomy. 
Coordinating 
the 
components 
of 
such 
instruments on separate spacecraft can require highly 
accurate relative orientation and positioning [1].  
Commonly, PFF missions make use of a differential 
Global Navigation Satellite System (GNSS) approach by 
exchanging GNSS-based navigation measurements via the 
inter-satellite links. Yet this method is limited to Low Earth 
Orbit (LEO). Many missions such as PROBA-3, Darwin, 
Magnetospheric Multiscale (MMS) and Terrestrial Planet 
Finder (TPF) [2-5] require the spacecraft flying in a High 
Earth Orbit (HEO) or Lagrange points, where GNSS signals 
are very weak or are even not available. As a result, a 
dedicated formation flying radio frequency (RF) technique 
using the locally generated inter-satellite ranging signals is 
necessary. The ranging capability is expected to integrate 
with the inter-satellite communication functionality for 
system efficiency. The use of the GNSS-like technology 
appears to be advantageous in such integrated system. Many 
missions that have been flown or proposed use this 
technology to assure a reliable inter-satellite communication 
and an accurate inter-satellite navigation, e.g., PROBA-3 [2], 
TPF [5], PRISMA [6] and MMS [7]. This paper also inherits 
the GNSS-like technology and regards it as a basic element 
to establish the PFF network. 
In literature there are some discussions on the potential 
network architectures for formation flying. Bristow [8] 
proposed a concept called Operating Missions as a Note on 
the Internet (OMNI) that regards the spacecraft as network 
nodes and uses TCP/IP protocols to create a robust inter-
satellite communications infrastructure. Similar proposals 
also include [9][10][11]. Vladimirova [12][13] discussed the 
potentials of applying WiFi or WiMax protocols for the 
establishment of the space wireless sensor network. An 
ability of implementing Ad-hoc has also been covered in 
order to support the high dynamics of spacecraft in large 
formations [14]. They all take advantages of the existing 
terrestrial protocols and try to move them to space. The 
benefits are the compatibility with the ground infrastructures 
and the good performance in terms of the large data 
throughput. However, the above two advantages are not the 
primary concern in PFF missions. The main requirement for 
the PFF inter-satellite link is to acquire and maintain the 
spacecraft in the desired relative geometry. The data 
exchanged should then be arrived timely to enable the 
estimations of the inter-satellite distance. This constraint is 
referred as to time critical issue in this paper and is 
elaborately analysed. Some of the existing terrestrial 
protocols will not be applicable due to the time critical issue. 
For example, WiFi, which functionally operates according to 
the detection of the medium [15], causes transmission 
uncertainty, which is a property that is unacceptable in PFF 
missions. This paper thus considers the medium access in 
fixed assignments of the possible connections by the 
classical multiple access (MA) technologies, such as Time, 
Code or Frequency Division Multiple Access (TDMA, 
CDMA or FDMA). Elaborate discussions on the choice of 
different MA technologies will be presented in this paper.  
Another dedicated requirement for the PFF network is 
also proposed. It is the operational flexibility for 
21
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

implementations across various mission phases. This 
requirement triggers the investigations on the choice of the 
network 
topologies 
and 
the 
half-duplex/full-duplex 
configurations. Considering all the above criteria, the paper 
will prove that the most robust and efficient manner in PFF 
missions is the use of the half-duplex CDMA with the 
topology that allows the role of being reference rotating from 
one spacecraft to another in different time slots. 
The paper also discusses the limitations of implementing 
the CDMA concept. The well-known multiple access 
interference (MAI) will be introduced due to the non-perfect 
orthogonality of the Pseudo Random (PRN) codes. The 
Doppler dependency and the near-far problem are found to 
be two important factors that influence the MAI. The 
Dopplor dependency is severe when the Doppler offset 
between two spacecraft is close to zero or multiple integers 
of kHz. This is referred to as zero-Doppler crossover [16] 
and n-kHz Doppler crossover [17]. Server effects of the 
Doppler crossovers are investigated, especially in the 
situation where there is also a near-far problem. The resultant 
MAI error is analytically derived and verified using software 
simulations. Two case-study scenarios are used to determine 
the level of the MAI error and to predict the occurrence of 
the significant errors within an entire orbit period in realistic 
formations. 
The paper shows several contributions, on the 
investigation of the possible network architectures, on the 
theoretical analysis of the selected CDMA strategy, on the 
analytical characterization of the MAI errors, and on the 
practical evaluation over two realistic missions. 
The paper is organized as follows. In Section II, the inter-
satellite communication and relative navigation system is 
introduced in order to propose the dedicated constraints for 
PFF network in Section III. Candidate network architectures 
considering different MA technologies, half-duplex/full 
duplex configurations, and network topologies are discussed 
and evaluated in Section IV. Then, network capability in 
terms of MAI is analysed, followed by an error 
characterization with respect to the Doppler offset and the 
near-far problem in Section V. In Section VI, two case-study 
scenarios are provided to identify the error level of MAI and 
to predict the occurrence of significant errors in realistic 
formations. Section VII concludes the paper and provides 
recommendations.  
II. 
INTER-SATELLITE COMMUNICATION AND RELATIVE 
NAVIGATION SYSTEM 
The inter-satellite system for PFF missions shall integrate 
communication and relative navigation into one package. 
Inter-satellite navigation is based on the locally generated 
inter-satellite ranging signals. A cost effective manner to 
generate these signals is to modify an existing GNSS 
receiver such that it can operate as a transceiver. The ranging 
method traces heritage to the GNSS-like technology and 
results in a highly miniaturized and accurate ranging device.  
Such an inter-satellite system is expected to satisfy some 
specific high-level requirements according to the proposed 
missions [5][6]. According to these requirements and 
assuming the system operating in S-band 2.2 GHz, the EIRP 
(Effective Isotropic Radiated Power) is around 3 dB and the 
space loss is -129 dB. With the noise at the level of -134 dB 
of using 5 MHz bandwidth, it can be easily demonstrated 
that the received signals is 7 dB above the noise.  
• 
Communication 
and 
relative 
navigation 
are 
integrated into one package, with mass less than 2 
kg, and power consumption less than 2 W; 
• 
Operating range less than 30 km; 
• 
Omni-directional (4π steradian) coverage; 
• 
Flexible to implement across various phases of 
mission operations in two modes: deployment, 
reconfiguration and collision avoidance tasks are 
achieved through the coarse-mode; formation 
maintenance in the desired configuration is required 
in fine-mode for scientific proposes; 
• 
Navigation accuracy is in meter level for coarse-
mode using code measurement (pseudorange) only, 
and centimetre level for fine-mode using the 
combination of code and carrier phases; 
• 
Measurement update rate ≥ 1 Hz. 
Space System Engineering group (SSE) in Delft 
University of Technology (TUDelft) has developed a 
software-defined 
inter-satellite 
communication 
and 
navigation simulator, which currently implements the signal 
generation and processing on PC via Matlab based on the 
system functional block in Figure 1. As shown, it comprises 
the transmitter and receiver front-end, signal generator and 
signal processing. The front-end comprises signal amplifier, 
band 
pass 
filter, 
down-conversion, 
sampling, 
and 
quantization. Frequency synthesizer is used in order to 
synchronize the edges of clocks in PRN code chipping 
frequency, and carrier and intermediate frequencies. The 
signal generator is used to generate carrier and GPS-like 
PRN code modulated signals. In single processing, 
acquisition, tracking and decoding modules are included for 
data recovery, code and carrier phase extraction, and 
pseudorange (-rate) derivation. 
Frequency
Synthesizer
PA
BPF
AGC
ADC
Down-
conversion
LNA
BPF
DAC
Signal Simulator
•
PRN code generator
•
QPSK modulation
•
Pilot channel & data channel multiplexing
Acquisition
•
Parallel code phase search
•
Fine frequency resolution search 
(Parallel frequency search with a long 
integration time)
•
Allocate channels (if acquisition 
strength > threshold)
Coarse code phase 
& carrier freq.
Fine code phase 
& carrier freq.
Software-defined Digital Processing
Transmit Channel
Receive Channel
Tracking
•
Delay lock loop (DLL)
•
Phase lock loop (PLL)
•
Carrier-aiding code loop
Tracking
•
Delay lock loop (DLL)
•
Phase lock loop (PLL)
•
Carrier-aiding code loop
Tracking
•
Delay lock loop (DLL)
•
Phase lock loop (PLL)
•
Carrier-aiding code loop
Tracking
•
Delay lock loop (DLL)
•
Phase lock loop (PLL)
•
Carrier-aiding code loop
Decoding
•
Bit synchronization
•
Find preamble of each frame
•
Parity check
•
Pseudorange, Pseudorange-rate, 
Carrier phase extraction
Decoding
•
Bit synchronization
•
Find preamble of each frame
•
Parity check
•
Pseudorange, Pseudorange-rate, 
Carrier phase extraction
Decoding
•
Bit synchronization
•
Find preamble of each frame
•
Parity check
•
Pseudorange, Pseudorange-rate, 
Carrier phase extraction
Decoding
•
Bit synchronization
•
Find preamble of each frame
•
Parity check
•
Pseudorange, Pseudorange-rate, 
Carrier phase extraction
fTX
fIF
fSampling
fChipping
fChipping
fIF
 
Figure 1.  Inter-satellite communication and navigation system functional 
block diagram 
22
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 2 depicts the signal generation and processing 
simulations assuming an intermediate frequency (IF) of 
9.548 MHz and a sampling rate of 38.192 MHz. In the signal 
generator, the GPS C/A code is used as pseudorandom 
code,with a chipping rate of 1.023 Mcps and length of 1023 
chips. The Doppler shift is assumed following a linear 
function relative to the simulation time.  
The auto-correlation property, as shown in Figure 2(a), 
allows for accurate range measurements by yielding a sharp 
peak only when the replica code delay in the receiver is 
perfectly aligned to the code delay of the incoming signal. 
The signal energy is wideband spread due to the noise-like 
characteristic of the PRN code. PRN code spectrum is shown 
in Figure 2(b). The acquisition process, in Figure 2(c), is a 
global search in a two dimensional search space for 
approximate values of Doppler shift and code phase. This 
process is time and computation consuming. Therefore, 
parallel code/frequency one-dimensional search using Fast 
Fourier Transform (FFT) is implemented. After acquisition, 
control is handed over to the delay lock loop (DLL) and the 
phase lock loop (PLL). The fine estimates of the code and 
carrier phases will be obtained continuously after DLL and 
PLL. The variations due to the dynamics between spacecraft 
will also be tracked. As can be seen in Figure 2 (d) (c), in 
DLL, code error is ultimately reaching zero when the loop is 
getting to steady state, while in PLL, the linear function of 
Doppler is well represented. Communication bits in Figure 2 
(e) are extracted from the tracking loops.  
III. 
CONSTRAINS ON PFF NETWORK ARCHITECTURE 
The time-critical issue and the operational flexibility are 
found to be two important criteria in PFF missions. 
A. Time-critical requirement 
Time-critical requirements are driven by the nature of 
tight control, collision avoidance or scientific needs in some 
specific operational periods in PFF mission. These periods 
shall require high navigation accuracy and high measurement 
update frequency.  
A relative navigation filter (e.g., extended Kalman filter) 
is used to account for the relative position errors resulting 
from all relevant non-modeled accelerations acting on the 
spacecraft. This process employs a numerical integration 
scheme in the filter that is updated at discrete intervals (ti) as 
illustrated in Figure 3. The estimated relative state vector is 
obtained from an interpolation of the previous cycle. Based 
on all the measurements between ti and ti+1, a continuous 
polynomial representation of the trajectory is made available, 
which serves as starting point for the next filter update and 
relative orbit prediction [18].  Obviously the propagation 
period ti-ti-1 has to be small for better approximations of the 
relative state vectors. On the other hand, ti-ti-1 is limited by 
the processing time Δtproc. Its typical value is 30 s for low 
earth orbits. In deep space, this period can be extended to 
several minutes or longer.  
The measurements used in the filter are provided by the 
inter-satellite system. They can be either the unambiguous 
coarse code or the ambiguous precise carrier phases. Figure 4 
exhibits their update timelines.  
-2
-1
0
1
2
x 10
-4
0
0.5
1
delay (s)
Normalized
auto-correlation
 
 
(a) Auto-correlation of PRN code 
-8
-6
-4
-2
0
2
4
6
8
-60
-40
-20
0
20
Frequency (MHz)
Spectrum
magnitude (dB)
 
(b) PRN code spectrum 
 
(c)  Acquisition results. The peak is present at the point where the code 
delay is at 3752 sample (38192 samples in total for one complete PRN 
sequence) and carrier frequency is at 9.5485 MHz. That is, Doppler shift is 
approximately 500 Hz.  
 
   
 
(d) Code error estimation in DLL 
 
  
 
(e) Doppler frequency in PLL 
 
(f) Communication bits extraction. The values are not ±1 because of the 
quantization in the front-end and integration in the tracking loops. 
Figure 2.  Software-defined signal generation and processing results 
23
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
 
.
.
.
. .
.
.
Interpolated
state vector
Trajectory
Ti-1
. . . .
.
.
Measurements 
update
Filtered state vector
TrajectoryTi
Time
ti-1
ti
ti+1
ti+Δtproc
Propagation period
 
Figure 3.  Timeline of relative navigation filter 
 
Acquisition
Measurement 
epoch (s)
. . .
Tracking loops invoking 
period (ms)
Measurement 
epoch (s)
. . .
Tracking
. . .
Initialization time
 
(a) Timeline of code measurement generation 
 
Integer ambiguity resolution & 
multipath correction  (minutes)
. . .
Measurement 
epoch (s)
. . .
. . .
Tracking loops invoking 
period (ms)
Acquisition
Tracking
Initialization time
 
(b) Timeline of carrier phase measurement generation 
Figure 4.  Timeline of code and carrier phase measurements generation 
 
It is observable in Figure 4 that the measurements are 
yielded after different initialization time, including the 
acquisition process for both of the codes and carrier phases, 
and some extra time only for the carrier phases to calculate 
the integer ambiguities and multipath corrections. 
In the acquisition process, a long integration is performed 
to achieve sufficiently high carrier to noise ratio.  
For integer ambiguities resolution, an sufficient large 
change of the relative geometry between spacecraft is 
normally required [6],  which consumes long time. It is even 
more time consuming if the carrier phase itself is 
contaminated by multipath. For example, the integer 
ambiguity resolution used by PRISMA mission is to rotate a 
spacecraft for solving the line-of-sight (LOS) ambiguities 
firstly and then the distance ambiguities subsequently, taking 
5 mins and 10 mins, respectively [6]. The resolution is 
combined with tabulated multipath correction through a 
filtering and smoothing process [6].  
After initialization, tracking will be continuously running 
until the link is broken when switching the communication 
channel from one pair of spacecraft to another pair in a 
formation. At that time, re-initialization needs to be 
performed, including the corresponding initialization of 
sensor acquisition and carrier phase integer ambiguity 
resolution. This process consumes precious time and could 
result in a period that the on-board relative navigation filter 
in Figure 3 is propagating the dynamics for a couples of 
minutes without the measurement updates. The impact of 
such switching thus leads to an unsatisfactory performance 
of the navigation filter, which is unacceptable especially 
when the tight control is required at that specific time for the 
relative geometry maintenance. 
This issue is referred to as time-critical constraint. The 
following 
PFF 
network 
architecture 
design 
should 
accommodate such time-critical constraint and give a high 
priority to timeliness instead of traditional considerations on 
the data throughput. 
B. Flexible operations across all mission phases 
Another important consideration of PFF networking is to 
recognize that the relative navigation requirements will 
change during the course of the mission’s operations. The 
inter-satellite system is expected to operate across various 
phases of formation precision, requiring different levels of 
position sensing and control maneuvering. 
Figure 5 illustrates the revolutionary phases of a PFF 
mission.  
 
c
A   B   C   D
B
C
D
A 
B
C
D
A 
A   B   C   D
B
C
D
B
C
D
A 
B
C
D
A   B   C   D
B
C
D
Isolated nodes out of communication range
All nodes in a single network, but not 
complete connectivity
Complete connectivity
Time line
Neighbor 
discovery
Formation 
acquisition 
and moving 
towards 
desired 
formation 
Formation 
maintenance
Connectivity
Index Table (CIT)
Connected
Not connected
Meaningless
A
A
A
 
Figure 5.  Evolutionary phases of a PFF mission  
A 
B
C
D
A   B   C   D
A 
B
C
D
E
F
G
E
F
G
E
F
G
Connected
Not connected
Meaningless
CIT
 
Figure 6.  An example of complete connectivity with seven spacecraft in 
formation 
In the initial deployment where the spacecraft are 
separated by substantial distances from one another, the 
resolution of position and orientation data are based e.g., on 
24
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

coarse-mode sensors for collision avoidance, enabling 
further movement toward the desired configuration to take 
place safely. Spacecraft can be seen as free flyers located at a 
wide range of inter-satellite distances to each other. They 
will randomly access to the network. Neither a solely 
centralized nor a distributed topology is efficient in such 
situation, as some spacecraft are possibly out of the 
communication range of others. 
As the spacecraft continue to aggregate into the desired 
spatial arrangement, they will eventually discover other 
spacecraft, which may be itself isolated or be already a 
member of a multi-spacecraft network. This condition, 
defined as formation acquisition and depicted in the centre of 
Figure 5, is in progress until all spacecraft are connected in a 
single network and moving towards desired formation. 
Finally, when all spacecraft in the system show a 
“complete connectivity” and are settled into the desired 
pattern, formation maintenance are performed as shown in 
the bottom of Figure 5. Typically, a higher accuracy of their 
relative position is acquired, enabled by switching the inter-
satellite system into the fine-mode. A precise formation may 
then be achieved using tighter control loops. Science 
operations will take place for e.g., multiple point remote 
sensing. At this moment, the mission topology will evolve to 
a centralized graph with one spacecraft at least chosen being 
the reference for a certain time period for relative navigation 
and formation control.  
It is noted that in this final topology, “complete 
connectivity” does not mean all spacecraft must connect to 
each other, but connect to the desired spacecraft (normally 
the closed ones), which satisfies certain formation 
configuration. This happens especially in a large scale 
network such as depicted in Figure 6.  
Subsequently, PFF can be reconfigured to set up a new 
arrangement 
for 
another 
science 
objective. 
The 
reconfiguration operation may drop back to coarse formation 
mode and prepares for new configuration, whereupon precise 
formation can again be executed [19]. 
A connectivity index table (CIT) is proposed to be part of 
traffic exchanged among spacecraft to share the current 
network condition. The measured range can also be included 
in the CIT, in which way a spacecraft will know all the 
relative positions even though not all of them are directly 
connected. 
IV. 
NETWORK ARCHITECTURE FOR PFF 
As a result of time-critical issue, networking solutions 
prefer the network nodes in a fixed assignment for all 
possible connections by MA technologies TDMA, CDMA, 
FDMA or their combinations, since they enable each 
spacecraft providing measurements from each of the others 
equally and timely [20].  
In addition, the choices of half-duplex/full-duplex 
configurations and centralized/distributed topologies also 
play important roles in PFF network architecture.  
Inevitably, if transmitting and receiving happen at the 
same time, some of the transmitted signal will leak into the 
receiver front ends and may easily saturate the receiver front 
ends or otherwise overwhelm the external signals. Half-
duplex transceiver enables the transmitter and receiver taking 
turns to work, in which way “self-signals” are avoided. Full-
duplex transceiver uses an appropriate filter to isolate the 
transmitter and receiver at their separated frequency bands to 
reject “self-signals”. If the navigation measurements are not 
required simultaneously and continuously, half-duplex 
configuration is adequate and power-saving.  
Network topology is expected to operate in a flexible 
arrangement, so as to account for the evolutionary phases of 
a PFF mission as shown in Figure 5. Neither solely 
centralized nor distributed topology is efficiently applicable 
during the neighbor discovery and formation acquisition 
phases, because some spacecraft are possibly out of 
communication range of others and could not access to the 
network. As the spacecraft progress towards the desired 
formation, it is better for the topology to evolve to a 
centralized graph in order to enable at least one spacecraft as 
reference for precise relative navigation and formation 
control. The role of reference can rotate from one spacecraft 
to another to avoid the problem of single point of failure.  
Roles rotating at different time slots will give a robust 
and efficient connectivity. It can be implemented in a TDMA 
sequence with a strict timing boundary or a CDMA 
configuration with an adjustable period of time slot. 
Constraints of operating any of them come from the time-
critical navigation requirements.  
The possible combinations of different MA technologies, 
half-duplex/full-duplex 
configurations, 
and 
network 
topologies for PFF missions are illustrated in Figure 7-9.  
Time
A—>B,C,D
B—>A,C,D
C—>A,B,D
D—>A,B,C
Initialization time
(seconds in coarse-mode
/minutes in fine-mode)
. . .
Tracking
Measurements 
update (<1s)
Reserved time gap 
(compensate for clock shift) 
Fixed time slot
B
C
D
A
Filter propagation period 
 
Figure 7.  Half-duplex TDMA implemented for PFF mission 
Time
B,C,D—>A
A,C,D—>B
A,B,D—>C
A,B,C—>D
Initialization time
(seconds in coarse-mode
/minutes in fine-mode)
. . .
Tracking
Measurements 
update (<1s)
Filter propagation period
Flexible time slot
B
C
D
A
. . .
. . .
PN1
PN2
PN3
 
25
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 8.  Half-duplex CDMA with roles rotation in PFF missions 
B
C
D
A
f1, A
f1, A
f1, A
f2, D
f2, C
f2, B
f_ ,  _
freq, code
 
Figure 9.  Full-duplex CDMA implented for PFF missions 
In half-duplex TDMA mode in Figure 7, the 
measurements for propagating relative dynamics are from all 
of the spacecraft at different strictly fixed time slots. 
Therefore, the time slot is limited by the filter propagation 
period. That is, if a complete duty cycle of one TDMA 
sequence is as long as propagation period ti-ti-1, the time slot 
will be one-quarter of ti-ti-1 (in four spacecraft formation), or 
even smaller to compensate for the clock drift by reserving a 
time gap between two slots. There is thus a high possibility 
that the time slot arranged to each spacecraft is too short to 
implement carrier phase measurement and the associated 
integer ambiguity resolution. This circumstance in TDMA 
mode can be improved by extending the propagation period, 
or equivalently, allowing the filter to freely propagate 
without measurement updates. However, the price of an 
increased relative navigation error has to be paid.  
The fixed time slot of TDMA also limits the ability of 
working during different mission phases. It is caused by the 
variable inter-satellite range diversities and variable ranging 
accuracy requirements along with the course of the mission’s 
operations.  
Therefore, it is better to have an adjustable time slot and 
propagation period to avoid signal collisions and also 
guarantee efficient channel occupations and successful 
ranging abilities. Half-duplex CDMA with roles rotating 
architecture is thus proposed in Figure 8. It provides better 
capabilities in a way that the complete measurements from 
all of the spacecraft can be obtained in a single time slot by 
the use of CDMA strategy. This renders the duration of this 
time slot more flexible. It can be long enough to resolve the 
ambiguities and allow re-acquisitions. The implementations 
of either coarse-mode or fine-mode ranging at different 
mission phases are also possible as the time slot is adjustable. 
In addition, the signals transmitted from other spacecraft are 
not necessary to start at the same time in this CDMA mode, 
thus, it is tolerable if a spacecraft is joining in or dropping 
out of the formation.  
Another advantage of such CDMA technology is that it 
can use the GNSS-like technology to the largest extent. For 
example, multiple channels in the system can work 
simultaneously. Differential measurements can be considered 
to improve ranging accuracy.  
As comparison, another candidate architecture using full-
duplex CDMA in centralized topology is shown in Figure 9. 
The isolation between transmitter and receiver is realized by 
separated frequencies and appropriate filters. It takes the 
advantages of allowing the signal transmissions among 
spacecraft without the necessity of re-acquisition each time 
at different time slots. Therefore, the measurements in this 
architecture 
can 
be 
processed 
simultaneously 
and 
continuously. The time-critical requirement is satisfied in an 
extreme solution that is the continuous connectivity. In 
addition, this method benefits from the fact that both clock 
offset and relative distance can be produced using dual one-
way ranging [21].  
However, the flexibility is low for this full-duplex 
CDMA strategy as it uses a centralized topology within the 
entire 
mission 
lifetime. 
The 
nature 
of 
full-duplex 
configuration needs more complicated system and consumes 
more power.   
Considering all the above advantages and drawbacks for 
the three different architectures in Figure 7-9, half-duplex 
CDMA with roles rotating is the most robust and efficient 
manner for the PFF missions. The benefits of using it has 
been explained above. The following sections will focus on 
its limitations, including the well-known near-far problem 
and multiple access interference.  
V. 
CDMA PFF NETWORK CAPABILITY: MULTIPLE 
ACCESS PERFORMANCE AND NEAR-FAR PROBLEM 
The multiple access capability of CDMA is achieved by 
using the GNSS-like C/A code. However, it is not a 
completely orthogonal signalling format, which means cross-
correlation is nonetheless present and induces noise in terms 
of MAI. 
A. Cross correlation without Doppler effects 
Assume that there are two signals, which are all un-
correlated PRN codes with identical spectrum Gs(f) and 
received at the same power level of Ps. The MAI term is 
introduced due to cross-correlation (CC) between undesired 
signal cm(t) and desired reference signal ck(t), where c(t) 
represents PRN code. Ignoring the data modulation, Doppler 
frequency differences and noise for the moment, the MAI 
term is 
(
)
(
)
k
k
m
m
c
c
t
t
τ
τ
−
−
with code delay
k ,
m
τ
τ
. Its power 
spectrum GMAI(f) is thus obtained by convolving the 
individual signal spectrum Gs(f) [22]:  
          
( )
( )
(
)
MAI
s
s
s
G
f
P
G
f G v
f dv
=
−
∫
                      (1) 
Only the MAI spectrum near f=0 is important because 
the correlation filters have a small bandwidth on the order of 
Hz. Gs(f)  is in the form of sinc2, thus [22]:  
4
2
0
sin
/
(0)
( )
/
c
s
MAI
s
s
s
c
c
f
f
P
G
P
G
v v
P
df
f
f
f
π
α
π
∞
=
=


=




∫
∫
   (2) 
where fc is chipping rate, α is a coefficient as a function of 
the filtered spectrum of sinc2. If the spectrum includes all of 
its sidelobes, α is 2/3. If the spectrum is filtered to include 
only the mainlobe, α increases to approximately 0.815 [22]. 
26
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Assuming M spacecraft at the same separation distances 
with the reference satellite in the formation, then M-1 
interfering multiple access signals exist. Considering white 
noise with noise spectrum density of N0, the equivalent noise 
density and the effective energy per bit to equivalent noise 
density ratio are: 
0
0
(
1)
/
eq
s
c
N
N
M
P
f
α
=
+
−
                    (3) 
0
0
(
1)
/
b
s
d
eq
s
c
E
PT
N
N
M
P
f
α
=
+
−
                   (4) 
where Td=1/fd, fd is data bit rate. Eb/N0eq determines the bit 
error rate. It is on the order of 10 dB if BER=10-5 and BPSK 
modulation without error correction coding is employed. 
Furthermore, taking into account of the various 
separation distances between spacecraft, the near-far 
problem shows up. The effective Eb/N0eq from a remote 
transmitter is further reduced due to the increase of MAI in 
close proximity.  Because the free space loss is proportional 
to the square of distance, MAI spectrum density in eq. (2) is 
consequently multiplied by Rf
2/Rn
2, a factor to indicate the far 
desired signal to the near undesired interference range-
squared ratio. Eb/N0eq  can then be revised to:  
2
2
0
0
2
2
0
0
2
2
0
0
(
1)(
/
)
/
(1
(
1)(
/
)
/ (
))
1
(1
(
1)(
/
)
/ (
))
b
s
d
eq
f
n
s
c
s
d
f
n
s
c
b
f
n
s
c
E
PT
N
N
M
R
R
P
f
P
N f
M
R
R
P
f N
E
N
M
R
R
P
f N
α
α
α
=
+
−
=
+
−
+
−
=
      (5) 
The multiple access effect of M-1 near interferences 
degrades 
the 
original 
Eb/N0 
by 
a 
factor 
of 
2
2
0
1
(
1)(
/
)
/(
)
f
n
s
c
M
R
R
P
f N
+α
−
. Note that signal to noise 
ratio 
0
sP /
N  equals to 
0
b /
df
E
N
⋅
. Figure 10 displays the 
difference between the original Eb/N0 and Eb/N0eq caused by 
MAI effects. Assume using C/A code with chipping rate fc of 
1.023 Mcps, data bit rate fd is 2 kbps, original Eb/N0 is 10 dB, 
and coefficient α is 0.815 in case of 2 MHz bandwidth 
front-end filter by taking account of only the mainlobe 
spectrum. 
As shown, in case of a small scale network and small 
distance diversity, e. g., only one or two interfering satellites 
in the near field of view, the difference between Eb/N0 and 
Eb/N0eq is less than 1 dB and can be negligible. However, as 
the number of satellites is getting larger or the far desired 
signal to the near interference range ratio is getting higher, 
this difference could be beyond the original Eb/N0 threshold, 
which is unacceptable. 
The impact factors of MAI, in the sense of the 
degradation of Eb/N0, can be translated to:  
• 
Maximum operating range diversity at a specific 
number of satellites in formation; 
• 
Maximum achievable number of satellites in a 
formation that has low inter-satellite distance 
diversity. 
For example, if five satellites in formation, one behaves 
like a reference and receives signals simultaneously from the 
other four. The maximum operating range is then in the 
sense that inter-satellite distance ratio could not be larger 
than 14 (red line in Figure10). On the other hand, if 
assuming the distance has only 3 times diversity, the 
maximum achievable number of satellites can be up to 620. 
 
 
Figure 10.  Difference between the original Eb/N0 and Eb/N0eq due to the 
near-far problem 
Nevertheless, the results here are much more focused on 
communication performance and based on the assumption 
that Doppler effects on cross-correlations are ignored. When 
it comes to inter-satellite navigation, Doppler effect should 
be counted in, as significant errors will show up even in a 
small scale of network with low separation diversity.  
B. Cross-correlation at high Doppler Offset 
When taking into account of the different Doppler 
frequencies on the signals, there are Doppler frequency 
offsets on the cross correlations. The difference between two 
Doppler frequencies 
k ,
m
f
f
∆
∆
for the desired and interference 
signals will be referred to as the Doppler offset 
,
∆fm k
.  
Without considering Doppler, the strongest and average 
cross-correlation peaks are approximately -24 dB and -30 dB 
lower than the main auto-correlation peak [23]. However, 
higher Doppler offset could exacerbate cross-correlation 
levels to -21.1 dB [23]. 
Specifically, for higher Doppler offset 
,
∆fm k
, the cross-
correlation term turns to  
,
,
(
1)
(
)
(
)cos(2
)
kT
k
k
m
m
m k
m k
k
T
Rcc
c t
c
t
f
t
dt
τ
τ
π
φ
−
=
−
−
∆
+ ∆
∫
(6) 
where T is integration time. The interference code structure 
cm ( )
t
 is 
changed 
by 
multiplication 
with 
,
,
cos(2
)
m k
m k
f
t
π
φ
∆
+ ∆
. The effect of this multiplication can 
be significant when the Doppler offset is close to zero, then 
cross 
correlation 
errors 
become 
significant. 
This 
phenomenon has been observed and demonstrated by 
27
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

researchers and was referred to as Doppler crossover 
[23][ 24]. 
Furthermore, PRN code (e.g., C/A) is not continuous but 
1023 chip length sequence periodically repeated every 1 
millisecond. That results in 1 kHz (fc/P = 1.023Mcps/1023) 
separated lines in the spectrum within sinc2 envelope [22]. 
Thus, for non-zero Doppler offset 
,
∆fm k
, the spectrum of 
cm ( )
t  is shifted with frequency
,
∆fm k
. If 
,
∆fm k
 is not close 
to the integer multiple of 1 kHz, the line components of the 
desired signal spectrum and the shifted interference signal 
spectrum does not overlap, thus the cross correlation 
spectrum 
by 
convolving 
them 
,
,
( )
( )
(
(
))
m k
k
m
m k
G
f
G
f G
v
f
f
dv
=
−
+ ∆
∫
 will diminish. On 
the contrary, mixing at the existing line frequencies on the 
order of several kHz will result in the interference being 
minimally suppressed. That is, if Doppler offset is an integer 
multiple of line component spacing 1 kHz, cross-correlation 
noise energy “leaks” through the correlation process, and 
could exacerbate cross-correlation levels to -21.1 dB [23]. 
The cross correlation errors in this case behave similarly to 
the zero Doppler crossover scenario, and have been regarded 
as n-kHz Doppler crossover [16].  
In order to estimate the magnitude of the cross-
correlation errors, the ranging system work process needs to 
be understood.  As shown in Figure 1, in the tracking loops 
of DLL and PLL, three correlators early, prompt, and late 
,
,
E
P
L
I
I
I
 are used and feeding in the discriminator by 
calculating the difference between early and late correlators. 
Discriminator output then serves as feedback to adjust code 
delay and correlator outputs in a new round of iteration.  
Discriminator output represents code tracking error.  
Under the assumption that auto-correlation is much larger 
than the cross-correlations, the normalized early-minus-late 
coherent discriminator can be written as [17]:  
(
) /(
) / 2
(
)
( ) /
(
) / 4
2
2
2
E
L
E
L
cc
cc
ac
D
I
I
I
I
d
d
d
R
R
R
=
−
+


≅
−
−
−




                (7) 
where d is correlator spacing in chips, 
(
/ 2)
Rcc
±d
and 
(
/ 2)
Rcc
±d
are cross-correlation and auto-correlation with 
early or late delays.  
It is obvious that the tracking error is related to the 
correlator spacing. Like the white noise, using smaller d, 
cross-correlation components
(
/ 2)
Rcc
d
and
(
/ 2)
Rcc
−d
 
become dependent and the common part could be canceled 
out.  
Furthermore, combining eq. (6) and (7), the property of 
dependency on Doppler offset will show up. Simulation is 
given on the cross-correlation effect on the code tracking 
accuracy when Doppler offset 
,
∆fm k
 linearly increased over 
time from -2500 Hz to 2500 Hz. The integration time used in 
the simulation is 20 ms, and correlator spacing is 0.8 chips. 
Only one interference signal is assumed, and has the same 
power level with the desired signal.  
As displayed in Figure 11, zero and n-kHz Doppler 
crossover phenomenon are easily observed from the output 
of discriminator. However, different crossing points give 
different error contributions. At the zero or 2-kHz crossing 
moments, the reaction of code error is a sudden change of up 
to 5 m, while 1-kHz crossing point introduces error at 
approximately 2 m. The error pattern is a sinusoidal-like 
oscillation around the crossover point. A sensitive zone of 
±25 Hz around the crossover point can then be defined where 
cross-correlation contributes the largest errors.  
 
 
Figure 11.  Code error estimation in presence of cross-correlation (top); 
Doppler offset between the desired and interfering signals, which is 
changing over time from -2500 Hz to 2500 Hz (bottom)  
The cross-correlation error is not always as high as 
shown in Figure 11. According to eq. (6), it is also PRN code 
pattern and code delay dependent. RRN 7 and 22 are chosen 
with delay of 923 and 204 (1023 in total for C/A code) in 
this simulation after 1000 trials using Monte Carlo method. 
This code pattern and delay combination is at the moment 
when the average error plus standard variation is obtained.   
It should be noted that the error magnitude is also 
affected by the code Doppler. Similar to the carrier Doppler 
offset, code Doppler offset also exists and will slowly change 
the relative delay between the desired and interfering signals, 
leading to the error magnitude being slightly enlarged or 
lessened. Randomly choosing code delays in Monte Carlo 
method can specifically illustrate the probability density 
distribution of the code Doppler effects in terms of code 
delay, which is however not shown in this paper in order to 
give a clear overview of the carrier Doppler crossover effect.  
C. Near-far problem at Doppler crossover 
The well-known near-far problem not only deteriorates 
the Eb/N0 performance as displayed in Figure 11, but more 
seriously exacerbates the navigation accuracy, especially 
when it shows up at the moment of Doppler crossover.  
Suppose the Doppler offset is 1 Hz, which is inside the 
sensitive zone of zero-Doppler crossover. Simulation in 
Figure 12 displays the errors when the interfering signal 
strength is linearly increased over time while the desired 
signal strength is constant. It is clear that cross-correlation 
error follows the sinusoidal-like oscillation at the frequency 
of 1 Hz, and the error magnitude also increases linearly.  
That means the magnitude of cross-correlation error is 
proportional to the interfering/desired signal strength ratio. 
This relationship implies the same relevance between the 
28
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

error and the inter-satellite distance diversity. Higher 
distance diversity in formation leads to poorer cross-
correlations accordingly. 
 
 
Figure 12.  Code error estimation in presence of cross-correlation at 1 Hz 
Doppler offset (top); Inteference-to-desired signal strength ratio, which is 
changing over time from 0.1 to 10 (bottom) 
VI. 
CASE STUDY: MAI EFFECTS IN FORMATION FLYING 
Two case study scenarios are provided in order to 
evaluate the MAI effects in realistic formations. 
A. Low earth orbit chief-deputy formation scenario 
A formation geometry in the low earth orbit (LEO) with 
a chief satellite and several deputy satellites is a commonly 
used relative orbit geometry. In case of a Keplerian two-body 
motion, a circular chief orbit, and inter-satellite distance 
much smaller than the chief’s semi-major axis, the relative 
dynamics can be expressed in Closhessy-Wiltshire (CW) 
equations in a linear form in Hill frame [25]. The relative 
motion of the deputy with respect to the chief is:  
(  )
(      )
T
x y z x y z T
=
=
  
x
r v
                     (8)   
The vectors r and v denotes the relative positions and 
velocities in radial, along-track and cross-track directions. A 
safe ellipse relative orbit can be created and results in a 
closed form periodic solution when the initial orbit elements 
satisfy [25] 
0
0
4
+2
/
0
x
y
n =

                                  (9) 
0
-2 0
/
0
y
x
n =

                                (10) 
where n is the orbital mean motion according to 
1
3
2
( /
)
n
= µ a
, 
with µ the Earth’s gravitational coefficient and a the semi-
major axis of the chief. In such a safe ellipse orbit, the 
chance of collisions is minimized.  
Suppose there are five satellites in formation, one is chief 
and the others are deputies in two safe elliptical orbits. The 
initial relative orbit elements are in Table I. The orbit of the 
chief is circular with a semi-major axis of 7000 km. After 
propagating the relative orbits using CW equations, it could 
be seen in Figure 13(a) that both of the relative orbits of 
deputy satellites are coplanar, which has an elliptical 
projections in the xy- and xz-plane, resulting in the linear 
motion in the yz-plane. The ellipse for Sat 1 and Sat 2 has the 
dimensions of 1×1×1 km, while Sat 3 and Sat 4 are in a 
1×2×2 km ellipse. Inter-satellite distance of each of the 
deputies with respect to the chief is also displayed in Figure 
13(b) in the pattern of sinusoid.   
TABLE I.  
INITIAL RELATIVE ORIBT ELEMENTS 
 
x0        
[m] 
y0   
[m] 
z0          
[m] 
0x
 
[m/s] 
0y
   
[m/s] 
0z  
[m/s] 
Sat 1 
1000 
0 
0 
0 
-2.156 
-0.178 
Sat 2 
587.78 
-1618.03 
-809.02 
-0.872 
-1.267 
-0.634 
Sat 3 
-1000 
0 
0 
0 
2.156 
2.156 
Sat 4 
-587.78 
1618.03 
1618.03 
0.872 
1.267 
1.267 
 
(a) Safe ellipse trajectories in 3D and 2D projections. The cross and circle  
denote the positions of the chief and deputies at t0, respectively. 
 
 
(b) Inter-satellite distance of each of the deputies with respect to the chief 
Figure 13.  Safe ellipse relative orbit  propagation in five satellite formation 
When the chief satellite receiving signals from the 
deputies at the same time in CDMA architecture, multiple 
access interference will occur that results from their cross-
correlation effects. As analysed in last section, cross-
correlation is signal strength and Doppler dependent. Signal 
strength ratio between the interfering and desired signal 
could be easily calculated by inversely scaling the inter-
satellite distance ratio. Doppler frequency is:    
2
2
2
'
carrier
D
carrier
carrier
f
f
v
c
f
f
xx
yy
zz
c
c
x
y
z
∆
=
⋅
+
+
=
=
+
+



v r
r
         (11) 
Note that 'v  is not the satellite orbiting velocity, but the 
velocity projected in the inter-satellite link direction. Only 
29
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

this part of velocity will introduce Doppler to the inter-
satellite link. Carrier frequency of the signal
fcarrier
 is 
assumed to be 2.4 GHz in S-band, and c is speed of light.  
For the receiver on the chief, multiple channels are 
allocated to track different PRN codes from deputies. 
Suppose one of these channels is for Sat 3, then signals from 
Sat 1, 2, 4 are regarded as interfering signals. Figure 14 
provides their signal strength ratio and Doppler offsets, as 
well as the code errors resulting from the contributions of 
cross-correlations accordingly.  
The period of Doppler offset or signal strength ratio is 
half of the orbit period. We only look at the first half. Note 
that during the whole period, Doppler offset is within or 
quite close to the Doppler crossover sensitive zone of ±25 
Hz. That leads to a large error being brought in to the inter-
satellite ranging system.  
Analysing the bottom plot in Figure 14 it is shown that in 
general cross-correlation errors oscillate with changing 
frequencies and changing magnitudes. Maximum errors 
occur at the measurement batch of [0.3, 0.4] orbits and a 
clear slow frequency fading moment around 0.32 orbits is 
visible. This is caused by the exact zero-Doppler crossings of 
∆ Df ,23
and 
∆ Df ,43
that are happened coincidently at the 
moment of their highest signal strength ratio. Another zero-
Doppler crossings for 
∆ Df ,23
and 
∆ Df ,43
 occur around 0.02 
orbits, but at a much smaller magnitude, because the signal 
strength ratio at that time is around nadir. 
 
 
Figure 14.  MAI effects in LEO safe ellipse formation geometry. Top:  
interfering/desired siganl magnitude ratio;  Middle: Doppler offset; Bottom: 
code errors in presense of cross-correlations from 3 interfering Satellites.  
B. Magnetospheric Multiscale formation scenario 
MMS formation is a NASA mission, which uses four 
identical 
spacecraft 
to 
make 
three-dimensional 
measurements of magnetospheric boundary regions and 
examine the process of magnetic reconnection [4].  
MMS mission has four identical spacecraft in a 
tetrahedral geometry. Inter-satellite communication will be 
conducted in a distributed topology and no signal spacecraft 
serves as chief. Two distinct phases will be in this mission. 
For Phase 1, MMS will be in a 1.2×12 Earth Radii highly 
elliptical orbit with a period of approximately one day. The 
initial orbital elements can be found in [4].  
Unlike the low earth circular orbit in the last scenario, 
MMS mission cannot use linearized CW equations for 
relative orbit determination, but by propagating the absolute 
orbits of all the spacecraft using absolute Keplerian 
dynamics and then determining the relative motion in the 
Hill frame using a standard transformation.  
Figure 15(a) displays the relative trajectories of Sat 2, 3, 
4 with respect to Sat 1 to give a basic overview on how do 
they perform tetrahedral formation. Figure 15(b) exhibits 
their inter-satellite separation between each pair of spacecraft 
over two complete orbits. Near apogee, the inter-satellite 
distance are generally about 60 km, but near perigee, the 
spacecraft separations vary dramatically, which can be as 
large as 350 km and as small as 10 km.  
 
 
(a) MMS mission relative trajectories in 3D of Sat 2, 3, 4 with respect to Sat 
1. The circle denotes the positions of the four identical spacecraft at t0. 
 
 
(b) Inter-satellite distance between each pair of the spacecraft in MMS.  
Figure 15.  MMS mission relative orbit 
MMS mission, with four purely identical and distributed 
spacecraft, is a good example of implementing CDMA with 
roles rotating architecture. At a flexible time slot, one of the 
spacecraft will be regarded as reference and receiving signals 
from the other three simultaneously. That indicates the 
potentials of multiple access interference. Furthermore, high 
distance diversity at perigee is particularly challenging for 
30
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

CDMA architecture in the sense of near-far problem. It is 
valuable to investigate the most critical moments when the 
cross-correlation contributes the largest errors within a whole 
orbit period for MMS mission. 
Figure 16 gives two examples of Sat 1 and Sat 4 as 
receivers, respectively, at two distinct time slots when 
interfering/desired 
signal 
arrived 
at 
receivers 
with 
dramatically different signal strength ratio.  
The first example in Figure 16(a) shows maximum 4 
times signal strength ratio, as well as the corresponding 
Doppler offset from minimum of -220 Hz to maximum of 
800 Hz (blue dash line). Doppler offset is far beyond the 
Doppler crossover sensitive zone most of the time except for 
the crossing moments at around 0.20 and 0.92 days, when 
the slow frequency fading cross-correlation errors can be 
observed in the bottom figure. Interference at the duration of 
[0.38, 0.50] days, even with high signal strength ratio, should 
not contribute much more errors since the Doppler offset is 
extremely far from crossover. The visible errors at that 
duration actually come from the other interference 
contributor (green solid line) with its crossover at around 0.5 
days and its general Doppler distribution all within the 
sensitive zone.  
 
 
           (a)                                                   (b) 
Figure 16.  MAI effects in MMS mission. Top:  interfering/desired siganl 
magnitude ratio;  Middle: Doppler offset; Bottom: code errors in presense 
of cross-correlations when (a) Sat 1 is as receiver, requiring ranging signal 
from Sat 4 but interfered by Sat 2 and 3; (b) Sat 4 is as receiver, obtaining 
ranging signal from Sat 1 but interfered by Sat 2 and 3. 
The other example in Figure 16(b) occurs more often 
because of the widely diverse inter-satellite separations, 
leading to severe near-far problem with up to 23 times signal 
strength ratio. This results in the degradation of the signal per 
bit to noise density reaching its bad performance threshold as 
explained before, but also yielding significant cross-
correlation errors even if the corresponding Doppler offset 
beyond crossover sensitive zone. Up to 100 m errors are 
visible for a measurement batch of [0.45, 0.55] days. During 
that time, a Doppler crossover at around 0.50 days does 
happen, but luckily, is very instantaneous and almost does 
not leave even more severe consequences. The error 
magnitude is not proportionally increasing with the change 
of signal strength ratio, but keeping low due to the 
compensation by the large Doppler offset. The first error 
spike shows up when the signal strength ratio reaches 13. 
That indicates a kind of threshold for the occurrence of 
significant errors regardless of Doppler offset. 
C. Case-study summary  
The effects of near-far problem and Doppler crossover 
play important roles in defining the CDMA capability for the 
combined inter-satellite communication and navigation.  
In case of low diverse inter-satellite separations, e.g., the 
scenario of safe ellipse orbit in LEO, the corresponding 
Doppler offset is diminutive, leading to high occurrence of 
zero-Doppler crossover and considerable MAI errors within 
the whole orbit period.  
In case of high diverse inter-satellite separations, e.g., the 
scenario of MMS mission in highly elliptical orbit, Doppler 
offset is much higher and beyond the crossover sensitive 
zone for a substantial time of an orbit period, resulting in 
smaller cross-correlation errors. However, if the distance 
ratio between spacecraft reaches to the extent that even the 
large Doppler offset cannot compensate its influence any 
longer, significant errors will show up and affect the system 
accuracy to a large degree. To this end, an adaptive power 
control mechanism could be useful to minimize the impact of 
near-far problem, which ideally implements dynamically 
adjustable power attenuation in order to lower the 
transmitting power of interfering signals when they are in the 
close proximity.  
Note that for both scenarios, there is no n-kHz Doppler 
crossover taking place. However, if thinking of going to 
higher carrier frequency, e.g., K-band or Ku-band, for the 
same orbit relative geometry, the chance of n-kHz Doppler 
crossover is getting high, which is also a resource of large 
MAI errors.  
The methods of mitigating the MAI errors include an 
improvement of code delay loop inside the receiver by using 
a smaller correlator spacing or a longer integration time. One 
can also think of long time carrier phase smoothing of the 
pseudorange measurements, but should carefully take into 
account the requirements of high code and phase update rate 
in such PFF missions.   
VII. CONCLUSIONS 
In this paper, several network architectures are presented 
to support inter-satellite communication and relative 
navigation for PFF missions. Different multiple access 
technologies, half-duplex/full duplex configurations and 
network topologies are thoroughly analysed and combined as 
potential networking solutions for PFF missions. The 
31
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

dedicated requirements for PFF missions are proposed, 
including the time critical issue and the operational 
flexibility, which are used as criteria to evaluate different 
architectures. Half-duplex CDMA with roles rotating is 
selected as a suitable architecture, as it enables system 
working with a wide range of flexibility, such as enabling 
both code and carrier phase measurements at variable 
mission phases, allowing to detect some spacecraft while 
tracking others, and being insensitive to a spacecraft joining 
in or dropping out of the formation. GNSS-like technology 
can also be utilized to the largest extent in CDMA network. 
The limitation of using CDMA is investigated in terms of 
the Multiple access interference. This interference is Doppler 
dependent and suffers as well from the near-far problem. 
Regarding the communication performance, it is shown that 
the equivalent energy per bit to noise density ratio is reduced 
as compared to the case without MAI, leading to a limited 
inter-satellite separation diversity and a limited maximum 
number of spacecraft in the formation. Furthermore, MAI 
error worsens the navigation accuracy, especially at the 
moment of zero- or n-kHz Doppler crossovers or in case of 
signals being corrupted by the near-by interferences. Two 
case-study scenarios, one of a low earth circular orbit 
mission and another for a highly elliptical orbit mission, are 
provided that verifies the severe effects of MAI and the high 
probability of its occurrence within an entire orbit period.  
MAI errors easily exceed the meter level, which can be 
mitigated using smaller correlator spacing or longer 
integration time. Long time carrier smoothing is also helpful 
to minimize the MAI errors. However, the requirements on 
the high update rates of the code and carrier phases need to 
be carefully taken into account in some tight control periods 
in the PFF missions. 
REFERENCES 
[1] R. Sun, J. Guo, E. Gill and D. Maessen, “Characterizing network 
architecture for inter-satellite communication and relative navigation 
in precise formation flying”, 3rd International Conference on 
Advances in Satellite and Space Communications (SPACOMM 2011), 
Budapest, Hungary, 17-22 April, 2011. 
[2] A. Wishart, F. Teston, et al. “The PROBA-3 Formation Flying 
technology Demonstration Mission”, 58th International Astronautical 
Congress, Hyderabad, India, 24-28 September 2007. 
[3] C. Bourga, C. Mehlen, et al. “A Formation Flying RF Subsystem for 
DARWIN and SMART-2”, International Symposium Formation 
Flying: Missions & Technologies, Toulouse, France, 29-31 October 
2002. 
[4] M. Volle, T. Lee and A. Long, “Maneuver Recovery Analysis for the 
Magnetospheric Multiscale Mission”, NASA Technical Reports 
Server, 2007. 
[5] J. Y. Tien, J. M. Srinivasan, L. E. Young, et al, “Formation 
acquisition sensor for the Terrestrial Planet Finder (TPF) mission”, 
IEEE Aerospace Conference, Big Sky, Montana, 6-13 March, 2004. 
[6] V. Barrena, M. Suatoni, C. Flores, J. Thevenet and C. Mehlen, 
“Formation flying RF ranging subsystem for RPISMA: navigation 
algorithm design and implementation”, Proc. 3rd Int. Symposium on 
Formation Flying, Missions and Technologies, Noordwijk, the 
Netherlands, 23-25 April 2008. 
[7] G. Heckler, L. Winternitz, W. Bamford, “MMS-IRAS TRL-6 
Testing”, ION GNSS 2008, Savannah, GA, 16-19 Sep. 2008. 
[8] J. Bristow, “A Formation Flying Technology Vision”, AIAA Space 
Conference and Exposition, Long Beach, CA, 19-21 Sep. 2000. 
[9] K. Hogie, E. Criscuolo and R. Parise, “Using standard Internet 
Protocols and Applications in Space”, Journal of Computer Networks, 
vol. 47, 2005, pp. 603-650. 
[10] L. Wood, W. Ivancic, D. Hodgson, et al, “Using Internet Nodes and 
Routers onboard Satellites”, International Journal of Satellite 
Communications and Networking, vol. 25, no. 2, 2007, 195-216. 
[11] R. 
Slywczak, 
“Low-Earth-Orbit 
Satellite 
Internet 
Protocol 
Communications Concept and Design”, NASA/TM technical report, 
2004-212299.  
[12] T. Vladimirova, C. P. Bridges, G. Prassions, et al, “Characterising 
Wireless Sensor Motes for Space Applications”, 2nd NASA/ESA 
Conference on Adaptive Hardware and Systems (AHS 2007), 
Edinburgh, UK, 5-8 Aug. 2007, pp. 43-50 
[13] T. Vladimirova, X. Wu, C. P. Bridges, “Development of a Satellite 
Sensor Network for Future Space Missions”, IEEE Aerospace 
Conference, Big Sky, MT, 1-8 March, 2008, pp. 1-10 
[14] P. Dubois, C. Botteron, V. Mitev, et al, “Ad-hoc Wireless Sensor 
Networks 
for 
Exploration 
of 
Solar-System 
Bodies”, 
Acta 
Astronautica, vol. 64, 2009, pp. 626-643 
[15] P. Brenner, “A Technical Tutorial on the IEEE 802.11 Protocol”, 
Breezecom Wireless Communications, 1997. 
[16] A. J. Van Dierendonck, G. A. McGraw, R. J. Erlandson and R. Coker, 
“Cross-correlation of C/A codes in GPS/WAAS Receivers”, ION 
GPS 99, Nashville, TN, 14-17 Sep. 1999. 
[17] Z. Zhu and F. Van Graas, “Effects of Cross Correlation on High 
Performance C/A Code Tracking”, ION NTM 2005, San Diego, CA, 
24-26 Jan. 2005.  
[18] E. Gill, O. Montenbruck, K. Arichandran, S. Tan and T. 
Bretschneider, “High-precision onboard orbit determination for small 
satellites-the GPS-based XNS on X-SAT”, 6th Symposium on Small 
Satellites Systems and Services, La Rochelle, France, 20-24 Sep. 
2004. 
[19] L. P. Clare, J. L. Gao, E. H. Jennings and C. Okino, “A Network 
Architecture for Precision Formation Flying Using the IEEE 802.11 
MAC Protocol”, IEEE Aerospace Conference, Big Sky, MT, 5-12 
March 2005.  
[20] R. Sun, D. Maessen, J. Guo and  E. Gill, “Enabling inter-satellite 
communication and ranging for small satellites”, 9th Symposium on 
Small Satellites Systems and Services, Funchal, Portugal, 31 May – 4 
June, 2010.     
[21] J. Kim and B. Tapley, “Simulation of dual one-way ranging 
measurements”, Journal of spacecraft and rockets, vol. 40, 2003, 
pp. 419-425. 
[22] J. Spilker, “Signal structure and theoretical performance”, Global 
Positioning System: Theory and Applications, American Institute of 
Aeronautics and Astronautics, Inc. vol. 1, 1996, pp. 57-105. 
[23] P. Ward, J. Betz and C. Hegarty, “GPS satellite signal characteristics”, 
Understanding GPS: Principles and Applications, 2nd ed., Artech 
House, Inc. 2006, pp. 135-145. 
[24] M. Pratap and P. Enge, Global Positioning System: Signals, 
Measurements and Performance, 2nd ed., Ganga-Jamuna Press, 2006, 
pp. 365-379. 
[25] K. Alfriend, S. R. Vadali, P. Gurfil, J. How and L. Breger, 
“Spacecraft Formation Flying – Dynamics, Control and Navigation”, 
1st ed., Elsevier, 2010, pp. 84-89.  
 
32
International Journal on Advances in Telecommunications, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/telecommunications/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

