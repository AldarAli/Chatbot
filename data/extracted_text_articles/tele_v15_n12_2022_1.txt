Vehicle Visible Light Communication at a Four-Legged Traffic Light 
Controlled Crossroad  
 
Manuel Augusto Vieira, Manuela Vieira, Paula Louro,  
ADETC/ISEL/IPL,  
R. Conselheiro Em√≠dio Navarro, 1959-007  
Lisboa, Portugal 
CTS-UNINOVA  
Quinta da Torre, Monte da Caparica, 2829-516,  
Caparica, Portugal 
  
e-mail: mv@isel.ipl.pt, mv@isel.pt, plouro@deetc.isel.pt 
 
Mirtes de Lima, Pedro Vieira 
ADETC/ISEL/IPL,  
R. Conselheiro Em√≠dio Navarro, 1959-007  
Lisboa, Portugal 
Instituto das Telecomunica√ß√µes  
Instituto Superior T√©cnico, 1049-001,  
Lisboa, Portugal 
e-mail: A43891@alunos.isel.pt, pvieira@deetc.isel.pt 
 
 
Abstract‚Äî A four-legged traffic lights controlled crossroad 
with Vehicular Visible Light Communication (V-VLC) is used 
for trajectory management, using request/response concept 
and relative pose estimation. The connected vehicles receive 
information from the network and interact with each other 
and with the infrastructure. An Intersection Manager (IM) 
coordinates traffic crossings and interacts with vehicles 
through temporal/space relative pose concepts. V-VLC is 
performed using the street lamps, the trafÔ¨Åc signaling and the 
headlamps to broadcast the information. Data is encoded, 
modulated and converted into light signals emitted by the 
transmitters. As receivers and decoders, optical sensors with 
light filtering properties are used. Cooperative localization is 
realized in a distributed way with the incorporation of the 
indirect vehicle-to-vehicle relative pose estimation method. A 
phasing traffic flow is developed, as Proof of Concept (PoC) 
and a generic model of cooperative transmission is analysed. 
The results express that the vehicle‚Äôs behavior (successive 
poses) is mainly influenced by the maneuver permission and 
presence of other vehicles.  
 
Keywords- Vehicular Communication; Light Fidelity; Visible 
Light Communication; white LEDs; SiC photodetectors; OOK 
modulation scheme; Traffic control. 
I. 
INTRODUCTION 
This paper is an extended version from the one presented 
in SENSORDEVICES 2021 [1].  
High-end models of last generation vehicles nowadays 
are equipped with hundreds of embedded computers and 
sensors which allow them to perceive their surroundings, 
and interact with it in semi-autonomous, and eventually, 
fully-autonomous fashion. Although at a slower pace, the 
road infrastructure has evolved as well, with adaptive traffic 
lights. Next step in the evolution course of transportation 
systems is to adopt the concept of communication and 
enable information exchange between vehicles and with 
infrastructure (V2I) shifting the paradigm from autonomous 
driving to cooperative driving by taking advantage of 
Vehicle-to-Everything (V2X) communications [2] [3]. The 
objective is to increase the safety and throughput of traffic 
intersections using cooperative driving [4] [5].  
Intersections, by their nature, easily become traffic 
bottlenecks and conflict areas. Two-way-two-way four-
legged and split intersections are critical points of the road 
network either in terms of road safety, or at the level of 
operational 
conditions, 
because 
they 
usually 
cause 
considerable delays due to congestion problems. This 
specificity of intersections compels their careful study in 
order to achieve optimal road network operational 
conditions. They are distinguishable from each other by 
their geometric configuration, control conditions and 
technological requirements. Hence, it is necessary the 
existence of consistent selection criteria enabling one‚Äôs 
choice for the best solution. The volume of traffic arriving at 
the intersection, i.e., its demand, remains the same. So, in 
the selection process it is fundamental to consider many 
other aspects such as road safety, performance, average 
delay per vehicle and functional and operational conditions 
in order to arrive at a best solution. The level of service at 
intersections can be improved by applying a split 
intersection. Here the conventional four-legged intersection 
can be replaced by two separate intersections. The main 
benefits of a split intersection are: improved safety, 
increased efficiency, a better synchronization and shorter 
wait times. Improved safety since it separates potential 
conÔ¨Çict points where vehicles, pedestrians, and bicyclists 
may cross paths.  Increased efficiency since the separation 
of traffic flow on the major street allows the intersection to 
handle a greater volume of traffic and operate with less 
delay. A better synchronization, once corridor travel times 
are improved on both the major and side streets through 
synchronization of the two signalized intersections. Finally, 
shorter wait times because fewer vehicle traffic signal 
phases means less time stopping at the intersections. 
 Vehicular communication systems are a type of network 
in which vehicles and roadside units are the communicating 
1
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

nodes, providing each other with information, such as safety 
warnings and traffic information [6]. The Visible Light 
Communication (VLC) holds special importance when 
compared to existing forms of wireless communications [7] 
[ 8 ]. VLC is an emerging technology that enables data 
communication by modulating information on the intensity 
of the light emitted by LEDs. VLC is a precursor of optical 
communication for large scale-integration with other 
conventional communication technologies, and a strong 
candidate for next generation of indoor interconnection and 
networking, in parallel with radio communications. VLC 
finds application in many fields, namely: indoor navigation 
and localization services, safe communication at RF 
hazardous/undesirable places and V2X communications. 
Moving forward, an effort should be carried out to keep 
researching this topic, building synergies between the solid 
research work under VLC and RF technical areas. In fact, 
the self-configuration, self-optimization and self-healing 
(RF) use cases are progressing into VLC, and should be 
considered in future.  
One of the main issues in a VLC system is the limited 
bandwidth of a few MHz for white light LEDs. There are 
several schemes for increasing the bandwidth of VLC, 
including equalization, multilevel modulation, parallel 
transmission, and Multiple Input Multiple Output (MIMO). 
MIMO is considered as a simple and effective technique, 
which divides a serial input data stream into multiple 
streams and concurrently transmits them to the multiple 
receivers. By doing so, the system capacity and the power 
efficiency are improved, compared to a conventional VLC 
system [9] [10] [11]. At the receiver, the original data can be 
recovered, if a full knowledge of the channel state 
information is available, which can be obtained by 
transmission of the pilot signals periodically. 
The goal is to develop a cooperative system that supports 
guidance services. An edge/fog based architecture is 
proposed. Here, the streetlights and traffic lights, through 
VLC, report its geographical positions and specific 
information to the drivers and its infrastructure is reused to 
embed the edge/fog nodes in them. Using this architecture, 
an Intersection Manager (IM) can increase the throughput of 
the intersection by exchanging information and directing the 
incoming Connected Autonomous Vehicles [12] [13] [14] 
[15]. Cooperative localization is realized in a distributed 
way with the incorporation of the indirect Vehicle-to-
Vehicle (V2V) relative pose estimation method. The vehicle 
gathers relevant data from neighboring vehicles and 
estimates the relative pose of them. In this paper a V2X 
traffic 
scenario 
is 
stablished 
and 
bidirectional 
communication between the infrastructure and the vehicles 
is tested, using the VLC request/response concept. Tetra-
chromatic white sources are used to broadcasting the 
geolocation and traffic information. The receiver modules 
include a light controlled filter [ 16 ] recovering the 
transmitted information.  
This paper is organized as follows. After the 
introduction, in Section 2, the V-VLC system is described 
and 
the 
scenario, 
architecture 
presented. 
The 
communication protocol, coding/decoding techniques are 
analyzed in Section 3. In Section 4, the experiential results 
are reported and the system evaluation performed. In 
Section  5, a phasing traffic flow diagram was developed, as 
a proof of concept, based on V-VLC, in order to control the 
arrival of vehicles at the intersection. Finally, in Section 6, 
the main conclusions are presented. 
 
II. VEHICULAR VISIBLE LIGHT COMMUNICATION 
SYSTEM 
 
A. 
Navigation Concepts 
Navigation consists of vehicles laterally organized 
within lanes and needing to strictly drive within them. Two 
vehicles cannot occupy the same position in the same lane. 
 
q(x,y,
y
x
Non Omnidirectional
 
a) 
ÔÅ±
ÔÅ¶
V2(x2,y2)
V1(x1,y1)
Goal position
Current position
 
b) 
1
2
3
7
5
9
6
8
4
450
y
E
S
W
N
SW
NW
NE
SE
 
c) 
 
Figure 1.  a) Pose: q=(x,y,ÔÅ§). b) Ackermann steering principle. c) Pose 
orientations (N, S, E, W, NE, SE,SW, NW). 
Self-localization is a fundamental issue since the vehicle 
must be able to estimate its position and orientation within a 
2
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

map of the environment it is navigating. The combined 
estimation of both position and orientation (pose estimation) 
are important to path definition. Consider a vehicle driving 
in a lane. Its non-omnidirectional configuration, in a two-
dimensional coordinate systems is defined by position (x,y) 
and orientation angle ÔÅ§, with respect to the coordinate axes. 
q(t) = [x(t), y(t), ÔÅ§(t)] denotes its pose at time t, in a global 
reference frame. The triple q=(x,y,ÔÅ§) is the mobile user 
pose, as displayed in Figure 1a. 
The trajectory is a specification of both the path to take 
and the time information associated with the path, to be 
followed by the vehicle path consists of a set of points 
representing the positional coordinates of a particular route. 
Navigation to a goal location from a known starting location 
follows a basic principle. The vehicle decides which 
direction of travel to take at an intersection (e.g., turn right, 
turn left, or continue straight) by minimizing the difference 
in angle between the vehicle's heading and the direction to 
the goal, ÔÅ±, as exemplified in Figure 1b. The concept of 
Ackermann steering principle [17] is summarized in Figure 
1b. The principle took into account the angle, œï, required for 
the mobile receiver to steer from its current position to its 
intended position (Œ∏ = œï/2) [18] [19] [20]. Here, the pose of 
vehicle is grouped into eight orientations of viewpoint 
according to the cardinal points. The eight orientations are 
pointed out in Figure 1c (N, S, E, W, NE, SW, NW, SE). 
The pose of the vehicle in the same orientation will be 
varied to cover every angle. In this example, the vehicle 
navigates through a two-way-two-way intersection. The 
vehicle can detect the type of intersection that it is 
approaching (e.g. in Figure 1b.The principle, two-way-two-
way intersection with the option to turn right, continue 
straight or left) using receivers measurements in real time. 
With this information, the angle between the vehicle's 
heading and the direction to the goal is determined for each 
possible route. 
We denote q, q¬¥, q¬¥¬¥ and q¬¥¬¥¬¥ the vehicle pose estimation 
at the time t, t¬¥, t¬¥¬¥ and t¬¥¬¥¬¥(request, response, enter and exit 
times). To estimate these variables, it is possible to take 
advantage of what we call control inputs and which 
represent an estimation of the motion along the time. They 
come from receivers able to give the idea of the 
displacement. They help to build and improve the map and 
indirectly, to estimate the vehicle poses. 
 
B. 
Communication modules 
The Vehicular VLC (V-VLC) system makes use of 
outdoor light sources (street lamps and traffic lights) as the 
access points, which can serve for both lighting and 
communication purposes, providing drivers with outdoor 
wireless communications. The system is composed by two 
modules: the transmitter and the receiver located at the 
infrastructures and at the driving cars. The block diagram 
and the transmitter and receiver relative positions of the V-
VLC 
system 
are 
presented 
in 
Figure 
2a. 
Both 
communication modules (transmitter and receiver) are 
software defined, where modulation/ demodulation can be 
programed.  
To realize both the communication and the street 
illumination, white light tetra-chromatic sources are used 
providing a different data channel for each chip. At each 
node, only one chip of the LED is modulated for data 
transmission, the Red (R: 626 nm), the Green (G: 530 nm), 
the Blue (B: 470 nm) or the Violet (V) while the others 
provide constant current for white perception. 
 
Data
pin/pin  MUX device
Encoding 
Map information 
Traffic status
LEDs
Street Lamp
Transmitter
Receiver circuit
Decoding
Display
Receiver
Medium
 
 
R
B
G
V
LED Transmitters
pinpin receivers
FVO
 
a) 
G
V
B
R
#1
RGBV
#4
RBV
#6
GBV
#8
RGV
#2
RGB
#7
GV
#9 RG
#3
RB
#5 BV
 
b) 
Figure 2. a) Block diagram of the VLC system.b) Illustration of the 
coverage map in a square unit cell. 
3
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

Data is encoded, modulated and converted into light 
signals emitted by the transmitters. Modulation and digital-
to-analog conversion of the information bits is done using 
signal processing techniques. The signal is propagating 
through the optical channel and a VLC receiver, at the 
reception end of the communication link, is responsible to 
extract the data from the modulated light beam. It 
transforms the light signal into an electrical signal that is 
subsequently decoded to extract the transmitted information. 
The core element of a receiver is a Silicon-Carbon (SiC) 
photodetector. This component converts the optical power 
into electrical current. The VLC photosensitive receiver is a 
double 
pin/pin 
photodetector 
based 
on 
a 
tandem 
heterostructure, p-i'(a-SiC:H)-n/p-i(a-Si:H)-n sandwiched 
between two conductive transparent contacts [16]. Due to its 
tandem structure, the device is an optical controlled filter 
able to identify the wavelengths and intensities of the 
impinging optical signals. Its quick response enables the 
possibility of high speed communications. The generated 
photocurrent is processed using a transimpedance circuit 
obtaining a proportional voltage. The obtained voltage is 
then processed until the data signal is reconstructed at the 
data processing unit (digital conversion, decoding and 
decision [21] [22]). 
To receive the information from several transmitters, the 
receiver must be positioned where the circles from each 
transmitter overlap, producing at the receiver, a multiplexed 
(MUX) signal that, after demultiplexing, acts twofold as a 
positioning system and a data transmitter. The grid size 
were chosen to avoid overlap in the receiver from adjacent 
grid points. The coverage map for a square unit cell is 
displayed in Figure 2b. Friis‚Äô transmission equation is 
frequently used to calculate the maximum range by which a 
wireless link can operate. The coverage map is obtained by 
calculating the link budget from the Friis Transmission 
Equation [23]. The Friis transmission equation relates the 
received power (PR) to  the  transmitted  power (PE),  path 
loss  distance (LR),  and  gains from the emitter (GE) and 
receiver  (GR) in  a  free-space  communication  link: 
 
PR [dBm]=PE [dBm]+GE [dB]+GR [dB]-LR [dB]                        
Taking into account Figure 3, the path loss distance and the 
emitter gain will be given by:   
 
LR [dB]=22 +20ln d
ÔÅ¨                 
 
 
GE [dB]= 
 ùëö + 1 ùê¥
2ùúãùëëùê∏‚àíùëÖ
2
I ‚àÖ  cos  ùúÉ          
  
With A the area of the photodetector and dE_R the 
distance between each transmitter and every point on the 
receiver plane. 
The receptors act as active filters [16]. Due to their 
filtering properties the gains are strongly dependent on the 
wavelength of the pulsed LEDs. Gains of 5, 4, 1.7 and 0.8 
were used, respectively, for the R, G, B and V LEDs. 
The coverage map, Figure 2b, was obtained by 
calculating the link budget using the Equation (3). The input 
parameters are displayed in Table 1. All the values were 
converted to decibel. 
TABLE 1. LINK BUDGET INPUT. 
Variable 
Value 
Red 
LED 
Green 
LED 
Blue 
LED 
Violet 
LED 
IN(mcd)  
730 
650 
800 
900 
GE(dB) 
Equation (5) 
GR 
5 
4 
1.7 
0.8 
LR(dB) 
Eq. (4) 
Users in different locations are served simultaneously by 
the 
same 
transmitter 
leading 
to 
a 
fine 
grained 
implementation. Due to the overlapping coverage area of 
adjacent nodes, joint transmission exists. In Table II the 
overlap regions (footprints) below each Access Point (AP) 
are displayed.  Results show that the received power in each 
cell depends on the receiver position. Nine separated levels 
were found, in the square topology, and correspond to the 
nine possible combinations of the pulsed LEDs framed at 
corners of the unit cell (Figure 2b).   
 
TABLE 2. FINE-GRAINED TOPOLOGIES: FOOTPRINT REGIONS. 
Footprint 
regions 
Square topology 
Hexagonal 
topology 
#1 
RGBV 
RGV 
#2 
RGB 
GBV 
#3 
RB 
RBV 
#4 
RBV 
RGB 
#5 
BV 
RGBV 
#6 
GBV 
- 
#7 
GV 
- 
#8 
RGV 
- 
#9 
RG 
- 
 
Each node, X i,j, carries its own color, X, (RGBV) as 
well as its ID position in the network (i,j). The overlap 
regions (footprints) are pointed out in Figure 2b and 
(1) 
(2) 
(3) 
4
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

reported in Table 2. The device receives multiple signals, 
finds the centroid of the received coordinates and stores it as 
the reference point position (# in Figure 2b). 
III. COOPERATIVE DRIVING 
A. V2X Scenario and Architecture 
The typical single intersection (four-legged intersection)  
is  attached  to  sixteen  roads,  eight  incoming from and  
eight outgoing to North, West, South, and East neighbor 
crossroads‚Äô roads. A V2X communication link, in a traffic 
light controlled crossroad, was simulated. In Figure 3a the 
lighting plan and generated joint footprints in the crossroad 
region (LED array=RGBV modulated color spots) is 
displayed. An orthogonal topology was assumed.  
Four traffic flows were considered (Figure 3a): One from 
West (W) with three vehicles (a,c,d) approaching the 
crossroad, Vehicle a with straight movement and Vehicle c 
and Vehicle d with left turn only. In the second flow, 
Vehicle b from East (E), approaches the intersection with 
left turn only. In the third flow, Vehicle e, oncoming from 
South (S), has e right-turn approach. Finally, in the fourth 
flow, Vehicle f, coming from North, goes straight. 
It is proposed to build the I2V with a simplified cluster 
of unit square cells, in an orthogonal topology, that fills the 
entire service area [21] [24]. The grid size was chosen in 
order to avoid an overlap in the receiver from the data from 
adjacent grid points. The geometric scenario used in the 
experimental results uses a smaller size square grid, to 
improve its practicality. In the PoC, was assumed that the 
four-legged crossroad is located in the intersection of line 4 
with column 3, and the emitters at the nodes (street lamps) 
along the roadside. To receive the I2V information from 
several transmitters, the receiver must be located at the 
overlap of the circles that set the transmission range (radial) 
of each transmitter. The nine possible overlaps, defined as 
fingerprint regions, are also displayed in Figure 3a for each 
unit cell. Thus, each LED sends a message that includes the 
synchronism, its physical ID and the traffic information. 
When a probe vehicle enters the streetlight¬¥s capture range, 
the receiver replies to the light signal, and assigns an unique 
ID and the traffic message [22]. The received message, acts 
twofold: as a positioning system and as a data receiver. At 
each moment, t, the receiver identifies the footprint, finds it 
centroid and stores it as the reference point. All observations 
for a single section are jointly analyzed to produce an 
estimate of the occupied lane, direction and travel time 
along the considered section.  
In Figure 3b we propose a draft of a mesh cellular hybrid 
structure to create a gateway-less system without any 
external gateways needed [25].  
As shown, in this architecture, streetlights are equipped 
with one of two kinds of nodes: A ‚Äúmesh‚Äù controller that 
connects with other nodes in its vicinity. Essentially, they 
are acting as routers in the network by forwarding messages 
to vehicles (I2V) in the mesh. 
1
1
2
4
5
6
8
9
8
4
6
2
3
3
4
2
9
1
1
1
7
4
6
6
8
8
8
5
7
2
2
6
4
7
R54
3
3
1
s
B4,2
V4,1
V4,3
V4,5
B4,4
7
5
5
5
9
V2,3
B2,4
G3,3
R3,2
G3,1
R3,4
9
G3,5
7
6
4
3
3
2
8
R1,4
9
4
6
7
2
8
G1,3
9
G5,3
a
b
c
d
e
Footprints  
 
Overlaps 
#1 
R+G+B+V 
#2 
R+G+B 
#3 
R+B 
#4 
R+B+V 
#5 
B+V 
#6 
G+B+V 
#7 
G+V 
#8 
R+G+V 
#9 
R+G 
 
f
1
 
a) 
1
2
3
i
n
Street light
Router node
I2V
V2V
V2I
Luminaire
Router node
End device
/sensor
Traffic light
mesh/cellular
node
Datacentre
(IM)
 
b) 
 
Street light
Traffic 
light
I2V
Map 
merging
InDV2VRP
Street light
Local map
I2V
Local map
V2V
Request distance
Message distance
 
c) 
 
Figure 3. a) V2X optical infrastructure and generated joint footprints in a 
crossroad (LED array=RGBV color spots).b) Mesh and cellular hybrid 
architecture. c) Graphical representation of the simultaneous localization 
and mapping problem. 
5
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

The other one is the ‚Äúmesh/cellular‚Äù hybrid controller 
that is also equipped with a modem provides IP base 
connectivity to the Intersection Manager (IM) services. 
These nodes act as border-router and can be used for edge 
computing. The proposed short-range mesh network enables 
edge computing and device-to-cloud communication, by 
ensuring a secure communication from a street light 
controller to the edge computer or datacenter, through a 
neighbor traffic light controller with an active cellular 
connection and enable peer-to-peer communication, to 
exchange information between V-VLC ready connected 
cars.  
 
B. 
Multi-vehicle cooperative localization  
A concept of request/response for multi-vehicle 
cooperative localization is used.  
For the intersection manager crossing coordination the 
vehicle and the IM exchange information through two types 
of messages, ‚Äúrequest‚Äù (V2I) and ‚Äúresponse‚Äù (I2V). Each 
driver, approaching the intersection area from each side has 
previously selected and stays in the appropriate lane for 
their destination (left turn only or shared by right-turn and 
through movements). Inside the request distance, an 
approach ‚Äúrequest‚Äù is sent, using as emitter the headlights as 
illustrated in Figure 3c.  
To receive the ‚Äúrequests‚Äù, two different receivers are 
located at the same traffic light, facing the cross roads (local 
controller of the traffic light). Concretely, when one head 
vehicle enters in the infrastructure¬¥s capture range of one of 
the receivers (request distance) the request message is 
received and decoded by the receiver facing the lane which 
is interconnected to the Intersection Manager (V2I). The 
‚Äúrequest‚Äù contains all the information that is necessary for a 
vehicle‚Äôs space-time reservation for its intersection crossing 
(speeds, and flow directions). Intersection manager uses this 
information to convert it in a sequence of timed rectangular 
spaces that each assigned vehicle needs to occupy the 
intersection. An intersection manager‚Äôs acknowledge is sent 
from the traffic signal over the facing receiver to the in car 
application of the head vehicle. The response includes both 
the infrastructure and the vehicle identifications and the 
‚Äúconfirmed vehicle‚Äù message. Once the response is received 
(message distance in Figure 3c), the vehicle is required to 
follow the provided occupancy trajectories (footprint 
regions, see Figure 2). If a request has any potential risk of 
collision with all other vehicles that have already been 
approved to cross the intersection, the control manager only 
sends back to the vehicle (V2I) the ‚Äúresponse‚Äù after the risk 
of conflict is exceeded. A course is a typical path that is 
followed by a vehicle while approaching (request and 
message distances) and traversing the intersection.  
Let‚Äôs consider that qi(t,t¬¥) represents the pose of vehicle i 
at time t¬¥ relative to the pose of the same vehicle at time t 
and qij(t) denotes the pose of vehicle j relative to the pose of 
vehicle i at time t. These three types of information qi (t), qi 
(t,t¬¥)and qij (t) compose the basic elements of a pose graph 
for multi-vehicle cooperative localization [26].  
From a digital map we automatically extract a set of 
attributes that characterize an intersection: the poses, qi (x, y, 
t), the courses and traffic rules (stop, give way).  
The 
Indirect 
V2V 
Relative 
Pose 
Estimation 
(InDV2VRPE) method is exemplified in Figure 3c. Here, 
when two vehicles are in neighborhood, the geometric 
relationship between them can be indirectly inferred via a 
chain of geometric relationships among both vehicles 
positions and local maps. Let¬¥s consider two neighboring 
vehicles. Both vehicles, having self-localization ability 
based on I2V street lamps communication perform local 
Simultaneous Localization and Mapping (SLAM). The 
follower vehicle can be localized by itself, as in single 
vehicle localization, qi (t), and can also be localized by 
combining the localization result of vehicle leader and the 
relative localization estimate between the two vehicles,      
qij (t). For a vehicle with several neighboring vehicles, it 
uses the indirect V2V relative pose estimation method to 
estimate the relative pose of each neighboring vehicle one 
by one and takes advantage of the data of each neighboring 
vehicle.  
 
C. 
Color phasing diagrams 
The use of both navigation and lane control signs to 
communicate lane restrictions is demanding. Downstream 
from that location (request distance), lane restrictions should 
be obeyed.  
1
Request
distance
Message
distance
Street Lamps
 
 
a) 
VRU‚Äôs
Pedestrian
Phase 2
Phase 1
Phase 6
Phase 3
Phase 4
Phase 5
or
or
 
b) 
Figure 4.  a) Physical area, color poses and channelization. b) 
Representation of a phasing diagram. 
6
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

Vehicles may receive their intentions (e.g., whether they 
will turn left or continue straight and turn right) or 
specifically the need to interact with a trafic controler at a 
nearby crossroad (message distance). In the sequence, a 
traffic message coming from a transmitter nearby the 
crossroad will inform the drivers of the location of their 
destination (i.e., the intended intersection exit leg). 
In the proposed architecture (Figure 3b), the major 
operational requirement of IM is the ability to register 
synchronized measurements in a common frame of 
reference. The effective solution is to maintain a buffer of 
time-stamped measurements and register them as a batch 
using a temporal sliding window.  
The vehicles can use such techniques to find their ‚Äúcolor 
poses‚Äù at regular time intervals. We have assumed four 
‚Äúcolor poses‚Äù linked with the radial range of the modulated 
light in the crossroad nodes. Based on Figure 4a, where the 
physical area and channelization are shown, the West 
straight, South left turn, and West right turn manoeuvres 
correspond to the "Green pose". "Red poses" have to do 
with manoeuvres like turning south straight, turning east left 
and turning south right. ‚ÄúBlue poses with East straight, 
North left turn and East right turn and finally ‚Äúviolet poses 
with North straight, West left turn and North right turn 
manoeuvres, In Figure 4b, a color phasing diagram is 
displayed. Since two movements can occur simultaneously 
without conflict, two of the timing functions are always 
controlled simultaneously. 
 
IV. 
VLC COMMUNICATION PROTOCOL AND 
CODING/DECODING TECHNIQUES 
 
An on-off keying (OOK) modulation scheme was used 
to code the information. Synchronous transmissions based 
on a 64- bits data frame are analysed. 
An example of the used codification to drive the 
headlamps LEDs of a vehicle, coming from N, located in in 
footprint #1 (R3,4, G3,3, B4,4, and V43) moving to South is 
illustrated in Figure 5a.  
Different control fields are used depending on the driver 
motivation. All messages, in a frame, start with the header 
labelled as Sync, a block of 5 bits. The same 
synchronization header [10101], in an ON-OFF pattern, is 
imposed simultaneously to all emitters. The next block (ID) 
gives the location (x, y coordinates) of the emitters inside 
the array (Xi,j,k). Cell‚Äôs IDs are encoded using a 4 bits binary 
representation for the decimal number. So, the next 8 bits 
are assigned, respectively, to the x and y coordinates (i, j) of 
the emitter in the array. If the message is diffused by the IM 
transmitter, a pattern [0000]) follows this identification, if it 
is a request (R) a pattern [00] is used. The steering angle (ÔÅ§) 
completes the pose in a frame time. Eight steering angles 
along the cardinal points and coded with the same number 
of the footprints in the unit cell (Figure 1c) are possible 
from a start point to the next goal. The last block is used to 
transmit the traffic message. A stop bit is used at the end of 
each frame. 
The decimal numbers assigned to each ID block are 
pointed out in the Figure 5a. Results show that, in network, 
R3,4,S ; G3,3,S; B4,4,S and V4,3,S are the transmitted node 
packets, in a time slot, from the crossroad. In this location, 
the driver receives his request message [pose, and traffic 
needs] from the infrastructure. This allows its movement 
across the crossroad to South (violet code 9, ÔÅ§=270¬∫), 
directly from the current point (#1) to the goal point (#9). 
The calibration of the receiver supplies an additional tool 
to enhance the decoding task. The calibration procedure is 
exemplified in Figure 5b. Here the MUX signal obtained at 
the receiver as well as the coded transmitted optical signals 
are displayed. 
 
 
a) 
0.0
1.0
2.0
3.0
4.0
5.0
6.0
Message
Calibration
Sync.
R
 
0110
1011
0011
1110
d8
d9
d10
d11
d12
d13
d14
d15
0111
d7
d6
d5
d4
d3
d2
d1
d0
1000
0101
0100
0010
1001
1010
0001
0000
1100
1101
1111
RGBV
V
B
G
 
 
MUX signal
Time (ms)
 
b) 
 
Figure 5. a) Frame structure representation of a request message. b) 
MUX/DEMUX signal of the calibrated cell.  In the same frame of time a 
random signal is superimposed. 
V4,3
B4,4
R3,4
G3,3
1
7
3
4
6
5
2
8
9
7
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

The message, in the frame, starts with the header 
labelled as Sync, a block of 5 bits. In the second block, 
labelled as calibration, the joint transmission of four 
calibrated R, G, B and V optical signals is imposed. The bit 
sequence for this block was chosen to allow all the on/off 
sixteen possible combinations of the four RGBV input 
channels (24). Finally, a random message was transmitted. 
All the ordered levels (d0-d15) are pointed out at the 
correspondent levels and are displayed as horizontal dotted 
lines. In the right hand side the match between MUX levels 
and the [RGBV] binary code assigned to each level is 
shown. Comparing the calibrated levels (d0-d15) with the 
different assigned 4-digit binary [RGBV] codes, ascribed to 
each level, the decoding is straightforward and the message 
decoded. The footprint position comes directly from the 
synchronism block, where all the received channels are, 
simultaneously, on or off. The pose of the mobile receiver 
(x,y, ÔÅ§) in the network comes directly from the next 12 
decoded bits. Finally, the received traffic message is 
decoded based on the last MUX levels. 
 
V. SYSTEM EVALUATION 
 
A.  V2X Communication  
Figure 6a displays the MUX signal associated with two 
IM response messages. The messages were received by 
Vehicle a, driving the right lane, that enters Cell C4,2 by the 
enter #2 (t‚Äô1,a, Phase1, green pose), goes straight to E to 
position #8 (t‚Äô2,a ; Phase1, green pose). Then, this vehicle 
enters the crossroad through #8 (t‚Äô‚Äôa) and leaves it in the exit 
#2 at t‚Äô‚Äô‚Äôa , keeping always the same direction (E).  
In Figure 6b, vehicle b approaches the intersection after 
having asked permission to cross it and only receives 
authorization when the vehicle a has left the intersection 
(end of Phase 2). Then, Phase 3 begins with vehicle b 
heading to the intersection (W) (pose red) while vehicle a 
follows its destination towards E (pose green).  
In Figure 6c, the movement of the cars is illustrated by 
their colorful poses (color arrows) and their spatial relative 
poses, qac (dot lines), as time develops. 
According to the results, the received information 
patterns change as the receiver moves between generated 
point regions. The vehicle speed can be calculated by 
measuring the actual travelled distance overtime, using the 
ID¬¥s transmitters tracking. Two measurements are required: 
distance and elapsed time. The distance is fixed while the 
elapsed time will be obtained through the instants where the 
number of received channels changes. The receivers 
compute the geographical position in the successive instants 
(path) and infer the vehicle‚Äôs speed. In the following, this 
data will be transmitted to another leader vehicle through 
the V2V communication or to control manager (IM) at the 
traffic light through V2I. When two vehicles are in 
neighborhood and in different lanes, the geometric 
relationship between them can (qi,j) (dotted lines in Figure 
6c) can be inferred through local SLAM fusing their self-
localizations via a chain of geometric relationships among 
the vehicles poses and the local maps. 
 
0.0
1.0
2.0
3.0
4.0
5.0
6.0
t'2,a
t¬¥1,a
CM
[0000]
[1101]
[1110]
[1111]
#8 E
R3,2
Sync
 ÔÅ§ 
 
         Traffic message                
y
x
#2 E
V4,3
B4,2
G3,3
 
 
MUX signal
Time (ms)
 
a) 
0.0
1.0
2.0
3.0
4.0
5.0
6.0
[0101]
V4,5
G3,5
#7 W
t'1,b
#1 W
t'2,b
#2 E
t''a
B4,4
G3,5
R3,4
#7 W
#1 W
CM
[0000]
[1110]
[1111]
#2 E
R3,4
Sync
 ÔÅ§ 
 
         Traffic message                
y
x
V4,5
B4,4
G3,5
 
 
MUX signal
Time (ms)
 R
 G
 B
 R
 R
 G
 B
 V
 G
 R
 G
 V
 
b) 
B4,2
V4,3
B4,4
R 3,4
G
1
7
3
4
6
5
2
8
9
R3,2
1
3
6
4
8
2
3,3
1
3
7
6
4
5
2
9
8
c
G3,5
V4,5
2
b
Response
Response
Request
Enter/Exit
t‚Äôa
t‚Äô‚Äôa
t‚Äô‚Äô‚Äôa
ta
qa,c
B4,4
R 3,4
a
 
c) 
Figure 6. Normalized MUX signal responses and the assigned decoded 
messages at different response times. On the top the transmitted channels 
packets [R, G, B, V] are decoded. a) Before the crossroad. b) After the 
cross road. c) Movement of the cars, in the successive moments, with their 
colorful poses (color arrows) and qac spatial relative poses (dot lines). 
8
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

For a vehicle with several neighboring vehicles, the 
mesh node uses the indirect V2V relative pose estimations 
method taking advantage of the data of each neighboring 
vehicle.  
 
B.  Traffic Signal Phasing: V2X Communication  
A phasing diagram was presented in Figure 4, for 
functional areas with two-way-two-way intersection. A 
traffic scenario was simulated (Figure 3a) using the new 
concept of VLC request/response messages. A brief look 
into the process of timing traffic signals is given in Figure 7.  
To design traffic-actuated controls, we consider a, b, c, 
d, e, and f vehicles requesting and responding message 
information to determine phase durations appropriate to 
meet demand. Each driving vehicle is assigned an 
individualised time to request (t) and access (t¬¥) the 
intersection. The exclusive pedestrian stage, ‚ÄúWalk‚Äù interval 
begins at the end of Phase 5 (Figure 4b). 
A 
first-come-first-served 
approach 
could 
be 
accomplished by accelerating or decelerating the vehicles so 
that they arrive at intersections when gaps have been created 
between conflicting traffic flows and pedestrians. However, 
a one-by-one service policy at high vehicle arrival rates is 
inefficient. From the capacity point of view it is more 
efficient, if Vehicle c is given access at t‚Äôc before Vehicle b, 
at t‚Äôb to the intersection and Vehicle d is given access at t‚Äôd 
before Vehicle e, at t‚Äôe then, forming a west left turn of set 
of vehicles (platoon) before giving way to the fourth phase 
(north and south conflicting flows), as stated in Figure 7. 
The speed of Vehicle e was reduced, keeping a safe distance 
between Vehicle e and Vehicle d. 
 
Request time
Pedestrian
West (Straight)
South (Straight)
Access time
ta
tb
tc
t‚Äôa
t‚Äôe
t‚Äôc
Cycle length
West (Left)
East (Left)
North (Straight)
a
c
d
e
f
tf
te
td
a
c
d
e
f
t‚Äôb
t‚Äôd
t‚Äôf
Pedestrian
Phase  duration
1
2
3
4
 
 
Figure 7. Requested phasing of traffic flows: pedestrian phase, Phase 1 
(W straight flow), Phase 2 (W straight and left flows), Phase 3(W and E 
left flows), Phase 4 (N and S straight flows). t[x] is the request time from the 
Vehicle x and t‚Äô[X] the correspondent response time from the manage 
controller. 
As a final remark, traffic light coordination using the V-
VLC request-response concept facilitates traffic circulation, 
promoting smooth movement along the network, forming 
platoons with efficient speeds, preventing the formation of 
queues, avoiding congestion and delays. This is also an 
effective way to reduce excessive fuel consumption and 
preserve the environment through minimal air pollution.  
To evolve towards real implementation, the performance 
of V-VLC system still needs improvement, namely the 
distance between conflicting vehicles along with the 
trajectories of other opposing vehicles should also be 
monitored and optimized.  
VI. 
CONCLUSIONS  
This paper presents a new concept of request/response 
for the redesign and management of a trajectory in a two-
way-two-way traffic lights controlled crossroad, using VLC 
between connected cars. The connected vehicles receive 
information from the network (I2V), interact with each other 
(V2V) and also with the infrastructure (V2I), using the 
request redesign distance concept. In parallel, a control 
manager coordinates the crossroad and interacts with the 
vehicles (I2V) using the response redesign distance concept. 
A simulated traffic scenario was presented and a generic 
model 
of 
cooperative 
transmission 
for 
vehicular 
communication services was established. As a PoC, a 
phasing 
of 
traffic 
flows 
is 
suggested. 
The 
simulated/experimental results confirmed that the proposed 
cooperative VLC architecture is suitable for the intended 
applications. The introduction of VLC between connected 
vehicles and the surrounding infrastructure allows the direct 
monitoring of relative speed thresholds and inter-vehicle 
spacing.  
In order to evolve towards real implementation, the 
performance of such systems still needs improvement, 
namely the distance between conflicting vehicles along with 
the trajectories of other opposing vehicles should also be 
monitored and optimized. As further work, the research 
team plans to finalize the embedded application, for 
experimenting in several road configurations with either 
static or moving vehicles. 
 
ACKNOWLEDGEMENTS 
This work was sponsored by FCT ‚Äì Funda√ß√£o para a 
Ci√™ncia e a Tecnologia, within the Research Unit CTS ‚Äì 
Center 
of 
Technology 
and 
Systems, 
reference 
UIDB/00066/2020. The project IPL/IDI&CA/2020/Geo-
Loc/ISEL, was also acknowledge. 
 
REFERENCES 
 
[1] M. A. Vieira, M. Vieira, P. Louro, M. de Lima, and P. Vieira, 
‚ÄúVehicular Visible Light Communication in a Two-Way-
9
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Two-Way 
Traffic 
Light 
Controlled 
Crossroad‚Äù 
SENSORDEVICES 
2021: 
The 
Twelfth 
International 
Conference on Sensor Device Technologies and Applications, 
Copyright (c) IARIA, ISBN: 978-1-61208-918-8, pp. 61-66, 
2021. 
[2] G. Karagiannis et al., ‚ÄúA Survey and Tutorial on 
Requirements, Architectures, Challenges, Standards and 
Solutions,‚Äù IEEE Communications Surveys & Tutorials, vol. 
13, no. 4, pp. 584‚Äì616,  2011. 
 
 
[3] A. Memedi and F. Dressler, "Vehicular Visible Light 
Communications: A Survey," in IEEE Communications 
Surveys & Tutorials, vol. 23, no. 1, pp. 161-181, 2021. 
[4] N. Cheng et al., ‚ÄúBig data driven vehicular networks,‚Äù IEEE 
Network, vol. 32, no. 6, pp. 160‚Äì167, Nov. 2018. 
[5] P. Singh, G. Singh, and A. Singh, ‚ÄúImplementing Visible 
Light Communication in intelligent traffic management to 
resolve traffic logjams,‚Äù-Int. J. Comput. Eng. Res., 2015 - 
academia.edu pp. 13-17, 2015. 
[6] S. Yousefi, E. Altman, R. El-Azouzi, and M. Fathy, 
"Analytical Model for Connectivity in Vehicular Ad Hoc 
Networks," IEEE Transactions on Vehicular Technology, vol. 
57, pp. 3341-3356, 2008. 
[7] D. O‚ÄôBrien, H. L. Minh, L. Zeng, G. Faulkner, K. Lee, D. 
Jung, Y.  Oh, and E. T. Won, ‚ÄúIndoor Visible Light 
Communications: challenges and prospects,‚Äù Proc. SPIE 
7091, 709106, 2008. 
[8] P. H. Parth, H. Pathak, F. Xiaotao, H. Pengfei, M. Prasant, 
‚ÄùVisible Light Communication, Networking and Sensing: 
Potential 
and 
Challenges,‚Äù 
September 
2015, 
IEEE 
Communications Surveys & Tutorials 17(4) pp. 2047 ‚Äì 2077, 
Fourthquarter,   2015.  
[9] H. Le-Minh, Z. Ghassemlooy, A. Burton, F. Mousa, S. 
Biswas, A. Tuan Pham, T. Dat Pham, and S-K. Liaw, ‚ÄúSelf-
Correcting Multiple Input Multiple Output Visible Light 
Communications System Using Localization,‚Äù in IEEE 
International Conference on Communications, London, June 
2015. 
[10] Z. Lubin, D. O'Brien. H. Le-Minh, G. Faulkner, L. 
Kyungwoo, J. Daekwang et al., ‚ÄúHigh data rate multiple input 
multiple output (MIMO) optical wireless communications 
using white LED lighting,‚Äù IEEE Journal on Selected Areas in 
Communications, vol. 27, pp. 1654 - 1662, 2009. 
[11] A. Nuwanpriya, S-W. Ho and C. S. Chen, ‚ÄúIndoor MIMO 
Visible Light Communications: Novel Angle Diversity 
Receivers for Mobile Users,‚Äù IEEE Journal on Selected Areas 
in Communications, vol. 33, no. 9, pp. 1780-1792, 2015. 
[12] D. Elliott, W. Keen, and L. Miao, ‚ÄúRecent advances in 
connected and automated vehicles‚Äù Journal of Traffic and 
Transportation Engineering, Vol. 6, Issue 2, pp. 109-131, 
2019. 
[13] J. N. Bajpai, ‚ÄúEmerging vehicle technologies & the search for 
urban mobility solutions,‚Äù Urban, Planning and Transport 
Research, 4:1, pp. 83-100,  2016. 
 
 
 
 
 
 
 
 
[14] R. Azimi, G. Bhatia, R. Rajkumar, and P. Mudalige, "V2V-
Intersection Management at Roundabouts," SAE Int. J. 
Passeng. Cars - Mech. Syst. Vol. 6, n2, pp.:681-690, 2013. 
[15] N. Wang, Y. Qiao, W. Wang, S. Tang, and J. Shen, ‚ÄúVisible 
Light Communication based Intelligent Traffic Light System: 
Designing and Implementation,‚Äù 2018 Asia Communications 
and 
Photonics 
Conference 
(ACP) 
DOI: 
10.1109/ACP.2018.8595791, 2018. 
[16] M. A. Vieira, M. P. Louro, M. Vieira, A. Fantoni, and A. 
Steiger-Gar√ß√£o, ‚ÄúLight-activated amplification in Si-C tandem 
devices: A capacitive active filter model,‚Äù IEEE sensor 
journal, vol. 12, no, 6, pp. 1755-1762,  2012. 
[17]  J. Ackermann, J.  Guldner, W. Sienel, R. Steinhauser, and  V. 
Utkin, ‚ÄúLinear and Nonlinear Controller Design for Robust 
Automatic Steering‚Äù IEEE Transactions on Control Systems 
Technology ( Volume: 3, Issue: 1, Mar.), pp. 132 ‚Äì 143, 
DOI: 10.1109/87.370719, 1995. 
[18]  D. Scaramuzza, F. Fraundorfer, and R. Siegwart. Real-time 
monocular visual odometry for on-road vehicles with 1-point 
ransac. In ICRA, 2009. 
[19] R. Siegwart and I. Nourbakhsh. Introduction to Autonomous 
Mobile Robots. MIT Press, 2004. 
[20]  A. Prahara, A. Azhari, M. Murinto ‚ÄúVehicle pose estimation 
for vehicle detection and tracking based on road direction,‚Äù 
March 2017, International Journal of Advances in Intelligent 
Informatics,  vol. 3, no.1, pp. 35-46,  2017.  
[21] M. A. Vieira, M. Vieira, V. Silva, P. Louro, J. Costa, ‚ÄúOptical 
signal processing for data error detection and correction using 
a-SiCH technology,‚Äù Phys. Status Solidi C 12 (12), pp. 1393‚Äì
1400,  2015. 
[22] M. A. Vieira, M. Vieira, P. Louro, P. Vieira, "Bi-directional 
communication between infrastructures and vehicles through 
visible light," Proc. SPIE 11207, Fourth International 
Conference on Applications of Optics and Photonics, 
112070C , 3 October 2019. 
[23]  H. T. Friis, ‚ÄúA note  on  a  simple  transmission  formula‚Äù 
Proc.  IRE34, pp. 254‚Äì256, 1946. 
[24] M. A. Vieira, M. Vieira, P. Vieira, P. Louro, ‚ÄúVehicle-to-
Vehicle and Infrastructure-to-Vehicle Communication in the 
Visible Range,‚Äù Sensors & Transducers, 218 (12), pp. 40-48 
2017. 
[25] A. Yousefpour  et al., ‚ÄúAll one needs to know about fog 
computing and related edge computing paradigms: A 
complete survey‚Äù, Journal of Systems Architecture, Volume 
98, pp. 289-330,  2019. 
[26] M. A. Vieira, M. Vieira, P. Louro, P Vieira, "Vehicular 
visible 
light 
communication 
in 
a 
traffic 
controlled 
intersection," Proc. SPIE 11772, Optical Sensors 2021, 
117720K, 8 April 2021.  
10
International Journal on Advances in Telecommunications, vol 15 no 1 & 2, year 2022, http://www.iariajournals.org/telecommunications/
2022, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

