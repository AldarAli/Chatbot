Energy Harvesting Wireless Sensor Network Edge Device Simulation Tool 
Cian O’Shea, Ross O’Halloran, Peter Haigh, Mike Hayes 
Tyndall National Institute 
Cork, Ireland 
Email: cian.oshea@tyndall.ie 
Abstract - Wireless Sensor Networks (WSN) are becoming 
widely adopted in many industries including health care, 
building energy management and conditional monitoring. As 
the scale of low-power sensor network deployments 
increases, the cost and complexity of battery replacement 
and disposal have become more significant and in time may 
become a barrier to adoption. Harvesting ambient energies 
provides a pathway to reducing dependence on batteries and 
for many application scenarios, may lead to autonomously 
powered sensors. This work describes a simulation tool that 
enables the user to predict the battery life of a wireless 
sensor that utilizes energy harvesting to supplement the 
battery power. To create this simulator, all aspects of a 
typical WSN edge device (node) were modelled including 
sensors, transceiver and microcontroller as well as the 
energy source components (batteries, solar (PV) cells, 
Thermoelectric Generators (TEG), supercapacitors and 
DC/DC converters). The tool allows the user to plug and 
play different pre-characterized devices as well as add user 
defined devices. The goal of this simulation tool is to provide 
a WSN installer with a methodology to deploy systems with 
optimum battery lifetime by scaling battery and energy 
harvesting component sizes appropriately for a given 
scenario. It also allows a component designer to examine 
trade-offs in system level performance versus device 
specifications for optimum battery lifetime.
Keywords – Wireless Sensor Network; Low-power 
sensor network; Internet of Things (IoT); Energy 
Harvester; simulation tool 
I.
INTRODUCTION
With the ever-increasing push to have a more energy 
efficient environment, the retrofit of IoT edge devices, 
such as wireless sensors in, on or near equipment and its 
operating environment is becoming more prevalent to 
help gather data to achieve this goal. Commercial and 
residential buildings are now expected to meet better and 
higher standards of energy efficiency, with the Irish 
government mandating that all newly constructed 
buildings require at least 20% of the energy needs be 
sourced through renewable energy [1].   
The deployment of IoT devices is growing at an 
exponential rate. By 2025 there will be an estimated 75 
billion IoT devices worldwide [2] most of which, will be 
wireless. One of the biggest challenges that IoT devices 
face is battery life. With so many devices globally, this is 
a serious issue. According to the United States 
Environmental Protection Agency, roughly 90% of 
batteries are recycled [3]. By 2025, that still leaves 7.5 
billion batteries filling landfills and polluting the earth. 
Combine this with the environmental cost of mining the 
material used and the monetary cost of producing so 
many batteries, technologies such as energy harvesting 
that enable battery life to be extended are highly 
desirable. The simulation tool presented in this paper will 
allow a user to select from a range of different 
components to extend the battery life of their IoT end 
nodes 
by 
installing 
more 
cost 
effective, 
lower 
maintenance overhead and energy efficient device. 
Energy harvesting is the act of collecting ambient energy 
from the environment and either converting it into device-
ready electrical energy or storing it. The environment has 
readily available ambient sources of energy. Energy 
harvesting can be very beneficial for WSN nodes. This 
software tool will allow people to see the usefulness of 
energy harvesting and how real-world applications can be 
completely powered or have their battery life extended 
with the use of an energy harvesting system. This tool 
will encourage the use of ambient energies, particularly in 
applications that would greatly benefit from averting or 
prolonging the need for battery replacement, for example 
in hard to reach areas such as civil engineering structures 
and medical implants.  
In Section 2 this paper will present the simulation tool and 
discuss its operation. Section 3 will then describe WSN 
and the different components involved. Section 4 will 
present the user interface of the simulation tool and 
illustrate what a typical user would see. Sections 5 to 10 
will 
then 
describe 
each 
component 
and 
its 
characterization methods. The results in Section 11 will 
show a comparison between a real-world test and 
software simulation, showing the accuracy of the tool. 
The final Section will present the conclusions drawn and 
propose several possible directions for future work. 
II.
SOFTWARE TOOL 
Energy harvesting is a common method used to extend 
the battery lifetime in WSN devices. The software 
application described in this paper has two purposes: 
1.
It can be used by component designers to trade 
off system performance against component 
performance in an end node. 
2.
It can also be used by a system integrator as a 
validation tool during the development process 
of the WSN system. It will allow a user to 
determine if the ambient energy available to the 
1
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

device is enough to sustain it or prolong the 
battery lifetime for a desired period. 
One of the main goals of this software tool was to have 
the ability to predict lifetime for any given node. This 
allows a user to import any type of component to the 
software 
using 
the 
predetermined 
characterisation 
structure and predict the lifetime of the WSN node using a 
given combination of power generation, storage and 
consumption components.
III.
WIRELESS SENSOR NETWORK
A WSN consists of a gateway, which receives all of the 
data from the connected nodes in the network and then 
transmits that data to the cloud, as shown in Figure 1. 
Figure 1. Example of a WSN.
The focus of this simulation tool is predicting the lifetime 
of the nodes in the network by importing characterized 
components and flowing that data through a set of 
equations to accurately predict the lifetime of the device. 
A typical node in a WSN that utilizes Energy Harvesting 
(EH-WSN) methods consists of the following parts; an 
energy harvester, a power-management IC, which 
includes a Maximum Power Point Tracker (MPPT), an 
energy storage device, a DC-DC converter and finally a 
sensor (or cluster of sensors). 
Figure 2 represents a block diagram of an EH-WSN. 
Figure 2. EH-WSN block diagram.
The energy harvester transducers that are available with 
the simulation tool developed are PV cells and TEGs. 
With the ambient energy available (e.g., light, heat) 
usually being quite limited and sporadic, any change in 
environmental conditions throughout the harvesting 
period can have a significant effect on the amount of 
energy that the EH (energy harvesting) transducers can 
provide. For this reason, an MPPT circuit is required to 
maximise the power output from the transducer to the 
load. Because of the uncertainty in available power from 
energy harvesting, an energy storage device is required to 
maintain constant power to the sensor node. An energy 
storage device can provide power to the load when the 
ambient energy is unavailable, but it can also, store excess 
energy when the transducers are harvesting more energy 
than the load requires. Supercapacitors, also known as 
ultracapacitors or double-layer capacitors, are commonly 
used in EH-WSNs as they have a higher power density 
than batteries and can operate without the need for 
additional charging circuitry. They also have a long 
operational lifetime, with charging and discharging of the 
device having little to no effect on it [4]. However, as the 
voltage in the device is varying, a DC-DC converter is 
required to maintain a stable voltage on the sensor node, 
which typically contains a receiver, transmitter and a 
microprocessor. Primary batteries are also used for energy 
storage, with the choice being dependent on application 
powering requirements. These additional batteries may 
also require a DC-DC converter. 
IV.
GUI 
When the application launches, the user can vary any of 
the parameters in a WSN by selecting the button that 
corresponds to that section. These buttons can be seen in 
Figure 3.  
Figure 3. GUI buttons.
In Figure 4, the user can input the operating voltage and 
the average current consumption of the device which then 
gets sent to the main simulation file and awaits further 
data. 
2
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

Figure 4. Sensor Node menu.
The two types of EH devices available in this simulation 
tool are PV cells and TEGs whose parameters can be 
modified in Figure 5. Other types can be easily added. 
The user can select which type and then either select from 
pre-characterised components in the tool or add a new 
component to the simulation. This allows users to import 
their own components to test their viability in a WSN 
system. The size of the components and ambient 
conditions must also be selected. 
Figure 5. EH menu.
Similar to the EH section, Figure 6 shows that the user 
can enter the parameters of the supercapacitor or import a 
new component. The minimum and turn on voltage of the 
supercapacitor can also be selected. This notifies the 
simulation that once the supercapacitor reaches the 
minimum voltage, it must be allowed time to recharge 
back to the turn on voltage and disconnected from the 
load. This allows the system to alternate between 
powering the sensor node using EH methods and using 
battery power. 
Figure 6. Supercapacitor menu.
Figure 7 shows a selection window for a DC-DC 
converter. As was mentioned previously, the system 
requires a DC-DC converter to maintain a constant 
voltage to the sensor node. Depending on the minimum 
and maximum input voltages of the device, it may 
influence the operating limits of the supercapacitor. The 
rated voltage of the supercapacitor should be checked to 
see if it is compatible with the DC-DC converter. 
Figure 7. DC-DC converter menu.
Once all of the parameters are selected, a simulation 
window is presented to the user. Figure 8 shows a 
complete simulation, illustrating the effects of the 
3
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

minimum and turn-on voltages. Figure 9 compares the 
lifetime of the device when powered solely by battery 
(shown in red) and a battery-EH hybrid system (shown in 
blue). 
Figure 8. Supercapacitor voltage over time.
As the simulation is running, the graph presented in 
Figure 8 is shown. This allows the user to see when the 
supercapacitor reaches its minimum or maximum voltage 
and can alter the components to achieve the optimum 
power solution to the device, whether the supercapacitor 
is receiving too much energy or too little. It also allows 
the user to check whether or not the supercapacitor is 
sized correctly or the DC-DC converter suitable for the 
system. Figure 8 also shows that when the supercapacitor 
reaches the minimum voltage and there is no ambient 
energy available, the voltage continues to drop due to 
leakage current before the charging cycle starts again. 
Figure 9. Battery WSN vs. EH-WSN.
Altering the input parameters to the system allows the 
user to determine the optimised component setup to 
power the device. 
Once the simulation has begun, bars shown in Figures 10-
12 will present the ongoing conditions in the system over 
time. When there is no ambient energy available to the 
system (e.g., lights switched off), the yellow bar is 
depleted signalling that the supercapacitor is no longer 
receiving energy. This can be seen as the simulation is 
displayed. Figure 11 is a representation of the green circle 
shown in Figure 8. The device is receiving ambient 
energy and charging. Figure 12 is a representation of the 
red circle. There is no ambient energy available and the 
supercapacitor is roughly 50% charged. 
Figure 10. Simulation dynamic conditions.
Figure 11. Simulation dynamic conditions.
Figure 12. Simulation dynamic conditions.
As the WSN switches between the use of EH and the use 
of a battery, that too is shown to the user with the EH bar 
toggling on or off and the supercapacitor bar increasing or 
4
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

decreasing. If the supercapacitor reaches the minimum 
voltage, it requires time to recharge, which switches the 
device to receive power from the battery. Figures 13 and 
14 represent when the device is receiving ambient energy 
or not respectively. 
Figure 13. Using EH indicator.
Figure 14. Using battery indicator.
What makes this different from other WSN simulators, is 
its ability to import new components and allow users to 
use their own or test components they are thinking of 
acquiring. The characterisation templates are included 
with the software and that data can mostly be found in the 
datasheets of the components or easily derived from some 
bench testing. 
V.
ENERGY HARVESTER 
PV cells can be characterised by using what is termed “I-
V & P-V curves”. They represent the relationship 
between the electric current/power through the cell with 
the corresponding voltage for different light intensity 
levels. These curves can then be used to find the 
maximum power point. 
(a) 
(b)
Figure 15. (a) I-V curves for varying light intensity levels. (b) Output 
power for varying light intensity levels. 
Figure 15(a) shows how different lux levels can affect the 
current generated by the PV cell whilst Figure 15(b) 
presents the maximum output power of the PV cell for 
each lux value. An MPPT circuit can be used to help the 
PV cell operate at its maximum power point. 
Thermoelectric generators work by taking advantage of 
the Seebeck effect, which directly converts temperature 
difference into electricity. When heat is applied to one of 
the two conductors in the TEG, the temperature of 
electrons close to the surface begin to rise and flow 
towards the cooler surface creating current flow. When a 
temperature difference exists on the P-N junctions, a 
potential voltage difference between the hot and cold 
surfaces occurs [5]. 
Similarly to a PV cell, a TEG is also characterised using 
“I-V curves” and “P-V curves” and impedance matching 
circuits can be used to obtain a maximum power point, 
which can be seen in Figures 16 (a) & (b). 
5
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

(a) 
(b) 
Figure 16. (a) I-V curves for varying temperature differences. (b) Output 
power for varying temperature differences.
VI.
MAXIMUM POWER POINT TRACKER FOR PV 
The MPPT used in this simulation tool for PV is called 
Fractional Open-Circuit Voltage (FOCV). This method is 
based on the fact that the voltage of the PV cell at the 
maximum power point (VMPP) is approximately linearly 
proportional to the open-circuit voltage (VOC) and short-
circuit current (ISC) based on the following equations: 
ܸெ௉௉  ≈ ܭଵ ∗ ܸை஼
(1) 
ܫெ௉௉  ≈ ܭଶ ∗ ܫௌ஼
(2) 
where the value for ܭଵ ranges from 0.7-0.9 and ܭଶ ranges 
from 0.78-0.92 depending on the overall characteristics of 
the solar cell. 
 A flowchart of the FOCV algorithm is represented in 
Figure 17. 
Figure 17. Fractional Open-Circuit Voltage algorithm.
From [6]-[8], it was concluded that the FOCV method 
was the best fit for ultra-low-power sensor networks (sub 
mW power levels) with an accuracy rating of 96%, which 
is the value used in this simulation tool. 
ܯܲܲ஼ு஺ோ஺஼்ாோூ௓ா஽ ∗ 0.96 ≈ ܲாு            (3) 
Where MPPCHARACTERIZED is maximum characterized 
power of the EH after it has gone through a MPPT circuit 
and PEH is the EH power used in the simulation. 
VII.
ENERGY STORAGE 
For optimum energy efficiency, an energy storage device 
is required to store any excess energy generated by the 
energy harvester transducers. This stored power can then 
be used to power the sensor node when ambient energies 
are no longer available in order to prolong the lifetime of 
the battery. A battery is used when ambient energy is not 
available, and the power stored in the supercapacitor is 
depleted. In this simulation tool, a supercapacitor is 
modelled in unison with a single-use battery. Taking 
values, such as capacitance, rated voltage, leakage current 
and Equivalent Series Resistance (ESR), the energy in the 
supercapacitor can be simulated as it charges and 
discharges. ESR is a non-ideal characteristic of a 
supercapacitor and can cause problems when dealing with 
I2R losses and transients. The bigger the load transient, 
the larger the voltage drop due to ESR. The equations 
governing the supercapacitor in this simulation are shown 
in the results section. 
VIII.
DC-DC CONVERTER 
When powering systems from ambient energy the 
designer should ensure that as much power as possible 
that is generated by the transducer is delivered to the load. 
Techniques to reduce power losses need to be employed. 
In this case the supercapacitor voltage will vary during 
charge and discharge, therefore a DC-DC converter is 
6
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

required to ensure the load is supplied with the 
appropriate steady voltage level at maximum efficiency. 
The output power to the load is based entirely on the 
specified output voltage of the converter and the current 
consumption of the sensor node. The power required at 
the input is dependent on the voltage at the input. As the 
voltage at the input varies, so too does the efficiency of 
the converter. This also varies the power required from 
the supercapacitor to maintain constant power to the 
output.  In this software tool, the user selects an average 
efficiency rating of the converter and then integrates top 
and bottom thresholds. At these points, when the voltage 
reaches those levels, the efficiency changes. This can be 
further explained in table 1. 
TABLE I. DC-DC CONVERTER EFFICIENCY FOR DIFFERENT 
INPUT VOLTAGES 
Input Voltage Range 
(V) 
Efficiency  
(%) 
5 – 4.2 
84.5 
4.2 – 3.6 
86 
< 3.6 
90 
ߟ ≈ 
௏௢௟௧௔௚௘ೀೆ೅∗ ஼௨௥௥௘௡௧ೀೆ೅
௏௢௟௧௔௚௘಺ಿ∗ ஼௨௥௥௘௡௧಺ಿ
       (4) 
where VoltageIN and CurrentIN are the input voltage and 
current to the DC-DC converter respectively (i.e., the 
WSN node).  
Furthermore: 
ܵݑ݌݁ݎܿܽ݌ܽܿ݅ݐ݋ݎ ܲ݋ݓ݁ݎ ≈ 
ே௢ௗ௘ ௉௢௪௘௥ 
ఎ
       (5) 
Where “Supercapacitor Power” is power required by the 
supercapacitor to maintain constant power to the node. 
The efficiency value is also determined by the operating 
supercapacitor 
voltage.
As 
the 
voltage 
in 
the 
supercapacitor changes with time, the efficiency at which 
the DC-DC converter converts the input power of the 
supercapacitor to the required power levels of the sensor 
node changes. 
IX.
SENSOR NODE 
The sensors in these nodes typically have different 
operating modes, for which their period of operation is 
defined by their different duty cycles. The average power 
then depends on the power consumed in each operation 
mode as well as the time employed for each mode (i.e., 
the ‘duty cycle’). The simulation tool handles this by 
taking in the average current consumption level for a 
specific duty cycle and using the operating voltage to 
determine the power required. 
ܹܵܰ ܲ݋ݓ݁ݎ=ܸ݋݈ݐܽ݃݁∗ܣݒ݁ݎܽ݃݁ ܥݑݎݎ݁݊ݐ  (6)
X.
SIMULATION 
To ensure that simulation results are accurate, the 
individual components need to be characterized in a 
uniform manner under operating conditions that reflect 
real life. The wide range of component types makes this 
challenging. However, by doing this, an extensive array 
of components can be catalogued and stored in the 
software for comparison and to assess their viability for 
different applications.
The simulation tool takes in CSV files containing the 
required information to model each component. These 
CSV files have data templates, which can be filled out 
and logged in the software. 
Figure 18. Component characterization templates.
Figure 18 shows the different templates for the energy 
harvester transducers, the energy storage devices, the DC-
DC converters and the sensor nodes. 
Other software tools that simulate WSNs are usually 
manufacturer specific. One of the unique selling features 
of this simulation tool is that it allows for myriads of 
combinations and offers the ability to add any type of 
component to the software. 
XI.
RESULTS 
To test the accuracy of the simulation tool, a circuit was 
setup to power a LoPy4. The LoPy4 is a low-power radio 
module that is a typical communication device used in 
wireless sensors. The module supports, LoRa, Sigfox, 
7
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

Bluetooth and Wi-Fi. For these experiments it was set up 
using LoRa. 
Figure 19. LoPy4 Pycom Device. 
During the test, the device shown in Figure 19 was 
programmed to operate at 90mA. This device was then 
connected to a supercapacitor, which was then connected 
to a power supply. Figure 20 shows the circuit schematic 
of the performed test with the accompanying equations. 
The goal of this test was to measure the voltage of the 
supercapacitor as it charged and discharged to compare 
with a simulated test under the same conditions. The 
voltage across the supercapacitor was recorded using a 
Bluno V2.0 board with a ±0.15V error rate, connected to 
a laptop. 
Figure 20. Circuit schematic with equation block diagram.
While the ‘pycom’ device is disconnected and receiving 
power from the 3V3 supply, the 32Ohm power source 
mimics an EH transducer. The EH power being fed to the 
supercapacitor can be approximated using (7). In reality, 
this power is feeding both the supercapacitor and the DC-
DC converter that is operating in ‘no-load’ with the 
‘pycom’ disconnected but this is assumed to be very small 
relative to the current entering the supercapacitor based in 
quiescent current specifications for the DC-DC converter. 
Power is a product of current multiplied by voltage. With 
the voltage constantly varying, so too was the supply 
current. 
ܲ(ݐ)ாு ≈ ܸ(ݐ)ௌ஼ ∗ܫ(ݐ)ோ                  (7)  
ܲ(ݐ)ாு ≈ ܸ(ݐ)ௌ஼ ∗ ቀ
௏ೄೆುುಽೊି ௏(௧)ೄ಴
ோ௘௦௜௦௧௔௡௖௘
ቁ      (8) 
Where V(t)SC is the voltage across the supercapacitor over 
time and VSUPPLY is the 5V supply voltage. 
When the ‘pycom’ is connected to the DC-DC converter, 
the current and voltage supplied at the input need to be 
calculated. With losses in the DC-DC converter, more 
power needs to be supplied than is drawn by the load. The 
“pycom” device was set at 3.3 volts consuming 90 mA. 
Using the efficiency equation for DC-DC converter in (4), 
with the known voltage across the supercapacitor, the 
current supplied by the supercapacitor can be acquired.  
However, as discussed previously the efficiency of the 
DC-DC converter is dependent on the input voltage. 
Using the information gathered from the datasheet, the 
efficiency can be calculated for different operating 
conditions. 
The results in table 1 can then be used to calculate the 
power supplied to the DC-DC converter and subsequent 
pycom load (i.e., the WSN node) when not operating off 
of the 3V3 battery. 
ܲ(ݐ)ௐௌே ≈ 
௏௢௟௧௔௚௘ೀೆ೅ುೆ೅∗ ஼௨௥௥௘௡௧ೀೆ೅ುೆ೅
ఎ
       (9) 
ܲ(ݐ)ௐௌே ≈ 
ଷ.ଷ ∗ ଴.଴ଽ
ఎ
                         (10) 
TABLE II. WSN NODE POWER REQUIREMENT FOR EACH DC-
DC CONVERTER EFICIENCY
Efficiency  
(%) 
ࡼ(࢚)ࢃࡿࡺ
W 
84.5 
0.3515 
86 
0.3453 
90 
0.33 
To simplify equations, it is approximated that all of the 
current for the DC-DC converter comes from the 
supercapacitor and that the additional current coming 
from the 32Ohm resistor is very small. This should also 
offset most of the approximation error for the 
supercapacitor charge cycle. 
The leakage current in the supercapacitor was given in the 
datasheet as 25µA and equivalent series resistance of 
130mΩ. The leakage power can be calculated by 
multiplying leakage current by the voltage across the 
supercapacitor. 
ܲ(ݐ)௅ா஺௄  ≈ ܸ(ݐ)ௌ஼ ∗ ܫ௅ா஺௄஺ீா              (11) 
8
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

Power dissipation due to ESR in the supercapacitor can be 
calculated by multiplying the ESR value by the square of 
operating current. 
ܲ(ݐ)ாௌோ ≈  ܧܴܵ∗ ܫ(ݐ)ௌ஼
ଶ                  (12)                                                                                 
All of these equations were then fed into (13). 
ܧ(ݐ)ௌ஼ ≈ܧ(݅݊݅ݐ݈݅ܽ)ௌ஼
+ න(ܲ(ݐ)ாு − ܲ(ݐ)ௐௌே − ܲ(ݐ)௅ா஺௄
௧
଴
− ܲ(ݐ)ாௌோ)݀ݐ
                                                       (13) 
where t is the entire period for a given sensing interval. 
When the supercapacitor has reached its minimum energy 
availability, the load is disconnected, allowing the 
supercapacitor to recharge. The “pycom” is switched to 
receive power from the battery. Using the circuit 
presented in Figure 20, when the load is disconnected, the 
DC-DC converter still receives current in the form of 
quiescent current and the supercapacitor continues to have 
leakage and ESR losses. This change in current is 
accounted for in (14), (15) and (16).   
ܲ(ݐ)ாு ≈ ܸ(ݐ)ௌ஼ ∗ ቆܸௌ௎௉௉௅௒ − ܸ(ݐ)ௌ஼
ܴ݁ݏ݅ݏݐܽ݊ܿ݁
−ܫ஽஼ି஽஼ ொ௨௜௘௦௖௘௡௧ቇ
     (14) 
ܲ(ݐ)ௐௌே ≈  0                      (15) 
ܲ(ݐ)ாௌோ ≈  ܧܴܵ∗ ቆܸ௦௨௣௣௟௬ − ܸ(ݐ)ௌ஼
ܴ݁ݏ݅ݏݐܽ݊ܿ݁− ܫ஽஼ି஽஼ ொ௨௜௘௦௖௘௡௧
− ܫ௅ா஺௄ቇ
ଶ
                (16)                                                                     
P(t)LEAK during this period is still governed by (11). 
From there, (17) is used to calculate the voltage in the 
supercapacitor and then graphed over time to allow the 
user to continually refine the component parameters in the 
software. 
ܸ(ݐ)ௌ஼ ≈ ට
ଶ∗ா(௧)ೄ಴
஼
                     (17) 
Using the minimum voltage specifications from the DC-
DC converter of 1.52 volts, the supercapacitor was 
disconnected from the load and allowed to recharge once 
it reached that level. It would then switch back to 
powering the device once it reached 4.6 volts. Using these 
equations, the results from the simulation were gathered 
and compared to the real-life test in the following graph. 
Figure 21. Real-World vs. Simulation comparison.
Figure 21 shows the voltage over time in the 
supercapacitor for both the real-world and the simulated 
test as it charges and discharges. Based on these results, 
the simulation was able to match the supercapacitors 
discharge profile with 98.9% accuracy while the charge 
profile predicts with an 89.5% degree of accuracy. In both 
instances the general shape of the charge/discharge curve 
looks good except when charging between around 4 and 
4.5V, which also creates a net error in the predicted time 
constant that accumulates with each simulated cycle.
XII.
CONCLUSION & FUTURE WORK 
In this paper, a simulation tool that predicts the power 
lifetime of energy-harvested wireless sensor networks is 
presented. Based on the comparison between a real-world 
scenario and the simulation data, it can be seen that the 
software can predict the lifetime of a wireless sensor 
network with a high degree of accuracy. However, there 
is a noticeable margin of error in the results. This is likely 
to be due to a combination of reasons. Firstly, as 
mentioned, a Bluno V2 board was used to measure the 
voltage in the “Real-World” test, which had a margin of 
error of ±0.15V. Also, while the resistor was measured to 
be 
exactly 
32.77Ohms, 
the 
capacitance 
of 
the 
supercapacitor was taken from the datasheet as the rated 
capacitance. Some simplifying assumptions were used for 
charging such as taking all the current from the resistor to 
be entering the supercapacitor when in reality a small 
percentage will go into the DC-DC converter, acting in 
quiescent/no 
load 
mode. 
Correspondingly, 
it 
is 
approximated that when the supercapacitor is discharging 
that all the source current for the DC-DC converter comes 
from the supercapacitor. However, over a given cycle 
these approximations should more or less ‘balance out’ 
but cause a small net approximation error. 
9
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

With the implementation of a standardised way of 
characterising components, this simulation tool provides a 
much faster method for finding the optimum power setup 
for a particular application. 
For future work, more in-depth analysis of the real-life 
charging and discharging currents should be undertaken 
via 
metrology 
and 
closer 
interaction 
with 
the 
supercapacitor vendor to understand device behaviour 
particularly in the 4-4.5V charging region. In particular 
the 
previously 
mentioned 
approximation 
error 
assumptions need to be validated and their magnitude 
assessed. The DC-DC converter will also be in ‘no load’ 
rather than quiescent operation so its characteristics in this 
mode need to be characterised.  This should lead to more 
accurate calculations in future iterations of the model. The 
way that the software is setup allows for this, as each 
component has its own separate function, allowing for 
individual component improvements to the system as a 
whole. This tool could also be available online where 
every component added to the system can be available for 
everyone to use.
ACKNOWLEDGMENT 
This work was part of a larger project titled ReCO2ST, 
(Residential 
Retrofit 
assessment 
platform 
and 
demonstrations for near zero energy and CO2 emissions 
with optimum cost, health, comfort and environmental 
quality). This project has received funding from the 
European 
Union’s 
“Horizon 
2020” 
research 
and 
innovation program under the grant agreement No. 
768576. 
REFERENCES 
[1]
SEAI. Nearly Zero Energy Building Standard
[Online]. Available at: https://www.seai.ie/sustainable-
solutions/nearly-zero-energy-buildi-1/ 
[Accessed 
11th 
June 2019].
[2] Statista. Internet of Things (IoT) connected devices 
installed base worldwide from 2015 to 2025 (in billions) 
[Online]. 
Available 
at: 
https://www.statista.com/statistics/471264/iot-number-of-
connected-devices-worldwide/
[Accessed 
11th 
June 
2019].
[3] EPA. Sustainable Material Management [Online]. 
Available at: https://www.epa.gov/smm [Accessed 5th 
June 2019].
[4] A. S. Weddell et al. Accurate Supercapacitor 
Modeling for Energy Harvesting Wireless Sensor Nodes. 
Transactions on circuit and systems – II: Express Briefs, 
2011. [Online]. Volume 58, Issue 12, Pages 911-915. 
Available 
at: 
https://ieeexplore.ieee.org/document/6093951 [Accessed 
13th May 2019].
[5] C. Hsu et al. An effective Seebeck coefficient 
obtained by experimental results of a thermoelectric 
generator module. Applied Energy [Online]. Volume 88, 
Issue 12, Pages 5173-5179, 2011. Available at: 
https://www.sciencedirect.com/science/article/pii/S03062
61911004788#s0010 [Accessed 21st May 2019].
[6] L. Mentally, A. Amghar, H. Sahsah. Comparison 
between HC, FOCV and TG MPPT algorithms for PV 
solar systems using buck converter, 2017. [Online]. 2017
International Conference on Wireless Technologies, 
Embedded and Intelligent Systems (WITS). Available at: 
https://ieeexplore.ieee.org/document/7934609 [Accessed 
6th June 2019]. 
[7] J. Ahmad. A Fractional Open Circuit Voltage Based 
Maximum Power Point Tracker for Photovoltaic Arrays, 
2010. [Online]. 2010 2nd International Conference on 
Software Technology and Engineering. Available at: 
https://ieeexplore.ieee.org/document/5608868 [Accessed 
10th June 2019]. 
[8] D. Baimel, S. Tapuchi, Y. Levron, and J. Belikov, 
"Improved Fractional Open Circuit Voltage MPPT 
Methods for PV Systems," Electronics, vol. 8, no. 321, 
2019. 
10
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-819-8
SENSORCOMM 2020 : The Fourteenth International Conference on Sensor Technologies and Applications

