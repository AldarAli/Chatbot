Gas Detection Using a Multi-sensor Device with Pump Control and VOC Sensor 
Universal Pump Sensor Control 
 
Sergej Johann, Reinhard Noske, Viktor Feller and Matthias Bartholmai 
Focus area Analytical Sciences 
Bundesanstalt für Materialforschung und Prüfung (BAM) 
12200 Berlin, Germany 
e-mail: Sergej.Johann@bam.de; Reinhard.Noske@bam.de; Viktor.Feller@bam.de; Matthias.Bartholmai@bam.de  
 
 
Abstract— This paper deals with the development and investi-
gation of a volatile organic compound (VOC) system for differ-
ent scenarios. The integrated multi-sensor unit can detect dif-
ferent gases through the integrated 3-fold VOC sensor, where-
by a continuous measurement takes place. The system-
integrated flow control, with pump and flow sensor, allows the 
gas molecules to be transported directly to the VOC sensor. 
The entire measurement is permanently stored on an integrat-
ed Secure Digital (SD) card. If the previously determined limit 
range is exceeded, an alarm is generated. Due to the combina-
tion of different components, numerous applications are possi-
ble. The system is the first step or a tool towards further devel-
opments in the field of gas sensors and is primarily used for the 
validation of chemically based gas sensors, and it is still largely 
extended by application-specific influences. 
Keywords-gas detection; VOC; pump control; multi sensor 
device. 
I. 
MOTIVATION 
The environmental pollution caused by air pollution is 
becoming increasingly important nowadays. Cities and 
densely populated villages suffer from the enormous pollu-
tion, but also other critical points at which people gather. 
Pollution caused by VOC plays a significant role and is ad-
dressed by the VOC Solvents Emissions Directive [1][2]. In 
order to counteract the causes, sporadic measurements are 
carried out in order to detect the rate of pollution and to de-
fine the threshold values. Gas fluctuations and critical con-
centration peaks are often overlooked, which can lead to 
locally extreme environmental problems, although the spe-
cific causes can often not be determined immediately. A sys-
tem which can be deployed in a mobile manner, and hence 
which can be deployed in a distributed manner, enables 
chances to monitor pollution in various significant scenarios, 
e.g., in the areas of agriculture, chemical industry, and traf-
fic. 
Innovation is the catalyst for the technology of the future. 
It is important to develop new and better technologies that 
can continuously monitor the environmental impact. In the 
recently at BAM developed Universal Pump Sensor Control 
(UPSC3) module, different components and sensors are 
fused. The combination of the individual components makes 
the UPSC3 module an excellent monitoring and reference 
system. Measurements over long periods are possible, for 
mixed gas loads or for certain gas measurements. This paper 
describes the UPSC3 sensor module, which can be used for 
different application scenarios due to its functionalities [3]. 
The system is part of a mobile sensor network of several 
sensor units, which can also be used as standalone system. 
Section 3 describes the structure of the system and how it 
works, followed by initial tests and comparison with com- 
mercial sensors in section 4. The paper is rounded off with 
the application examples of the system and their advantages 
in section 5 and 6. Section 7 shows the work to be done to 
optimize the tool and the measurement process. 
II. 
SYSTEM DESCRIPTION 
The system and the sensors are protected from mechani-
cal effects by an aluminum housing, see Figure 1. An air 
duct is provided for sucking and discharging the gas mix-
ture. The exhaust air channel directs the induced gas-air 
mixture back into the environment from the commercially 
available VOC sensor, the sensor used is based on metal 
oxide semiconductor sensor technology. In order to be able 
to use the system on a mobile basis, all interfaces, such as 
supply voltage, communication and memory card slot are 
routed sideways. Any battery with 12 V DC voltage can be 
connected to the system as a power supply. The manual 
adjustment of the values and the monitoring of the meas-
urement is possible on the 2.8 "touch color display; the 3 x 4 
keyboard also serves as a manual entry of the values (sensor 
selection, threshold value, temperature, etc.). Further con-
nection possibilities are control signals for the opening and 
closing of the disk valve, by servo motor to regulate the gas 
supply at the calibration stations, as well as I/O pins for the 
control of external hardware (e.g., interrupt). 
 
 
Figure 1. UPSC3 front view with screen and key pad. 
1
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

The connections for the signals as well as power supply are 
on the side. 
A. UPSC3 Schematics 
The system is divided into 7 blocks and figure 2 shows 
the sections. The control of the individual components and 
the sensor evaluation is handled by a 16 MHz AVR 8-bit 
microcontroller. In doing so, the system has been kept uni-
versal, and several interfaces allow communication with dif-
ferent devices. From the RS232 interface with 8 V Transis-
tor-Transistor logic (TTL) level to Universal Asynchronous 
Receiver Transmitter (UART) interface with 5 V TTL level 
to keep the possibility of the connection to the older devices. 
The I2C bus allows the system to communicate with other 
sensors or systems. Table 1 shows the functionality of the 
components in function groups. 
 
 
Figure 2. Schematics representation of the functional areas of the system. 
TABLE I.  
COMPONENTS AND FUNCTIONS 
Component 
Group 
Function 
RS232 
Communica-
tions Interface 
Communication with PC (COM 
Port) 
UART 
Communication with PC (USB Port) 
I2C 
Communication with main  
device (Slave) 
TFT 
HID 
Control the Device with touch 
screen Show the module and sensor  
data on TFT 
KeyPad 
Enter values 
RTC 
Log and Time 
Current time 
SD card 
Save all measurement data into file 
Can be used for configuration file 
AFS 
Flow control 
Current airflow 
Pump 
Control airflow 
Gas sensor 
BAM Sensor 
Detects gas changes in the air 
Signal 
adjustment 
Control heater and signal adjustment 
MCU 
System control 
Control components and calculate 
results 
 
Table 1 describes the currently used modules of the sys-
tem. Further components are planned, more in Section 7. 
B. Modular design 
Figure 3 shows the modular design of the system. This 
principle offers the user, as well as the developer a fast 
troubleshooting and the possibility of system expansion. 
 
 
Figure 3. Modular design of the system 
The UPSC3 system has been designed according to a 
modular principle. Components which do not represent a 
large disturbance for the measurement can be exchanged. 
This has the advantage that the user is also able to carry out 
repairs autonomously or to replace components. The modu-
lar components are: 
 
MCU (Micro Control Unit) 
 
Voltage regulators 
 
RTC 
 
All peripherals 
C. Gas detection principle 
Figure 4 shows the principle of the gas detection, 
whereby the air channels, the air flow sensor, and the pump 
play a decisive role in the gas detection. 
 
 
Figure 4. Gas sensor module with air flow sensor and air ducts 
The transport of the gas mixture is carried out by the 
pump at a rate of 50 ml/min to 200 ml/min. The speed can 
be adjusted manually and is automatically adjusted by oc-
curring loads or constriction of the air channels. The air 
flow meter quickly detects these fluctuations and initiates 
corresponding measures by means of the system. The gas 
mixture is then passed through the air channel system in 
which the VOC sensor is located, then the sucked air gas 
mixture is led back into the free environment. 
2
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

The sensor layers located in the VOC sensor change 
their resistance as soon as the gas molecules settle on the 
layer surface or with the increasing concentration. The con-
centration cannot be determined unequivocally, but can es-
timate the danger level by increasing the initial value. In 
order to operate the VOC sensor and reactivate it more 
quickly during the measurement, the implemented heating 
element (Pt10), which is located in the immediate vicinity of 
the layers, is kept constant at a temperature. If temperature 
fluctuations occur, the system automatically adjusts the 
temperature. This has the advantage that the temperature 
changes in the surroundings can also be detected and com-
pensated. 
D. UPSC3 Flow chart sequence 
Figure 5 shows the program sequence of the entire sys-
tem. At the start of measurement, the sensors are read out in 
predefined sampling times and the current values are dis-
played on the TFT and stored on the SD card. 
 
Figure 5. Main functions and the sequence of UPSC3 
After the system is switched on, all components are ini-
tialized and the initial values are set. The measuring cycle is 
then started. The air flow and the VOC heater are set to the 
minimum values which are necessary to operate the system. 
During the measurement, interrupt-controlled inputs are 
monitored by the system. If an input is made, the measure-
ment is stopped to perform the input. As soon as the input is 
finished, the set values are checked and compared with the 
current values. If the values deviate from one another, then a 
subsequent correction or adjustment of the values takes 
place. 
Due to the relatively sluggish gas sensor, the values in 
the secondary clock are read out, displayed on the display 
and stored on the SD card. All sensor values are formed as a 
mean value from a 32-value ring memory. If the gas concen-
tration exceeds the threshold values, these can be changed 
during operation, an alarm occurs in the form of a display or 
the threshold value can be exceeded by activating external 
hardware. All values are still stored on the SD card. 
III. 
LABORATORY TESTS 
Figure 6 shows a series of measurements in a closed 
room. The measurement took several hours to investigate 
the stability of the sensors and the system. The built-in 
UPSC3 VOC sensor and own signal processing (S1, S2, S3) 
is shown on the primary y axis, without the calculation of 
the resistance layers, only the analog voltage values howev-
er, the influence of gases can be explained, and the refer-
ence VOC sensor and signal processing (R1, R2, R3) is 
shown on the secondary y axis [4]. With the integrated 
pump and the flow sensor, conclusions can be drawn about 
the concentration of the gas. The reference is an identical 
VOC sensor, which is controlled by an evaluation tool kit 
developed by the manufacturer via USB [5]. Figure 6 shows 
not a direct comparison of the UPSC3 with the reference 
VOC sensor, this attempt should validate the control of the 
VOC sensor by the UPSC3 system and allows for classifica-
tion of the sensor signals in regard to gas identification and 
quantification. 
 
 
Figure 6. First measurements with UPSC3 and reference VOC 
The experiment was carried out in three steps: Step 1 
shows the initialization and the settling of the sensor layers 
after commissioning of the sensors. The heating element 
(Pt10) was brought to an operating temperature of 350 °C. 
Step 2 shows the detection of a gas, which is a 100 % essen-
tial oil called "exotic". The oil was held directly (1 cm) 
against the sensors, resulting in the deflections shown in 
Figure 6. In the last step, which is number 3, the operating 
3
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

temperature of the heating element was increased to 400 °C, 
which resulted in a change in the overall course of all layers. 
The influence of the temperature change in the direct con-
nection of the Pt10 with the sensor layers. 
IV. 
APPLICATIONS 
UPSC3 is primarily used to calibrate and validate new gas 
sensors, but its application is very wide. Figure 7 shows a 
large part of the application scenarios, ranging from indoor 
applications (laboratories), wide open areas (farms) and ag-
glomerations (cities), as well as critical locations where a 
high concentration of gas poses a threat to humans (gas sta-
tions). 
 
Figure 7. Application scenarios for the UPSC3 system 
The module is primarily designed for the calibration of 
newly developed gas sensors. Other application scenarios are 
shown in Figure 7 but are not included in this paper. 
V. 
FEATURES AND BENEFITS 
 
User-friendly 
 
Sampling and threshold monitoring 
 
Pattern recognition 
 
Standalone System (mobile) 
 
Robust aluminum housing 
 
Modular design 
 
Defective components are quickly interchangeable 
due to the modular design 
 
BAM multi sensor system device enables TCP/IP 
communication, too 
VI. 
CONCLUSION 
By the interaction of the pump with the air flow sensor 
and the VOC sensor, it is possible to develop a process 
which can determine the concentration of gases. By regulat-
ing the temperature, the temperature fluctuations of the en-
vironment can be compensated. Due to the small size and 
the possibility of the battery connection to the system, the 
mobility is given, the UPSC3 system could be carried along. 
The detection of the gas takes place by the 3-fold VOC 
sensor, which can detect gases through its different layers. 
The pump supports and transports the air-gas mixture into 
the air ducts of the system. The detected values are dis-
played cyclically on the display and stored simultaneously 
on the SD card. If it is not possible to set the values directly 
on the system, configurations are also possible with a com-
puter via the UART, RS232 or I2C. 
The primary use of the system is to classify gas sensors 
under laboratory conditions that require control of external 
modules. The use in large areas is complicated by the lack 
of radio communication of the system. 
VII. OUTLOOK 
In order to improve the system and make the measure-
ments even more efficient, further sensors are planned for 
implementation. The sensors are placed directly in the air 
duct, the sensors will record the air humidity, as well as the 
temperature, so other parameters can be determined which 
are taken into account during the classification of the meas-
urement. The validation of the system takes place primarily 
in a hermetically sealed desiccator, with selected gases be-
ing used to define the accuracy of the measuring system. 
Through this validation setup, a pattern recognition for dif-
ferent gases e.g., Benzene, will be developed. Remote con-
trol of the system via a web interface is also planned and 
partially implemented. The control system adopts a power-
ful mobile BAM control unit, which is also under develop-
ment. For mobile use, an optimization of the power re-
quirement is still planned.  
REFERENCES 
[1] The Federal Environmental Agency. Volatile Organic 
Compounds 
(VOC) 
[Online]. 
Avalible 
from: 
http://www.umweltbundesamt.de/en/topics/health/environmen
tal-impact-on-people/chemical-substances/volatile-organic-
compounds-voc 2017.07.10 
[2] The Official Journal of the European Communities. Directive 
1999/13/EC 
[3] L. Wander, A. Paul, K. Rurack et. al., “ Compact sensor for 
online monitoring of nitroaromatics” Proceedings – 12. 
Kolloquium Prozessanalytik, pp. 11–61, November 2016. 
[4] UST Umweltsensortechnik GmbH. UST Triplesensor® - The 
electronic 
nose 
[Online]. 
Avalible 
from:   
http://www.umweltsensortechnik.de/en/gas-sensors/ust-
triplesensorR.html 2017.07.10 
[5] S. Schütz, M. Gabriel, S. Paczkowski, M. Paczkowska, C. D. 
Kohl, M. Bauer, A. Weiß, O. Kiesewetter, M. May, A. 
Kraußer, T. Hertel, „Prduction optimization process on the 
basis of the information processing of the antenna of the 
Black Beetle beetle (Melanophila acuminata) for the detection 
of released organic volatiles from drying wood particles“, 
fianl report, February 2012.  
 
 
 
 
 
 
 
4
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

