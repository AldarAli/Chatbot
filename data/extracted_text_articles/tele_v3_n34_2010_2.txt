129
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Improving IPTV QoE taking the suitable MPEG-2/MPEG-4 Quantizer based on 
Jitter, Delay and lost packets measurements 
Alejandro Canovas1, Miguel Garcia1, Jaime Lloret1, Marcelo Atenas1 and Rafael Rizo2 
1Universidad Politécnica de Valencia, Camino Vera s/n, 46022, Valencia, Spain 
2France Telecom R&D, ORANGE LABS, Barcelona, Spain,   
alcasol@posgrado.upv.es, migarpi@posgrado.upv.es, jlloret@dcom.upv.es, marat1@posgrado.upv.es, rafael.rizo@orange-ftgroup.com
 
 
Abstract — The main issue in Digital Terrestrial Television and 
in IPTV networks is the Quality of Experience received by the 
end users. For this reason, mechanisms to automatically 
measure the video quality of the images received by the user 
are needed. In this paper, we analyze video quantization in 
order to determine an optimal quantizer_scale factor value for 
its transmission. Then, it is used as an automatic measure to 
improve the video quality received by the end user. The paper 
shows the measurements taken for Objective and subjective 
Video Quality, Video Quality Metric and the bandwidth 
consumed for several types of video quality. We use the jitter, 
delay and lost packets measurements in order to take the 
appropriate quantizer. Finally, we show the visual comparison 
between a high quantizer_scale factor and a reference video. 
Our work shows that an optimal quantizer_scale factor can be 
used to save bandwidth in an IPTV network or to improve the 
Video Quality for the same bandwidth consumption. Finally, 
we present some discussions of the measurements gathered and 
some comments of other authors. 
Keywords – MPEG-2/MPEG-4 Quantizer, Video Quality, IPTV. 
I. 
 INTRODUCTION 
MPEG-2 and MPEG-4 encoding are standards that are 
widely used by the digital television industry [1]. Although, 
nowadays, MPEG-2 is the most used, MPEG-4 is gaining 
ground because it provides good quality image with lower 
bandwidth consumption [2]. The application fields where 
MPEG-4 can be applied are Digital Television, interactive 
graphical applications and interactive multimedia, while 
providing high audiovisual data compression to store or 
stream video and, at the same time, audio and video quality. 
MPEG-4 reduces the data rate in half, with the same image 
quality than MPEG-2. This will increase the offer and the 
plurality of channels and, at the same time, the scalability of 
network services. MPEG-4 compression is based on visual-
objects coding [3] and uses further coding tools, like System 
Decoder Model, Sync Layer, Flexible Multiplex, etc. [4], to 
achieve higher compression factors than MPEG-2, thus it 
needs less bandwidth for its transmission, but MPEG-2 is the 
most used codec in Digital Terrestrial Television and in 
IPTV networks, because it has lower complexity and 
hardware requirements at the end user. 
MPEG-2 compression format is quite used for video 
storage in hardware devices (DVD, SVCD, etc) and to 
transmit real time video in several Digital Video 
Broadcasting (DVB) standards [5]: 
• 
DVB-T: This system transmits compressed digital 
audio, video and other data in a MPEG-2 transport 
stream, using COFDM modulation. 
• 
DVB-S: This system increases the data transmission 
capacity and digital television via a satellite UH11 
using the MPEG-2 format, and QPSK modulation. 
• 
DVB-C: This system transmits MPEG-2 or MPEG-
4 family digital audio/video stream, using several 
QAM modulations with channel coding.  
DVB system has been used as a basis to standardize the 
Internet Protocol Television (IPTV). It includes MPEG-2 
DVB services [6] encoded with MPEG-2 technology and 
encapsulated in MPEG-2 Transport Stream (MPEG-2 TS) 
[7]. But, MPEG-4 can be also added in this transport stream. 
Moreover, it covers Live Media Broadcast services (i.e TV 
or radio styles), Media Broadcast with Trick Modes and 
Content on Demand services (CoD). The goal of DVB-IP is 
to specify technologies on the interface between an IP based 
network and a DVB-IP Set-top-Box, which uses a protocol 
stack for DVB IP services. A diagram of the protocol stack is 
given in Figure 1.  
Once DVB services are encoded, the video content is 
packaged and encapsulated. This involves inserting and 
organizing video data into individual packets. The 
encapsulation of the video content is done using MPEG-2 
TS, where all MPEG-2 TS will be encapsulated in Real time 
Transport Protocol (RTP) according to RFC 1889 [8] in 
conjunction with RFC 2250 [9], and RFC 768 [10] as the 
transport layer protocol.  
Initially, MPEG-4 doesn't define a transport layer [11]. 
There are only two adjustments on the MPEG-2 TS to 
transport MPEG-4 streams. The first one is defined in RFC 
3016, which is based in RTP packets [12]. The second one is 
DMIF, or Delivery Multimedia Integration Framework, 
which is an interface between the application and the 
transport. It allows the MPEG-4 application developer to 
stop worrying about MPEG-4 transport. A single application 
can run on different transport layers. 
The message fields used in the transport stream of the 
MPEG-2 based DVB content over IP are the following ones: 
a standard IP header, an UDP header, a RTP header and an 
integer number of 188 bytes MPEG-2 TS packets, see Figure 
2. The maximum size of IP datagram (65535 octets for IPv4) 
is limited. In the case of an Ethernet-based network, with a 
Maximum Transfer Unit (MTU) of 1492 or 1500 bytes, the 
number of MPEG-2 TS packets is 7. 
 

130
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
Figure 1. Protocol stack for DVB-IP services 
 
Figure 2. Message to transport MPEG-2 based DVB content 
 
The main challenge in current IPTV systems is to provide 
high Quality of Experience (QoE) to the user, but using 
noninvasive methods while the network is being monitored. 
In the paper with reference [13] we analyze MPEG-
2/MPEG-4 quantization in MPEG-2 TS packets, as a 
noninvasive method to evaluate the video quality function. It 
is useful because it allows us to measure the QoE perceived 
by the IPTV customer. Several quantizer scales are used to 
evaluate, which of them are better according to the 
bandwidth, objective video quality, etc. In this paper, we 
have extended [13] by adding many more tests and adding 
more variables for our comparison. Moreover, we now have 
another conclusion: QS=4 is better taking into account the 
Bandwidth, Jitter, Delay, Lost Packets, VQM, MOS and 
subjective analysis, while in [13] the best one was QS=2. 
The remainder of this paper is organized as follows. 
Section II explains some work related with video MPEG-2 
and MPEG-4 encoding and user video-quality perception. 
Section III explains the general concept of quantization. The 
system architecture used to perform our test is presented in 
Section IV. Section V shows the measurements obtained 
when different quantization scales are used in order to find 
the optimal quantizer_scale factor. Objective and subjective 
video quality for IPTV is shown in Section VI. Section VII 
shows the jitter, delay and lost packets test. Section VIII 
provides some discussions of the measurements gathered and 
the ones taken from other authors. Finally, Section IX draws 
the conclusion and indicates further research. 
II. 
RELATED WORK 
There are several works published where the authors 
improve the efficiency of the MPEG-2 and MPEG-4 
algorithms by modifying some of their parameters.  
In [14], Zhenzhong Chen and King Ngi Ngan review the 
recent advances in rate control techniques for video coding. 
The video quantization is used to reduce the bit rate of the 
compressed video signal. It lets meet the size or bandwidth 
limitation 
properly. 
The 
rate 
control 
algorithms 
recommended for the video coding standards are briefly 
described and analyzed. Moreover, the recent advances, such 
as new concepts in rate-distortion modeling and quality 
constrained control, are presented. With these techniques, the 
rate control performance can be improved. 
An example is given in [15], where O. Verscheure et al. 
analyze how the user-perceived quality is related to the 
average encoding bitrate for a variable bitrate (VBR) MPEG-
2 video. They show why simple distortion metrics may lead 
to inconsistent interpretations. Furthermore, for a given 
coder setup, they analyze the effect of packet loss on the 
user-level quality. Finally, they demonstrate that, when 
jointly studying the impact of coding bit rate and packet loss, 
the reachable quality is upperbound and exhibits one optimal 
coding rate for a given packet loss ratio.  
The authors in [16] describe a complete practical two-
pass MPEG-2 encoding system that can be tuned to produce 
a variable bit rate (VBR) stream in a second pass. In a first 
pass, the video sequence is encoded with constant bit rate 
(CBR), while statistics concerning coding complexity are 
gathered. Next, the first-pass data is processed to prepare the 
control parameters for the second pass, which performs the 
actual VBR compression. They conclude their paper saying 
that the second-pass VBR sequences visually appear to have 
a higher overall quality than the ones coded with CBR. For 
VBR to visually outperform CBR, a mix of “easy” scenes 
and “difficult” scenes is always required. 
Sung-Hoon Hong et al. propose a rate control scheme 
using a rate-distortion (R-D) estimation model, which 
produces a consistent picture quality between consecutive 
frames, in [17]. Their rate control scheme ensures that the 
video buffers do not underflow and overflow by satisfying 
the buffer constraint. Their simulation results show that their 
control scheme achieves 0.52-1.84 dB peak signal-to-noise 

131
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
ratio (PSNR) gain over MPEG-2 Test Model 5 (TM5) rate 
control and maintains very consistent quality within a frame 
as well as between frames. 
Another paper where the authors try to improve the 
efficiency of the encoders is shown in [18]. The authors 
optimize the operational control of MPEG-2, H.263, MPEG-
4, and H.264/AVC encoders respect to their rate-distortion 
efficiency using Lagrangian optimization techniques. The 
performance of the H.264/AVC compliant encoder in all 
experiments clearly demonstrates the potential importance of 
this standard in future applications of video streaming as 
well as interactive video coding. 
In [19] Zhihai He and Sanjit K. Mitra present an adaptive 
estimation scheme to estimate linear relationship between the 
coding bit rate and the percentage of zeros among the 
quantized transform coefficients. Based on the linear source 
model and the adaptive estimation scheme, a unified rate 
control algorithm is proposed for various standard video 
coding systems (MPEG-2, H.263, and MPEG-4). This 
algorithm is outperformed with other algorithms providing 
more accurate and robust rate control with very low 
computational complexity and implementation cost. 
If a system makes a change in the quantizer, this may be 
more efficient in the transcoding process. In [20], the authors 
present a rate control scheme for MPEG-2 to H.264 
transcoder. They construct an analytic model to set a 
reasonable initial quantization parameter (QP) for the first 
frame at the beginning of transcoding. The QP for each 
frame and each macroblock are adjusted by QPs extracted 
from the incoming MPEG-2 pictures to avoid consuming bits 
without video quality gain. They demonstrate by the 
experiment results that their algorithm improves overall 
quality for transcoded video while retaining smooth quality. 
Finally, an efficient conversion scheme in order to apply 
the already existent DCT-domain transcoding schemes to 
MPEG-2/H.264 transcoding is proposed in [21]. Their 
scheme consists of two conversion steps: the quantization 
conversion and the DCT conversion. The quantization 
conversion changes the MPEG-2 quantization step size 
(Qstep) to the new H.264/AVC Qstep. Additionally, it can 
improve PSNR performance by reducing the reconstruction 
errors caused in the pixel-domain transcoder. Their 
experimental results show that the proposed scheme reduces 
computational complexity by 5-11% and improves video 
quality by 0.1- 0.5 dB compared with other solutions. 
In this work we analyze the quantizer scale factor (QS) 
based on the measurements taken of the jitter, delay and lost 
packets. This study allows us to improve the quality of 
experience (QoE) in IPTV networks. 
III. 
QUANTIZATION 
Quantization is basically a process for reducing the 
precision of the Discrete Cosine Transform (DCT) 
coefficients in an encoder. This is very important, since 
lower precision implies a lower bit rate in the compressed 
data stream. The quantization process involves the division 
of the integer DCT coefficients by integer quantization 
values. The result is an integer and fraction, and the 
fractional part must be rounded according to the rules 
defined by MPEG [22]. The result is the quantized value that 
is transmitted to the decoder. 
For reconstruction, the decoder must first dequantize the 
quantized DCT coefficients in order to reproduce the DCT 
coefficients computed by the encoder. Essentially, the 
Inverse Quantization (IQ) scales every element by a unique 
quantized weight. Since some precision was lost quantizing, 
the 
reconstructed 
DCT 
coefficients 
are 
necessarily 
approximations to the values before quantization. 
After entropy decoding, the two-dimensional array of 
coefficients, QF[v][u], is inverse quantized to produce the 
reconstructed DCT coefficients, F[v][u]. In MPEG, IQ 
consists of three stages: Inverse Quantization Arithmetic, 
Saturation, and Mismatch Control. The inverse quantization 
arithmetic produces F’’[v][u] coefficients [22]. For DCT 
coefficients matrix expression 1 is used: 
 
ܨ"ሺݒ,ݑሻ ൌ ∑
 
଻
௩ୀ଴ ∑
 
଻
௨ୀ଴ ൣ൫2௡ ൈ ܳிሺݒ,ݑሻ൯ ൈ ݇൧ ൈ ܽ ൅ ൥൭2 ൈ ܳிሺݒ,ݑሻ ൅
ቆ
ௗ|ொಷሺ௩,௨ሻ|
ௗሺ௨,௩ሻ
ൈ ሺ1 െ ݇ሻቇ൱ ൈ ܹሺݓ,ݒ,ݑሻ ൈ ܳௌ 32
⁄
൩ ൈ ሺ1 െ ܽሻ                      (1) 
 
Where, 2n represents the multiplier intra DC, the 
intra_dc_mult factor, for n ∈ {0, 1, 2, 3}. It is derived from 
the data element intra_dc_ precision (in case of MPEG-2, it 
is estimated according to Table 7-4 of the ITU-T 
Recommendation H.262 [22], in case of MPEG-4, it is 
estimated according to [3]). The a variable depends of the 
intrablocks (see expression 2), when the three conditions are 
complied it doesn't get a null value, otherwise, only operates 
with the second one. The second part of expression 1 
depends of the value of k (seen in expression 3), the 
luminance and chrominance.  
 
⎩
⎨
⎧
= 0
1
a
 
others
k
u
v
1
0,
,0
=
=
=
 
(2) 
⎩
⎨
⎧
= 0
1
k
 
intrablocks
non
 s
intrablock
−
 
(3) 
 
The quantizer_scale factor (QS) is an integer and is 
encoded with a 5-bit fixed-length code. Thus, it has values in 
the range {1,....,31}. 0 value is not allowed. Each weighting 
coefficient, W[w][v][u]; w = 0 ... 3; v =0...7; u = 0... 7, is 
represented on an 8-bit integer. The operator /’ represents the 
integer division with truncation of the result towards zero. 
One of the main uses of QS is for bit rate adaptation. The 
higher the QS value, the lower the bit rate, but a lower bit 
rate means a less picture quality, therefore the QS value must 
be chosen so as to minimize perceived distortion in the 
reconstructed picture. 
In an encoder, the QS can be changed at the start of 
coding of each macroblock. Each time it is changed, the new 
value must be coded in the bitstream and there is coding 
overhead in doing this. In the case of IPTV this is done using 
MPEG-2 TS packets. Therefore, the QS can be retrieved 
very simply in the IQ block of the MPEG decoder, without 
adding extra devices, in an IPTV receiver (Set-Top-Box). 

132
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
IV. 
SYSTEM ARCHITECTURE 
The system is divided into two main parts: the server 
level and the user level. Both are linked by a communication 
network based on TCP / IP. 
At the user level, the system is based almost in the 
preprocessing and transmission of uncompressed images in 
PNG format with a resolution of 1920x1080. The videos 
were generated from 14315 uncompressed PNG images [23] 
and encoded and quantized using ffmpeg software [24]. We 
made 8 video sequences with the following characteristics: 
• 
MPEG-2 and MPEG-4 coding  
• 
720x576 of resolution 
• 
25 fps 
• 
120 seconds long 
• 
QS {1, 2, 4, 6, 8, 10, 16, 31}, see [13]. 
Figure 3 shows the steps from the preprocessing of 
encoding of the uncompressed PNG images until they are 
transported to the end user. In the preprocessing stage, after 
the PNG images are encoded, we obtain a standard definition 
television (SDTV) MPEG1 video with a resolution of 
720x576 dpi. This video will be the reference video used for 
the different tests. This video is later compressed in MPEG-2 
and MPEG-4 format. Then, they are quantized to different 
QS for each format. In the transport stage, the videos are 
packaged in MPEG-2 TS and transmitted by the server in 
broadcasting to the network. We used VLC Media Player 
[25] as IPTV video server to send the SDTV MPEG-2 
Transport Streams for both compressions types. 
The IPTV network (shown in Figure 3) has been 
simulated using a PC placed in a Fast Ethernet network. The 
final user has a commercial set-top box to watch the video 
from the TV. It can also be observed directly from PC. 
At the user level, we have also installed the VLC Media 
player. There, we can see the captured video and measure it 
subjectively. On the other hand, we installed the Clearsight 
Analyzer Software [26] in user's PC. It lets us capture and 
analyze the MPEG-2 TS packets. We measured the video 
quality at the receiver, and estimated the Mean Opinion 
Score (MOS). There is also installed a sniffer at the user 
level, which allows us to obtain the QoS parameter values of 
the video transmission (jitter, delay and lost packets). These 
measures will serve to evaluate the QS. 
Our network architecture uses IPv4 because nowadays 
the most of commercial set-top boxes only use IPv4, but it 
can be implemented in an IPv6 network with IPv6 set top 
boxes easily. 
V. 
QS ANALISYS  
In order to analyze the optimal QS, we encoded several 
videos with the different QS values shown in the previous 
section. The Video Quality (VQ) results, obtained by the 
IPTV analyzer software of each video transmitted through 
our test bench, is shown in Figures 4 and 5. The VQ is 
measured in MOS values. In order to obtain the MOS, we 
compare the captured video with the video reference. MOS 
is an ITU (International Telecommunication Union) 
standardized term [27], used as a methodology for the 
subjective assessment of the quality of television pictures. 
MOS scores are rated on a scale from 1 to 5, where 5 is the 
best possible score, and indicates the degree of the user’s 
satisfaction. In Figure 4 and 5, the best scores are obtained 
for QS {1, 2}, which provide a medium-high VQ value (4 at 
the MOS scale), while the rest of QSs have VQ values below 
4. So, we can say that optimal QS, is 1 or 2 according our 
needs. If we want the best video quality without considerer 
the file size we will choose 1, but if we take into account the 
size of the video, we will select QS equal 2. However the 
tests were conducted using fixed QS in the video encoder. 
But in practice, a commercial MPEG encoder often uses 
variable QS, which assigns different values to intraframe or 
interframe, even to macro-blocks contained in each of them. 
For that reason, an average QS of 4 could be the highest 
value used by a video encoder. It seems that, according to the 
values of Figure 4 and 5, QS values upper than 4 will give 
fair or poor VQ. To check the results, we used an objective 
video quality method [28]; which is used traditionally to 
determine the video quality in presence of impairments. This 
will be discussed at the next section. Furthermore, in order to 
analyze, which is the best QS for video streaming, we used 
new testing measures as jitter, delay and packet lost, which 
will be explained in next sections. 
Another important aspect in the QS analysis is the used 
instantaneous bandwidth. In Figures 6 and 7, the bandwidth 
used by MPEG-2 and MPEG-4 videos, and their respective 
QS, is shown. The appearance of traffic peaks on all graphs, 
with the same behavior, indicates that the tests have been 
conducted with the same sequence of images. Analyzing 
MOS and BW results we see that Q1 and Q2 have practically 
the same quality and features. According to [29], a MOS 
between 3.1 and 4.0 is acceptable. These videos are high 
quality, but the bandwidth needed for transmission is very 
high. Quantification values higher than Q8 are below the 
acceptable MOS. This reflects will serve for further analysis. 
 
Figure 3. Encoding process and location of IPTV devices 

133
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Figure 4. Video Quality in MOS value using the MPEG-2 codec 
quantizer 
Figure 5. Video Quality in MOS value using the MPEG-4 codec 
quantizer 
 
Figure 6.  Bandwidth used by MPEG-2 video with different QS 
 
Figure 7.  Bandwidth used by MPEG-4 video with different QS 
VI. 
 OBJECTIVE AND SUBJECTIVE VIDEO QUALITY 
The goal of the objective video quality assessment is to 
design quality metrics in order to predict the perceived video 
quality automatically. The subjective video quality is a tool 
for the evaluation of videos from the point of view of the 
observer. 
A video signal, whose quality is being evaluated, can be 
thought of as a sum of the reference signal and an 
impairment signal. We may assume that the loss of quality is 
directly related to the strength of the impairment signal. 
Therefore, a natural way to assess the quality of an image is 
to quantify the error between the distorted signal and the 
reference signal, which is fully available in Full Reference 
(FR) quality assessment [28]. But this is a problem because 
these videos of reference require a large amount of storage 
and, in many cases, it is impossible to obtain it. Reduced-
reference (RR) [30] quality assessment does not assume the 
complete availability of the reference signal, only a partial 
reference information that is available through an ancillary 
data channel. Partial reference information could be Packet 
Loss Rate (PLR), is the probability that a packet is dropped 
at any router, or I/B/P Frames Statistics Losses (FSL), while 
in our case is QS. 
In our case we will quantify the error between the 
distorted signal and the reference signal using Video Quality 
Metric VQM [31]. VQM uses the zero value as the best 
possible value; this means that there is no error between the 
reference video and the impairment video. The results of 
MPEG-2 and MPEG-4 are shown in Figures 8 and 9 
respectively. In both Figures, the best value is QS1 and the 
worst QS31, although the difference is lower in MPEG-4. 
This verify that the larger the QS, the lower image quality (as 
we mentioned in the previous sections). We can see that 
when there are errors, the MPEG-4 video is seen with higher 
quality image than the MPEG-2 video because lower values 
of VQ are obtained. Again, QS2 was the optimal value. 
0
0
0
0 

134
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
Figure 8. Objective video quality for MPEG-2 
 
Figure 9. Objective video quality for MPEG-4 
 
Figure 10. Visual comparison between a video with lost packets (at 
the bottom), QS31 video (in the middle), and the reference video 
(at the top) 
 
Figure 10 shows a visual comparison between a video 
with lost packets (at the bottom), QS31 video (in the middle) 
and the reference video (at the top). In the video with loss 
packets we can see that when losses occur in the network, 
there is a lack of information in the video and pixels appears 
empty or with adjacent information. In the QS31 video, we 
can see that it has color degradation, figure pixelation, and it 
loses clarity. These issues are given due to the high value of 
QS. This information allows us to compare the video 
received with the reference. Videos with QS31 and QS16 do 
not exceed the minimum requirements of subjective 
assessment because the end user does not get a good picture 
quality.  
VII. JITTER, DELAY AND LOSS PACKETS TEST 
The latest set of tests conducted in this work has been to 
measure the jitter, delay and lost packets. The aim is to find 
how these parameters affect the QS. Finally, we will gather 
all the measurements and select an optimal value of QS. In 
order to perform this experiment, we added changes in the 
network parameters by applying different values of jitter, 
delay and lost packets in the video transmission in a 
controlled manner. It has been done by using the software 
NetDisturb [32]. Based on our previous experiments [13] we 
will only analyze QS1, QS4, QS6, QS8 and Q10. We will 
cause 0.1% ,1% and 3% of loss packets in the network 
during the a IPTV channel transmission because higher 
values than these ones, give very low video quality results as 
it is shown in Figure 10 (bottom). The results can be seen in 
the following test bench. 
In Figure 11, the average delay when there is a loss of 
0.1% for several values of quantizer (Q) in the MPEG-2 
encoding can be observed. When the value of Q increases, 
the instant average delay is higher. The behavior of the delay 
is the same regardless of the Q value. If we have a low Q the 
file size to be transmitted is greater, so the number of packets 
to transmit will be bigger. For example, when Q=1 we have 
an average delay lower than 2 milliseconds, but the number 
of packets transmitted is approximately 70000. But when 
Q=6, the delay is lower than 5 milliseconds and the 
transmitted packets are approximately 24000. 
0
0 

135
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
Figure 11. Delay when the loss rate is 0.1% for different Q of 
MPEG-2 videos. 
 
Figure 12. Delay when the loss rate is 1% for different Q of 
MPEG-2 videos. 
In Figure 12, we can see that we obtained similar results, 
but in this case the losses introduced in the network were 
1%. We can say that in a network with 0.1% and 1% losses, 
in the case of MPEG2 encoding, the behavior of the delay is 
very similar. 
Finally, in Figure 13, we show the delay for a network 
with a loss of 3%. In this case, the delay follows the same 
behavior such as the previous figures but the average values 
are slightly smaller when there is a low Q. In this case, the 
delay increases for higher Q compared to Figures 11 and 12. 
This phenomenon can be seen when we have Q=1 (the delay 
decreases compared to the delays with a loss of 1% and 
0.1%) and Q=10 (the delay increases) 
We have also evaluated the delay compared to a loss rate 
for different Q of MPEG4 video encoding (see Figures 14, 
15 and 16). With a loss rate of 0.1%, with Q=1, the observed 
delay is lower than 2 milliseconds, while with Q=4 this delay 
increases almost up to 4 milliseconds. Moreover, as we see 
in Figure 14, increasing the value of Q, the delay is also 
increased. This behavior is also obtained in the figures 
related to MPEG-2.For a network loss rate of 1%, the 
behavior of the delay is the one obtained in Figure 15. In this 
figure we see that for a Q=1 the delay is lower than 2 
milliseconds and in the case of Q=4 this delay is lower than 
4 milliseconds. With a loss rate of 3% in MPEG-4 videos, 
we obtained the delay shown in Figure 16. In this case, we 
see that the delay is slightly higher compared to loss rates of 
0.1% -1%. This difference in delay is very small but exists.  
As 
a general conclusion related to the 
delay 
measurements, we can say that, regardless of the codec used, 
there are Q values, which contribute with lower delays, but 
the number of transmitted packets is higher when we use 
small QS. Besides, this delay is referenced to belay between 
packets. For this reason when we have more packets, the 
intermediate devices will need more resources to give the 
same service. In all cases, the delay is lower than 20 
milliseconds, an acceptable delay in the transmission of 
IPTV channels. 
In the Figures 17, 18, 19, 20, 21 and 22, we can observe 
the instantaneous average jitter using MPEG-2 and MPEG-4 
encoded videos for different loss rates. In Figure 17, we 
analyze the jitter for a loss rate of 0.1%. In this case, we 
observe that the measurements obtained have an exponential 
behavior. It can be seen that the video with Q=4 has the 
smallest jitter, something that can be taken into account for 
the IPTV transmission. 
When we have a loss rate of 1%, the behavior of the jitter 
follows the graph shown Figure 18. In this case, the jitter has 
an exponential behavior. We have also observed that when Q 
increases, the jitter is reduced. For an efficient IPTV 
transmission, it is the better to have a small jitter, but we 
can't choose the highest Q value because the video quality is 
very poor. 
Figure 19 shows the jitter measurements obtained for a 
rate loss of 3%. In this case, we see that the behavior is not 
the same as that obtained in the previous figures. This is 
because packet losses are already quite high and the jitter 
doesn't follow any specific distribution. We observed that the 
Q=4 value has the smallest jitter values (around 1500 
packets), then this jitter value increases. We must indicate 
that the jitter values obtained in this figure are very small and 
therefore they will not affect to the transmission of IPTV 
channels. 
In the MPEG4 encoding, the jitter obtained for different 
Q and a loss rate of 0.1% is seen in Figure 20. In this case, 
the behavior of this parameter is also exponential. In figure 
20 we observe that the values of Q=1 and Q=6 are the ones 
that provide lowest jitter. In this figure, we can see that the 
value of Q=10 has the worst jitter value introduced into the 
network. Figure 21 shows the obtained jitter for various Q 
values when the loss rate increases to 1%. In this case, the Q 
value that introduces more jitter to the IPTV transmission is 
the Q=8, having the other cases much lower jitter values. 
Finally, the jitter obtained for a loss rate of 3% is 
represented in the Figure 22. In this case, we see that the 
behavior doesn't follow any pattern. The Q value, which 
introduces lowest jitter is when we encode the video with 
Q=8. Otherwise, when there is higher jitter, the Q=1 is the 
quantizer, which provides higher jitter values to the IPTV 
transmission. 
0 
0 

136
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
Figure 13. Delay when the loss rate is 3% for different Q of 
MPEG-2 videos. 
 
Figure 14. Delay when the loss rate is 0.1% for different Q of 
MPEG-4 videos 
 
Figure 15. Delay when the loss rate is 1% for different Q of 
MPEG-4 videos 
 
 Figure 16. Delay when the loss rate is 3% for different Q of 
MPEG-4 videos 
 
Figure 17. Jitter when the loss rate is 0.1% for different Q of 
MPEG-2 videos. 
 
 Figure 18. Jitter when the loss rate is 1% for different Q of 
MPEG-2 videos. 
 
0 
0 
0 
0 
0 
0 

137
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
 Figure 19. Jitter when the loss rate is 3% for different Q of 
MPEG-2 videos. 
 
Figure 20. Jitter when the loss rate is 0.1% for different Q of 
MPEG-4 videos 
 
 Figure 21. Jitter when the loss rate is 1% for different Q of 
MPEG-4 videos 
 
Figure 22. Jitter when the loss rate is 3% for different Q of MPEG-
4 videos 
VIII. DISCUSSION 
Authors of reference [33] recommend a maximum loss of 
5 consecutive IP packets every 30 minutes in SDTV. They 
say that between 0.5% and 1.5% of packet loss is acceptable. 
We have taken this into account when we made our test. For 
this reason we don't presented loss packet values higher than 
3%.  
Authors of reference [34] recommend that delay bounds 
for the various grades of perceived performance in terms of 
human interaction can be defined as: Good (0ms-150ms), 
Acceptable (150ms-300ms), Poor (> 300ms). Moreover, the 
authors of reference [29] suggest the following jitter values 
to be reasonably reliable to determine the grade of perceived 
performance: Good (0ms-20ms), Acceptable (20ms-50ms), 
Poor (> 50ms). 
The jitter values of our test bench ranges between 200 ms 
and 2 ms and, for delay values between 2 and 30 ms. 
Therefore, we see that there are videos that don't satisfy this 
consideration, like the ones p given by QS31. 
We made a subjective analysis of the video quality. It is 
shown in Figure 23. In the first line of the figure we see an 
image of the reference video (first in the left), an image of 
the QS4 video (second) and the difference between them 
(third). In the second line we see an image of the reference 
video (first in the left), an image of the QS6 video and the 
difference between them. 
With this information and the information taken from the 
previous sections, we can deduce that the optimum values of 
QS are both QS4 and QS6 for MPEG-2 and MPEG-4 videos. 
Taking into account the extreme values of QS31 and QS1, 
we built the comparative shown in table I. In that table the 
average values for the different measures taken respect to the 
optimal values of QS31 and QS1is shown. 
IX. 
CONCLUSION 
In this paper, we have analyzed the QS as visual quality 
parameter. QS can be calculated at the decoder by extracting 
the information encoded in MPEG-2 TS packets, and, then, it 
could be used in VQ in order to create a reduced reference 
model to be used in the estimation of the QoE of the user . 
0 
0 
0 

138
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Figure 23. Subjective Video Quality for QS4 (first line) and QS6 (second line).
TABLE I.  
AVERAGE VALUES WITH SEVERAL QS FOR MPEG2 AND MPEG4 CODECS 
 
Jitter_01% 
(ms) 
Jitter_1%  
(ms) 
Jitter_3% 
(ms) 
Delay_0.1%
(ms) 
Delay_1%
(ms) 
Delay_3% 
(ms) 
BW 
(bps) 
MOS 
QS1 
2 
74.98 
10.41 
1.4 
1.86 
1.57 
1.37 
37355.7 
4.20 
4 
23.98 
10.41 
1.48 
1.75 
1.57 
1.6 
31452.7 
4.06 
QS4 
2 
3.95 
41.87 
1.65 
2.98 
3.01 
2.68 
19000.93 
3.36 
4 
18.96 
1.58 
1.6 
3.88 
3.56 
3.61 
13898.6 
3.40 
QS6 
2 
25.99 
48.57 
1.37 
4.65 
6.42 
13.17 
12029.7 
2.92 
4 
50.23 
1.39 
1.42 
6.31 
5.87 
5.99 
8406.34 
2.94 
QS31 
2 
91.84 
143.69 
1.29 
21.84 
22.11 
20.92 
2377.25 
0.7 
4 
204.39 
136.53 
1.39 
26.73 
26.98 
26.99 
1833.02 
0.64 
 
We reached the conclusion that QS4 and QS6 are the 
optimum values when we include changes in the network 
and the network conditions are not optimum. Moreover, QS4 
provide better video quality. IPTV service providers will 
require less bandwidth when QS4 and QS6 MPEG-4 videos 
are stream to the network. Therefore, we have shown that an 
optimal quantizer_scale factor can be used to save bandwidth 
in an IPTV network or to improve the Video Quality for the 
same bandwidth consumption. 
In [13] we have demonstrated that the best QS value was 
equal to 2. However, in this paper we have added the 
bandwidth, jitter, delay and packet loss measurements in 
order to test the IPTV channel performance and the VQM 
and MOS. Now, we have demonstrated that the best QS 
values have been QS4 and QS6 when these parameters are 
included between the parameters taken into account. 
Moreover, in [13] we used a DVD video as a reference and 
then we codded it to MPEG-2 and MPEG-4, in this paper we 
have coded the raw video to MPEG-2 and MPEG-2 directly.  
Reduced reference models are the next challenges for 
perceptual visual quality measurement techniques in 
multimedia services over digital television networks. Our 
future work will be focused on adding these results to the 
VQ algorithms in order to produce an efficient QoE to the 
user.  
ACKNOWLEDGEMENTS 
This research has been fully supported by France 
Telecom, Orange Labs, Spain. 
REFERENCES 
[1] The MPEG handbook: MPEG-1, MPEG-2, MPEG-4. John 
Watkinson. Focal Press, UK, 2001 
[2] R. Koenen, “Overview of the MPEG-4 standard”, ISO/IEC 
JTC1/SC29/WG11 N1730, Luglio 1997.  
[3] Coding of Audio-Visual Objects, Part-2 Visual, Amendment 4: 
Streaming Video Profile, ISO/IEC 14 496-2/FPDAM4, July 2000. 

139
International Journal on Advances in Telecommunications, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
[4] Hill, Alberto Daniel. "MPEG-4 sobre CATV". Other thesis, 
Universidad Católica de Uruguay Dámaso Antonio Larranga, 
Facultad de Ingienería y Tecnologías. 2003.  
[5] ETSI TR 102 033 V1.1.1. “Digital Video Broadcasting (DVB); 
Architectural framework for the delivery of DVB-services over IP-
based 
networks”. 
April 
2002. 
Available 
at 
http://www.etsi.org/deliver/etsi_tr/102000_102099/102033/01.01.01_
60/tr_102033v010101p.pdf [July 2010] 
[6] U. Reimers, “Digital Video Broadcasting (DVB): the International 
Standard for Digital Television”. Springer-Verlag New York, Inc. 
1998. 
[7] ISO/IEC 13818-1. “Information technology - Generic coding of 
moving pictures and associated audio information: Systems”. 2007. 
[8] H. Schulzrinne, S. Casner, R. Frederick and V. Jacobson. “RFC1889 - 
RTP: A Transport Protocol for Real-Time Applications”. January 
1996. Available at http://www.rfc-editor.org/rfc/rfc1889.txt [July 
2010] 
[9] D. Hoffman, G. Fernando, V. Goyal and M. Civanlar. “RFC2250 - 
RTP Payload Format for MPEG1/MPEG2 Video”. January 1998. 
Available at http://www.rfc-editor.org/rfc/rfc2250.txt [July 2010] 
[10] J. Postel. “RFC768 - User Datagram Protocol”. August 1980. 
Available at http://www.rfc-editor.org/rfc/rfc768.txt [July 2010] 
[11] ISO/IEC 11172-3, "Coding of Moving Pictures and Associated Audio 
for Digital Storage Media at up to about 1.5 Mbit/s, Part 3: Audio" 
(1992). 
[12] Y. Kikuchi, T. Nomura, S. Fukunaga, Y. Matsui, H. Kimata. RFC 
3016. 
RTP 
Payload 
Format 
for 
MPEG-4 
Audio/Visual 
Streams.November 
2000. 
Available 
at 
http://www.rfc-
editor.org/rfc/rfc3016.txt 
[13] Marcelo Atenas, Miguel Garcia, Alejandro Canovas, Jaime Lloret, A 
MPEG-2/MPEG-4 Quantizer to Improve the Video Quality in IPTV 
services, The Sixth International Conference on Networking and 
Services (ICNS 2010), Cancun (Mexico), March 7-13, 2010. 
[14] Z. Chen and K. N. Ngan, “Recent advances in rate control for video 
coding”. Signal Processing: Image Communication, Vol. 22, Issue 1, 
Pages 19-38, January 2007. 
[15] O. Verscheure, P. Frossard, and M. Hamdi, 1998. “MPEG-2 video 
services over packet networks: Joint effect of encoding rate and data 
loss on user-oriented QoS”. 8th Int.  Workshop on Network and 
Operating Systems Support for Digital Audio and Video, Cambridge, 
UK., July 8-10, 1998. 
[16] P. H. Westerink, R. Rajagopalan and C. A. Gonzales, "Two-pass 
MPEG-2 variable-bit-rate encoding". IBM Journal of Research and 
Development, Digital multimedia technology, vol. 4, number 4, pp. 
471. 1999. 
[17] S. H. Hong, S. J. Yoo, S. W. Lee, H. S. Kang, and S. Y. Hong. “Rate 
Control of MPEG Video for Consistent Picture Quality”. IEEE 
Transactions on Broadcasting, vol. 49, no. 1, pp. 1-13, March 2003. 
[18] O. Werner, “Requantization for Transcoding of MPEG-2 Intraframes” 
IEEE Transactions on Image Processing, Vol. 8, No. 2, pp. 179-191, 
February 1999 
[19] Z. He and S. K. Mitra. “A Linear Source Model and a Unified Rate 
Control Algorithm for DCT Video Coding”. IEEE Transactions on 
Circuits and Systems for Video Technology, vol. 12, no. 11, pp.  970-
982. Nov. 2002. 
[20] J. Yang, Q. Dai, W. Xu and R. Ding. “A rate control algorithm for 
MPEG-2 to H.264 real-time transcoding”. Proceedings of SPIE 2005, 
pp. 1995–2003, 2005.  
[21] J. K. Lee and K. D. Chung. “Quantization/ DCT Conversion Scheme 
for DCT-domain MPEG-2 to H.264/AVC Transcoding”. IEICE 
Trans. Commun., vol. E87-B, no.7. pp. 1-9. July 2004  
[22] ITU-T “Recommendation H.262, ISO/IEC 13818-2: Generic coding 
of moving pictures and associated audio information: Video”, 
February 
2000. 
Available 
at 
http://webstore.iec.ch/preview/info_isoiec13818-
2%7Bed2.0%7Den.pdf [July 2010] 
[23] Big 
Buck 
Bunny 
uncompressed 
PNG 
files: 
Available 
at 
http://media.xiph.org/BBB/ [July 2010] 
[24] ffmpeg software. Available at http://ffmpeg.org [July 2010] 
[25] VLC Media Player. Available at http://www.videolan.org/vlc/ [July 
2010] 
[26] ClearSight 
Analyzer 
Software. 
Available 
at 
http://www.flukenetworks.com/fnet/en-
us/StreamIt?Document=3780533&sot=true  [July 2010] 
[27]  ITU-R “Recommendation BT.500: Methodology for the subjective 
assessment of the quality of television pictures”, June 2002. Available 
at http://www.itu.int/rec/R-REC-BT.500/en [July 2010] 
[28] ITU-T, “Recommendation J.144: Objective perceptual video quality 
measurement techniques for digital cable television in the presence of 
a full reference”, March, 2004. Available at http://www.itu.int/rec/T-
REC-J.144/en [July 2010] 
[29] Prasad Calyam, Mukundan Sridharan, Weiping Mandrawa, Paul 
Schopis “Performance Measurement and Analysis of H.323 Traffic”, 
Passive and Active Measurement Workshop (PAM) Proceedings 
published by Springer in Lecture Notes in Computer Science, 2004. 
[30] ITU-T, “Recommendation J.246: Perceptual audiovisual quality 
measurement techniques for multimedia services over digital cable 
television networks in the presence of a reduced bandwidth 
reference”, August, 2008. Available at http://www.itu.int/rec/T-REC-
J.246/en [July 2010] 
[31] Elecard 
Video 
Quality 
Estimator. 
Available 
at 
http://www.elecard.com/products/products-pc/professional/video-
quest/ [July 2010] 
[32] NetDisturb. 
Available 
at 
http://www.zti-
telecom.com/brochuresN/NetDisturb%20Literature.pdf [July 2010] 
[33] Tim Rahrer, Riccardo Fiandra, Steven Wright. Triple-play Services 
Quality of Experience (QoE) Requirements and Mechanisms. DSL 
Forum Working Text. WT-126. Feb.2006. 
[34] ITU-T Rec. G.114 (05/2003) One-way transmission time. Available 
at 
http://www1.cs.columbia.edu/~andreaf/new/documents/other/T-
REC-G.114-200305.pdf [July 2010] 
 
 

