Performance Improvement of Differential Codebooks with Noisy Feedback Channels
Xun Li, NoeYoon Park and YoungJu Kim
College of Electrical and Computer Engineering
Chungbuk National University
Chungbuk 361-763 Rep. Korea
Email: {lixun, nypark, yjkim}@cbnu.ac.kr
Abstract—In this paper, a differential codebook indexing
scheme is proposed for limited feedback system over noisy
feedback channels. A lot of research has been done for limited
feedback system assuming error free feedback. In practical
systems, the feedback information experiences noisy feedback
channels which cause feedback information partially all totally
useless. Prior research about differential precoding focuses on
the codebook design criterion which minimize the quantization
distortion. The proposed scheme focuses on how to minimize
the effect due to feedback errors. The relationship of feedback
errors and limited feedback system performance is analyzed in
this paper. Using the analytical results, an optimal differential
codebook indexing scheme is proposed to improve the system
performances when the feedback bits less than 3 bits and
exceed 4 bits, respectively. From some selected numerical
results, the proposed differential codebook indexing scheme
provides non-negligible performance improvements in terms
of average bit error rate than the systems without indexing.
Keywords-Indexing, Differential codebook, Temporal correla-
tion, Limited feedback.
I. INTRODUCTION
Transmit beamforming for multiple-input multiple-output
(MIMO), which is also known as precoding, has been widely
adopted in wireless communication standards (WiMAX,
3GPP-LTE [1]). It uses some type of quantized channel
state information (CSI) at the transmitter to offer good trade-
off between performance gain and the required amount of
feedback bits [2]–[4]. The accuracy of CSI at the transmitter
depends on the feedback bits used. For block to block
fading channel model, the channel realization is considered
to change independently. But in low mobility scenarios, the
temporal correlation always existed between adjacent chan-
nel realizations. Quantized differential feedback improves
the quantization resolution utilizing the temporal correlation
of the channels [5], [6]. In temporally correlated channels,
the channel realization is changed slowly, as well as the
optimal precoder. Thereby, quantizing the whole channel
space is waste the feedback resource. Quantized differential
feedback scheme quantizes the speciﬁc channel subspace
instead of whole space, and the codebook for current time
instant is various over time and depends on the previous
precoder and the channel long term statistic [7]–[9]. The
proposed schemes indicate that quantized differential feed-
back scheme can greatly improve the system performance.
In prior researches, the feedback channel is assumed to be
error free and delay free for simplicity. In this case, the in-
dexes are arbitrarily assigned to the set of codewords. How-
ever, the feedback error cannot be avoided although many
techniques (lower modulation order, high channel coding
redundancy, etc.) are used in feedback transmission [1]. The
feedback errors causes that the transmitter applies precoding
with undesired precoder. The effects of feedback error to the
performance of general codebook based precoding system
have been analyzed, and the principle of codebook index
algorithms have been proposed in [10], [11]. And index
assignment scheme for beamforming system are proposed to
minimize the effects from feedback errors. These algorithms
demonstrated the procedures of codebook index which have
no consideration of computation complexity.
In this paper, a complex reduced codebook index algo-
rithm is proposed when the feedback information is more
than 4 bits. The proposed algorithm can be realized with
low complexity circuit. Also, the index assignment scheme
is applied in quantized differential feedback system. The
differential precoding system with proposed codebook index
algorithms effectively lowers the error ﬂoor introduced by
the feedback errors. We analyze the effects of feedback
errors to the limited feedback system, the performance
of proposed scheme is evaluated and compared with the
performance of the long term evolution (LTE) codebook with
or without noisy feedback channels, respectively. In order to
make the index assignment is applicable when the number
of feedback bits is more than 4 bits, a suboptimal index
assignment scheme is proposed which shows more ﬂexible
trade-off between performance and calculation complexity.
Without loss of the generality, we compared the perfor-
mance of the LTE codebook with the differential codebook
proposed in [8], which preserves per-antenna equal power
constraint property like the former codebook.
The rest of this paper is organized as follows: Section
II shows the system overview of general limited feedback
system and quantized differential feedback system. Section
III introduces the index assignment schemes in codebook
based limited feedback systems. Section IV illustrates the
application of index assignment scheme to the quantized
differential feedback system. And the simulation results are
shown in this part. Finally, the conclusions are shown in
141
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

͡͡͡
͢͢͢
͢͢͡
͢͡͡
͢͢͡
͢͡͡
ʹΠΕΚΟΘ
ͲΟΕ
;ΠΕΦΝΒΥΚΠΟ
΁;ͺ
ΆΡΕΒΥΖ
ʹΙΒΟΟΖΝ͑
ͶΤΥΚΞΒΥΚΠΟ
ʹΠΕΖΓΠΠΜ
΄ΖΝΖΔΥΚΠΟ
M
M
΁;ͺ
s
1
T
MT
MT
2
1n
2n
MR
n
y
Figure 1.
Block diagram of limited feedback system.
Section V.
II. SYSTEM OVERVIEW
In this section, the limited feedback system and quantized
differential feedback system are introduced. The codebook
design criterion is also introduced.
A. Limited Feedback System
A MIMO system employing Mt transmit antennas and
Mr receive antennas is assumed in this paper. The block
diagram is shown in Fig. 1. The transmit symbols at the time
instant τ are denoted by sτ = [sτ,1, · · · , sτ,V ]T , where V
denotes the number of data streams (also called transmission
rank), and 1 ≤ V ≤ min {Mt, Mr}. The received signal is
represented by
yτ =
r ρ
V HτFτsτ + nτ,
(1)
where ρ is signal-to-noise ratio (SNR), Fτ
∈ CMt×V
denotes the precoder at time instant τ. Without loss of
generality, we assume that each column of F is normalized.
nτ denotes the additive white Gaussian noise (AWGN)
vector at time instant τ with distribution of CN(0, 1). The
matrix Hτ ∈ CMr×Mt represents a spatially uncorrelated
but temporally correlated Rayleigh fading channel, which is
modeled by the ﬁrst-order Gauss-Markov process
Hτ = ǫHτ−1 +
p
1 − ǫ2Gτ,
(2)
where Gτ has the same size of Hτ with i.i.d entries and
represents the evolution of Hτ. The ǫ ∈ [0, 1] denotes the
time correlation between the channel coefﬁcient of adjacent
time instants. In this paper, the ǫ obeys Jakes’ model [12],
[13].
Assuming perfect channel knowledge of the current chan-
nels at the receiver, the mutual information is known to be
I (Fτ) = log2

det

IV + ρ
V F∗
τH∗
τHτFτ

.
(3)
The optimal precoder without quantization can be obtained
via singular value decomposition (SVD) of channel. In
limited feedback systems, a codebook is known by the
transmitter and receiver, the precoder Fτ is selected from
the codebook Fτ
= {Fτ,i}N
i=1, where N denotes the
codebook size. The receiver selects favorite precoder from
the codebook and sends the index back to transmitter. There
is no argument on that precoder selection is based on mutual
information maximization criterion, which is shown as the
following
Fτ = arg max
Fτ,i∈Fτ
{I(Fτ,i)} .
(4)
B. Differential Feedback Framework
In temporal correlated channels, the quantized differential
feedback can virtually increase the codebook size. Quan-
tizing the speciﬁc subspace instead of the whole channel
space improves the quantization resolution. The differential
codebook generates points on Grassmann manifold which
are centered by the previous precoder. The differential
codebook is shared by the transmitter and receiver, as well as
the codebook update criterion. A quasi-diagonal differential
codebook is proposed in [5]. The spherical cap differential
codebook with adaptive cap radius is proposed in [7]. These
differential codebooks can be categorized into total power
constraint codebook since they change the power and phase
of each antenna to achieve the maximum throughput. In
LTE standard and its advanced version (LTE-A), the equal
gain transmission property is considered to be the basic
requirement of the precoding scheme. In order to fairly
compare the performance degradation of limited feedback
system and quantized differential feedback system over
noisy feedback channels, we use the differential equal gain
transmission (DEGT) codebook proposed in [8].
The DEGT has ﬂexible trade-off between performance
and codebook design complexity. Assuming the scalar de-
sign scheme which utilizes the structure of initial codebook,
the DEGT codebook F′ = {F′
i}N
i=1 can be designed as the
following
F′
i = ejα∠Fi,0
(5)
where exp(·) denotes the exponential function, j = √−1,
∠A denotes the phase matrix of A, and Fi,0 denotes the i-th
codeword of initial codebook F0. The scalar factor α decides
the range of differential codebook covered the Grassmann
manifold. It should be designed appropriately according to
the channel temporal correlation and can be determined
using iterative simulation. The capacity-α relationship for
different channel temporal correlation is illustrated in Fig. 2.
The codebook update criterion can be expressed as follows
Fi,τ = Fi,τ−1 ◦ F′
i
(6)
where ◦ denotes the matrix element-wise multiplication.
Note that, the codeword index in Fτ selected by the receiver
also is the differential codeword index in F′. Thereby, the
whole codebook Fτ is not necessary to be constructed at
the transmitter.
142
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

0
5
10
15
4.65
4.7
4.75
4.8
4.85
4.9
4.95
5
5.05
1/α
Achievable throughput (bits/s/Hz)
 
 
ε = 0.999
ε = 0.997
ε = 0.995
ε = 0.993
ε = 0.991
Figure 2.
The optimal scalar factor value for different mobile speed.
͢͡͡
͡͡͡
͢͢͢
͢͢͡
͢͡͡
͢͢͡
͢͡͡
͢͢͡
ʹΠΕΚΟΘ
ͲΟΕ
;ΠΕΦΝΒΥΚΠΟ
΁;ͺ
ΆΡΕΒΥΖ
ʹΙΒΟΟΖΝ͑
ͶΤΥΚΞΒΥΚΠΟ
ʹΠΕΖΓΠΠΜ
΄ΖΝΖΔΥΚΠΟ
΁;ͺ
s
1
T
2
n
n
y
Figure 3.
Example of 1 bit error ﬂow chart (3 bits feedback).
III. INDEX ASSIGNMENT FOR DIFFERENTIAL
CODEBOOK
In this part, the codebook index assignment scheme is
introduced. The codebook within 3 bits feedback can be
calculated directly. For the codebook over 4 bits feedback,
the computation complexity is too huge to calculate directly.
We illustrate a grouping index assignment to reduce the
complexity.
A. Codebook Index Assignment within 3 bits
The illustration of index variation when 1 bit error occurs
in 3 bits feedback sequence is shown in Fig. 3. In this paper,
we assume that 1 bit error occurs per feedback at most, since
it already is a high probability. Based on the relationship
shown in Fig. 3, the codebook index assignment procedure
can be applied as follows
1) Generate all possible combinations of the N code-
words in the codebook with different sort. The number
of the possible combinations is N!.
2) Calculate the total Hamming distance between pair
of different codewords of each combination. This is
shown in follows
C =
N−2
X
i=0
N−1
X
j=i+1
Ψ {d (Ii, Ij)}
F′
i
HF′
j

2
F ,
(7)
where Ii denotes the binary format of i-th codeword
index. d(x, y) denotes the Hamming distance between
binary sequence x and y. The function Ψ· is shown
as follows
Ψ {a} =

1
if a = 1
0
otherwise ,
(8)
The optimal codebook can be found by searching for
the largest C.
B. Codebook Index Assignment over 4 bits
The number of combinations of the codebook with more
than 4 bits feedback is too large to calculate by com-
puter. We proposed a suboptimal codebook index assignment
scheme by dividing the codewords into several groups called
reference codebook. This shows ﬂexible trade-off between
calculation complexity and performance. Suppose the size
of original codebook is N. The processes of reference
codebook generation can be applied as follows
1) Generate N = card (F′) reference codebooks with
N − 1 codewords in each reference codebook by
deleting one codeword from the original codebook.
The function card(·) denotes the cardinality of a set.
2) Find the codebook with maximized minimum Chordal
distance between each pair of codewords in the refer-
ence codebook as shown in the following
Wt =
arg max
Wk(1≤k≤N)
(
min
F′
i,F′
j∈F′
k
d

codebook index assignment can be ﬁnished by these
procedures.
IV. SIMULATION RESULTS AND DISCUSSIONS
Monte-Carlo simulation is employed to obtain the perfor-
mances of proposed scheme and conventional schemes. A
MIMO system is considered which has 4 transmit antennas
and 2 receive antennas. The number of data stream is
one. The channel is modeled with ﬁrst order Gaussian
Markov process as described in Section II-A. The number of
feedback bits is set to be 4 to consistent with LTE standard.
The temporal correlation factor ǫ is assumed to be 0.991
and 0.997 which approximate to be 10 km/h and 3 km/h
for LTE system. Correspondingly, the differential codebook
scalar factor is set to be 5 and 8 respectively.
For quantized differential feedback system, once the error
takes place in feedback, the codebook saved at transmitter
and receiver becomes different and the difference will be
accumulated. The initial codebook will be launched per 100
iterations in the simulation to break the accumulation.
Fig. 4 shows the comparison of LTE codebook and
the differential codebook introduced in Section II-B. We
assume the user equipment mobility is 10 km/h, and the
scalar factor is 5. The bit error rate (BER) of feedback
channel is assumed to be 10−3.The performances are same
for LTE codebook with or without index assignment. But
the differential codebook shows performance improvement
by using index assignment. Note that, the LTE codebook
outperformed DEGT codebook after 9 dB since the error
accumulation problem degrades the performance of DEGT
scheme.
Figs. 5 and 6 show the comparison of DEGT codebook
with or without index assignment when feedback error is
10−3 and 10−4, respectively. The mobility of user equipment
is 10 km/h in Fig. 5 and that is 3 km/h in Fig. 6. The
index assignment scheme provides signiﬁcant performance
improvement in both low mobility and high mobility sce-
nario.
Fig. 7 illustrates the relationship between the BER per-
formance and initial codebook launching interval. The SNR
is 10 dB, the mobility of user equipment is 10 km/h. The
BER of feedback channel is assumed to be 10−3. The
index assignment scheme can increase the initial codebook
launching interval.
V. CONCLUSIONS
In this paper, an index assignment algorithm for quantized
differential feedback scheme is proposed. By using the
index assignment to minimize the effects from the feedback
error, the proposed scheme signiﬁcantly improves the BER
performance of the differential precoding system in the noisy
feedback channels. For the codebook with more than 4
feedback bits, we also introduced a practical algorithm to
make index assignment realizable.
0
2
4
6
8
10
10
−3
10
−2
10
−1
10
0
SNR [dB]
Bit Error Rate
 
 
LTE codebook(feedback BER:1e−3)
LTE codebook IA(feedback BER:1e−3)
Proposed codebook (feedback BER:1e−3)
Proposed codebook IA(feedback BER:1e−3)
Figure 4.
Performance comparison of differential codebook and LTE
codebook.
0
2
4
6
8
10
12
14
10
−4
10
−3
10
−2
10
−1
10
0
SNR [dB]
Bit Error Rate
 
 
Conventional(feedback BER:1e−3)
Proposed(feedback BER:1e−3)
Conventional(feedback BER:1e−4)
Proposed(feedback BER:1e−4)
No feedback error
Figure 5.
Performance comparison of index reassigned codebook (f = 5).
ACKNOWLEDGMENT
This research was supported by Basic Science Research
Program through the National Research Foundation of Ko-
rea(NRF) funded by the Ministry of Education, Science and
Technology(2012R1A1B6002111)
REFERENCES
[1] 3GPP TS 36.211: Evolved Universal Terrestrial Radio Access
(E-UTRA); Physical channels and modulation, 3GPP Std.
144
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

0
2
4
6
8
10
12
14
10
−4
10
−3
10
−2
10
−1
10
0
SNR [dB]
Bit Error Rate
 
 
Conventional(feedback BER:1e−3)
Proposed(feedback BER:1e−3)
Conventional(feedback BER:1e−4)
Proposed(feedback BER:1e−4)
No feedback error
Figure 6.
Performance comparison of index reassigned codebook (f = 8).
100
200
300
400
500
10
−2
10
−1
Symbol index
Bit error Rate
 
 
Conventional (Feedback BER:1e−3)
Proposed (Feedback BER:1e−3)
Figure 7.
Performance comparison of retransmission timing of initial
codebook (f = 5, SNR=10 dB).
[2] D. J. Love, J. Heath, R. W., and T. Strohmer, “Grassmannian
beamforming for multiple-input multiple-output wireless sys-
tems,” IEEE Trans. Inf. Theory, vol. 49, no. 10, pp. 2735–
2747, 2003.
[3] D. J. Love and R. W. Heath, “Limited feedback unitary
precoding for spatial multiplexing systems,” IEEE Trans. Inf.
Theory, vol. 51, no. 8, pp. 2967–2976, 2005.
[4] S. A. Jafar and S. Srinivasa, “On the optimality of beamform-
ing with quantized feedback,” IEEE Trans. Commun., vol. 55,
no. 12, pp. 2288–2302, 2007.
[5] T. Abe and G. Bauch, “Differential codebook mimo precoding
technique,” in Proc. IEEE Global Telecommunications Conf.
GLOBECOM ’07, 2007, pp. 3963–3968.
[6] T. Kim, D. J. Love, B. Clerckx, and S. J. Kim, “Differential
rotation feedback mimo system for temporally correlated
channels,” in Proc. IEEE Global Telecommunications Conf.
IEEE GLOBECOM 2008, 2008, pp. 1–5.
[7] T. Kim, D. J. Love, and B. Clerckx, “Mimo systems with
limited rate differential feedback in slowly varying channels,”
IEEE Trans. Commun., vol. 59, no. 4, pp. 1175–1189, 2011.
[8] X. Li, N. Park, and Y. Kim, “Differential precoding scheme
of lte systems over temporally correlated channels,” in Proc.
IEEE Vehicular Technology Conf. (VTC Fall), 2011, pp. 1–5.
[9] Y. J. Kim, X. Li, T. Kim, and D. J. Love, “Combination lock-
like differential codebook for temporally correlated channels,”
Electronics Letters, vol. 48, no. 1, pp. 45–47, 2012.
[10] B. Clerckx, Y. Zhou, and S. Kim, “Practical codebook design
for limited feedback spatial multiplexing,” in Proc. IEEE Int.
Conf. Communications ICC ’08, 2008, pp. 3982–3987.
[11] T. Xu and H. Liu, “Index assignment for beamforming
with limited-rate imperfect feedback,” IEEE Commun. Lett.,
vol. 11, no. 11, pp. 865–867, 2007.
[12] R. H. Etkin and D. N. C. Tse, “Degrees of freedom in some
underspread mimo fading channels,” IEEE Trans. Inf. Theory,
vol. 52, no. 4, pp. 1576–1608, 2006.
[13] J. G. Proakis, Digital Communicaitons, 4th ed.
McGraw
Hill, 2000.
145
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

