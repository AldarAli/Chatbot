Monitoring and Management of Power Consumption in Apartment using ZigBee 
 
Kwang-Soo Kim,      Hyunhak Kim,      Tae-Wook Heo,      Jong-Arm Jun 
USN/IoT Research Department 
Electronics & Telecommunications Research Institute  
Daejeon, Republic of Korea 
e-mail: {enoch, hh.kim, htw398, jajun}@etri.re.kr 
 
 
Abstract—This paper describes a field demonstration system 
that monitors the power consumption in an apartment. To 
evaluate the effectiveness of the system, 20 houses selected 
from Mudeung Park Apartment have participated in this 
project. The system includes 20 smart meters, 20 in-home 
displays, 2 data collection units, 20 energy service interface 
servers, and one meter data management server. A wireless 
sensor network based on ZigBee is used to exchange metering 
data between smart meters and data collection units as well as 
between an in-home display device and an energy service 
interface server in a home; the meter data management server 
exchanges data with data collection units and energy service 
interface servers through an IP network. The meter data 
management server has operated to collect periodically the 
power consumption from all meters and to send the amount of 
power usage and charge as well as additional data such as 
weather and price policy to each in-home display device. This 
testbed provides valuable insights about the operation of the 
system in an apartment that has a lot of obstacles which 
interfere in the wireless communication. 
Keywords- smart grid; WSNs; apartment; power monitoring 
I. 
 INTRODUCTION 
The 
rapid 
industrialization 
and 
indiscriminate 
development in a lot of countries have increased greenhouse 
gas emissions, caused environmental degradation, and 
depleted natural resources. To overcome these problems, 
many counties have sought to develop technologies to reduce 
the use of natural resources as well as the greenhouse gas 
emissions. A smart grid is considered one of innovative 
technologies that reduce the greenhouse gas emissions by 
increasing energy efficiency [1]-[3].  
Korean Government has constructed a smart grid testbed 
on Jeju Island [4][5]. About 10 consortiums in five areas 
have participated in the testbed project to test technologies 
and develop business models. The areas are smart place, 
smart transportation, smart renewable, smart power grid, and 
smart electricity service. The smart place is related to 
customers directly and includes customers as a part of a 
smart grid to increase energy efficiency. As a utility provides 
power usages and charges that customers have consumed for 
the customers, the utility encourages consumers to save 
energy. The smart transportation constructs a charging 
infrastructure for electric vehicles. There are two types of 
electric vehicle chargers: high speed charger and low speed 
charger. The former can be used at electric vehicle charging 
stations and the latter can be used at a house. Therefore, a 
utility should consider the number of electric vehicles, the 
amount of battery installed in each electric vehicle, and the 
time when an electric vehicle starts the charging in order to 
balance the power generation and the power consumption. 
The smart renewable develops renewable power generation 
technologies and builds power generation complexes to 
reduce CO2 emissions. Also, the smart renewable can 
construct a micro-grid that generates and consumes the 
power by itself. The smart power grid constructs open power 
grids that can allow various interconnections between power 
suppliers and consumers. By using the open power grids, 
many new business models will be developed. The smart 
electricity service is to improve consumer’s right-to-choose 
by introducing various price policies and demand response 
programs.  
There are several competing technologies for capturing 
and transmitting the electricity usages of consumers in the 
smart grid, such as wired technology, PLC (power line 
communication) technology, and WSN (wireless sensor 
network) technology [6]. Although each technology has its 
own advantages, the WSN technology is very promising 
candidate among these technologies for several reasons. The 
WSN technology represents an emerging set of technologies 
that will have profound effects across a range of industrial, 
scientific, and energy management applications [7]-[14]. The 
WSN can reduce wiring cost and time for the smart grid 
deployment. Also, the WSN technology can reduce labor 
costs by simplifying installation. Moreover, it is one of key 
solution for facilities that frequently reconfigure spaces and 
places where a wire communication is difficult to apply. 
Meanwhile, in the residential area, the WSN is regarded as a 
part of the home network system. Accordingly, various 
service concepts which integrate the smart grid with home 
networks can be derived [6][7][8]. By introducing WSN 
technologies which assure network flexibility and mobility, it 
is easier to provide value added services like electricity 
equipment control. 
In Korea, the ZigBee and the PLC are the popular 
communication technologies to implement the monitoring 
and controlling of the energy consumption for the smart grid. 
We selected the Zigbee technology because it provides the 
high interoperability as well as is the defacto standard in the 
smart grid. Also, a ZigBee Device can be moved to another 
place easily. The ZigBee Alliance published the smart 
energy profile for interoperable products that monitor, 
165
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

control and automate the delivery and use of energy [15]. 
The profile includes several specifications related to the 
advanced metering, the demand response and load control, 
pricing, and text message. 
We installed several devices at 20 houses whose 
residents expressed the participation in this project. They 
were selected from Mudeung Park Apartment to evaluate our 
system in a city environment with a lot of obstacles that 
interfere in the wireless communications. The system is 
shown in Figure 1. Every house has one smart meter and one 
IHD (in-home display), and one ESI (energy service 
interface) server. Two houses from those have additional 
devices: PCT (programmable communicating thermostat) 
and LCD (load control device). MDMS (meter data 
management server) installed in a utility collects the power 
usage of each customer through DCUs (data collection units), 
calculates the charge on the usage, and sends them to IHD 
periodically. A customer can check them on the screen of 
IHD.  
The remainder of this paper is organized as follows. The 
motivation is discussed in Section II. The detailed design of 
the testbed is described in Section III. Finally, Section IV 
provides the conclusion and the future work. 
II. 
MOTIVATION 
In this section, we discuss the motivation of this study. In 
2010, we implemented several devices based on the ZigBee 
standards [16]. They were installed in a two-story building in 
Jeju Island, South Korea. Our system focused on measuring 
and monitoring the amount of power consumption and 
generation, and controlling the energy consumption on the 
customer side. The system consists of smart meters, a wind 
power generator, a photovoltaic power generator, a 
rechargeable battery, electric vehicle chargers, light 
controllers, and a smart outlet. The light controllers exchange 
data through a power line communication; the other devices 
exchange those through a wireless sensor network. A central 
monitoring server has operated to collect periodically all data 
such as the amount of the electricity consumption and 
generation and to control the amount of electricity 
consumption and charges.  
However, the system test in Jeju Island has a 
shortcoming because the system was installed on a typical 
rural village. It is difficult to prove the efficiency of the 
system and the reliability of the wireless communication.  As 
the people in the village go to work early in the morning, 
return to their home at sunset, and go to bed early in the 
evening, they almost do not use the power during the day 
and use a little at night. Therefore, it is very difficult to prove 
that the system saves the power consumption or increases the 
power efficiency. Furthermore, there are few structures that 
interfere with the wireless communication because most 
houses built in a single layer and are relatively far apart. 
Therefore, it also is hard to prove that the wireless 
communication used to exchange metering data among 
devices is stable. To evaluate the efficiency and the 
reliability of the system, we selected another testbed where a 
lot of barriers exist and the power usage is relatively high. 
We have worked with LS Industrial System, KEPCO (Korea 
Power 
Corporation), 
KEPCO 
Data 
and 
Network, 
ADTechnology, Wooam Corporation, KERI (Korea Electro 
Technology Research Institute),  KETI (Korea Electronics 
Technology Institute). 
III. 
TESTBED DESIGN 
The system consists of six main components: (i) MDMS, 
(ii) DCU, (iii) ESI, (iv) IHD, (v) load control devices (LCD 
and PCT), (vi) smart meter, and (vii) an information network 
connecting all devices.   
 
 
Figure 1. System configuration 
 
 
Figure 2. Power usage and charge 
 
A. Meter Data Management Server 
MDMS is the key component of our system. MDMS 
collects metering values from all smart meters through 
DCUs, and sends power usage and charge of each customer 
to IHD installed in the house of the customer. MDMS 
manages not only metering values and charges but also 
customer information, weather, CBL (Customer Baseline) 
for billing, power factor, price, etc. MDMS gathers the 
weather from Korea Meteorogical Administration and sends 
it to customers according to their residential area one a day, 
about 5 AM. MDMS calculates CBL that indicates a baseline 
load shape of the power usage of each customer. It is used to 
calculate the billing for each customer. Figure 2 shows the 
power usages and the charges from the noon to the midnight 
on 25 October. The bar chart indicates the usages, and the 
red and the yellow line curves indicate RTP (Real Time 
Price) and general price, respectively. Also, MDMS can send 
a load control message to a customer while the amount of 
power consumption is increasing dramatically. A load 
control device which receives the load control message 
166
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

reduces the power usage of an appliance by adjusting an 
operating condition of it or turns off an appliance, for 
example, increasing the set temperature of an air-conditioner. 
MDMS uses CIM (common information model)-based 
XML messages to collect metering data from DCUs and to 
send billing information to each IHD. CIM is a standard 
defined as IEC (International Electrotechnical Commission) 
61968 for exchanging information among electrical systems 
and devices [17]. Figure 3 is an example of customer billing 
information. The customer billing information is consisted of 
daily or monthly charge of a customer, billing date, billing 
cycle, meter identifier, type of billing, billing period, etc.  
Customers can check their power usage and charge on a 
portal that MDMS provides. The type of users of the portal is 
divided into two groups roughly. One is customers and the 
other is administrators. For customers, the portal provides 
customer information including name, address, energy usage, 
charge, etc. For administrators, it provides the device 
information, network state information, statistics on the 
energy usage and charge. Authorized customers on the 
system can check their own information through the Internet. 
The Portal assigns different access rights to each user in 
order to limit the available information according to the user 
authority. For example, a customer cannot access the 
network state information. On the other hand, an 
administrator can access all information related to both 
customers and administrators. All information the Portal uses 
is stored and managed by MDMS.  
 
 
Figure 3. Customer billing information 
 
B. Data Collection Unit 
DCU locates between a smart meter and MDMS and 
distributes the load of data collection of MDMS. If MDMS 
collects metering values from a thousand of meters directly, 
it gives much of a burden on MDMS. To collect metering 
values, a variety of communication methods such as 
ZigBee[18], PLC[19], and WiFi[20] are implemented in 
DCU. 
In this project, DCU is installed on a utility pole outside 
the apartment and acts as a gateway in a wireless sensor 
network. The goal of DCU design is to collect metering 
values from 200 meters within 15 minutes. In this testbed, 
one DCU connects to ten smart meters and collects a 
metering value from each smart meter periodically. The data 
received from smart meters are transmitted to MDMS 
according to a transmission schedule. The size of data which 
DCU can sent at a time is designed less than 680 Bytes.  
During the operation of the system, there are many missing 
data due to collisions among data transmissions sent by 
smart meters. Therefore, the success rate of metering data 
collections is about 96 percent due to the collisions. To 
overcome these limitations, we adapt a query scheduling 
method which collects simultaneously two metering values. 
A query scheduling assigns a report time to each smart meter 
to avoid the collisions. Each smart meter sends its two values, 
the current metering value and the value which was 
measured 15 minutes ago, at the time assigned by the 
scheduler. However, this method increases the success rate to 
only 99 percent. The missing values are collected by a batch 
process in which MDMS executes one per day. 
C. Energy Service Interface 
ESI becomes a bridge between the wireless sensor 
network and MDMS through an IP-based network. ESI 
provides the gateway device interface and the smart energy 
profile 1.0 announced by ZigBee Alliance as well as 
provides the functions that connect and manage all devices 
within a home area network [15][18]. ESI includes PANC 
(personal area network coordinator) starting the network 
formation and routing messages between the gateway and 
each electric device. ESI is implemented on Linux 2.6 in the 
C programming language, and uses PHP (personal hypertext 
preprocessor) for the web application to exchange data 
formatted in XML with MDMS.  
 
 
Figure 4. Example of ZCL message 
 
167
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

The data transmitted through the home area network is 
formatted in ZCL (ZigBee cluster library). We use different 
clusters according to the type of transmitted data. When we 
receive the metering data from a smart meter, we use the 
simple metering cluster. If we want to control LCD, we use 
the demand response and load control cluster. They are 
included in SEP (smart energy profile). ESI coverts a CIM-
based XML message into a ZCL message and vice versa.  
An example of ZCL message is shown in Figure 4. The 
message is sent to LCD to collect the energy usage that an 
appliance connected to the LCD has consumed. 
D. In-Home Display 
IHD is a portable device installed in a home. Therefore, a 
customer can move it to another home. In this situation, we 
have to prevent this IHD from joining to another ESI 
installed in the home where the customer visits. If this IHD 
connects to ESI of another home, it might receive the power 
usage and charge of the home that the customer visits. To 
prevent the situation, we make ESI, IHD, PCT, and LCD 
within the same home share the same unique key.  
IHD receives several data such as power usage and 
charge, weather, CBL, price, etc., from MDMS and displays 
them on the screen. Table 1 shows the attribute of CBL 
curve. IHD draws a CBL curve when it receives the data. 
The user interface of IHD is shown in Figure 5. A customer 
can see the amount of power consumption, hourly power 
price, the trend of them, and weather on the same window.  
 
 
Figure 5. User interface of IHD 
 
E. Load Control Device 
A load control device is divided into two groups: PCT 
and LCD. They receive a load control message and return the 
result to MDMS. LCD has been implemented in the form of 
a switch and an outlet. Their roles are a little different. PCT 
can control an air conditioner with ZigBee functions; 
however, PCT does not have a metering capability. On the 
other hand, LCD controls an appliance such as an electric 
pan; and it can measure the power usage of an appliance that 
connects to itself because it has a metering capability. 
Furthermore, LCD can send its metering value to MDMS 
through ESI. Therefore, our system can measure a fine-
grained power usage that each appliance has consumed. 
F. Smart Meter 
A smart meter measures the electricity usage of a home 
in which it is installed. It has recorded the electricity usage 
and sent the data formatted in the smart energy profile [15] 
to DCU on every 15 minutes. The meter also sends LP_Data 
(load profile data) including forward active power, backward 
active power, reactive power, etc as well as power quality. 
The forward power indicates that it is supplied for a 
customer by a utility; the backward power indicates that it is 
supplied for the utility by the customer. The power quality 
consists of the set of electrical properties such as power 
quality, frequency quality, and voltage quality.  
The meter provides several different tariffs including 
time-of-use, real-time-pricing, critical-peak- pricing, and 
progressive-pricing. In Korea, the progressive pricing policy 
is applied to most of electric users. However, the Korean 
government seeks to change the tariff from the progressive 
pricing to the real-time-pricing to reduce the electricity usage. 
 
TABLE 1. ATTRIBUTE OF TODAY CBL 
 
 
G. Information Network 
An information network called SUN (smart utility 
network) can be divided into three categories. One is HAN 
(home area network) that is a residential local network for 
communicating among ESI, LCD, and IHD deployed in a 
home; another is NAN (neighborhood area network) that 
communicates between DCU and either ESI or smart meter; 
the third is WAN (wide area network) that communicates 
between DCU and MDMS operated by a utility company. In 
this project, ZigBee is used in both the home area network 
and the neighborhood area network, and the Internet is used 
in the wide area network. HAN devices such as IHD and 
LCD cannot communicate with NAN devices such as DCU 
and a smart meter due to the wall of the house. 
Our wireless sensor network is developed based on 
ZigBee specification and IEEE 802.15.4. The sensor network 
installed in each house consists of one ESI, one LCD, one 
IHD, and one PCT. In this project, the devices can exchange 
messages via one-hop communication with star topology 
because every device is within the radio range of ESI. Also, 
168
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

DCU exchanges messages via one-hop communication with 
a smart meter.  
After PANC included in ESI starts the network formation, 
a device willing to associate with the network starts the 
association procedure by requesting for a beacon with 
channel scanning. A joined device permits the association by 
beaconing with setting permit-joining flag on.  Once a device 
has associated the network, it maintains three data tables: 
routing table, neighbor list table and link cost table. The 
maintaining of those tables allows the further expanding of 
the network up to the mesh topology, and the size of each 
table is resizable according to the network size. 
IV. 
CONCLUSION AND FUTURE WORK 
This paper describes a smart grid testbed using a wireless 
sensor network at 20 houses in an apartment to evaluate the 
efficiency and the reliability of the system. To monitor and 
control the usage and charge of the electricity in each home, 
we install MDMS, DCUs, smart meters, and several devices 
including ESI, IHD, LCD and PCT in which locate a house. 
MDMS, DCU and ESI exchange their data and control 
messages through the Internet, and the other devices 
exchange those through a wireless sensor network. By 
visualizing the electricity usage and running a demand 
response program based on the electricity usage, the energy 
consumption could be saved. Also, a customer could save the 
electric bill by checking the charge in real time. One of the 
most difficulties is to collect the metering values from smart 
meters through the wireless sensor network. When we have 
collected the values on every 15 minutes, the success rate is 
about 96 percent because the data collision in the air. 
Therefore, we collect simultaneously two metering values on 
every 15 minutes, the last two metering values including the 
current value, to increase the success rate of the data 
collection. MDMS also collects a missing value one per day 
if necessary. 
In the future, we will operate the system more than one 
year, accumulate the metering data to analyze the efficiency 
of the system, and perform the economic analysis on the 
smart grid testbed to apply the devices to other households 
and buildings. In addition, we have to solve several security 
issues, because the power consumption measured in a sensor 
network is directly related to the amount due on the 
electricity bill of the user. 
ACKNOWLEDGMENT 
This work is supported by Development of Self-Powered 
Smart Sensor Node Platform for Smart and Green Building 
[10035570] funded by the Ministry of Knowledge and 
Economy, Republic of Korea. The authors would like to 
thank LS Industrial System, KEPCO, KEPCO-KDN, 
ADTechnology, Wooam, KERI, KETI members working 
together. 
REFERENCES 
[1] The National Energy Technology Laboratory, “A Vision for 
the Smart Grid,” 2009. 
[2] SBI, “Smart Grid Technologies, Markets, Components and 
Trends Worldwide,” 2009. 
[3] ROA Group Korea Consultants, “Introduction to Smart Grid: 
Latest Developments in the U.S., Europe and South Korea,” 
Jul.  2009. 
[4] http://smartgrid.jeju.go.kr/eng 
[5] http://en.wikipedia.org/wiki/Jeju_Smart_Grid_Demonstration
_Project_in_Korea 
[6] S. J. Kim, J. H. Seo, J. A. Jun, and C. S. Pyo, “Advanced 
Metering Infrastructrue (AMI) Service for Efficient Energy 
Management,” Proc. 19th European Regional International 
Telecommunications Society Conference, Oct. 2008. 
[7] S. J. Kim, “Smart energy management for buildings with 
wireless sensor technology,” Proc. 20th European Regional 
International Telecommunications Society Conference, Oct. 
2009. 
[8] K. Kim and J. A. Jun, “Smart Energy Server using Wireless 
Sensor Networks,” Proc. International Symposium on Remote 
Sensing, Oct. 2009. 
[9] W. Chen, L. Chen, Z. Chen and S, Tu, “WITS: A Wireless 
Sensor Network for Intelligent Transportation System,” Proc. 
the First International Multi-Symposiums on Computer and 
Computational Sciences, vol. 2, Apr. 2006, pp. 635-641. 
[10] J. A. Gutierrez, D. B. Durocher and B. Lu, “Applying 
Wireless Sensor Networks in Industrial Plant Energy 
Evaluation and Planning System,” Proc. IEEE IAS Pulp and 
Paper Conference, Jun. 2006, pp.1-7. 
[11] J. K. Hart and K. Martinez, “Environmental Sensor Networks: 
A revolution in the earth system science?,” Earth-Science 
Reviews, vol. 78, 2006, pp.177-191. 
[12] P. Jiang, H. Ren, L. Zhang, Z, Wang and Z, Xue, “Reliable 
Application of Wireless Sensor Networks in Industrial 
Process Control,” Proc. the 6th World Congress on Intelligent 
Control and Automation (WCICA 2006), vol. 1, Jun. 2006, pp. 
99–103. 
[13] K. Kim, J. Jun, S. Kim, and B.Y. Sung, ”Medical Asset 
Tracking Application with Wireless Sensor Networks,” Proc. 
International Conference on Sensor Technologies and 
Applications, Aug. 2008, pp. 531-536. 
[14] J. A. Stankovic, “When Sensor and Actuator Networks Cover 
the World,” ETRI Journal, Oct. 2008, pp. 627-633. 
[15] ZigBee 
Alliance, 
“Smart 
Energy 
Profile 
Specification,”(075356r15ZB), Dec. 2008. 
[16] K.S. Kim, H. Kim, T.W. Heo, Y. Doh, and J.A. Jun, “A Smart 
Grid Testbed using Wireless Sensor Networks in a Building,” 
Proc. International Conference on Sensor Technologies and 
Applications, Aug. 2011, pp. 371-374  
[17] IEC, “Application integration at electric utilities – system 
interfaces for distirbution management”, IEC 61968, 2003 
[18] ZigBee Alliance, “ZigBee Gateway Device Specification,” 
(075468r30ZB), Jul. 2010. 
[19] H. Dai and H. V. Poor, “Advanced Signal Processing for 
Power-Line Communications,” IEEE Comm. Mag., May, 
2003, pp. 100-107. 
[20] IEEE , “Wireless LAN Medium Access Control (MAC) and 
Physical Layer (PHY) Specifications (IEEE 802.11)”, 2010 
 
169
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

