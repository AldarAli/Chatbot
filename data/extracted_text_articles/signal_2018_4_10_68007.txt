Shaping Electromagnetic Emissions of Event-Driven Circuits  
Thanks to Genetic Algorithms 
 
Sophie Germain1,2, Sylvain Engels1,2, Laurent Fesquet1 
1Univ. Grenoble Alpes, CNRS, Grenoble INP*/ TIMA 
F38000 Grenoble, France 
e-mail: {First name}.{Last name}@univ-grenoble-alpes.fr 
2STMicroelectronics 
F38920 Crolles, France 
e-mail: {First name}.{Last name}@st.com 
 
 
Abstract—This paper presents a method to shape by design the 
electromagnetic spectrum of any event-driven circuits. 
Contrarily to synchronous circuits, which are driven by a 
clock, event-driven or asynchronous circuits can be tuned to 
adjust their computation instants by setting appropriated 
delays in their local synchronization mechanisms. Thanks to 
this 
prominent 
feature, 
shaping 
their 
electromagnetic 
spectrum is feasible. For that purpose, a mask in the frequency 
domain is defined to constrain their electromagnetic spectrum. 
Thanks to a genetic algorithm, well-suited delays are computed 
to be compliant with the mask. This approach has been 
evaluated on an event-driven micropipeline circuit. We observe 
that the resulting spectrum fits within the mask and does not 
present harmonics as its synchronous counterparts. Moreover, 
the highest peak of the event-driven circuit is 3.2 times smaller 
than the highest peak in the spectrum of the synchronous 
design.  
Keywords-Event-Driven 
Circuit; 
Micropipeline; 
Electromagnetic Spectrum. 
I. 
 INTRODUCTION 
Electromagnetic compatibility (EMC) specifications are 
established in order to ensure the correct operation of 
different 
equipment 
in 
a 
common 
electromagnetic 
environment. Indeed, the unwanted generation, propagation 
and reception of electromagnetic energy in integrated circuits 
may cause unwanted effects, such as electromagnetic 
interference (EMI) or, even worst, physical damage. A 
device that emits, whether deliberate or unwanted, electronic 
emissions in its environment is referred to the aggressor. On 
the contrary, the circuit that is made malfunctioning or 
destroyed by the emission is referred to the victim. These 
kinds of issues are well-known by the circuit designers when 
they implement on the same die a RF transceiver and a 
baseband digital controller [1]. Indeed, the digital baseband 
controller tends to generate huge electromagnetic emissions 
disturbing the operations of the analog RF part of the circuit 
[2]. The clock signal of the digital circuit especially 
generates strong periodic current pulses on the power supply, 
producing a wide spectrum able to make inoperative a 
sensitive analog block [3]. 
Techniques for shielding the sensitive parts of electronic 
circuits are developed, for a long time, by designers in order 
to develop immunity against electromagnetic aggressions 
[4]. Techniques for hardening the circuitry have also been 
developed in order to make the circuit more robust [5][6]. 
Several techniques exist for synchronous designs to reduce 
their electromagnetic emissions [7][8]. Nevertheless, the 
clocked activity still produces periodic current pulses that 
pollute the electromagnetic spectrum. Contrarily, the 
asynchronous designs, also known as clockless circuits, 
show a spread electromagnetic spectrum. Philips Research 
and Philips Semiconductors developed an asynchronous 
version of the 80C51 microcontroller for a contactless 
smartcard application [9]. In comparison with the 80C51 
synchronous version, the asynchronous one consumes about 
four times less energy and its spectrum does not have clock 
harmonics [10]. In this example, the advantage of 
asynchronous design for EMC has been presented but no 
strategy has been developed to control the electromagnetic 
spectrum by design.  
The first attempt to control the electromagnetic emissions 
by design is made in [11] using asynchronous circuit and the 
Force Directed Scheduling (FDS). Their method has been 
applied to a finite impulsion response filter. This study 
shows a 9dB reduction of the highest peak component of the 
electromagnetic spectrum. 
Nevertheless, to the best of our knowledge, there does 
not exist efficient strategy for shaping and controlling the 
electromagnetic spectrum by design. 
In this paper, we present a genetic algorithm approach, 
for asynchronous circuits, not only to minimize the 
electromagnetic spectrum peaks but also the way to respect a 
spectral mask, like for example the Federal Communications 
Commission (FCC) spectral mask.  
Section II of this paper describes the micropipeline 
event-driven circuitry used to apply the method. The current 
modelling is introduced in Section III. Section IV describes 
the genetic algorithm for shaping and controlling the 
electromagnetic spectrum. The simulation results are 
presented in Section V and a conclusion is given in 
Section VI. 
 
 
 
* UGA Institute of Engineering 
62
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-638-5
SIGNAL 2018 : The Third International Conference on Advances in Signal, Image and Video Processing

II. 
MICROPIPELINE 
In order to shape the electromagnetic emission, using 
event-driven circuits is required. In our method, the 
Micropipeline class [12] is used, but other classes, such as 
Quasi-Delay Insensitive, Speed-Independent or Burst-mode 
circuits [13] for instance could be easily used.  
Sutherland 
introduces 
first 
the 
Micropipeline 
in 
1989 [12]. In the micropipeline architecture, the data path is 
kept from synchronous circuits and the global clock signal is 
removed. The synchronization between the registers, in the 
control path, is made by local controllers using a handshake 
protocol [12]. The controller sends a request signal when 
valid data are at the inputs of its registers and an 
acknowledgement signal to notify to the previous stage that 
its registers are ready to receive new data. To be valid, data 
have to be captured after their processing by the 
combinational logic. In order to ensure that the timing 
assumption, given in (1), the request signal has to be delayed 
of a value at least equal to the critical path of the 
corresponding combinational logic (see Figure 1).  
 
DCapture > DLaunch 
 
         (1) 
Our method keeps the architecture of the micropipeline 
circuit and uses the set of delays to shape and control the 
emitted electromagnetic spectrum. This approach can be 
considered as a generic method. 
III. 
CURRENT MODELLING 
As far field EM measurements are targeted in this study, 
the EM spectrum directly depends on the circuit current 
consumption [1].  
In synchronous CMOS circuits, the modelling of the 
current 
consumption 
is 
based 
on 
the 
following 
considerations: 
- 
Gate switching produces the current consumption. 
- 
The clock tree and the clock switching activity of the 
flip-flops produce an important part of the current 
consumption.  
- 
Most of the gate switching activity is localized in 
time just after the clock edges. 
Figure 2 shows a CMOS circuit current consumption 
with peaks on the clock edges. Therefore, current pulses may 
simply model the consumption of a digital CMOS circuit.  
In synchronous circuits, because of the clock signal, all 
the registers capture data at the same time producing a 
uniform distribution in time of the current peaks and strongly 
impacting the electromagnetic spectrum by generating 
harmonics. In asynchronous designs, as the global clock is 
removed, the peaks distribution is no more uniform. This 
helps to reduce the harmonics. Therefore, the memorization 
instant of the registers can be seen as an event that introduces 
a peak in the current signal. These events could be 
distributed in time in order to shape the electromagnetic 
spectrum. To simply evaluate the current consumption a 
current pulse is placed on the current waveform when 
registers capture data. 
Figure 3 illustrates the architecture on an n-stage linear 
micropipeline. The request signal of each stage n of the 
micropipeline is delayed of dn. The total current consumption 
of this design is modeled as in Figure 4. The current 
consumption is seen as a sum of current peaks, which are 
distributed in time in function of the circuit delays.  
Once the current curve is obtained, a Fast Fourier 
Transform (FFT) is performed in order to evaluate the 
electromagnetic spectrum.  
IV. 
GENETIC ALGORITHM 
A mask in the frequency domain is used to specify the 
targeted electromagnetic spectrum and to evaluate the circuit 
spectrum. A genetic algorithm (GA) is used to find the 
delays of micropipeline circuits to fit within the spectral 
mask.  
The GA is a technique dedicated to optimization 
problems. Introduced by Professor Holland from the 
University of Michigan [14], this algorithm is inspired from 
the biology and natural phenomenon as the reproduction and 
the mutation. GA manipulates populations of individuals 
where, originally in biology, individuals are considered as 
chromosomes that evolve and mutate. This evolution can be 
interpreted as solutions to an optimization problem. Each 
chromosome is composed of genes that are the binary 
encoding of the parameters. The algorithm process (see 
Figure 5) begins with an initial population composed of N 
chromosomes that are candidate solutions to the problem. 
For each given chromosome x, a cost is evaluated with a 
fitness function f(x). Then, they are classified from the 
stronger to the weaker, so that the rank increases from the 
best to the worst chromosome. Afterwards the parents of the 
next generation are selected among the current population. 
To select the parents, a line is created where each 
chromosome is a section of the line. The algorithm moves 
along that line in steps of equal size and allocates parents. 
The first parent is selected with a random number smaller 
than the step value. This method is called a stochastic 
uniform selection. During the selection, a chromosome can 
be selected more than once as a parent. In this case, its genes 
will contribute for more than one child. In the selection 
 
 
 
Figure 2. CMOS current consumption with peaks on the clock edges. 
 
 
 
Figure 1. Architecture of a micropipeline circuit. 
63
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-638-5
SIGNAL 2018 : The Third International Conference on Advances in Signal, Image and Video Processing

process, the chromosomes that have a better cost function are 
privileged. Then, the next generation is created in three steps.  
Firstly, the elite children, the individuals with the best 
fitness value, in the current generation, are automatically 
selected. A proportion of the population has to be kept 
because there is no guarantee that the children will be better 
than the parents.  
Secondly, the crossover children are created by the 
combination of two parents, this is similar to the 
reproduction in biology. A random binary vector is created 
and when its value is 1 the gene is selected from the first 
parent otherwise it is picked up from the second parent.  
Finally, mutation children are created by applying 
random changes in a single individual. The mutation adds a 
random number chosen from a Gaussian distribution to each 
entry of the parent vector. The amount of mutation, which is 
proportional to the deviation of the distribution, decreases at 
each generation. This mutation step allows to explore 
different solutions and avoid to be locked. 
To finish, the new generation is evaluated with the fitness 
function and the process of the algorithm is repeated. All the 
generations must have the same size to avoid the death of the 
population. The GA allows to find solutions for an 
optimization problem but not necessarily to find the best one 
(if it exists!).  
In our case, we used the GA to find the delays that 
distribute the events in time in order to shape the 
electromagnetic spectrum. Therefore, the delays of the 
micropipeline are the genes of the individuals. The number 
of stages in the micropipeline defined the number of genes 
for the individuals. In our case, each gene has a minimal 
value corresponding to the critical path of the combinational 
logic associated to the stage. A maximal value is also 
determined by the designer in order to hold the expected 
speed performances of the circuit. The initial population is 
randomly chosen. 
For each individual, we are able to determine the shape 
of the current when data are processed by the micropipeline 
circuit. Then, we apply a Fast Fourier Transform to have the 
frequency spectrum corresponding to this individual. The 
matching difference between this spectrum and the 
frequency mask is evaluated by the fitness function. When 
this difference is positive, the value is added to the 
chromosome cost. The algorithm is stopped when the best 
chromosome has a cost of zero. This last solution is chosen 
for setting the delays in the micropipeline circuit.  
V. 
SIMULATION RESULTS 
The simulations have been performed using the Matlab 
genetic algorithm function with the matching difference 
between the spectrum and the frequency mask as a fitness 
function.  
We applied our method to an asynchronous circuit and 
then compared its electromagnetic spectrum to the spectrum 
of its synchronous counterparts. Both of them have one 
hundred stages. For the test case, the synchronous design has 
a clock period of 10 ns. The asynchronous version is 
designed in micropipeline [12]. We constrained the GA with 
delays covering a range between 5 ns to 10 ns with a 
resolution step of 0.1 ns. The upper bound, for the delays, 
 
 
 
Figure 4. Shape of the total current consumption in time. 
 
 
 
Figure 5. Genetic Algorithm Process.In our case the initial population is 
randomly chosen. 
 
 
Figure 3. Architecture of an n-stage micropipeline 
 
64
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-638-5
SIGNAL 2018 : The Third International Conference on Advances in Signal, Image and Video Processing

ensures that the total latency of the pipeline is maintained 
during optimization. The lower bound is the length of the 
critical path.  
Figure 6 represents the architecture of a micropipeline 
stage where dmin is equal to the delay of the critical path in 
order to ensure the capture of valid data. Then, dGA is the 
delay found by the genetic algorithm in order to fit the 
spectrum of the circuit within the spectral mask.  
A mask is chosen as an electromagnetic spectral template 
in order to control the magnitude of the emissions in the 
frequency domain. The blue curve in Figure 7 is an example 
of spectral mask. In our example, we want to reduce the 
amplitude of some low frequencies. As already mentioned, 
the genes are delays selected in the range of 5 to 10 ns by 
step of 0.1 ns. The result of the simulations is showed in 
Figure 7. The green curve represents the electromagnetic 
spectrum of the synchronous design with a period of 10 ns. 
As expected, the spectrum presents harmonics every 
100 MHz. The blue curve represents the spectral mask used 
in the fitness function to evaluate the individuals. The red 
curve is the resulting spectrum obtained by applying our 
method on the micropipeline design. Its magnitude now 
matches the spectral mask as expected. Moreover, the 
spectrum of the asynchronous design does not show 
harmonics anymore and its highest peak is 3.2 times smaller 
than the highest peak in the spectrum of the synchronous 
design.  
To enhance the spectrum quality and ease the result 
convergence, the architecture of the design can be modified 
to add delays [15]. Indeed, increasing the number of stages in 
the design facilitates the search of delay solutions. The range 
and the step of the delays are also two important parameters 
that can be tuned to more easily fit the spectral mask [15].  
VI. 
CONCLUSION 
This paper presents a design method for shaping the 
emitted electromagnetic spectrum by an integrated circuit. 
With such a strategy, fitting within a spectral mask should 
become a specific step in the integrated circuit design flow. 
In order to apply this approach, event-driven asynchronous 
circuits have to be targeted. We chose for this purpose 
micropipeline circuits because they offer an event-driven 
behavior and an easy implementation for most of the circuit 
designers. We can notice that this design strategy can be 
applied to any kind of asynchronous designs.  
Once the event-driven circuit is designed, the designer 
has to determine the minimal and the maximal values for 
each delay and the spectral mask. Then, the genetic 
algorithm is performed. The GA determines the value of the 
delays so that the electromagnetic spectrum of the circuit fits 
within the spectral mask.  
Finally, we are able to obtain with event-driven circuits 
an electromagnetic spectrum fitting within a spectral mask 
and without harmonics in comparison to the spectrum 
emitted by their synchronous counterparts. Moreover, we 
obtain a significant reduction of the electromagnetic spectral 
peaks with this strategy. 
A test chip has been designed and fabricated. The latter is 
under validation with real EM measurements. Moreover, we 
emphasize that our EM shaping technique can be fully 
automated and a specific design tool should be implemented.  
ACKNOWLEDGMENT 
This work has been partially supported by the Labex 
PERSYVAL-lab (ANR-11-LABX-0025-01) and the ANRT 
(Convention Cifre N° 2016/0718). 
REFERENCES 
[1] M. Ramdani et al., “The Electromagnetic Compatibility of 
Integrated Circuits—Past, Present, and Future,” IEEE Trans. 
Electromagn. Compat., vol. 51, no. 1, pp. 78–100, 2009. 
[2] C. M. Hung and K. Muhammad, “RF/Analog and Digital 
Faceoff-Friends or Enemies in an RF SoC,” VLSI 
Technology Systems and Applications (VLSI-TSA), 2010 
International Symposium on, pp. 19–20, 2010. 
[3] M. Cazzaniga et al., “Evaluating the impact of substrate noise 
on 
conducted 
EMI 
in 
automotive 
microcontrollers,” 
Electromagnetic Compatibility of Integrated Circuits (EMC 
Compo), 2013 9th Intl Workshop on, pp. 129–133, 2013. 
[4] R. Rossi, G. Torelli, and V. Liberali, “Model and verification 
of triple-well shielding on substrate noise in mixed-signal 
CMOS ICs,” ESSCIRC 2004 - 29th European Solid-State 
Circuits Conference (IEEE Cat. No.03EX705), pp. 643–646, 
2003. 
[5] M. J. Schneider, “Design Considerations to Reduce 
Conducted and Radiated EMI,” Electrical and Computer 
Engineering Technology, 2009. 
 
 
 
Figure 7. Simulation results, where the blue curve is the spectral mask and 
the red curve is the resulting spectrum of our method. The green curve is the 
spectrum of the synchronous version. 
 
 
 
Figure 6. Micropipeline stage with the minimal delay that cover the critical 
path and the delay added to control the spectrum. 
65
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-638-5
SIGNAL 2018 : The Third International Conference on Advances in Signal, Image and Video Processing

[6] M. Mardiguian, Controlling Radiated Emissions by Design, 
3rd 
ed. 
Norwell, 
Massachusetts: 
Kluwer 
Academic 
Publishers, 2014. 
[7] K. B. Hardin, J. T. Fessler, and D. R. Bush, “Spread spectrum 
clock generation for the reduction of radiated emissions,” 
1994, pp. 227–231. 
[8] T. Steinecke, “Design-in for EMC on CMOS large-scale 
integrated circuits,” 2001, vol. 2, pp. 910–915. 
[9] G. Stegmann et al, “An asynchronous low-power 80C51 
microcontroller,” Advanced Research in Asynchronous 
Circuits and Systems, 1998. Proceedings. 1998 Fourth 
International Symposium on, pp. 96–107, 1998. 
[10] K. V. Berkel, M. B Josephs, and S. M. Nowick, “Scanning the 
technology: applications of asynchronous circuits,” Proc 
IEEE, pp. 223–233, 1999. 
[11] D. Panyasak, G. Sicard, and M. Renaudin, “A current shaping 
methodology for lowering EM disturbances in asynchronous 
circuits,” Microelectron. J., vol. 35, no. 6, pp. 531–540, 2004. 
[12] I. E. Sutherland, “Micropipelines,” Commun. ACM, vol. 32, 
no. 6, pp. 720–738, 1989. 
[13] J. Sparsø and S. Furber, Principles of asynchronous circuit 
design: a systems perspective. Boston: Kluwer, 2010. 
[14] J. H. Holland, Adaptation in natural and artificial systems: an 
introductory analysis with applications to biology, control, 
and artificial intelligence. Ann Arbor: University of Michigan 
Press, 1975. 
[15] S. Germain, S. Engels, and L. Fesquet, “Event-based design 
strategy for circuit electromagnetic compatibility,” presented 
at the 3rd International Conference on Event-Based Control, 
Communication and Signal Processing (EBCCSP), 2017, pp. 
1–7. 
 
 
 
66
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-638-5
SIGNAL 2018 : The Third International Conference on Advances in Signal, Image and Video Processing

