 
 
Implementations of Spatio-Temporal Data Structure  
for Geographic Information System 
 
Kazuaki Iwamura 
Information and Telecommunication Systems Company 
Hitachi, Ltd. 
Tokyo, Japan 
e-mail: kazuaki.iwamura.wx@hitachi.com 
 
 
Abstract—A new spatio-temporal data structure for a 
geographic information system (GIS) is introduced and 
employed for various applications. First, the concept for the 
spatio-temporal data structure is established. The effectiveness 
of the data structure for management and visualization of real-
world states is then demonstrated. To outline its effectiveness, 
real-time map update and level-of-detail representation are 
described. The data structure is implemented in a new type of 
GIS platform, denoted as a four-dimensional GIS (4D-GIS). 4D-
GIS applications to social infrastructure management and 
monitoring are also introduced. 4D-GIS is expected to 
contribute to the solution of real-world problems. 
Keywords-spatio-temporal; data structure; data integration; 
four-dimensional GIS. 
I. 
 INTRODUCTION 
Numerous geographical information systems (GISs) have 
been employed for various applications and used for data 
management [1]. GIS platforms also have evolved in 
accordance with developing technology. For example, 
platforms that can manage 3D data or integrate numerous 
types of data have made important applications possible. Thus, 
users are enabled to employ GISs as problem solution tools. 
This paper focuses on spatio-temporal and integrative 
structures to visualize and solve real-world problems. 
Actually, many real-world problems are concerned with two-
dimensional (2D) and three-dimensional (3D) data that 
include temporally changing elements and aspects, which are 
recorded in various types of documents such as maps and 
diagrams. For this purpose, common data structures and 
integration methods are introduced to solve various problems. 
Spatio-temporal data modeling has hitherto been proposed 
and applied to various fields [2]-[4]. In [2], a three-domain 
model comprising semantic, temporal, and spatial domains is 
proposed to realize complex query compositions. In [3], two 
temporal dimension models are introduced to represent actual 
and planned events. In [4], a data structure for spatio-temporal 
queries is proposed. In this paper, a new type of spatio-
temporal data structure that can represent 2D, 3D and their 
time changes and their applications is introduced. 
In Section II of this paper, the basic formulation of the 
proposed spatio-temporal data structure is established. In 
Section III, real-time map updates and level-of-detail (LOD) 
representation, which are data visualization control methods, 
are described to illustrate some spatio-temporal aspects. In 
Sections IV, V, and VI, the structure is implemented in a new 
type of GIS platform, denoted as four-dimensional GIS (4D-
GIS), and applications to social infrastructure management 
and monitoring are introduced. In Section VII, the 
effectiveness of the proposed spatio-temporal data structure is 
discussed and a conclusion of the work follows. 
II. 
THE SPATIO-TEMPORAL DATA STRUCTURE 
In this section, the basic formulation of the proposed 
spatio-temporal data structure and its extensions to 3D and 
temporal changes are established. 
A. The Structure of Spatio-temporal Shapes 
Spatio-temporal shapes are coordinate data whose 
dimensions are 2D and 3D in addition to temporally correlated 
changes. An illustrative structure is shown in Fig. 1. 
 
The basic shape of the structure is 2D. The 2D structure is 
written as follows in (1). 
 
ord (X, Y) 
.                                     (1) 
 
Hereord does not imply a summation of numerical 
values but indicates ordered (X, Y) coordinate sequences. All 
shape data whose dimensions are greater than 2D are obtained 
by the expansion of this 2D structure. 3D shapes are extended 
by inserting a new dimension for height or depth. This 
extension takes one of the two forms given in (2) and (3). 
 
 
Figure 1. Spatio-temporal data structure 
ord (X,Y)
ord (Z, (X,Y))
ord (X,Y,Z)
ord ([T], Z, (X,Y))
ord (X, Y, [T])
ord (X,Y,Z, [T])
2.5D extension
3D extension
2.5D+T extension
3D+T extension
Complex shape
representation
43
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
ord (Z, (X, Y))      ,                                 (2) 
ord (X, Y, Z)  .         (3) 
 
Structure (2) represents a 2.5-dimensional (2.5D) structure, 
where Z is a common height/depth dimension for all (X, Y) 
coordinates. Using (2), 3D structures such as buildings can be 
represented. On the other hand, for structure (3), all (X, Y) 
coordinates include individual Z coordinates. For example, 
sewer pipes, which are inclined, would be represented by 3D 
polylines using structure (3). 
Spatio-temporal structures are expansions of structures (1), 
(2), and (3). For structures (1), (2), and (3), time data are 
attached as follows in (4), (5), and (6), respectively. 

ord (X, Y, [T]) 
,      
           (4) 
ord ([T], Z, (X, Y))  
, 
           (5) 
ord (X, Y, Z, [T]) 
. 
           (6) 
 
Here, [T] is a time value that is attached only to changing 
coordinates. Because time is a continuous value, the time 
attributes are attached as follows. 
 creation start time and creation end time, 
 elimination start time and elimination end time. 
A given start time and end time are paired values. 
The 4D-GIS serves as a spatio-temporal data integration 
platform, and all data structures (2)–(6) can be expanded from 
the base structure (1) according to dimensions required by a 
given application. The merits for adopting the above spatio-
temporal data structures are as follows. 
 Because past data is not deleted, time change sequence data 
remains available for applications. 
 Data with future time change sequence data can be stored 
for planning applications. 
 Because changed structures remain in a coordinate sequence, 
it is easy to locate the point in time when changes occur. 
 Because only coordinate difference data is stored, data 
storage does not become large. 
B. Extension to Complicated Shapes 
Real-world object shapes tend to be more complex than 
those presented above. Shapes that are more complicated can 
be represented by a combination of structures given by (1)–
(6). The equation for combination is as follows in (7). 
 
Shape = F1 (S1 (t), S2 (t), L1(t)) + F2 (S2 (t), S3 (t), L2(t)) + 
 …. + Fn (Sn (t), Sn+1 (t), Ln (t))        .                   (7) 
 
Here, Si is a control surface, Li is a control line, and t is a 
parameter. Si and Li have the same structures given in (1)–(6), 
and time varying representations are also possible. Full shape 
data is created by interpolating between control surfaces Si and 
Si+1 along a control line Li. This structure can be denoted as 
homotopical data. The word homotopy is a mathematical term 
in topology describing smooth deformation/connection 
between two shapes. 
Two types of homotopical data generation exist. 
 Interpolation of a control line by curve fitting, where control 
surfaces are attached to both ends of a control line and a fit 
curve is generated among a control line. An example is 
shown later in Fig. 6. 
 Interpolation by model shapes along a control line, where 
model shapes are generated and connected along a control 
line successively. An example is shown later in Fig. 3. 
C. Spatio-Temporal Attribute Data 
Attribute data, which are connected by a position or by 
map objects, are also managed by the temporal structure. Fig. 
2 shows the table structure of attribute data in a relational 
database.  
 
 
This structure comprises two table types. One is the latest 
attribute data table and the other is the history data table. The 
latest attribute data table stores the latest data and the history 
data table stores records to be changed. 
Each record in both data tables includes “start time” and 
“end time” terms. When the attributes in the record fields in 
the latest attribute data table are to be changed, data in these 
records are moved to the history data table and the available 
periods are attached according to the start time and end time. 
Then, fields of the latest attribute data table are changed by 
the newly obtained data. When GIS users want to refer to past 
attribute data, the corresponding records in the latest data table 
and the history data table are exchanged. Thus, histories of 
attribute data are managed and used. 
D. Spatio-temporal Linear Feature Data 
Linear 
features 
are 
concerned 
with 
elongated 
configurations such as roads and trunk gas/oil pipelines. Data 
for these facilities in GISs are managed by a distance 
parameter [5]. Moreover, linear features that change 
according to time can be denoted as spatio-temporal linear 
features. For example, defect positions such as pipeline 
corrosion are managed using distances from a reference point, 
and corrosion expands gradually with time. 
Using the complicated shape representation given by (7), 
shape data for large-scale social infrastructures can be 
generated. An example of road shape generation is shown in 
Fig. 3. 
The shape generation steps are as follows. 
Step 1: facility parameters are retrieved according to the 
distance value obtained from the attribute database. 
Step 2: templates given as model shapes are generated by 
referring to facility parameters. 
Step 3: model shapes are aligned along a control line and 
connected. Then, the full shapes are generated. 
Merits of this process of shape generation are as follows. 
 The linear feature model is generated using attributes, and is 
therefore a compressed type of data.  
 
Figure 2. Attribute data and their history management 
Start
time
End
time
Attribute
1
Attribute
2
Start
time
End
time
Attribute
1
Attribute
2
09/01/2014 20/01/2014
25/02/2014 10/03/2014
09/01/1990 09/01/2014
15/01/1990 10/03/2014
Latest attribute data table
History  data table
AAAA
CCCC
BBBB
DDDD
AAAA
FFFF
EEEE
DDDD
44
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
 When facilities are changed, it is sufficient to update only 
the parameters of the facility attribute data because new 
shapes can be generated using the updated parameters. 
As an example, when the method is applied to updating map 
data for a sound-proof wall of an elevated causeway, the 
update cost using linear features is about 1/3 that when using 
full shape data. 
III. 
REAL-TIME MAP UPDATE AND LEVEL-OF-DETAIL 
CONTROL 
In this section, two remarkable uses of the proposed 
spatio-temporal data structure and the homotopical data 
structure are presented. One use is in real-time map update and 
the other is LOD control in shape visualization. 
A. Real-time Map Update 
Map data becomes antiquated immediately after creation 
because the real world changes rapidly. Therefore, timely 
updating map data in accordance with real-world changes is 
preferable. On the other hand, the obtained map data should 
be authorized by the responsible authorities, and updates of 
original maps can require considerable time for completion. 
TABLE I lists the update cycle times of gas and water supply 
facility maps prepared by a local government of Japan. 
TABLE I.  
UPDATE CYCLES OF FACILITY SCHEMATICS 
Drawings/Maps 
Scale 
Update cycle 
Time to update 
Gas supply 
facilities 
1/500 
3 times/Year 
2–5 months 
Water supply 
facilities 
1/500 
Once/Year 
2–5 months 
Water facilities’ 
master 
1/500 
Once/Year 
One year 
CAD Drawings 
1/200 
Once/Year 
One month 
 
Because infrastructure such as gas pipelines are repaired or 
exchanged daily, map data in which the latest infrastructural 
configurations are reflected should be created in a timely 
manner. Thus, a new method for the real-time map update 
was developed. The developed system is illustrated in Fig. 4, 
and an example of map update is shown in Fig. 5. 
 
 
 
 
As shown in Fig. 4, real-time kinematic global 
positioning systems (RTK-GPS) are employed to obtain 
facility position coordinates such as for pipes, which 
represent a segment of infrastructure. Then, the configuration 
coordinates of this segment with time values are transferred 
to a map database server, and the map data is immediately 
updated according to the spatio-temporal schema. 
At this point, a comment is required. The obtained 
coordinate data are embedded into the map data. However, 
the updated maps are not official until authorized. Thus, the 
updated maps are temporary. To accommodate authorization 
requirements in the spatio-temporal data format, an 
authorization tag bit is incorporated. Prior to authorization, 
this tag bit is switched off. After authorization, the tag bit is 
switched on, allowing 4D-GIS users to discriminate the status 
of map elements. This method has important merits whereby 
current real-world states can be evaluated and 4D-GIS users 
can employ the latest maps at any time. 
B. Level-of-detail Control 
The LOD establishes design criteria for map visualization 
control. In this section, two types of LOD design methods that 
are concerned with accuracy controls are described. One is a 
2D case and the other is a 3D case. The LOD control is 
necessary to visualize maps of different accuracies 
successively. 
1) Level-of-detail control in 2D visualization 
In this section, the homotopy concept of (7) is applied to 
curved polyline accuracy controls. When map data is 
magnified, curved polylines such as contour lines become 
coarse. However, the resolution of curved polylines should 
remain consistent even when magnified. One solution to avoid 
this situation is to prepare a plurality of curved polylines with 
different levels of accuracy and to select them according to the 
magnification employed. However, when data are updated, all 
related data should be updated. Thus, a curve fitting method 
 
Figure 4. System for real-time map update 
Transmission (Wireless) 
of changed differences
Map database 
server
User 
terminal
Dedicated network,
Internet, etc.
RTK-GPS
positioning
Underground pipes
in construction field
Survey 
points
 
Figure 5. Example of real-time map update 
Partial update of conduit
Newly constructed conduit
Survey point
Survey point
Updated conduit
(Blue line)
Survey points
Newly constructed 
conduits
 
Figure 3. Road shape generation: (a) Principle, (b) Example 
Control line(black)
Generated shapes
(a)
(b) 
Control line
Attribute database
Start
Distance
End 
distance
Start 
time
End 
time
Generation
parameters
****
****
****
**** ****
****
****
****
****
****
Model shape
Control  surface
Shape 
generator
45
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
based on homotopical data interpolation was developed. The 
fitting equation based on (7) is as follows in (8). 
 
Curvei(t) = (1 − t)Ci + tCi+1      .                (8) 
 
Here, Curvei is a fitting curve for the line Li, where 0 ≤ t ≤
1., and Ci and Ci+1 are circle arcs. The method is also 
illustrated in Fig. 6 (a).  
Polylines might include groups of segments that 
represent large curvatures. At these segments, curve fitting 
without controls would result in an unexpected overlap with 
other shapes. Thus, the four controls listed in TABLE II are 
imposed. 
TABLE II.  
LOD CONTROL OF 2D SHAPES (CURVE FITTING)  
 
Here, TLmin, TLmax, TAmin, TAmax, Td, and Tr are thresholds. Tr is 
determined uniquely. The consideration wherein squares are 
not fitted, and therefore, not changed to a circle requires that 
 
d = 𝑟 − 
𝑟
√2  and  𝑇𝑑 =
𝑟
𝑑 =
√2
√2−1 ≅ 3.4.      .          (9) 
 
The result is shown in Figs. 6 (b) and (c). 
 
2) Level-of-detail control in 3D visualization 
In 3D urban area visualization, 3D shapes far from a given 
viewpoint are small and details are degenerated. Thus, display 
of all 3D data including details is needlessly time consuming, 
making it is necessary to control the visualization accuracy. 
For example, shapes near a viewpoint are visualized in detail, 
whereas shapes far from a viewpoint are eliminated or the 
details are omitted. Using homotopical data structure, LOD 
controls can be realized effectively. The design criteria of 
LOD are listed in TABLE III. Here, TL1, TL2, TL3, TH, and TS 
are thresholds.  
 
 
TABLE III.  
LEVEL-OF-DETAIL CONTROL OF 3D SHAPES (OBJECTS )  
 
Fig. 7 illustrates the application of these control criteria.  
 
Fig. 7 (a) presents an example of object control, where objects 
far from a viewpoint are eliminated. Fig. 7 (b) is an example 
of deformation, where detailed segments of objects are 
removed because the details fade as objects recede from a 
viewpoint. 
The merits of the homotopical method in LOD controls are 
as follows. 
 The amount of data required to construct models are 
significantly reduced. For example, using this method to 
construct a 3D model of the crowded city-center of Tokyo 
reduces the required data size by 28% on average relative to 
the use of full shapes. 
 By managing only the original homotopical data, any LOD 
data can be generated by deformation of control surfaces. 
 Temporal changes are also represented by attaching time 
values in control surfaces and control lines. 
 Smooth viewpoint changes are also realized. 
IV. 
TRUNK GAS PIPELINE INTEGRITY MONITORING 
In Sections IV, V, and VI, applications using spatio-
temporal data to trunk gas pipeline integrity monitoring, 
communication facility management, and power consumption 
monitoring are introduced. In this section, trunk gas pipeline 
integrity monitoring is presented. 
A. Pipeline Integrity Data 
For trunk gas pipelines, transport pressures are greater 
than 4 MPa. Numerous trunk pipelines whose lengths are 
greater than 1000 km pass through several countries. When 
pipelines are buried underground and not adequately 
Parameter 
Condition 
Control 
Line length Li 
𝑇𝐿𝑚𝑖𝑛 ≤ |Li| 
𝑇𝐿𝑚𝑎𝑥 ≥ |𝐿𝑖| 
Ci → Li in (8) 
Angles of two lines Li, Li+1 
𝑇𝐴𝑚𝑖𝑛 ≤ |𝜃| 
𝑇𝐴𝑚𝑎𝑥 ≥ |𝜃| 
Ci → Li in (8) 
Maximum deviation d between Ci 
and Li 
d ≤Td 
Fitting (8) stops 
Ratio r/d (r is radius of Ci) 
r/d≥Tr 
Fitting (8) stops 
Parameter 
Condition 
Result 
Distance L from a 
viewpoint 
to 
a 
shape 
L ≥ TL1 
Objects whose heights are lower 
than TH are deleted. 
TL2 ≥L ≥ TL3 
(TL2 ≥ TL3) 
Small lines whose lengths are less 
than Ts are deleted. 
When an object comprises a group 
of objects, the group is united into 
a single average object. 
 
Figure 7. Homotopical level-of-detail (LOD) control of 3D shapes: 
(a) object control and (b) deformation. 
LOD 
Control
Control 
surface
Control line
Full shape
Contracted shape
(b)
(a)
 
Figure 6. Homotopical LOD control of 2D shapes: (a) fitting principle,  
(b) shapes before fitting, (c) shapes after fitting. 
(b)
(c)
Road
Round
Tank
Building
/House
Contour 
line
Arc Ci
Arc Ci+1
Line Li
Curve i
(a)
46
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
maintained, defects such as corrosion appear, and the wall 
thicknesses of pipes decreases over time. These conditions 
induce pipeline collapse. Thus, GISs are introduced for 
maintenance support to protect against pipeline collapse and 
possible explosions. The requirements for GISs are as follows 
[6]. 
 Representation of overall pipeline conditions. Data 
reflecting the overall pipeline status should be integrated and 
retrieved by map interfaces. 
 Prediction of potential risks. Potential risks such as 
deterioration of pipes caused by expanding defects should 
be readily detected. 
 Contribution to stable and safe gas transport. The stress 
concentrations on defects should be calculated. 
In TABLE IV, pipeline integrity data necessary to meet the 
above requirements for pipeline monitoring are listed. 
TABLE IV.  
DATA FOR PIPELINE INTEGRITY MONITORING 
 
Pipelines are often laid on undulating terrain. Thus, 
pipeline configuration data must possess 3D features. Nearly 
all data are managed by distance parameters. Moreover, 
according to a given lapse of time, pipelines located on soft 
soils tend to sink and defects tend to expand in the absence of 
repair. Thus, nearly all integrity data are managed as spatio-
temporal linear features. 
B. Safety Diagnoses 
Corrosion expansion is concerned with not only soil 
conditions, but also pipeline materials and transport pressures. 
The number of areas of corrosion in/on pipelines is 
occasionally greater than 1,000 per 1 km in the absence of 
maintenance. However, not all incidents of corrosion are 
dangerous. Estimating the risks associated with corrosion is 
important. For this purpose, a safety diagnosis function was 
incorporated with the 4D-GIS. 
The corrosion expansion speed is obtained by extracting 
size differences between two or more corrosion history data 
points. In the absence of corrosion history data, the corrosion 
expansion speed V can be determined by (12) as follows.  
 
V = V0 (1+E0) exp {f (T, 1M)}        .        (12) 
 
Here, V0 is the corrosion speed under no stress conditions, E 
is an environmental parameter, 0/1 is the volumetric/average 
strain, f is the stress function, T is the fluid temperature, and 
M is a pipeline material parameter. By comparison with real 
data, corrosion expansion is found to coincide with measured 
values within an error to the order of 0.01 mm. 
In Fig. 8, a screen image of the 4D-GIS safety diagnosis 
function is shown. 
The upper graph in the figure is the corrosion distribution 
diagram. The bottom left is the corrosion diagnosis chart. The 
bottom right is the update/repair recommendation and the 
diagnosis result. In the safety diagnosis, all instances of 
corrosion in/on the selected pipe sections are projected after 
the prediction of the current states using past corrosion data or 
(12). When corrosion is in the red area, exchange or repair of 
the corroded pipe section is recommended. The blue area 
represents the warning zone and the white area is the safety 
zone. Corrosion in the white zone is safe. Moreover, the 
remaining life time of the selected pipe sections are also 
predicted using (12).  
C. Analysis of Stress Concentration 
When the wall thickness of a pipeline section thins owing 
to severe corrosion, stresses caused by transport pressures can 
induce pipeline failure and potential explosions. Therefore, 
monitoring of the transport pressure distribution and stress 
concentrations are highly recommended. An extraction of 
stress concentration on pipeline sections is shown in Fig. 9. 
 
 
 
In Fig. 9, red bands means high risk pipe sections. Orange 
graph means maximum allowable operation pressures 
(MAOP). Stress concentrations depend on the transport 
pressure, corrosion size, and pipe dimension. It is convenient 
to transform stress values to allowable pressure values. Stress 
Name of data 
Contents 
Maps 
Pipeline configurations based on 3D coordinates 
Facility construction 
records 
Construction specifications such as pipe section 
length, wall thickness, and pipe diameter 
Defect 
inspection 
data 
Corrosion dimension and positions obtained by the 
autonomous in-line inspection robot called a “pig” 
Protection data 
Cathode voltage 
Gas 
transport 
parameters 
Transport pressures at discharges and suctions at 
compressor stations. Parameters can be obtained 
from a supervisory control and data acquisition 
(SCADA) system 
Survey results 
Soil conditions, facility conditions obtained by 
digging 
 
Figure 9. Calculation of pipeline stress concentration 
Distance
Gas pressure distribution
MAOP (Maximum allowable pressure)
Corrosion distribution
High risk pipe section 
Pipeline configuration
 
 
Figure 8. Safety diagnosis 
Distribution of corrosion
Diagnosis chart
Recommendation 
of pipe change 
/repair parts
Diagnosis result
Distance
Pipe wall 
position
Bottom: 6:00
Top     :12:00
47
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
values are calculated by the stress-strain equation. An 
allowable pressure Pmax is calculated using the following 
equation (13). 
 
Pmax = 4D 

Hear,  is the axial stress,  is the modified wall thickness, 
and D is the modified pipe diameter. When Pmax /MAOP > , 
pipe sections with these Pmax values have high risks. = 0.5 
for safety. 
When a bypass pipeline, denoted as looping, is utilized, the 
transport pressure is reduced by an operational method that 
divides the gas flow into a main pipeline and a looping 
pipeline. 
V. 
OPTICAL COMMUNICATION FACILITY MANAGEMENT 
In this section, an optical communication facility 
management is introduced. Some local governments in Japan 
have constructed optical communication networks in sewer 
underdrains and pipes for data communication among sewage 
disposal plants. For maintaining communication facilities, 
engineers refer to numerous types of documents. A listing of 
these reference documents is given in TABLE V. 
TABLE V.  
DOCUMENTS 
FOR 
COMMUNICATION 
FACILITY 
MAINTENANCE 
 
Maps, diagrams, and facility data are altered according to 
network expansion. Moreover, future networks are also input. 
Thus, spatio-temporal data management was adopted. 
In maps, geographical locations of communication routes 
are presented. However, equipment such as fiber connection 
boxes is not represented. On the other hand, other diagrams 
are topological, and connection sequences of network 
equipment are given. When documents are used, the following 
problems are encountered. 
 When maps and diagrams are separately referenced, facility 
sequence information cannot be obtained from maps and 
facility locations cannot be obtained from diagrams. 
 Fiber connection diagrams describe the connection routes of 
fibers. Because the number of fibers in a cable is large, 
drawing diagrams manually is difficult. 
Facility managers and engineers use all types of documents in 
daily maintenance work, and the 4D-GIS can solve the 
problems described above by integrating the different types of 
documents employed. 
A. Categorical Connection among Documents 
The method employed for the integration of maps and 
diagrams is described. Both types of documents are connected 
according to category theory [7][8]. Category is a 
mathematical concept that describes the relations of 
homomorphic structures. 
The connection method among two structures is illustrated 
in Fig. 10 (a). In the figure, “Map” indicates map objects, 
“Dgm1” and “Dgm2” indicate two different diagram objects, 
and “Attr” indicates attributes. Relations among maps and 
diagrams are illustrated in Fig. 10 (b).  
 
 
 
Nodes represent plants and links between two 
communication routes. The nodes in maps and diagrams are 
connected beforehand because the number of nodes is large 
(about 100). Routes between nodes can be calculated by a 
path-finding algorithm. 
The mappings between nodes and between links can be 
denoted as functors. Functors are bridges between two 
structures. A functor  is a projection of nodes and links as 
follows in (14). 
 
: Hom(A,B) Hom(
 
Here, Hom(A,B) is a projection and corresponds to a route 
from node A to node B, whereas TA and TB are mapped nodes 
in the other document that correspond to node A and node B, 
respectively. In a facility connection diagram, facility 
connection sequences are described. However, map users 
cannot retrieve the sequences of facilities and their 
specifications because these data are not attached to maps but 
to diagrams. Thus, functors play important roles as connectors 
among documents. 
The outline of steps for retrieving communication routes 
and facility data by linking between a map and diagram are 
described below. 
Step 1: selection of two nodes on a map. 
Step 2: finding corresponding nodes on a diagram by a functor.  
Step 3: finding the related route on a diagram, as calculated 
using a path-finding algorithm. 
Step 4: retrieval of facility data on the selected route from the 
database. 
An example of related route finding based on the above 
steps is shown in Fig. 11.  
Following the finding of the route on the map (the red 
color route in the map), the corresponding route in the facility 
diagram (the red color route in the facility diagram) is detected. 
Type of document 
Content 
Map 
Communication routes and their locations 
Facility diagram 
Connections of network equipment 
Network diagram 
Schematic communication routes 
Fiber connection diagram 
Routes of fibers cores included in cables 
Facility data 
Specifications of facilities 
 
Figure 10. Connection between documents based on categories: 
(a) connection structure, (b) interconnections among documents. 
Map
Attr dgm1
Dgm1
Dgm2
Attr:map
Attr dgm2
Hom (A,B)
Hom (TA,TB)
Hom (SA,SB)
(a)
(b)
Map
Facility
Connection
diagram
Fiber
connection
diagram
Node(Plant)
Facility
Arc(Communication route)
Fiber
Functor
48
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
 
 
B. Automatic Fiber Route Diagram Generation and 
Implicit Data Management 
Presently, fiber connection diagrams are drawn manually. 
However, drawing fiber connection diagrams is difficult 
because a great many fiber core lines, occasionally more than 
1000, are included in a single cable. Using the functor 
approach, fiber connection diagrams can be generated 
automatically. Moreover, a new database method, referred to 
as implicit data management, is shown to contribute to the 
retrieval of fiber connection data easily. 
Two fiber cores are connected by melting or with 
connector boxes, and a very great amount of connection data 
must be managed effectively. However, to input connection 
data manually is time consuming. Every fiber core has an 
index such as 1-2, 2-3. The former number represents the 
cable case number, whereas the latter number represents the 
fiber core number. Two fiber cores with the same index are 
ordinarily connected whereas few fibers with different 
indices are connected exceptionally. Thus, only connection 
data with different indices is stored in the database and 
ordinary connection data is not stored. In this manner, when 
an index pair does not exist in the database, fibers with the 
same indices are connected. This data registry method is 
herein denoted as implicit data management. The total data 
size is thereby reduced by greater than 1/5. A result of fiber 
connection diagram generation is shown in Fig. 11. The fiber 
connection diagram that corresponds with the finding route 
(the red color route in the map) is generated. 
VI. 
BIG DATA PROCESSING IN POWER MONITORING 
Recently, numerous smart city projects have been planned 
and executed. In smart cities, effective monitoring of power 
supply and consumption is pursued. For this purpose, energy 
consumption data is collected by equipment such as smart 
meters and analyzed to determine consumption trends. The 
data occasionally comprise greater than 10 million individual 
elements. It is a technical challenge to develop methods to 
handle such large power consumption data sets, which can be 
denoted as big data. For this purpose, the 4D-GIS adopted in-
memory techniques. In-memory techniques employed in 4D-
GIS are shown in Fig. 12 and described as follows. 
 
 
 Capture of statistics over areas or for individual buildings 
obtained from the summation of power consumption values 
in designated areas or for building objects in maps.  
 Representative data selection from, for example, houses 
that show similar consumption values and patterns. In this 
example, a representative house is selected and the 
consumption data of other houses are omitted. Thus, the 
amount of collected data is greatly reduced.  
 Trend analyses using historical data from which future 
prediction is executed. 
 Compensation for missing data. All power consumption 
data obtained in a specified time interval is managed within 
the database by spatio-temporal schema. However, when 
communication facilities fail, some data becomes 
unavailable, and values of missing data can be extrapolated 
from the consumption history stored in the database. 
The visualization reflecting changing conditions of 
electricity consumption is shown in Fig. 13.  
 
In the figure, green, blue, and yellow segments of the 
columns represent energy consumption by different 
equipment in apartments or town blocks. The gray segments 
of the columns represent the allowable limits of power 
consumption. In Figure 13 (a), electricity consumption in the 
early morning is shown and is low because communities are 
not particularly active. In Figure 13 (b), electricity 
consumption in the afternoon is shown, where some of the 
formerly gray columns have changed to red owing to power 
consumption close to supply limits. 
VII. DISCUSSION AND CONCLUSION 
The spatio-temporal structure is a reflection of real-world 
states. Thus, the 4D-GIS in which this structure is 
 
Figure 11. Related route finding and generation  
of fiber connections diagram 
Legend
Map
Result of related communication 
route finding (red line)
Fiber connection diagram
Facility diagram
Fiber routes
 
Figure 12. In-memory processing techniques employed in 4D-GIS 
Summation
Current
Predicted trend
Real data
Renewal
/Storage 
power 
supply
summation
Partial summation
Partial summation
****
****
History data
Deviation
analysis
• Trend analysis
• Compensation of missed data
• Statistics in areas or buildings
• Representative data selection
Representative
Current 
data
Missed data 
conjecture
 
High Resolution Satellite Image: C Digital Globe and Hitachi Solutions, Ltd. 
The screen images were created using flood simulator by Hitachi Power Solutions Co., Ltd. 
Figure 13. Visualization of power consumption monitoring: 
(a) morning, (b) afternoon. 
(b)
Allowable limit of 
power supply
Power consumption 
in apartment/ town 
block
Morning
Afternoon
(a)
49
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

 
 
implemented becomes a platform to solve real-world 
problems. The benefits for the 4D-GIS utilization are as 
follows. 
 3D and temporal changes are represented by a natural 
extension of the 2D data structure. Thus, 4D-GIS can be 
readily extended to other application fields. 
 By 
combination 
with 
homotopical 
representation, 
complicated data can be constructed effectively. Data size is 
reduced and the visualization effect denoted as LOD can be 
implemented. 
Hitherto, other types of spatial data structure have been 
authorized as international standards. Data structures such as 
web map service (WMS) and web feature service (WFS) are 
notable examples. These formats are used for data exchanges 
among GISs. The proposed spatio-temporal structure is native 
to the 4D-GIS platform. The 4D-GIS imports standard format 
data such as WFS, converts it into the native format, performs 
operations on this data, and the results can be exported to other 
GISs after converting into WFS or WMS data structures. 
Numerous future challenges are also evident. In the 
current implementation, the data structure is applied in the 
representation of only man-made objects. For further 
applications, representations of soil and atmosphere are also 
necessary. 
 In this paper, a new type of spatio-temporal data structure 
has been introduced and has been implemented using the 4D-
GIS integration platform for various applications. The spatio-
temporal data structure has demonstrated the following 
remarkable characteristics. 
 Real-world states can be effectively represented, allowing 
for realistic solutions to real-world problems. 
 Data representation is flexible and many applications 
unavailable to traditional 2D map base GISs can be realized. 
Three applications, trunk gas pipeline integrity monitoring, 
optical communication facility management, and power 
consumption monitoring, have demonstrated the effectiveness 
of the proposed spatio-temporal structure. 
ACKNOWLEDGMENT 
The author would like to thank Enago (www.enago.com) 
for the English language review. 
REFERENCES 
 
[1] R. W. Greene, “Open access: GIS in e-government”, Esri Press, 
2001. 
[2] G. Langran and N. R. Chrisman, “A framework for Temporal 
Geographic Information”, Cartographica, Vo. 25, No.3, pp.1-
14, 1988. 
[3] M. Yuan, “Use of three-domain representation to enhance GIS 
support for complex spatiotemporal queries,” Transaction in 
GIS, Vol 3, No.2, pp.137–159. 1999. 
[4] M. F. Worboys, “A unified model for spatial and temporal 
information,” The Computer Journal, Vol. 37, No.1 pp.26–34, 
1994. 
[5] K. Iwamura, K. Muro, N. Ishimaru, and M. Fukushima, “4D-
GIS (4 dimenional GIS) as spatial-temporal data mining 
platform and its application to large-scale infrastructure,” 1st 
IEEE Conference on Spatial Data Mining and Geographical 
Knowledge Services (ICSDM2011), pp.38–43, 2011. 
[6] K. Iwamura, A. Mochiduki, Y. Kakumoto, S. Takahashi, and 
E. Toyama, “Development of spatial-temporal pipeline 
integrity and risk management system based on 4 Dimensional 
GIS(4D-GIS)”, Proc. of International Pipeline Conference 
2008 (IPC 2008), pp.291–298, 2008. 
[7] S. Maclane, “Categories for the mathematician,” Springer-
Verlag, 2nd ed. 1997. 
[8] J. Herring, M.J. Egenhofer, and A.U. Frank, “Using category 
theory to model GIS applications”, 4th International 
Symposium on Spatial Data Handling, pp.820–829, 1990. 
 
50
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-383-4
GEOProcessing 2015 : The Seventh International Conference on Advanced Geographic Information Systems, Applications, and Services

