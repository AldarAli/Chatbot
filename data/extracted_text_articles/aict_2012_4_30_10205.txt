Performance Evaluation of a WiMAX Network Using Smart Antennas Through 
System in the Loop OPNET Simulations  
 
Şerban Georgică Obreja,  
University POLITEHNICA of Bucharest 
Bucharest, Romania 
e-mail: serban@radio.pub.ro 
Irinel Olariu,  
University POLITEHNICA of Bucharest 
Bucharest, Romania 
e-mail: irinel.olariu@elcom.pub.ro 
Alexey Baraev 
Create-Net 
Trento, Italy 
e-mail: alexey.baraev@create-net.org 
Eugen Borcoci 
University POLITEHNICA of Bucharest 
Bucharest, Romania 
e-mail: eugen.borcoci@elcom.pub.ro 
 
 
Abstract—Worldwide Interoperability for Microwave Access 
(WiMAX) is one of the newest technologies developed for 
broadband wireless networks, which offers high data rate and 
high flexibility for the radio resource management. Adding 
smart antenna support and developing new scheduling 
algorithms will make WiMAX an attractive solution for the 
next generation wireless networks. In this paper, a basic 
simulation testbed for performance evaluation of a WiMAX 
network using smart antenna is proposed. It is based on 
OPNET simulation tool and uses System-in-the-Loop function 
to interconnect the simulated system with a real network, for a 
better functional and performance evaluation. The simulation 
results showed that the higher antenna gain on the beam 
direction and the narrow beam will result in a reduced level of 
interference and a higher throughput in the WiMAX network. 
Keywords - WiMAX networks; smart antenna; OPNET; 
System-in-the-Loop. 
I. 
 INTRODUCTION  
The IEEE 802.16 technology and WiMAX-based 
systems constitute an attractive solution for metropolitan and 
rural areas [1]. It offers high capacity links, and based on the 
relay technology introduced in 802.16 j standard it can also 
provide high coverage too. Scheduling the radio resources in 
a relay based topology is a very challenging task. To cope 
with interference issues in such topologies, directional smart 
antennas can be introduced to obtain increase in 
performance, while keeping the transmitting power at the 
same level as for omnidirectional antennas case. 
In this paper, the performance of a WiMAX network, 
which uses smart antennas at the Base Station and Subscriber 
Station, is evaluated. A basic testbed was built for this 
purpose. It is based on OPNET simulator and uses the 
System-in-the-Loop function to interconnect the simulated 
system with a real network, for a better functional and 
performance evaluation [2][3]. The testbed was developed in 
the framework of the SMART-Net FP7 project, which aimed 
to investigate the use of smart antennas in Wireless Mesh 
Networks mainly based on WiMAX and WiFi technologies. 
The project proposed efficient scheduling algorithms, to 
enhance the capacity and to provide scalability, reliability 
and robustness for such a system [2][4]. Inside this project, 
performances evaluation based on both simulation and real 
life experimental platform has been conducted. In order to 
increase the accuracy of the evaluation platform, the 
cooperation between the simulated network and the real life 
platform has been achieved by coupling them using the 
System- in-the-loop OPNET function. This paper presents 
the experimental results for evaluating the smart antennas 
integration on standard OPNET WiMAX nodes [5].  
This paper is organized as follows. The second section is 
a short description of the SMART-Net system and of the 
smart antennas. The third section is dedicated to the testbed 
structure and the simulation scenarios. The fourth section 
provides the simulation results. The last section presents 
conclusions and guidelines for future work. 
II. 
SMART-NET SYSTEM 
A. Smart-Net features 
Smart-Net solution for Broadband Wireless Access is 
based on multimode devices with smart antennas support. 
These devices are interconnected in a partial mesh topology, 
which has a central point, Smart Gateway (SMG), acting as a 
gateway linked to the backhaul networks. The other nodes of 
the network are either SMART Stations (SMS) or SMART 
Relays (SMR). A SMR is an operator’s equipment, which is 
specifically used to forward data traffic to the users, allowing 
coverage extension and cooperative diversity, while a SMS 
is a subscriber station, that also enables data transfer for 
other users based on the service provider policy [1] [4]. 
Using omnidirectional antennas in wireless networks 
create inherently interference, which decrease the capacity of 
the system. A significant capacity increase could be obtained 
by using smart antennas. They feature a directivity that can 
be controlled by higher levels protocols (Layer 2, Layer 3) in 
the network node, allowing its orientation towards the 
destination node, and thus reducing interference.  
81
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

The Smart-Net project introduced smart-antenna support 
on WiMAX equipments and developed some algorithms for 
scheduling and routing in a multihop relay based WiMAX 
mesh network [4][6][7][8]. To validate the proposed 
solutions two testbeds were developed during the project [5]. 
First is a real life testbed consisting of WiMAX equipments 
with smart antennas. The WiMAX equipments used in the 
testbed are produced by Thales Company and the smart 
antennas are produced by Plasma Antennas Company. Both 
are members of the Smart-Net project. The second is a 
simulation platform, which was developed using the OPNET 
network simulator. The smart antennas were modeled in the 
OPNET and integrated with the simulated WiMAX nodes. 
Also, it was proposed by the project to combine the real life 
and simulated testbeds to obtain more significant results of 
the proposed system’s performances. For the testbeds 
interconnection the System-in-the-Loop (SITL) function 
provided by OPNET was used. Such approach is presented 
in [9], where SITL is used to evaluate WiFi wireless 
networks performances. In this paper a similar approach is 
used to evaluate the smart antennas integration on the 
WiMAX nodes and the smart antennas performances. 
B. Smart antennas 
Smart antennas are systems, which intelligently combine 
multiple antenna elements with signal-processing capability 
to optimize its radiation and reception patterns automatically 
[4]. They have a certain number of fixed high gain beams 
with low sidelobes, which minimize interference both on 
transmit and receive, without using complex adaptive nulling 
algorithms. Low sidelobe multi-beam antennas have the 
advantage over adaptive systems in that they suppress a very 
large number of interferers in a consistent, predictable way. 
Adaptive antennas systems are limited by their degrees of 
freedom (e.g., number of radios), their adaptation time and 
might not work well when the signal of interest is at the edge 
of the receiver’s sensitivity. However, they potentially have 
the advantage of allowing the suppression of interfering 
signals that are close in angle (within a beamwidth) to the 
source-of-interest. When receiving, the adaptive smart 
antennas can maximize the sensitivity in the direction of the 
desired signal and minimize the sensitivity towards 
interfering sources.  
For reasons of cost and consistency of performance, 
common smart antennas are switched or selectable multi-
beam antennas, requiring only a single radio. These antennas 
have multiple fixed beams, and the system switches very 
rapidly between these beams.  
For the SMART-Net project, two types of switched 
multi-beam antennas, capable of WiMAX operation, have 
been designed and implemented [2] [4]. 
• 
An active, 12 beam cylindrical array antenna with 
omni-mode 
• 
A passive 9 beam planar array antenna with sectoral 
mode. 
The active 12-beam cylindrical antenna with 360° 
coverage has been selected to be most suitable for mesh and 
nomadic Point to Multipoint operation. It has typical ranges 
of up to 20 km, depending on the modulation rate. The 
passive 9 beam planar antenna, with its narrow beams, has 
been selected to be most suitable for medium range backhaul 
and relay operations. A representation of both antennas, 
suitable for inclusion within OPNET, has also been provided, 
but as simulated data. 
Besides the multibeam antennas, a switching algorithm is 
used to choose the appropriate beam among the available 
antenna beams. This algorithm is based on a learning interval 
in which, based on SINR, the best beam is chosen for each 
destination. Based on the decision took by the selection 
algorithm, when a smart node (a node equipped with smart 
antennas) needs to communicate with another smart node, 
the beam with the best SINR is used. Because the best beam 
is decided in the learning phase, the switch operation is very 
fast, a few nanoseconds. Some performance degradation is 
expected in the mobile nodes case, because the learning 
interval lasts a few milliseconds. In this paper, only 
evaluation of smart antenna on fixed WiMAX nodes is 
presented. For mobile nodes, the smart antenna integration is 
not ready. 
III. 
SIMULATION  INFRASTRUCTURE AND SCENARIOS FOR 
SMART ANTENNAS 
A. Simulated testbed infrastructure 
The testbed infrastructure consists of a simulated 
WiMAX network, which is interconnected with real devices 
in order to introduce real time traffic in the simulation 
(Figure 1). The System-in-the-Loop is an OPNET facility, 
which allows real time communication between real and 
simulated parts of the network [2][8][10]. By using SITL, 
OPNET 
simulation 
exchanges 
the 
packets 
between 
simulations and real networks in real-time. The SITL 
gateway represents an external device through which the 
simulation exchanges the packets; the WinPcap library is 
used to route those packets selected by user defined filter, 
from an Ethernet network adaptor, to the simulation process. 
The real time requirements are introducing hard constraints 
on the simulation platform’s hardware. 
 
PC with OPNET simulated WiMAX  
 
Figure 1.  Simulated testbed infrastructure. 
The simulation runs in real-time and exchanges packets 
with the external hardware via an Ethernet link. The 
requirement of using Ethernet link between the real devices 
and the SITL gateway introduces limitation in developing 
joint real and simulated wireless network scenarios. Joint 
scenarios for evaluating scheduling and routing algorithms 
for wireless mesh networks are not possible with SITL.   
B. Scenarios for smart antenna performance evaluation 
The basic topology of the simulated WiMAX network 
used for evaluation of smart antennas performances is 
82
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

presented in Figure 1. A real-to-real SITL topology is used 
for these scenarios. It consists of a single WiMAX link, 
between a Base Station and a fixed Subscriber Station, which 
is concatenated with Ethernet links at both ends. These 
Ethernet links are used to interconnect, via SITL gateways, 
the WiMAX simulated network with the external stations, 
which are both acting as real time streaming server and 
player. The smart antennas were installed on the simulated 
WiMAX nodes. Introducing smart antenna support on 
standard WiMAX nodes requires modifying the radio 
transceiver pipeline stages. The beam selection algorithm 
was introduced in the pipeline stages together with the 12 
beam cylindrical array and 9 beam planar array antenna 
models.  
The following two scenarios were created in order to 
evaluate the smart antennas integration in standard WiMAX 
nodes using the OPNET SITL tool. The first one uses the 
topology given in Figure 1, which consists of a single 
WiMAX link. Both BS and SS are equipped with standard 
WiMAX nodes (with omnidirectional antennas) initially. The 
capacity of a standard WiMAX link is determined. In a 
second phase, the omnidirectional antennas are replaced with 
smart antennas. The scenario is run again to determine the 
capacity of the WiMAX link for smart antenna case. The 
second scenario aimed to determine the interference level in 
a WiMAX network when the smart antennas are used taken 
as reference the interference generated by omnidirectional 
antennas. For this purpose, near the WiMAX link, used to 
carry the real time traffic, a small WiMAX network (one 
Base Station- BS, with several Subscriber Stations- SS) is 
placed. The nodes of this network are used to generate 
interference on the main WiMAX link. The scenario is run 
with both omni and smart antennas installed on the nodes 
used to generate interference. 
IV. 
SIMULATION RESULTS FOR SMART ANTENNA 
PERFORMANCE EVALUATION 
A. Simulation components and parameters 
In this section, the smart antennas performance 
evaluation results obtained using the simulation testbed will 
be presented. The simulation platform consists from the 
following components as shown in Figure 1: two PCs used 
one as real traffic generator and the second as player; a third 
PC, with OPNET installed, is used to simulate the WiMAX 
network. The PC with OPNET must be a performant one in 
order to run the simulations in real time. The hardware 
simulation platform used for the experiments is based on 
Intel XEON-quad core processor, running at 2.66GHz, with 
6GB RAM. Windows 7 and OPNET version 16 software are 
installed on it. Two 1GB Ethernet cards are used to 
interconnect the simulation PC with the external PCs. In the 
first scenario a direct WiMAX link, between a Base Station 
and a Subscriber Station, is simulated in OPNET. Both 
WiMAX nodes are standard nodes equipped with 
omnidirectional or smart antennas. The WiMAX physical 
parameters are: 20MHz bandwidth, 2048 subcarriers, 10.94 
kHz subcarrier frequency spacing, symbol duration of 
102.86µs, frame duration of 5ms. The antenna gain is set at 
15 dB and the receiver sensitivity was set at -100dB. 
A first test suite aimed to evaluate if there are any 
limitations introduced by the SITL interface in the WiMAX 
performances. For this purpose, the free space propagation 
model was chosen, multipath channel model was disabled, 
and the distance between BS and SS was set at around 200m. 
With these parameters for the radio channel, the transmission 
is done in very good conditions. The Iperf application was 
used to generate UDP traffic at a rate of 50 Mbps. Several 
modulations and coding rates were configured for WiMAX 
physical layer: QAM64 3/4, 2/3, 1/2; QAM 16 3/4 and 1/2. 
The data throughput obtained on the output SITL interface 
for different modulations and coding rates are presented in 
Figure 2. The data throughput through the WiMAX link, 
measured at the output of the simulated network and at the 
destination PC, reaches the maximum link capacity for the 
given WiMAX parameters. The obtained results show that 
the SITL interfaces and the real-time constraints imposed to 
the simulation does not affect the network performances. 
As can be seen from Figure 2, the throughputs obtained 
through the WiMAX link in each case are closed to the 
values indicated by the standard. 
 
                   
 
a) 
 
 
 
 
 
 
b) 
Figure 2.  Data throughput obtained on the output SITL interface for:a) QAM 64 modulation 1/2, 2/3, 3/4  
b) QAM16 1/2, 3/4 and QPSK 1/2 
83
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

B. Basic evaluation of link capacity for WiMAX nodes 
equipped smart antennas 
In this scenario, a movie with a rate around 2.5 Mbps is 
streamed from the streaming server through the simulated 
WiMAX link. On the same link and in the same direction 
(downlink) it is transmitted a noise UDP traffic with the rate 
of 5Mbps. All the flows are transmitted as Best Effort. A 
total of around 7.5 Mbps throughput is transmitted on the 
downlink. The WiMAX physical parameters are: 20MHz 
bandwidth, 2048 subcarriers, 10.94 kHz subcarrier frequency 
spacing, symbol duration of 102.86 µs, frame duration of 
5ms. The antenna gain is set at 15 dB. QPSK 1/2 modulation 
and coding scheme were selected, and the planar 9 
multibeam smart antennas were installed on WiMAX nodes. 
 
 
Figure 3.   Wimax throughput – omni beam and smart-antenna;            
blue – omnidirectional antenna;      red – smart antenna 
Both the omni and smart antennas scenarios were 
repeated by varying the distance between the BS and SS. As 
it was expected the capacity of the WiMAX link decreases 
while the distance between nodes is increased. The Wimax 
capacity decrease is illustrated also by the perceptual 
evaluation of the movie quality and by the throughput 
statistics measured on the WiMAX link. In all experiments 
performed, the WiMAX link capacity was similar or better 
than in case of omnidirectional antenna as is illustrated in the 
Figures 3. It presents the throughput obtained in the omni-
beam and smart antenna case when the BS and SS are at the 
same distance and in the same positions. The higher 
throughput curve corresponds to the smart antenna scenario. 
For small distances between the BS and SS node the 
throughput is the same. When the distance is increased the 
difference between the throughputs obtained in each case is 
increased – the higher throughput being obtained when using 
smart antennas. A perceptual evaluation was performed 
using the real time movie, which was sent through the 
simulated networks together with the UDP noise traffic. By 
subjectively observing the movie quality at the output of the 
simulator, it was compared the WiMAX network behavior in 
the omnidirectional and smart antennas cases. In all the 
scenarios, the movie quality was the same or better for the 
case when the smart antennas were used on WiMAX nodes 
compared with the case of omnidirectional antennas usage 
on WiMAX nodes. 
C. Interference evaluation for omni and smart antennas 
cases 
A second scenario was built to evaluate the interference 
level in a WiMAX network with nodes equipped with smart 
antennas, and to compare it with the interference generated 
by WiMAX nodes equipped with omnidirectional antennas. 
In order to evaluate the interference level, near the WiMAX 
link from the previous scenarios was placed a small WiMAX 
network with one BS and several subscribers. This second 
network is used to generate interference on the link, which is 
used to send the real time traffic flows. 
 
 
 
Figure 4.   Interference evaluation scenario topology 
 
The scenario is run both with the interference network 
enabled and disabled. The behavior of the main WiMAX 
link is evaluated for both cases: with and without 
interference. The same experiment is repeated for WiMAX 
nodes equipped with smart antennas. With this scenario, the 
interference generated by a WiMAX network with omni or 
smart antenna equipped nodes can be evaluated at a node 
level from the SNR statistics. The expected result is that the 
interference amount will be smaller when smart antennas are 
used by the WiMAX nodes. 
The scenario topology is shown in Figure 4. The 
interference network consists from the server node, BS2 
node, and the SS21, SS22, SS23, SS24 nodes. Local video 
traffic is generated between the interference nodes. The real 
time traffic is generated with Iperf application at a rate of 20 
Mbps. For the WiMAX channel the ITU Pedestrian A 
multipath channel model and Pedestrian A pathloss model 
were selected. The other WiMAX parameters are identical 
with the ones used previous scenarios. 
First experiments are performed using nodes equipped 
with omnidirectional antennas. The same experiment is run 
initially with the nodes, which generate interference, 
disabled, and then with all the nodes enabled. 
84
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

 
Figure 5.  Downlink SINR values for the signal received by the SS1 node:  
 up- interference nodes enabled;   down- interference nodes disabled  
 
The results are shown in the Figures 5, 6 and 7. In these 
figures, the downlink SNR measured at the SS1 station and 
the traffic sent in the interference network are presented. One 
can see that, when there is traffic in the interference network 
(Figure 6), the SNR level measured by the SS1 on the 
affected link is decreasing with almost 10 dB (Figure 5). 
This is caused by the radio signals coming from the 
interference WiMAX network. In Figure 7 the packets lost 
statistic measured at a node, SS21, in the second WiMAX 
network is shown. The packets lost is caused by the 
interference, which is generated by the WiMAX nodes BS1 
and SS1 while transmitting the real time traffic. One can see 
that a lot of packets are lost because of the SNR degradation.  
 
 
Figure 6.   The throughput at the BS2 node –traffic generating interference 
at SS1 node 
In both Figures 6 and 7, the blue curve corresponds to the 
results 
obtained 
when 
the 
nodes, 
which 
generate 
interference, are enabled, while the red curved illustrates the 
statistics obtained when the interference generating nodes are 
disabled. 
 
 
 
Figure 7.   Packets lost at SS21 node – caused by the interference 
generated by the BS1-SS1 WiMAX link 
A second test suite is done using nodes equipped with 
smart antennas. The topology and all other parameters were 
kept unchanged. A similar traffic pattern was used for this 
test suite. Local video traffic was generated between the 
interference nodes, and real time traffic was generated with 
Iperf application at a rate of 20 Mbps. The first experiment 
was played with the interference network activated. The 
85
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

SNR measured at SS1 node, when the interference nodes are 
enabled, is shown in Figure 8. The SNR is similar with the 
SNR measured by SS1 when the nodes are equipped with 
omnidirectional antennas and the interference nodes are 
disabled. This shows that the level of the interference signals 
is low when smart antennas are used. Also, one can see that, 
the higher values of the SNR, in the scenario with nodes 
equipped with smart antennas, are with more than 10 dB 
greater than the SNR in the scenario with omnidirectional 
antennas.  This is a consequence of the narrow beams used 
by the SS1 and BS1 antennas, which cause a smaller amount 
of interference due to multipath propagation. 
 
 
Figure 8.  Downlink SNR at SS1 node - interference network enabled  
rede – omnidirectional antenna;      blue – smart antenna 
 
Figure 9.   The number of downlink packets dropped at SS1 node   
In Figure 9, the packet lost statistic for the node SS1 is 
presented when the interference network is enabled. There is 
a mean of less than one packet/s loss, which is much better 
than the loss obtained when the omnidirectional antennas are 
used. All these results demonstrate that using directional 
smart antennas on WiMAX nodes one can increase the 
capacity and coverage of the network. Because the beam 
switching is very fast, a few nanoseconds order, these smart 
antennas can be used at both Base Station and Subscriber 
Station for fixed and nomadic scenarios. 
V. 
CONCLUSION AND FUTURE WORKS 
This paper presents an evaluation, using the OPNET 
simulator, of a basic WiMAX network with nodes equipped 
with smart antennas. It presents basic scenarios and 
experiments for evaluation of smart antennas integration on 
WiMAX nodes and the obtained performances. The 
simulations results presented in this paper illustrate that, for 
fixed WiMAX nodes, the usage of the proposed smart 
antennas will bring a significant performance gain, expressed 
in terms of capacity and coverage. Because of the fast beam 
switching, these smart antennas can be used successfully in 
fixed scenarios. The smart antenna behavior on mobile 
WiMAX nodes is a subject of further research. The main 
issue for mobility is to develop a tracking algorithm capable 
of detecting in real time the best beam to be used to reach the 
mobile node.   
ACKNOWLEDGMENT 
This work was supported by the EU FP7 project 
SMART-Net, no 223937, by the Romanian UEFISCSU PN-
2 RU-TE Project no. 18/12.08.2010 and by the EU and 
Romanian 
Govern 
EXCEL 
project 
- 
POSDRU/89/1.5/S/62557. 
REFERENCES 
[1] 
IEEE Standard 802.16-2004, Air Interface for Fixed Broadband 
Wireless Access Systems, wirelessman.org/pubs/ 80216-2004.html 
[retrieved: March, 2012]. 
[2] 
S. Wendt, E. Borcoci, and A. Tonnerre. Project Deliverable D2.1 a: 
Target scenario requirements and specifications, ICT FP7 SMART-
Net project. https://www.ict-smartnet.eu [retrieved: March, 2012]. 
[3] 
http://www.opnet.com/training/network_rd/abstracts/mod_SITL-
module.html [retrieved: March, 2012].  
[4] 
S. Wendt, F. Kharrat-Kammoun, E. Borcoci, R. Cacoveanu, R. Lupu, 
and D. Hayes. Project Deliverable, “D2.4b: Network architecture and 
system specification,” ICT FP 7 SMART-Net project, October 2010, 
https://www.ict-smartnet.eu [retrieved: February, 2012]. 
[5] 
E. Borcoci, M. Constantinescu, S. Obreja, A.Baraev, T.Rasheed, and 
D. E. Meddour. Project Deliverable, “D4.4: System level simulation 
analyses and performance measures,” ICT FP7 SMART-Net project, 
May 2011.  
[6] 
M. Mostafavi, E. Hamadani, et al., Project Deliverable, “D3.2b: 
Performance analysis of efficient routing protocols for multimode 
mesh networks,” ICT FP 7 SMART-Net project, December 2010,  
[7] 
F. K. Kammoun, D. E. Meddour, A. Baraev, T. Rasheed, E. Borcoci, 
A. Enescu, and S. Ciochina. Project Deliverable, “D4.1: Large scale 
simulation testbed specifications,” ICT FP7 SMART-Net project. 
January 2009. 
[8] 
R. Kortebi, D. E. Meddour, Y. Gourhant, and N. Agoulmine, “SINR-
based routing in multi-hop wireless networks to improve VoIP 
applications support,” Consumer Communications and Networking 
Conference, 
CCNC 
2007, 
Las 
Vegas,USA, 
pp491–496, 
10.1109/CCNC.2007.103 7. 
[9] 
J. Mohorko, M. Fras, and Ž. Čučej, ”Real time “system-in-the-loop” 
simulation of tactical networks,” 16th International Conference on 
Software, Telecommunicati ons and Computer Networks,  SoftCOM 
2008, pp. 105-108, 25-27 Sept. 2008  
[10] S. G. Obreja, I. Olariu, A. Baraev, and E. Borcoci, “Real time traffic 
capabilities evaluation of a hybrid testbed for WiMAX networks with 
smart antenna support,” 2nd International Workshop on Multimode 
Wireless Access Networks, colocated with MOBILIGHT2011 
conference, Bilbao, Spain, pp. 258–266, 9-11 May 2011. 
86
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-199-1
AICT 2012 : The Eighth Advanced International Conference on Telecommunications

