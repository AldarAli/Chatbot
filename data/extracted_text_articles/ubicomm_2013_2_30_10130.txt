Towards a Middleware to Infer the Risk Level of an Activity in
Context-Aware Environments Using the SRK Model
Alfredo Del Fabro Neto, Rafael Bouﬂeuer,
Bruno Romero de Azevedo, Iara Augustin
Informatics Graduation Program
Federal University of Santa Maria
Santa Maria/RS, Brazil
emails: {alfredodfn, rafabouﬂer}@redes.UFSM.br,
{brunodea, august}@inf.UFSM.br
Jo˜ao Carlos D. Lima
Department of Languages and
Computer Systems
Federal University of Santa Maria
Santa Maria/RS, Brazil
email: caio@inf.UFSM.br
Cristiano C. Rocha
MobilEasy Technologies Ltda.
Florian´opolis/SC, Brazil
email: cristiano.rocha@MobilEasy.com.br
Abstract—It is inherent that every activity (human or non-
human) has an associated risk level to the actors involved. This
risk level may vary from no-damage risk to a very high risk level.
Based on the regular actor’s behavior, the risk level of an activity
can be changed to a higher or lower level (i.e., how apt the actor
is related to an activity). This paper proposes a novel approach
to analyze the risk level of activities considering the behavior of
the actors using the Skill, Rule and Knowledge (SRK) cognitive
architecture proposed by Rasmussen in 1983. Taking advantage
of the Internet of Things paradigm we developed a context-aware
middleware that analyzes the actors’ behavior based on the SRK
model to infer the risk level associated with their activities.
Keywords—Activity Recognition; Activity Risk Level; Context-
Awareness; SRK Model.
I.
INTRODUCTION
The usage of technologies to obtain information about the
environment has been increasing. It provided the ground for
research areas in pervasive and ubiquitous systems making
possible the ideas proposed in the famous paper by Weiser
in 1991 [1]. One of these research areas is the so-called
Internet of Things (IoT), which can be seen as the integration
between humans and application seamlessly “through the new
dimension of “Things” communication and integration” [2].
This means that everyday life objects could be embedded
within a sensor that would provide information about it to
anyone who wants it (i.e., other objects, systems, etc.) [3].
To meet these requirements it is necessary for the systems
to access the context data in which their actors are included.
It is important to notice that actors may not only be humans
as they can also be, e.g., the environment. There are many
deﬁnitions of what a context is. Dey [4] shows some of them
and proposes his own deﬁnition: “Context is any information
that can be used to characterize the situation of an entity.
An entity is a person, place, or object that is considered
relevant to the interaction between a user and an application,
including the user and application themselves”. A system that
uses the context informations to act and react to environmental
instigations in a transparent way to its users can be called
context-aware system [5], term that was ﬁrst introduced by
Schilit et al. [6].
The
IoT
community
has
been
using
context-aware
paradigm in order to develop solutions for different domains,
which are classiﬁed as [2]: industrial (e.g., sales, enterprise
services, etc), environmental (e.g., recycling, energy manage-
ment, etc) or social (e.g., e-inclusion, healthcare, etc). A useful
feature for providing these domains with knowledge about
the context that they are inserted into is activity recognition
[7][8]. These activities may be seen as human or non-human
activities, e.g., environmental or system actions. They may
contain certain risks that could cause damage to the envolved
actors. In this sense, our paper focuses on activity recognition
to determine the risk level associated with it. We developed a
middleware based on the Skill, Rule and Knowledge (SRK) [9]
cognitive architecture to model the actor’s behavior in order
to provide the risk level categorization.
To test our middleware we believe that the target scenarios
would involve monitoring the activities of people who need
special care, the environmental activities (e.g., ﬁre detection)
and intrusion detection based on environmental behavior.
This paper is structured as follows: In Section II, we present
a model activity that was used in our research. In Section
III, we deﬁne the components of our middleware architecture,
their correlations and the inﬂuence of the priority system in
the information ﬂow. In Section IV, we present the work to
be done, and, in Section V, we draw our ﬁnal considerations.
II.
ACTIVITY MODEL
Since the main objective of this work requires the recongni-
tion of activities, it is necessary to understand what an activity
is and its relation to the actor’s context.
In order to design our middleware, we needed a well
deﬁned approach that could characterize an activity. In Subsec-
tion II-A, we present the Kuutti’s approach [10] to represent
the relationships between the components of the Activity
Theory.
A. Activity Theory
The basic notion behind the Activity Theory is that the
subject is participating in an activity because he wants to
achieve some speciﬁc goal. His interest is focused on an
activity’s object that he wants to use and/or modify in order to
achieve an expected result. The interaction between the subject
38
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-289-9
UBICOMM 2013 : The Seventh International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies

and the object is mediated by tools. This way, a basic triangle
of “subject”, “object” and mediation by “artifact” is created.
With the addition of “community”, the Activity Theory
allowed the representation of social and cultural contexts as
well as mediations between people and computing devices
(smartphones and other artifacts developed for pervasive envi-
ronments).
This way, the activity is turned into the basic unit of
analysis and is the most important means to develop the object
and the subject. Therefore, the simplest Activity Theory model
already offers a solid approach to the task of comprehending
the interaction between human beings and the world.
The Kuutti’s approach [10] to the Activity Theory is based
on three relationships:
•
between the subject and the object mediated by tools
and artifacts;
•
between the subject and the community mediated by
rules; and
•
between the object and the community mediated by
division of labor.
Since the subject is an active part of the community and
it has social activities, the relations between the subject and
the community as well as the community and the object are
mediated by a set of rules and the division of labor.
The formalization of the relationships between the com-
ponents of the Activity Theory allows the use of this theory
in interactions (mediation) between individuals, objects and
the community. The IoT is based on this mediation, since the
objects are embedded with sensors that provide: i) information
about the object (artifacts), ii) the presence of individuals
(rules) and iii) information about the community (division of
labor).
B. Context-aware model based on Activity Theory
The Activity Theory is an important theoretical reference
to aid the components’ explicitation that form the contextual
knowledge to be incorporated in pervasive systems. The Ac-
tivity Theory’s components can be related with the contextual
knowledge taxonomy [11], as shown in Table I.
TABLE I: BASIC ASPECTS OF AN ACTIVITY AND THEIR RELATION TO A
TAXONOMY OF CONTEXTUAL KNOWLEDGE [11]
CHAT aspect
Category
Subject
Personal Context
Object
Task Context
Community
Spatio-Temporal Context
Mediating Artefact
Environmental Context
Mediating Rules
Task Context
Mediating Division of Labour
Social Context
The Cultural Historical Activity Theory (CHAT) aspects
were mapped in a ﬂexible way, allowing two or more aspects
to participate in the same context category. The contextual
knowledge vision is based on the premise that there are
different interpretations, i.e., the contextual information in a
setting can be considered as part of the knowledge model, in
another setting as the own knowledge model. This ﬂexibility
allows the designers of pervasive systems to concentrate on the
aspects of the knowledge level instead of modeling irrelevant
details.
The taxonomy of context proposed by [12] has a pragmatic
view of construction artifacts and incorporates to the context-
aware systems the general concepts found in the Activity
Theory (Fig. 1).
user context
personal 
context
task 
context
social 
context
spatio-temporal 
context
environmental 
context
physiological 
context
mental 
context
Figure 1. Context taxonomy [12]
C. Activities Recognition
The main objective of the activities recognition lies in
recognizing the actors common activities in real situations
interpreted from the retrieved sensor data.
The activity recognition process imposes some challenges
related to interpretation because of the possibility of non-
deterministic activities by the actor. Thus, probabilistic meth-
ods are apoppriated to activities recognition process [13][14].
Many researchers have been using algorithms based on prob-
abilistic methods in order to construct activity models [15].
The comprehension of the human activities encompasses
both the activities recognition and activities patterns discovery
[15]. We extend this concept to not just humans, but different
actors as a generic way to approach the subjects being an-
alyzed. The activity recognition aims to the precision of the
detection of activities based on a pre-deﬁned activities model.
On the other hand, the activities patterns discovery focus on
the search for unknown patterns and it is directly performed
over the data from low level context without any pre-deﬁned
model.
Although both techniques differs, they aim the perfection-
ing of the user-centric computing technology. This way, both of
them are complementary, i.e., the discovery of activity patterns
is capable of helping in the activity deﬁnitions that can be
recognized and manipulated later.
III.
PROPOSED ARCHITECTURE
To develop the proposed middleware architecture presented
in Fig. 2, we relied on the layered conceptual framework for
context-aware systems [5]. We chose this framework model
because it separates in a well deﬁned manner the components
of sensoring, processing and management of the contextual
data. It also provides the advantages of extensibility and
reusability of systems. Therefore, our middleware extends this
architecture and incorporates the SRK model in order to allow
the actors’ behavior analysis.
Our work’s contribution relies in the introduction of a
specialized layer (SRK Classiﬁer) to create a well structured
39
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-289-9
UBICOMM 2013 : The Seventh International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies

Risk Analyzer
SRK Classifier
Activity Manager
Sensor State
Raw Data
Normalization
Physical Virtual Logical/Control
Raw Data Raw Data
System
Data
Formatted Data
Current Sensor Data
Activity Info
Activity Info
Activity Classification
Activity Risk Level
System Data
Figure 2. Middleware architecture proposed.
model of the user capabilities in performing some activity. It
is important because each person has abilities that makes him
more or less apt in doing a speciﬁc activity, which has a direct
inﬂuence when the risk level analysis is made. The decisions
of what should be done relies in this classiﬁcation.
In the next subsections, we introduce the components of
the proposed middleware (see Fig. 2).
A. Raw Data Normalization and Sensor State
The main goal of the raw data normalization component
is to give meaning to the raw data retrieved from the different
types of sensors (physical, virtual and logical) and format it
to some deﬁned pattern, e.g., the Message Queuing Telemetry
Transport for Sensor Networks (MQTT-S) [16] standard [17].
It is from them that the context information is gathered. As it
will be seen in section III-E, this layer gathers informations
not only from the physical and virtual sensors, but from the
logical sensors as well. These logical sensors are feeded by
the system itself, incorporating informations that already have
passed through some classiﬁcation and semantic process. This
aggregation of context information already treated allows the
system to perform more precise analysis.
The sensor state component obtains the formatted sensor
data and stores it to always provide to the above layers the
latest relevant changes in the sensors values in a formatted way.
This provisioning can be made by pushing the information
accordingly to some priority criteria (the priority system is
further explained in subsection III-E). There is also a subscrip-
tion system that works like a blackboard model [5]. To make
use of the subscription system, an activity has to subscribe
to a certain event. An event is triggered when one or more
sensores have a change in their state. In order to reduce the
amount of events triggered (since a sensor may change their
status with a really small variance) the system can deﬁne a
certain minimum percentage necessary of changes in the state
of each sensor for an event to be triggered.
B. Activity Manager
The activity manager component stores pre-deﬁned activi-
ties registered manually and a log of activities that the system
detected that happened. Each activity has associated sensors
that describe the required values for the activity to be detected.
With these informations and based on the sensors current states
the activity manager can reason and then infer if an activity is
happening, has happened or may happen. Using some learning
techniques it might be possible for the system to correlate
activities and sensors in order to identify new activities. It
is interesting to notice that an activity may be used, e.g., to
identify other activities thus acting as a logical sensor.
C. SRK Classiﬁer
The SRK classiﬁer component is proposed to deﬁne if an
activity is a skill, rule or knowledge based on the work by
Rasmussen [9], as follows:
•
Skill: actions that the actor develops routinely without
any conscious control or attention, e.g., walking with
crutches;
•
Rule: actions that need conscious control or attention,
e.g., deviate from a hole while walking with crutches;
•
Knowledge: actions where every option for solving
the task through skill and rule based routines could
not solve the problem, e.g., ﬁrst attempt to walk with
crutches.
According to Neal et al. [18], the more recent theories
see habits as automated responses stimulated by aspects in the
context or by the environment itself. The same way as humans,
intelligent systems can control their actions and reactions
based in an habitual behavior. In order to be a more generic
middleware, we noted that skills should be characterized as
habits, which makes more sense since actors can be anything
(i.e., humans, environment, systems, etc).
The analyses performed by this component uses the his-
torical data from the activity manager component and its own
classiﬁcation logs to determine which of the three classiﬁca-
tions the activity belongs to. This classiﬁcation also depends on
the frequency and duration with which the activity is realized.
Therefore, an activity may change levels, e.g., an activity that
is classiﬁed as a rule may become an habit after some time
practicing.
D. Risk Analyzer
The risk analyzer component receives a classiﬁed activity
and determines the associated risk level. This is done by
verifying the sensors’ informations (which are requested to the
40
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-289-9
UBICOMM 2013 : The Seventh International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies

activity manager) related to the activity being analyzed and its
SRK classiﬁcation. In order to clarify it, we present a simple
example: An elderly person is walking in the kitchen of his
house and its ﬂoor is wet. Our system would detect that the
walking activity is complicated for this user (by managing its
classiﬁcation in the SRK classiﬁer) and verify that the kitchen’s
ﬂoor is wet (by sensors spread in the environment). With this
informations our system can calculate the risk level associated
with that activity at that moment. This risk level can be used
by other applications to aid some sort of decision-making (e.g.,
warn the user about the danger he might be in).
The priority system was developed because many activities
may occur at the same time and that some of them may have
related sensors with an abnormal data indicating that it needs
to be processed ﬁrst thus having higher priority. In Subsection
III-E, the priority system will be discussed.
E. Data Flow and Priority System
The data ﬂow is as follows (Fig. 2):
1)
The system receives raw data from several sensors
(physical, virtual and logical/control);
2)
This data has to be normalized since it comes from
different sources;
3)
The latest formatted data from the sensors is kept
in the sensor state layer, which can be queried from
the layer above, activity manager (as presented in the
Subsection III-A);
4)
The activity manager gets the current sensors’ data
to detect activities;
5)
Since activities can be created by the system itself,
they can be used as logical sensors;
6)
The SRK classiﬁer gets activities and classify them
according to the actor;
7)
Lastly, the risk analyzer captures the classiﬁcation of
the activity being analyzed from the SRK classiﬁer
and its informations from the activity manager to
infer its risk level.
However, the system data ﬂow is affected by priorities,
which have a major role in our middleware. The system ﬁrst
uses priority in the raw data normalization component to pass
to the sensor state component the informations with higher
priority. This way, the current state of the more relevant sensors
will be updated ﬁrst acting as a prioritized queue.
It is in the sensor state component where the priority of
the sensors can be changed. As in the raw data normalization
component, the information is passed according to its priority.
The activity manager component is capable of creating a
control sensor, which is an system activity that tells the sensor
state to change the priority of one or more sensors. Besides
that the priority is only used to determine which information
goes ﬁrst to the next component, which is the same and only
function of the priorities in the SRK classiﬁer component. The
risk analyzer component has only the attribution of requesting
the activity manager to change the priority of sensors.
IV.
RESEARCH AGENDA
We intend to verify and analyze which context model is
more suitable to our middleware (object-oriented model or the
use of ontologies) and then investigate standard protocols for
the inter-layer communications (e.g., MQTT-S [16]).
After we have a complete and detailed model of our
middleware and the ﬂow of informations in it, we can specify
different scenarios in a detailed way to evaluate the middle-
ware. Since the collection of information for representing the
behavior of people would be a time and resource consuming
task, we intend to use public datasets of experiments made
with this purpose to simulate the sensors states in our test
scenarios.
V.
CONCLUSION
This paper showed a novel idea for a middleware that
analyzes the risk level of activities of some actor in a pervasive
environment. In most studied researches, we could not observe
the use a formal approach for activity recognition. So, this
paper has two contributions: the use of the Activity Theory
for modelling activities and the use of the SRK model for
their classiﬁcations.
The context in which this idea was ﬁrst conceived was
to help people who need special care. However, we tried to
design the middleware in a way that it could be used to more
generic scenarios, including actors not only as people but as,
e.g., objects or systems as well. Our aim was to provide the
capability of verifying the risk level associated with an activity
to applications with different domains. It could be applied even
for non-human activities like a burning house or an opened
door when everyone in the house is sleeping, etc.
Using the SRK cognitive architecture in our middleware
to help analyze and infer the risk level of activities seems to
be a promising technique, because it uses the aptitude of the
actor to perform some activity based on his activity historical
performance. The SRK model also allows the adjustment of
the capability classiﬁcation (skill/habit, rule or knowledge) of
the actor to perform the same activity over time.
REFERENCES
[1]
M. Weiser, “The computer for the 21st century,” vol. 265, no. 3. Nature
Publishing Group, 1991, pp. 94–104.
[2]
L. Atzori, A. Iera, and G. Morabito, “The internet of things: A survey,”
vol. 54, no. 15.
Elsevier, 2010, pp. 2787–2805.
[3]
C. C. Aggarwal, N. Ashish, and A. Sheth, “The internet of things:
A survey from the data-centric perspective,” in Managing and Mining
Sensor Data.
Springer, 2013, pp. 383–428.
[4]
A. K. Dey, “Providing architectural support for building context-aware
applications,” Ph.D. dissertation, Georgia Institute of Technology, 2000.
[5]
M. Baldauf, S. Dustdar, and F. Rosenberg, “A survey on context-aware
systems,” vol. 2, no. 4.
Inderscience, 2007, pp. 263–277.
[6]
B. Schilit, N. Adams, and R. Want, “Context-aware computing applica-
tions,” in Mobile Computing Systems and Applications, 1994. WMCSA
1994. First Workshop on.
IEEE, 1994, pp. 85–90.
[7]
C. F. Crispim-Junior, F. Bremond, and V. Joumier, “A multi-sensor
approach for activity recognition in older patients,” in The Second
International Conference on Ambient Computing, Applications, Services
and Technologies-AMBIENT, 2012.
[8]
C.-H. Lu and L.-C. Fu, “Robust location-aware activity recognition
using wireless sensor network in an attentive home,” vol. 6, no. 4.
IEEE, 2009, pp. 598–609.
[9]
J. Rasmussen, “Skills, rules, and knowledge; signals, signs, and sym-
bols, and other distinctions in human performance models,” no. 3.
IEEE, 1983, pp. 257–266.
41
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-289-9
UBICOMM 2013 : The Seventh International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies

[10]
K. Kuutti, “Activity theory as a potential framework for human-
computer interaction research,” 1996, pp. 17–44.
[11]
A. Kofod-Petersen and J. Cassens, “Using activity theory to model
context awareness,” in Modeling and Retrieval of Context.
Springer,
2006, pp. 1–17.
[12]
M. Mikalsen and A. Kofod-Petersen, “Representing and reasoning about
context in a mobile environment,” 2004, pp. 25–35.
[13]
T. Gu, Z. Wu, X. Tao, H. K. Pung, and J. Lu, “epsicar: An emerging
patterns based approach to sequential, interleaved and concurrent activ-
ity recognition,” in Pervasive Computing and Communications, 2009.
PerCom 2009. IEEE International Conference on.
IEEE, 2009, pp.
1–9.
[14]
P. Srivastava and W.-C. Wong, “Hierarchical human activity recognition
using gmm,” in AMBIENT 2012, The Second International Conference
on Ambient Computing, Applications, Services and Technologies, 2012,
pp. 32–37.
[15]
E. Kim, S. Helal, and D. Cook, “Human activity recognition and pattern
discovery,” vol. 9, no. 1.
IEEE, 2010, pp. 48–53.
[16]
U. Hunkeler, H. L. Truong, and A. Stanford-Clark, “Mqtt-sa pub-
lish/subscribe protocol for wireless sensor networks,” in Communication
Systems Software and Middleware and Workshops, 2008. COMSWARE
2008. 3rd International Conference on.
IEEE, 2008, pp. 791–798.
[17]
J. Indulska, R. Robinson, A. Rakotonirainy, and K. Henricksen, “Ex-
periences in using cc/pp in context-aware systems,” in Mobile Data
Management.
Springer, 2003, pp. 247–261.
[18]
D. T. Neal, W. Wood, and J. M. Quinn, “Habits–a repeat performance,”
vol. 15, no. 4.
SAGE Publications, 2006, pp. 198–202.
42
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-289-9
UBICOMM 2013 : The Seventh International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies

