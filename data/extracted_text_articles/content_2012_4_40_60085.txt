Comparison of Methods for Horizon Line Detection in Sea Images 
 
Tzvika Libe, Evgeny Gershikov and Samuel Kosolapov 
Department of Electrical Engineering  
Braude Academic College of Engineering  
Karmiel 21982, Israel 
e-mail: tzvika_libe1@walla.com , eugeny11@braude.ac.il (corresponding author) and ksamuel@braude.ac.il 
 
Abstract— Four algorithms designed to find a horizontal line 
separating sea from sky in real-life conditions were 
implemented and compared by their accuracy and relative 
speed. The algorithms selected were H-COV-LUM, based on 
regional covariances in luminance images, H-HC, based on 
edge detection and the Hough transform, H-LSC, based on 
maximal edge detection and the least squares method and H-
MED, based on median filtering and linear regression. Real-
life images were used for comparison. The most accurate line 
with respect to angular error was obtained by using the H-HC 
algorithm and with respect to the error in the position of the 
line by H-COV-LUM, whereas the highest speed was achieved 
by using the H-LSC method. 
 
Keywords-horizon detection; marine images; edge detection; 
median filtering; image analysis 
 
I. 
 INTRODUCTION 
The horizon line is used for different purposes, such as 
navigation in airborne and marine vehicles and military 
surveillance. A number of horizon line detection methods are 
known [1,2,5,6,7,10,11]. Some of these methods are based 
on edge detection [9], while others employ different 
techniques. Due to the variety of techniques, a comparison of 
the detection performance that they can achieve can be very 
helpful. The goal of this research is to implement and 
compare the accuracy of a number of well-known and 
modified horizon-line detection approaches.  Considering 
that in the later stages of this research the selected algorithm 
is to be implemented on a stand-alone hardware unit, 
algorithms complexity and their relative speed is also 
evaluated. 
The structure of this paper is as follows. In the next 
section we present the algorithms discussed in this work for 
horizon line detection in marine images. Then in Section ‎III 
we describe the methods and criteria used in the comparison 
of these algorithms.  Section ‎IV is dedicated to horizon 
detection results: quantitative and visual and, finally, 
Section ‎V presents a summary of this work and our 
conclusions. 
II. 
ALGORITHMS COMPARED 
Four algorithms are compared in this work. The 
motivation for their choice is comparison of local feature 
based algorithms, such as those based on edges, with global 
feature based methods, such as H-COV-LUM, that uses 
regional covariances. The H-MED algorithm extends the 
meaning of a local feature (edge) at a pixel to its small 
neighborhood and then looks for the maximal edge in the 
vertical direction. Thus it introduces a compromise between 
local and global features. No algorithms that require a 
training stage, such as neural networks and support vector 
machines were chosen for the comparison, but only simple 
low complexity methods were taken.  
The compared methods are: 
“H-COV-LUM”‎ – an algorithm that uses regional 
covariances, as introduced in [5], but calculated on 
luminance images. Although there are cases where the color 
information is important [8], in this case, using achromatic 
image data only improves the algorithm speed significantly 
with minimal loss in accuracy. 
“H-HC”‎ – using pre-processing, Canny edge detector [3] 
and Hough transform [4]. 
“H-LSC”‎ – using pre-processing, edge detection and 
calibration by the least-squares method approach. 
“H-MED”‎ – seeking for the maximal edge in the vertical 
direction, followed by median filtration in order to reject 
outlying points and linear regression. 
The algorithms are described in more detail in the next 
subsections. 
A. Regional covariance based algorithm (H-COV-LUM) 
An algorithm for horizon detection for remotely piloted 
Micro Air Vehicles was introduced in [5]. The algorithm 
receives an image taken from the air as input and searches 
for an optimal partition of the image into two regions: sky 
and ground (or sky and sea) using a line, which is the 
detected horizon. The optimization criterion is based on the 
determinants and the traces of the covariance matrices of the 
two regions. More specifically, if we denote a sky pixel by
,
,
,
,
[
 G  B ]
s
s
s
s
T
i j
i j
i j
i j
 R
x
, where 
,
,
s ,G ,B ,
s
s
i j
i j
i j
R
are the 
primary red, green and blue values at the pixel (i,j), and we 
denote a ground pixel by  
,
,
,
,
[
 
 
]
g
g
g
g
T
i j
i j
i j
i j
R
G
B

x
, then the 
covariance matrices of the regions are given by   





,
,
,
T
s
s
s
s
s
i j
i j
E


 


x
x
 


,
s
s
i j
  E
x
and 





,
,
,
T
g
g
g
g
g
i j
i j
E


 


x
x


,
g
g
i j
  E
x
.  E() 
denotes here statistical mean. The optimization criterion, 
considered for all the possible horizon line orientations and 
positions and maximized is given by [5]: 
 
79
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

(1)
 
2
2
1
,
det(
)
det(
)
(
)
(
)
s
g
s
g
J
trace
trace








 
where det() denotes the determinant and trace() denotes the 
trace of the covariance matrices 
s
  and 
g
 .  
We consider a similar criterion to the one in (1) for the 
luminance image, thus the optimization term J becomes 
2
2
1
,
var(
)
var(
)
var (
)
var (
)
s
g
s
g
J
Y
Y
Y
Y




 
     
(2)
 
where var() stands for variance and 
Y s
,
Y g
are the 
luminance values of the sky and ground regions, 
respectively. A simplified optimization criteria 
1
var(
)
var(
)
s
g
J
Y
Y


  
                                              
 (3) 
can be used instead of the one in (2) with similar results. 
Also, defining a region of interest (ROI) in the image and 
searching the horizon line only in this area speeds up the 
algorithm significantly. Alternatively, the input image can 
be down-sampled prior to the application of the algorithm to 
reduce its runtime, but this will decrease the accuracy as 
well. 
B. Edge detection and Hough transform based algorithm 
(H-HC) 
The stages of this method can be summarized as follows: 
1. Pre-process the image using morphological erosion to 
  reduce the probability of the detection of weak edges     
  in the later stages. A small circular structuring  
  element can be used here. Alternatively, the image   
  can be smoothed using a low pass filter, but we  
  found erosion to provide better performance. 
2. Apply Canny [3] edge detector to the pre-processed  
     image. 
3. Apply the Hough transform [4] to the edges map. 
4. Choose the horizon line to be the longest line 
     found in the previous step. 
C. Edge detection and least squares calibration based 
algorithm (H-LSC) 
This algorithm is based on edge detection as well, but 
uses a simple algorithm to detect the maximal vertical edge 
in each column of the image. Its stages are described below. 
1. Pre-process the image using morphological erosion. 
2. Find the maximal vertical edge in each column of the 
     image. The simplest way to measure the edge    
     strength is using an approximation of the vertical 
derivative, e.g., 
,
1,
i j
i
j
Y
Y 
. Store the (i,j)      
coordinates of the maximal edges.  
3. Use the least squares method to find the optimal line 
     passing‎through‎the‎maximal‎edges’‎coordinates.‎‎‎‎ 
     Edges with very small values as well as very big  
     ones can be discarded here for better algorithm    
     resilience to noise. 
D. Median filtering and linear regression based algorithm 
(H-MED) 
This algorithm employs median filters in several stages 
providing high performance in the presence of noise. The 
stages of the algorithm are: 
1. Pre-process the image using morphological erosion. 
2. Find the maximal vertical edge in each column of the 
     image. Here the edge at pixel (i,j) is measured as the  
     absolute difference between two median values of  
     the 5 pixels above and including pixel (i,j) and the 5  
     pixels below it, i.e., 
,
1
2
edgei j
med
med


, where 
 
 




1
,
4
5
2
,
1
,
.
i
k j
k i
i
k j
k i
med
median Y
med
median Y
 

 


 
                          
(4) 
   and. 
    The (i,j) coordinates of the maximal edges are stored. 
3. Use linear regression to find the optimal line 
     passing through the‎maximal‎edges’‎coordinates.‎‎ 
4. An optional step of median filtering can be added to  
     remove outliers. This step can be applied to the    
     vertical coordinates of the maximal edges (prior to  
     Step 3) or to the regression errors (following Step 3).   
We define the regression error as the error at       
coordinates (i,j) of a maximal edge, i.e., 
                  
,
1
0 ,
erri j
i
a j
a
 

                                 (5) 
where 
0
, 1
a a  are the optimal line coefficients found in 
Step 3. We define the median filtered error 
,
med
i j
err
as 
err,i j
 after applying a median filter. Now the outliers 
are (i,j), where
,
,
.
med
i j
i j
err
err
Th


Th  here is the   
threshold (e.g., a value of 1). 
 
III. 
COMPARISON METHODS AND CRITERIA 
Next, we describe the images and criteria used for the 
comparison of the algorithms in this work. 
A. Images used to compare the algorithms 
The results of horizon detection for a group of 9 marine 
images are presented in this work. Image input format is 
true color (24 bit per pixel) non-compressed BMP. 
Resolutions used vary from 249x169 to 900x675 pixels. 
Most images contain a horizon line separating the sea and 
the sky clearly distinguished by the human eye. However, 
sometimes the horizon line is slightly distorted by camera 
optics and sea waves or concealed by marine vessels. To 
further challenge the selected algorithms, several images 
contained clouds or sun light effects near the surface of the 
sea water.       
80
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

B. Comparison criteria 
The algorithms were compared with respect to accuracy 
and speed. The accuracy was measured for the detected 
horizon angle relative to a horizontal line (in degrees) as 
well as the height of the line above the bottom left corner of 
the image (in pixels). The errors provided in the next section 
for these two horizon line parameters are measured relative 
to the line height and angle as determined visually. The 
algorithms’‎ speed‎ was‎ measured‎ in‎ terms‎ of‎ run‎ time‎ (in‎
seconds). 
IV. 
RESULTS 
The accuracy comparison for the algorithms described 
above (height and angle deviations) is given in Table 1 in 
terms of the mean errors for 9 test images. In some of these 
images the horizon is not horizontally aligned (e.g., see Fig. 
1). As it can be seen, the angular deviation is very small on 
average for the H-LSC and H-HC algorithms. The height 
deviation is smallest for the H-COV-LUM method, based 
on regional covariances in luminance images. However, the 
fastest algorithm is H-LSC, based on maximal edges and 
least squares optimization, as seen from the run time 
comparison in Table 2. The H-COV-LUM and H-MED 
algorithms are significantly slower than H-LSC due to the 
required computations of regional covariances or local 
medians in the process of the horizon detection. 
 
Algorithm 
Mean height 
deviation 
Mean angle 
deviation 
H-LSC 
 1.92 
0.23 ° 
H-COV-LUM 
1.11 
0.47 ° 
H-HC 
1.67 
0.13 ° 
H-MED 
1.83 
0.44 ° 
 
TABLE 1. MEAN HEIGHT DEVIATION (PIXELS) AND ANGLE 
DEVIATION (DEGREES) FOR THE FOUR ALGORITHMS  
 
 
 
 
 
 
 
  
TABLE 2. MEAN RUN TIMES (SECONDS) FOR THE FOUR 
HORIZON DETECTION ALGORITHMS 
A. Visual results 
Visual results are provided in Figs. 1, 2 and 3. As it can 
be seen, all the algorithms provide similar good results for 
the Horizon_1 image (Fig. 1), although the H-COV-LUM 
method slightly misses the horizon line. This is due to the 
effect of the clouds and the sunlight reflection in the sea 
water. A similar effect can be seen for the Horizon_5 image 
(Fig. 2), where the H-COV-LUM method provides a slightly 
less accurate estimate of the horizon line than the other 
algorithms that achieve visually similar performance with 
good detection of the horizon.  H-COV-LUM is thus an 
efficient algorithm for locating the position of the center of 
the horizon line, but sometimes the line is slightly rotated 
compared to the optimal one introducing an angular error. 
The algorithm copes well with images where the sky and the 
sea are uniform in appearance even when marine vessels are 
present, but it may be confused by clouds, sun reflection 
effects (Fig. 1) and strong waves (Fig. 2). The solution to 
this may be a pre-processing stage which removes some of 
the clouds, light reflection effects and waves from the image 
resulting in more uniform sky and sea areas. This is 
currently under research. 
 
In Fig. 3, both H-COV-LUM and H-HC methods 
provide good estimates of the horizon line, while H-LSC is 
less accurate. As for H-MED, its performance is inferior to 
the others due to a bigger angular error. This method is 
more affected by the closer ship concealing the horizon line. 
The reason for the performance decrease for H-LSC and H-
MED is that both detect maximal edges at pixels of the 
larger marine vessel instead of the horizon that is partly 
hidden. Than the least squares technique or the linear 
regression employed to find the optimal line passing 
through the maximal edge locations produce a line that is 
shifted downwards relative to the optimal horizon line. The 
solution to this problem can be calculating the optimal line 
many times using partial data and then choosing the one 
passing through or close to the maximal number of edge 
pixels. This is currently under research. 
 
The H-HC algorithm, on the other hand, is robust to the 
hindrances introduced by the sea vessels in the image of Fig. 
3 due to the use of the Hough transform that detects the line 
passing through the maximal number of pixels in the edge 
map. Thus, even though some of the ship pixels are detected 
as edges, this does not confuse the method as long as more 
pixels are marked as edges on the real horizon line. 
V. 
CONCLUSIONS 
Four different algorithms for horizon detection in marine 
images were examined in this work. The techniques 
employed by these algorithms vary from using regional 
covariances of sky and sea regions (H-COV) to using edge 
detection and Hough transform (H-HC), using maximal 
edge detection and the least squares method (H-LSC) and 
using median filtering and linear regression (H-MED). The 
algorithms were implemented and compared for a group of 
test images with respect to accuracy as well as speed. The 
most accurate method with respect to the angular error was 
found to be H-HC, while the other algorithms do not lag far 
behind. The H-COV algorithm provided the highest 
accuracy when estimating the height of the horizon line 
above the bottom left corner of the image. Also when 
Algorithm 
Mean Time (sec.) 
H-LSC 
0.3 
H-COV-LUM 
2.8 
H-HC 
0.4 
H-MED 
2.5 
81
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

comparing‎the‎algorithms’‎speed,‎the‎fastest‎method was H-
LSC. We conclude that all the algorithms examined in this 
work can be used for horizon detection in still marine 
images. Moreover, the algorithms can be used also in 
images taken by infrared cameras, which is the subject of 
future research. 
 
ACKNOWLEDGMENT 
We would like to thank the administration of Ort Braude 
college and the Department of Electrical Engineering for 
providing the opportunity to conduct this research and the 
financial means to present it at the conference.  
REFERENCES 
[1] G. Bao,  Z. Zhou, S. Xiong, X. Lin, and X. 
Ye,  “Towards micro air vehicle flight autonomy 
research on the method of horizon extraction”, Proc. 
IEEE Conf. on  Instrumentation and Measurement 
Technology, 2003,  vol. 2, pp. 1387-1390. 
[2] G.-Q. Bao,   S.-S. Xiong, and Z.-Y. Zhou, “Vision-
based horizon extraction for micro air vehicle flight 
control”, 
IEEE 
Trans. 
on 
Instrumentation 
and 
Measurement, 54(3), 2005, pp. 1067-1072. 
[3] J. Canny, “A computational approach to edge 
detection”, IEEE Transactions on PAMI, 8(6), 1986, 
pp. 679-697.  
[4] R. O. Duda and P. E. Hart, “Use of the Hough 
Transformation to Detect Lines and Curves in 
Pictures”, Comm. ACM, 15(1), 1972, pp. 11–15. 
[5] S. M. Ettinger, M. C. Nechyba, P. G. Ifju, and M. 
Waszak, “Vision-guided flight stability and control for 
micro air vehicles”, Proc. IEEE Conf. on Intelligent 
Robots and Systems, Lausanne, Switzerland, 2002, pp. 
2134 – 2140. 
[6] S. Fefilatyev, V. Smarodzinava, L.O. Hall, and D.B. 
Goldgof, “Horizon detection using machine learning 
techniques”. Proc. Intern. Conf. on Machine Learning 
and App., 2006, pp. 17-21. 
[7] S. Fefilatyev, D.B. Goldgof, and L. Langebrake. 
“Towards detection of marine vehicles on horizon from 
buoy camera”. Proc. SPIE, 2007, pp. 6736:67360O. 
[8] E. Gershikov and M. Porat, “On color transforms and 
bit allocation for optimal subband image compression”, 
Signal Processing: Image Communication, 22(1), Jan. 
2007, pp. 1-18. 
[9] S. Kosolapov, “Robust Algorithms Sequence for 
Structured Light 3D Scanner Adapted for Human Foot 
3D Imaging”, Journal of Comm. and Computer, 8(7), 
2011, pp. 595-598.  
[10] K. Nonami, F. Kendoul, S. Suzuki, W. Wang, and D. 
Nakazawa, Autonomous flying robots (Springer, 
Tokyo, Dordrecht, Heidelberg, London, New York, 
2010).  
[11] Y. Wang, Z. Liao, H. Guo, T. Liu, and Y. Yang, "An 
Approach for Horizon Extraction in Ocean 
Observation", Proc. IEEE Congress on Image and 
Signal Processing, 2009, Tianjin, China, pp. 1-5.
 
82
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

   H-COV result for Horizon_1                                                               H-LSC result for Horizon_1 
 
 
H-MED result for Horizon_1                                                       H-HC result for Horizon_1 
 
 
  
 
Figure 1. Horizon detection results for image Horizon_1. The (yellow) line marks the 
detected horizon. Note the clouds and reflected light effects in this image. 
 
83
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

 
 
 H-COV result for Horizon_5                                                       H-LSC result for Horizon_5 
 
  
H-MED result for Horizon_5                                                         H-HC result for Horizon_5 
 
   
 
 
  
 
Figure 2. Horizon detection results for image Horizon_5. The (yellow) line marks the detected 
 horizon. Despite the waves and the ship present, all the algorithms detect the horizon correctly. 
84
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

 
. 
H-COV result for Horizon_6                                                     H-LSC result for Horizon_6 
 
 
H-MED result for Horizon_6                                                          H-HC result for Horizon_6 
 
 
Figure 3. Horizon detection results for image Horizon_6. The (yellow) line marks the 
detected horizon. Note the waves and the sea vessels present in this image, especially the closer one blocking the horizon. 
85
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-220-2
CONTENT 2012 : The Fourth International Conference on Creative Content Technologies

