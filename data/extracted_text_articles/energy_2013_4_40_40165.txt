Smart Energy Management System for Home Area Networks
Tan Yi, Wang Yiming, Wang Siying, Rong Hongqian,
Chang Yuan, Zhong Jianlun, Dai Xun, Tiankui Zhang,
Chaowei Wang
Beijing University of Posts and Telecommunications
Beijing, China
jp092816@bupt.edu.cn
Yue Chen, Kok Keong Chai
Queen Mary University of London,
London, United Kingdom
Yue.Chen@eecs.qmul.ac.uk;
Michael.Chai@eecs.qmul.ac.uk
Abstract - Distributed renewable energy resources systems are
becoming widely used in home area networks. These systems can
intelligently select energy resources to maintain high efficiency
power management at home and energy grids based on the power
consumption of home appliances and availability of distributed
energy harvesters. This paper demonstrates a smart strategy on
energy
source
selection
and
automatic
power
control
for
decentralized electrical equipment and appliances in a home area
network. The proposed smart strategy takes into account the
real-time electrical pricing, environmental data from sensors and
prediction
of
energy
consumption
based
on
Grey
Model
Forecasting within home. The strategy is demonstrated in a testbed
that adopts uIP stack (IPv6) in CC2530 chip.
Keywords-Energy Source Selection; Automatic Power Control;
Home Area Networks.
I.
INTRODUCTION
There
are
three
main
factors
that
characterize
energy
landscape:
the
growing
energy
demand,
the
need
for
sustainability and the global pressure to cut CO2 emissions.
With the study, by 2030, power consumption is expected to
grow from 20,000 TWh today to roughly 33,000 TWh; that's a
leap of over 60 per cent [1].
Nevertheless, the traditional grid is only a one-way energy
broadcasting network and usually has one energy source for
users. This type of energy grid topology could seriously affect
consumers’ energy utilization if there is any problem in the
energy supply, as there is no alternative source for consumers.
Therefore, consumers and utility companies are seeking more
energy efficient and sustainable solutions.
Wireless Sensor Networks (WSN) [2] have emerged as an
exciting technology for a wide range of important applications
that acquire and process information from the physical world.
Meanwhile, increased penetration of small modular generation
technologies interconnected to distribution systems form a new
type of power system. The traditional architecture of one-way
energy broadcasting network and single national energy source
in the traditional grid will be replaced by the emerging smart
grid system [3] that combines the emerging WSN application
and an intelligent distributed energy resources system. A Smart
Grid is an electrical grid that uses computers and other
technology to gather and act on information, such as information
about the behaviours of suppliers and consumers, in an
automated
fashion,
to
improve
the
efficiency,
reliability,
economics, and sustainability of the production and distribution
of electricity. The smart grid system can satisfy the requirements
of the flexibility in energy generation and selection, efficiency in
power consumption and reliability in emergency [4].
A variety of countries and regions have proposed their
development plans according to their regional features. In this
paper, we briefly introduce the smart grid in USA, Europe, and
China.
M. Lowe et al. [5] discuss the grid state in USA. Due to serial
large outages in recent years, the industry has paid more
attention to the quality and reliability of electricity. The
increasing demand
for national security and
environment
protection leads to a higher standard of grid construction and
management
In
Europe,
the
government
especially
addresses
the
environment protection. The European smart grid focuses more
on the assessment of renewable resources, the impact on the
wildlife and the real-time monitoring and remote control [6].
The European Technology Platforms (ETP) began to operate in
2005 [7] in formulating and promoting a vision for the
development of smart grids for year 2020 in compliance with
EU policy.
The grid in China exposes the weakness in dealing with the
emergencies. The lack of smart power distribution leads to the
regional and seasonal electricity shortage. Faced with these
problems, IBM proposed that it can provide a whole scheme
solution
Architecture
for
Energy
(SAFT)
for
the
power
companies in China to use the smart power grid effectively [8].
As mentioned above, smart grids in different regions in the
world are trying to achieve the goal of reliability and efficiency
of energy demand. Real-time analysis is one of the key
technologies for achieving the goal. One of the notable features
of smart grid is the rapid response to the environment changes.
The supervisory control and data acquisition (SCADA) systems
have been used in transmission networks for several decades.
They provide control centre operators with real-time data
concerning
the
network
state
and
allow remote
manual,
automatic or semi-automatic procedures [9]. The real-time
analysis is no doubt the key technique for SCADA system. The
sensors collect the data of the environment and periodically
96
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

transmit the data to near communication devices. The system
makes quick analysis of the data and generates the optimal
decisions, then it sends the control signals to end devices. The
whole procedure is completed in very little amount of time and
repeated frequently enough to guarantee the real-time of the
smart grid.
Many countries have proposed to implement smart grid
technology that focuses on how to validate intelligent control in
the
process
of
electrical
generation,
transmission
and
distribution, and how to access renewable sources on a large
scale such as district, city or country wide. However, there is a
limited development in smart energy management for home area
networks.
This paper aims at demonstrating a home area network to
integrate the technology of WSN into the traditional grid, and to
combine the family levelled distributed renewable sources into
energy grid, meanwhile, to make power consumption more
efficient. It also shows a smart strategy based on grey prediction
model [10] in energy source selection and intelligent power
control by predicting the future energy consumption and pricing
variation. Figure 1 shows the architecture of home area network
The rest of this paper is organized as follow: Section II
explains the home area network prototype and its functionalities.
The hardware implementation and the smart energy management
system implementation are explained in Sections III and IV,
respectively. Finally, the conclusion is drawn in Section V.
II.
HOME AREA NETWORK PTOTOTYPE
A.
Architecture of home area network protoype
Figure 2 shows the design of a home area network. The
intelligent motes (IMs) are integrated into the electrical switches,
wireless transmitters and variety of sensors. They are used to
collect environment information, transmit sensing and control
data.
There are current sensors, temperature sensors, infrared
sensors, optical sensors and carbon oxide sensors in this
prototype. Each sensor and mote performs according to specific
condition. The prototype divides into three parts:
a) Smart Center
Smart Center is the main controller with a wireless transceiver.
It can synthesize and analyze the information received from all
IMs; send back data to distributed IMs, information it sends such
as the real time price response to the user terminal and the
control signal to the wireless switch (control the access of
different loads and power sources). It also displays data via a
user friendly interface.
b) Energy Supply Terminal
The household has three energy resources: a green family
source, which stores electricity via distributed renewable energy
harvesters for its own use and sell it to outside; a local public
source, which is the neighbourhood energy storage and the
neighbourhood electricity seller; and a national grid source
which consistently provides power to neighbourhood household.
The IM connected to green family source reports the household
resource’s condition to the smart center regularly and in the
charge of energy source selection by controlling the five
electrical switches.
c) Home Appliance Terminal
Each home appliance is connected with an IM. The IM
collects sensor information from its appliance and forwards it to
smart centre or other IMs; it also controls its appliance
according to the suggested strategy.
B.
Main Functionalities of the prototype
a) Data Transmission and Prediction
Energy consumption data collected by IM is sent to and
stored in smart center which applies Grey Model (GM)
prediction to make control decision.
b) Energy Resource Selection
Based on energy consumption prediction, condition of green
family resource and the real time electrical pricing, the smart
center decides the energy resources to run the household
appliances and electrical equipment, and advises whether the
surplus energy from the household resources can be resold to the
local public resource.
c) Intelligent Power Control
Each IM can make automatic response in consideration of the
characteristics of its connected home appliances and the
environmental condition.
d) Remote Comtrol through Mobile Devices
Authorized users can view the household electrical condition
on mobile phone in real time, to read the energy consumption
and its cost. It also controls the strategy of each home appliance.
C.
Use Case
a) Real Time Charge Response
Each IM connected to the users will transmit its power usage
status to the smart meter by wireless communication, and with
the aid of users’ historical records of power usage (stored in a
database), the Smart Center could respond to the power usage
Figure 2. Smart Energy Management
Figure 1. System Architecture of Home Area Network prototype
97
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

immediately based on a given algorithm and feedback the real
time charge to users in time.
b) Automatic Source Access Selection
With adding the distributed renewable energy harvester, each
house has options to choose source. The determination for
power choice will be realized in consideration of a variety of
factors:

The future prediction and current energy consumption of
user terminal;

The energy generation prediction of the distributed energy
harvester;

The real-time price variation.
Generally speaking, the priority of energy source access is
depended on the contrast of the current power charge of main
grid source and the distributed source, the lower price, the
higher access priority.
c) Emergency Control to User Terminal
By wireless communication, the smart meter can actively
restrict some part of users’ power need in some power shortage
condition. For instance: if there is earthquake happened, the
main grid is partly destroyed and cannot provide power to this
region in time, plus the limited ability of renewable energy
source, it cannot provide enough power to all the users
simultaneously, and by remote controlling wireless switches, the
smart meter can restrict some factories’ power usage and focus
the power supply to the some more important users immediately,
like hospital, transport & communication station and so on.
III.
HARDWARE IMPLEMENTATION
A.
Intelligent Mote
Intelligent motes are the primary important components for
achieving the distributed strategy and the execution of the
command from the centre. They are connected to appliances or
the energy supply and switches. Each of them consists of
CC2530F256 and the peripheral circuit containing necessary
sensors.
In the mote, sampling resistor circuit is used to sensing the
circuit. And the output is converted to digital numbers by
TM7709 which is an analogue to digital converter (ADC). The
voltage value is measured in a similar way. Then the power
consumed by the appliance is computed by multiplying the value
of the current and the value of the voltage. The energy
consumption data is sent to the centre every 3 seconds to help
the smart strategy of the centre. The hardware of our motes is
shown in Fig 3.
B.
Smart Appliances
The circuit in the prototype is a direct current circuit whose
voltage is below 5V. There are three appliances (Figure 4) in the
prototype. A led lamp panel simulates the lighting in the house.
A LED simulated the washing machine. There is also a fan
which can response to the environmental parameter smartly.
They send their energy consumption data to the centre every 3
seconds.
a) Lighting
The lighting can decide whether to switch on or off based on
the data sensed from the light sensor and the infrared sensor.
Meanwhile, it send its working state (the light intensity) when it
is on to the centre every 3 seconds.
b) Washing Machine
It receives the data of electricity price from the centre every 3
seconds. Customer can schedule the completion time of a
washing task, set a desired threshold price. In a period before the
latest starting time corresponding to the completion time, the
price is regularly checked and when the price is lower than the
threshold, the washing machine starts washing. It reports to the
centre when it starts working.
c) Fan
The fan can decide whether to switch on or off and the speed
based on the data from the infrared sensor and the temperature
data sent by the centre. Similar to the lighting, it sends its
working state (the speed) when it is on to the centre every 3
seconds.
C.
Energy Supplies
In our prototype, a solar panel (Figure 5) is used as renewable
energy source. An intelligent mote is connected to it, senses the
value of energy generated and reports to the centre. Moreover,
the switches which control the power access are connected to the
mote. The centre sends commands of energy supply selection to
Figure 4. Smart Appliances and Information Network
Figure 3. Hardware of Mote
Figure 5. Solar Panel & Source Switches
98
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

this mote. Then the mote chooses the corresponding energy
supply using the switches.
D.
Information Network.
Two-ways communication allows the information change
between the intelligent motes and the centre. Star topology
network is adopted in our prototype. The intelligent motes are
the children nodes and the mote connected to the centre PC is
the parent node. Every node has an ipv6 address and they
communicate based on 6LowPAN. Contiki is the operating
system used in the mote. The standard protocol in the lower
layer is 802.15.4. And we adopt the uIP stack which is a
lightweight open source TCP/IP stack in the Contiki system.
IV.
SMART ENERGY MANAGEMENT SYSTEM
A.
Software Design Pattern
Figure 6 shows the design pattern of software architecture.
All data including power consumption, working state from
intelligent mote will be received and stored into a database. The
software center will access the database every 3 seconds, making
prediction and decision for power source selection, all these
result data will be fed back to IM, meanwhile it will be stored
into the database. Webpage can access the database, showing
wanted data on the mobile terminals, which can help users check
the condition for their appliance and energy whenever they want
and wherever they are. They can also interact with the webpage
and all their command will be sent to the corresponding mote
and also stored into the database, and could be processed by the
software centre for the next 3 seconds cycle.
B.
Data Flow
Figure 7 shows the data flow chart of the proposed smart
energy management.
Smart Center is designed for data processing and decision
making. It will receive 3 kinds of data from outside environment
every 3 seconds: 1) power comsumpution for each appliance; 2)
power generation from home harvester; 3) Real-time electricity
price of other power supply. And based on source 1 ) and 2) ,the
center can make prediction for future demand and generation.
When all data is ready, the center will make decision on souce
selection. If the decision alters, it will send the change to the
mote which controls the sower source, and update otherwise the
center will process the data for the next 3 seconds.
C.
Prediction Algorithm
The prediction takes advantage of the modelling mechanism
from the traditional GM (1, 1) model [11]. Every 3 seconds, the
system forecasts a series of future data by using previous
collected energy consumption data as original series.
Via pre-processing, 8 individual points of average power
consumption which is based on the recent 80 points. It is
donated as X(0) {X (0) (1), … , X (0) (8)}. Taking them as raw series
to get the one-accumulation series X (1) {X (1) (1), …, X (1) (8)},
where
.
(1)
X
(1) satisfies the following grey differential equation, of
which the winterization form is
, where a is
called developing coefficient, and b is called grey input. They
can be retrieved by the following equations:
(2)
(3-5)
Then deduce the subsequent series xˆ(1) by using the a, b get
above,
.
(6)
Finally, implement inverse accumulation on xˆ(1) (k ) will get
the prediction series:
, where k 1, 2,3 … 8.
(7)
Figure 8 illustrates a sample of predicted results based on the GM.
D.
Energy Source Selection
Power selection is an important part in the prototype software
design. Every 3 seconds, the center will go through a decision
process. Based on the overall power consumption, and energy
generation, the center will first make prediction for demand and
supply. On stage 1, the center will tell whether family power
supply can meet the demand for short period (30s in the
prototype). If yes, it will go to stage 2, otherwise it will use
external power supplies. On stage 2, the center will further judge
whether the home power supply can meets demand for a longer
time, if yes, it will go to stage 3, otherwise it will use external
Figure 7. Data Flow Chart
Figure 8. Sample of predicted results
Figure 6. Software Architecture
99
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

supplies when their price are lower than the set price for home
supply and family can store power in case of future lack of
electricity when external price is high. On stage 3, the center
will make decision whether to make money by selling electricity
to other sources, so that the family can make extra profits by
their green energy harvester.
E.
User Interface
Figure 9 shows the user interface of the smart control for
smart energy management system.
The interface is implemented with PHP Language. We can
remote view the state and control operation of the family
appliances.
V.
CONCLUSION
Overall, this smart energy management system for home area
network focuses on optimizing the energy efficiency and
advocating the penetration of green energy into household. This
demo implements the idea by establishing wireless sensor
communication network and proposing an algorithm for energy
resource selection and intelligent power control in response with
environmental factors, real time consumption demand and
pricing information. In the future, this algorithm can be further
developed by allocating part of center’s prediction work to
distributed nodes, to make forecasting faster with lower energy
consumption, and at the same time, to improve the reliability of
the control system.
VI.
ACKNOWLEDGEMENTS
The authors would like to thank Joint Programme (an
innovative
set
of
jointly
run
degree
Programme
in
telecommunications,
systems
and
networks
with
Beijing
University of Posts and Telecommunications and Queen Mary
University of London) for supporting this work.
VII.
REFERENCE
[1]
Siemens
Energy Corporation, “A
smart approach to the future”,
http://www.ngpowereu.com/article/A-smart-approach-to-the-future/.
[2]
Y. Jia, Z. Yang and B. Cao; “Research on Distributed Renewable Energy
Power System”; Power Electronics, 2005.
[3]
Lowfield Heath, “Renewable Energy Commercialization: Renewable
Energy in Australia, Dye-Sensitized Solar Cell” ISBN 978-1-157-71383-8
[4]
Energy Future Coalition, “Challenge and Opportunity: Charting a New
Energy Future,” Appendix A: Working Group Reports, Report of the
Smart Grid Working Group.
[5]
M. Lowe, H. Fan and G. Gereffi, “U.S. Smart Grid，Finding new ways to
cut carbon and create jobs”, Center on Globalization, Governance &
Competitiveness Duke University, 2011.
[6]
European Commission, "Vision and Strategy for Europe's Electricity
Networks
of
the
Future".
Smart
Grids
European
Technology Platform, 2006.
[7]
V. Salehi, A. Mazloomzadeh and O. Mohammed, ”Real-time analysis for
developed laboratory-based smart micro grid”, IEEE Power and Energy
Society General Meeting, 2011.
[8]
J. Lu, D. Xie and Q. Ai, “Research on smart grid in China”, Transmission
& Distribution Conference & Exposition: Asia and Pacific, 2009.
[9]
D. Zhang, “The improvement of the self-healing smart grid compared to
traditional grid”, Yunan Electric Power, Vol. 38, No.4, Aug. 2010.
[10]
S. Liu and J. Deng, “The Range Suitable for GM (1,1)”, Systems
Engineering Theory & Practice, 2000.
[11]
X. Wang, H. Wang and L. Hou, “Electricity Demand Forecasting Based
on Three-point Gaussian Quadrature and Its Application in Smart Grid”
International Conference on Wireless Communications Networking and
Mobile Computing (WiCOM), 2010.
Figure 9. User Interface
100
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

