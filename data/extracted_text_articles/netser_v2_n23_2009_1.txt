 
1
The VERHO Mobility Management System for Heterogeneous Network 
Environments 
Tapio Väärämäki  
 
Department of Mathematical Information Technology 
University of Jyväskylä 
Jyväskylä, Finland 
 
Abstract— In this paper we present our solution for intelligent 
network interface selection and (vertical) handover control for 
heterogeneous multi-access environments. The 4th generation 
mobile communication system is seen here as a combination of 
several access technologies optimized for different purposes. A 
combination of these access technologies can constitute, with 
intelligent control, a 4G access with capabilities to support 
various application and user requirements and preferences. A 
policy based vertical handover controller system, called VERHO, 
utilizes input from several cross-layer sources, the Mobile IPv6 
protocol and network interface selection to achieve both 
proactive and intelligent vertical handovers between a variety of 
access interfaces. Real-time link status information, access point 
scanning support, user profiles, policies and Multiple Attribute 
Decision Making algorithms provide flexibility in interface 
selection and result in an Always-Best-Connected access for the 
user. We present the VERHO architecture, discussing and 
showing the possible benefits of the system for the future. 
 
Index Terms — Multihoming, Wireless, Heterogeneous, 
Interface Selection, 802.21, Media Independent Handover 
 
1 
INTRODUCTION 
In the last few years the number of mobile devices, as well 
as access technologies, have increased and this tendency is 
expected to continue. The number of cellular subscribers has 
increased exponentially since the beginning of the 1990’s, and 
even more accelerated growth is expected with the advent of 
3rd generations networks (3G). Also, the development of 
mobile devices is now leading us to a direction where we can 
have multiple access interfaces on a single device enabling a 
variety of network services. Even today, advanced cellular 
phones can support multiple access technologies in addition to 
traditional cellular ones, e.g. Wi-Fi, and Bluetooth. 
The deployment of current wireless technologies is rapid 
and on-going. The properties of wireless technologies differ in 
several attributes. The access technologies can be divided into 
Wireless Wide Area Networks (WWAN), Wireless Local 
Area Networks (WLAN) and Wireless Personal Area 
Networks (WPAN), mainly according to their offered 
coverage area. In [1] the authors introduce the term wireless 
overlay networks, which reflects the fact that several access 
technologies will co-exist in the future and their coverage area 
will overlap. The term overlay refers to overlapping networks, 
where WWAN, WLAN and WPAN networks constitute the 
different layers of access technologies. Also, the access 
technologies will have different characteristics related to 
several technology-specific parameters, such as Quality-of-
Service (e.g. delay, jitter), bandwidth, coverage area, cost, 
power consumption and security [2].  
 
 
In considering several of the technology parameters and 
users and applications with different needs and requirements, 
it is generally thought that no access technology will or even 
can be superior to other technologies. Due to their partly 
conflicting characteristics, as well as physical restrictions, 
maintenance, deployment costs, etc. none of the access 
technologies meet all the demands of modern communication. 
On 
the 
contrary, 
access 
technologies 
of 
different 
characteristics are converging into one heterogeneous, but 
ubiquitous 
access 
network, 
where 
different 
access 
technologies with different parameters complement each 
other. We refer to these kinds of networks as 4th generation 
networks (4G).  
1.1. Fourth generation communication system 
A fourth generation communication system can be thought 
of as a combination of network technologies with different 
characteristics. References [3] and [4] discuss related visions 
and research challenges. The key features of 4G networks are 
• 
High usability – access anywhere, anytime and 
with any technology 
• 
Support for multimedia services at low cost - 
access and communication speed 
• 
Personalization – Always-Best-Connected concept 
• 
Integrated services – Quality of Service 4G 
networks will be entirely packet based. 
For this reason, the core networks (CN) of cellular systems 
are evolving into packet switched networks based on the 
Internet Protocol (IP). IP is generally thought of being the 
integration layer for all the access technologies and 
applications [4]. The term All-IP (i.e. Native IP) refers to the 
integrating nature of the Internet Protocol [5]. Also, with the 
success of Voice over IP (VoIP) technologies, voice 
110
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
2
communication is evolving towards IP connectivity, and 
Session Initiation Protocol (SIP) is seen as the most likely 
enabling technology. Every kind of content has to be 
accessible with good quality (or diverse set of qualities) and at 
a reasonable cost anywhere, anytime and with any technology, 
without compromising service security. 
The vision discussed above creates many research 
challenges. Here we focus mainly on the above 3rd layer 
challenges, link technology specific technology challenges 
(such as adaptive coding/modulation, multiple antenna 
technologies) being out of scope. For example, [3] divides the 
research challenges into mobile station, system and service 
categories.  
Terminals need to be capable of discovering different 
wireless systems by scanning. Traditional technology specific 
(Layer 2) scanning techniques might not be enough for 
selecting the best usable link at each point in time. The 
decision of the best link is dependent on many parameters, but 
taking into account multiple different parameters can render 
the decision making complex. Thus the question arises: What 
is the sufficient level of complexity to come up with optimal 
decisions? The aim is towards Always-Best-Connected (ABC) 
access [6]. Reference [7] discusses different enabling 
technologies, such as different protocol stack enhancements, 
mobility support and End-to-End QoS support, to provide 
ABC.  
From the system point of view, efficient mobility and 
location management of mobile devices is important. Mobile 
IPv6 [8] is quite successful in trying to solve this problem, but 
the handover processes cause an increase in system load, high 
handover latency and packet losses, and require some 
improvements. Also, heterogeneous networks induce some 
additional problems related to interface selection and 
simultaneous access. Moving networks (NEMO) create some 
additional research challenges to mobility management 
protocols. To provide End-to-End Quality-of- Service (QoS) 
requires access technology independent QoS procedures. 
Basically IP or higher layer QoS architectures (e.g. 
differentiated or integrated services) or possibly mapping 
procedures with different QoS mechanisms [7] are needed. 
Security and privacy solutions need to be flexible due to 
various technologies and devices (varied capabilities, 
processing powers, security needs, etc) in use. Technology 
dependent solutions might not be the most suitable ones, but 
some upper layer solutions could be feasible. Single sign-on to 
the network is needed. At system level, also fault tolerance 
must be solved (e.g. hierarchical system or overlapping 
network) to provide users sufficient QoS [3]. 
In the future a consumer is no more dependent on any 
single provider, thus he/she might be a customer to several of 
them, possibly using their services simultaneously. For these 
new business architectures, accounting procedures and 
accounting data maintenance is needed. For the operator, new 
ways of gathering the surplus is needed because of the 
increasing usage of unlicensed networks. New challenges 
include also an open access model, where a municipal 
network is seen as a part of the general infrastructure and is 
built without a profit making operator [21]. Service based 
approaches seem to be the current view. Traditional billing 
systems (technology and transaction dependent) might go out 
of fashion altogether. In this paper we concentrate on 
technical issues related to mobility management with interface 
selection in heterogeneous environments. Even though we do 
not depend on Mobile IPv6, we consider it to be the most 
likely choice for forming the foundation for IP mobility 
management. 
There exist several related projects, both within and outside 
the standardization bodies, which study the field of IP 
mobility management to fulfill the needs of users and 
applications 
in 
upcoming 
heterogeneous 
wireless 
environments.  
1.2. Related research 
Internet Engineering Task Force (IETF) standardized the 
Mobile IPv6 (MIPv6) protocol in its Mobility for IPv6 (mip6) 
charter, in June 2004. Since then, several other charters have 
been working on enhancing the MIPv6 functionality, with 
performance, reliability, multihoming, etc. in mind. For 
example 
• 
MIPv6 signaling and Handoff Optimization 
(mipshop), 
• 
Mobility EXTensions (MEXT) [18] working 
group for IPv6. Among others, it includes 
multihoming and firewall issues, mobile node 
(MN) 
bootstrapping 
with 
Authentication, 
Authorization & Accounting (AAA) and IPv4-
IPv6 dual stack solutions, 
• 
Proxy Mobile IPv6 (PMIP) [19] for network based 
mobility management, 
• 
Shim6 [20] is a network layer approach for 
providing the split of locator/identiﬁer of the IP 
address, so that multihoming can be provided for 
IPv6 with transport-layer survivability 
 
The Institute of Electrical and Electronics Engineers (IEEE) 
802 working groups have traditionally focused on different 
access technologies, but in IEEE 802.21 [9] the researchers 
have worked on Media Independent Handover (MIH) services 
focusing not only on one specific access technology but on 
handovers and interoperability between different access 
technologies, including both 802 and non-802. It is introduced 
in more detail in Section 3. 
In [10, 11, 12] the authors of these papers present policy-
based interface selection procedures and architectures to 
support multiple access interfaces. They aim to provide 
mechanisms to make dynamic interface selection decisions. 
1.3. Problem statement 
Mobile IPv6 [8] handles the IP mobility management in an 
application transparent way. The applications are unaware of 
the links in use and about possible handovers taking place. 
The 
application 
flows (and possible transport layer 
111
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
3
connections) do not break even though the MN is moving 
between IP subnets. But the procedures related to the 
handovers result in a period of time when the MN cannot send 
nor receive data. This handover (or handoff) delay time causes 
packet loss and possibly packet retransmissions (in case of 
reliable transport protocols). The objective is to minimize the 
delay to offer the applications seamless connections in 
addition to non-breaking ones.  
In case where the MN has multiple active interfaces (and 
links), one has to choose which interface to use. Pure MIPv6 
implementations usually have some static priority for each 
interface, and the interface with the biggest priority is chosen 
for use. However, static priority based interface selection may 
not be sufficient for users with different preferences nor for 
applications with different demands in heterogeneous 
environments [13]. 
The objective is to find ways to provide Always-Best- 
Connected access for different users with a minimum user 
intervention. 
1.4. Paper outline 
In Section 1 we presented previous and on-going research 
work related to the challenges of 4G systems. Section 2 
presents the VERHO system architecture. Section 3 amends 
the VERHO system with the IEEE 802.21 standard, and 
Section 4 introduces two prototype applications that can 
benefit from VERHO’s knowledge of the link and handover 
information. Section 5 discusses the VERHO architecture and 
its benefits in a heterogeneous environment. Section 6 
concludes the paper and presents some ideas for future work. 
2 
VERHO CONTROLLED MOBILITY 
2.1. Overview 
The VERHO system is designed to manage available 
interfaces, links and access points in a multi-interfaced mobile 
IP-networked 
device. 
Basically, 
the 
system 
gathers 
information about available interfaces (link types, access 
points, etc.), decides dynamically during run-time about how 
the interfaces could be utilized best and performs IP 
handovers using Mobile IPv6.  
The system has a cross-layer design, since the goal is to 
provide link information to interested layers. Figure 1 shows 
which layers VERHO interacts with. 
• 
Link Information Provider (LIP) extracts link 
information from network interfaces (Link Layer), 
• 
Link Access Controller (LAC) gets information from 
LIP and controls MIPv6 handovers (Network Layer), 
• 
Applications can utilize information provided by LIP 
and LAC (Application Layer), 
• 
Users can set their profiles through a Graphical User 
Interface (GUI) and see some statistics from the 
underlying system. 
 
 
Figure. 1. VERHO cross-layer interaction 
2.2. System architecture 
The system consists of several modules, each with a 
dedicated purpose. The following chapters revisit all of them. 
Figure 2 shows a high level overview of the architecture. The 
components communicate with each other over Desktop Bus 
(D-BUS). D-BUS is a messaging bus mainly for local inter-
process communication (IPC) and remote procedure call 
(RPC) on a single host. 
 
 
Figure. 2. VERHO D-Bus architecture 
 
The core VERHO system consists of the Link Information 
Provider (LIP) and the Link Access Controller (LAC). The 
task of LIP is to keep an up-to-date information database 
about the available links and provide some control functions 
(e.g. connecting to Access Points). LAC gathers link 
information from LIP and makes decisions regarding the 
usage of available links; moreover, it controls Mobile IPv6 
when IP layer handovers are needed to be accomplished.  
The system has a GUI for controlling and monitoring 
purposes and it uses D-BUS to get link information from LIP 
and to control the system via LAC. Just like the GUI, other 
applications can utilize the features of LIP and LAC. For 
example, all of the developed mobility aware demonstration 
applications use LIP and LAC over D-BUS.  
From a more technical point of view, the whole system is 
implemented in a Linux environment. Mobile IPv6 for Linux 
v2 (MIPL2) is used as the MIPv6 implementation with some 
D-BUS interface additions. The whole system is developed in 
user space. The GUI and the demonstration applications are 
112
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
4
written using GIMP Toolkit, G-Streamer, and Java Media 
Framework. 
2.3. Link Information Provider 
The task of LIP is to extract information about the available 
network interfaces and links [15]. This information is then 
made available over D-BUS for consumption. LIP consists of 
two main parts, the Link Module (LM) and the Access Point 
Module (APM). Figure 3 shows a high level architecture 
overview of LIP. 
 
Figure. 3. High level LIP architecture 
 
2.3.1. 
The Link Module 
LM extracts information from interfaces. It supports IEEE 
802.11 WLAN, Bluetooth, General Packet Radio Service 
(GPRS) / Universal Mobile Telecommunication System 
(UMTS) and wired IEEE 802.3 Ethernet interfaces. Each 
technology is managed by a separate technology-specific 
submodule and these submodules export a common interface. 
In this way it is easy to extend the system with new access 
technologies.  
Link information is provided by two means. Whenever an 
event takes place in a monitored interface that the LM is 
capable of listening to or when a new interface appears, a 
signal is sent over D-BUS carrying the new link information. 
Also, consumers can ask LIP (using RMI over D-BUS) for 
information about a specific interface or about all the 
interfaces.  
The information provided by each access technology is 
quite heterogeneous. Even if the same information can be 
extracted from two different technologies, conversion to a 
common dimension may be necessary. For this reason LM, in 
addition to providing raw link information, provides unified 
link information for link parameters whenever that makes 
sense. Table I shows some of the link parameters that are 
unified by LM. The Parameter Name column shows the name 
of the parameter after unification.  
Signal Strength is somewhat special among the information 
provided by LM. Its value is the source for the Link Going 
Down and Link Coming Up indications. 
Signal Strength dimension value is a dynamically calculated 
unified value. For WLAN it originates from Signal to Noise 
Ratio (SNR), for Bluetooth from Link Quality and for GPRS 
from Signal Quality. Its range is from 1 to 5 and is calculated 
by dividing the technology specific value (e.g. SNR in the 
case of WLAN) into five ranges using hysteresis. For more 
specific information on the classification of the signal quality, 
refer to [15].  
TABLE I 
UNIFIED LINK PARAMETERS 
Parameter name 
Dimension 
Signal Strength 
Integer value between 1 and 5 
Tx Power level 
Converted to dBm 
Bitrate 
Converted to kbps 
 
Besides providing information, LM helps consumers by 
indicating the actual cause of the signaling of link 
information. Some of these indications can be seen in Table II. 
 
2.3.2. 
The AP Module 
The AP Module (APM) provides information and 
controlling facilities for Access Point management. It supports 
802.11 
WLAN, 
Bluetooth 
and 
GPRS/UMTS 
access 
technologies. Just like LM, APM supports these access 
technologies via specific submodules in order to make the 
TABLE II 
LIP LINK INFO INDICATIONS 
Indication 
Description 
Common 
NewIface 
A new interface or interface change 
DelIface 
Interface disappeared (i.e. removed from 
the computer) 
NewLink 
Link established on interface 
DelLink 
Link deleted on interface 
IfUp 
Interface administratively enabled 
IfDown 
Interface administratively disabled 
LinkComingUp 
The link on the interface is becoming 
available 
LinkGoingDown 
The link on the interface is becoming 
unavailable 
ChgIfName 
Interface name changed 
ChgTPL 
Tx power level changed 
ChgSigStr 
Signal strength changed 
ChgBitrate 
Bitrate changed 
ChgRMAC 
Remote MAC changed (i.e. AP change) 
WLAN 
ChgWLANName 
WLAN name of interface changed 
ChgSNR 
SNR changed 
ChgEnc 
Encryption got enabled or disabled 
ChgESSID 
ESSID changed 
Bluetooth 
ChgDevID 
Device ID changed 
ChgLQ 
Link Quality changed 
GPRS 
ChgSQ 
Signal quality changed 
ChgBER 
Bit error rate changed 
ChgPC 
Power consumption changed 
 
113
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
5
system easily extensible. Also, the technologies to access the 
link layer are the same as with LIP. AP information is also 
heterogeneous and varies between access technologies. Table 
III shows various information provided by APM. 
APM manages an AP list for each supported access 
technology. AP information is sent to consumers in the same 
two ways as for LM. On events affecting APs, signals are sent 
to D-BUS about the change. Such changes can be 
• 
New AP appeared 
• 
AP disappeared 
• 
AP state changed 
2.4. Link Access Controller 
The logic of the VERHO system resides in the Link Access 
Controller (LAC). LAC consumes LIP (LM and APM) 
information and controls MIPv6 handovers. The modifications 
to the MIPL implementation have been kept at a minimum 
level to support easy code portability to other implementations 
and protocols. 
LAC manages a single list of all the interfaces. Each 
interface is assigned a flag and a preference value. The flag 
can indicate 
• 
The interface state: Enabled or disabled. 
• 
Preference Value calculation: Automatic or 
Manual. 
• 
Interface state management: Automatic or Manual. 
 
If the interface state is Disabled, the interface is not allowed 
to be used by MIPv6, i.e., no Care of Address (CoA) on the 
interface can be registered with the Home Agent (HA) or 
Corresponding Nodes (CN). By default, LAC manages the 
interface state automatically, that is, it enables and disables 
according to specific events (information received from LIP). 
The interface state can also be managed manually, in which 
case it is the responsibility of an outside party (e.g. an external 
application). 
Preference values for interfaces are calculated by LAC 
dynamically and they change due to changing link 
information. Just like interface state management, preference 
value calculation can also be managed manually by some 
outside party, e.g. an operator, for load balancing purposes. 
At any point in time, the interface in an Enabled state and 
with the highest preference value is chosen to be used. In case 
where there are several available connections with similar 
properties, a hysteresis or extra interface specific priorities 
might help in avoiding ping-ponging.  
 
2.4.1. 
Preference Value Calculation 
Preference values are calculated using the Simple Additive 
Weighting Multiple Attribute Decision Making (MADM) 
method. This method fits very well for the purpose of 
choosing among interfaces by taking into account multiple 
interface characteristics.  
LAC uses the unified link information provided by LIP 
(shown in Table 1) to make its decisions. Each link 
characteristic is assigned a weight, which describes the 
importance of the given characteristic. A weight vector 
consists of a weight for each characteristic and defines a 
Profile. An outside party can supply or change profiles on-the-
fly. Profiles can represent, for example, user demands, in 
which case the outside party is the user. The controlling 
interface (see Subsection 2.5) is used to define and activate 
user profiles. 
TABLE III 
AP INFORMATION 
Access technology 
AP Information 
WLAN 
ESSID, MAC addr, channel, bitrate, 
noise, signal quality 
Bluetooth 
AP name, MAC addr, Link quality, 
TX Power level 
GPRS 
AP name, IP protocol 
 
The weighted average is calculated by Formula 1. 
∑
∑
=
=
=
p
j
j
j
i
p
j
j
i
w
r
w
pv
1
,
1
*
 (1) 
pv  is the preference value of interface i, w  is the weight of 
characteristic j, r  is the value of characteristic j for interface 
i. In [16] different multiple attribute decision making 
algorithms with simulations are analyzed in more detail . 
MADM methods provided good flexibility due to the 
possibility of several affecting parameters. We also proposed 
an algorithm combining MADM algorithms aiming at the 
shortest distance from the optimal solution
i
j
i,j
. 
2.5. Controlling and monitoring GUI 
Comui is the controlling and monitoring interface for the 
VERHO system. It is a graphical interface developed with the 
GTK+ toolkit and is available for the Linux based Maemo 
platform. Comui allows users to monitor and control the 
system and choose how much they want to participate in the 
link selection decisions. In addition to regular Linux PC, the 
VERHO prototype is developed for Nokia N770 Internet 
Tablet running the Linux based Maemo operating system. The 
screenshots are from the Maemo version. 
A screenshot from the main screen can be seen in Figure 4. 
The user can see a list of different available network devices 
in the Type column (mobile phone, cable link and WLAN). 
The E/D column indicates whether the device is enabled or 
not, and the Rank column shows the calculated ranking value 
for each network device. Currently WLAN has the highest 
ranking (Active profile is Prefer Bandwidth) and thus it is the 
active device.  
 
 
114
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
6
 
Figure 4. VERHO GUI main screen 
 
The profile management screen is presented in Figure 5. 
The user can define different profiles according to his/her 
needs and preferences. For example, in the situation depicted 
in Figure 5, the user prefers bandwidth and thus the profile 
has a high weight and parameters on bitrate, some weight on 
the signal strength to have a good quality connection and no 
weight on power consumption. 
 
 
Figure 5. VERHO profile definition screen 
 
Figure 6 shows the desktop applet, where the user can 
choose the best profile according to current needs. The applet 
shows also the currently used network interface. The 
operational principle is similar to mobile phones or laptops, 
where the user can define sound and battery profiles, e.g. “no 
sounds” or “beeping” on mobile phones and “maximum 
performance” or “stretch battery” on laptops. 
 
 
Figure 6. VERHO desktop applet with profile changer 
3 
IEEE 802.21 AND INTEGRATION WITH VERHO 
3.1. IEEE 802.21 Media Independent Handover 
overview 
The IEEE 802.21 standard introduces a MIH Function, 
which is located between L2 and upper layers, i.e. IP or MIP. 
It defines generic SAPs and primitives for both upper and 
lower layers. The MIH function consists of three services:  
The Media Independent Event Service (MIES) signals the 
state changes of lower layers, the Media Independent 
Command Service (MICS) provides control for higher layers, 
and Media Independent Information Service (MIIS) serves 
information about the current and neighboring access 
networks. The functionality is introduced in Figure 7. 
 
Figure 7. The MIH Function is located Between Layer 2 and Layer 3, defining 
a so called Layer 2.5. 
 
MIH Function works as a generic link layer instance for 
upper and lower layers. It makes it possible to transmit unified 
information from lower layers to upper layers, regardless of 
the access technology used. To be able to acquire all required 
information, access technologies must be amended by 
technology specific Service Access Points (SAP). They are to 
be defined in IEEE standardization bodies such as 802.11u 
(SAPs for Wi-Fi) [22] and 802.16g (SAPs for WiMAX)  [23] 
and in 3GPP/2 . 
115
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
7
For the mobility management system, MIH Function works 
as an information unifier which collects information from 
networks, but does not decide anything. Thus handover 
policies are out of the scope of the standard, and it requires a 
mobility management system to work with. 
3.2. Integration with the VERHO mobility management 
system 
After following the development of 802.21 for a while, 
there was a decision to study how an integration of MIH 
Function and the VERHO system could be implemented. The 
functionality of MIH Function is pretty much similar to the 
LIP module, even though there are several advantages MIH 
Function has.  
 The 
biggest 
challenges 
regarding 
link 
information 
collecting can be identified to three categories. 1) The amount 
of information the LIP module collects is limited to a number 
of parameters supported in each access technology. Also, the 
provided information is not unified, so the name of parameters 
and parameter values must be converted to a common scale. 
Also, all the parameters are not supported in every 
technology. 2) Currently, scanning is the only way the LIP 
module can collect the information. Every time that 
information needs to be collected, the specific access interface 
must be activated and power intense activities performed. 3) 
Finally, probably the biggest challenge with LIP is the lack of 
standardization. It is our own proprietary implementation. 
MIH Function can more or less solve the above mentioned 
challenges and limitations: 1) Standard amendments, i.e. 
SAPs, for each technology are used to provide unified link 
layer information. Information is stored in Information 
Elements (IE) which provide all information that is essential 
to make intelligent handover decisions. IEs specified in the 
standard support a wide range of parameters, and there is 
space reserved for future extensions and vendor specific 
implementations. 2) The exchange of IEs is based on request 
and response messages which make the information gathering 
effective. The mobile node can acquire information from all 
interesting networks via the active network interface, so there 
is no need to activate and burden other radios. In terms of 
power consumption this is extremely important. 3) Obviously 
the biggest benefit IEEE 802.21 can provide for the VERHO 
system is a standardized implementation. With a wide support 
of IEEE 802.21, the VERHO system can focus on decision 
making and managing the user mobility. 
MIH Function is not, however, limited only to network 
information collecting, but it also provides Command Service 
for controlling network interfaces. As with information 
collecting, the benefit is a unified interface between the 
mobility management system and different network interfaces 
so that operating system dependent implementations are not 
needed. Command Service also introduces the possibility of 
network originated handovers that can be an important feature 
if there is a need to implement the network controlled or 
originated mobility management.  
The hierarchy and structure of MIH Function and VERHO 
is introduced in Figure 8. MIH Function works now as so 
called Layer 2.5 between network and link layers. VERHO 
commands 
network 
interfaces 
and 
gathers 
network 
information over MIH Function. By utilizing the collected 
information, VERHO makes the mobility management 
decisions on the IP level.  
The communication between different MIH Functions (e.g. 
MIH Function of MN and AP or AP to AP) relies on MIH 
Protocol which is defined in the standard.  
The VERHO system is connected to MIH Function with 
SAPs which are defined in the standard. In addition to lower 
layers, VERHO is connected to Application Layer (L7) and 
the user – as was also done in the LIP implementation shown 
in Figure 1. The integration of VERHO with MIH Function 
does not change this part of the architecture, because a user 
and application interaction with the mobility management 
system is still needed.  
 
 
Figure 8. Integration of VERHO and IEEE 802.21 MIH Function 
4 
PROTOTYPE APPLICATIONS 
The VERHO system can be used to develop mobility aware 
applications. A mobility aware application can use the 
provided information for example to adapt to the current link 
characteristics (e.g. a media player). Information provided by 
VERHO includes 
• 
Link information from LIP (LM), 
• 
Access point information from LIP (APM), 
• 
Handover indications from LAC.  
 
In the following sections we look at some of the prototype 
mobility aware applications developed within the VERHO 
project. 
4.1. Multimedia streamer 
Multimedia Streamer (MS) consists of a client and a server. 
It supports streaming of images, audio and video. Both the 
client and the server are written in Java. The client integrates 
image, audio and video playing functionalities. The server 
supports audio and video streaming. For the camera stream, a 
116
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
8
dedicated webcam acts as the server. 
Streaming of multimedia content is done by using Real-time  
Transport Protocol (RTP) and RTP Control Protocol (RTCP), 
and Real Time Streaming Protocol (RTSP) is used for 
controlling the playing process (e.g. requesting the proper 
stream quality during adaptation). 
 
4.1.1. 
Adaptation 
The player runs on the MN and it is made mobility aware 
by listening to LIP and LAC information. Information about 
the active interface is available to the player. The player, 
based on the capabilities of the active interface, requests 
proper stream quality from the server. Whenever the player 
receives information from LIP and LAC, it checks whether the 
current stream quality is still valid with regards to the active 
interface. If it is not valid, the player requests the proper 
quality from the server. 
 
4.1.2. 
Camera streamer 
The camera used for the camera streamer is Axis 2100 and 
it supports only IPv4 networks. Due to the fact that the 
VERHO system operates only in IPv6, we needed to develop 
an IPv6-IPv4 proxy. The proxy is written in Java and its sole 
purpose is to relay the camera stream between IPv6 and IPv4 
realms.  
The camera uses HTTP to transfer images and it can 
transmit motion JPEG and still images in various image 
qualities. The different image types and qualities are 
accessible by using CGI requests via HTML GET destined for 
the web server running on the camera itself. The camera itself 
served as the streaming server and no separate server code 
was needed. During adaptation the client requests proper 
image quality from the camera using CGI and HTML GET 
method. 
 
4.1.3. 
Audio streamer 
The audio streamer server contains several audio files that 
can be requested by the client. Each audio file can be 
delivered with various qualities. During adaptation, the client 
requests a given quality and the server starts streaming the 
same audio file in the requested quality from the position 
where the last stream was stopped. 
 
4.1.4. 
Video streamer 
Unlike the audio streamer, the video streamer server 
supports pre-defined classes of qualities. A video content is 
prepared for all the supported classes as a separate video file. 
When the client requests a specific quality the server maps 
this request to a class and starts streaming the selected video 
file. During adaptation, the newly selected video file starts 
streaming from the position where the previous video stream 
left off. 
 
4.2. IP-TV 
The IP-TV is similar to the Media Streamer. Figure 9 shows 
the topology of the client/server model of the IP-TV. We have 
divided the operations into content, network, access and end- 
devices. Content providers provide only content with good 
quality to the customers. Network operators provide the 
adaptation services as well as digital rights management, etc. 
Access operators provide accesses to different technologies 
for the consumers. The VERHO device is just one of the 
devices consuming the IP-TV services tailored for the 
device’s physical restrictions as well as for its software and 
access requirements and end users’ preferences. 
The TV stream is received from a terrestrial digital TV 
broadcast network. This stream is then made available on an 
IP network via multicast (one multicast channel per TV 
channel). In the network a node acts as an Adaptation Proxy 
(APr). The APr, on joining the multicast IP-TV stream, can 
provide different MPEG4 quality classes of the TV stream. In 
addition to adaptation, APr performs the conversion from 
IPv4 to IPv6 and from multicast to unicast for the clients. 
Mobile clients request the stream from the APr by indicating 
their quality requirements, which are provided by VERHO. 
When a mobile client needs a different quality (e.g. due to 
moving to a different access technology), it informs the APr 
about its new requirements. The APr, upon receiving the 
request, maps the request of the client to a supported quality 
class and starts streaming the adapted content to the client. 
 
Figure 9. The IP-TV network 
5 
DISCUSSION 
We did not discuss the design principles and benefits of the 
presented architecture of VERHO in Section 2 and 3. Now we 
consider some of these and refer to some earlier work. Also 
mobility management related challenges will be discussed 
here. 
The use of link layer has been researched to some extent in 
the context of speeding up horizontal handover processes. For 
example, [17] defines triggers and hints to assist in fast 
triggering of handovers and proactiveness. In [15] there is a 
discussion on the use of link layer information in the context 
of heterogeneous networks with multi-interfaced terminals. 
Link layer triggers, hints based on signal strength and 
117
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
9
parameter unification are considered and their benefits 
presented. Link layer hints, such as Link-Going-Down, can be 
utilized to achieve a proactive behavior in the system. 
Moreover, pure link layer parameters can also be utilized as 
parameters in the multiple attribute interface and link 
selection. We can achieve seamless handovers by doing the 
handovers proactively, partly or entirely, while still connected 
to the old access router or by utilizing two links 
simultaneously resulting in soft handovers. The proactive 
handover preparation allows flexible handover delays. 
Currently, the handover delay correlates directly with the 
signalization delays of MIPv6.  
Horizontal handovers have been affected traditionally by 
using signal strength and some hysteresis values. However, 
this is not suitable for multiple interface management. In [16] 
there are simulations of various Multiple Attribute Decision 
Making (MADM) based interface selection algorithms. The 
benefit of MADM methods is their flexibility due to several 
affecting parameters. But the intelligence of most of the 
MADM algorithms lies in the weight assignments. Weights 
determine how the algorithm utilizes the input parameters in 
the preference value calculation. This brings a lot of flexibility 
for users with different preferences for link characteristics. 
Currently, the weights are specified by user defined profiles, 
but they can be extended to other sources as well. For 
example, operators’ viewpoint could be provided by 
introducing their profiles and policies to the interface 
selection. The weights have always a priority order, so there 
can never occur a situation where the network interface could 
not be selected. Also, the lack of some parameters does not 
prevent decision making, but will just hamper it. The weights 
can be modified to override the usual behavior, e.g. disable 
GPRS/UMTS while being abroad. The reader can refer to 
Figure 5 to see better how the weights are adjusted in the 
VERHO prototype. 
VERHO, with the knowledge of multiple link status and 
handover timing and targets, can assist other applications as 
well. VERHO can provide, for example, realtime unified 
bandwidth information to applications (lets say ranging from 
0-10), which can adjust their stream qualities appropriately. 
Adaptive mobility and link aware applications are seen as one 
of the research challenges of the 4G networks [4]. For 
example, LAC can be the source of information for MPEG-21 
based adaptive multimedia terminals. The access network 
technology might also affect some internal states of an 
application. For example, an application could be designed to 
avoid fetching new emails when connected to an expensive 
network, or to sleep when the current network is insecure, etc. 
From the perspective of the VERHO system, IEEE 802.21 
is a highly welcome standard. It offers much the same 
functionality as VERHO, but also a significant number of new 
functionalities. The best performance is achieved by replacing 
LIP with the 802.21 advanced information framework and 
utilizing 802.21 Command Service for network interface 
management. In terms of power consumption, such design 
provides more feasible and permanent solutions than our 
technology dependent scanning mechanisms in LIP. It is 
extremely power consuming to try to scan network 
information frequently with all interfaces. However, without 
being aware of the surrounding networks, also the potential 
benefits of heterogeneous networking might not be achieved. 
IEEE 802.21 mechanisms to acquire information about 
surrounding networks via an active interface are an effective 
way to implement information collecting. IEEE 802.21 can 
provide handover candidate information, e.g. neighbor base 
stations, and it can be even supported with geographical 
location information. This helps in avoiding ping-ponging 
between networks as the handovers can be planned better. 
The benefits of IEEE 802.21 will be strongly dependent on 
the scale of the implementation of the standard. If, for 
example, IEEE would implement 802.21 in 802-technologies, 
but 3GPP would not use it, the benefits would remain small.  
The issue is not technical but rather political. The convergence 
of networks and the development towards Internet based 
services is leading to a situation where clear boundaries 
between 3GPP, IETF and IEEE working groups are going to 
disappear. 3GPP based networks have been considered strictly 
operator controlled, while the IEEE technologies are merely 
used for implementation of non-operator controlled networks. 
This can be seen also in the architecture of technologies from 
both organizations. Now these two organizations with totally 
different backgrounds should start to work together to reach 
the next step in the convergence. Especially for 3GPP the 
motives might be questionable, because they co-operate with 
the GSM Association which is ruled by operators. A current 
business model for the operators is to have the users’ traffic in 
their network while placing charge for it. IEEE 802.21 might 
lead this development to an opposite direction, depending 
partially on who will implement the decision making policies. 
The alluring opportunity for 3GPP in 802.21 might be in 
traffic sharing with other technologies. For example, the 
user’s traffic could be routed always via a WLAN access point 
when such is available. Easing the load of cellular networks is 
necessary, because the current cost structure is too high to 
support quickly growing amounts of mobile data. However, 
there are other potential solutions to handle this issue, e.g. 
femtocell, which would also support the operators’ business 
model better than by directing users to non-operator controlled 
networks. 
An interesting topic in policy development and power 
management will be multihoming. Increasing the bitrate by 
improving coding or modulation has brought the performance 
of new wireless technologies such as WiMAX and LTE near 
to the limits of the Shannon’s law. Combining the capacity of 
several network interfaces can increase the performance of the 
terminal. Multihoming can increase the system performance 
also in terms of reliability when the traffic of critical 
applications is routed via reliable networks and is secured to 
use another interface if the current one malfunctions. The 
obvious con with multihoming is more complex policy 
creation. The power consumption will increase, but so will the 
performance. One should point out that VERHO consumes 
118
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
10
very little power and resources itself; most of the power 
consumption originates from the network interfaces and 
terminal applications. In addition to power consumption, also 
signaling traffic will increase significantly with multihoming. 
There is plenty of development work going on in MEXT 
working group, and promising solutions can be tested thanks 
to the modular design of VERHO. 
Designing the GUI for VERHO poses challenges. The 
current version allows detailed adjustments of profiles, but for 
many users the desktop applet alone can be confusing. How 
does the user know whether he should prefer bandwidth or 
network reliability? Power consumption and bitrate may be 
parameters that can be visualized clearly enough by the users, 
but some other parameters such as network reliability or 
latency are probably better suited for interaction between 
applications and QoS mappings. In the GUI design we had 
usability tests for test subjects, and the results were used to 
improve the GUI. The tested persons, were, however 
technology oriented students, so the results cannot be 
generalized. On the other hand, in this phase we did not want 
to go further in testing, and results were satisfying for a 
prototype. The GUI could be improved by providing statistical 
data information based on a usage history. It might help the 
users in understanding better  the behavior of the device and 
also in adjusting better the settings to support their 
preferences.  
6 
CONCLUSIONS 
In this paper we have presented the VERHO system, which 
utilizes information from different sources to calculate the 
best link to be used in a multihomed or mobile node. We have 
presented the VERHO architecture and discussed the possible 
benefits of the system in question. Link layer modules have a 
real-time status and quality information about the current 
interfaces. Access point management (scanning, connection, 
disconnection) enables automatic network and access point 
selection. User requirements are taken into account by using 
profiles, which map the interface selection algorithm executed 
by the Link Access Controller into a set of weights. LAC 
comes with the ABC selection and utilizes the Mobile IPv6 
protocol to trigger the actual handovers.  
Since VERHO has real-time knowledge of link status and 
handover timing, mobility aware applications can utilize the 
information provided by VERHO for different purposes, such 
as setting up a proper streaming quality to support the change 
in access technologies while moving. We presented two 
prototype multimedia streaming applications, which have been 
implemented to verify the concept.  
The current system functions as a prototype for future 
generation mobile terminals with an All-IP access and ABC 
connections. 
As 
future 
work, 
the 
current 
interface 
management can be extended to support multihoming and 
simultaneous access based on application preferences, i.e. 
multihoming management. This, however, require that the 
work of the IETF MEXT working group will be finished, so 
that MIPv6 will support multihoming. 
We are also looking forward to see how the IEEE 802.21 
standard will be perceived among IEEE and 3GPP groups. For 
VERHO it would be a perfect amendment to network 
information collecting, but without wide implementation it 
will not provide real benefits.    
The focus of the VERHO system is to provide an optimal 
connectivity for a single user. However, in the future the 
research could be extended to a simulator environment with a 
goal to optimize connectivity for multiple users, including 
some network load balancing functions.   
As a future work, also the development of prototype 
application for Linux based devices should be continued and 
new features introduced. Especially, user centric design and 
power consumption are interesting topics to study. 
ACKNOWLEDGMENT 
Part of this work was published earlier in [24]; we highly 
appreciate the invitation to submit this extended version. The 
author would like to thank Gàbor Fekete and Jani Puttonen for 
work related to VERHO,  Martin Spurek for work related to 
Comui on Maemo platform, Lukas Lukowsky for work related 
to streamer application and Michael Chukwu for work related 
to the IP-TV proxy. Also, our acknowledgments to Jukka 
Mäkelä from VTT Technical Research Centre of Finland, to 
Henry Haverinen from Nokia Enterprise Solutions as well as 
to Petteri Weckström and Jorma Narikka from the Jyväskylä 
University of Applied Sciences for their valuable comments 
and feedback. 
REFERENCES 
[1] 
Katz, R. H.; Brewer, E. A.: The case for wireless overlay networks. 
Mobile Computing (1996), 621–650. 
[2] 
Frodigh, M.; Parkvall, S.; Roobol, C.; Johansson, P.; Larsson, P.: Future-
Generation Wireless Networks. IEEE Personal Communications 8 
(2001), 10–17. 
 
[3] 
Hui, S. Y.; Yeung, K. H.: Challenges in the Migration to 4G Mobile 
Systems. IEEE Communications Magazine 41 (December 2003), 54–59. 
 
[4] 
Berezdivin, R.; Brenig, R.; Topp, R.: Next Generation Wireless 
Communications Concepts and Technologies. IEEE Communications 
Magazine 40 (2002), 49–55. 
 
[5] 
Newman, P.: In Search of the All-IP Mobile Network. IEEE 
Communications Magazine 42 (December 2004), S3–S8. 
 
[6] 
Gustafsson, E.; Jonsson, A.: Always Best Connected. IEEE Wireless 
Communications 10 (2003), 49–55. 
 
[7] 
Passas, N.; Paskalis, S.; Kaloxylos, A.; Bader, F.; Narcisi, R.; Tsontsis, 
E.; Jahan, A. S.; Aghvami, H.: Enabling Technologies for the ’Always 
Best Connected’ Concept. Wiley Wireless Communications and Mobile 
Computing 5 (March 2005), 175–191. 
 
[8] 
Johnson, D.; Perkins, C.; Arkko, J.:Mobility Support in IPv6. IETF RFC 
3775, June 2004. 
 
[9] 
IEEE Std. 802.21-2008, “IEEE standard for local and metropolitan area 
networks: Media independent handover services,” IEEE Standard, 
January 2009. 
 
119
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

 
11
[10] Ylitalo, J.; Jokikyyny, T.; Kauppinen, T.; Tuominen, A. J.; Laine, J.: 
Dynamic Network Interface Selection in Multihomed Mobile Hosts. 
Proceedings of the 36th Hawai’i International conference on System 
Sciences (HICSS-36), Jan 2003. 
 
[11] Andre, F.; Bonnin, J.-M.; Deniaud, B.; Guillouard, K.; Montavont, N.; 
Noel, T.; Suciu, L.: Optimized Support of Multiple Wireless Interfaces 
within an IPv6 Terminal. Proceedings of the Smart Objects Conference 
(SOC’2003), May 2003. 
 
[12] Vidales, P.; Baliosian, J.; Serrat, J.; Mapp, G.; Stajano, F.; Hopper, A.: 
Autonomic System for Mobility Management in 4G Networks. IEEE 
Journal on Selected Areas in Communications 23 (December 2005), 
2288–2304. 
 
[13] Puttonen, J.; Fekete, G.; Rybczyk, P.; Narikka, J.: Practical 
Experimentation on Mobile IPv6 in Heterogeneous Environment. Acta 
Electrotechnica et Informatica 6 (2006). 
 
[14] Mäkelä, J.; Hämäläinen, T.; Fekete, G.; Narikka, J.: Intelligent Vertical 
Handover System for Mobile Clients. Proceedings of the 3rd 
International 
Conference 
on 
Emerging 
Telecommunications 
Technologies and Applications (ICETA 2004), September 2004. 151–
155. 
 
[15] Puttonen, J.; Fekete, G.; Mäkelä, J.; Hämäläinen, T.; Narikka, J.: Using 
Link Layer Information for Improving Vertical Handovers. Proceedings 
of the16th Annual IEEE International Symposium on Personal Indoor 
and Mobile Radio Communications (PIMRC’06), September 2005. 
 
[16] Puttonen, J; Fekete, G.: Interface Selection for Multihomed Mobile 
Hosts. Proceedings of the 17th Annual IEEE International Symposium 
on Personal Indoor and Mobile Radio Communications (PIMRC’06), 
September 2006. 
 
[17] (ed.), A. Y.: Link-layer Event Notifications for Detecting Network 
Attachments. IETF Draft, October 2005. 
 
[18] IETF 
MEXT, 
"Mobile 
EXTensions 
for 
IPv6 
(mext)"   
http://www.ietf.org/html.charters/mext-charter.html. 
Accessed: 
25.5.2009. 
 
[19] S. Gundavelli, K. Leung, V. Devarapalli, K. Chowdhury, and B. Patil; 
Proxy Mobile IPv6. IETF RFC 5213, August 2008. 
 
[20] E. Nordmark and M. Bagnulo; Level 3 Multihoming Shim Protocol for 
IPv6.  Internet-Draft (work in progress), draft-ietf-shim6-proto-09, 
October 2007. 
 
[21] Karila, A,  Korhonen, T, Salminen, R and Väärämäki, T.; Broadband in 
Public Transportation Vehicles – Technology Study. ÄLLI Publications 
1/2008. 
 
[22] IEEE P802.11 – Task Group U; “Interworking with external networks,” 
IEEE, May 2009. 
 
[23] IEEE 802.16 Network Management Task Group; “Amendment to IEEE 
Standard for Local and Metropolitan Area Networks - Part 16: Air 
Interface for Fixed Broadband Wireless Access Systems - Management 
Plane Procedures and Services,” IEEE Standard,  May 2007. 
 
[24] Puttonen, J.; Fèkete, G.; Väärämäki, T.; Hämäläinen, T.: ” Multiple 
Interface Management of Multihomed Mobile Hosts in Heterogeneous 
Wireless Environments”, The Eight International Conference on 
Networks (ICN 2009), March 2009. 
 
 
 
 
 
120
International Journal on Advances in Networks and Services, vol 2 no 2&3, year 2009, http://www.iariajournals.org/networks_and_services/

