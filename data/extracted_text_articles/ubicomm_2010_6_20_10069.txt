 
 
 
 
 
Impact of the Parameterization of IEEE 802.15.4 Medium Access Layer on the 
Consumption of ZigBee Sensor Motes 
Eduardo Casilari, Jose M. Cano-García 
Dpto. Tecnologia Electrónica 
University of Malaga, Spain 
ecasilari@uma.es, cano@dte.uma.es 
 
Abstract—This paper presents an analysis of the impact that 
the parameterization of the CSMA/CA algorithm (employed 
by IEEE 802.15.4 Medium Access Layer) has on the 
consumption of ZigBee motes. For this purpose, the study 
introduces an analytical model that permits to compute the 
mean drain current of low duty cycle sensor motes. The results 
show that the energy required by the re-association process 
required after a packet loss cannot be neglected when setting 
the values of CSMA/CA parameters.  
Keywords-IEEE 802.15.4, ZigBee, CSMA/CA 
I. 
 INTRODUCTION 
IEEE 802.15.4 (which describes the Physical Layer and 
Medium Access Control [1]) and ZigBee [2] specifications 
define a protocol stack for the development of short-range 
and low power communications for Wireless Personal Area 
Networks (WPANs) and Wireless Sensor Networks (WSNs). 
These protocols are basically intended to provide networking 
solutions for low-bandwidth sensor devices. 
The low-cost and simplicity of IEEE 802.15.4/ZigBee 
compliant motes, together with their capability to configure 
self-organizing networks, has made this technology an 
attractive choice for a wide set of applications including 
domotic systems, health telemonitoring or industrial plant-
process control. 
IEEE 8021.15.4/ZigBee networks typically consist of a 
set of battery-powered sensor nodes (‘motes’), which 
periodically (or sporadically) send their sensed data to one or 
several data sinks. To maximize the nodes’ battery lifetime, 
the activity of the nodes’ radio transceivers must be reduced 
so they remain most of the time in a low-power (‘sleep’) 
state. The idea is that the transceiver only has to ‘wake up’ 
(to be active) in order to sense and transmit (or receive) the 
data for a small fraction of time.  
Many possible advantages of employing IEEE 802.15.4 
are strongly affected by the configuration of the Medium 
Access Control (MAC) sublayer. IEEE 802.15.4 MAC 
employs 
CSMA/CA 
(Carrier 
Sense 
Multiple 
Access/Collision Avoidance) to regulate the participation of 
the nodes in the network. The 802.15.4 specification permits 
the setting of some parameters of the CSMA/CA contention 
algorithm (although default values are proposed). This paper 
investigates the effects of this parameterization on the power 
consumption of the motes. With this goal, an analytical 
model is proposed to characterize the mean drain current in 
an IEEE 802.15.4 node as a function of the CSMA/CA 
parameters, the node duty cycle and the radio transmission 
conditions. In contrast with other works in the literature, the 
model pays a special attention to the power required by the 
re-association procedures that packet losses provoke. 
This paper is organized as follows: Section II reviews the 
CSMA/CA algorithm, which defines the behavior of the 
802.15.4 MAC. Section III reviews the existing works that 
analyze the effects of the parameters of CSMA/CA on the 
performance of 802.15.4 networks. Section IV presents the 
model that computes the mean consumption of an 802.15.4 
node. Section V discusses the results obtained with the 
proposed model. Finally, Section VI summarizes the main 
conclusions of the paper. 
 
II. 
REVIEW OF CSMA/CA ALGORITHM 
IEEE 802.15.4 standard discriminates two classes of 
nodes: Full-Function Devices (FFD) and Reduced-Function 
Devices (RFD). FFDs can assume the role of network 
‘Coordinators’ and be in charge of the communications of a 
set of nodes (the ‘children’ or ‘leaf’ nodes) according to a 
star or a cluster-tree topology. Conversely the role of RFDs 
(devised for very simple ‘motes’ with limited resources) just 
allows the node to communicate (as an ‘end’ node) with a 
single FFD acting as its Coordinator. Simultaneously, the 
MAC layer of IEEE 802.15.4 offers two alternative 
operational modes: (1) Under the beacon mode, the 
Coordinator periodically broadcasts a special frame (a 
‘beacon’), which announce the existence of the Coordinator 
(and the corresponding WPAN) while enabling the 
synchronization of the children nodes. The beacon informs 
the children if they have any pending packet. If this is not the 
case and the children have not data to send (or after sending 
the data), both the children and the Coordinator can enter a 
sleep (low-consumption) mode. (2) Under the beaconless 
mode (which is massively implemented in commercial 
802.15.4 motes as it avoids the need for synchronization with 
the Coordinator), the children can wake up from the sleep 
mode in any moment to send (or ask for) data. This obliges 
the Coordinator to be active at any time. Beacon mode is 
recommendable when the Coordinator (or the intermediate 
routers in a multi-hop cluster-tree) is powered by batteries. 
Conversely non-beacon mode typically suits applications 
which can be deployed by a simple star topology formed by 
a set of wireless sensors and a Coordinator powered from the 
main source 
The Medium Access Control (MAC) in beaconless 
802.15.4 networks is governed by non-slotted CSMA/CA. 
According to this protocol, nodes desiring to transmit a 
packet have to wait a random time chosen between 0 and 
(2BE-1) backoff periods. A backoff period is 0.32 ms, which 
117
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
is the time corresponding to 20 symbols (the duration of a 
symbol is 16 µs when the nodes operate in the 2.4 GHz band, 
with a rate of 250 kbps or 64.5 Ksymbols/s). BE is the 
Backoff Exponent, an increasing variable that regulates the 
limit of the CSMA waiting times. Its initial value is set by 
the parameter macMinBE. Once this random time is elapsed, 
the node checks the availability of the radio medium through 
a Clear Channel Assessment (CCA). If the channel is 
detected to be busy, the exponent BE is incremented by 1 (up 
to a maximum value macMaxBE) and a new random waiting 
time is chosen and executed before performing the next 
CCA. This process can be repeated macMaxCSMABackoffs 
times. Thus, if the CCA fails macMaxCSMABackoffs+1 
consecutive times, a channel access failure is assumed to 
have occurred, the packet is dropped and the transmissions 
concludes. Otherwise, if a CCA succeeds, the channel is 
considered to be free and the node switches its radio 
transceiver from the receiver state to the transmitter state. 
For this purpose a turnaround time of 0.192 ms (12 symbols) 
is reserved. Then, the device proceeds to transmit the packet 
and (optionally) waits for an acknowledgment (ACK) 
message from the receiving node (after switching again the 
radio transceiver from the transmission to the reception 
mode). CSMA/CA wait is not accomplished for the sending 
of an ACK, so that the receptor sends the acknowledgement 
as soon as it receives the packet. However, the transmitted 
packet or the ACK message can experience a collision due to 
interferences, reflections, shadowing effects or the activity of 
other nodes in the same 802.15.4 network. So, if the ACK is 
not received in a predetermined period, the node retransmits 
the packet after executing the aforementioned backoff 
algorithm of CSMA (resetting the initial value of BE to 
macMinBE). The number of times that a packet can be 
retransmitted 
is 
limited 
by 
the 
parameter 
macMaxFrameRetries. Thus, a sending failure is assumed 
after transmitting the packet macMaxFrameRetries +1 times 
without receiving the corresponding ACK.  
Consequently the dynamics of the MAC layer of 
802.15.4 standard heavily depend on these four parameters: 
macMaxCSMABackoffs, macMaxFrameRetries, macMinBE 
and macMaxBE, which are set to constant values in the 
nodes. The ranges and default values recommended by the 
standard for these parameters are tabulated in Table I. 
TABLE I.  
ALLOWED RANGES FOR 802.15.4 MAC PARAMETERS 
Parameter 
Range 
Default 
Value 
macMinBE 
[0-7] 
3 
macMaxBE 
[3-8] 
5 
macMaxFrameRetries 
[0-7] 
3 
macMaxCSMABackoffs 
[0-5] 
4 
III. 
RELATED WORK 
The effects of the MAC parameter setting on the 
performance of 802.15.4 networks have been recently 
studied by different research papers. 
The study in [3] compares the reliability of 802.15.4 
cluster-trees when three different sets of values are employed 
to 
define 
the 
parameters 
aMacFrameRetries, 
macMaxCSMAbackoffs, macMaxBE and macMinBE. By 
means of simulations with NS-2 Network Simulator tool, the 
study shows that 802.15.4 cluster-trees may severely 
underperform if the default set of parameters is utilized. The 
performance is computed in terms of packet delivery ratio, 
message latency and energy consumption per node. The 
same authors present similar conclusions in [4]. In this case 
the study, based on both simulations and some experimental 
results in a real testbed, are focused on single-hop 
topologies. Both studies employ the battery consumption 
model of a CC2420 radio transceiver but assuming that 
nodes remain in the sleep mode during the backoff periods 
(which is not true in actual 802.15.4 motes as recovering 
from this state requires a non-negligible time). 
The influence of the parameter macMaxFrameRetries 
(called maximum number of retransmission times) on the 
throughput, packet delivery ratio and energy consumption in 
802.15.4 beacon enabled networks is examined in [5]. The 
study proposes a Markovian chain model to characterize the 
performance of the network although most analysis are based 
on simulations with NS-2. The study concludes that a low 
value 
for 
macMaxFrameRetries 
reduces 
the 
power 
consumption. As the traffic load increases, if just one packet 
attempt is permitted, the throughput increases.  
In [6] authors evaluate the impact of the parameterization 
of macMaxCSMAbackoffs, macMaxBE and macMinBE on 
the packet loss probability and packet latency in 802.15.4 
beaconless 
802.15.4 
star 
topology 
(under 
unslotted 
CSMA/CA). The analysis (which considers different traffic 
loads) is also based on NS-2 simulations. The paper does not 
evaluate the performance in terms of battery consumption. 
Most of these papers address the problem of the 
scalability of 802.15.4 networks. The employed simulation 
or analytical model normally assumes that channel 
occupation and packet collisions are uniquely due to the 
activity of other 802.15.4 sensor motes. The network scale is 
evaluated considering an elevated concentration of nodes in 
the same transmission area under relatively heavy traffic 
load, which are not always the actual application scenario for 
a ZigBee network. 
In most implementations of the transceivers used for 
802.15.4 networks, devices operate in 2.4 GHz ISM band. 
Thus 802.15.4 communications are exposed to the 
interferences of other popular standards such as Bluetooth 
and especially 802.11 (Wi-Fi). The effects of these 
interferences are becoming more unavoidable [7] with the 
expansion of the new versions of IEEE 802.11 (such as 
802.11n), which employ a higher bandwidth (two channels 
of 20 MHz instead of the 20 MHz single channel of the 
previous versions). Thus, packet collisions and channel 
occupancy in many 802.15.4/ZigBee networks which just 
require a few sensors (e.g. some biosensors belonging to the 
WPAN of the same patient) may be basically determined by 
external interferences. In those scenarios network scalability 
is not the most relevant issue when analyzing the 
performance of 802.15.4 technology. The power required by 
118
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
the sensors will be mainly linked to the operations executed 
by a single node during the duty cycle and the transmission 
conditions imposed by the interferences.  
In any case, the aforementioned studies do not take into 
consideration that packet losses may oblige the sensor nodes 
to re-associate with the Coordinator. This operation of re-
association must be considered to compute the mean drain 
current in the nodes as they may introduce an important extra 
consumption in the case of frequent losses.  
IV. 
ANALYTICAL MODEL FOR BATTERY CONSUMPTION 
In this section we offer an analytical expression that 
permits to compute the main current drained in a sensor mote 
which periodically sends a data to the Coordinator.  
In our analysis we consider that no polling takes places 
so that the only existing data traffic is upstream (i.e. from the 
mote to the Coordinator). The current required for the initial 
start-up phase is also ignored. Similarly, we assume that the 
power required by sensing (data acquisition and processing) 
can be neglected when compared with the current drained by 
wireless communications. However, studies such as [8] 
reveal that (depending of the employed sensor and the 
sampling frequency) the sensing process may suppose an 
important part of the battery consumption in the wireless 
mote. Under this assumption, the battery consumption 
basically depends on the state of the radio transceiver. In 
general terms, for most commercial 802.15.4-enabled motes, 
four states are possible: transmission, listening, idle (during 
CSMA/CA backoffs and turnaround time) and sleep states 
(for which the consumption is minimized). 
Basing on the drain current and the time spent in these 
states, we can estimate the mean current that must be 
supplied to the mote to transmit a packet of n bytes flowing 
from the application layer: 
( )
( )
( )
onoff
onoff
listening
listening
tx
tx
idle idle
active
act
t
I
t
I
t
n I
t
I
I
n
t
n
+
+
+
=
 
(1) 
where tlistening (Ilistening), ttx(n)(Itx) and tidle (Iidle) are the mean 
time (and mean current) that the mote requires in the 
listening, transmission and idle states, respectively, to 
transmit the n user data bytes. Besides tonoff and Ionoff are the 
total time and current necessary to wake up and turn off the 
transceiver as well as to transmit the data from/to the 
processing unit (e.g: the microcontroller) connected to the 
transceiver. Finally, tact(n) indicates the time of the complete 
activity period: 
( )
( )
act
onoff
listening
tx
idle
t
n
t
t
t
n
t
=
+
+
+
 
(2) 
If T is the update period of the data (i.e. the time 
between two consecutive transmissions of the sensed 
magnitudes) we have that the mean current at which the 
battery is drained is: 
( )
( )
( )
( )
1
act
act
drain
active
sleep
t
n
t
n
I
n
I
n
I
T
T
⎛
⎞
=
+
−
⋅
⎜
⎟
⎝
⎠
 
(3) 
where Isleep is the current in the sleep mode while the term 
tact ( )
n
T
⎛
⎞
⎜
⎟
⎝
⎠
 actually represents the duty cycle of the mote. 
The drain current in the different states, as well as the 
time tonoff, are determined by the particular mote that is 
being utilized. Conversely, the times in the different states 
can be calculated as a function of the data size (n), the 
dynamics imposed by CSMA/CA algorithm (illustrated in 
Figure 1) and the frequency of the collisions and the channel 
access failures.  
Figure 1. Timing and evolution of the transceiver state during the 
application of the CSMA/CA algorithm 
In our analysis both processes (access failures and 
collisions) are assumed to follow independent and self-
uncorrelated stochastic processes) 1 . In particular, if po 
denotes the probability that the channel is occupied when 
the CCA operation is performed and pc is the probability of 
a packet collision (i.e. the probability that a packet is not 
acknowledged after being transmitted), we have that the 
average listening time (i.e. the periods in which the sensor 
performs a CCA or waits for an ACK) required to transmit a 
packet can be computed as:  
(
)
{
}
0
(1
)
(1
)
mMaxF
i
i
listening
CSMAfail
c
i
CSMAfail
CCA
CSMAfail
CCA
CCA
ACK
t
p
p
p
mMaxb t
p
n
t
t
=
=
−
⋅
⋅
⋅
⋅
⋅
+
−
⋅
⋅
+
∑
 (4) 
where: 
-mMaxF is macMaxFrameRetries (the maximum number of 
times that a transmission can be retried) 
                                                           
1 Authors in [9] offer an analytical expression to compute the probabilities 
po and pc as a function of the number of nodes contending in the 
802.15.4/ZigBee network. The expression does not take into account the 
presence of other interfering sources. See [10] for an empirical 
characterization of the bit error probability as a function of the received 
power. 
tCSMA(0,0) 
tCCA
… 
tCCA 
tCCA
tTA 
ttx 
tTA
CCA
fail
CCA
fail
CCA 
success 
Data 
Transmission 
 ACK not 
received 
tCSMA(0,1) 
tACK
tCSMA(i,1) 
tCCA
… 
tCCA 
tCCA
tTA 
ttx
tTA
CCA
fail
CCA
fail
CCA 
success 
Data 
Transmission
 ACK received: 
end of 
transmission 
tCSMA(i,1) 
tACK
…
tCSMA(i,n) 
tCSMA(0,m) 
First transmission attempt 
i-th retransmission attempt (i≤macMaxFrameRetries) 
Idle 
Listening 
Transmitting 
0≤m≤ macMaxCSMAbackoffs 
0≤n≤ macMaxCSMAbackoffs 
time 
States:
119
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
-mMaxb is macMaxCSMABackoffs, the maximum number 
of times that the CSMA algorithm is repeated before a CCA 
failure is considered. 
-tACK is macAckWaitDuration, the maximum time (0.864 ms 
or 54 symbols) that the receiver waits for the ACK before 
proceeding with the next attempt. 
-pCSMAfail defines the probability of suffering a channel 
access failure (after mMaxb+1 failed CCA operations): 
mMaxb 1
CSMAfail
o
p
p
+
=
 
(5) 
-
nCCA
is the mean number of CCA operations which are 
executed in an attempt that does not finish in a channel 
access failure. It can be computed as: 
(
)
0
1
1
1
mMaxb
i
o
CCA
o
i
CSMAfail
p
n
p
i
p
=
⎛
⎞
−
=
+
⎜
⎟
⎜
⎟
⎝ −
⎠ ∑
 
(6) 
Similarly, the time in the idle state (tidle) imposed by the 
CSMA waits and the turnaround time can be computed as: 
{
}
0
(1
)
(1
) (
)
mMaxF
i
i
idle
CSMAfail
c
i
CSMAfail
CSMAfail
CSMAfail
CSMAnofail
TA
t
p
p
p
t
p
t
t
=
=
−
⋅
⋅
⋅
⋅
+
−
⋅
+
∑
 
(7) 
where: 
-tTA is the turnaround time (0.192 ms or 12 symbols), 
reserved for the transceiver to switch from reception to 
transmission (in the opposite sense the turnaround time is 
included in macAckWaitDuration). 
-tCSMAfail describes the mean time required by the 
(mMaxb+1) CSM/CA waits of a transmission attempt that 
concludes in a channel access failure (after (mMaxb+1) 
CCA failures):  
min(
,
)
0
1 (2
1)
2
mMaxb
macMinBE i macMaxBE
CSMAfail
backoff
i
t
t
+
=
⎛
⎞
=
−
⋅
⎜
⎟
⎝
⎠
∑
 
(8) 
being tbackoff the duration of a backoff period (0.32 ms or 20 
symbols) 
-tCSMAnofail stands for the mean expected delay introduced by 
the CSMA/CA waits of an attempt that does not finish in a 
channel access failure (that is to say, an attempt with a 
successful CCA). This time can be computed [9] as: 
1
0
min(
,
)
0
1
1
1 (2
1)
2
mMaxb
i
o
CSMAnofail
o
mMaxb
i
o
i
macMinBE
j macMaxBE
backoff
j
p
t
p
p
t
+
=
+
=
⎛
⎞
−
=
⋅
⎜
⎟
⎝ −
⎠
⎧
⎫
⎛
⎞
⋅
−
⋅
⎨
⎬
⎜
⎟
⎝
⎠
⎩
⎭
∑
∑
 
(9) 
On the other hand, the mean time (ttx(n)) that the radio 
transceiver is in the transmission state (for a packet payload 
of n data bytes) is: 
1
0
8 (
)
( )
(1
)
mMaxF
i
i
H
tx
CSMAfail
c
i
O
n
t
n
p
p
r
+
=
⋅
+
⎛
⎞
=
⋅
−
⋅
⎜
⎟
⎝
⎠ ∑
 (10) 
where r is the binary rate of 802.15.4 (250 kbps when 
operating at ISM 2.4 GHz band 2) while OH is the total 
packet overhead (preamble, frame delimiter, headers of 
MAC, Network and Application Sublayer and CRC field) of 
the 802.15.4/ZigBee data packet. For our study we assume 
that OH is 31 bytes. Note that in the expression (10) the 
summation 
1
0
(1
)
mMaxF
i
i
CSMAfail
c
i
p
p
+
=
−
⋅
∑
 
is the mean number 
of times that a packet is transmitted. 
A. Effect of the node re-association  
In the previous model, the mean drain current of the 
802.15.4 node has been computed Assuming that nodes just 
associate to the 802.15.4/ZigBee network during the initial 
start-up. Consequently the battery consumption is only 
caused by the cyclic transmission of user data bytes. Thus, 
the presented equations neglect the current required by the 
exchange of messages that take place during the different 
phases of the star-up. These phases basically consist of the 
active scanning phase (to detect the presence of the 
Coordinator), the association phase to join the Coordinator 
WPAN and the ZigBee binding phase (which is necessary to 
connect compatible ZigBee endpoints at the application 
layer). However, in most cases, after a packet loss (induced 
by collisions or by a channel access failure), the node will 
try to re-associate with a Coordinator 3  (if the orphan 
scanning is not implemented or if the realignment command 
is not received after the orphan scan). This re-association 
process may take several seconds with a mean current 
consumption of more than 20 mA. Aiming at incorporating 
the extra consumption caused by the re-associations, the 
mean activity time needed to transmit a packet has to be 
recomputed as:  
( )
( )
act
onoff
listening
tx
f
reassoc
t
n
t
t
t
n
p
t
=
+
+
+
⋅
 
(11) 
where treassoc is the time required for the whole re-
association process (including the binding and active scan 
phases) and pf defines the probability of packet loss. This 
probability can be directly derived [9] from the probabilities 
of packet collision (pc) and channel access failure (pCSMAfail):  
(
)
1
1
0
(1
)
(1
)
aMaxF
aMaxF
f
CSMAfail
c
aMaxF
i
i
CSMAfail
CSMAfail
c
i
p
p
p
p
p
p
+
+
=
=
−
⋅
+
+
⋅
−
⋅
∑
 
(12) 
                                                           
2 The 2006 revision of the standard allows different modulations when the 
node works in the 868/915 MHz ISM bands. These new modulations 
permit to improve the bit rate up to 100 Kbps (for the 868 MHz band) and 
250 Kbps (for the 915 MHz band). Conversely, in 802.15.4 devices 
operating in 2.4 GHz ISM band, the only permitted instantaneous bit rate is 
250 kbps as long as just QPSK modulation (with 2 Megachip/s and 62.5 
Ksymbol/s) is enabled 
3 It is up to the developer to define the number of losses that must take 
place before the device can be assumed to be orphan so that the MAC has 
to be reset and a new association procedure is triggered (or an orphaned 
device realignment procedure is performed). Our model assumes that any 
loss generates a re-association . 
120
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
Similarly the mean current (Iactive(n)) required to transmit 
a packet can be redefined as: 
.
( )
( )
( )
onoff
onoff
listening
listening
tx
tx
idle idle
f
reassoc
reassoc
active
act
f
reassoc
t
I
t
I
t
n I
t
I
p
t
I
I
n
t
n
p
t
+
+
+
+
⋅
=
+
⋅
 
 
(13) 
where Ireassoc is a new term that defines the mean current 
required during the whole re-association phase. 
Again the values of Ireassoc and treassoc rely on the 
employed mote but also on the number of scanned channels 
to detect the presence of the coordinator, the values of the 
CSMA/CA parameters and the probability of suffering 
packet losses during the re-association.  
V. 
ANALYSIS OF THE IMPACT OF THE MAC 
PARAMETRISATION 
In this section, we show and comment some numerical 
results obtained with the previous model. To compute these 
results we employ the battery consumption model of the 
Texas Instrument CC2480 ZigBee processor which we have 
presented in [11]. The CC2480 processor utilizes the Z-Stack 
of Texas Instrument, which is one of the most widely 
employed implementations of 802.15.4/ZigBee stack for the 
deployment of wireless sensor networks. In contrast with 
other chips that only implement an 802.15.4 transceiver, the 
CC2480 processor provides full ZigBee functionality, as far 
as it integrates the whole Z-Stack in a single chip. The 
current absorbed in the different states is summarized in 
Table II. The analyzed device keeps the transceiver in the 
listening mode during the idle periods (which is not the case 
of other commercial ZigBee motes), so the values of Iidle and 
Ilistening coincide. The Table also includes the mean drain 
current and time required by the re-association process. 
These values were measured in the most favorable case 
(without losses) in which the re-association always 
successes. The measurement of Ireassoc and treassoc were 
obtained in a network configured with the default values of 
the CSMA/CA parameters) so that they can be regarded as a 
rough approximation of the typical consumption during the 
re-association of a 802.154/ZigBee mote. In the presented 
results, in order to analyze the limit case in which association 
has the lowest impact, we assume that just one channel is 
scanned. 
In the presented analysis we consider the typical case of a 
WSN formed by sensors with a low duty cycle and a low 
user data payload (2 bytes). In particular we tested our model 
with data rates lower than 1 packet per second which implies 
that duty cycle is always below 4% for all results (with a 
percentage of time in the transmission mode always under 
0.25%). Unless the network is composed by hundreds of 
nodes within the same transmission range, a node will create 
very low interference in other nodes. Consequently packet 
losses will be provoked by ‘external’ factors (e.g.: Wi-Fi or 
Bluetooth interferences) which can be characterized by the 
probabilities po and pc. 
We firstly analyze the impact of the initial and maximum 
values of the backoff exponent (BE) by changing the limits 
macMaxBE and macMinBE (and configuring the other 
parameters with the default values). Results for three 
different values of po and pc are depicted in Figures 2 and 3. 
As we assume that the radio conditions (modeled by po and 
pc) are not affected by the contention CSMA/CA algorithm, 
the larger the values of macMaxBE and macMinBE, the 
higher the consumption. Obviously this is due to the fact that 
CSMA/CA random waits increase for higher values of 
macMaxBE and macMinBE. In any case the graphs show 
that the increase in the consumption is especially remarkable 
for extremely noisy environments. On the other hand, as the 
noise is reduced the results rapidly converge. This is 
especially true in the case where the modified parameter is 
macMaxBE as long as most transmission will be executed 
after the first CSMA wait (which is decided by macMinBE) 
and the effect of the parameter macMaxBE is minimized. 
Figures 2 and 3 do not include the consumption due to the 
re-association. The previous conclusions about the effects of 
macMinBE and macMaxBE are completely different if that 
consumption is added. Fig. 4, estimated for the case in which 
macMinBE is changed (results are similar for macMaxBE) 
shows that the impact of the election of both parameters is 
almost negligible.  
TABLE II.  
SUMMARY OF DRAIN CURRENT FOR DIFFERENT 
802.15.4/ZIGBEE OPERATIONS IN THE MOTE 
Operation 
State 
Mean Required 
Current (mA) 
Duration 
(ms) 
Inactivity 
Sleep mode 
Isleep=0.00075 
Variable 
Transmission of 
a packet of n 
bytes with 
sensed data 
 
Transmission of a packet 
Itx=30.5 mA 
Variable 
Listening (& idle) 
Ilistening= Iidle 
=32.5 mA 
Variable 
Activation/deactivation 
of the ZigBee processor 
(radio transceiver is off) 
Ionoff=13 mA 
tonoff=13 
Association to 
the coordinator 
(without packet 
losses and 
default CSMA 
parameters) 
 
Scanning in 1 channel 
 
Ireassoc 
=26.6 mA 
treassoc = 
2000 ms 
Scanning in 16 channels 
33.8 mA 
up to 
27500 ms 
 
If we consider that po and pc as processes that do not 
depend on the CSMA/CA dynamics, the parameters 
macMaxBE and macMinBE do not affect the probability of 
having a packet loss. On the contrary, the parameters 
macMaxFrameRetries and macMaxCSMAbackoffs clearly 
determine the loss probability (see equation (12)) and 
consequently the consumption provoked by the re-
association. Figures 5 and 6 shows the impact on the drain 
current of the selection of the maximum number of 
transmission attempts (macMaxFrameRetries) when the 
other parameters are set as recommended by the 
specification. Results indicate that a low selection of 
macMaxFrameRetries (under the default value of 3) may 
dramatically impact on the consumption, in particular as the 
noise decreases. This is because in less noisy environments, 
3 or 4 transmission attempts are enough to avoid the packet 
loss and, consequently, the cost of the re-association. The 
importance of the packet losses can be detected if we repeat 
the analysis without taking into account the battery 
121
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
consumption provoked by the re-association. Results for this 
case are represented in Figure 7. Now, the value of 
macMaxFrameRetries 
seems 
to 
be 
irrelevant 
for 
environments with low noise. As the noise augments, the 
increase of macMaxFrameRetries increments the activity of 
the node and consequently the consumption. 
The 
analysis 
of 
the 
impact 
of 
the 
parameter 
macMaxCSMAbackoffs (which can be observed from figures 
8 and 9) offers a similar conclusion: if the number of 
maximum allowed CSMA waits is selected under the default 
value (4) the battery consumption is dramatically impacted 
due to the current needed by the frequent re-associations. 
VI. 
CONCLUSIONS 
This paper has investigated the effects of the 
parameterization of 802.15.4 MAC on the current required 
by IEEE 802.15.4/ZigBee sensor motes. The study is based 
on an analytical model that fully characterizes the dynamics 
of CSMA/CA algorithm. As a novelty the model also 
computes the power consumption provoked by the node re-
association when packet loss occurs. Taking into account this 
extra component in the consumption, the obtained results 
seem to indicate that in typical WSNs (where sensors have a 
low duty cycle) the default values of the CSMA parameters 
macMaxFrameRetries and macMaxCSMAbackoffs proposed 
by the IEEE 802.15.4 specification exhibit a reasonable 
performance in terms of the expected battery lifetime. 
ACKNOWLEDGMENT 
This work was partially supported with public funds by 
the Spanish National Project No. TEC2009-13763-C02-01. 
REFERENCES 
[1] 
IEEE-TG15.4. Part 15.4: Wireless Medium Access Control (MAC) 
and Physical Layer (PHY) Specifications for Low-Rate Wireless 
Personal 
Area 
Networks 
(LR-WPANs), IEEE standard 
for 
Information Technology, 2003. 
[2] 
ZigBee-Alliance. ZigBee specification, 2005. 
[3] 
G. Anastasi, M. Conti, M. Di Francesco, and V. Neri, “Reliability and 
Energy Efficiency in Multi-hop IEEE 802.15.4/ZigBee Wireless 
Sensor Networks”, Proceedings of the IEEE Symposium on 
Computers and Communications (ISCC 2010), Riccione, Italy, June 
22-25, 2010.  
[4] 
G. Anastasi, M. Conti, and M. Di Francesco, “The MAC unreliability 
problem in IEEE 802.15.4 wireless sensor networks”, Proc. of ACM 
International Conference on Modeling, Analysis and Simulation of 
Wireless and Mobile Systems (MSWiM 2009), October 2009, pp. 
196-203. 
[5] 
P. K. Sahoo and J.P. Sheu, “Modeling IEEE 802.15.4 based wireless 
sensor network with packet retry limits”, Proc. of the 5th ACM 
symposium on Performance evaluation of wireless ad hoc, sensor, 
and ubiquitous networks (PE-WASUN’08), October 2008, pp. 63-70.  
[6] 
D. Rohm, M. Goyal, H. Hosseini, A. Divjak, and Y. Bashir, 
"Configuring Beaconless IEEE 802.15.4 Networks Under Different 
Traffic Loads", Proc. of International Conference on Advanced 
Information Networking and Applications (AINA 2009), 2009, pp. 
921-928. 
[7] 
B. Polepalli, W. Xie, D. Thangaraja, M. Goyal, H. Hosseini and Y. 
Bashir, “Impact of IEEE 802.11n operation on IEEE 802.15.4 
operation”, Proc. of International Conference on Advanced 
Information Networking and Applications Workshops (WAINA '09), 
2009, pp. 328-333. 
[8] 
C. Alippi, G. Anastasi, M. Di Francesco, and M. Roveri, "An 
Adaptive Sampling Algorithm for Effective Energy Management in 
Wireless Sensor Networks with Energy-hungry Sensors", IEEE 
Transactions on Instrumentation and Measurement, Volume: 58 
Issue: 11, November 2009, pp. 335-344. 
[9] 
M. Goyal, D. Rohm, H. Hosseini, K.S. Trivedi, A. Divjak, and Y. 
Bashir, “A stochastic model for beaconless IEEE 802.15.4 MAC 
operation”, Proc. of International Symposium on Performance 
Evaluation of Computer & Telecommunication Systems (SPECTS 
2009), July 2009, Vol. 41, pp. 199- 207. 
[10] B.Bougard, F. Catthoor, D.C. Daly, A. Chandrakasan, and W. 
Dehaene, “Energy Efficiency of the IEEE 802.15.4 Standard in Dense 
Wireless Microsensor Networks: Modeling and Improvement 
Perspectives”, Proc. of Design, Automation and Test in Europe 
(DATE'05), 2005, Vol. 1, pp.196-201. 
[11] E. 
Casilari, 
G. 
Campos-Garrido, 
and 
J.M. 
Cano-García, 
“Characterization of Battery Consumption in 802.15.4/ZigBee Sensor 
Motes”, Proc. of IEEE International Symposium on Industrial 
Electronics (ISIE 2010), July 2010, pp. 3471-3476. 
 
Figure 2. Mean drain current as a function of the frequency of data 
emission and two values of macMaxBE. Power consumption due to re-
associations not considered 
 
Figure 3. Mean drain current as a function of the frequency of data 
emission and two values of macMinBE. Power consumption due to re-
associations not considered 
0
2
4
6
8
10
12
14
16
10
-1
10
0
Mean drain current (mA)
Time between consecutive transmissions of the sensed information (s)
Required current as a function of the frequency of the data emission 
 
 
po=pc=0.25
po=pc=0.50
po=pc=0.75
macMaxBE=5 (default)
macMaxBE=7
0
2
4
6
8
10
12
14
16
10
-1
10
0
Mean drain current (mA)
Time between consecutive transmissions of the sensed information (s)
Required current as a function of the frequency of the data emission 
 
 
po=pc=0.25
po=pc=0.50
po=pc=0.75
macMinBE=3 (default)
macMinBE=1
122
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
 
 
 
 
 
Figure 4. Mean drain current as a function of the frequency of data 
emission and two values of macMinBE (re-associations are considered) 
 
Figure 5. Mean drain current as a function of the frequency of data 
emission and two values of macMaxFrameRetries (re-associations are 
considered) 
 
Figure 6. Mean drain current as a function of macMaxFrameRetries (rate=1 
packet/s) (re-associations are considered) 
 
Figure 7. Mean drain current as a function of macMaxFrameRetries (rate=1 
packet/s). Power consumption due to re-associations not considered 
 
Figure 8. Mean drain current as a function of macMaxCSMABackoffs 
(rate=1 packet/s) (re-associations are considered) 
 
Figure 9. Mean drain current as a function of macMaxCSMABackoffs 
(rate=1 packet/s). Power consumption due to re-associations not considered 
0
2
4
6
8
10
12
14
16
10
-2
10
-1
10
0
10
1
10
2
Mean drain current (mA)
Time between consecutive transmissions of the sensed information (s)
Required current as a function of the frequency of the data emission (average case scenario)
 
 
po=pc=0.10
po=pc=0.25
po=pc=0.50
po=pc=0.75
macMinBE=3 (default)
macMinBE=1
0
2
4
6
8
10
12
14
16
10
-2
10
-1
10
0
10
1
10
2
Mean drain current (mA)
Time between consecutive transmissions of the sensed information (s)
Required current as a function of the frequency of the data emission 
 
 
po=pc=0.25
po=pc=0.50
po=pc=0.75
macMaxFrameRetries=3 (default)
macMaxFrameRetries=0
0
1
2
3
4
5
6
7
10
-1
10
0
10
1
10
2
Mean drain current (mA)
Value of the maximum number of retransmissions after collision (macMaxFrameRetries) 
Required current as a function of the parameter aMaxFrameRetries
 
 
po=pc=0.75
po=pc=0.50
po=pc=0.25
po=pc=0.10
0
1
2
3
4
5
6
7
10
-0.5
10
-0.4
10
-0.3
10
-0.2
10
-0.1
10
0
Mean drain current (mA)
Value of the maximum number of retransmissions after collision (aMaxFrameRetries) 
Required current as a function of the parameter aMaxFrameRetries
 
 
po=pc=0.75
po=pc=0.50
po=pc=0.25
po=pc=0.10
0
1
2
3
4
5
6
7
10
-1
10
0
10
1
10
2
Mean drain current (mA)
Value of the maximum number of backoff stages (macMaxCSMAbackoffs) 
Required current as a function of the parameter macMaxCSMAbackoffs
 
 
po=pc=0.75
po=pc=0.50
po=pc=0.25
po=pc=0.10
0
1
2
3
4
5
6
7
10
-0.5
10
-0.4
10
-0.3
10
-0.2
10
-0.1
10
0
10
0.1
Mean drain current (mA)
Value of the maximum number of backoff stages (macMaxCSMAbackoffs) 
Required current as a function of the parameter macMaxCSMAbackoffs
 
 
po=pc=0.75
po=pc=0.50
po=pc=0.25
po=pc=0.10
123
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

