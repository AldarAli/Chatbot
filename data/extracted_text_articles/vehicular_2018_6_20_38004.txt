Evaluation of a Method for Improving Pedestrian
Positioning Accuracy using Vehicle RSSI
Yuya Nishimaki
Computer and Information Science
Graduate School of Science and Engineering
Doshisha University
Kyoto, Japan
email:yuya.nishimaki@nislab.doshisha.ac.jp
Hisato Iwai
Electrical and Electronic Engineering
Graduate School of Science
and Engineering
Doshisha University
Kyoto, Japan
email:iwai@mail.doshisha.ac.jp
Kenya Sato
Computer and Information Science
Graduate School of Science and Engineering
Doshisha University
Kyoto, Japan
email:ksato@mail.doshisha.ac.jp
Abstract—As the penetration rate of smartphones and tablet-type
devices increases, various services using such location information
are being used. In navigation applications, we can check our
current location and how to get to a destination. Even if we are in
a relatively new area, we can go anywhere using a navigation ap-
plication. Other systems prevent trafﬁc accidents by exchanging
position information using vehicle-to-pedestrian communication.
In these services and systems, especially for preventing accidents,
accurate position information is critical. Currently, the Global
Positioning System (GPS) is most frequently used as a positioning
method to acquire position information outdoors, but its signals
are inﬂuenced by the surrounding buildings in urban areas,
reducing positioning accuracy. Therefore, in this paper, we
propose a position estimation method using the Received Signal
Strength Indication (RSSI) of vehicles and beacons for high and
stable positioning accuracy outdoors. We applied a Kalman ﬁlter
to RSSI and dynamically calculated the path loss index using
vehicle-to-vehicle communication. We compared the positioning
accuracy of our method and conventional methods by simulations
and showed our method’s superiority.
Keywords–position estimation; vehicle-to-vehicle communica-
tion; RSSI; path loss index.
I.
INTRODUCTION
As the penetration rate of smartphones and tablet-type
devices continues to increase, various services using their
location information are being used. For example, we can
check our current location on a map, look up a route from
it to a destination, and get surrounding shop information and
coupons. However, if the positioning error is too large, we
might get lost or fail to get the information we want. In
recent years, Intelligent Transportation Systems (ITS) have
also been investigated that improve trafﬁc safety, efﬁciency
and driving comfort. For example, through vehicle-to-vehicle
and vehicle-to-pedestrian communication, related work makes
efforts to prevent vehicles from colliding with vehicles and
pedestrians through exchange of information such as position
and speed [1][2]. Since the large positioning error might lead
to accidents, we need accurate position information of every
involved pedestrians and vehicle to reduce trafﬁc accidents
and maintain safety. Among positioning systems that acquire
position information which is important in such services and
systems, Global Positioning System (GPS) is most frequently
used. Its positioning accuracy ranges from several meters to
several tens of meters. But in urban areas that are littered
with high-rise buildings, GPS signals are blocked by buildings
and inﬂuenced by multipaths, further increasing the positioning
error [3]. Since GPS accuracy is affected by the surrounding
environment, achieving stable positioning is difﬁcult.
In this research, we focus on a pedestrian whose position-
ing error is often larger compared to vehicles. We propose
a method that uses vehicles to improve the outdoor posi-
tioning accuracy of pedestrians, since both vehicle-to-vehicle
and vehicle-to-pedestrian communication will become more
widespread due to ITS development. The rest of this paper
is organized as follows. In Section II, we show conventional
position estimation methods and their problems. In Section III,
the proposed method is described. Simulation and evaluation
results are presented in Section IV. Finally, Section V gives
the conclusion.
II.
CONVENTIONAL POSITION ESTIMATION
METHOD AND PROBLEMS
A. GPS
In a GPS, which is the most widely used positioning
method. A device receives signals with time information trans-
mitted from multiple GPS satellites and estimates a position
using pseudo distances obtained from the differences between
transmission and reception times. In line-of-sight places and
areas without high buildings around the target, since it can
receive signals from many GPS satellites, GPS can estimate a
position with error within a few meters. In non-line-of-sight
places and urban areas with many high-rise buildings, GPS
signals are inﬂuenced by shielding, reﬂection, and diffraction
by obstacles. Sometimes positioning error becomes several
meters to several tens of meters.
B. RSSI-based position estimation
The positions of smartphones and tablet-type devices can
be estimated by RSSI when receiving radio waves transmitted
from such beacons as Bluetooth Low Energy (BLE) or WiFi
[4][5]. As shown in Figure 1, when the target acquires the RSSI
of Beacons 1 to 4, ﬁrst, we calculate the distance between the
target and each beacon from the RSSI and ﬁnd the target’s
position by triangulation using the distance and the position
of each beacon. We can calculate the distance from the RSSI
72
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

Beacon 1
!"#$ %#&
!"'$ %'&
Target
!"($ %(&
Beacon 3
Beacon 2
)'*+,-
)#*+,-
)(*+,-
Figure 1. RSSI-based positioning
by a property through which RSSI is attenuated as the distance
increases. In general, we can model RSSI’s attenuation (as in
(1)) to ﬁnd the distance between the target and each node:
P(d) = A − 10n log10 d.
(1)
Here, P(d) is the RSSI [dBm] at position d [m] away from
the transmission source, A is the RSSI [dBm] 1 m from the
transmission source, and n is the path loss index. The path
loss index is a value that represents the degree of attenuation
of the radio waves based on the distance, and in the free space,
n = 2. Here, RSSI attenuates in proportion to the square of
the distance.
C. Problems when using RSSI
For an accurate position estimation using RSSI, the dis-
tance to each node must be accurately measured. However,
since it is sometimes impossible to obtain the ideal RSSI in
an actual environment, the distance calculated from the RSSI
includes error. There are several causes for the error increase.
One is that the path loss index is constantly changing due to
the surrounding environment of the radio wave propagation.
Another is that RSSI ﬂuctuates. Although n in (1) is theoreti-
cally a constant value, it should be set dynamically because it
is always changing, too. Also, RSSI does not always become a
constant value even if the distance between the sender and the
receiver is invariant. It varies with time due to the following
factors:
•
Fading
Fading, which is the RSSI ﬂuctuation received by wireless
communication, occurs during communication while moving
by such mobile communication as mobile devices. In environ-
ments with many scattered materials, the radio waves trans-
mitted from the sender are reﬂected, diffracted, and scattered
Building
Pedestrian’s device
Beacon
Figure 2. Outline
by buildings and moving objects, causing them to arrive at
the receiver with a time difference. Interference of these radio
waves also causes fading.
•
Shadowing
This RSSI ﬂuctuation, which occurs when a shielding object
exists between a sender and a receiver, follows a lognormal
distribution.
•
Co-channel interference
This RSSI ﬂuctuation occurs when a device using the same
frequency band operates in the vicinity.
For accurate estimation of distance, it is necessary to reduce
the inﬂuence of RSSI ﬂuctuation and to use the dynamic path
loss index.
III.
PROPOSAL
A. Outline
In urban areas, positioning error might increase when GPS
signals are blocked by buildings and inﬂuenced by multipaths.
In this research, we propose a method to improve the po-
sitioning accuracy of outdoor pedestrians and outline it in
Figure 2. We estimate a pedestrian’s position using the RSSIs
of vehicles and beacons on the road side. When we assume
that the vehicle regularly transmits its own information to its
surroundings, pedestrians can receive radio waves of vehicles
in addition to beacons, allowing them to also use RSSIs from
their vehicles to estimate their positions. However, the RSSIs
of beacons and vehicles suffer from the problems shown in
Section II-C. To solve them, we apply ﬁltering to RSSIs and
dynamically calculate the path loss index using vehicle-to-
vehicle communication.
B. Presuppositions
1)
All of the vehicle position information is accurate.
2)
The pedestrian’s device can receive 700-MHz band
radio waves.
3)
The vehicle regularly transmits its own information
to the surroundings.
73
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

TABLE I. PARAMETERS FOR VEHICLES
Pedestrian state
ˆ
P (0)
Q
R
Stationary
1000
4.44
25.44
Moving
1000
5.37
27
TABLE II. PARAMETERS FOR BEACONS
Pedestrian state
ˆ
P (0)
Q
R
Stationary
1000
0.00046
19.0454
Moving
1000
5.41
13.3
C. RSSI ﬁlteration with Kalman ﬁlter
We used a Kalman ﬁlter as a ﬁltering method to reduce
the inﬂuence of fading, among variation factors mentioned in
Section II-C. We applied it to the RSSI received by pedestrians
from both the beacon and the vehicle, and did ﬁltering using
the following formulas. In the Kalman ﬁlter in the prediction
step, we obtained RSSI’s prior state estimate at the current
time using the information of one time before. In the ﬁltering
step, we modiﬁed RSSI’s prior state estimate by an observation
value to ﬁnd the posteriori state estimate:
•
Prediction step
ˆx−(k)
= ˆx(k − 1)
(2)
ˆP −(k)
= ˆP(k − 1) + Q
(3)
•
Filtering step
g(k)
=
ˆP −(k)
ˆP −(k) + R
(4)
ˆx(k)
= ˆx−(k) + g(k)(y(k) − ˆx−(k))
(5)
ˆP(k)
= (1 − g(k)) ˆP −(k).
(6)
Here, ˆx−(k) and ˆx(k) are prior and posteriori state esti-
mates. ˆP −(k) and ˆP(k) are prior and posteriori error vari-
ances, Q is a system noise variance, R is a measurement
noise variance, y(k) is a measurement value, and g(k) is the
Kalman gain. In this study, we set ˆP(0), Q, and R to the values
shown in Tables I and II. We determined them by simulation
experiments in advance.
D. Calculation of dynamic path loss index
ni = A − P(di)
10 log10 di
(7)
nk =
∑m
i=1 ni
m
(i ̸= k).
(8)
When vehicle k is communicating with m neighboring
vehicles in vehicle-to-vehicle communication, the path loss
index between vehicles k and i (1 ≤ i ≤ m) can be
calculated by (7), which is obtained by transforming (1). Here,
di represents the distance [m] between vehicles k and i, and
P(di) represents RSSI [dBm] from vehicles i. We assume
that the vehicle-to-vehicle communication is within the line-of-
sight and use RSSI exceeding P(di) > −50 dBm. Then with
(8), we calculated the average value of the path loss indices
for each surrounding vehicle within a certain time and use the
result as the path loss index around vehicle k. The procedure
Vehicle ID
1
Vehicle ID
2
Vehicle ID
3
Vehicle ID
4
Pass loss index in this area
!" # !$ # !%
%
!%
!"
!$
Figure 3. Example of calculation of dynamic path loss index
for dynamically calculating the path loss is described below,
and Figure 3 describes the calculation example.
1)
When a vehicle receives packets from a surrounding
vehicle, it obtains the distance to the sender using the
sender’s position and its own position.
2)
The vehicle obtains the path loss index between
the sender and itself using (7) and stores the result
and the sender’s vehicle information in the vehicle
information management table.
3)
At the time of transmission, the vehicle calculates
the average path loss index within the past 500 ms
in the vehicle information management table by (8)
and regards the average as the path loss index around
itself.
E. Positioning algorithm
Next, we describe the algorithm that calculates the pedes-
trian’s position using RSSI acquired from the beacons and the
vehicles. If the pedestrian gets information of m (m ≥ 1)
nodes of the beacons and the vehicles, she can calculate the
distance with each node from the RSSI by (9), which is
obtained by transforming (1).
di = 10
A−Pi
10n
(1 ≤ i ≤ m).
(9)
The smaller an RSSI is, the larger is the variation and
the error from the theoretical values
[6]. Therefore, instead
of using all the acquired RSSIs for position estimation, we set
thresholds and in advance excluded those with large error from
the theoretical value. We set the threshold and the parameters
for distance calculation (Table III).
We also selected the RSSI depending on the state of the
pedestrian and the vehicle.
•
When pedestrian and vehicle are stationary
74
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

TABLE III. THRESHOLD AND PARAMETERS
Node type
Threshold
A
n (Path loss index)
Beacon
−81 dBm
−61 dBm
2.0
Vehicle
−50 dBm
−10.816 dBm
dynamic value
When determining the distance to the beacon or the vehicle,
we used the maximum RSSI above the threshold received
within the past 1 s. This is because the maximum RSSI is less
inﬂuenced by fading than the others, and the distance error
also becomes smaller.
•
When pedestrian is stationary and vehicle is moving
When obtaining the distance to the beacon, the process is the
same as when pedestrian and vehicle are stationary. When
calculating the distance to the vehicle, we use the latest RSSI
among those received after the ﬁnal position’s estimation time.
•
When pedestrian is moving
When calculating the distance to the beacon or the vehicle,
we use the latest RSSI among those received after the ﬁnal
position estimation time.
We determined the pedestrian position using Weighted
Centroid Localization (WCL) [6]. (10) to (12) show how to
calculate the position by WCL. (xi, yi) is the position of the
i th node that corresponds to the selected RSSI, and wi is the
weight, and we obtained the weighted average of the position
of each node. The weight is the reciprocal of the distance
obtained from RSSI, and the g value is 1.5 to minimize the
positioning error in (12):
xw =
∑m
i=1 xiwi
∑m
i=1 wi
(10)
yw =
∑m
i=1 yiwi
∑m
i=1 wi
(11)
wi = 1
dg
i
.
(12)
IV.
EVALUATION AND CONSIDERATION
A. Simulator
We used Scenargie as a simulator to evaluate our proposed
method’s performance. Scenargie is a network simulator devel-
oped by Space-Time Engineering (STE)
[7]. By combining
expansion modules, various simulations like LTE, vehicle-
to-vehicle communication and a multi-agent simulation can
be constructed. Since communication systems and evaluation
scenarios are becoming more complicated, this ingenious
simulation greatly reduces the effort required to create them.
Examples include a GUI scenario creation, map data, the
graphical information display of a communication system, and
a radio wave propagation analysis function.
B. Evaluation Model
Since this research’s goal is improving the positioning
accuracy of pedestrians in urban areas, we did our simulation
in an evaluation environment where pedestrians are surrounded
by buildings. The simulation parameters are shown in Table
IV, and its environment is shown in Figure 4. GIS-BASED-
RANDOM-WAYPOINT in Table IV is a model where each
TABLE IV. SIMULATION PARAMETERS
Simulator
Scenargie2.1
Simulation time
20 [s]
Beacon intervals
5, 10, 15, 20 [m]
Number of vehicles
0, 10, 20, 30, 40, 50, 60, 70, 80
Vehicle mobility model
GIS-BASED-RANDOM-WAYPOINT
Vehicle velocity
15 ∼ 20 [m/s]
Pedestrian velocity
Stationary，2 [m/s]
Beacon
Vehicle
Transmission power
-21 [dBm]
19.2 [dBm]
Frequency bands
2.4 [GHz]
760 [MHz]
Communication intervals
500 [ms]
100 [ms]
Propagation model
TwoRayGround
ITU-R P.1411
Fading model
Rayleigh
Building
100 [m]
100 [m]
!Beacon
Building
Building
Building
3 [m]
Figure 4. Evaluation environment
vehicle randomly determines a passing point, moves along the
road, and passes through it. The ITU-R P.1411 model
[8]
is a radio wave propagation scheme that considers road map
information. Since radio waves are attenuated based on the
road’s shape, this model closely resembles reality compared
with a two-ray model using direct waves and reﬂected waves
from the ground.
C. Evaluation items
•
Comparison of positioning error with conventional
methods
Here, we label GPS as Conventional 1 and the method that only
uses beacons as Conventional 2. Proposal 1 is our proposed
method, and Proposal 2 does not adopt ﬁltering and uses
a static path loss index. In the simulator, since we cannot
measure the GPS-positioning accuracy, we compared 15 m as
GPS positioning error [3].
•
Evaluation of beacon intervals
We evaluated the positioning error when the beacon interval
increases in 5-m increments from 5 to 20 m. At this time, the
number of vehicles was 50.
•
Evaluation of number of vehicles
75
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

!
"
#
$
%
&!
&"
&#
&$
'()(*+,)-.
/+0*,12345667282"9:4;
<+4*(*+,*,126--+-2=9>
<6764(-*),24()(6
?+,06,(*+,)@2&
?+,06,(*+,)@2"
<-+5+4)@2&
<-+5+4)@2"
Figure 5. Average, maximum and minimum positioning error in conventional
methods and proposed methods
!
"
#!
#"
$!
$"
%!
%"
&'(')*+(,-
./*0)+1.234556.7.$893:
;)3'(+<5.5,,*,.=8>
?5653',)(+.3'('5
?,*4*3(@#
?,*4*3(@$
Figure 6. Distance error and standard deviation by pedestrian state of
Proposal 1 and Proposal 2
We evaluated the positioning error when the number of vehi-
cles increased from 0 to 80 in increments of 10. In this case,
the beacon interval was 10 m.
Regarding the positioning error, when a pedestrian is
stationary, we simulated at 5-m intervals between the stars
shown in Figure 4 and calculated their average positioning
error. We also simulated in a situation where the pedestrian is
moving at a speed of 2 m/s from the top stars to the triangle
in Figure 4 and calculated the average positioning error.
D. Comparison of positioning error with conventional methods
Figure 5 shows the positioning error of the pedestrian in
the conventional and proposed methods. With the proposed
method, the average positioning error decreased more for both
stationary and moving pedestrians than in Conventional 1.
Compared to Conventional 2, in Proposal 1 the positioning
error in the moving situation hardly changed, but the average
positioning error in the stationary situation was smaller. More-
over, the maximum positioning error became smaller both in
the stationary and moving situations. Compared to Proposals 1
and 2, the average positioning error in Proposal 2 was smaller
than in Proposal 1. However, the variation in the positioning
error and the maximum positioning error in both the stationary
!
"
#
$
%
&
'
(
&
"!
"&
#!
)*+,-,*.,./0122*20345
6178*.00,.-1297:0345
)1;1+-2,7.0<0+-7-,*.72=
)1;1+-2,7.0<04*9,./
Figure 7. Relationship between beacon interval and positioning error
!"#
$"%
$"#
%"%
%"#
&"%
&"#
'
('
!'
$'
%'
&'
)'
*'
+'
,-./0/-1/123455-53678
9:7;453-<3=4>/?@4.
,4A4.05/B13C3.0B0/-1B5D
,4A4.05/B13C37-=/12
Figure 8. Relationship between number of vehicles and positioning error
and moving situations in Proposal 1 was smaller than in
Proposal 2. Proposal 1 also decreased the distance error and
the standard deviation of distance error as shown in Figure
6. Therefore, ﬁltering RSSI and the dynamic path loss index
effectively reduced the variation of the positioning error. We
considered that the reason why Proposal 1 did not become
smaller than Proposal 2 depends on the number of vehicles
shown in Section IV-F.
E. Evaluation of beacon interval
Figure 7 shows the change in the positioning error with an
increase in the beacon intervals. We found that the smaller the
beacon interval is, the smaller is the positioning error. We also
found that the larger the beacon interval is, the smaller is the
amount of change in the positioning error.
F. Evaluation of number of vehicles
Figure 8 shows the change in positioning error with an
increase in the number of vehicles. It did not become smaller
as the number of vehicles increases, and it is the smallest when
the number of vehicles is 10 in the stationary condition and
30 in the moving condition. This result was probably caused
by using WCL for the position estimation. Because WCL
calculates the weighted average of the position of vehicles and
beacons, we can accurately estimate the position in a situation
where the target is within a rectangle consisting of vehicles
and beacons as shown in Figure 9. However, in the proposed
method, we calculated positions using all the RSSIs that exceed
the threshold in Section III-E. Therefore, since the available
vehicle information increases when the number of vehicles
76
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

Target’s ideal position
Beacon
Beacon
Position when the number of vehicles increases
Figure 9. Ideal situation in WCL
increases, the estimated position is biased toward the vehicle
side as shown in Figure 9 and that leads to poor accuracy.
V.
CONCLUSION
In recent years, efforts are made for improving pedestrian
safety through vehicle-to-vehicle and vehicle-to-pedestrian
communication. For preventing accidents, accurate position
information is critical, but GPS has low positioning accuracy
in urban areas. We proposed a position estimation method
using RSSI of beacons and vehicles to improve the pedestrian
positioning accuracy in urban areas. When estimating positions
using RSSI, the RSSI ﬂuctuation and the static path loss
index lead to distance error. In our proposed method, we
applied a Kalman ﬁlter to reduce the RSSI ﬂuctuation. By
calculating the path loss index using vehicle-to-vehicle com-
munication, we dynamically dealt with the surrounding radio
wave propagation environment. Filtered RSSI and the dynamic
path loss index decreased the distance error and the standard
deviation of distance error. We evaluated the positioning error
of the conventional methods and the proposed method by
simulations and determined that our proposed method reduced
the positioning error. In the future, to further improve the
positioning accuracy by WCL, based on the evaluation result
of the number of vehicles, we will consider a method that
selects appropriate RSSI for position estimation.
ACKNOWLEDGMENT
This work was supported in part by JSPS KAKENHI Grant
Number 16H02814.
REFERENCES
[1]
M. Sepulcre and J. Gozalvez, “Experimental Evaluation of Cooperative
Active Safety Applications Based on V2V Communications,” in Pro-
ceedings of the Ninth ACM International Workshop on Vehicular Inter-
networking, Systems, and Applications, ser. VANET ’12.
ACM, 2012,
pp. 13–20, ISBN: 978-1-4503-1317-9, URL: http://doi.acm.org/10.1145/
2307888.2307893 [accessed: 2018-06-03].
[2]
J. J. Anaya, P. Merdrignac, O. Shagdar, F. Nashashibi, and J. E.
Naranjo, “Vehicle to Pedestrian Communications for Protection of Vul-
nerable Road Users,” in 2014 IEEE Intelligent Vehicles Symposium
Proceedings.
IEEE, 2014, pp. 1037–1042, ISSN: 1931-0587, URL:
https://ieeexplore.ieee.org/document/6856553/ [accessed: 2018-06-03].
[3]
M. Modsching, R. Kramer, and K. T. Hagen, “Field trial on GPS
Accuracy in a medium size city: The inﬂuence of built-up,” Proc. 3rd
Workshop on Positioning, Navigation and Communication, 2006, pp.
209–218.
[4]
V. Varshney, R. K. Goel, and M. A. Qadeer, “Indoor Positioning System
Using Wi-Fi & Bluetooth Low Energy Technology,” in 2016 Thirteenth
International Conference on Wireless and Optical Communications Net-
works (WOCN).
IEEE, 2016, pp. 1–6.
[5]
Z. Jianyong, L. Haiyong, C. Zili, and L. Zhaohui, “RSSI Based Bluetooth
Low Energy Indoor Positioning,” in 2014 International Conference on
Indoor Positioning and Indoor Navigation (IPIN).
IEEE, Oct. 2014, pp.
526–533.
[6]
S. Subedi, G. R. Kwon, S. Shin, S. Hwang, and J. Pyun, “Beacon
Based Indoor Positioning System Using Weighted Centroid Localization
Approach,” in 2016 Eighth International Conference on Ubiquitous and
Future Networks (ICUFN).
IEEE, July 2016, pp. 1016–1019.
[7]
“SPACE-TIME Engineering,” URL: https://www.spacetime-eng.com/en/
[accessed：2018-06-03].
[8]
“ITU-R Recommendation P.1411-9,” URL: https://www.itu.int/dms
pubrec/itu-r/rec/p/R-REC-P.1411-9-201706-I!!PDF-E.pdf
[accessed：
2018-06-03].
77
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-643-9
VEHICULAR 2018 : The Seventh International Conference on Advances in Vehicular Systems, Technologies and Applications

