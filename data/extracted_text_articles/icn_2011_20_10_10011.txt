Nader F. Mir 
Dept. of Electrical Engineering, San Jose State University 
One Washington Square 
San Jose, California 95192, U.S.A 
Office Phone: (408) 924-3986 
Email: nader.mir@sjsu.edu 
 
       Abstract-Various architectures have been proposed and 
implemented to handle the rapid growth in demand for video 
delivering technologies. This paper implements and thoroughly 
examines various Video-on-Demand (VoD) architectures using 
the NS2 simulation tool. The simulation tool used for the project 
provides an efficient platform to analyze different architectures 
and obtain performance metrics and plots. This article analyzes 
the VoD traffic, compares the performance of VoD architectures 
under different network conditions and suggests efficient 
network parameters required for VoD architectures to become 
more reliable and scalable. 
Keywords-Video On Demand; Interactive TV; Tele-
conferencing; VoD Architecture. 
 
 
I. 
INTRODUCTION 
       Video-on-demand (VoD) lso provides interactivity, large 
catalogue of content and flexibility to watch content at the 
user’s leisure rather than being bound by time limits.  Higher 
network bandwidth speeds, faster CPU’s and mobile internet 
such as Wifi and 3G have fueled the advancement of video-
on-demand technologies.  Video-on-Demand has wide range 
of applications in the field of entertainment, education, and 
business. Some of the examples of the applications are Movies 
on demand, Interactive video games, Interactive news 
television, Distance learning, Catalogue browsing, Interactive 
advertising, Video-conferencing, etc [1]. Video-on-Demand 
systems are continuously evolving and there have been 
contributions from researchers and the industry to provide 
varied capabilities and improved architectures. We analyze 
some of the architectures behind the Video-on-Demand 
systems. We use multiple approaches to provide this analysis, 
measure various parameters and give graphical representation 
of the results. 
       Performance of the Video-on-Demand system can be 
measured by evaluating various metrics.  The transport 
metrics [2] measured in this paper are packet loss, packet 
delay, and jitter. 
 
 
Savitha Ravikrishnan and  
Meera M. Nataraja, 
Dept. of Electrical Engineering, San Jose State University 
One Washington Square 
San Jose, California 95192, U.S.A 
Email: savy8429@gmail.com 
Email: mechins@gmail.com 
 
Packet loss in VoD system can be caused due to various 
reasons like bandwidth limitations, network congestion, link 
failures, transmission errors, signal degradation over the 
network medium, corrupted packets and faulty hardware.  
With UDP based video streaming protocols, a loss of packets 
will affect the video streams as information cannot be 
recovered as no retransmissions occur unless the upper layer 
protocol has support for it.  In case of TCP based protocols, 
retransmissions make sure that data is somehow sent to the 
client, but retransmissions can induce delays thereby causing 
frozen images. 
 
       Packet delays are very common in packet-based networks.  
The various possible routes the packet may have to travel and 
various factors like hardware, bandwidth speed and congestion 
in the different routes can cause a delay in the packet arrival.  
Usually video transmission protocols handle the arrival of 
delayed packets through buffering.  When the delay of 
arriving packets exceeds the buffer size the packet is dropped. 
This drop can affect video quality. 
 
       Jitter is defined as a measure of the variability over time 
of the packet latency of a network.  A short-term variation in 
the packet arrival time can be caused due to network 
congestion, difference in routes and hardware errors.  Usually 
a small jitter buffer is present in the client side to smooth out 
the variations by collecting out of order frames and 
sequencing it in the correct order.  With severe jitter, the 
buffer may overflow causing distorted video.  
 
The remaining of this article focuses on the performance 
evaluation of the video-on-demand systems with centralized 
architectures examining various clients attached to the system.   
 
II. 
PERFORMANCE EVALUATION 
       This paper implements VoD architectures in Network 
Simulator 2 [3]. Simulation environment used in the project is 
MyEvalvid_RTP Framework supported on Network Simulator 
2 [4]. Data analysis implementation is done to calculate the 
delay, jitter, inter-packet delay. The implementation is done 
Analysis of Reliable and Scalable Video-On-Demand Networks 
430
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

according to RFC3550 [5]. The delay of particular packet ‘i’ 
has been calculated using the formula provided below. 
Delay (i) = Receive_time (i) – Send_time (i)                        (1)                                                                                        
Average delay has been calculated using: 
Average delay per client = [
(delay)k ] / N                     (2)                                                          
where N is the number of clients in the system. The 
interpacket delay between two successive packets ‘i’ and ‘j’ 
has been calculated using the formula provided below. 
Interpacket_delay(i,j) = [Receive_time(j)-Receive_time(i)]-
[Send_time(j)-Send_time(i)]                                                 (3) 
The average interpacket delay of VoD network has been 
calculated using the equation provided below. 
Average interpacket delay per client = [
(interpacket 
delay)k ] / N                                                                           (4)                                                                
Jitter is defined as packet delay variation. In particular, inter-
arrival jitter is defined as mean deviation of interpacket-delay 
and has been implemented according to RFC3550 [10].  
Jitter(i) = Jitter(i-1) + [ |Interpacket_delay(i-1,i)| - Jitter(i-1) ] / 
16                                                                                           (5)                            
Average jitter has been calculated using the equation provided 
below. 
Average jitter per client = [
(jitter)k ] / N                    (6)      
Now, we compare two architectures: Centralized and Content-
based  networks.       
III. 
CENTRALIZED ARCHITECTURES 
       Centralized architecture is one in which the central video-
on-demand server’s are placed in the core of the network.  The 
various Internet service providers (ISPs) are connected to the 
core network through access networks which may take 
multiple router hops to reach the VOD server.  Figure 1 shows 
the simulated centralized architecture with 5 clients. Figure 2 
shows the flow diagram for the centralized architecture. The 
clients in turn are connected to the ISPs. To better understand 
the various factors affecting video quality at client side, a 
network as shown below was chosen.  The VOD server is 
connected to the router with a 30Mbps link and a delay of 
10ms.  The rest of the routers from 1 to 16 are connected with 
a constant bandwidth of 10Mbps and varying delays. 
       The clients were in-turn connected to their respective 
ISP’s with different link speeds to simulate the currently 
popularly available client bandwidth rates.  Clients 1-5 were 
connected at the rates of 768 Kbps, 1024 Kbps, 2 Mbps, 4 
Mbps, and 6 Mbps respectively.  All clients were simulated to 
request a same video of length 750 frames.  Various factors 
such as delay, inter-packet delay and jitter have been studied 
 
Figure 1. Simulated Centralized Architecture with 5 clients 
 
Figure 2. Flow diagram for Centralized Architecture 
 
Client 1, which was connected at 768 Kbps had the most 
varying data for delay.  Large variance in delay can affect the 
video quality badly.  In case of client 2 connected at 1024 
Kbps the delay values are significantly stable.  The reason for 
such a variance between client-1 and client-2 is the bit rate at 
which the video was encoded, which is 1024 Kbps.  Clients 3, 
4 and 5 show a constant delay data.   
       An interesting thing to note about clients 3, 4 and 5 is that 
even with better bandwidth client 5 has higher delay than 
client 4 and client 3.  This is due to the delay between the 
different routers and the higher number of hops that a frame 
takes to reach client 5, when compared to client 4.  Client 3 
has same number of hops as client 5, but the delay on a per 
hop basis has been configured to be less for client 3 which has 
actually boosted its performance. 
       The smoothened absolute value of inter frame delay gives 
the final jitter.  Large variance in inter frame delay depicts out 
431
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

of order frames, which can lead to very bad video quality.   
The client bandwidth plays a major role in the inter frame 
delay.  From the above simulation, client 1 and client 2 which 
have the least bandwidth connectivity’s to their respective 
ISPs have the most variance in inter frame delay.  With higher 
bandwidth connectivity clients 3, 4 and 5 have very less 
variance.  The inter frame delay plays a major role in the final 
inter frame jitter values.  With a large variance in delay, the 
jitter effect is more pronounced in clients 1 and 2.  Jitter 
corresponds to choppiness in the video and with high jitter 
values, video quality is drastically affected.  Figures 3, shows 
the delay for video transmission from VoD Server to Client.   
 
Figure 3. Delay for video transmission from VoD Server to Client 
 
 
Figure 4. Centralized Architecture Interpacket delay plot 
 
 
Figure 5. Centralized Architecture Jitter plot 
 
A. Case 1 
       The effect of increasing number of clients in centralized 
architecture is provided below. Video on demand is currently 
in a high growth spurt.  Scalability of architecture plays a vital 
role in its selection for widespread use.  To better understand 
the effect of increasing number of clients on centralized 
architecture, all clients are connected with a constant 
bandwidth link of 2 Mbps.  All router nodes are 
interconnected with a 10 Mbps link.  The number of clients is 
continuously varied and various factors like average delay, 
jitter and packet loss are studied. 
 
 
Figure 6. Average delay with the increase in the number of clients 
 
       All clients are configured to request the same video in our 
analysis, which gives consistent values for the graphs.  As we 
can see in Figure 6, with increasing number of clients choking 
432
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

the bandwidth, the average delay per packet increases.  In the 
scaled down network we can clearly see that till 16 
simultaneous clients, the variance in delay is very smooth and 
levels down.  When the 16 client threshold is reached a drastic 
increase in delay is seen.   
 
Figure 7. Average jitter with increase in the number of clients 
 
       The average jitter per client shown in Figure 7  is 
calculated by averaging the inter frame jitter on a per client 
basis. The effect of delay on Jitter is clearly seen in the above 
graph.  When the delay was constant and under 0.1 seconds 
till 16 clients, the jitter was varying in a constant manner.  
Once the sweet spot of 16 clients is exceeded a drastic change 
in jitter is seen. 
Packet loss percentage is calculated as  
100 x (1 – Packets seen / Packets expected) 
       Packet loss shown in Figure 8 shows the most drastic 
effect on video quality.  When frames of video data are lost, 
video starts stuttering and become distorted.  The drastic effect 
of packet loss with increasing number of clients once it 
reaches a particular count shows one of the major 
disadvantages of the centralized architecture.  The video 
quality has a very high dependency on the access network 
links. 
 
 
Figure 8. Average packet loss with increase in the number of clients 
 
B. Case 2  
       The effect of increasing access network bandwidth is 
provided below.  From the previous analysis with 5 clients, 
factors such as client bandwidth, router bandwidth and delay 
were shown as major factors affecting video transmission.  In 
this current experiment the client bandwidth is taken to be 
constant value of 2 Mbps, which is sufficient to transmit a 
1024 Kbps encoded video.  The major effect on quality of 
video transmission in case of centralized architecture is due to 
the bandwidth between the access links connecting the core of 
the network to the edge of the network. 
       As access network bandwidth plays a major role in the 
video quality transmitted to the client, the same test as above 
has been conducted with a constant number of clients but 
varying bandwidth.  The number of clients connected to the 
centralized video on demand server is kept at a constant value 
of 20.  The bandwidth across the access network between each 
node is constantly varied from 5 Mbps to 20 Mbps and the 
effect of varying bandwidth is studied.  
       The average delay per packet has only been calculated for 
the packets that have been successfully received on the client 
end.   With this data it is clear that increasing bandwidth 
reduces delay considerably.  Once we reach 16 Mbps, the 
delay becomes constant and is now dependent on the delay 
between links of the access network. A reduction in average 
delay corresponds to reduction in jitter.  Similar to delay, 
when sufficient bandwidth is present, the variation in delay 
becomes minimal. Figures 9, 10 and 11 are the results for this 
case. 
433
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

 
Figure 9. Average delay with increase in bandwidth 
 
 
Figure 10. Average jitter with increase in bandwidth 
 
 
Figure 11. Average packet loss with increase in bandwidth 
 
       Bandwidth has a very profound effect on packet loss 
percentage, which in turn plays a major role in video quality.  
Factors like delay and jitter can be handled by the client with 
enough buffering.  Packet loss on the other hand cannot be 
handled by the client without distortion or loss of video 
quality.  With increasing bandwidth, packet loss is drastically 
reduced. 
       From the above analysis we can see that for 20 clients 
downloading a video of 1024Kbps at the same time, a 
minimum access network bandwidth of 16Mbps is required 
for optimal performance.  The video on demand service 
provider is totally dependent on the access network which 
connects the VOD server to the client.  Access networks can 
scale across multiple routers and may even cross multiple 
countries.  It is thus very difficult on the part of the VOD 
service provider to ensure and guarantee video quality across 
the access network as the service provider has less to no 
control over the internet. 
IV. 
CONTENT DELIVERY NETWORKS 
       The major factor that was found to affect video quality in 
centralized architecture is the access network link.  This is 
totally removed out of picture when it comes to video delivery 
to the client in the CDN architecture.  Figures 12 and 13 show 
an overview and the flow diagram of content delivery 
networks proxy video-on-Demand servers, denoted by red 
hexagons are placed close to the edge of the network.  By 
placing the VoD proxies close to or at the ISP’s infrastructure, 
the massive delays and losses incurred due to access network 
links can be avoided.  The access network links are used only 
for replicating video content from the central VoD server to 
the VoD proxies.   
       In 
the 
below 
simulation, 
similar 
to 
centralized 
architecture, the clients are connected to the respective ISP’s 
with different link speeds to simulate the current popularly 
available client bandwidth rates.  Clients 1-5 were connected 
at the rates of 768 Kbps, 1024 Kbps, 2 Mbps, 4 Mbps, and 6 
Mbps respectively.  All clients were simulated to request a 
same video of length 750 frames.  Various factors such as 
delay, inter-frame delay and jitter have been studied. 
 
Figure 12. Simulated CDN (Hexagons labeled 1,2,3,4 & 5 are the 
proxy servers at the edge of the network) 
 
434
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

 
Figure 13. Flow diagram of Content Delivery Networks 
       In contrast to the centralized architecture, where the 
access network bandwidth and the client bandwidth both 
played a role in the delay noted, here only the client 
bandwidth affects the delay.  This can be seen by comparison 
on data of clients 3, 4 and 5.  In case of centralized 
architecture, due to better access link speed and delay client 3 
connected at 2 Mbps was performing better than client 5 
connected at 6 Mbps.  In case of centralized architecture, the 
delay decreases with increasing client bandwidth rates. 
 
Figure 14. Delay for video transmission from proxy server to clients 
 
       The plots of Figure 14 clearly show the advantages of a 
distributed architecture as content delivery networks.  
Centralized architecture has a single point of failure and leads 
to heavy network congestion at the core of the network, which 
drastically affects the video quality.  By distributing proxy 
servers towards the edge of the network, CDN no longer has a 
single point of failure.  As the number of hops between the 
client and server are reduced - jitter, delay and packet loss are 
comparatively lesser and better video performance is 
achieved. Hence the deployment of proxy servers near to the 
clients makes the VoD systems more reliable and scalable. 
V. 
CONCLUSION AND FUTURE WORK 
       In this article we analyzed the VoD traffic, and compared 
the performance of VoD architectures under different network 
conditions. We suggested efficient network parameters 
required for VoD architectures to become more reliable and 
scalable. With the best possible video on demand 
infrastructure, if the client does not make wise use of the 
existing bandwidth limits, video quality would be poor.  
Heavy network usage, computer virus, old versions of 
operating systems and unprotected network on the client end 
can have adverse effect on video on demand quality.  Cable 
modems and wireless routers generally used at homes these 
days have good firewalling and quality of service 
configuration support.  Bandwidth can be reserved in these 
devices for video on demand traffic.  This ensures that even 
when in times of excessive network usage, minimum required 
bandwidth for video on demand traffic is available.  The 
research in this article can be extended to non-centralized 
architecture in future. 
REFERENCES 
[1] T. Little and D. Venkatesh, “Prospects for Interactive 
Video-on-Demand”, IEEE Multimedia, Fall 1994, Volume: 1, 
Issue: 3,  pp. 13-17. 
[2] R. Louis, “Factors affecting video quality metrics,” 
Telchemy Publisher, February 2008. 
[3] http://www.isi.edu/nsnam/ns/, Last access date Nov. 2010. 
[4] C. Y. Yu, C. H. Ke, R. S. Chen, C. Shieh, B. Munir, and 
N. Chilamkurti, “MyEvalvid_RTP: a New Simulation Tool-set 
toward More Realistic Simulation,” Future Generation 
Communication and Networking, 6-8 Dec.2007, Volume: 1,  
pp. 90-93. 
[5] H. Schulzrinne, S.  Casner, R. Frederick, and V. Jacobson,. 
“RTP-A Transport protocol for real-time applications,” July 
2003, Request for Comments: 355. 
435
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

