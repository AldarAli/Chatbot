Stability Analysis for Multiple Voltage Source 
Converters Connected at a Bus 
 
 
Arindam Ghosh, Gerard Ledwich and Firuz Zare 
School of Engineering System 
Queensland University of Technology 
Brisbane, Australia 
a.ghosh@qut.edu.au, g.ledwich@qut.edu.au and 
f.zare@qut.edu.au 
Ritwik Majumder 
Power Technology Group 
ABB Corporate Research 
Vasteras, Sweden 
ritwik.majumder@se.abb.com
 
 
Abstract— This paper develops a tool for the stability analysis 
when multiple voltage controlled converters are connected to a 
distribution bus. In particular, the analysis is applicable to 
voltage source converters (VSCs) and has been extended to 
consider current control as well as voltage control. It is 
assumed that each VSC is controlled by a state feedback linear 
quadratic regulator (LQR) based switching design. A suitable 
model of the converter is first developed by including the state 
feedback gains. The model is then extended to incorporate 
parallel operation of two VSCs, connected to a bus. To 
consider 
autonomous 
operation, 
the 
power 
sharing 
arrangements without any explicit communication, i.e., droop 
controllers are incorporated in the model. Finally, a linearized 
model of the system is developed for Eigen analysis. It has been 
shown that the system response predicted by the developed 
model matches PSCAD simulation results very closely, thus 
confirming that the model developed can be used as an 
analytical tool. 
Keywords- Voltage source converters, autonomous operation, 
linear quadratic control, stability analysis. 
I. 
 INTRODUCTION  
In the past few decades, the use of power converters has 
become more common in uninterrupted power supply (UPS) 
application as well as in interfacing the micro sources in a 
distributed generation (DG) system. In a UPS application, 
the parallel operation of the converters can provide solution 
to improve capability, reliability and redundancy. In a 
distributed generation system, the micro sources, especially 
the intermittent types (like wind and solar), are interfaced 
through voltage source converters (VSCs) to the network 
[1].The converter can be used to maximize the energy yield 
from the micro source, control of output power and to 
improve power quality. The parallel connected converters 
control the power flow and quality by controlling the power 
conversion between the dc bus and the available grid [2]. 
Current regulator instability in parallel VSCs has been 
discussed in [3], in which a simple method of paralleling 
structures with carrier-based PWM current regulators to 
independently regulate each inverter’s current is employed. 
The instability between the parallel inverters and the 
common motor can result in large uncontrolled currents, 
when the current regulators enter PWM over modulation 
region, resulting in a loss of current control. 
However a current/load sharing mechanism has to be 
employed to avoid the overloading of any converters, 
especially when multiple converters are operating in an 
autonomous mode. Control of output power using output 
feedback is commonly used.  Since the output currents of the 
converters are regulated at every switching instant, even with 
the harmonics in the output current, converters can share the 
current as desired. 
The load sharing or the real and reactive power sharing 
can be achieved by controlling two independent quantities – 
frequency and the fundamental voltage magnitude [4, 5]. In 
[4], a control method for a converter feeding real and 
reactive power into a stiff system with a defined voltage is 
proposed, while [5] proposes a control scheme to improve 
the system transient stability. Both the paper uses frequency 
droop characteristics. In this paper however an angle droop is 
used as the power sharing mechanism [6]. 
A multi-converter system with instantaneous power 
sharing control is effectively a high order multi variable 
system. The VSCs should be controlled in such a manner 
that ensures a stable operation of the system. The system 
stability during load sharing has been further explored in [7-
10]. Transient stability of a power system with high 
penetration level of power electronics interfaced (converter 
connected) distributed generation is explored in [7]. In [8], 
small-signal stability analysis of the combined droop and 
average power method for load sharing control of multiple 
distributed generation systems (DGs) in a stand-alone ac 
supply mode is discussed. The overall dynamics of the 
regulated converter is described in [9], where the 
characterization of regulated converters is addressed to 
enable the assessment of the stability, performance, supply 
and load interactions as well as transient responses. The 
stability analysis in autonomous operation is shown in [10] 
185
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

in a hybrid system, where a wind-PV-battery system is 
feeding an isolated single-phase load. 
In this paper, a model of a VSC that is operating in a 
closed-loop state feedback control is developed. The model 
is then extended to incorporate parallel operation of two 
VSCs. To consider autonomous operation, the power sharing 
arrangements through droop controllers, are incorporated in 
the model. Finally a linearized model of the system is 
developed for eigen analysis. Eigenvalues studies are 
performed with the mathematical expressions of the model 
using MATLAB. Also, all the results are verified through 
simulation studies using PSCAD. It is shown that the system 
response predicted by the model developed matches the 
PSCAD simulation results very closely. 
A converter with its associate control affects the stability 
of a system that includes multiple VSCs. The main 
contribution of this paper is to demonstrate how the stability 
of such a system can be analyzed. This can be used as a 
screening tool before installing multiple parallel connected 
VSCs and choosing droop control parameters. 
II. 
CONVERTER STRUCTURE AND CONTROL 
All the DGs are assumed to consist of ideal dc voltage 
source supplying a voltage of Vdc to a VSC. The structure of 
the VSC is shown in Fig. 1. The VSC contains three H-
bridges that are supplied from the common dc bus. The 
outputs of the H-bridges are connected to three single-phase 
transformers that are connected in wye for required isolation 
and voltage boosting [11]. The resistance RT represents the 
switching and transformer losses, while the inductance LT 
represents the leakage reactance of the transformers. The 
filter capacitor Cf is connected to the output of the 
transformers to bypass switching harmonics, while Lf 
represents an added output inductance of the DG system. 
Together LT, Cf and Lf form an LCL or T-filter. 
 
Figure 1.  Converter structure. 
 
The equivalent circuit of one phase of the converter is 
shown in Fig. 2. In this, uVdc represents the converter output 
voltage, where u is the switching function and is given by u 
= ± 1. The main aim of the converter control is to generate u. 
From the circuit of Fig. 2, the following state vector is 
chosen 

c 
f
T
T
v
i
z  i



 
Figure 2.   Single-phase equivalent circuit of VSC. 
 
Then the state space equation of the system can be 
written as  
p
c
Cv
Bu
Az
z


 



where uc is the continuous time approximation of the 
switching function u. and  










 

























0
1
0
,
0
0
,
0
1
1
1
0
0
1
0
f
T
dc
f
f
f
T
T
T
L
C
L
V
B
C
C
L
L
L
R
A

The main aim of the converter control is to generate uc 
from a suitable state feedback control law such that the 
output voltage and current are tracked properly according to 
their references. It is easy to generate references for the 
output voltage vc and current if from power flow condition. 
However, the same cannot be said about the reference for the 
current iT. On the other hand, once the reference for vc is 
obtained, it is easy to calculate a reference for the current ic 
through the filter capacitor (see Fig. 2). 
To facilitate this, we define a new set of state vectors as 

c 
f
c
T
v
i
i
x




We then have the following state transformation matrix 
C z
z
x
P













1
0
0
0
1
0
0
1
1



The transformed state space equation is then given by 
combining (2) and (4) as 
186
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

p
p
c
p
p
p
C Cv
C Bu
x
C AC
x



1



If the system of (5) is sampled with a sampling time of 
T, then its discrete-time description can be written in the 
form 


 
 
 
k
Hv
Gu k
Fx k
x k
p
c


1 


To control the converter, we shall employ a discrete time 
line quadratic regulator which has the form 
 
 
 




 
 







c 
cref
f
fref
c
cref
ref
ref
c
v
k v
i
k i
i
i
k
x k
k
x
k
k
k
k
x
K x k
k
u











3
2
1
3
2
1


where xref is the reference vector and K is the feedback 
gain matrix obtained using discrete time linear quadratic 
regulator (LQR) with a state weighting matrix of Q and a 
control penalty of r. From uc(k), the switching function is 
generated as 
 
 
1
 then 
 
elseif
1
 then 
 
If
 


 

u
h
k
u
u
h
k
u
c
c
 

where h is a small number. We shall now demonstrate the 
effectiveness of the control through the following example. 
A Linear Quadratic Regulator is shown to produce an 
infinite gain margin and a phase margin of at least 60 [12]. 
Another important aspect of the LQR is that it is tolerant of 
input nonlinearities. The LQR design is stable provided that 
the effective gain of the input nonlinearity is constrained in 
the sector between ½ and 2 [12]. When the errors are large, 
and the control is bounded between + 1 and – 1 the elements 
of the gain matrix K must be small. For a set of decreasing 
values of r, we get a corresponding set of increasing values 
of K. Thus there always exists a value of r such that Kx is 
bounded appropriately. If we start from a finite set of state 
errors, there will be a K such that K(x  xref) will satisfy the 
upper sector bound, and since the system is open loop stable, 
the lower bound is not essential. 
 
Example 1: In this example, let us assume that the VSC 
of Fig. 1 is connected to an infinite bus at the PCC. The 
system parameters considered for the study are given in 
Table I. To design the discrete-time controller, we have 
chosen a diagonal state weighting matrix as Q = diag(1 1000 
10) and the control weighting as 0.01. This choice of Q 
emphasizes a maximum tracking effort on if and a minimum 
on ic. The sampling time is chosen as 10 s. The resultant 
gain matrix is K = [0.4338  8.3977  0.8405]. 
The desired converter output voltage is 11 kV (L-L, rms) 
with a phase angle of 30 (which translates into an 
instantaneous phase voltage of 8.98 kV peak). This sets the 
references of the currents from simple circuit laws. The peak 
of if reference is 59.195 A with an angle of 15, while the 
peak of ic reference is Cf9.98×103 A and its phase angle 
60, i.e., leading vc by 30. The nine instantaneous reference 
quantities (3 for each phase are formed) and are tracked 
using the control law given in (7) and (8). 
TABLE I.  
: SYSTEM PARAMETERS FOR EXAMPLE 1. 
System Quantities 
Values 
Systems frequency 
50 Hz 
PCC voltage Vp 
11 kV (L-L, rms) 
PCC voltage phase 
0 (Reference) 
DC voltage Vdc 
3.0 kV 
Single-phase transformers 
3//11 kV, with 10% leakage reactance 
(LT = 31.8 mH) 
Transformer losses RT 
0.1  
Filter capacitor Cf 
50 F 
Filter inductance Lf
250 mH 
 
The results are shown in Fig. 3. The converter output 
voltages and the injected currents (if) and their references 
(dotted lines) are shown in this figure. It can be seen that the 
transients die out within 2½ cycles (0.05 s) and the converter 
tracks the reference quantities. 
 
Figure 3.   Voltage and current tracking in Example 1. 
III. 
MATHEMATICAL MODEL OF VSC 
In this section, a composite model of the converter in the 
d-q domain is developed, which includes the controller as 
well. Traditional sliding mode design consider a function S 
and control such that 
S  0
S 
. Then the system will approach 
S = 0, which is called the sliding line [13, 14]. When a finite 
switch rate constraint is applied, the system will chatter 
around S = 0, at the switching frequency. For switching at  
1, the magnitudes of the switch frequency terms are all less 
than 1. When the system gain, at switch frequency and 
above, is less than , then the system response at switch 
frequency is less than . Thus when the system has sufficient 
lowpass filtering, its dynamics will follow the switching line 
with a negligible error. Since the VSC has an LCL filter to 
bypass the switch frequency harmonics, we can model the 
187
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

system as if it is on the sliding line. It is however to be noted 
that this model reduction will fail if there is a system 
resonance near the switch frequency. Therefore the choice of 
the filter parameters is critical. 
 
A. Converter Model 
 
From equivalent circuit shown in Fig. 2, the following 
equations are obtained for each of the phases of the three-
phase system 


T
dc
c
c
T
T
T
T
L
u V
v
L i
R
dt
di
.

 
 




f
f
T
c
C
i
i
dt
dv





dt
L di
v
v
f
f
p
c





Equations (9-11) are transformed into a d-q reference 
frame of converter output voltages, rotating at system 
frequency ω, where a-b-c to d-q transformation matrix P is 
given by 






















































2
1
2
1
2
1
3
2
sin
3
2
sin
sin
3
2
cos
3
2
cos
cos
3
2










t
t
t
t
t
t
P

Defining a state vector as 
T
cq
cd
fq
fd
Tq
Td
i
v
v
i
i
i
i
x
]
[


the state equation in the d-q frame is given by 
pdq
i
i cdq
i
i
i
C v
B u
A x
x


 



where ucdq and vtdq are two vectors containing the d and q 
axis components of uc and vt and 






























0
1
0
1
0
0
0
1
0
1
1
0
0
0
0
0
1
0
0
0
1
0
0
0
0
1
0
0






f
f
f
f
f
f
T
T
T
T
T
T
i
C
C
C
C
L
L
L
L
R
L
L
R
A












































0
0
0
0
1
0
0
1
0
0
0
0
and
0
0
0
0
0
0
0
0
0
f
f
i
T
dc
T
dc
i
L
L
C
L
V
L
V
B

From (7) and (4), uc can be expressed as 





c 
cref
f
fref
f
T
cref
c
v
k v
i
k i
i
i
k i
u







3
2
1

The above equation can be expressed as 


cref
fref
cref
c
f
T
c
k v
k i
k i
k v
i
k
k
k i
u
3
2
1
3
2
1
1






 


From (15), the d and q components of uc are given as 
refdq
i
i i
q
d
H x
G x
u
u

 








where 















3
2
1
1
3
2
1
1
0
0
0
0
0
0
k
k
k
k
k
k
k
k
Gi
 





3
2
1
3
2
1
0
0
0
0
0
0
k
k
k
k
k
k
Hi

T
cqref
cdref
fqref
fdref
cqref
cdref
refdq
v
v
i
i
i
i
x
]
 [

Substituting (16) into (14) we get 


pdq
i
i refdq
i
i
i
i
i
i
C v
B H x
B G x
A
x



 


 
B. Computation of References 
 
To solve the state equation (17), the reference vector xrefdq 
is required as input. In this sub-section, we shall discuss how 
they can easily be written in terms of the known quantities. 
We must however remember that all the d-q quantities are 
expressed in the reference frame of the converter output 
188
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

voltages. Let us define the three-phase instantaneous 
reference converter output voltages as 












120
sin
120 ,
sin
,
sin
t
V
v
t
V
v
t
V
v
cm
ccref
cm
cbref
cm
caref




Then the transformation (19) will result in 




  





cm
cqref
cdref
V
v
v
0



Consequently, the reference for the capacitor currents 
that are leading the corresponding voltages by 90 are given 
as 



  





0
f
cm
cqref
cdref
C
V
i
i




Now the expression for the power and reactive power are 
given by 

q q 
d d
v i
v i
P

 2
3




d q 
q d
v i
v i
Q

 2
3



Let the real and reactive power that are desired to be 
injected to the PCC by the converter be denoted respectively 
Pref and Qref. Then from (18), (20) and (21) we can write 






  





ref
ref
cm
fqref
fdref
P
Q
V
i
i
3
2



Combining (18), (19) and (22) we form the reference 
vectors in terms of Vcm, Pref and Qref. 
 
C. Transformation into a Common Reference Frame 
 
The reference quantities are defined in terms of the 
reference frame of the converter output voltage. These need 
to be converted into a common reference frame. Let us 
choose the PCC voltage as the reference frame D-Q. Let also 
the angle between the PCC voltage and the converter voltage 
be . Then the relation between these two frames is shown in 
Fig. 4. From these figure we can write 






 










 





q
d
q
d
Q
D
f
f
T
f
f
f
f




cos
sin
sin
cos


All the reference d-q quantities are pre-multiplied by T to 
transform them in D-Q frame. The converter equation (17) 
can then be re-written as 


pDQ
i
i refDQ
i
i
i
i
i
i
C v
B H x
B G x
A
x



 


 
Figure 4.  Relation between d-q and D-Q frames. 
 
Example 2: In this example, we shall investigate the 
converter model developed in (24) and compare the results 
obtained with those of Example 1. Therefore the system 
parameters that are chosen are the same as those given in 
Example 1. For this case, the real and reactive power injected 
by the converter are 770.3 kW and 206.4 kVAr respectively. 
The state equations are solved in MATLAB. The three-phase 
converter output voltage and injected current are shown in 
Fig. 5. It can be seen that the steady state response of these 
quantities are almost identical to those of Fig. 3. 
Comparing the responses in Figs. 3 and 5, it can be seen 
that they differ in the initial starting period. During this 
period, the system is trying to reach the sliding line. Once the 
system is on this line, the two responses are nearly identical. 
This is illustrated in this above example. Once the system is 
on the sliding line, it is robust to perturbations to system 
operating conditions, as will be illustrated in some of the 
subsequent examples. Therefore the model presented can be 
used for eigenvalue analysis and system response prediction 
IV. 
MATHEMATICAL MODEL OF TWO VSCS OPERATING 
IN PARALLEL 
In this section, we develop the model when two VSCs are 
operating in parallel. The single-line diagram of the system 
considered is shown in Fig. 6. In this, the PCC is connected 
to an infinite bus with a voltage of vs. A load, with an 
impedance of RL + jLL is connected to the PCC. The load 
current is denoted by iL. The system parameters and 
quantities of the two VSCs are denoted by subscripts 1 and 
2. 
189
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

 
Figure 5.   Output voltage and injected current for Example 2. 
 
Figure 6.   Single-line diagram of parallel operation of two VSCs. 
 
The state equations of the VSCs can be written in the 
form (24) as 


pDQ
i
ref DQ
i
i
i
i
i
i
i
C v
B H x
x
B G
A
x
1
1
1
1
1
1
1
1
1



 




pDQ
i
DQ
ref
i
i
i
i
i
i
i
C v
B H x
x
B G
A
x
2
2
2
2
2
2
2
2
2







Furthermore, the load current in D-Q component is given 
as 























  





PQ
pD
L
L
LQ
LD
L
L
L
L
LQ
LD
v
v
L
L
i
i
L
R
L
R
i
i
dt
d
1/
0
0
/
1




Therefore defining a composite state vector as 

LQ 
LD
T
i
T
i
T
t
i
i
x
x
x
2
1


we can combine (25)-(27) to form the overall state space 
equation of the system. 
 
Example 3: Let us consider the system shown in Fig. 6. 
Both the VSCs have the same parameters and the PCC 
voltage the same as discussed in Examples 1 and 2. The load 
resistance is 48.2  and the inductance is 0.3 H. At the 
beginning, the following are assumed 
20  kV
3
11
30  kV and 
3
11
2
1






c ref
c ref
V
V
 
This implies that P1ref and Q1ref are the same as those 
given in Example 2, while P2ref = 526.9 kW and Q2ref = 92.9 
kVAr. With the system operating in steady state with these 
values, the reference for VSC-2 is suddenly changed at 0.05 
s. The peak of the voltage is reduced to 95% of the nominal 
value, while its phase angle is changed to 30. The reference 
powers are P2ref = 731.79 kW and Q2ref = 122.9 kVAr. The 
system responses for VSC-2 are shown in Figs. 7 and 8, 
where the solid lines depict the MATLAB results and the 
dotted lines depict the PSCAD outputs. In Fig. 7, the 
converter output voltages (vc2) are shown. It can be seen that 
the PSCAD results are almost identical to those of 
MATLAB. The injected currents (if2) are shown in Fig. 8. It 
can be seen that the difference between the PSCAD 
simulation results and the predicted behaviors using 
MATLAB are very small and they match exactly in the 
steady state. 
 
Figure 7.  Simulated and predicted output voltages of VSC-2. 
 
Figure 8.  Simulated and predicted injected current by VSC-2. 
190
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

V. 
MATHEMATICAL MODEL FOR AUTONOMOUS 
OPERATION 
For this case, we assume that the PCC is a floating 
source, i.e., the voltage source vp in Fig. 6 is absent and the 
two converters operate in parallel to share the load through 
droop characteristics. In this paper, we use an angle droop 
based on the active power [6] and a voltage magnitude droop 
based on reactive power. These are given by 



rated 
cm rated
cm
rated
rated
Q
Q
n
V
V
P
P
m













where Vcm-rated and δrated are the rated voltage magnitude 
and angle respectively of a VSC when it is supplying the 
load to its rated power levels of Prated and Qrated. 
Calculating 
real 
and 
power 
from 
instantaneous 
measurements can often lead to ripple in these quantities that 
will cause ripple in the converter references. To avoid this, 
the real and reactive power are passed through low pass 
filters before they are used in the droop equations. These low 
pass filters are given by 
Q
s
Q
P
s
P
c
c
e
c
c
e











where P and Q are instantaneous measured values and Pe 
and Qe are their respective filtered outputs. We now 
substitute these values and  and Vcm in (18), (19) and  (22)  
Since the PCC is not connected to an infinite bus, we 
have to eliminate the vector vpDQ from the state equation. 
From (27), we can write 













 





 





LQ
LD
L
L
L
L
L
LQ
LD
L
PQ
pD
i
i
L
R
L
R
L
i
i
dt
d
L
v
v




Again, using Kirchoff’s current law (KCL) at PCC, we 
get 
Q
f
f Q
LQ
D
f
f D
LD
i
i
i
i
i
i
2
1
2
1
 and  






Let us now define a new set of state vectors that contain 
only the state equations of the two converters. This is given 
by 

T 
i
T
i
T
c
x
x
x
2
1


We can then express (30) in terms of the above state 
vector and its derivative as 
P c
P c
PQ
pD
B x
A x
v
v

 

















where the matrices Ap and Bp both have dimensions 
(12×2) and are computed from (30) and (31). From (24) and 
(32), we get the state space for the autonomous operation of 
the two VSCs as 

P c 
P c
i
i
crefDQ
i
i
i
i
c
i
i
i
i
i
i
c
B x
A x
C
C
x
B H
H
B
x
B G
A
B G
A
x




 














2
1
2
2
1
1
2
2
2
1
1
1
 
 (33) 
The above equation can be regrouped to form the state 
space equations for the autonomous operation of the VSCs as 
c crefDQ
c c
c
B x
A x
x

 



where 
P
i
i
A
C
C
I
E



 

2
1
12
 









 








P
i
i
i
i
i
i
i
i
c
B
C
C
B G
A
B G
A
E
A
2
1
2
2
2
1
1
1
1
 






2
2
1
1
1
i
i
i
i
c
H
B
B H
E
B
 
and I12 is a (12×12) identity matrix. 
 
Example 4: Let us consider the same system discussed in 
Example 3, except the voltage source vps, which is removed. 
Also the filter inductance of VSC-2 has been changed to 
0.3125 H. The droop coefficients from (28) are chosen as 
.0 0125 kV/MVAr
01 kV/MVAr and 
.0
.0 125 rad/MW
rad/MW and 
 1.0
2
1
2
1




n
n
m
m
 
The cutoff frequency for the low pass filters are chosen 
as c = 31.4 rad/s. The results are shown in Figs. 9 to 12. In 
all these figures, the MATLAB model and PSCAD 
simulation results are shown in sub-figures (a) and (b) and 
the errors between them are shown in (c). Fig. 9, the output 
voltage for phase-a of VSC-2 is shown. It can be seen that 
the maximum error between the MATLAB prediction and 
PSCAD simulation are less than 30 V, while the peak of the 
phase voltage is nearly 9 kV. This implies that the error is 
less than 0.33%. Similarly From the converter output 
(injected) current of VSC-2, shown in Fig. 10, it can be seen 
that the error is less than 0.2 A (0.4%). The output powers of 
the two converters are shown in Fig. 11. The errors are less 
than 0.5%. Similarly, from the reactive power plot shown in 
Fig. 12, it can be seen that the errors are less than 0.1 %. We 
can then surmise that the prediction model can predict the 
system behavior fairly accurately. 
191
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

 
Figure 9.  VSC-2 output voltage of phase-a and its error. 
VI. 
SMALL SIGNAL MODEL FOR EIGEN ANALYSIS 
Since the system response obtained by the mathematical 
model closely matches that of the PSCAD simulation, the 
VSC model developed in the previous sections can be used 
to find an autonomous small signal model of the system 
discussed in the previous section. To facilitate this, we must 
eliminate the reference vector (34). 
 
Figure 10.  VSC-2 output current of phase-a and its error. 
 
Figure 11.  Output active power of the converters and their error. 
 
Figure 12.  Output reactive power of the converters and their error. 
 
From (29), (20) and (21), we can write 



cd fq 
cq fd
c
e
c
e
cq fq
cd fd
c
c e
e
v i
v i
Q
Q
v i
v i
P
P








2
3
2
3








Linearizing the above equations around an operating 
point, we obtain 



dq 
fq
fq
cd
cq
fd
fd
cq
c
e
c
e
cq
fq
fq
cq
cd
fd
fd
cd
c
e
c
e
v
i
i
v
v
i
i
v
Q
Q
v
i
i
v
v
i
i
v
P
P









 










 

0
0
0
0
0
0
0
0
2
3
2
3









where the suffix  defines a perturbed quantity and 
subscript 0 signifies the nominal values. Defining a vector of 
active and reactive powers as 

e T
e
e
e
pq
Q
P
Q
P
x
2
2
1
1


equation (26) can be written as 
c
pq
pq
pq
pq
x
B
x
A
x








where Apq = diag(c  c  c  c) and Bpq can be 
derived from (36). 
We shall now replace the reference quantities by Pe and 
Qe. To do that, we first linearize the droop equations (28) to 
obtain 
e
cm
e
Q
n
V
P
m
   

 
  



192
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

Then from (18) and (23) we get 










 





cm
cQref
cDref
V
v
v
0
cos
sin
sin
cos




 
Linearizing the above equation and substituting (38), we 
get 












  







e
e
cm
cmo
cQref
cDref
Q
P
n
mV
n
mV
v
v
0
0
0
0
0
cos
sin
sin
cos






In a similar way, we find the references for the capacitor 
current are given as 













 







e
e
cQref
cDref
Q
P
i
i
0
2
0
1
0
2
0
1
sin
cos
cos
sin










where 1 = mCfVcm0 and 2 = nCf. Finally replacing 
Pref and Qref by Pe and Qe respectively in (22), we get the 
linearized expressions for the injected currents as 










 







e
e
cm
fQref
fDref
Q
P
V
i
i
22
21
12
11
0
1






where 










0
0
22
0
0
0
0
0
21
0
0
12
0
0
0
0
0
11
3 sin
2
cos
cos
sin
3
2
3 cos
2
sin
cos
sin
3
2
fQ
e
e
fD
e
e
ni
mQ
mP
ni
mP
mQ


























 
We can then write the reference vector in (34) as 
pq
c
crefDQ
x
M
x






where the elements of Mc are obtained from (39)-(41). 
Combing (34), (37) and (42), we get a homogeneous state 
space description of the complete system as 













  







pq
c
pq
pq
c
c
c
pq
c
x
x
A
B
B M
A
x
x




This homogenous model can now be used for eigenvalue 
analysis. 
 
Example 5: Let us consider the system discussed in 
Example 4. For eigenvalue analysis we vary a parameter m 
from 0.01×106 rad/W to 1.8×106 rad/W. Furthermore we 
choose the angle droop gains as m1 = m and m2 = 1.25×m. 
The plots of the dominant eigenvalues are shown in Fig. 13. 
It can be seen that for m = 1.4785×106 rad/W, the dominant 
eigenvalues cross the imaginary axis. Also the oscillation 
frequency of the dominant eigenvalues is roughly 314 rad/s 
(50 Hz). From eigenvectors it has been determined that these 
eigenvalues are associated with real and reactive power 
supplied by the VSCs. 
To validate the eigenvalue results, PSCAD simulations 
studies are carried out for the same system. With the system 
operating at steady state with the nominal values of droop 
gains given in example, the value of m is changed suddenly 
at 0.1 s. Fig. 14 shows the plots of the real power output of 
VSC-2 for three different values of m. Fig. 14 (a) shows a 
damped oscillation for m = 1.3×106 rad/W, for which all the 
eigenvalues are not the left half s-plane. Fig. 14 (b) shows 
sustained oscillation for m = 1.4785×106 rad/W, for which 
the dominant eigenvalues are on the imaginary axis. The 
unstable case for which the dominant eigenvalues are on the 
right half s-plane are shown in Fig. 14 (c) for m = 1.8×106 
rad/W. Also notice that there are five peaks and five troughs 
in each 0.1 s, indicating that the oscillation frequency is 50 
Hz. This fundamental frequency oscillation is also predicted 
by the eigenvalues. 
It is to be noted that n1 and n2 do not have a significant 
influence on the eigenvalues. However, if they are chosen 
arbitrarily large, the voltage regulation will fail and the 
converter output voltage will collapse leading to an 
instability in which no power can be transferred. 
 
Figure 13.   Eigenvalues plots from stability analysis. 
 
Figure 14.  VSC-2 output power showing stable, undamped and unstable 
193
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

VII. CONCLUSIONS 
This paper proposes a method for developing a model for 
multiple VSCs operating in parallel in an autonomous mode. 
Each VSC is equipped with a T-filter and is assumed to 
operating in a full state feedback control of output voltage 
and current. The feedback gains are derived using LQR 
equations. Eigen value analysis and simulation studies are 
carried out in parallel. It has been shown that the system 
response predicted by the mathematical model matches the 
simulation results accurately, especially along the sliding 
line. Therefore the proposed model, with minor modification 
to include network, can be used for studying large systems 
when multiple converters operating in parallel to share loads. 
ACKNOWLEDGMENT 
The authors thank ABB Corporate Research, Sweden and 
Queensland University of Technology, Australia. 
 
REFERENCES 
[1] M. Reza, D. Sudarmadi, F. A. Viawan, W. L. Kling, and L. 
Van Der Sluis, “Dynamic Stability of Power Systems with Power 
Electronic Interfaced DG,” Power Systems Conference and 
Exposition, PSCE'06, pp. 1423-1428, 2006. 
[2] G. Ledwich and A. Ghosh. “Flexible DSTATCOM operating 
in voltage or current control mode,” Generation, Transmission and 
Distribution, IEE Proceedings-Vol. 149, No. 2, pp. 215-224, 2002. 
[3] J. Thunes, R. Kerkman, D. Schlegel, and T. Rowan, “Current 
regulator instabilities on parallel voltage-source inverters,” IEEE 
Trans. Industry Applications, Vol. 35, No. 1, pp. 70-77, 1999. 
[4] M. C. Chandorkar, D. M. Divan, and R. Adapa, “Control of 
parallel connected inverters in standalone ac supply systems,” 
IEEE Trans. Industry Applications, Vol. 29, No. 1, pp. 136-143, 
1993. 
[5] J. M. Guerrero, L. G. de Vicuna, J. Matas, M. Castilla, and J. 
Miret, “A wireless controller to enhance dynamic performance of 
parallel inverters in distributed generation systems,” IEEE Trans. 
Power Electronics, Vol. 19, No. 5, pp. 1205-1213, 2004. 
[6] R. Majumder, A. Ghosh, G. Ledwich, and F. Zare, “Load 
sharing and power quality enhanced operation of a distributed 
microgrid,” Accepted to appear in IET Renewable Power 
Generation, Vol. 3 , No. 2, pp. 109-119, 2008 
[7] J. G. Slootweg and W. L. Kling, “Impacts of distributed 
generation 
on 
power 
system 
transient 
stability,” 
Power 
Engineering Society Summer Meeting, 2002 IEEE Vol. 2, No. , pp. 
862-867, 2002. 
[8] M. N. Marwali, M. Dai, and A. Keyhani, “Stability Analysis 
of Load Sharing Control for Distributed Generation Systems,” 
IEEE Trans. Energy Conversion, Vol. 22, No. 3, pp. 737-745, 
2007. 
[9] T. Suntio, M. Hankaniemi, and M. Karppanen, “Analysing the 
dynamics of regulated converters,” Proc. IEE Electric Power 
Applications, Vol. 153, No. 6, pp. 905-910, 2006 
[10] W. Li and L. Tsung-Jen, “Stability and Performance of an 
Autonomous Hybrid Wind-PV-Battery System,” International 
Conference on Intelligent Systems Applications to Power Systems, 
pp. 1-6, 2007.  
[11] A. Ghosh and A. Joshi, “A new approach to load balancing 
and power factor correction in power distribution system,” IEEE 
Trans. Power Delivery, Vol. 15, No. 1, pp. 417-422, 2000. 
[12] B. D. O. Anderson and J. B. Moore, Linear Optimal Control, 
Prentice-Hall, Englewood Cliffs, N.J., 1971. 
[13] J. J. E. Slotine and W. Li, Applied Nonlinear Control, 
Prentice-hall, Englewood Cliffs, N.J., 1991. 
[14] H. K. Khalil, Nonlinear Systems, 3rd Ed., Prentice-Hall, 
Upper Saddle River, N.J., 2002. 
 
 
194
ENERGY 2011 : The First International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-136-6

