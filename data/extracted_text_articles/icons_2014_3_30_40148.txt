Recognition of Haemolytic Transfusion Bags  
 
Petra Rajmanová 
Faculty of Electrical Engineering and Computer Science 
VŠB - TUO 
Ostrava, Czech Republic 
petra.rajmanova@vsb.cz 
Pavlina Núdziková 
Faculty of Electrical Engineering and Computer Science 
VŠB - TUO 
Ostrava, Czech Republic 
pavlina.nudzikova@vsb.cz
 
 
Abstract—This paper is about automatic recognition of 
haemolysis in transfusion bag. Currently, haemolysis in blood 
bag is recognized by a visual estimation. Nurses compare the 
colour of blood plasma with reference samples and according 
to their own opinion they evaluate whether blood plasma is 
damaged or not. The parameter for the comparison is colour. 
The best is to use image sensors – camera or video camera for 
analysis. Software that is designed in MATLAB programming 
environment is able to evaluate colour of blood plasma 
according to the reference samples. Determination of colour is 
done in three colour spaces, namely, RGB, Lab, and xyY. 
Keywords-method; colour recognition; haemolysis; blood 
plasma; references samples; camera. 
I. 
 INTRODUCTION  
With the growth of treatments, there is increasing need 
for donated blood.  This donated blood cannot be artificially 
manufactured or substituted. This process is indispensable 
for medicine. Blood may be obtained in two ways. The first 
possibility is to take of full blood with components. The 
second possibility is a targeted sampling of individual blood 
components. All the blood is processed into erythrocytes, 
plasma, and leukocytes. In plasmapheresis the donors took 
off only blood plasma and other blood components are 
returned to their body.  During the sampling and subsequent 
processing of blood plasma [1, 2], it is possible to damage 
blood plasma, which is called haemolysis. It is impossible to 
use such plasma for next processing. 
II. 
TAKING OF BLOOD AND PROCESSING  
Donation of blood is a process. The blood is used for 
medical processing. There are two ways of taking of blood. 
The first possibility is to take of full blood with all 
components. The second possibility is a targeted sampling of 
individual components. The blood is taken into plastic bag. 
The plastic bag has anticoagulable solution inside. Individual 
bags are connected by tubes. The tubes have needles at the 
end. 
A. Taking of full blood 
Every time, the taken blood is processed on erythrocytes 
concentrate, on blood plasma, and on leukocytes.  Full blood 
is divided in centrifuge. Blood is separated in individual 
components by special blood press; see Figure 1. Blood 
plasma is in upper part of blood bag. A buffycoat is in the 
middle of the blood bag. Erythrocytes are in lower part of 
transfusion bag.  
 
Figure 1.   Blood press. 
Between bags is safeguard that has to be broken. After 
that is possible to separate blood components. Completed 
bags are stored in special fridge or freezer. 
B. Target sampling 
Target sampling is specific method of taking of blood, 
especially when it is donated only by one blood component. 
It 
is 
called 
trombocytopheresis, 
erytrocytapheresis, 
plasmapheresis. 
III. 
HAEMOLYSIS 
 Erythrocytes are very sensitive. The membrane can be 
damaged by some physical and chemical agent. When the 
membrane is damaged haemoglobin flow out of the cell to 
blood plasma. This phenomenon is called haemolysis. This 
may occur for example during processing of blood plasma 
when it is centrifuged at high speed, after premature 
centrifugation or wrong break out of fuses or due to thermal 
effects [3]. When the fuse is broken wrongly, it is due to 
sharp edges. If the blood components are separated, 
erythrocytes can be damaged by these sharp edges. In current 
practice, the haemolysis in blood plasma bag is subjective 
analysis [4]. 
IV. 
DESIGNED METHOD 
Currently, haemolysis is recognized by comparison of 
blood plasma with reference samples; see Figure 2. This is 
done by nurses in laboratory. This method is very unreliable 
because human eye has different perception of colour and of 
brightness.  
63
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-319-3
ICONS 2014 : The Ninth International Conference on Systems

 
Figure 2.  Colour scale for assessing degrees of haemolysis, expressed in 
g/l [mg/dl] haemoglobin. 
Blood plasma can be used in hospital or it can be 
shipped to industrial factory for processing. Transfusion 
bags are checked between their usage; mainly, on colour, 
barcode or the integrity of the bag. 
A. Choice of method 
Haemolysis can be recognized by two methods. 
Spectrometry is recognition by optical method. Spectrometry 
gives only information about wavelength characterizing the 
colour of the plasma. Optical sensors are better for 
recognition of colours. Colour can be recorded by camera or 
video camera. Information is summarized on the image. This 
picture is processed on computer. Haemolysis is detected by 
the algorithm in Section C. Besides recognition of colour, 
there is possible to get information about barcode and check 
integrity of the bag. 
B. Block diagram 
The base of method is to design a measure chain; see 
Figure 3. It consists of light source, blood plasma, recorder 
and processing on computer. 
 
 
Figure 3.  Block diagram for analysis of blood plasma by image sensor. 
Light sources can be natural or artificial. Daily light is 
not so good for recognition of colour. The halogen ball is 
better than daily light or normal bulb. The worst source of 
light is fluorescence tube. Light imperfection can be 
minimalized by some filters. 
Blood plasma has to be checked before its freezing 
because after freezing, blood plasma is covered by a white 
frost. White frost has its influence on recognition. 
Recording medium can be camera or video camera. In 
this experiment, a Camera Canon EOS 450D was used. 
Processing on computer is last step in recognition [5, 6]. 
C. Algorithm of software 
The algorithm was designed in MATLAB. Pictures have 
been taken by camera in Blood Centre of the Faculty 
Hospital in Ostrava. Haemolysis has been recognized in 
three colour spaces. After that, it has been compared which 
model is the best. The colour spaces are RGB, Lab, xyY. 
The RGB model is composed of R = red colour, G = 
green colour and B = blue colour. The model is based on 
knowledge reference colours. These references colours 
signify the level of haemolysis. These samples have been 
taken from the tab; see Figure 2. When the colour of blood 
plasma is the same like sample number one, it is represented 
by red colour. The second sample is represented by yellow 
colour. When the colour of blood plasma is the most similar 
to third sample, this area will be blue. The forth sample is 
represented by turquoise colour, fifth by green colour, sixth 
by pink and the last one is represented by black colour; see 
Figure 4. 
 
 
Figure 4.  Colours of references samples. 
The second model is the Lab model. L is brightness 
component “a, b” and represents colours of components. L 
component is unnecessary; the algorithm does not use it for 
recognition. The algorithm uses only component “a, b”. The 
reference colours come from tab; see Figure 2. The values 
are transferred from RGB to XYZ and from RGB to Lab by 
transformational equation [7]: 
 
                                               
                                               
                                               
 
         
  
 
  
 
     
          
  
 
  
 
    
  
 
  
 
  
          
  
 
  
 
    
  
 
  
 
  
 
The focus is calculated for every individual reference 
sample with coordinates “x, y”. Blood plasma is classified to 
the nearest sample. 
Last model is xyY model. This model includes the extent 
of human seeing. Y is brightness and colours components are 
“x, y”. Transformational equation transfers values from RGB 
to XYZ and from XYZ to xyY. Algorithm does not use Y 
component [7]. 
   
 
      
   
 
      
    
 
 
 
64
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-319-3
ICONS 2014 : The Ninth International Conference on Systems

V. 
TESTING 
Transfusion bags with blood plasma for testing are 
software coming from Blood Centre of the Faculty Hospital 
in Ostrava. The number of testing blood plasmas was 91. 
Two blood plasmas were all right and 2 were haemolytic. 
Pictures were taken with different light sources. Forty eight 
blood plasmas were taken with daily light. The other plasmas 
have been taken with artificial light source - Aputure AL-198 
LED light and the light of LCD display which was put under 
the plasma. Nine blood plasmas were taken twice, with daily 
light and with LCD display and results were compared. All 
pictures have been tested in RGB, Lab and xyY colour 
space. 
A. RGB 
The algorithm evaluated five blood plasmas wrongly. It 
detected haemolysis for clear blood plasma. Mistakes were 
in the first half of testing in RGB colour space. In Figure 5, 
there is Software for recognition of haemolysis. There is also 
blood plasma, which is analysed in RGB colour space. 
Plasma is painted with colours of reference samples which 
occur in blood plasma. 
 
 
Figure 5.  Software for analysing a blood bag with blood plasma - RGB 
model. 
Plasma is painted with colours of reference samples that 
are occur in blood plasma. Reference samples are in RGB 
colour space, as shown in Figure 4.  
 
 
Software downloaded picture of blood plasma 
and reference samples. 
 
Picture with blood plasma was recognized by 3 
models. 
 
Results were presented by colours on the picture 
with blood plasma and in graph; see Figures 5, 6 
and 7.  
 
Accurate values can be shown by cursors. 
B. Lab 
The algorithm evaluated two blood plasmas wrongly. 
The example is in Figure 6. 
 
 
Figure 6.  Software for analysing a blood bag with blood plasma - Lab 
model. 
Plasma is painted with colours of reference samples 
which are occurred in the blood plasma. Reference samples 
are in Lab colour space too.  
C. xyY 
The model xyY is the worst way for recognition of 
haemolysis in blood plasma. The number of wrong results is 
eleven and software detected two haemolysis of blood 
plasmas as clear blood plasma; see Figure 7. 
 
 
Figure 7.  Software for analysing a blood bag with blood plasma – xyY 
model. 
Plasma is painted with colours of reference samples that 
occur in blood plasma. Reference samples are in xyY colour 
too. 
 
Figure 8.  Blood plasma puts on white pad during daily light. 
65
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-319-3
ICONS 2014 : The Ninth International Conference on Systems

In Figure 9, there is blood plasma on white pad. The light 
source was daily light. Blood plasma has lightly colour at the 
end of transfusion bag. Bag has barcode in the middle. This 
barcode does not influence the recognition. Only Lab model 
made right detection. RGB model detected little amount of 
the fifth step of haemolysis. The model xyY recognized 
haemolysis in the half of transfusion bag.  
 
Figure 9.  Blood plasma puts on LCD display. 
In Figure 9, there is blood plasma put on LCD display. 
The source was light. There you can see barcode in the 
middle of the bag. The barcode was influenced by the 
results. The colour is darker than at the marginal part of 
transfusion bag. This is why this part is not important for 
classification. These conditions are better for classification of 
all colour models. There is no haemolysis in blood plasma. 
VI. 
FUTURE PLAN 
The algorithm can recognize colour of blood plasma on 
knowledge reference colours. These colours come from the 
table; see Figure 1. The plan uses real colour of blood 
plasma and does reference colours from these samples. 
When blood plasma was on the LCD pad, the barcode was in 
the middle. Haemolysis was detected from whole bag. The 
plan is recognize haemolysis just from peripheral parts 
without middle part, where the barcode is.  
 This method can be enlarged on other functions. One of 
the functions can be checking barcodes. Nurses do this 
checking. They are checking integrity of bag too. This can 
be done by algorithm too. The nurses could have more time 
for another more important work.  
VII. 
RESULTS 
The aim of this work was to design a method for 
automatic recognition of haemolysis in blood plasma. This 
method was designed in close cooperation with Blood Centre 
of Faculty Hospital Ostrava. Colour of blood plasma was 
analysed in three colour spaces RGB, Lab, xyY. Pictures 
have been taken by camera and light sources, such us daily 
light, LED light and LCD display light.  The worst results 
were in xyY colour space. This colour space is based on 
human seeing. This can probably be the reason for the worst 
recognition. Majority of mistakes were caused by bad light 
source. When the transfusion bag was on the white table and 
light source was LED light.  
Software was designed in MATLAB. It has many 
functions. Software can recognize haemolysis of blood 
plasma in three colour space. The result can be seen on 
picture with blood plasma. Detected colours are marked by 
colours of references samples. The quantity of colours is 
marked in the graph. 
Future plan is to work out the software in detail, to make 
new reference samples from real plasma and to use light 
conditions at high quality. Finally, the aim is to make this 
method automatic in Hospital and in Industrial Factories. 
ACKNOWLEDGMENT 
This work is supported by project SP2013/168, named 
"Methods of Acquisition and Transmission of Data in 
Distributed Systems" of Student Grant Agency (VSB - 
Technical University of Ostrava). 
 
This work is also supported by project SP2013/135, 
named "Control of technological systems with OAZE 
providing an independent sustainable development of 
complex systems" of Student Grant Agency (VSB - 
Technical University of Ostrava. 
REFERENCES 
[1] E. Gkoumassi, M. J. Dijkstra – Tiekstra, D. Hoentjen, and J. de Wildt 
- Eggen, Haemolysis of red blood cells during processing and storage, 
Transfusion, vol. 52, Mar. 2012, pp. 489-492, doi:10.1111/j.1537-
2995.2011.03298. 
[2] G. Lippi and M. Franchini, Advancements in laboratory diagnostics: 
an invaluable tool for assessing quality of blood transfusions, Blood 
Transfusion, vol. 58, Dec. 2012, pp. 1-2, doi:10.2450/2012.0226-12. 
[3] J. R. Hess, R. L. Sparrow, P. F. van der Meer, J. P. Acker, R. A. 
Cardigan, and D. V. Devine, Red blood cell haemolysis during blood 
bank storage: using national quality management data to answer basic 
scientific questions, Transfusion, vol. 49, Dec. 2009, pp. 2599-2603, 
doi:10.1111/j.1537-2995.2009.02275. 
[4] K. A. Janatpour, T. G. Paglieroni, V. L. Crocker, D. J. Du Bois, and 
P. V. Holland, Visual assessment of haemolysis in red blood cell units 
and segments can be deceptive, Transfusion, vol. 58, Jul. 2004, pp. 
984-989. 
[5] Z. Machacek, R. Slaby, R. Hercik, and J. Koziorek, Advanced System 
for Consumption Meters with Recognition of Video Camera Signal, 
Elektronika  Issue, vol. 18, no. 10, 2012, pp. 57-60, ISSN 1392-1215. 
[6] R. Slaby, R. Hercik, and Z. Machacek, Compression methods for 
image processing implementation into the low capacity device, In 
Technical Gazette, vol. 20, no. 6, 2013, pp. 1087-1090, ISSN 1330-
3651. 
[7] B. Fraser, C. Murphy, and F. Bunting, Real World Color 
Management, 2nd ed. Peachpit Press, 2005, ISBN 0 – 321 – 26722 - 2 
 
 
 
66
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-319-3
ICONS 2014 : The Ninth International Conference on Systems

