Development of Household Members’ Behavior 
Model in Urban Scale Using Dynamic Time 
Warping and Particle Swarm Optimization 
Algorithms Based on National Time Use Survey  
 
Hengxuan Wang 
Graduates School of Human-Environment Studies 
Kyushu University  
Fukuoka, Japan 
 e-mail: whx7174615@gmail.com 
Daisuke Sumiyoshi 
Faculty of Human-Environment Studies 
Kyushu University 
Fukuoka, Japan 
 e-mail: sumiyoshi@arch.kyushu-u.ac.jp
 
Abstract—For the target of energy demand estimation of 
residential buildings in urban scale, occupants’ behavior model 
has been paid much attention. In this paper, a new model for 
simulating occupants’ behavior schedules in urban scale has 
been proposed using only public stochastic data (national 
lifetime survey) combined with Dynamic Time Warping and 
Particle Swarm Optimization algorithms. We use this proposed 
model to generate the 5 type occupant behavior schedules with 
5-minutes interval in working and resting day. The generated 
results - percentages of occupants adopt the given behavior at 
specific moments are calculated and compared with public 
stochastic data to verify the accuracy. Also, based on the mutual 
influence of household members, the generated schedules are 
filtered and combined into a group of behavior schedules, which 
is suitable for a household.  By the proposed model in this paper, 
behavior schedule combinations of family members are 
generated and prepared for residential energy demand 
calculations in urban scale. 
Keywords—occupants’ behavior model; household members; 
public stochastic data; particle swarm optimization; dynamic time 
warping. 
I.  INTRODUCTION  
This paper is an extended research considering family 
member based on the publication on Energy 2023 [1]. To get 
the target of decarbonized society in 2050 [2], the Japanese 
government is promoting the introduction of decentralized 
renewable energy devices in urban area to reduce carbon 
emissions. However, without a suitable introduction plan the 
surplus electricity generated at times by various devices 
would disturb the balance between the supply and demand of 
power system. There is also a prospect of failing to reach the 
decarbonization target because of insufficient devices. Thus, 
it is essential to develop a decentralized energy introduction 
plan based on the energy demands of buildings in urban areas 
The renewable energy is limited to natural condition (e.g., 
solar energy) and outpower changes dramatically over time. 
Therefore, the energy demand of buildings should be 
estimated with high temporal resolution. Non-residential 
buildings (e.g., office) have temporal characteristics of 
energy demand because of fixed schedule of users. However, 
the energy demand of residential building is decided by 
appliances’ operation, which is influenced by the behavior of 
the occupants with significantly personal characteristics. In 
previous studies about energy demand estimation for 
residential buildings, the behavior schedules of occupants 
had been set to several cases. This assumption would 
significantly affect the accuracy of results. The reason is that 
even the same type occupants in urban scale would have 
numerous kind behaviors at the same time, but there are only 
a few cases in these few schedules that would overlay the 
peak or trough energy demand amount. Thereby, the demand 
results and the amount of renewable energy devices need to 
be introduced would be a departure from reality. Thus, a 
method to simulate the occupants’ behavior schedules in 
urban scale is very essential for the plan of introduction of 
decentralized renewable energy in urban scale.  
In this paper, a new occupants’ behavior model 
generating behavior schedules of occupants in one household 
with only public stochastic data has been proposed. 
Compared with existing models in previous research, this 
model has the following characteristics of innovation: 
• 
No need to analysis of raw Time Use Data (TUD) 
• 
Without classification of behaviors. 
• 
Without prior assumptions about the number of 
occurrences of behavior. 
• 
Consider the mutual influence of household 
members 
and 
generate 
behavior 
schedule 
combinations of household members. 
Section Ⅱ introduces the related work of this study. 
Section Ⅲ introduces the detailed procedures of the proposed 
model. Section Ⅳ corrects the simulation processes based on 
the simulation results. In Section Ⅴ, the final generated 
results of each type occupant in working and resting day are 
63
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

shown. In Section Ⅵ, a model has been proposed to combine 
generated behavior schedules considering the interactions 
among household members. In Section Ⅶ，the conclusions 
about features and weaknesses of proposed model are 
introduced. Based on that, the directions of improving model 
in future are also introduced. 
II. RELATED RESEARCH  
There is much previous research about the occupants’ 
behavior model in urban scale [3]. The models could be 
divided into two types based on whether to use TUD, which 
describes occupants’ behavior by time.  
For the first type without TUD, Tanimoto et al. [4] 
developed a model using only public stochastic data of TUD 
include mean and standard deviation of behaviors’ duration 
time in a day and percentages of occupants adopt the behavior 
at special moments by 15-minutes interval of a day. They 
firstly selected the behaviors according to probabilities and 
arranged their total duration time into 24 hours. Next, they 
placed the first behavior into the slot in timeline according to 
random number and placed the next behavior into the end of 
previous behavior one by one. As one merit, this method could 
generate the occupants’ behavior schedules with only public 
stochastic data. But the accuracy of the simulation results was 
greatly influenced by the randomly decided slot for the first 
behavior, which was inserted. Additionally, the results had not 
been validated. 
For the type of models using TUD, Richardson et al. [5] 
developed a model using the Markov Chain, which is a 
stochastic model to determine the transition of behavior from 
another only depend on the condition at the previous time step. 
They collected the TUD from a great number of households 
and analysis the transition probability between behaviors. But 
the behavior items were limited in at room or not.  
Widén et al. [6] proposed a Markov Chain model and 
expanded analysis of the number of behavior items. They 
simulated the household’s members independently. These 
Markov Chain models considered and simulated the 
transitions probability between the behaviors precisely, but 
the accuracy of behavior duration time was dependent on the 
timing and number of behavior transitions. This could be a 
weakness for simulating the occupants’ behavior schedules. 
Yamaguchi et al. [7] developed a occupants’ behavior model 
dealing with above problems. They divided behaviors into 
routine and non-routine and considered them separately. The 
behaviors’ duration time and transition probabilities between 
them were acquired by analyzing the TUD from the national 
time-use survey conducted by Statistics Japan in 2006 and 
been utilized for placing the behaviors into the timeline. They 
firstly placed the routine behaviors (including sleeping, 
commuting to work & school, dining and bathing) into 
timeline, then selected the non-routine behaviors according to 
the probabilities and placed them in the gap between the 
routine behaviors until all gaps had been filled. They 
improved the model in [8] considering the interaction among 
household members (e.g., household members always have 
dining together at one time and bathing one by one) and time-
dependent characteristics of the specific behaviors (e.g., for a 
single person, bathing often happens immediately after 
waking up or breakfast, but it’s not shown in TUD because it 
was originated from a wide range of people.). In [9], they 
explored several machine learning methods to pre-process the 
TUD to improve the accuracy of behavior model. Although 
the duration time and transition probabilities of behaviors 
were detailed considered in their model, predetermining the 
number of behavior occurrences with a subjective assumption 
was made. For example, three meals over a day, one sleeping 
at night with long period were considered in their model. But 
according to the public stochastic data, there are also sleeping 
at the daytime for many type people), this might be a weakness 
of their model for ignoring these specific cases. On the other 
hand, raw TUD are required to make this kind of model while 
only public stochastic data are available in many countries.  
As mentioned above, until now there are many developed 
occupants’ behavior models in urban scale with own strengths 
and weaknesses. But there is still no precise occupants’ 
behavior model that considering the interaction among 
household members, without prior analysis of large amount of 
raw TUD, pre-classification of behaviors according to 
routinely or not and predetermined number of occurrences 
with subjective assumption. 
  
III. PROPOSED BEHAVIOR MODEL  
In Section Ⅲ, we will discuss the processes model. 
A. Parameters of purposed occupants’ behavior model  
 The proposed model simulates the occupants’ behavior 
schedules with 5-min interval based on the public stochastic 
data called National Lifetime Survey in 2020 from Japan 
Broadcast Institution (NHK) [10]. It should be noted that 
target of simulating behavior schedules is to estimate energy 
demand of residential building, so the behaviors that have no 
relationship with energy demand in residential building (e.g., 
working outside, commuting to work, school) have not been 
simulated in this paper. This assumption, which is one of the 
differences between the previous studies, can greatly simplify 
the model. Table Ⅰ shows the classification result of behaviors 
on public stochastic data. These behaviors have been 
simplified into 24 types and divided into interior and exterior. 
According to whether using appliances, the interior behaviors 
are further divided into two categories.  
TABLE I.  
CLASSIFICATION OF BEHAVIORS 
Interior Behavior 
(lighting & HVAC used) 
 
Exterior Behavior 
Appliance used 
Non-appliance 
used 
eating 
children care 
shopping 
bath 
leisure 
conversation 
personal 
relationships 
sleeping 
newspaper 
work 
hobbies, entertainment 
and culture 
(with Internet) 
magazines comics 
leisure and exercise 
hobbies, entertainment 
and culture 
(without Internet) 
 
class and lecture 
cooking, cleaning, 
laundry 
 
commuting 
radio 
 
sporting 
household chores 
 
 
 
64
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

To make the model, the public stochastic data would be 
utilized include: 
• 
PM: probabilities of adopting given behavior by 15-
minutes interval (the data has been processed into 5-
minutes interval by liner interpolation). 
• 
PA: probabilities of adopting given behavior over a 
day.  
• 
MTB: average duration time of adopting given 
behavior.  
• 
SDTB: standard deviation of duration time of given 
behavior.  
Some samples of public stochastic data are shown in Table 
Ⅱ. 
During the process of simulation,  a blank timeline with 
288 time slots (time of a day with 5-minutes interval) is 
generated firstly and prepares for filling up with behaviors 
separately. The given behavior’s occurrences will span 
corresponding time slots in the timeline depend on its duration 
time length. The detail steps are explained as: 
1) 
Iterates over all given behaviors in order of the PA’s 
values and determines whether to adopt based on its 
PA. 
2) 
Once the given behavior has been adopted, the 
duration time (DT) is determined according to the 
Gaussian Distribution defined by MTB and SDTB. 
3) 
To insert these given behaviors into the timeline, it is 
critical to decide several parameters’ solution of the 
given behavior including: 
a) 
n: number of behavior occurrences.  
(n =1~4 randomly) 
b) 
sm: start moment of each behavior occurrence. 
SMN: 

1
2
,
,
n
sm sm
sm
 
c) 
pn: probability of each number of behavior 
occurrences.  
(e.g.,
2
pn :  probability of behavior occurring 
twice) 
PNN: 

1
2
,
,
n
pn pn
pn
 
d) 
pt: each occurrence’s duration time as 
percentage of DT in a large number of 
schedules. 
PTN: 

1
2
,
,
,
n
pt pt
pt
  
(e.g., Fig. 1 shows the difference between 
PTN1: [ 1
3 , 1
3 , 1
3 ] and PTN2: [ 1
6 , 1
3 , 1
2 ]  
B. Start moments of behavior occurances 
It is necessary to decide SMN ’s solution to determine 
the positions of timeline where the behavior occurrences are 
going to be inserted. 
Fig. 2 shows the process of deciding the start moment of 
each behavior occurrence by the cumulative distribution of 
PM. In detail, one day is divided into n time regions which 
have the same sum of PM.  The start moment of splitting time 
region is generated randomly (e.g., 6:30).  It is assumed that 
object behavior occurs once in each time region. Based on that 
assumption, the cumulative distribution function of PM in 
each time region has been calculated to determine the start 
moment of each occurrence.  
 
Figure 2. Processes of determining start moment of  
each occurrence of eating 
 
 
 
 
 
Figure. 1 Percentages of each occurrence's duration time in sampled 
schedule 
TABLE II.  
SAMPLE OF PUBILC STOCHASTIC DATA OF 
WORK-MALE IN  SUNDAY AND TARGET BEHAVIOR -
SLEEPING 
Behavior 
PA 
MTB 
SDTB 
 
Time 
PM 
sleeping 
99.20% 
8:25 
2:07 
 
0:00 
70.20% 
eating 
97.60% 
1:38 
0:52 
 
0:05 
71.27% 
bath 
96.00% 
1:04 
0:34 
 
0:10 
72.33% 
TABLE III.  
 
 
65
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

C. Process of proposed model  
      Fig. 3 shows the proposed model’s all processes for 
generating the behavior schedules. The process of searching 
the optimal solution is as follows.  
D. Dynamic Time Warping 
Different from SMN, it is impossible to get PNN&PTN 
solution based on the existing public stochastic data merely. 
Therefore, it is necessary to introduce parameter optimization 
method to obtain the optimal PNN&PTN solution. 
To verify the fitness of PNN&PTN candidate solution, 
we introduce the objective function to compare PM and 
probability of adopting given behavior at 5-min interval, 
which is calculated by schedules generated using PNN&PTN 
candidate solution (PM’). For PM and PM’ are both time 
series data, Dynamic Time Warping (DTW) introduced in [10] 
is used as objective function to measure their similarity.  
DTW of PM and PM’ is calculated by (1):   
 
      DTW(PM, PM’) = min
2
(
)
( , )
i
j
x
y
i j
L
−


     
 
(1) 
PM =

1
2
287
,
,
,
x x
x
, PM’ = 
1
2
287
[ ,
,
,
]
y y
y
 
 
The list of index pairs L = 

0
1
287
, ,
,
l l
l
 shows the 
matching pairs of the elements of PM and PM’ (e.g.,  
( ,
)
k
k
k
l
i
j
=
 shows the 
kix  and 
kjy would be matched) that 
satisfies the following properties are shown in (2) (3) (4): 
 
                           0
,
287
k
k
i
j


                                  (2)  
 
 
0
(0,0), 287
(287,287)
l
l
=
=
 
 
(3) 
 
          
(
1,
)
( ,
1)
(
1,
1)
k
k
k
k
k
k
l
i
j
or i
j
or i
j
=
−
−
−
−
 
 
 
 
     (4) 
 
Different from the traditional matching method which 
would match PM and PM’ at the same index pairs (
1
( , 1
)
x y , 
2
( , 2
x y )
,…,
287
287
(
,
)
x
y
). In DTW, based on the above 
properties, there is a large number (T) of possible matching 
solutions as candidates, which is shown in (5):  
 


0
0
1
0
1
1
287
287
0
1
287
0
0
0
1
0
2
287
287
( ,
) ( ,
)
( , )
(
,
)
, ,
,
( ,
) ( , ) ( ,
)
(
,
)
x y
x y
x y
x
y
T l l
l
x y
x y
x y
x
y




= 





 (5) 
 
all matching solutions’ distances between PM and PM’ 
would be compared and the smallest one would be called 
DTW. By calculating the DTW obtained from different 
PNN&PTN candidate solutions, the most suitable solution 
would be decided with the minimal DTW.  
E. Patricle Swarm Optimization 
As mentioned above, the best PNN&PTN solution can be 
found by finding the minimal DTW. In this paper, we use 
Figure 3 
 
 
Figure 3. Simulation processes of proposed model 
 
 
66
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Particle Swarm Optimization (PSO) algorithm to find the 
minimal DTW. PSO is an evolutionary algorithm introduced 
in [12] that could optimize a problem by iteratively trying to 
improve a candidate parameters’ solution to get the better 
position in a D-dimensional space (D is the number of 
parameters).  
In the process of the PSO algorithm, firstly, a large 
number of particles have been generated and each particle is a 
candidate solution of PNN&PTN with different DTW result. 
At 1st iteration, particle’ initial position (p1) and velocity (v1) 
are randomly generated.  p1 means PNN&PTN solution and v1 
means the distance between p1 and p2 (position at 2nd iteration) 
as showed in (6). These particles make up a cloud that covers 
the entire space, then the DTW of all particles are calculated 
to decide their fitness. Based on fitness values, the globally 
best particle position（pg1）and  locally best particle position 
(pl1) are determined. As showed in (7), according to pg1, pl1 
and p1, v1 would be updated to v2, which would continue to 
update p2 to p3.  
 
k 1
k
k
p
p
v
+ =
+
                                (6) 
 
1
1
2
(
)
(
)
k
k
k
k
k
k
v
wv
pg
p
pl
p


+ =
+
−
+
+
 
 (7) 
 
 With the iteration advancing, the cloud contracts 
gradually and performs the exploration for best PNN&PTN 
solution with minimal DTW. 
IV. CORRECTION OF SIMULATION PROCESS 
According to the schedule results, there are two significant 
errors include: 
1) 
Fig. 4 shows the results of sleeping are inaccurate 
thoroughly. 
2) 
Fig. 5 shows the delaying of start moments of PM’ 
compared with PM.  
The above errors would be dealt with as follows:  
A. Correction of sleep simulation process 
The error 1) can be attributed to the inaccurate 
determination of start moments of sleeping. Different from 
other behaviors, people always have a long period sleeping in 
the evening and add a short period sleeping during the daytime. 
For this type of behavior with a clear temporal characteristic, 
the method deciding behavior start moments based on sum of 
PM is not suitable any longer. To solve this problem, we 
revise the model to simulate sleeping behavior in the 
following process: 
a) 
The number of sleeping occurrence (n) is set to 
1~2. If sleeping occurs once, it occurs at night; if 
sleep occurs twice, the first and longer sleeping 
occurs in the evening and second one occurs at 
daytime.  
b) 
For sleeping in the evening, people wake up at a 
more concentrated time than when they fall asleep. 
Therefore, we use the moments of waking up 
(ending of sleeping) to decide the position of 
sleeping in timeline where being inserted into.  
c) 
The range of end moments of first sleeping in the 
evening is set as 0:00-12:00, the range of start 
 
Figure 4. Comparation of simulated stochastic data -PM’ and public  
stochastic data -PM (sleeping) 
0%
20%
40%
60%
80%
100%
PM
PM'
R² = 0.4589
0%
20%
40%
60%
80%
100%
0% 20% 40% 60% 80%100%
PM'
PM
 
Figure 5. Comparation of simulated stochastic data-PM’ and public  
stochastic data -PM (eating) 
0%
10%
20%
30%
40%
PM
PM'
R² = 0.5632
0%
10%
20%
30%
40%
0%
10%
20% 30%
40%
PM'
PM
 
Figure 6. Comparation of simulated stochastic data -PM’ after corrected  
and public stochastic data -PM (sleeping) 
 
 
0%
20%
40%
60%
80%
100%
PM
PM'
R² = 0.9842
0%
20%
40%
60%
80%
100%
0% 20% 40% 60% 80%100%
PM'
PM
 
Figure 7. Comparation of simulated stochastic data -PM’ after corrected  
and public stochastic data -PM (eating) 
 
 
 
0%
10%
20%
30%
40%
PM
PM'
R² = 0.811
0%
10%
20%
30%
40%
0%
10% 20% 30% 40%
PM'
PM
:
k  
kth iteration 
k :
pl  
locally best particle’s 
position 
at 
kth 
iteration 
:
w  
inertia weight 
1
, 2
:
   
1
1 1
 =c r
, 
2
2 2
 =c r
 
kv :
    
particle’s velocity at 
kth iteration 
1
, 2
:
r r  
random numbers in 
the range [0,1] 
kp :
 
particle’s position at 
kth iteration 
1
, 2
:
c c  
1
2
2
c
=c
=
 
pgk :
 
globally 
best 
particle’s position at 
kth iteration 
 
 
 
67
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

moments of second sleep is set as 12:00-18:00. 
The specific moments in the range are searched by 
PSO method too.  
To sum up, the parameters of sleeping for PSO method 
are reset showed as (8): 
SMN = 
1
2
[
,
sm sm ]
 PNN =
1
2
[
,
pn pn ]
 PTN =
1
2
[
,
pt pt ]
(8) 
 
     After the calculation by PSO, Fig. 6 shows the results of 
sleeping’s PM and PM’ by this revised process, which is 
better than original one.  
B. Correction of start moment  
For the error 2), the reason being considered is that the 
decision of start moment based on cumulative distribution 
function of PM always drop behind actual situation. To solve 
this issue, the new parameter ad is introduced to adjust the 
SMN:
1
2
[
,
,
,
]
n
sm
ad sm
ad
sm
ad
+
+
+
. The decision of ad 
is also calculated by PSO method. Therefore, the solution of 
PNN&PTN, ad would be decided together by minimal DTW. 
Fig. 7 shows the simulation results of PM and PM’ after the 
adjustment of behavior start moments and it demonstrates 
higher accuracy than before.   
V. SIMULATION RESULTS  
 In Figs. 8-12, comparation of simulated stochastic data - 
PM’ and public stochastic data-PM of 5 type occupants 
include working-male, housewife, child, teenager and elder 
are shown, each color block shows the probability that a 
behavior is undertaken at corresponding period of day. The 
result shows that PM’ agreed well with PM and it confirms 
our model’s accuracy. 
 
 
  
Figure 8. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (working-male) 
 
  
 
Figure 9. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (housewife) 
 
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
68
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
Figure 9. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (housewife) 
Figure 10. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (child) 
  
 
 
Figure 10. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (child) 
 
 
Figure 11. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (teenager) 
 
Figure 12. Comparation of simulated stochastic data - PM’ and public stochastic data-PM (elder) 
 
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (working-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM
statistic (resting-day)
0%
50%
100%
0:00
1:00
2:00
3:00
4:00
5:00
6:00
7:00
8:00
9:00
10:00
11:00
12:00
13:00
14:00
15:00
16:00
17:00
18:00
19:00
20:00
21:00
22:00
23:00
PM'
simulation (resting-day)
69
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

VI.  SIMULATION RESULTS OF HOUSEHOLD 
Considering 
the 
energy 
demand 
simulation 
of 
residential building, the behavior schedules of household 
members are necessary. Although the model could simulate 
each type occupant behavior schedules properly, there is no 
connections among these results, which could not be used 
directly because behaviors of household members are always 
related. Therefore, a model for filtering and matching 
generated results is proposed. 
According to [8], the Japanese household members tend 
to eat together and take a bath one by one. Based on this 
assumption, among the above generated results of each type 
occupants with a large number, the schedules of eating at the 
same time and bathing at different time would be filtered and 
matched into behavior schedules of a household. It should be 
pointed out that the start moment, duration time of eating, 
bathing by each household member is not the same or 
different exactly.  
The detail process of the proposed model is explained as 
follow: 
The target is to select suitable behavior schedules from 
above 1000 simulation results of each occupants to form the 
behavior schedule combination of a household. Therefore, 
PSO algorithm is used again to search the suitable solutions. 
The candidate solution of behavior schedules-ID of each 
member is set as 
1
[ , 2
,...,
n ]
x x
x
(
1
2
1
,
,...,
1000
n
x x
x


 , 
n=household member number) and the objective function is 
set as (8) 
 
bath
eating
y
T
T
=
−
 
(8) 
 
Tbath
    : 
Duration time that more than two members are bathing at 
the same time by candidate solution. 
Teating
  : 
Duration time that more than two members are eating at the 
same time by candidate solution. 
According to (8), among each member, less overlap of 
bathing behaviors and more overlap of eating behaviors at the 
same time means the better fitness of candidate solution. It 
should be pointed out that this process is not to search the best 
solution but to find a group of appropriate solutions with 
certain number.  
As two examples, the behavior schedules of three 
members (working-male, housewife and one child) and five 
members (two elders, working-male, housewife and one 
child) of two households in working day and resting day are 
Figs. 13-16 show 5 behavior schedule combinations of 
 
Figure 13. Behavior (eating and bath) schedule combination of a household (working-male, housewife, one child)  
(selected randomly) 
 
 
 
Figure 14. Behavior (eating and bath) schedule combination of a household (working-male, housewife, one child) 
(selected by PSO algorithm) 
 
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
-1 
 
-2 
 
-3 
 
-4 
 
-5 
 
schedule combinations 
eating —     bath —   
(working-day) 
eating —     bath —   
(resting-day) 
eating —     bath —   
(working-day) 
eating —     bath —   
(resting-day) 
-1 
 
-2 
 
-3 
 
-4 
 
-5 
 
schedule combinations 
70
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

selected randomly and with assistant of PSO algorithm.  each 
situation.  To compare the results precisely, average Reating 
and Rbath (ratios of time by more than two members 
performing the same behavior to the sum time of this 
behavior) of 5 schedule combinations are calculated and 
shown in Table Ⅲ. It could be concluded that compared with 
random selection, by PSO algorithm, eating behaviors of each 
member are gathered at the same periods with larger Reating, 
while the bathing behaviors are scattered at different periods 
with smaller Rbath. This is consistent with the basic 
characteristics of household members’ lives and proved our 
model’s merit in generating household member behavior 
schedules.  
TABLE III.  
REATING AND RBATH OF EACH RASULTS BY 
RANDOM OR PSO IN WORKING DAY AND RESTING DAY  
Household 
Day-type 
Method 
Reating 
Rbath 
household-
3 people 
working-day 
random 
0.13 
0.06 
PSO 
0.24 
0.005 
resting-day 
random 
0.17 
0.07 
PSO 
0.31 
0.02 
household-
5 people 
working-day 
random 
0.17 
0.11 
 
PSO 
0.22 
0.002 
resting-day 
random 
0.19 
0.06 
 
PSO 
0.22 
0.001 
VII. CONCLUSION AND FUTURE WORK 
This paper proposes a model based on public stochastic 
data to generate occupants’ behavior schedules and form 
behavior schedules of household members.  This model could 
be used in energy demand estimation of residential buildings 
in urban scale. Compared with existing behavior model’s 
research, the proposed model has the following features: 
• 
Generating occupants’ behavior schedules based on  
• 
public stochastic data only. Without statistical 
analysis of large amounts of raw Time Use Data 
(TUD), which is not available in many countries, 
making the behavior model simpler and more efficient.  
• 
No classifying the behaviors or setting the specific 
number and duration time of behavior occurrences. 
This feature could exclude the errors from subjective 
assumptions.   
• 
Utilizing the Dynamic Time Warping (DTW) and 
Particle Swarm Optimization (PSO) algorithms to 
search the suitable number of behavior occurrences 
and percentages of occurrences’ duration time. It 
would make the simulation results match the public 
stochastic data as closely as possible.  
eating 
working-day 
 
Figure 15. Behavior (eating and bath) schedule combination of a household (two elders, working-male, housewife, one child)  
(selected randomly) 
 
 
Figure 16. Behavior (eating and bath) schedule combination of a household (two elders, working-male, housewife, one child)  
(selected by PSO algorithm) 
 
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
0:00
2:00
4:00
6:00
8:00
10:00
12:00
14:00
16:00
18:00
20:00
22:00
eating —     bath —   
(working-day) 
eating —     bath —   
(working-day) 
eating —     bath —   
(resting-day) 
eating —     bath —   
(resting-day) 
-1 
 
-2 
 
-3 
 
-4 
 
-5 
 
schedule combinations 
-1 
 
-2 
 
-3 
 
-4 
 
-5 
 
schedule combinations 
71
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

• 
Deciding the start moments of behavior based on 
cumulative distribution of public stochastic data. As 
the simulation results do not agree with the public 
stochastic data, the start moments calculated by the 
above method have been corrected using PSO 
algorithm. 
• 
Considering the behaviors connection among the 
household members. By PSO algorithm, the suitable 
combination of generated behavior schedules from 
each occupant would be searched as the household 
members’ behavior schedules. 
For single occupant, 5 type occupant’s behavior schedules 
in two type days have been generated with the proposed model. 
The result shows that our model has a good accuracy. But 
there are also several drawbacks: 
a) 
In public stochastic data, during some periods 
(12:00~12:30 and 22:00~22:30, probabilities of 
adopting eating, sleeping by 5-minutes interval 
increase rapidly, but the simulation results fail to 
reflect such phenomenon. 
b) 
No consideration of interaction between behaviors 
(e.g., people are likely to wash themselves when they 
wake up, but behavior transition between sleeping and 
bath can’t be simulated in a single schedule). 
For household, an example household with three members 
has been searched with suitable behavior schedule 
combination. The result shows that the behavior schedules of 
each member tend to eat together and wash at different period 
and this is the purpose of the model. However, some 
limitations are still need to be solved: 
c) 
Only behaviors include eating and bath are considered 
in our model, other behaviors like watching TV are 
still need to be considered. As the number of 
considered behaviors increases, the difficulty of 
matching the suitable behavior schedules is also 
increasing. 
d) 
As shown in results, household members tend to have 
lunch together in working day, which is inconsistent 
with reality. The reason is that the records of public 
data about behavior eating do not distinguish between 
being at home and going out. Therefore, this problem 
needs to be considered in the energy simulation of 
residential buildings. 
There are also some details need to be explained. Firstly, 
by PSO algorithm merely, the start moment of each behavior 
occurrence (SMN) could be determined without using 
cumulative distribution of probabilities of adopting given 
behavior by 15-minutes interval (PM). But with the assistance 
of cumulative distribution, the PSO algorithm could narrow 
the search range and get solution quickly. Secondly, more than 
just simulation for behavior schedules based on past public 
stochastic data, it might be useful for assuming the future 
people behavior change by altering the inputting public 
stochastic data (e.g., the working time at home increased 
because of covid-19).  Finally, compared with similar studies 
with TUD in other country such as UK [5] and US [13], the 
simulation results show the uniqueness of Japanese occupant 
behaviors.  
In future, we are going to deal with mentioned drawbacks 
to improve the model. About drawback a), more in depth 
analysis of public stochastic data especially in specific period 
will be done so that different weights will be given during 
these time intervals in simulation process. For b), which had 
been raised in much previous research, analysis the raw TUD 
to get the results of behavior transition probabilities is a 
feasible option. About last c), more behaviors and more 
efficient algorithms will be considered. For last d), the 
classification of indoor behaviors needs to be more detailed 
based on the types of occupant and target days. Also, it should 
be noted that the behavior schedules could not be used directly 
in the energy demand estimation model without appliance 
operation possibilities based on behaviors. More work about 
the relationship between behavior and appliance operation is 
also necessary in future.  
REFERENCES 
[1] 
H.Wang and D.Sumiyoshi, “Development of Occupants’ 
Behavior Model in Urban Scale Using Dynamic Time Warping 
and Particle Swarm Optimization Algorithms Based on 
National Lifetime Survey,” ENERGY 2023, The Thirteenth 
International 
Conference 
on 
Smart 
Grids, 
Green 
Communications and IT Energy-aware Technologies, pp. 17-
22, Mar. 2023. 
[2] 
Ministry of the Environment, Japan, Outlines of Japan’s Long-
term Strategy under the Paris Agreement, 2019. 
[3] 
G. Happle, J. A. Fonseca, and A. Schlueter, “A review on 
occupant behavior in urban building energy models,” Energy 
& Buildings, vol. 174, pp. 276-292, Sept. 2018, doi: 
10.1016/j.enbuild.2018.06.030. 
[4] 
J. Tanimoto, A. Hagishima, and H. Sagara, “Validation of 
methodology for utility demand prediction considering actual 
variations in inhabitant behavior schedules,” Journal of 
Building Performance Simulation, vol. 1, no. 1, pp. 31-42, 
Mar. 2008, doi:10.1080/19401490701868471. 
[5] 
I. Richardson, M. Thomson, and D. Infield, “A high-resolution 
domestic building occupancy model for energy demand 
simulations,” Energy and Building, vol. 40, no. 8, pp. 1560-
1566, Feb. 2018, doi:10.1016/j.enbuild.2008.02.006. 
[6] 
J. Widén, M. Lundh, I. Vassileva, E. Dahlquist, K. Ellegård, 
and E.Wäckelgård, “Constructing Load Profiles for Household 
Electricity and Hot Water from Time-Use Data – Modelling 
Approach and Validation,” Energy and Building, vol. 41, no. 7, 
pp. 753-768, Mar. 2009, doi:10.1016/j.enbuild.2009.02.013. 
[7] 
Y. Yamaguchi and Y. Shimoda, “Evaluation of behavior model 
of occupants in home based on Japanese national time use 
survey,” Proceedings of Building Simulation 2015: 14th 
Conference of IBPSA, Dec. 2015, pp. 2897-2904, doi: 
10.26868/25222708.2015.2520. 
[8] 
Y. Yamaguchi and Y. Shimoda, “A stochastic model to predict 
occupants’ activities at home for community-/urban-scale 
energy demand modelling,” Journal of Building Performance 
Simulation, vol. 10, no. 5-6, pp. 565-581, Jun. 2017, doi: 
10.1080/19401493.2017.1336255. 
[9] 
Y. Li, Y. Yamaguchi, and Y. Shimoda, “Impact of the pre-
simulation process of occupant behavior modelling for 
residential energy demand simulations,” Journal of Building 
Performance Simulation, vol. 15, no. 3, pp. 287-306, Mar. 
2021, doi:10.1080/19401493.2021.2022759. 
72
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

[10] Japan Broadcast Institution (NHK), National Lifetime Survey 
in 2020, Japan. 
[11] H. Sakoe and S. Chiba, “Dynamic programming algorithm 
optimization for spoken word recognition,” IEEE Transactions 
on Acoustics, Speech, and Signal Processing, vol. 26, no. 1, pp. 
43-49, Feb. 1978, doi:10.1109/TASSP.1978.1163055. 
[12] J. Kennedy and R. Eberhart, “Particle swarm optimization,” 
Proceedings of ICNN’95 – International Conference on 
Neural Networks, Nov. 1995, pp. 1942-1948, doi: 
10.1109/ICNN.1995.488968. 
[13] L. Diao, Y. Sun, Z. Chen, and J. Chen, “Modeling energy 
consumption in residential buildings: A bottom-up analysis 
based on occupant behavior pattern clustering and stochastic 
simulation,” Energy and Building, vol. 147, pp. 47-66, July 
2017, doi:org/10.1016/j.enbuild.2017.04.072 
 
73
International Journal on Advances in Intelligent Systems, vol 16 no 3 & 4, year 2023, http://www.iariajournals.org/intelligent_systems/
2023, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

