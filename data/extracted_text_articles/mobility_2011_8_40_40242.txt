Using Vision-Based Driver Assistance to Augment Vehicular Ad-Hoc Network
Communication
Kyle Charbonneau, Michael Bauer and Steven Beauchemin
Department of Computer Science
University of Western Ontario
London, Ontario, Canada
{kcharbo,bauer,beau}@csd.uwo.ca
Abstract—Using Vehicular Ad-Hoc Network (VANET) com-
munication for a Cooperative Collision Warning System
(CCWS) has been explored and has shown promise in im-
proving vehicle safety. However, the performance of such a
system under different adoption rates has not been examined in
depth. We ﬁrst examine what effects varying adoption rates will
have on a CCWS protocol with a variable broadcast scheme.
We then examine the implementation of a VANET alongside a
Vision-Based Driver Assistance (VBDA) system that monitors
the environment surrounding the vehicle using cameras. We
propose an Enhanced CCWS protocol where information from
VBDA is included with CCWS related VANET communication
to signiﬁcantly increase its effectiveness under low adoption
rates.
Vehicular-Ad Hoc Network, Vision-Based Driver Assis-
tance, Cooperative Collision Warning System
I. INTRODUCTION
In a Vehicular Ad-Hoc Network (VANET)-based Cooper-
ative Collision Warning System (CCWS) each vehicle peri-
odically shares information about itself, primarily its current
location and trajectory, with surrounding vehicles. Through
these location updates each vehicle can build a model
of neighbouring vehicles in the surrounding environment.
The concept of a CCWS has been introduced, studied and
validated by a number of researchers [1] [2] [3]. However,
these studies typically look at the operation of a CCWS with
a 100% adoption rate, or in other words 100% of vehicles are
equipped for VANET communication. Unfortunately upon
adoption of the Wireless Access in Vehicular Environments
(WAVE) set of standards in production vehicles there will
be a long gap between the initial introduction and nearing
100% adoption.
In addition to VANET communication a Collision Warn-
ing System (CWS) utilizing on-board vehicle sensors is
another technology of interest for improving safety. We see it
in the form of Adaptive Cruise Control (ACC) and Forward
Collision Warning Systems (FCWS), for example the Active
Cruise Control system found on BMW vehicles. These
types of sensors have been extended for use in autonomous
vehicles in the DARPA challenges and for Advanced Driver
Assistance Systems (ADAS) in the RoadLab project at the
University of Western Ontario [4]. In this paper, we describe
the use of a Vision-Based Driver Assistance (VBDA) sys-
tem, which uses cameras and computer vision algorithms,
designed as part of the RoadLab project.
In a vehicle capable of both VANET communication and
VBDA the information attained from each technology can
be merged into a uniﬁed model to increase accuracy. This
can be taken one step further and information gained from
VBDA can be used to enhance VANET communication.
In this paper we assume vehicles are either equipped with
both VANET and VBDA technologies or have neither. An
Enhanced CCWS (ECCWS) protocol is proposed where
equipped vehicles append information attained about un-
equipped vehicles to CCWS location updates. This allows a
more complete model of the environment to be built even
under low adoption rates.
This paper describes research that has explored the po-
tential for such a system. In a simulation environment both
VANET and VBDA technologies are tested alongside one
another. Under varying adoption rates between 10% and
100% a CCWS and an ECCWS protocol are tested. The
effect of varying adoption rates and the potential for im-
provement with an ECCWS protocol are examined. To study
this we have created a robust simulation environment for
realistic vehicular trafﬁc, wireless network communication
and computer vision. Multiple open source projects are
combined with custom modules to achieve this.
The remainder of the paper is structured as follows. In
Section II, we present related work that this research was
based on. In Section III, the uniﬁed model built from both
sources is explained. Following in Section IV, we explain
the speciﬁcs of the ECCWS protocol. In Section V, we
explain the simulation environment. Then, in Section VI, we
examine the results of our simulations. Finally, in Section
VII, are concluding remarks and future directions for this
research.
II. RELATED WORK
The feasibility of a CCWS is analyzed by H. Tan and
J. Huang where they examine the technologies necessary
to implement such a system effectively [1]. They ﬁnd
implementing a CCWS based on current technologies is
177
MOBILITY 2011 : The First International Conference on Mobile Services, Resources, and Users
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-164-9

feasible and proceed to test out a theoretical CCWS system
using two vehicles to produce promising real world results.
Expanding on this work, the frequency of location update
broadcasts is examined further by S. Rezaei et al. [2]. In
their paper they examine a number of different broadcast
schemes under simulation. One such broadcast scheme is
periodic communication intervals where location updates are
generated on a set interval, from 25ms to 500ms. A second
broadcast scheme is variable communication intervals where
an error threshold between actual vehicle location and the
estimated vehicle location, based on the last location update,
must be exceeded before a new location update is broadcast.
The paper also introduces a model for Differential Global
Position System (DGPS) error which we use in our simula-
tions.
The best broadcast scheme is found to be a variable com-
munication interval with repetition within 50ms. A similar
broadcast scheme is again selected by C. Huang et al. for
further testing [3]. Our simulations conﬁrm that this is an
excellent broadcast scheme for CCWS communication and
as such our CCWS protocol is based on it.
The VBDA system is based on the RoadLab project[4].
Vehicles are instrumented with 10 cameras arranged in
stereo pairs monitoring the world surrounding the vehicle.
To improve vision performance looking forwards there are
two pairs of cameras monitoring that direction. The layout of
the cameras and range they provide useful information for is
shown in Figure 1. The images provided by these cameras
are analyzed in real time to identify vehicles and objects
surrounding the instrumented vehicle at a rate of 30Hz
or higher. The results produced for each object identiﬁed
include a distance to the object and 2D bounding box drawn
over the object in 3D space.
Information from both VANET communication and
VBDA is integrated into a uniﬁed model [5]. While RoadLab
relies on VBDA the results from a RADAR or LIDAR based
driver assistance system could be used instead as all three
are fundamentally based on line of sight.
Finally, our simulation environment is based on work
done by C. Sommer et al. in linking the discrete event
simulator OMNeT++ and trafﬁc simulator Simulation of
Urban Mobility (SUMO) [6]. Both simulators are linked
together for realistic wireless network and node mobility
simulation.
III. UNIFIED MODEL
In order to use information from both VANET communi-
cation and VBDA, we ﬁrst create a uniﬁed model. We will
often have location estimates for neighbouring vehicles from
both sources with varying amounts of error. These position
estimates should be linked when they are both in reference
to the same vehicle.
Through the CCWS, location estimates consist of vehicle
position, heading and size. This provides us with a good
Figure 1.
Range and layout of RoadLab cameras
Figure 2.
Uniﬁed model demonstrated
estimate of the space occupied by the vehicle however the
actual vehicle location may be inaccurate due to communi-
cation errors. Through VBDA we only receive a distance to
the vehicle along with a 2D bounding box. This does not
provide us with the physical space occupied by the vehicle
however the information we attain should be very accurate
178
MOBILITY 2011 : The First International Conference on Mobile Services, Resources, and Users
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-164-9

due to the frequency of VBDA updates. In our simulations
we assume no measurable error in VBDA results.
In order to combine the two estimates we take the infor-
mation attained from our CCWS and draw a 2D bounding
box where we believe the vehicle is and calculate the
distance to the vehicle. We compare this result for each
CCWS estimate with each of our VBDA results in order
to determine which VANET estimates and VBDA results
are closely matched. The simulations we will describe in
Section V are performed in 2D so instead of calculating
a 2D bounding box in 3D space we calculate the minimum
and maximum angle the object would occupy in the cameras’
ﬁeld of view as described in Figure 2.
For each potential match of a VBDA result and VANET
estimate we compare the distance to both. A maximum
difference in distance of 1m is allowed for a match to be
made. If less than 1m of difference in distance exists we
compare both angles. A difference in angle equivalent to a
maximum of 1m at the distance the vehicle is away from us
or arctan( 1
d) is allowed. This is to ensure the difference in
angle scales along with distance to the vehicle.
If more than one vehicle exists that matches these param-
eters the one with smallest combined difference in distance
and angles is chosen as a match. We record all matches along
with the number of errors made. We also record any vehicles
that go unmatched but could potentially be matched.
IV. ECCWS
Our regular CCWS protocol involves broadcasting the
vehicle location, trajectory, current time and information
on the vehicle, such as vehicle dimensions, with a vari-
able communication interval. The variable communication
interval works as follows. When a location update packet is
broadcast the vehicle position and trajectory are saved. Every
10ms the difference between the current vehicle position,
from DGPS, and the estimated vehicle location, based on
the last vehicle position update, are compared. If the error
between the actual vehicle location and estimated vehicle
location is greater than our error threshold of 0.5m then
a new location update packet is broadcast. In addition we
repeat each broadcast a second time within 50ms. These
location updates allow other vehicles to estimate the space
our vehicle is currently occupying along with where it
will be in the next few seconds. The CCWS protocol only
broadcasts information for the vehicle itself.
Our ECCWS protocol appends information to each lo-
cation update for unequipped nearby vehicles. Since a large
portion of our CCWS packets are made up of physical, MAC
and network layer headers along with message security
features, adding information on nearby vehicles will be more
efﬁcient than broadcasting additional packets.
If we have identiﬁed a vehicle using VBDA and have
not received any VANET communication from it, based on
our uniﬁed model identifying the vehicle, we will mark the
vehicle as being unequipped. We will append the information
of up to the four closest unequipped vehicles to our own
location updates. By doing this we share information that
vehicles outside of visual range could not possibly receive
with VBDA alone and give them a more complete picture
of the environment.
The size of our CCWS application layers packets is 242
bytes including a 54 byte signature and 128 byte certiﬁcate
[7]. For each appended vehicle the packet size is increased
by 40 bytes to include all relevant information. If extra in-
formation for four other vehicles is included, the application
layer packet increases in size by only 66% providing us
with an efﬁcient way to increase the amount of information
shared between vehicles. For our ECCWS protocol location
updates are broadcast at the same time as the regular CCWS
protocol, only the extra information is appended and the
packet size is increased accordingly.
V. SIMULATION
Using our simulation environment we test both the CCWS
and ECCWS protocols. Network simulation is done using
OMNeT++ using the MiXiM framework. Our CCWS appli-
cation layer is implemented as a custom module. The WAVE
Short Message Protocol (WSMP) is implemented for the
network layer. An existing 802.11b MAC layer is adapted
with appropriate timing parameters for 802.11p. Finally, a
Packet Error Rate (PER) model developed by S. Cocorada
for Orthogonal Frequency Division Multiplexing (OFDM)
broadcasts is used to decide if incoming packets are accepted
or rejected [8].
We transmit our messages with a bitrate of 6Mbps and
transmission power of 35.4dBm on IEEE 802.11p channel
178 or the Control Channel (CCH). We model path loss with
a path loss coefﬁcient of 3.0 and shadowing with a mean
signal attenuation of 0dB and standard deviation of 4dB [9].
The Vehicles in Network Simulation (VEINS) project is
used to link OMNeT++ with SUMO. This controls node
movement inside a provided road network. We test our
CCWS and ECCWS protocols on three different road net-
works, a Manhattan grid type network with roads running in
a grid pattern, a city network based on downtown London,
Canada and a highway network based on Highway 401,
Canada.
Finally, our vision simulation is implemented as a custom
module in OMNeT++. Each vehicle is modeled as a 2D
rectangle. Every 100ms we update our vision algorithm and
for each vehicle create a list of visible neighbouring vehicles.
We determine if a vehicle is visible by calculating what
percentage of it is occluded. If less than 50% of the vehicle
is occluded it is determined to be visible. It is assumed that
we cannot see through any vehicles and anything behind
them is occluded.
The simulations are each 120 seconds in length and statis-
tics are recorded throughout the entire simulation runtime.
179
MOBILITY 2011 : The First International Conference on Mobile Services, Resources, and Users
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-164-9

The average number of vehicles in the Manhattan grid,
London and highway road networks is approximately 640,
720 and 1100 vehicles respectively. The adoption rates of
10%, 25%, 50%, 75%, 90% and 100% are tested on each
road network once with our regular CCWS protocol and
once with our ECCWS protocol. The results are recorded
and analyzed afterwards.
VI. RESULTS
We execute our simulation once for all three road net-
works, under six different adoption levels with both CCWS
schemes for a total of 36 executions. Every 100ms during the
simulation we record statistics for each vehicle on VBDA,
VANET communication and the uniﬁed model. Additionally,
for each CCWS position estimate we record the error be-
tween the estimated position and the actual vehicle position.
Finally, we record statistics on packets sent, received and
error rates. For each statistic collected the mean and standard
deviations are calculated both on a per vehicle and overall
basis.
Our uniﬁed model, despite being quite simplistic, per-
forms well. There are two types of uniﬁed model errors.
First, matches-missed, which is a vehicle tracked by both
CCWS and VBDA but incorrectly assumed to be two
separate vehicles. Second, match-errors, which are matches
made between two separate vehicles, one tracked by CCWS
and and one tracked by VBDA, that are incorrectly assumed
to be the same vehicle. In general both matches-missed and
match-errors are below 0.5% of all possible matches or all
matches made respectively. In the highway road network,
matches-missed is slightly higher at approximately 1%. With
the higher speeds present on a highway compared to city
driving there is the potential for a larger error between actual
vehicle location and estimate vehicle location. This would
explain the higher matches-missed on the highway network.
Using our uniﬁed model we implement a ECCWS.
From Figure 3, we can see the number of vehicles tracked
by the CCWS and VBDA in our uniﬁed model increases in
a linear fashion as the adoption rate rises. This is expected
since the number of vehicles within communication range
will increase linearly. The number of vehicles tracked by
the ECCWS and VBDA is very promising though. This
initially increases quite rapidly until we reach approximately
50% adoption. At this point the number of vehicles tracked
is approximately the same as the number tracked at 100%
adoption. The result levels off and is stable from 50% to
100%.
This result shows that by 50% adoption our ECCWS
protocol can track essentially all vehicles that the CCWS
protocol would be able to at 100% adoption. Additionally,
by 25% adoption, the ECCWS protocol can track the same
number of vehicles as the CCWS protocol at 75% adoption.
This presents a strong case for an ECCWS in extending the
reach of VANET communication during its initial stages.
Figure 3.
Number of vehicles tracked at various adoption rates
Figure 4.
PER at various adoption rates
Furthermore, we can look at the PER for these simulations
under different conditions in Figure 4. As expected the PER
for the CCWS increases slightly as adoption rate increases.
This is the result of increased number of transmissions and
related interference causing lost packets. The packet error
180
MOBILITY 2011 : The First International Conference on Mobile Services, Resources, and Users
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-164-9

Figure 5.
VANET CCWS tracking error at various adoption rates
rate for the ECCWS is higher for low adoption rates and
levels off under 100% adoption at approximately equal to
the CCWS protocol. Since under lower adoption rates we
have larger packets, leading to more bit errors and therefore
more packet errors, this result is to be expected. The PER for
both protocols at 100% adoption converges as there are few
vehicles visible but not tracked by our CCWSS. Therefore no
additional information is appended to our location updates
and the packet size remains unchanged between CCWS and
ECCWS protocols.
However, PER does not necessarily give us an indication
of CCWS performance. We calculate the mean tracking error
for each system for each simulation in Figure 5. Under low
adoption rates, the ECCWS does have a slightly higher mean
tracking error than the CCWS, however it only 2-3cm higher
at most. This difference is smaller than the mean DGPS
error [2] and well under the 0.5m accuracy requirement for
accurate position of a vehicle within a lane
[1]. Despite
the increase in PER the ECCWS performs well under all
adoption rates tested.
VII. CONCLUSION AND FUTURE WORKS
Overall, these results show that an ECCWS protocol with
additional information from VBDA shows great potential for
improving system performance under low adoption rates. Of
course, VBDA or any similar sensor based driver assistance
system also presents additional beneﬁts in terms of accuracy,
latency and security under all adoption rates. As such, the
implementation of both VBDA and VANET communication
together and the use of an ECCWS protocol shows great
potential.
In future work we plan to improve the simulation environ-
ment by extending it into 3D space and adding obstruction
information for vision and radio shadowing. Furthermore,
by examining how to use our uniﬁed model to improve
vehicle safety and what information is necessary we can
better quantify the beneﬁts of an ECCWS.
REFERENCES
[1] H. Tan and J. Huang, “DGPS-based vehicle-to-vehicle coop-
erative collision warning: Engineering feasibility viewpoints,”
IEEE Transactions on Intelligent Transportation Systems,
vol. 7, no. 4, pp. 415–428, 2006.
[2] S. Rezaei, R. Sengupta, H. Krishnan, X. Guan, and R. Bhatia,
“Tracking the position of neighboring vehicles using wireless
communications,” Transportation Research Part C, 2009.
[3] H. Ching-Ling, Y. Fallah, R. Sengupta, and H. Krishnan,
“Adaptive intervehicle communication control for cooperative
safety systems,” Network, IEEE, vol. 24, no. 1, pp. 6 –13, 2010.
[4] B. Steven, M. Bauer, D. Laurendeau, T. Kowsari, J. Cho,
M. Hunter, and O. McCarthy, “Roadlab: An in-vehicle lab-
oratory for developing cognitive cars,” 2010.
[5] M. Bauer, K. Chabonneau, and S. Beauchemin, “V2eye: En-
hancement of automated visual perception from v2v commu-
nication,” 2011.
[6] C. Sommer, R. German, and F. Dressler, “Bidirectionally Cou-
pled Network and Road Trafﬁc Simulation for Improved IVC
Analysis,” IEEE Transactions on Mobile Computing, vol. 10,
pp. 3–15, January 2011.
[7] T. Chen, W. Jin, and A. Regan, “Multi-Hop Broadcasting in
Vehicular Ad Hoc Networks with Shockwave Trafﬁc,” in IEEE
CCNC, 2010. Proceedings, 2010.
[8] S. Cocorada, “An IEEE 802.11g simulation model with ex-
tended debug capabilities,” 2008.
[9] K. Wehrle, M. Gnes, and J. Gross, Modeling and Tools for
Network Simulation. Springer, 1st ed., 2010.
181
MOBILITY 2011 : The First International Conference on Mobile Services, Resources, and Users
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-164-9

