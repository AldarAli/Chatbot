The Importance of Accurate Battery Models for
Power Assessment in Smart Energy Systems
Yukai Chen, Sara Vinco
Department of Control and Computer Engineering, Politecnico di Torino
Corso Duca degli Abruzzi, 24, 10129 Torino, Italy
Email: yukai.chen@polito.it, sara.vinco@polito.it
Abstract—The smart energy system is characterized by a broader
combination of various energy sources and energy storage devices
with smart control management and increased attention to
optimization for increasing energy efﬁciency. The fundamental
dimension in the smart energy system design is the power
assessment of the possible design architecture. This demand
imposes a need for accurately tracking the system’s power ﬂow,
simulating and validating the system’s behavior, and applying
additional optimization and exploration during the design time.
Thus, it is evident that simulation is a critical step in the
design ﬂow of a smart energy system. One essential element
to enable such accurate simulation is the precise model of the
power generation and consumption. While sophisticated models
for energy sources exist, the power ﬂow in the system does not
perfectly match the power drawn from the energy storage devices
because the battery, as the primary energy storage device in the
smart energy system, has non-ideal discharge characteristics. We
propose adopting an elaborate battery model for the smart energy
system’s accurate power assessment in this work. We show the
importance of battery model accuracy when conducting a power
assessment using two different case studies.
Keywords–Power Modeling and Simulation; Battery Modeling;
Smart Energy System; Design Time Optimization; Energy Opti-
mization.
I.
INTRODUCTION
The smart energy system contains different scales of energy
systems executed by the smart control management policy. It
covers applications from watts to kilowatts levels, from small-
scale Internet of Things (IoT) nodes to large-scale smart grid
applications. High energy efﬁciency is a critical requirement
for the small-scale smart energy systems since they only have a
small-size energy storage device and power source component.
Some of them even do not install the power source component.
A typical small-scale example is a battery-powered IoT sensor
node. Maximizing this kind of sensor node’s lifetime is critical
during the design time since the nodes are distributed in a
very dispersed manner and the cost of replacement is very
high. For large-scale smart energy systems, the adoption of
green power sources and energy storage devices is considered
a promising solution to reduce the impact on the environment
and save users’ costs. Therefore, these kinds of large-scale
smart energy systems need a careful design to overcome the
oscillating nature of the harvested environmental quantities
and the users’ undisciplined power consumption to achieve an
optimal balance between power generation and consumption.
To improve the smart energy system’s energy efﬁciency, the
designer must assess the system’s real-time power ﬂow during
the design time using computer-aided modeling and simulation
tools. The traditional approach in the academic and industry
ﬁelds to designing a smart energy system relies on a model-
based methodology that depends on existing models pro-
vided by commercial simulation tools like Matlab/Simulink.
Commercial tools have enhanced features and functionalities,
and they are ordinarily user-friendly. Still, there are several
limitations of the commercial tools: (1) it is hard to extend
them as proprietary tools; (2) it is difﬁcult to extend the
performance of the built-in classic models to generate more
accurate results; (3) commercial tools are not designed for
efﬁciently and simultaneously simulating the physical por-
tion (usually continuous-time) and the cyber portion (usually
discrete-time) of the systems, while these two portions are the
intrinsic features coexisting in the smart energy system; and
(4) a smart energy system is a typical heterogeneous system
composed of various components, with different parts possibly
needing different models of computations in the simulation;
commercial tools and platforms lack this kind of heterogeneous
modeling and simulation support.
To tackle these limitations, several methodologies have
been proposed in the literature that borrowed the existing
approaches from the domain of electronic system design.
One common feature shared by these solutions is building a
database ﬁlled with pre-characterized models of the system’s
various components. This feature does allow the designer to
select a model of an element from the pre-deﬁned model
database by assuming a given level of abstraction and a given
semantics of the model. It speeds up modeling the whole
smart energy system; however, one critical issue is ignored
during the power assessment. The smart energy system is
typically composed of three main categories: power source
components, energy storage components, and power consump-
tion components. When the battery plays the power source
role in the system, the power consumed by the load does
not have a perfect 1:1 match with the power provided from
the battery, as it is not an ideal electric device. The reason
for the mismatch is that the actual power delivered by the
battery depends on its current State Of Charge (SOC), the
current magnitude, and the load frequency. More speciﬁcally,
the higher the current amplitude and load frequency, the more
power is being consumed from the battery. Hence, under the
same conditions, a larger discharge current or high-frequency
discharge current proﬁle will consume more battery capacity.
To address this issue, in this paper, we propose to incor-
porate one circuit equivalent battery model, which has SOC
and dynamic current dependency characteristics, in the power
simulation of a smart energy system. We adopt an elaborated
battery model to simulate the smart energy system for tracking
accurate real-time power ﬂow in the system. Two case studies
relative to different smart energy system scales are simulated
in our work to illustrate the importance of an accurate battery
44
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

model for power/energy assessment in various smart energy
system applications.
The rest of the paper is organized as follows. Section II
provides the required background and the motivation of this
work; Section III describes the battery model adopted in our
work; Section IV reports the simulation framework used in our
experiments; Section V shows two case studies to indicate our
proposal; ﬁnally, Section VI concludes the paper.
II.
BACKGROUND AND MOTIVATION
A large number of research activities are currently devoted
to optimizing energy efﬁciency in the smart energy system. A
high energy-efﬁcient design relies on an accurate power/energy
analysis, and modeling and simulation of the smart energy
system are using widely approved techniques to conduct
power/energy assessment during the early design time. Several
approaches for modeling and simulation of smart energy sys-
tems have been proposed in the literature to address different
application contexts, ranging from general-purpose electrical
energy systems [1], small-scale IoT devices [2], large-scale
system like smart grids [3], and medium-scale systems as
Electric Vehicles (EV) [4]. Several different popular simulation
approaches are introduced in the following paragraphs.
Hardware-in-the-loop approaches mix software simulated
models with sensors and actuators or integrate power electronic
devices such as inverters to test the combination of new
technology in a controlled environment [5]. The resulting ac-
curacy is higher than software simulation, but applications are
restricted to small- and medium-scale smart energy systems.
Proprietary tools, such as Simulink, are usually considered the
de-facto standard. However, they are proprietary tools, thus
not easily extensible and accessible. The designer can choose
among several predeﬁned components or instead implement
his/her designs by relying on the provided libraries, which
restricts the chances of developing custom component libraries
and evaluating alternative models. Equation-based approaches,
such as Modelica, decompose the system into elementary
components, modeled with fundamental physics equations, or
with predeﬁned models [6]. This method restricts the kind
of descriptions supported by each simulation infrastructure.
It does not allow designers to model the cyber portion of
a smart energy system effectively. Co-simulation approaches
simulate speciﬁc aspects of the energy systems in their native
environment, combined with other tools to estimate, e.g., the
impact of network latency on control policies or the application
of electricity rates [7]. This co-simulating mechanism leads to
a very time-demanding and error-prone process for integrating
components implemented with different characteristics, e.g.,
with discrete-time or continuous-time behaviors. Additionally,
co-simulation moves the focus from smart energy system
design to its interaction with other domains, thus not accurately
reproducing the energy system components’ behavior. It also
lacks a big picture estimation of the power assessment in the
smart energy system.
The main limitation of the previously presented approaches
is that support for smart energy system modeling is limited,
either in the kind of models or in the scale of supported
systems. To overcome these limitations, the work in [2] targets
more comprehensive support for the smart energy system in
a SystemC-based framework, thus avoiding the integration of
various tools and allowing the application of the methodology
to a wide range of component models. Previous attempts in
the literature have been made to adopt the standard SystemC
simulation framework in the smart energy system. [8] uses
SystemC for abstracting and modeling physical behaviors.
However, the support for the power domain is limited to high-
level waveforms or physical equations. It is also limited to
the sole DC domain, and the modeling of the environment or
physical evolution is restricted to input traces. The work in [9]
takes inspiration from [2], but extends the support for cyber-
physical electrical energy systems, targeting the Alternating
Current (AC) domain and more accurate modeling of those
physical aspects that profoundly affect power production and
consumption.
Although previous works solve the uniﬁed simulation of
AC and Direct Current (DC) domains of the smart energy
system, there is one critical point that is ignored in the earlier
works when conducting a simulation. The battery is usually the
energy storage component in the current smart energy system,
from small-scale to large-scale applications. Simultaneously, it
is not an ideal electric device because the power drawn from
the battery is not entirely equal to the power consumed by
the load. The delivered power from the battery is strongly
dependent on the SOC of the battery and the load current
proﬁle [10]. Especially in the smart energy system, the power
load consumption is typically non-stationary, e.g., the electric
motor’s load consumption in the EV and all the household
appliances in the home. The simple battery model directly
provides the same power quantity as the load requests, but
it is not the battery’s natural discharge characteristics. To
compensate for this defect in the smart energy system’s power
simulation, we need a battery model sensitive to its SOC
and the current load proﬁle. Otherwise, the power simulation
results cannot generate the accurate power/energy ﬂow in the
smart energy system, which leads to an overly optimistic power
assessment because the battery is treated as an ideal electric
device. Therefore, in this work, we propose incorporating one
circuit equivalent battery model with SOC and load current
dependence features in the power simulation to obtain an
accurate power assessment in the smart energy system.
III.
BATTERY MODELING
The battery is the most popular energy storage device
from small-scale to large-scale smart energy systems due to
its excellent performance on power delivery capability and
high energy storage density. Therefore, the elaborated battery
model plays a vital role in the design and optimization of smart
energy systems. For instance, battery-powered IoT sensor
nodes lifetime estimation and EV driving range prediction are
possible only through advanced battery models and accurate
simulation techniques. According to the various battery mod-
eling techniques in the literature, there are three main battery
models categories: : mathematical models, electrochemical
models, and electrical equivalent circuit models. Although the
mathematical models and electrochemical models have good
accuracy, the complexity of the parameter identiﬁcation and
heavy computation are not convenient for the power assess-
ment in the design time. An electrical equivalent circuit battery
model is an excellent choice for power simulation of a smart
energy system due to its high accuracy, accessible parameters
identiﬁcation, and light computation. An electrical equivalent
circuit battery model is composed of resistors, capacitors, and
45
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

voltage or current sources. Fig. 1 shows a widely used circuit
equivalent battery model, which is considered as a sort of
standard in the electronic design ﬁeld because of its relatively
good trade-off between simplicity and accuracy.

	














Figure 1. The widely used circuit equivalent battery model [11].
The left part of the model in Fig. 1 includes a ca-
pacitor C representing the nominal capacity and a current
generator modeling the discharge current Ibatt. The voltage
across the capacitor tracks the SOC (node SOC). In the right
part, a voltage-controlled generator expresses the dependence
of battery open-circuit voltage Voc on SOC. The Resistor-
Capacitor (RC) network models the battery impedance, the
series resistance R(SOC) represents the internal resistance,
and the two RC pairs track the short-term (RS, CS) and long-
term (RL, CL) time constants of an instant response. Notice
that all these parameters are, in the most general scenario,
a function of the SOC. The model can track the battery
voltage Vbatt over time for load current proﬁles with different
dynamics (in both time and frequency domains), even if they
have the same average current values. In terms of tracking
the SOC, the current generator Ibatt on the left side will give
the same result among different load current proﬁles with the
same average current values as indicated in [12], which is not
the expected behavior because of the Rated Capacity effect
exists in a battery. Rated Capacity effect is a well-known non-
ideal property of a battery. It reveals that the usable capacity
depends on the magnitude of the discharge current: a battery
is less efﬁcient in converting its chemically stored energy into
electrical energy if the current is large.
To integrate the Rated Capacity effect in the battery model
shown in Fig. 1, the previous work [13] proposed to include
this effect by adding a voltage generator Vlost(Iload) in series
to the left part of the model (see Fig. 2). With this addition,
SOC can be tuned to become more sensitive and accurate
to different current magnitudes. However, the model cannot
observe the difference between two current square-wave load
proﬁles with the same average and swing values, but dif-
ferent frequencies. The frequency of the load proﬁle is an
important aspect; it can affect the SOC of battery like the
current magnitude and is always ignored when conducting a
power assessment of the energy system. Intuitively, a higher
frequency load depletes the battery more since low-efﬁciency
electrochemical reactions occur at a higher frequency. This
dependency on load current frequency is underrated in pre-
vious works, while this effect is not negligible, as illustrated
in [12]. This frequency dependency should be considered in
the power analysis since the smart energy system’s load proﬁle
is always irregular and unpredictable. The different frequency
components are hidden in the current load proﬁle, affecting
the available battery charge.
For this purpose, another circuit equivalent battery model
is proposed, as shown in Fig. 2. The frequency dependence is
modeled by integrating the voltage generator Vlost(fload) on
Figure 2. The circuit equivalent model sensitive to current dynamics [12].
the left side of the circuit, which will cause a voltage drop (a
loss of SOC) depending on the frequency of the current load
proﬁle. In this work, we incorporate the battery model in Fig. 2
for the power assessment of the smart energy system. For a
given battery, the methodologies to derive the dependencies of
battery capacity on current load magnitude and frequency are
used on the left side of the battery model in Fig. 2 and are
described in [12]. It also introduces how to use the model in
the simulation, particularly for the battery frequency-dependent
simulation. The battery model shown in Fig. 2 represents one
single battery cell; it can be directly adopted in the small-scale
smart energy system with only one battery cell. However, for
the battery energy storage system installed in the large-scale
smart energy systems, the systems typically have a battery pack
composed of massive cells connected in series and parallel
to achieve expected power and energy rates. A commonly
used approach to build the battery pack model assumes all
the cells behave identically within the pack, then ideally scale
up the battery cell’s electrical parameters according to the
serial and parallel connectivity. This method guarantees a faster
simulation and higher ﬂexibility in modeling and simulation
of a large battery pack. In this way, not all the cells have
to be simulated individually; a battery pack behaves at the
electrical terminals the same way as a single battery cell, while
the electric values have been ideally scaled-up.
IV.
SYSTEMC-AMS SIMULATION FRAMEWORK
A. Simulation Framework Architecture
To conduct the smart energy system’s power assessment,
the designer needs to run a smart energy system simulation
to track power production, power distribution, and power
consumption. We can classify four main categories in the smart
energy system: power source, power load, energy storage,
and conversion components. The small-scale systems typically
operate in the DC domain, while both DC and AC domains
are covered for the large-scale system. Fig. 3 shows a generic
architecture template of the smart energy system; it comprises
all kinds of components included in the smart energy systems
from DC to AC domain.
Figure 3. Generic smart energy system modular architectural template.
We adopted the simulation framework proposed in [2]
in this work, although it only focuses on small-size smart
46
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

electronic systems and targets various non-functional proper-
ties. In our work, we concentrate on the power property and
extend the support of small-size smart electronic systems to the
general smart energy system, as shown in Fig. 3. The adopted
simulation framework indicated in Fig. 3 shows a bus-based
modular architecture; it mimics the structure of a typical smart
energy system. Notice that the small-scale system only works
in the DC domain. Four main components are included in this
framework, loads (acting as energy consumers), power sources
(acting as power generators), converters, and energy storage
devices (storing energy from power generators and providing
to energy consumers).
The ports of the modules in the DC and AC domains shown
in Fig. 3 are different, where the DC ports are modeled as V
and I and the AC ports are modeled as P and PF. The reason
is that the AC domain’s power is not the same as the power
in the DC domain. The power can be directly modeled as
voltage and current in the DC domain. However, the AC power
is composed of two components, namely, active and reactive
power. The sum of these two powers is called apparent power.
In general, the current and voltage in the AC domain are not
the same sinusoidal curves; the two curves may be out of phase
by a degree depending on the type of component. The PF is
called the power factor, which is the parameter that represents
this degree. Therefore, we can use P to describe the active
power and the corresponding power factor PF to compute the
apparent power.
Components are connected through a power bus in both
AC and DC domains, which allows the power to combine
and propagate within the system. The power management
policy is implemented in the system buses (either AC or
DC). Additionally, the policy considers the power balance
between generation and consumption, to activate or de-activate
components through enabling ports, as indicated by EN in
Fig. 3. The connections of different components to the buses
need converters, to maintain the same voltage level of the bus,
or inverters, to convert between the DC and the AC domains.
Connections between different domains are ﬁnally managed
by bridges that behave the same as an inverter.
B. Implementation Simulation Framework
As described in the previous sections, a smart energy
system is typically composed of various components. Het-
erogeneity is one main feature of the smart energy system.
Manipulating different heterogeneous models in one system is
not an easy task. We adopted the methodology proposed in [9]
to model different components in the smart energy system by
using SystemC-AMS language, which is also the reference
language to implement the whole simulation framework. It
supports multiple abstraction levels for the modeling and
simulation in a wide range of domains by using a single
language, which satisﬁes the heterogeneous modeling and
simulation of the smart energy system. Models can be built
by choosing the most suitable abstraction level, and native
converters can be exploited to simulate different abstraction
levels simultaneously.
SystemC is an extension of C/C++ language with speciﬁc
libraries to describe hardware, and it is widely used in digital
design for early-stage analyses. Its Analog Mixed Signal
(AMS) extension [14] was invented for modeling and sim-
ulating the interactions between analog/mixed signal systems..
It provides three different Models of Computation (MoC) to
cover various domains. Timed Data-Flow (TDF) models are
scheduled statically by considering their producer-consumer
dependencies in the discrete-time domain. Each TDF module
is characterized by a simulation time step used by the TDF
solver to insert timed activation events in the standard SystemC
event queue. This event queue ensures efﬁcient computation,
as it avoids any runtime dynamic event management. Another
two abstraction levels support continuous-time models. Linear
Signal Flow (LSF) supports continuous-time modeling through
a library of pre-deﬁned non-conservative primitive modules
that can be used for modeling the sophisticated mechanical
model, e.g., the wind turbine model. Electrical Linear Network
(ELN) MoC model the electrical network by connecting the
instantiations of pre-deﬁned primitives, which is used for
modeling the circuit equivalent model, e.g., our adopted circuit
equivalent battery model.
V.
SIMULATION RESULTS OF TWO CASE STUDIES
We use two case studies to illustrate the importance of the
elaborated battery model for the power assessment in the smart
energy system. All simulations conducted in this section are
implemented with SystemC-AMS version 2.3 and run on a
server with Intel Xeon 2.40 GHz CPU and 128GB RAM, as
well as Ubuntu operating system version 18.04.
A. Small-scale smart energy system case study
One multi-sensor IoT device described in [15] is selected
as the ﬁrst small-scale case study. It has (1) four sensors
to monitor four different environmental quantities, namely,
wind speed and direction, gas, PM2.5 and infrared; (2) one
microcontroller that manages the scheduling of the sensors
activities by controlling their power state; (3) one transmission
unit for sending data to the data center, and (4) one lithium
battery that provides the power to the device. This case study
only operates in the DC domain, and there is only power
consumed and energy storage components in the system. Fig. 4
shows the skeleton of this small-scale smart energy system.
Figure 4. Modular architecture of smart IoT sensor nodes energy system.
All the components in the system are modeled by SystemC-
AMS. The sensors, Radio Frequency (RF) transceiver, and
microcontroller components are modeled by TDF MoC since
they are pure power consumed units. Table I lists the power
consumption of these units in both active and idle states.
The battery is modeled by ELN MoC, as shown in Fig. 2.
We selected the Panasonic 18650B lithium battery in our
simulations. It has 3,200 mAh nominal capacity and 3.6V rated
voltage. All the converters in the system are modeled by the
same methodology proposed in [4].
This smart system’s operating scenario is composed of a
periodic sequence of the following tasks: sensing, computation,
47
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

TABLE I. POWER CONSUMPTION OF EACH COMPONENT IN THE SYSTEM.
Component
State
Voltage (V)
Current (mA)
Infrared Sensor
Idle
2.5
0.0001
Active
5.0
10.0
Wind Sensor
Idle
5.0
0.001
Active
12.0
50.0
Gas Sensor
Idle
2.0
0.0015
Active
5.0
168.9
PM2.5 Sensor
Idle
2.0
2.0
Active
5.0
220.0
RF
Idle
0
0
Active
1.8
18.8
Microcontroller
Idle
3.0
0.002
Active
3.0
6.0
and transmission. When the system executes these tasks, it is
in the active period (Tactive), then the system enters a longer
idle period (Tidle) after these operations. The executive order
of different components within the Tactive interval becomes
a critical point for improving the system’s energy efﬁciency.
Notably, different scheduling of sensors generate different load
current proﬁles, ﬁnally affecting the available SOC of battery,
which determines the lifetime of the system.
To show the inﬂuence of the battery model accuracy, we
tested two scheduling policies of these four sensors. One is all
the sensors work concurrently; the other is the sensors operate
individually one by one. Both schedules are simulating with
the simple battery model shown in Fig. 1 and the elaborated
battery model indicated in Fig. 2. We set the sensing tasks to
spend 10s individually, the computational task and transmitting
task both execute for 5s, and the total length the working period
is 120s. We run the simulations in a one-day length to compare
the difference between two battery models and two schedules.
0
20
40
60
80
100
120
140
160
180
200
220
240
Time (s)
0
0.3
0.5
0.7
Current (A)
(a) Battery Discharge Current Profile
Parallel Sensing Schedule
Series Sensing Schedule
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Time (Hour)
40
60
80
100
SOC (%)
(b) SOC Profile Simulated with Simple Battery Model
Parallel Sensing Schedule
Series Sensing Schedule
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Time (Hour)
40
60
80
100
SOC (%)
(c) SOC Profile Simulated with Elaborated Battery Model
Parallel Sensing Schedule
Series Sensing Schedule
Figure 5. Results from two battery models with different schedules.
Fig. 5-a shows the battery discharge current proﬁle within
two periods for both schedules; it indicates that the parallel
schedule has higher peak currents; thus, it should generate
more signiﬁcant Rated Capacity effect on the battery. However,
the battery model shown in Fig. 1 cannot show this effect as
illustrated in Fig. 5-b, the SOC proﬁles within one day of these
two schedules are the same. We can see the difference between
these two schedules clearly by using the more elaborate battery
model in the simulations, as shown in Fig. 5-c. This reveals
that the parallel schedule consumes 6.14% more than the
series sensing schedule. Designing the optimal energy-efﬁcient
schedule is not the target of this work; our aim is to illustrate
that a more comprehensive battery model allows exploring the
optimal schedule during the design time accurately.
B. Large-scale smart energy system case study
The second case study is a large-scale smart energy system
composed of is an EV, a Photovoltaic (PV) array, a house, and
the utility grid. The architecture of this case study is shown
in Fig. 6 and it covers both the DC and AC domains. The
PV array is modeled by starting from a single PV module
model [16], then ideally scaling up to the size of the PV
array with 15 300W rated power PV modules. The single
battery cell model is the same as in our previous case study.
It scaled up to a 30kWh EV battery pack model according to
a 50s50p conﬁguration. The EV motor model is derived by
the method provided in [4]. The power consumption of the
house is extracted from the dataset [17]. The input traces of
solar irradiance used in the simulation are extracted from the
dataset provided by the National Renewable Energy Labora-
tory (NREL) Measurement and Instrumentation Data Center
(MIDC) [18]. For the driving proﬁle, we assumed the EV
operates a daily commute routine. The grid is modeled by a
module that can absorb the system’s surplus power and provide
the system’s power deﬁcit.
Figure 6. Modular architecture of smart house energy system.
The EV operates the daily commute routine between the
house and the working place. The operational scenarios of this
case study have two phases:1) when the EV is not plugged in
at the house, the PV array provides the solar power to support
power consumption of the house; if any additional power, it
will be sold to the grid; any power deﬁcit will be bought
from the grid; 2) when the EV is connected to the house,
the power consumption of the house is provided by the EV
ﬁrst, then the house starts to buy power from the utility grid if
the battery pack is depleted; ﬁnally, the EV and the house start
to buy the power from the grid during the lowest electricity
price period. A time-dependent electricity price is adopted in
the simulation, as indicated in Table II. These are the basic
operations of this case study. Smart management policies can
be explored in this case study in order to improve the efﬁciency
of energy or for cost saving. While this is beyond the target
of this work, we aim to show the accuracy improvement of
the power assessment after incorporating an elaborated battery
model.
Fig. 7 shows the EV battery pack SOC evolution for
the weekdays in one week. Fig. 7-a and Fig. 7-b show the
48
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

TABLE II. ELECTRICITY PRICES FOR DIFFERENT TIMES OF THE DAY.
Price Category
Value ($/kWh)
Time span
Buying F1
0.220
10am-3pm 6pm-9pm
Buying F2
0.215
7am-10am 3pm-6pm
9pm-11pm
Buying F3
0.200
11pm-7am
Selling
0.030
all day
power consumption and generation in the system. Fig. 7-c
compares the SOC proﬁles derived from two different battery
models. This reveals that the battery pack has full charge
at the beginning; then, it starts to discharge power after the
EV leaves the house to the working place; the SOC remains
stable when the EV is parked at the working place; then, the
SOC decreases again when the EV returns the house; the EV
provides the power to the house if needed; ﬁnally, the battery
pack is charged after 11 pm since the electricity price decreases
to the lowest price. We assume the constant speed of the EV
during the driving period, and we focus on the period when
the EV interacts with the system.
0
1
2
3
4
5
0
2
4
6
Power (kW)
(a) Power Consumption Profile of the House
0
1
2
3
4
5
0
1
2
3
4
Power (kW)
(b) PV Power Generation Profile
0
1
2
3
4
5
Time (Day)
20
40
60
80
100
SOC (%)
(c) EV Battery Pack SOC Profile
Elaborated Model
Simple Model
Figure 7. Simulation results from two different battery models.
This case study veriﬁes the importance of the battery model
accuracy in the power simulation of a smart energy system
again. Fig. 7-c illustrates that the simple battery model makes
an underestimated power assessment during the simulation; the
SOC proﬁle derived by the elaborated battery model is below
the simple battery model one, which means the battery pack
needs to be charged more after 11 pm. The simple battery
model leads to an optimistic inaccurate power estimation of
the smart energy system. For a long term comparison, the total
bought energy from the grid after one year is 4,163 kWh for
simulating with the elaborated model and 3,882 kWh with the
simple model, which has a 7.2% difference.
VI.
CONCLUSION
An accurate power assessment in the smart energy system
simulation requires sophisticated models of different compo-
nents in the system, and the battery model is the critical
one due to its non-ideal properties. This paper proposed
incorporating one elaborated circuit equivalent battery model
that accounts for SOC and current load dynamics in the power
simulation of the smart energy system. The elaborated model
can conduct a more accurate power assessment of the smart
energy system than using the traditional circuit equivalent
battery model. We demonstrate the importance of the battery
model accuracy for the power estimation of the smart energy
system by using two different scales of case studies.
REFERENCES
[1]
S. Yue, D. Zhu, Y. Wang, M. Pedram, Y. Kim, and N. Chang,
“SIMES: A simulator for hybrid electrical energy storage systems,”
in International Symposium on Low Power Electronics and Design
(ISLPED).
IEEE, 2013, pp. 33–38.
[2]
S. Vinco, Y. Chen, F. Fummi, E. Macii, and M. Poncino, “A layered
methodology for the simulation of extra-functional properties in smart
systems,” IEEE Transactions on Computer-Aided Design of Integrated
Circuits and Systems, vol. 36, no. 10, 2017, pp. 1702–1715.
[3]
M. A. Mohamed and A. M. Eltamaly, Modeling and simulation of smart
grid integrated with hybrid renewable energy systems.
Springer, 2018.
[4]
Y. Chen et al., “A systemc-ams framework for the design and simulation
of energy management in electric vehicles,” IEEE Access, vol. 7, 2019,
pp. 25 779–25 791.
[5]
B. Palmintier et al., “A power hardware-in-the-loop platform with re-
mote distribution circuit cosimulation,” IEEE Transactions on Industrial
Electronics, vol. 62, no. 4, 2014, pp. 2236–2245.
[6]
P. Palensky, E. Widl, and A. Elsheikh, “Simulating cyber-physical
energy systems: Challenges, tools and methods,” IEEE Transactions on
Systems, Man, and Cybernetics: Systems, vol. 44, no. 3, 2013.
[7]
P. Palensky, A. van der Meer, C. Lopez, A. Joseph, and K. Pan, “Ap-
plied cosimulation of intelligent power systems: Implementing hybrid
simulators for complex power systems,” IEEE Industrial Electronics
Magazine, vol. 11, no. 2, 2017, pp. 6–21.
[8]
J. M. Molina, X. Pan, C. Grimm, and M. Damm, “A framework for
model-based design of embedded systems for energy management,” in
2013 Workshop on Modeling and Simulation of Cyber-Physical Energy
Systems (MSCPES).
IEEE, 2013, pp. 1–6.
[9]
Y. Chen, S. Vinco, D. J. Pagliari, P. Montuschi, E. Macii, and
M. Poncino, “Modeling and simulation of cyber-physical electrical
energy systems with SystemC-AMS,” IEEE Transactions on Sustainable
Computing, 2020.
[10]
D. Baek et al., “Battery-aware operation range estimation for terrestrial
and aerial electric vehicles,” IEEE Transactions on Vehicular Technol-
ogy, vol. 68, no. 6, 2019, pp. 5471–5482.
[11]
M. Chen and G. Rinc´on-Mora, “Accurate electrical battery model
capable of predicting runtime and IV performance,” IEEE Transactions
on Energy Conversion, vol. 21, no. 2, 2006, pp. 504–511.
[12]
Y. Chen, E. Macii, and M. Poncino, “A circuit-equivalent battery
model accounting for the dependency on load frequency,” in Design,
Automation & Test in Europe Conference & Exhibition (DATE), 2017.
European Design and Automation Association, 2017, pp. 1177–1182.
[13]
L. Benini, G. Castelli, A. Macii, E. Macii, M. Poncino, and R. Scarsi,
“Discrete-time battery models for system-level low-power design,”
IEEE Transactions on VLSI Systems, vol. 9, no. 5, 2001, pp. 630–640.
[14]
IEEE, “Standard for Standard SystemC Analog/Mixed-Signal Exten-
sions Language Reference Manual,” Std 1666.1-2016, 2016, pp. 1–236.
[15]
Y. Chen, D. Jahier Pagliari, E. Macii, and M. Poncino, “Battery-aware
design exploration of scheduling policies for multi-sensor devices,” in
Proceedings of the 2018 on Great Lakes Symposium on VLSI, 2018,
pp. 201–206.
[16]
S. Vinco, Y. Chen, E. Macii, and M. Poncino, “A uniﬁed model of power
sources for the simulation of electrical energy systems,” in Proceedings
of the 26th edition on Great Lakes Symposium on VLSI, 2016, pp.
281–286.
[17]
J. Kelly and W. Knottenbelt, “The uk-dale dataset, domestic appliance-
level electricity demand and whole-house demand from ﬁve uk homes,”
Scientiﬁc data, vol. 2, no. 1, 2015, pp. 1–14.
[18]
National Renewable Energy Laboratory (NREL), “Measurement and In-
strumentation Data Center,” URL: https://midcdmz.nrel.gov/ [accessed:
2020-07-27].
49
Copyright (c) IARIA, 2020.     ISBN:  978-1-61208-788-7
ENERGY 2020 : The Tenth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

