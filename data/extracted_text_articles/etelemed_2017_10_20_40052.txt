Toward a Generic Personalized Virtual Coach for Self-management:
a Proposal for an Architecture
Johan Blok, Aranka Dol, Talko Dijkhuis
School for Communication, Media & IT
Hanze University of Applied Sciences
The Netherlands, Groningen
e-mail: j.blok@pl.hanze.nl, a.dol@pl.hanze.nl, t.b.dijkhuis@pl.hanze.nl
Abstract—The shift toward prevention and self-management in
health hinges upon a massive realization of behavior change,
which involves the use of virtual coaches. Increasing availability
of data from mobile devices and techniques for real time analysis
provide new opportunities for personalizing virtual coaches. We
propose an architecture that takes advantage of those devel-
opments. We identify the required knowledge and methods to
develop a ﬂexible ecosystem for rapid prototyping of personalized
virtual coaches.
Keywords–virtual coach; personalization; coaching strategy;
data science; model based software development.
I.
INTRODUCTION
Self-management is widely seen as a viable contribution
to sustainable health-care as it allows to prevent health prob-
lems. Virtual coaches are important means to support self-
management in order to maintain and increase health and well-
being.
The wide availability of wearables and new techniques
of data science to deal with big data provide many new
opportunities for the persuasive design of virtual coaches [1].
The variety in health related data is increasing. While motion
trackers have become common, other wearables are becoming
available, such as stress sensors. Yet, many applications are
still at a stage in which the data are simply presented as
graphs. Mostly, data are merely used as input to a monitoring
tool rather than as input for coaching strategies, let alone
that the variety of data is combined in order to personalize
the coaching strategy. While van Gemert-Pijnen et. al. and
Siewiorek et. al. identify these opportunities [1][2], we propose
an architecture for integrating big data in virtual coaches. The
prototype described by Blaauw et al. combines the execution of
ecological momentary assessments (EMA) with the collection
of data from wearables [3]. In our proposal, we embed those
two elements within a coaching strategy. Additionally, we
enrich the notion of EMA by allowing for automatic execuction
and personalization of EMAs. Albaina et al. illustrate the
design process of a persuasive virtual coach for the very
speciﬁc purpose of motivating elderly people to walk by using
a pedometer and goalsetting [4].
This paper proposes an architecture for a generic person-
alized virtual coach. Section 1 introduces the main ﬁelds of
knowledge that are required for developing a personalized
virtual coach. Subsequently, we propose an architecture in-
tegrating knowledge of these disciplines. Section 3 elaborates
on the required computer science techniques. The next section
shortly describes the kind of process management that is
required in order to take the concept of virtual coaching a
step further. A discussion of future work ﬁnishes this paper.
II.
METHODOLOGY
We deﬁne a virtual coach as a computational system that
assists the user, either as stand in or merely as supplementary
to a human coach, to support behavior that is desired by
the user to improve health or well-being. This deﬁnition is
wider than the deﬁnition of eCoaching by Lentferink [5],
even if it is narrowed down with the adjective ’personalized’
as deﬁned below. Contrary to Lentferink’s deﬁnition, which
limits eCoaching to goalsetting, our deﬁnition is agnostic to
the nature of the coaching strategy. As a result, we are able to
distinguish between the generic nature of the virtual coach and
a wide range of coaching strategies. Although the architecture
as such does not exclude a wider application, it is developed
within the context of eHealth. The intended applications range
from the treatment of emotional eaters [6][7] to support for
maintaining the social network by elderly people. As such, the
virtual coach implements persuasive technology that attempts
to inﬂuence the behavior of its users.
According to the behavior model of Fogg, behavior is most
likely to be inﬂuenced when the motivation is high and the
triggers to act are easy to execute [8]. Given the intrinsic dif-
ﬁculties of achieving enduring behavior change, our deﬁnition
deliberately limits the virtual coach to changes that are desired
by the user. According to Fogg’s behavior model, triggers
become easy to execute when they are adapted to the context of
the user. Fogg’s characterization of triggers straightforwardly
translates into a crucial requirement for the virtual coach,
namely that it must personalize its feedback to the user as
well as the coaching strategies on which this feedback relies.
A particular coaching strategy, or a different focus within a
coaching strategy, might be more effective, depending on the
dispositions, abilities, preferences, and lifestyle of the user.
The architecture proposed in the following section is based
on the integration of three disciplines. The ﬁrst one belongs to
the therapeutical application of behavioural sciences, sociology
or psychology, or a mix of them, depending on the nature of the
intervention for which one implements the virtual coach. They
provide an evidence based coaching strategy. For example,
if an instantiation of the virtual coach needs to support the
development of learning abilities of children, the coaching
strategy will stem from theories about metacognition and the
manner in which capabilities can be improved. In the case of
emotional eaters, which comprises our ﬁrst application of the
virtual coach, the coaching strategy stems from existing face-
105
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-540-1
eTELEMED 2017 : The Ninth International Conference on eHealth, Telemedicine, and Social Medicine

to-face therapies [9].
The second discipline is that of data science. The wide
spread use of mobile devices and recent developments in the
ﬁeld of big data and predictive analytics allows to achieve the
required personalization by gathering, analyzing, and interpret-
ing personal data. Analysis, both on the level of personal data
(n=1) and of aggregated data, provides information to guide
the coaching strategy in adapting its triggers to the speciﬁc cir-
cumstances of the individual user. Most importantly, streaming
data, predictive analysis, and realtime data processing provide
novel opportunities to achieve an appropriate timing of the
triggers, which is key in the success of persuasive designs [8].
Finally, the third discipline comprises a subﬁeld of soft-
ware engineering called model driven software development
(MDSD). The application of domain models, especially in the
form of domain speciﬁc languages (DSL), entails the devel-
opment of abstractions that capture the crucial elements of a
domain, in our case coaching strategies [10]. For the purpose
of the virtual coach, a DSL must be designed that allows for an
straightforward implementation of coaching strategies. Such an
implementation consists of a translation of (parts of) a coach-
ing strategy into rules suitable for a computational system.
The virtual coach executes these rules to provide feedback to
the user depending on the outcomes of the analysis of data.
Since there are many ways in which even a single coaching
strategy can be implemented, considerable exploration and
research must be carried out into the most effective ways of
implementing coaching strategies. The application of MDSD
ensures that the rules of a coaching strategy can be changed
easily.
III.
ARCHITECTURE
We propose to combine a health data platform (HDP) with
a platform for the implementation of coaching strategies (CSP)
in order to establish an ecosystem for personalized virtual
coaches (see Fig. 1).
A. Health Data Platform
One of the most important aspects of the required per-
sonalization of the triggers of a coaching strategy consists in
the trigger’s timing [8]. The real time analysis of personal
data streams as well as the real time self-evaluation of the
virtual coach itself provides new opportunities to establish an
appropriate timing of the triggers.
The HDP employs techniques of data science to gather,
store, query, analyze, classify, and predict health and lifestyle
related data. We distinguish between direct and indirect data
streams. The former stem from mobile devices, while the latter
consist of data that is generated by the coaching strategy itself.
The indirect data streams allow the virtual coach to consult the
coaching history and adapt itself accordingly, for example to
avoid coaching moves that have failed in the past.
B. Coaching Strategy Platform
The other part (CSP) implements the coaching strategy and
consists of the following parts:
•
user interaction;
•
data processing unit to combine data generated by user
interaction with the output of the health data platform;
•
rule engine to provide the user with feedback by
personalizing scheme’s.
First of all, feedback may consist of advice to take educational
modules to improve skills as required by the coaching strategy.
It may also consist of the suggestion to set a certain goal. When
accepted by the user, progress will be measured and visualized
in such a way that it motivates the user to achieve this goal.
A third important type of feedback consists of an EMA.
EMAs are often used in eHealth related research. They
provide a convenient way to obtain structured real time infor-
mation about the behavior and experiences of the user [11][12].
EMAs are used for research purposes as well as treatment. We
propose a way of using EMAs within the virtual coach with
two novel aspects:
•
automatic execution;
•
personalization.
Depending on the speciﬁc state of the individual, the coaching
strategy might involve an EMA at certain stages of the coach-
ing. Schematized EMAs can be used to personalize ecological
momentary interventions, or EMIs. Coaching rules enable the
automatic execution of EMIs that are tailored to individual
situations.
Let us take a simple example to illustrate how this global
architecture supports the implementation of a virtual coach.
Suppose a wearable is used for tracking the movements of
users. Let us take as a very simple coaching strategy that the
virtual coach must be able to support existing good habits.
Pattern detection and predictive analytics learns for example
that a particular user A is usually running on each Friday
morning. Let us assume that the user has entered his holidays
via the user interface or that the virtual coach has access to this
information by other means. and that he spends his Saturdays
such that it is no option to improve movements. This extremely
simpliﬁed coaching strategy can be implemented in the rule
engine as follows:
if running is predicted within 5 minutes,
remind the user unless he has a holiday
The user will receive notice in accordance with her or his
preferences (SMS, whatsapp, etc.). An improved version might
take into account the weather and only remind the user when
it has stopped raining.
IV.
COMPUTER SCIENCE TECHNIQUES
This section identiﬁes the required techniques of the most
innovative aspects of the proposed architecture.
A. Data Science
Widely available mobile devices provide diverse data
streams that are useful for understanding, and possibly pre-
dicting, the behavior of the user. The nature of the virtual
coach requires the analysis of these data streams to be auto-
mated. Patterns, features, and anomalies need to be discovered
automatically (knowledge discovery). Knowledge discovery
requires:
•
the automation of the data analysis process;
•
the handling of Big Data in combination with Analyt-
ics.
The automation of data analysis involves the preparation,
transformation, and modeling of data in order to become in
the position to discover ’knowledge’, that is, useful information
[13]. The diversity, realtime, and streaming nature of the data
impose Big Data aspects [14] on the automation of data
analysis [15]. Accordingly, the health data platform requires
the latest techniques and frameworks to implement the storage
and real time analysis of data streams, such as Apache Storm.
106
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-540-1
eTELEMED 2017 : The Ninth International Conference on eHealth, Telemedicine, and Social Medicine

Lifestyle & Health Data Platform
Coaching Strategy Platform
Time 
Series
Clustered
Big Data 
Storage
Feedback/EMA 
Templates
Personalized
Feedback
(Advice,
EMA,
Goal)
LOG
BOOK
Big Data 
Analysis
(Predictive, 
Change, 
Classification,
…)
Analysis
Query Engine
(MapReduce)
Coaching 
Feedback
Rules
Collect
Compare
Filter
Summarize
Data
Storage
Figure 1. Architecture Personalized Virtual Coach
B. Model Driven Software Engineering
The implementation of a coaching strategy requires at
least some techniques that are developed under the label of
artiﬁcial intelligence (AI). A common distinction between two
approaches in AI is that between rule based expert systems
and data based machine learning systems. Currently the latter
is quite popular, because of success in applying this approach
to previously unsuccessful cases, such as machine translation
and computer vision. To a large extent, this success is the result
of the availability of a lot of data of sufﬁcient quality, such as
labeled images for computer vision.
Unfortunately, in the case of coaching strategies, this data is
hardly available (or not in the language of the intended users)
and is not likely to become available in the foreseeable future.
Moreover, experts on coaching strategies aim at improvements,
which requires a conceptualization of psychological and/or
social processes. In the case of machine learning, however,
correctly labeled data is used to produce rules for computation
indirectly. These automatically produced rules not only remain
implicit, but also remain almost incomprehensible for human
cognition. Thus, a machine learning solution to the coaching
strategy as a whole tends to obfuscate an understanding of
these processes, which is precisely what domain experts aim
to unravel. Although machine learning is invaluable to analyze
the data streams, and can be used in several other parts, such
as natural language processing, we do not regard it as the
ﬁrst choice for implementing the coaching strategy as a whole.
Nevertheless, once sufﬁcient virtual coaches, using sufﬁciently
rich data sets, have operated for some time, their data might
be useful to train machine learning modules to improve the
virtual coaches. Currently, however, we are not yet at this
stage, but have to start by implementing coaching strategies
as understood by domain experts.
The ﬁeld of MDSD provides convenient means, such as
the concept of a DSL, to implement a rule based system. Such
a DSL based system allows to formulate the coaching strategy
in terms that are close to the coaching domain. In the case
of dialectical behavior therapy for emotional eaters, a simple
example of such a rule could be [9]:
if Anger or Fear dominates
follow Dialectical Coaching Strategy
Obviously, such a rule presupposes several software modules,
such as modules that allow to determine the dominating
emotions, for example by means of EMAs, a stress sensor,
or the analysis of expressions in natural language. The DSL
107
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-540-1
eTELEMED 2017 : The Ninth International Conference on eHealth, Telemedicine, and Social Medicine

provides an abstraction level that does not require knowledge
about the way these software modules and the analysis of data
are realized.
V.
DEVELOPMENT PROCESS
Nowadays, agile approaches dominate the development of
software. These approaches ensure a crucial role for all stake-
holders at each stage of the development. An agile approach,
especially in the form of scrum, is particularly suitable for a de-
velopment process that requires the integration of quite diverse
disciplines. By means of an, preferably daily, participation in
the scrum process, the expert on coaching strategies is imme-
diately confronted with the the (im)possibilities of engineering
techniques Conversely, the engineers get immediate feedback
on their interpretation of the coaching strategy. In addition, the
agile approach prepares the virtual coach for adoption by users
and the healthcare sector [16].
VI.
CONCLUSION
We have identiﬁed how knowledge of diverse disciplines
should be integrated, and proposed an architecture for a generic
personalized virtual coach that utilizes recent developments in
wearables and data science. Focusing on the implementation
of the coaching strategy required by the treatment of emotional
eaters, several software modules for both the HDP and CSP
are currently under development. Future work will consist of
the integration of the software modules to show the viability of
our architecture, including the design of an appropriate DSL
for implementing coaching strategies. Planned expansions to
other coaching cases will warrant and demonstrate the generic
nature of our solution.
REFERENCES
[1]
L. V. Gemert-Pijnen, F. Sieverink, L. Siemons, and
A. Braakman-Jansen, “Big data for personalized and
persuasive coaching via self-monitoring technology,”
2016.
[2]
D. Siewiorek, A. Smailagic, and A. Dey, “Architecture
and applications of virtual coaches,” Proceedings of the
IEEE, vol. 100, no. 8, pp. 2472–2488, 2012.
[3]
F. J. Blaauw et al., “Let’s get physiqual - an intuitive and
generic method to combine sensor technology with eco-
logical momentary assessments,” Journal of Biomedical
Informatics, vol. 63, pp. 141–149, 2016.
[4]
I. M. Albaina, T. Visser, C. v. d. Mast, and M. H. Vas-
tenburg, “Flowie: A persuasive virtual coach to motivate
elderly individuals to walk,” pp. 1–7, 2009.
[5]
A. Lentferink et al., “Self-tracking and persuasive
eCoaching in healthy lifestyle interventions: Work-in-
progress scoping review of key components,” pp. 15–35,
Apr. 5, 2016.
[6]
A. Dol, O. Kulyk, H. Velthuijsen, L. V. Gemert-
Pijnen, and T. V. Strien, “Denk je z`elf! developing a
personalised virtual coach for emotional eaters using
personas,” pp. 42–47, 2016.
[7]
——, “Developing a personalised virtual coach ’denk
je z`elf!’ for emotional eaters through the design of
emotion-enriched personas,” International Journal On
Advances in Life Sciences, vol. 8, no. 3 & 4, 2016,
accepted.
[8]
B. Fogg, “A behavior model for persuasive design,”
Persuasive ’09, 40:1–40:7, 2009.
[9]
A. Dol, “Translating dialectic dialogues into persuasive
coaching strategies for personalized virtual coach: A
research protocol for emotional eaters case study,” forth-
coming.
[10]
M. Voelter, DSL engineering: Designing, implementing
and using domain-speciﬁc languages. CreateSpace In-
dependent Publishing Platform, 2013, 558 pp.
[11]
S. Shiffman, A. A. Stone, and M. R. Hufford, “Ecolog-
ical momentary assessment,” Annual Review of Clinical
Psychology, vol. 4, pp. 1–32, 2008.
[12]
I. Myin-Germeys, M. Oorschot, D. Collip, J. Lataster, P.
Delespaul, and J. v. Os, “Experience sampling research
in psychopathology: Opening the black box of daily
life,” Psychological Medicine, vol. 39, no. 9, pp. 1533–
47, 2009.
[13]
J. Shyr and D. Spisic, “Automated data analysis,” Wiley
Interdisciplinary Reviews: Computational Statistics, vol.
6, no. 5, pp. 359–366, 2014.
[14]
A. Gandomi and M. Haider, “Beyond the hype: Big data
concepts, methods, and analytics,” International Journal
of Information Management, vol. 35, no. 2, pp. 137–144,
2015.
[15]
A. Labrinidis and H. V. Jagadish, Proceedings of the
VLDB Endowment, vol. 5, no. 12, pp. 2032–2033, 2012.
[16]
J. Balj´e, A. Carter, and H. Velthuijsen, “Agile develop-
ment as a change management approach in healthcare
innovation projects,” 2015.
108
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-540-1
eTELEMED 2017 : The Ninth International Conference on eHealth, Telemedicine, and Social Medicine

