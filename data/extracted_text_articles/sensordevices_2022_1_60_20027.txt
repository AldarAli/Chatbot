Positioning Using Visible Light Communication Footprints 
 
Paula Louro, Manuela Vieira, Manuel Augusto Vieira  
DEETC/ISEL/IPL,  
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
CTS-UNINOVA  
Quinta da Torre, Monte da Caparica, 2829-516,  
Caparica, Portugal 
  
e-mail: plouro@deetc.isel.pt, mv@isel.ipl.pt, mv@isel.pt  
Pedro Vieira 
DEETC/ISEL/IPL,  
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
Instituto das Telecomunicações  
Instituto Superior Técnico, 1049-001,  
Lisboa, Portugal 
pvieira@isel.pt 
 
 
Abstract— Global Positioning System (GPS) cannot manage 
indoor positioning because the strong attenuation of the signal 
by walls and infrastructures results in a lack of signal or poor 
accuracy. Oher technologies based on RF, optical, magnetic or 
acoustic signals can be used for this purpose. Visible Light 
Communication (VLC) is a good alternative, providing good 
positioning accuracy. In this work, we propose a system using 
commercial tri-chromatic LEDs that illuminate and transmit 
modulated data that is used to infer the user’s position. The 
receiver is based on a dedicated pinpin heterostructure 
photodiode with selective response in the visible spectrum. The 
positioning system includes multiple, identical navigation cells. 
In each cell, the optical pattern created by the VLC 
transmitters defines specific spatial areas which are assigned to 
different optical excitations determining the cell footprints. 
The photocurrent signal measured by the photodetector is 
demodulated and decoded to provide identification of input 
optical excitations and enable position detection. The footprint 
model is evaluated under Line of Sight (LoS) conditions, 
assuming the Lambertian model for the LED light distribution. 
The channel gain is computed adjusting the model parameters 
related to gains and losses to experimental data to calibrate the 
system. Bit decoding algorithm provides data transmission 
recovery. Experimental data obtained in a prototype model 
scale confirms that the proposed VLC architecture is 
appropriate for indoor positioning application. 
 
Keywords- Visible Light Communication; positioning;white 
LEDs; navigation cell; footprint map. 
I. 
INTRODUCTION 
Indoor positioning can be addressed by several 
technologies based on the use of different techniques [1][2]. 
Visible Light Communication (VLC) is a good alternative 
since white lighting solutions based on LEDs have become 
commonplace in most buildings. 
VLC is a technology based on the use of visible light in 
the 400 to 800 THz for the visible light from 750 to 400 nm 
[3][4]. The main advantages of VLC are its wide bandwidth, 
free and unlicensed spectrum, lack of electromagnetic 
interference, communication security, human health safety, 
and compatibility with other technologies. VLC systems use 
modulated LEDs to transmit information and single 
photodiodes or camera devices in the receiver units. 
In this paper, we propose the use of a multilayered 
a:SiC:H [5] device to perform the photodetection of the 
optical signals generated by white trichromatic RGB LEDs 
[6], [7]. The system was designed for guidance [8][9], and 
the emitters of each white LED were specifically modulated 
at precise frequencies and coding bit sequences [10][11]. The 
proposed lighting and positioning/guidance system involves 
wireless communication, computer-based algorithms, smart 
sensor and optical sources network, which constitutes a 
transdisciplinary approach framed in cyber-physical systems. 
The paper is organized as follows. After the introduction 
(Section I), the VLC system architecture is presented in 
Section II. In Section III, models for the footprint 
characterization using both geometrical and propagation 
assumptions are analyzed. In Section IV, the communication 
protocol and the encoding/decoding techniques are analyzed 
and discussed. At last, conclusions are addressed in Section 
V. 
II. 
VLC SYSTEM SPECIFICATIONS 
The specifications od the VLC system described in this 
paper include the characterization of the transmitter and 
receiver units, respectively with the optical signal sources 
and the dedicated photodiode. Besides, the characterization 
of the channel will also be discussed using the Lambertian 
model do describe light propagation from the LEDs in Line-
of Sight conditions. 
A. VLC Transmitter and Receiver Units 
The transmitter uses commercial white LEDs with tri-
chromatic emitters (red, green, and blue). In the lamp, four 
white LEDs are arranged in a square geometry with a 
quadrangular topology (Figure 1). 
Only one emitter of each white LED is modulated. Other 
emitters operate only with DC current to provide white color 
illumination [ 12 ]. In this specific case, the modulated 
emitters are the red emitters of the LEDs on the left side of 
the lamp, and the blue emitters on the right side. 
21
Copyright (c) IARIA, 2022.     ISBN:  978-1-68558-006-3
SENSORDEVICES 2022 : The Thirteenth International Conference on Sensor Device Technologies and Applications

 
Figure 1. Configuration of the VLC emitter with 4 RGB white LEDs. 
The pinpin photodiode of the receiver unit transduces 
light into an electrical signal that can be demodulated and 
decoded. This device is a monolithic heterojunction 
composed of two pin structures based on a-Si:H and a-
SiC:H built on a glass substrate and sandwiched between 
two transparent electrical contacts. The front structure based 
on a-SiC:H absorbs mainly the short wavelengths (violet 
and blue), while the back structure based on a-Si:H absorbs 
the long waveleng8ths (red). Intermediate wavelengths as 
green light are absorbed by both pin structures, A reverse 
bias (-8 V) and short wavelength (400 nm) illumination are 
used to tune the device selectivity externally. 
B. Channel 
LEDs are modeled as Lambertian sources with uniform 
distribution of luminance in all directions, and luminous 
intensity dependent on the direction. The luminous intensity 
for a Lambertian source is given by the following equation 
[13]: 
 
where m is the order derived from a Lambertian pattern, IN 
is the maximum luminous intensity in the axial direction 
and  is the angle of irradiance. The Lambertian order m is 
given by: 
 
As the half intensity angle (1/2) is of 60º, the Lambertian 
order m is 1. The light signal is received by the 
photodetector, generates a binary sequence of the received 
signals and convert data into the original format. It is 
assumed Line of Sight (LoS) conditions, which considers 
that the signal propagation occurs in a direct path from the 
source to the receiver. 
 
Figure 2. Transmitter and receiver relative position. 
Figure 2 shows the relative position of the transmitter 
and receiver units with specification of the geometrical 
parameters needed to infer the signal coverage of the LED 
in the illuminated indoors space [14]. 
The channel gain (G) of this VLC link given by equation 
[15]:  
 
(3) 
 
where A is the area of the photodetector, d the distance 
between the emitter and the receiver, and FOV the field of 
view of the detector (angular extension for signal detection). 
Figure 3 illustrates the coverage map produced when 
only the red and blue emitters of each LED are used for data 
transmission. 
 
Figure 3. Coverage map of the fine-grain footprint inside the 
navigation cell, considering as VLC optical sources the top red and 
bottom blue emitters. 
The optical signal produced by each modulated LED 
confers a maximum of delivered power signal at the central 
region of the cell, that receives contribution from four 
modulated channels. The regions at the corners contain 
optical signals from three LEDs, exhibiting a decrease on 
the received power signal, while the side regions correspond 
to the lowest values of received power. Each of these 
regions constitute footprints of the delivered power. Each 
footprint region labelled as #1, #2, …, #9 is assigned to the 
correspondent optical excitation illustrated on the right side 
of Figure 3.  
III. POSITIONING ALGORITHM 
The positioning algorithm is based on the identification 
of the navigation cell and on the footprint where the mobile 
user is located. Thus, bit coding of the information 
transmitted by each modulated emitter and bit decoding at 
the receiver is mandatory to infer from the multiplexed 
signal at the receiver the input optical signals and the 
correspondent identification of the cell and footprint.  
A. Coding and modulation 
The data is converted into byte format and then converted 
into light signals emitted by the VLC transmitter. On–Off 
Keying (OOK) modulation is used to modulate the data bit 
stream. To ensure proper coding and decoding at the 
transmitter and receiver units, the data format used to 
transmit information, namely the length of each frame, the 
blocks that make up each word and its contents, is previously 
22
Copyright (c) IARIA, 2022.     ISBN:  978-1-68558-006-3
SENSORDEVICES 2022 : The Thirteenth International Conference on Sensor Device Technologies and Applications

defined. The communication codes use 64 word frames. The 
structure of the data frame used in each channel is displayed 
in Figure 4. Transmitted data can have a passive role 
(standard mode) with continuous transmission of lamp 
identification to ensure positioning, or an active role (request 
mode) transmitting additional information to guide the user. 
 
Figure 4. Data frame structure the coded word. 
The TYPE block (4 bits) is used to identify the type of 
transmitted message, either if it is to acknowledge the 
reception of any request or to transmit updated information. 
This block is transmitted equally by all active emitters of the 
transmitter (R, R’, B and B’). The GEO-LOCATION block 
of the I2V channel has 16 bits and can be divided into two 
sub-blocks. A block of 8 bits with the identification of the 
cell (CELL ID block) and a second block of 8 bits with the 
position inside the cell (POSITION block). The block 
labelled as CELL ID is a word of 8 bits. It provides the 
identification of the unit navigation cell. The format of the 
word code is XXX0YYY0, where XXX addresses the line 
and YYY the column of the cell. The block POSITION (8 
bits) is encoded with 4 bits set to 1 and 4 bits set to 0 in 
channels R and B, while, for the bottom emitters, R’ and B’, 
the frequency of this word is doubled, corresponding to the 
sequence of 2 bits set to 1, 2 bits set to 0, 2 bits set to 1 and 
2 bits set to 0. This block provides accurate position 
information inside the navigation cell. The MESSAGE 
block (36 bits) contains different blocks depending on the 
type of message being transmitted. In the request mode it 
contains info to guide the user inside the building and 
additional 
bits 
reserved 
for 
future 
transmission 
specifications. In acknowledge mode the block is initially 
set to null, containing also additional reserved bits.  
B. Bit decoding 
In the receiver unit, it is necessary to decode the 
photocurrent signal, which identifies the footprint inside the 
cell and, therefore, enables the determination of the position. 
To establish this assignment, a calibration curve is defined 
beforehand. In Figure 5, the calibration curve is plotted with 
16 different photocurrent thresholds resulting from the 
combination of the four modulated signals from the white 
VLC emitter.  
Different levels of photocurrent were generated by 
adjusting the driving current of the LED emitters. On the top 
it is displayed the waveform of the emitters modulation state 
used to produce the calibration curve. The right hand side of 
Figure 5 illustrates how each footprint corresponds to a 
photocurrent level. The correct use of this calibration curve 
demands a periodic retransmission of curve to ensure a 
accurate correspondence to the output signal and an accurate 
decoding of the transmitted information. 
0
1
2
3
4
5
0
1
2
3
4
5
#9
#8
#7
#6
#5
#4
#3
#1
#2
L 
E 
D 
s 
R'BB'
R
R'
B
B'
B'
B
BB'
R'
R'B'
R'B
R
RB'
RB
RBB'
RR'
RR'B'
RR'B
RR'BB'
 
 
Photocurrent (a. u.)
Time (ms)
 
Figure 5. Calibration front photocurrent signal using two red and two 
blue optical signals modulated with multiple frequencies. 
IV. RESULTS AND DISCUSSION 
In Figure 6, the photocurrent signal measured by the 
mobile receiver unit is depicted at two different locations 
within the cell covered by RR'BB' and R'BB' optical signals, 
which correspond, respectively, to footprints labelled #1 and 
#9.  
0
1
2
3
4
5
0
1
2
3
4
5
R' BB'
RR' BB'
EoT
SoT
L 
E 
D 
s 
R'BB'
R
R'
B
B'
B'
B
BB'
R'
R'B'
R'B
R
RB'
RB
RBB'
RR'
RR'B'
RR'B
RR'BB'
 
 
Photocurrent (a. u.)
Time (ms)
 
Figure 6. Photocurrent signal measured by the mobile receiver unit at 
footprints #1 and #9 inside the navigation cell (RR’BB’ and R’BB’). 
The calibration curve is displayed in the background. 
On the right side of the graph it is stated the optical state 
assigned to each step of the calibration curve. Frame 
synchronization is detected by the blocks SOT and EoT. Due 
to the simultaneous operation of all emitters in both 
measurements, either inside footprints #1 and #9 (RR'BB' 
and R'BB'), the presence of these blocks corresponds to 
maximum values of the photocurrent. To decode the 
photocurrent levels, the calibration curve is used to identify 
which emitters are active during the duration period of each 
bit. Input optical signals are decoded based on the observed 
correspondence between the different thresholds of the 
measured signal and the calibration steps. When threshold 
23
Copyright (c) IARIA, 2022.     ISBN:  978-1-68558-006-3
SENSORDEVICES 2022 : The Thirteenth International Conference on Sensor Device Technologies and Applications

levels are close, decoding errors are more likely, which 
requires error control techniques. 
V. CONCLUSIONS 
In this paper, a VLC system for indoor positioning and 
guidance was presented. A theoretical analysis of irradiation 
patterns is presented to establish the footprints of the cells 
and support the position accuracy of the proposed system. 
The Lambertian model was used to describe the light 
distribution. Each footprint of the cell was predicted using 
the channel gain model of the transmitter-receiver link. 
Predicted results of the MatLab simulations were 
supported by experimental data measured with a laboratory 
prototype. Future work will comprise a more detailed and 
complete description of the decoding methodology. 
ACKNOWLEDGMENT 
This work was sponsored by FCT – Fundação para a 
Ciência e a Tecnologia, within the Research Unit CTS – 
Center 
of 
Technology 
and 
systems, 
reference 
UIDB/00066/2020 and IPL/2022/POSEIDON_ISEL. 
REFERENCES 
 
[1] R. Mautz, “Overview of Current Indoor Positioning Systems”, 
Geodesy Cartogr., vol. 35, pp. 18–22, 2009.  
[2] Y. Gu, A. Lo, and I. Niemegeers, "A Survey of Indoor 
Positioning Systems for Wireless Personal Networks," IEEE 
Commun. Surv. Tutor., vol. 11, pp. 13–32, 2009. 
[3]  A. M. Căilean and M. Dimian, “Current Challenges for 
Visible 
Light 
Communications 
Usage 
in 
Vehicle 
Applications: A Survey”, IEEE Communications Surveys & 
Tutorials, vol. 19, no. 4, pp. 2681-2703, 2017. 
[4] M. Z. Chowdhury, M. T. Hossan, A. Islam, and Y. M Jang, 
“A Comparative Survey of Optical Wireless Technologies: 
Architectures and Applications”, IEEE Access, vol. 6, pp. 
9819-9840, 2018.  
[5] P. Louro, et al, “Optical demultiplexer based on an a-SiC:H 
voltage controlled device”, Phys. Status Solidi C, vol. 7, no. 
3–4, pp. 1188–1191, 2010. 
[6] M. Vieira, M. A. Vieira, P. Louro, V. Silva, and P. Vieira, 
“Optical signal processing for indoor positioning using a-
SiC:H technology”, Opt. Eng., vol 55, no. 10, pp. 107105-1-
107105-6, 2016. 
[7] M. A. Vieira, M. Vieira, P. Louro, and P. Vieira, 
"Cooperative vehicular communication systems based on 
visible light communication," Opt. Eng., vol. 57, no. 7, pp. 
076101-, 2018. 
[8] P. Louro, V. Silva, M. A. Vieira, and M. Vieira, “Viability of 
the use of an a-SiC:H multilayer device in a domestic VLC 
application”, Phys. Status Solidi C, vol, 11, no. 11–12, pp. 
1703–1706, 2014. 
[9] P. Louro, M. Vieira,1 and M. A. Vieira, "Geolocalization 
and navigation by visible light communication to address 
automated logistics control," Opt. Eng. 61(1), 016104 (2022), 
doi: 10.1117/1.OE.61.1.016104. 
[10] P. Louro, J. Costa, M. A. Vieira, and M. Vieira, “Optical 
Communication Applications based on white LEDs”, J. 
Luminescence, vol. 191, pp. 122-125, 2017. 
 
[11] M. Vieira, M. A. Vieira, I. Rodrigues, V. Silva, and P. Louro, 
“Photonic Amorphous Pi’n/pin SiC Optical Filter Under 
Controlled Near UV Irradiation”, Sensors & Transducers, 
vol. 184, no. 1, pp. 123-129, 2015. 
[12] P. Louro, M. Vieira, and M. A. Vieira, “Indoors Geolocation 
Based on Visible Light Communication”, Sensors & 
Transducers, vol. 245, no. 6, pp. 57-64, 2020. 
[13] Y. Zhu, W. Liang, J. Zhang, and Y. Zhang, “Space-
Collaborative Constellation Designs for MIMO Indoor 
Visible Light Communications,” IEEE Photonics Technology 
Letters, vol. 27, no. 15, pp. 1667–1670, 2015. 
[14] S. I. Raza, et al, ”Optical Wireless Channel Characterization 
For Indoor Visible Light Communications”, Indian Journal of 
Science and Technology, vol 8, no. 22, pp. 1 – 9, 2015. 
[15] Y. Qiu, H.-H. Chen, and W.-X. Meng, “Channel modeling 
for visible light communications - a survey”, Wirel. 
Commun. and Mob. Comput., vol. 16, pp. 2016–2034, 2016.  
24
Copyright (c) IARIA, 2022.     ISBN:  978-1-68558-006-3
SENSORDEVICES 2022 : The Thirteenth International Conference on Sensor Device Technologies and Applications

