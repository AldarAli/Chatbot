Automatic tracking and control for web recommendation  
New approaches for web recommendation  
Samuel Nowakowski , Anne Boyer, Cédric Bernier 
LORIA-KIWI 
Campus scientifique – BP239 - F-54506 Vandœuvre-lès-Nancy Cedex  
Samuel.nowakowski@loria.fr 
Anne.boyer@loria.fr  
Cedric.bernier@loria.fr
 
 
 
Abstract— In this paper, we assume that users and their 
consumptions of television programs are vectors in the 
multidimensional space of the categories of the resources. 
Knowing this space, we propose an algorithm based on a 
Kalman filter to track the user's profile and to foresee the best 
prediction of their future position in the recommendation 
space. The approach is tested on data coming from TV 
consumptions. Using these results, we derive a new strategy for 
web recommendation based on a control loop. To conclude, we 
propose a new users’ monitoring approach. 
Keywords-recommender system; user profile; target tracking; 
Kalman filter; control loop 
I. 
 INTRODUCTION 
 
In Web-based services of dynamic content, recommender 
systems face the difficulty of identifying new pertinent items 
and providing pertinent and personalized recommendations 
for users. 
Personalized recommendation has become a mandatory 
feature of Web sites to improve customer satisfaction and 
customer retention. Recommendation involves a process of 
gathering information about site visitors, managing the 
content assets, analyzing current and past user interactive 
behavior, and, based on the analysis, delivering the right 
content to each visitor. 
Recommendation methods can be distinguished into two 
main 
approaches: 
content 
based 
filtering 
[9] 
and 
collaborative filtering [10]. Collaborative filtering (CF) is 
one of the most successful and widely used technology to 
design recommender systems. CF analyzes users’ ratings to 
recognize similarities between users on the basis of their past 
ratings, and then generates new recommendations based on 
like-minded users’ preferences. This approach suffers from 
several drawbacks, such as cold start, latency, sparsity [11], 
even if it gives interesting results. Furthermore, this approach 
does not consider the dynamical aspect of web browsing, i.e., 
going from page to page (or web resources) as we can move 
from place to place. 
This is the reason why the main idea of this paper is to 
propose an alternative way for recommender systems based 
on the following assumption: we consider Users as target 
moving along a trajectory in the recommender space. This 
dynamic system can be modeled by techniques coming from 
control system methods and we use Kalman filtering to 
predict future positions of the users in the recommender 
space, i.e., the expectable movies categories to be seen. We 
will detail the backgrounds of this approach. Then, we 
expose the recommendation strategies. In our conclusion, we 
will give some guidelines for future works.  
II. 
PRINCIPLES 
Kalman filter is an optimal state estimator of a linear 
system. It can estimate the state of the system using a priori 
knowledge of the evolution of the state and the 
measurements. Kalman filter has main applications in 
control systems and in target tracking.  
A. Target tracking in the cyberspace 
Our hypothesis: the user is a target which is moving 
along an a priori unknown trajectory in the multidimensional 
space of the categories. Figure 1 shows the principle of our 
approach. 
 
 
Figure 1.  Trajectory in the recommender space 
By measuring the successive positions of the users in the 
space (the seen movements), we can model a trajectory and 
by using a state space cinematic model, we can predict future 
positions in the space. 
B. Kalman filter: equations 
How can we know about a target moving in the 
recommender space?  
80
SOTICS 2011 : The First International Conference on Social Eco-Informatics
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-163-2

We choose to represent a state vector containing three 
components: one for the position, one for the speed and one 
for the acceleration. The state vector has the following form:  
€ 
Xk =
x
˙ x 
˙ ˙ x 
⎡ 
⎣ 
⎢ 
⎢ 
⎢ 
⎤ 
⎦ 
⎥ 
⎥ 
⎥ k
 
(1) 
 
where: 
  
 is the vector containing the position vector (the 
position is given by the Quantity of Interest given related to 
the different categories see Part IV) 
 
 is the vector containing the speed vector 
 
 is the vector containing the acceleration vector. 
 
 and 
 are introduced in the state vector to take into 
account the dynamic variations in the positions of the target. 
The dynamic of this state vector will be modeled by a 
state space model which has the following form:   
€ 
Xk+1 = AXk + wk
Zk = HXk + vk
⎧ 
⎨ 
⎩ 
 
(2.a) 
(2.b) 
 
where matrix A includes the relationship between the 
position, speed and acceleration where T represents the time 
period. In our case, we consider T = 1.  
€ 
wk   and  
€ 
vk  are 
random noises which take into account unexpected variations 
in the trajectories. 
€ 
A =
α
T
1
2 T 2
0
α
T
0
0
α
⎡ 
⎣ 
⎢ 
⎢ 
⎢ 
⎢ 
⎤ 
⎦ 
⎥ 
⎥ 
⎥ 
⎥ 
 
(3) 
 
Matrix H, called the measurement matrix, is structured to 
obtain in equation (2.b) the values of the positions in the 
recommender space. Thus, H will have the following 
structure as shown in the figure 2. 
 
 
 
 
 
 
 
 
Figure 2.  Structure of Matrix H 
The Kalman filter equations are then given by the following 
equations [6]: 
Prediction: it is the predicted state knowing past values  
€ 
ˆ 
X k+1/ k = ˆ 
X k / k−1 + Kk Zk − H ˆ 
X k / k−1
(
)
= A − KkC
(
) ˆ 
X k / k−1 + KkZk
⎧ 
⎨ ⎪ 
⎩ ⎪ 
 
(4) 
 
Kalman gain: it described the dynamic of the filter. The 
dynamic takes into account the variations of the moving 
target. 
€ 
Kk = APk / k−1H T HPk / k−1H T + R
(
)
−1
 
(5) 
 
The evolution of the uncertainty on the estimation is then 
given by:  
€ 
Pk+1/k = APk /k−&AT − APk /k−1H T HPk /k−1H T + R
(
)
−1
HPk /k−1AT  
(6) 
 
where the initial conditions (which initialize the filter) are 
given by: 
€ 
ˆ 
X 0/−1 = X0 ,
€ 
P0/−1 = P0 
and the state prediction by: 
€ 
ˆ 
X k+1/ k 
The principle of the filter is described by the following 
figure: 
 
Figure 3.  Principle of the position prediction 
We apply these equations on an experiment based on TV 
consumptions.  
III. 
FIRST EXPERIMENT 
A. Description of the experiment 
The dataset is the TV consumption of 6423 English 
households over a period of 6 months (from 1st September 
2008 to 1st March 2009) (Broadcaster Audience Research 
Board, [7]), [8]. This dataset contains information about the 
user, the household and about television program. Each TV 
program is labeled by one or several genres. In the 
experiment, a user profile build for each person. The user 
profile is the set of genres associated to the value of interest 
of the user for each genre. This user profile is elaborated in 
81
SOTICS 2011 : The First International Conference on Social Eco-Informatics
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-163-2

function of the quality of a user’s TV consumption: if a TV 
program is watched entirely, the genre associated to this TV 
program increases in the user profile. Several logical rules 
are applied to estimate the interest of a user for a TV 
program. 
The methodology of the experimentation is the 
following: 
• 
The Kalman filter is applied iteratively to estimate 
the future positions of the user in the space. 
The entire consumption is described by 44 categories, 
which will define the 44 dimensions of the recommender 
space where users are “moving”. 
B. Numerical results 
 
The obtained results can be exposed as follows: 
 
Kalman filter predicts the interest of a specific user for a 
subset of genders knowing his past. Using this prediction, we 
can propose a new recommendation strategy: 
• 
If the Quantity of Interest (QoI) of the user is 
predicted to be in one specific region of the space, 
we can recommend something inside this specific 
region: 
o 
For example, if the specific region is 
defined by dimensions Documentary and 
Drama, we can recommend contents 
related to these two dimensions 
• 
If the predicted quantity of interest (QoI) changes to 
another 
dimension 
of 
the 
space, 
we 
can 
automatically recommend content from this new 
region of the space. 
 
C. Results 
The results can be analyzed as follows: Kalman filter 
predicts the specific interest for a category of contents of one 
user. 
Figures 4 and 5 show Estimation / Prediction computed 
by Kalman filtering. Doted-lines show the evolution of the 
real values. Continuous lines show the obtained predictions. 
In Figures 4 and 5, we can see the estimation/prediction 
given by the Kalman filter: green lines show the prediction 
obtained at each time using the knowledge we have of the 
degree of interest of each user. We can see that the prediction 
fits the real values even if they present abrupt variations. 
 
 
Figure 4.  Prediction for Drama 
 
 
Figure 5.  Prediction for Documentary 
IV. 
RECOMMENDATION STRATEGY 
In this approach, we can build a recommendation by 
analyzing the estimation provided by Kalman filter. 
The profile is built from the consumption of TV 
programs. Each TV program is defined by concepts such as 
entertainment, science fiction, talk show, etc. The analysis of 
the way different TV programs are watched allows deducing 
the interest of a user for each concept. 
Our new recommending strategy is based on control loop 
which can be described by Figure 6. 
82
SOTICS 2011 : The First International Conference on Social Eco-Informatics
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-163-2

 
Figure 6.  Control loop for recommendation 
 This control loop will observe the difference between the 
estimated concept and the calculated concept and it will 
integrate the controller/recommender the following strategy: 
 
• 
If the computed concept is superior to the estimated 
concept (noted negative difference), then the user's 
interest for this concept is decreasing.  
• 
If the estimated concept is superior to the computed 
concept (noted positive difference), then the user's 
interest for this concept is increasing.  
 
The process will focus on the concepts showing up a big 
difference: the concepts with an important positive 
difference influence the recommendation towards these 
concepts, whereas the concepts with an important negative 
difference discourage the recommendation towards these 
concepts. 
 
 
Figure 7.  Analysis of the evolution of the prediction for recommendation 
Conversely to existing methods which recommend 
precise contents for a given user, this method will performs 
on the macroscopic level, i.e., subspaces of specific 
categories. The strategy will isolate the appropriate subspace 
and the recommendation will be done in the related 
categories. Then, we can imagine to have a more precise 
recommendation by computing a second iteration (target 
tracking in the trajectory in the subspace and positions 
prediction) on the subspace (zoom effect). 
 
To summarize, the recommendation is based on the two 
preceding arguments. 
• 
the user's actual state of mind  
• 
the subset  of retained dimensions. 
 
From these “positive” or “negative” dimensions and from 
the TV program, we have to define the recommendation for a 
set of TV programs for that day. Furthermore, according to 
what the user watched during the day, we can refine our 
recommendation. Indeed, in our example, if the user is 
interested in contents of types x, y and z and if he has already 
watched content of type x and y that day, the 
recommendation would essentially concentrate on content of 
type z. 
Hence, we will need to make a last step which will be 
devoted to the identification of the appropriate content which 
corresponds to the estimation of the dimensions' evolution. 
V. 
CONCLUSION 
Our original approach considering users as target moving 
along trajectories in subspaces of the recommendation space 
will solve web recommendation as a control system problem. 
Web recommendation becomes a system described by a state 
space model to be controlled or tracked. By comparing 
inputs to predicted and/estimated values, we obtain a new 
kind of recommender systems which will consider as moving 
targets to be identified or dynamic systems to be controlled. 
Then, in our case, knowing the past positions of the user 
in this space along the different axis of the 44 dimensions 
space, our Kalman filter based recommender system will 
suggest: 
 
• 
if the user is interested in contents of types x, y and z 
and if he has already watched content of type x and 
y, the recommendation would essentially concentrate 
on content of type z. 
 
At last, the strength of our approach is in its capability to 
make recommendations at a “higher level”, which fit users 
habits, i.e., given main directions to follow knowing the 
trajectory in the space and not to suggest specific resources. 
Furthermore, the trajectories in the recommender space give 
the opportunity to compute a monitoring system where we 
can visualize in real time the users’ trajectories (see Figure 
8). 
83
SOTICS 2011 : The First International Conference on Social Eco-Informatics
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-163-2

 
Figure 8.  Users monitoring 
Future works will be focused on tracking groups of users 
and on the definition of the topology of the recommendation 
space as a space including specific mathematical operators. 
REFERENCES 
 
[1] Anderson, B. and Moore, J. B., 1977. Optimal filtering. 
Prentice Hall – Information and System Sciences Series 
[2] Gibson, W, 1988. Neuromancien. Collection J’ai Lu, La 
découverte, ISBN 2-7071-1562-2 
[3] Söderström, T., 1994. Discrete-time stochastic systems: 
estimation and control. Prentice Hall International. 
[4] Box, G.E.P. and Jenkins, G.M., 1970. Time series analysis: 
forecasting and control. Holden Day. 
[5] Bernier C., Brun A., Aghasaryan A., Bouzid M., Picault J., 
Senot C., and Boyer A., 2010. Topology of communities for 
the collaborative recommendations to groups, SIIE 2010 
conference, (Sousse, Tunisia, February 17 – 19, 2010). 
[6] Gevers, M. and Vandendorpe, L. Processus stochastiques, 
estimation 
et 
prediction.  
DOI=http://www.tele.ucl.ac.be/EDU/INMA2731/]. 
[7] BARB: 
Broadcaster 
Audience 
Research 
Board, 
DOI=http://www.barb.co.uk/. 
[8] Senot, C., Kostadinov D., Bouzid M., Picault J., Aghasaryan 
A., and Bernier C., Analysis of strategies for building group 
profiles. User Modeling, Adaptation and Personalization. 
Lecture Notes in Computer Science, 2010, Volume 
6075/2010, pp. 40-51 
[9] Pazzani 
M. 
and 
Billsus 
D., 
2007. 
Content-Based 
Recommendation Systems. In Brusilovsky, P. Kobsa, A. 
Nejdl, W. (réds) The Adaptive Web: Methods and Strategies 
of Web Personalization, pp. 325–341.  
[10] Goldberg D., D. Nichols, B. Oki, and D. Terry, 1992. Using 
Collaborative Filtering to Weave an Information Tapestry. 
Communications of the ACM, 35(12), pp. 61–70 
[11] Grcar M., Mladenic D., Fortuna B., and Groblenik M., 2006. Data 
Sparsity Issues in the Collaborative Filtering Framework. Advances 
in Web Mining and Web Usage Analysis, pages 58–76 
[12] Smith, J., 1998. The book, The publishing company. London, 2nd 
edition
 
 
 
 
84
SOTICS 2011 : The First International Conference on Social Eco-Informatics
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-163-2

