Taking into Account Children Accurate Weights
during Parent Selection Process in RPL to Extend
WSN Lifetime
Doda Afoussatou Rollande Sanou
Lab. of Algebra, Discrete Math. and Computer Science
University Nazi BONI
Bobo-Dioulasso, Burkina Faso
E-mail: sanourollande@gmail.com
Tiguiane Y´el´emou
Lab. of Algebra, Discrete Math. and Computer Science
University Nazi BONI
Bobo-Dioulasso, Burkina Faso
E-mail: tyelemou@gmail.com
Hamadoun Tall
Lab. of Algebra, Discrete Math. and Computer Science
University Nazi BONI
Bobo-Dioulasso, Burkina Faso
E-mail: hamadoun.tall@gmail.com
Mahamadi Boulou
Lab. of Algebra, Discrete Math. and Computer Science
University Nazi BONI
Bobo-Dioulasso, Burkina Faso
E-mail: mamadiboulou@gmail.com
Abstract—Wireless sensor networks (WSNs) are composed of
several sensors nodes with limited resources. Nodes can collect
data in their deployed area and forward them to the sink using
multi-hop communication. WSNs have limited energy and are
generally deployed in harsh areas. So, it is not easy for humans
to access and replace batteries. Thus, the lifetime of the network
must be extended to allow data collection for a long time. To
optimize energy consumption in low-power and lossy networks,
the Routing Protocol for Low-Power and Lossy Networks (RPL)
has been proposed. However, the energy consumption in RPL
protocol is not fairly distributed. Some nodes are more solicited to
forward data toward the sink node. As a result, the most solicited
nodes deplete more quickly their energy, that lead to the network
partitioning, data packets lost and more re-transmissions.
In the literature, most of the proposed optimization techniques
are not able to balance both routing load and power consumption.
To address this challenge, in this paper, we present a routing
technique based on children weights to fairly distribute children
nodes among candidate parent nodes. Doing so helps all forward-
ing nodes in the network to have nearly the same trafﬁc load.
That permits to balance routing load and power consumption in
the network. Analytical results show that our proposal is better
compared to other improved RPL protocols using the Expected
Transmission Count (ETX) and number of children metrics.
Keywords—Wireless Sensor Network; RPL; load balancing;
energy consumption
I. INTRODUCTION
Wireless Sensor Networks (WSNs) are collections of sensor
nodes able to collect data from their deployment environment
and transmit them through a multi-hops routing toward the
sink.
The miniaturization and low costs of sensor devices have
led to the vulgarization of their usage. They have various
ﬁelds of application, such as monitoring of harmful chemicals,
precision agriculture and monitoring of hostile environments.
In most cases, sensor nodes operate with batteries that are
generally difﬁcult to recharge or replace. These batteries com-
monly have a limited lifetime. In addition, human intervention
ends after the deployment of the sensor network. Most of the
time, we would like to be able to collect data over a long
period of time. Source nodes need to collect data from their
environments, treat and transmit them to the sink. But, due to
the short communication range, many of them are out of the
communication range of the sink and multi-hop transmissions
must be used to forward the collected data. In turn, that may
result to a concentration of trafﬁc on nodes closer to the sink
and may induce an imbalance load and power consumption.
As direct consequence, this may induce a negative impact on
the end-to-end delay and increase the packet loss rate due to
congestion, affecting the network lifetime.
To optimize the use of these sensors limited resources,
Routing Over Low power and Lossy networks (ROLL), an
Internet Engineering Task Force (IETF) working group, has
developed a Routing Protocol for low-power and Lossy net-
works (RPL) [1]. The real problem with RPL is the lack
of a mechanism to ensure fair balance of trafﬁc among the
nodes in the network. Consequently, as the size of the network
increases, techniques for optimizing parent selection do not
perform well [2].
In a large size network, energy wastage, non-optimal parent
selection, slow recovery time after the death of a preferred
parent node and imbalanced load are the main factors leading
to low performance in WSNs [2]. In this paper, we focus on the
problem of trafﬁc load balancing in WSNs. Our contributions
are:
1) a critical analysis of existing methods and techniques
for trafﬁc load balancing and lifetime optimization of
WSNs;
2) a method for balancing trafﬁc load and energy con-
60
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-878-5
ICWMC 2021 : The Seventeenth International Conference on Wireless and Mobile Communications

sumption taking into account the number of intermediate
nodes during the parent selection phase;
3) an evaluation of this new approach by comparing its
performances with those in the literature.
The remainder of the paper is organized as follows. Section
II the brieﬂy presents RPL protocol. Section III is dedicated
to related work. In Section IV, we present our new parent
selection approach and Section V shows an analytical study
of the performance of the contribution. Section VI concludes
the paper.
II. BRIEF OVERVIEW OF RPL
RPL is a reactive distance vector routing protocol developed
by the Internet Engineering Task Force (IETF) to overcome
the problems of Low-power and Lossy Networks (LLNs). It
is primarily designed for static lossy networks. It operates on
the principle of Destination Oriented Cyclic Graph (DODAG).
To form the network topology, a DODAG root broadcasts a
ﬁrst DODAG Information Object (DIO) message to non-root
nodes. Thus, when a non-root node wants to join a DODAG,
it sends a ﬁrst DIO message including its rank, identiﬁer and
version number of the requested DODAG. On the way to the
requested DODAG, each traversed intermediate node updates
its view of the topology. This DODAG version number allows
the DODAG roots to reset the routing information and starts
the DODAG creation process from scratch. Also, each time a
non-root node receives a DIO message with a different version
number than the previous one, it resets all information and
restarts the process of selecting the preferred parent [2].
The process of sending DIO messages is periodic and
regulated by the trickle timer algorithm [3]. This algorithm
is integrated in RPL to control the DIO messages sending
rate in order to minimize the network routing load and thus
save energy. However, it has been found that variations in
link quality can lead to a long convergence period or sub-
optimal routes. Indeed, if after a certain time, the node has
received enough coherent DIO messages from its neighbors,
it can increase exponentially the DIO message sending period
until it reaches a maximum value called Imax. Otherwise, it
reduces to a minimum value called Imin in order to encourage
the dissemination of new information.
It is important to notice that DIO messages are not the
only control messages. There is also DODAG Information
Solicitation (DIS), which is used by nodes that wishe to
have information on available routes. We also have DODAG
Advertisement Object (DAO) that child nodes send to a parent
node as a membership request and when the parent accepts
the request, it sends the DAO-Acknowledgement (DAO-ACK)
to the child. However, these messages alone do not allow
the election of the preferred parent. Thus, the designers of
the RPL protocol have implemented two objective functions.
They deﬁne the routing metrics and the way they is applied to
compute the rank and the selection of the preferred parents.
The ﬁrst one is the objective function 0 (OF0) [4], which
allows the selection of the path with the lowest rank toward the
route. The second is the Minimum Rank Hysteresis Objective
Function (MRHOF) [5] the used to select best path according
to the number of re-transmissions or the number of hops and
energy.
III. RELATED WORK
In this section, we present and discuss existing techniques
for trafﬁc load balancing and energy consumption optimization
in WSNs.
In [6], Farshid H et al. present an algorithm to identify
the quality of all the shortest paths toward the sink using
spatio-temporal correlations and constraints-based program-
ming techniques. These allowed to fairly distribute the energy
consumption for all nodes in the same rank. However, given
the complexity of the exploited spatio-temporal correlation, it
could lead to an additional energy consumption.
Ghaleb et al. [7] have designed an objective function to
optimize routing load by taking into account the number of
children of potential parent nodes. They extended the DIO
message with a ﬁeld, namely, the number of children nodes.
Thus, when receiving DIOs, a child compares the number of
children of each parent and chooses as parent the one with
the lowest number of children. Their proposed approach is
not always efﬁcient. The number of one-hop children does
not always reﬂect the data load to be passed to the parent. It
is better to take into account the trafﬁc load to the leaf nodes.
In order to increase the stability of the network and extend
its lifetime, Iova et al. in [8] have improved the standard
Expected Lifetime (ELT) [9] metric to detect bottleneck nodes.
The authors estimate the amount of trafﬁc that each node
could carry for an fair distribution of the trafﬁc load. However,
the proposal is only compared to single and multiple path
ETX metric and ELT standards. To further optimize energy
consumption, the authors should determine the possible paths
towards the sink as a function of the node’s trafﬁc load.
Lamaazi et al. [10] have addressed shortcomings associated
with the exploitation of singular metrics and proposed a
new objective function exploiting a composite metric (ETX,
energy consumption and transmission delay). The evaluation
and determination of each parameter is quite delicate and may
lead to an additional energy consumption cost.
Nassiri et al. [11] proposed a composite metric to efﬁciently
select preferred parents. This proposal consists in forming
DoDAGs using the Received Signal Strength Indicator (RSSI)
and the metric in DIO messages. To select links with lowest
trafﬁc load and lowest latency, they exploit the upstream load
estimate and superframe distance. However, the exploitation
of DIO and beacon-enabled message at the same time could
induce a signiﬁcant additional routing overhead.
Pereira et al. [12] ﬁrst proposed a new objective function
that helps to discover all potential paths and then selects
the preferred parent based on energy. The proposed approach
consists in estimating the energy consumed by a node during
the transmission and packet re-transmission phase. Then, on
the Network Interface Average Power (NIAP), they determined
the rank of the potential parent. To optimize the energy
consumption, the authors opted to update that metric before
61
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-878-5
ICWMC 2021 : The Seventeenth International Conference on Wireless and Mobile Communications

updating the tickle timer. However, the estimation made by
NIAP is not adaptive because, in some cases, it can not support
all the load.
Authors in [13] present a new way to elect cluster heads.
Their technique allows to select among several candidate
nodes, the one with the smallest distance from the sink and
in case of same distances, the one with the highest residual
energy. Then by exploiting the Voronoi diagram [14] and the
probabilistic perception model, nodes are distributed among
clusters. Finally, these nodes will coordinate data sending
according to the members of each cluster via Time Division
Multiple Access (TDMA). However, nothing has been said
about time slot allocation according to the amount of data per
cluster and its effect on the network performance.
Sampayo et al. [15] have proposed a technique of duty
cycling to optimize energy consumption in the network. When
an application wants to send packets, it broadcasts control
messages with an unique identiﬁer. Then, upon receipt the
message, it compares its rank with the previous one. a node
wakes up if the rank of the received message is higher than
the previous one. A few moments after sending the control
message, the source node broadcasts its data packets. Then,
it goes into standby mode and starts a timer to wake up and
receive the acknowledgment message. The drawback here is
that un-synchronized sleep and wake-up of nodes can cause
packet loss leading to re-transmissions.
In [16], Shah et al. proposed a scheduling algorithm for
connectivity and node coverage. Then, they balanced the
power consumption of the WSNs nodes using the duty cycle
technique. To ensure continuous operating of the network, the
authors divided the network life into cycles. At the end of each
cycle, nodes are allowed to send data with statistics on the
different operations to the receiving node. The performance
evaluation with ns-2.34 simulator show that the approach
outperforms some existing works in terms of energy efﬁciency.
However, their metrics are unrealistic. Since, allowing each
node to consume the same amount of energy or imposing
an energy threshold is almost impossible. Because, there are
nodes that are only within the coverage range of a speciﬁc
node.
To fairly distribute trafﬁc load and reduce frequency of
parents switching, Wang et al. [17] proposed a QoS based
method. As QoS metric, they combined the ETX and Packet
Transmission Rate (PTR) parameters. Thus, for a node to
change its parent, the difference in metrics between it and
its current parents must be greater than a deﬁned hysteresis
threshold. However, the need to calculate and compare metrics
each time a node wishes to change parent shows that the
solution will incur an additional energy cost.
The authors in [18] designed a new load balancing routing
based on objective function that works as follows. First, this
function, exploit the ETX metrics to select best parent node.
Then, they used the Packet Re-transmission Rate (PTR) metric
to select among these parent nodes the one with the lowest
PTR value. However, the PTR creates ﬂuctuations. Also, ﬂow
metric is more complex and does not reﬂect the total number
of ﬂows in a node. It does not take into account the numbers
of sub-children of a child node in the choice of the parent.
The related work shows that several approaches are pro-
posed in the literature to optimize energy consumption in
LLNs networks. The main drawback of these proposed ap-
proaches are that, they does not take into account all upstream
children when selecting the preferred parent. Also, these
proposed approaches lack of method to fairly distribution the
trafﬁc load amount parent nodes.
Load balancing techniques based on selecting the preferred
parent with the fewest children does not take into account all
upstream children when selecting the preferred parent. Indeed,
when selecting parent, it is better to choose a parent that has
less children and its children also have less children.
IV. OUR PROPOSAL
A. Number of children based algorithm
The proposed load balancing routing protocol is based on
a composite metrics that combines the ETX metric and the
number of children. The protocol has two phases: (i) the
network construction and the metric designs phase and (ii)
the network optimization phase. In this section, we describe
in details these two phases.
1) The network construction and the metric design phase:
This phase allows the RPL DODAGs construction and the
initialization of the routing metric values. The different steps
are presented as follows:
1) At the starting of the network, nodes exploit the ETX
metric to form DODAGs;
2) Each node periodically broadcasts DIO messages.
3) Nodes receiving the DIO messages may select the trans-
mitting one as its parent toward the sink;
4) Each node evaluates the value of its metric by summing
the child metric (the metric, which counts the weight
of all upstream nodes from it) communicated by its
children. This information is carried by the DIO message
and helps parent nodes to have an updated state of its
children including the number of children of each child.
Unlike most RPL improvements that take into account the
number of children, our approach allows to consider the actual
weight of a each child. Indeed, instead of counting a child as
weight 1, we take into account its children and grandchildren
(more than one hop children of the parent). Therefore, for a
given parent node, the children will not have the same weight.
2) The network optimization phase: This phase will permit
to fairly distribute the trafﬁc load of each intermediate node
toward the sink and works as follows:
1) if a child node receives DIOs messages from multiple
parents, it compares the received values of the metric
(that has deﬁned early) and selects the parent with the
lowest metric value;
2) then, for each node, a DAO message including its weight
(its number of children) is transmitted for the selected
parent;
62
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-878-5
ICWMC 2021 : The Seventeenth International Conference on Wireless and Mobile Communications

3) to avoid ﬂuctuations, a child node can only move to a
new parent if the metric value of this parent have two
(02) units greater than the old parent;
4) upon receipt of DAO message, the parent node sends a
DAO-Ack message to the child node if its membership
request is accepted.Then, the parent node increments the
number of its children by the weight of this accepted
child. The weight of a node is the number of children
using it as an intermediary to reach the sink;
5) To have an updated number of children of each parent,
a timer is deﬁned. All children that have not transmitted
data to the parent node will be removed after the
expiration of the timer. So the parent node decrement
its weight by the weight of disconnected node;
6) Each time a node receives a DIO message then restart
the process from step 1.
B. Analytical study of the performance of our proposal com-
pared to the ETX metric and to the number of children metric
In our evaluated scenarios, nodes have the same packet
generation rate of 5 packets each 10 minutes per nodes. Figure
1 represents a network scenario where 6 children nodes (4, 5,
6, 7, 8 and 9) have possibility to choose a parent node among
the three nodes that are (1, 2, 3) as the next hop toward the
sink. In this scenario, the selection of parent node is based
on the link quality metric. Thus, upon receipt of the DIOs,
nodes (6, 7, 8 and 9) select node 2 as the preferred parent
because it is the best according to the ETX metric. This will
create unbalance load because the number of children of node
2 is 7 when nodes 1 and 3 have 3 and 2 respectively. As a
consequence, node 2 will run out of energy more quickly than
the others.
we supposed that the only obstacle for the communication
is the distance. Node 2 is the nearest parent. In the second
scenario, Figure 2, parent node selection is based on the
number of children. Here, upon receiving the DIOs including
the number of children and after comparing its DIOs, nodes 4
and 5 select node 1 as their parent, node 6 and 7 select node 2
as their parent, and nodes 8 and 9 select node 3 as their parent
toward the sink. If we evaluate the load on the basis of the
number of children metrics only, we notice a fair distribution
of the routing load. Because each of parent nodes 1, 2 and 3
have 2 children. Respectively node 4 and 5 for parent 1, nodes
6 and 7 for parent 2 and nodes 8 and 9 for parent 3.
However, the application of this metric results in load
unbalance because, in the Figure 2, node 2 support 5 children
when nodes 1 and 3 have 4 and 3 children respectively. Doing
so, the parent node with the lowest number of children will be
more selected by children that increased its number of children
(including grandchildren). As its number of children increased
it may be overloaded and can quickly run out of energy.
In the third scenario, Figure 3, we have exploited the number
of children of the child metric during the preferred parent
selection phase. The results show that the data trafﬁc is fairly
distributed between the three intermediate nodes 1, 2 and 3.
This result is due to the fact that parent nodes ( 1, 2 and 3) have
exactly the same number of one hop children (02) parent nodes
that are one hop away from the sink and the same number of
two hop children (04) nodes that are upstream of the parent
node. In this scenario, all nodes will have to transmit the same
number of packets. As a result, all parent nodes will consume
the same amount of energy and the network lifetime will be
extended.
The results of the analytical evaluations show that the data
trafﬁc of scenario 3 is fairly distributed among the three parent
nodes. As the parent nodes have the same trafﬁc load, their
energy depletion will be similar and the network lifetime
can be extended. So the proposed approach optimize the
energy consumption compared to the approach based on ETX
metric [19] and the number of children metric [20].
Fig. 1: Network exploiting the ETX metric.
Fig. 2: Network exploiting the number of children metric
TABLE I: LOAD OF DIFFERENT NODES ACCORDING
TO ROUTING APPROCH
Nodes/Protocols
ETX
Number of children
Node Weight
1
4 α
6 α
6 α
2
11 α
7 α
6 α
3
3 α
5 α
6 α
63
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-878-5
ICWMC 2021 : The Seventeenth International Conference on Wireless and Mobile Communications

Fig. 3: Network exploiting the number of children of child
metric
For simplicity and ease of understanding, we assume in
our scenario that each node periodically sends 5 packets each
10 minutes during 30 days. Also, in the current scenario,
packets are not treated by intermediate nodes, they are directly
forwarded to the sink node. During the evaluation period, each
node generates 21600 packets ((5 packets∗ 30 days∗ 24 hours∗
60 minutes)/ 10 minutes = 21600 packets) that we call α.
The Table 1 presents analytical result according to the pre-
sented packet generation rate. According to the results pre-
sented in Table 1, we notice that with ETX metric node 1 has
receive 4α packets while node 3 has 3α and node 2 has 11α.
So, node 2 need to transmit three times more than node 1 and
3, thus it will run out of energy more quickly than the two
other. This will create the network partitioning. If we consider
the number of children protocol we ﬁnd a slight improvement
compared to the ETX metric. Node 1 has to transmit 6α data
packet, node 2 has 7α data packet to transmit and node 3
has 5α data packet. However, with our approach, nodes 1,
2, 3 transmit approximately the same amount of data packet,
which is 6α. As the energy consumption is proportional to the
number of data transmitted. Our proposal is better because in
the same time period the nodes consumed the same amount
of energy.of the network.
V. CONCLUSION
WSNs are increasingly being used in everyday life and
are proving to be an effective solution for data collection.
But, the fact that sensors nodes are powered by low capacity
batteries limits network lifetime. Also, for the reason that these
nodes communicate with the sink on multiple hops, lead to an
inequitable energy consumption. Nodes near the sink wastage
their energy faster.
Effective energy consumption optimization solution consti-
tute a real challenge for the efﬁciency of these networks.
In this paper, we ﬁrst highlighted the shortcomings of
works on trafﬁc load optimization in WSNs. Then, we pro-
posed a new approach for parent selection mechanism. In
our approach, a node takes into account all other nodes
soliciting intermediate services from the target parent in its
next-hop selection process. Finally, we performed an analytical
evaluation on a given scenario. The results show that our
approach improves load balancing in these networks.
In future work, we will carry out an exhaustive evaluation
with several parameters and embedded tests in various sce-
narios to conﬁrm these trends and the impact on performance
parameters such as PDR, end-to-end delay.
REFERENCES
[1] T. Winter et al., “RPL:IPv6 Routing Protocol for Low-Power and Lossy
Networks,” rfc 6550, 2012, pp.1-157.
[2] N. Guan et al., “Delay compensated asynchronous adam algorithm for
deep neural networks,” 2017 IEEE International Symposium on Parallel
and Distributed Processing with Applications and 2017 IEEE Inter-
national Conference on Ubiquitous Computing and Communications
(ISPA/IUCC), IEEE, 2017, pp. 852-859,.
[3] P. Levis et al., “The trickle algorithm,” Internet Engineering Task Force,
RFC6206, 2011.
[4] Thubert and Pascal, “Objective function zero for the routing protocol
for low-power and lossy networks (RPL),” pp. 1-14, 2012.
[5] O. Gnawali et al., “The minimum rank with hysteresis objective func-
tion,” RFC 6719, 2012, pp. 13.
[6] F. H. Bijarbooneh et al., “Energy-efﬁcient sensor selection for data qual-
ity and load balancing in wireless sensor networks,” 22nd International
Symposium of Quality of Service (IWQoS), IEEE, 2014, pp. 338-343.
[7] B. Ghaleb et al., “Load Balancing Objective Function in RPL draft-
qasem-roll-rpl-load-balancing-00,” 2017, pp.16.
[8] O. Iova et al., “Exploiting multiple parents in RPL to improve both
the network lifetime and its stability,” International Conference on
Communications (ICC), IEEE, 2015, pp. 610-616.
[9] O. Iova et al., “Improving the network lifetime with energy-balancing
routing: Application to RPL,” 7th IFIP Wireless and Mobile Networking
Conference (WMNC), IEEE, 2014, pp. 1-8.
[10] H. Lamaazi et al., “A comprehensive survey on enhancements and
limitations of the RPL protocol: A focus on the objective function,”
Ad Hoc Networks 96, 2020, pp. 102001.
[11] E. M. Ahrar et al., “RPL: IPv6 Routing Protocol for Low-Power and
Lossy Networks,” rfc, 6550,2012, pp.1-15.
[12] H. Pereira et al., “Increased Network Lifetime and Load Balancing
Based on Network Interface Average Power Metric for RPL,” IEEE
Access 8, 2020, pp.48686-48696.
[13] S. R. Samal et al., “An Energy Efﬁcient Head Node Selection For
Load Balancing In A Heterogeneous Wireless Sensor Network,” 52nd
Asilomar Conference on Signals, Systems, and Computers. IEEE, 2018,
pp. 1428-1433.
[14] K. Hoff et al., “Interactive motion planning using hardware-accelerated
computation of generalized Voronoi diagrams,” Proceedings 2000 ICRA,
Millennium Conference, IEEE International Conference on Robotics
and Automation, Symposia Proceedings (Cat. No. 00CH37065), Vol.
3. IEEE, 2000, pp. 2931-2937.
[15] Sampayo, L. Sebastian , Julien Montavont, and Thomas No¨el, “LoBaPS:
load balancing parent selection for RPL using wake-up radios,” 2019
IEEE Symposium on Computers and Communications (ISCC), IEEE,
2019, pp. 1-6.
[16] B. Shah et al., “Guaranteed lifetime protocol for IoT based wireless
sensor networks with multiple constraints,” Ad Hoc Networks, Vol.104,
2020, pp. 102158.
[17] F. Wang et al., “SL-RPL: Stability-aware load balancing for RPL,” Trans.
Mach. Learn, Data Min, 2020, Vol.13, pp.27-39.
[18] C. Ji et al., “TAOF: Trafﬁc aware objective function for RPL-based
networks,” 2018 Global Information Infrastructure and Networking
Symposium (GIIS), IEEE, 2018, pp. 1-5.
[19] D.S.J. De Couto et al., “High-throughput routing for multi-hop wireless
networks, Diss,” Massachusetts Institute of Technology, 2004.
[20] B. Ghaleb et al., “A new load-balancing aware objective function for
RPL’s IoT networks,” 2018 IEEE 20th International Conference on High
Performance Computing and Communications, IEEE 16th International
Conference on Smart City, IEEE 4th International Conference on Data
Science and Systems (HPCC/SmartCity/DSS), IEEE, 2018, pp. 909-914.
64
Copyright (c) IARIA, 2021.     ISBN:  978-1-61208-878-5
ICWMC 2021 : The Seventeenth International Conference on Wireless and Mobile Communications

