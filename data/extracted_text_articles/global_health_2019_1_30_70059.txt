Software Implementation of the EU Patient Summary with Archetype Concepts 
 
 
Evgeniy Krastev  
Faculty of Mathematics and Informatics 
Sofia University St. Kliment Ohridsky  
Sofia, Bulgaria 
e-mail: eck@fmi.uni-sofia.bg 
Petko Kovatchev 
Faculty of Mathematics and Informatics 
Sofia University St. Kliment Ohridsky  
Sofia, Bulgaria 
e-mail: az@petko.info 
Dimitar Tcharaktchiev 
Department of Medical Informatics 
Medical University 
Sofia, Bulgaria 
e-mail: dimitardt@gmail.com 
Simeon Abanos 
Faculty of Mathematics and Informatics 
Sofia University St. Kliment Ohridsky  
Sofia, Bulgaria 
e-mail: simeonabanos@gmail.com 
Lyubomir Kirov 
Faculty of Medicine 
Sofia University St. Kliment Ohridsky  
Sofia, Bulgaria 
e-mail: kirov.lyubomir@gmail.com 
Alexandrina Lambova 
Faculty of Mathematics and Informatics 
Sofia University St. Kliment Ohridsky  
Sofia, Bulgaria 
e-mail: sanilambova@gmail.com
 
Abstract— The design and software implementation of the 
International Patient Summary (IPS) is recently in the focus of 
several updates of major eHealth standards and technical 
specifications in European Union (EU) countries. These updates 
are built exclusively on Health Level Seven (HL7) Fast 
Healthcare Interoperability Resources (FHIR) and HL7 
Clinical Document Architecture (CDA) technologies. The 
purpose is to develop a single, common specification of the 
minimal and non- exhaustive set of clinical data that can be used 
by all clinicians for cross- border, unscheduled care of a patient. 
It requires reusability and semantic interoperability of such 
data segments that are delivered essentially in terms of 
Archetype concepts. At the same time, the relation of the 
Archetype paradigm to patient summary standards and 
specifications is not well investigated in the current draft 
versions of these documents. This research investigates the 
application of the CEN 13606 and openEHR archetypes in the 
design and software application of IPS sections. The objective of 
the numerical experiments is to identify the level of 
compatibility between technologies, related to Archetype 
paradigms, and the software technologies employed in the 
current draft versions of standards and specifications of the IPS. 
The obtained results are novel because the Archetype paradigm 
is not considered in these draft versions. They serve to extend 
the practical experience in cross-border sharing of clinical data 
represented in terms of semantic interoperability of archetype 
concepts.  
Keywords-semantic interoperability; software for health; 
international patient summary; medication summary; archetype 
concept. 
I. 
INTRODUCTION 
The research work for the development of a standard for 
an International Patient Summary (IPS) has a long history. It 
has started with the European Patients – Smart Open Services 
(epSOS) project having as a main objective to enable a service 
infrastructure for cross-border interoperability between EHR 
systems in Europe [1]. This pilot infrastructure has been 
planned to allow a citizen from one EU country to receive 
relevant treatment for unscheduled health need in another 
country. The outcomes of this project have laid the 
foundations for sharing and exchanging patient summary and 
electronic prescription records. Research work has continued 
in several other EU projects like the Joint Action to support 
the eHealth Network project (JAseHN [2]) and the obtained 
results have been implemented in  the eHealth Digital Service 
Infrastructure (eHDSI [3]) or  adopted by the eHealth Network 
(eHN [4]).  
The European Commission for Standardization (CEN) in 
a collaboration with HL7 [5] [6] produced this year draft 
versions correspondingly of a standard (prEN 17269 [7]) and 
a technical specification (FprCEN/TS 17288 [8]) for an IPS. 
These two documents provide a detailed abstract specification 
of an IPS model from which concrete models can be derived 
and implemented. Therefore, the IPS model is described in 
terms of clinical relevant data set that is “minimal”, “specialty- 
agnostic and condition- independent”.  
The objective of this paper is to investigate these newly 
published documents from the point of view of the software 
implementation of the proposed domain information model 
and the data set specifications. For example, it is important to 
learn how well this IPS model can be expressed with  
CEN 13606 and openEHR, where CEN 13606 [9] is the EU 
approved standard for semantic interoperability. The reason to 
explore this subject in prEN 17269 is that the collaboration of 
CEN with HL7 has led to a rather unbalanced interpretation 
of the use cases in terms of software technologies exclusively 
related to HL7 FHIR [10] and HL7 CDA [11]. Indeed the data 
set references to ISO 21090 [12] make this model compatible 
with the data sets used in information models based on 
American Standards HL7 v3, HL7 FHIR or an EU standard 
like CEN 13606. On the other side, the IPS draft standard 
prEN 17269 does not provide guidance for implementing 
semantic interoperability in the exchange of IPS records. In 
fact the draft version of FprCEN/TS 17288 provides just a 
short informative reference to CEN 13606 and openEHR 
archetypes, while semantic interoperability appears to be out 
of the scope of this IPS model. Moreover, the evaluation of 
the IPS model is presented only in terms of the Messages 
Paradigm of HL7 CDA and HL7 FHIR making use of a 
specific ART-DECOR template exchange format with Native 
XML databases (NXD) [13]. Besides, practical experience 
shows that the support for semantic interoperability of the 
Messages paradigm is problematic and it is difficult to scale it 
at National levels [14]. 
8
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

Our approach to evaluate the IPS model is based on 
designing and implementing the IPS document with archetype 
concepts 
satisfying 
the 
Archetype 
Object 
Models  
of CEN: 13606 [15] [16] and openEHR [17]. It is a novel 
research work because it aims to evaluate newly published 
draft versions of a standard and the accompanying it technical 
specification for IPS, where the Archetype paradigm is 
superficially 
taken 
in 
consideration. 
Note 
that the  
ART-DÉCOR template format is not directly compatible with 
the Archetype Description Language (ADL) [15] [17]. The 
above formulated issues are currently poorly explored in the 
existing literature especially regarding their software 
implementation. In this paper, we take one of the required 
sections of the IPS as a case study to validate the application 
of our approach for introducing semantic interoperability 
support in the scenarios for managing IPS extracts. The details 
of our approach are as follows:  
• 
Implement the IPS Medication section in prEN 17269 
both in terms of CEN 13606 Archetype Object Model 
(AOM)and in terms of the openEHR AOM. 
• 
Explore the compatibility of the obtained CEN 13606 
Archetype conceptual design with respect to the 
requirements of an openEHR engine for running 
openEHR Operational templates. 
• 
Explore the W3C XML Schemas of IPS archetype 
conceptual models with respect to potential practical 
implementations of the proposed standard. 
• 
Develop a client- server application for testing the 
openEHR Operational template on an openEHR 
engine in a local and cloud environment. 
• 
Propose 
a 
methodology 
for 
transforming 
a  
CEN 13606 or openEHR archetype conceptual 
models into a format that enables the creation of 
archetype instances compatible with NXD. 
This paper is divided into sections as follows. In the 
following section, we present the IPS archetype conceptual 
design; where we adopt a well-structured archetype modeling 
methodology [18] and explore the compatibility between 
different AOM. In Section III, we present our software 
implementation details. In Section IV, we summarize the 
obtained results and on this basis a methodology for 
implementing the Archetype paradigm with the IPS standard 
is proposed. Section V makes a conclusion and provides 
remarks on future work.   
II. 
IPS DESIGN WITH ARCHETYPE CONCEPTS 
The draft standard prEN 17269 represents the IPS as a set 
of reusable data blocks integrated with ontologies such as 
SNOMED-CT [19]. The data blocks are organized in four 
groups- Header, Required, Recommended and Optional 
sections. Without loss of generality, we consider the 
Medication Summary section, which is one of the three 
Required sections.  
The data structure and the data types used in section are 
described in full details in Table 26 of the prEN 17269 
standard. The draft version of this standard describes the same 
way the rest of the sections of the IPS, where the data set 
borrows data types from ISO 21090.The detailed description 
of the IPS contains all the information necessary for building 
a conceptual model in terms of archetypes. In our research 
work, we explored the design of this model with CEN 13606 
and openEHR archetypes. For this purpose, we follow a five- 
stage methodology for archetype design [18]. It allows us to 
transform correctly a clinical document like the IPS into an 
archetype conceptual model. We have also compared the 
application of different software tools in obtaining the desired 
conceptual model. For example we have found that LinkEHR 
Studio [20] is more suitable for creating a CEN 13606 AOM, 
while the Template Designer and Archetype Editor [21] are 
more specialized and appropriate to employ with the 
openEHR AOM.  
These tools allow us to bind semantic context to the 
archetype conceptual model from terminology servers and this 
way map terms to national standards like LOINC, SNOMED-
CT, and ICD-10. It allows the IPS conceptual model to deliver 
meaningful, reliable, semantical clinical information at the 
point of care. The obtained conceptual models are displayed 
in Figure 1. We have preserved the names for the concepts, 
the semantics of the data types from ISO 21090 and the 
constraints on occurrences as they are specified by the draft 
standard 
for 
the 
IPS. 
The 
AOM 
of  
CEN 13606 allows to represent the conceptual model of the 
IPS in the Medication Summary section as a single archetype  
(Figure 1.).  
 
Figure 1.  Mind map design of the IPS Medication Summary Section in prEN 17269:2018 with a CEN 13606 archetype. 
9
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

On the other side, the AOM of openEHR requires to 
design separate archetype models for COMPOSITION 
archetype (representing the whole IPS) with slots for 
SECTION archetypes (representing slots for each of the 
sections of the IPS) and specialized ENTRY archetypes 
(representing the CONTENT_ITEM in each one of the IPS 
sections). For example, the Medication Summary section has 
been created an INSTRUCTION specialization of the 
ENTRY archetype. Finally, all the COMPOSITION, 
SECTION and INSTRUCTION archetypes have been 
assembled in a single template, shown on the right side in 
Figure 2.  
Both conceptual models can be exported to valid 
openEHR Operational templates no matter the structural 
differences in the explored conceptual model. Moreover, it 
has allowed us to execute the obtained openEHR conceptual 
model in a client- server application making use of an 
openEHR engine for processing instances of the Medication 
Summary section Operational template. The conceptual 
design of the IPS section of the archetype models can be 
explored in W3C XML Schema format. This approach to 
investigate the IPS conceptual model is a novelty in the 
existing literature because a W3C XML Schema Definition 
Language (XSD) model of the IPS is not presented in the 
proposed prEN 17269 standard. At the same time, its practical 
implementation implies the use of web services, where the 
XSD model specification is important.  
The XSD model of the Medication Summary section is 
shown in Figure 3 in CEN 13606 concepts. This model is 
suitable for implementations in NXD, where XQuery can 
serve as a good replacement for the absence of an Archetype 
Query Language in the AOM of CEN 13606. 
Figure 3.  W3C XML Schema of an IPS Section in CEN 13606 AOM. 
 
 
Figure 2.  IPS Medication Summary design as a CEN 13606 archetype (left side) and as a template of openEHR archetypes (right side).  
 
10
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

For comparison, the XSD model of openEHR concepts 
includes a lot of metadata payload. Real- life IPS applications 
process large numbers of openEHR XSD model instances. 
Therefore, it is not practicable to employ NXD for storage and 
the management of such instances.  
III. 
SOFTWARE IMPLEMENTATION 
The software implementation of the IPS conceptual 
models in a client server application has been developed with 
the objective to evaluate the applicability of the Archetype 
paradigm in implementing the proposed IPS standard. For this 
purpose, the openEHR Operational template of the 
Medication Summary section has been installed and run on 
both a local CaboLabs openEHR engine [21] and a cloud- 
based Code4Health platform [22]. A client PHP application 
has been developed to store and read instances of the 
Operational template from the openEHR server by means of 
RESTful API. A snapshot of the client application is shown in 
Figure 5.  
The user interface of the client can be auto generated from 
the archetype conceptual model. A client application can use 
a custom defined graphical user interface as well. This 
application links each instance of the Operational template to 
a unique Patient ID that is displayed in the query string of the 
HTTP GET request. The sample client application makes use 
of SNOMED-CT codes (see fields Route of Administration 
and Substance code in Figure 5) and real Medicinal Product 
Details to prove that the semantic context embedded in the 
archetype conceptual model can be interpreted correctly by 
any client that manages instances of that model. By selecting 
an archetype conceptual model, the client agrees to follow the 
mapping of terms to standards provided by the terminology 
servers linked to the selected model.  
Figure 4.  Methodology for semantic interoperability of the IPS. 
IV. 
DISCUSSION 
In this paper, we have evaluated the applicability of the 
Archetype paradigm in software applications that implement 
the draft version of the IPS standard. Although the Archetype 
paradigm is not in the focus of this standard, we have 
demonstrated that it can be successfully employed in software 
applications apply this standard.  
The practical experience in producing the here reported 
results allow us to propose a methodology for applying the 
proposed IPS standard in use cases where semantic 
interoperability is a requirement (Figure 4). The first stage in 
this methodology is to create a correct conceptual model on 
the IPS document. The archetypes in this model serve as 
“plug-and-play” building blocks for semantic interoperability 
that can be imported from a repository known a Clinical 
Knowledge Manager. It is important to note at this stage the 
requirement for binding of the archetype model to 
Terminology servers. Therefore, it would be useful the final 
version of the IPS standard to provide public access not only 
to a promised standard set of SNOMED-CT code set, but also 
to publish a set of standard CEN 13606 archetypes together 
with their XSD representations. The obtained archetype 
conceptual model is ready for reuse in software applications. 
Clients select an archetype conceptual model and manage 
instances of that model in terms of semantic interoperability. 
Unlike the Messaging Paradigm the implementation of the 
Archetype paradigm with the proposed IPS standard makes 
possible all data, information and knowledge in each system 
to be available in a uniform and standard way.  
Finally, we note that in the existing literature there is 
evidence that openEHR archetypes can be transformed to 
CEN 13606 archetypes making use of the common ISO 21090 
data set [23] The mapping from CEN 13606 to openEHR is 
not explored so far. As a side result, we have established that 
it is not possible to convert CEN 13606 archetypes directly 
into openEHR archetypes. The reason is that the concrete class 
ENTRY from the Reference model of CEN 13606 is mapped 
to the abstract class ENTRY in the Reference model of 
openEHR. Therefore, we can export a CEN 13606 archetype 
into a valid openEHR Operational template. However, it is not 
possible to create instances of that template. In openEHR there 
are 
concrete 
specializations 
of 
class 
ENTRY 
like 
OBSERVATION, EVALUATION, INSTRUCTION and 
ACTION. Hence, it is very difficult to map a concrete 
ENTRY class in CEN 13606 to some of these specializations 
of the openEHR class ENTRY. 
V. 
CONCLUSION AND FUTURE WORK 
This paper has investigated the design and software 
implementation of the International Patient Summary 
according to the current draft versions of prEN 17269 and 
FprCEN/TS 17288. These versions make use exclusively of 
HL7 FHIR and HL7 CDA technologies with the purpose to 
develop a single, common specification of the minimal and 
non- exhaustive set of clinical data that can be used by all 
clinicians for cross- border, unscheduled care of a patient. Our 
analysis of these documents shows that they are built 
exclusively on top of the Message paradigm information 
 
11
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

model and data set. Therefore, in this paper, we explore how 
the objectives of this standard can be achieved by applying the 
Archetype paradigm approach. In the literature it is 
recognized that reusability and semantic interoperability of 
clinical data like the IPS segments can are delivered 
essentially in terms of Archetype concepts. The obtained 
results provide evidence that the IPS can be designed in terms 
of CEN 13606 and openEHR archetype concepts. Both 
archetype models support binding to semantic context 
provided by terminology servers like SNOMED-CT.  
We have established that the CEN 13606 AOM cannot be 
used to create instances compatible with the openEHR AOM. 
It is an important conclusion because the compatibility of 
transformation from CEN 13606 to openEHR has not been 
explored in the existing literature. The numerical experiments 
demonstrate that both archetype models can be exported in 
W3C Schema definitions, where the XSD of openEHR AOM 
contains considerably larger payload of metadata. Therefore, 
it is preferable to manage instances of openEHR archetype 
models by means of operational templates on native openEHR 
engines.  
It is noteworthy, that the draft versions of both the IPS 
standard and its technical specification do not consider a XSD 
model of the IPS. At the same time, practical implementations 
of this standard rely on web services where the specification 
of the XSD models is important. We have demonstrated this 
approach in a client server application with real medicinal data 
and terminology codes, where the same operational template 
of the IPS section can run both on a local and on a cloud-based 
openEHR engine. Accordingly, instances of CEN 13606 
archetypes can be managed in NXD as it is demonstrated in 
the use cases of FprCEN/TS 17288 with HL7 concepts.  
We plan to explore the feasibility of this different 
approach for enabling IPS semantic interoperability in our 
future work.  
In summary, the obtained results are presented in a 
uniform methodology for implementing the IPS in terms of 
the Archetype paradigm. These results are novel because the 
Archetype paradigm is not considered in the draft version of 
the IPS standard. They serve to extend the practical experience 
in cross-border sharing of clinical data represented in terms of 
semantic interoperability of archetype concepts. 
ACKNOWLEDGMENT 
This research is supported by the National Scientific 
Program еHealth in Bulgaria. 
REFERENCES 
[1] European Patients Smart Open Services (epSOS) , "D3.2.2 Final 
definition of functional service requirements- Patient Summary," 29 
October 2012. [Online]. Available: https://ec.europa.eu/digital-single-
market/en/news/cross-border-health-project-epsos-what-has-it-
achieved. [retrieved: August, 2019]. 
[2] European Commission, "Joint Action to support the eHealth Network 
[JAseHN][677102] - Joint Actions," 30 June 2018. [Online]. 
Available: 
https://webgate.ec.europa.eu/chafea_pdb/health/projects/677102/sum
mary. [retrieved: August, 2019]. 
[3] eHealth DSI, "PS Use Case," 30 April 2019. [Online]. Available: 
https://ec.europa.eu/cefdigital/wiki/display/EHOPERATIONS/PS+Us
e+Case. [retrieved: August, 2019]. 
[4] eHealth Network, "Guideline on the electronic exchange of health data 
under Cross-Border Directive 2011/24/EU.," Brussels, 2016. 
[5] HL7 International, "International Patient Summary," 2018. [Online]. 
Available: 
http://international-patient-
summary.net/mediawiki/index.php?title=IPS_implementationguide_1
[retrieved: August, 2019]. 
[6] HL7 International, "HL7 Version 3 Standard: Pharmacy; Medication 
Order, 
Release 
2," 
2019. 
[Online]. 
Available: 
http://www.hl7.org/implement/standards/product_brief.cfm?product_i
d=65. [retrieved: August, 2019]. 
[7] CEN/TC 251, "prEN 17269. Health informatics - The Patient Summary 
for Unscheduled, Cross- border Care," European Committee for 
Standardization, Brussels, 2018. 
[8] CEN/TC 251, "FprCEN/TS 17288. Health informatics - The 
International 
Patient 
Summary: 
Guidance 
for 
European 
Implementation," European Committee for Standardization, Brussels, 
2018. 
[9] CEN/TC 215, "ISO 13606-1:2008 Health informatics -- Electronic 
health record communication -- Part 1: Reference model," 2 2008. 
[Online]. 
Available: 
https://www.iso.org/standard/40784.html. 
[retrieved: August, 2019]. 
[10] HL7 FHIR, "FHIR Release 4. International Patient Summary 
Implementation Guide," 27 December 2019. [Online]. Available: 
https://build.fhir.org/ig/HL7/fhir-ips/. [retrieved: August, 2019]. 
[11] HL7 International, "HL7 Version 3 Clinical Document Architecture," 
2019. 
[Online]. 
Available: 
http://www.hl7.org/implement/standards/product_brief.cfm?product_i
d=7. [retrieved: August, 2019]. 
[12] ISO/TC 215 Health informatics, "ISO 21090:2011 Health informatics 
-- Harmonized data types for information interchange," Feb 2011. 
[Online]. 
Available: 
https://www.iso.org/standard/35646.html. 
[retrieved: August, 2019]. 
[13] ART-DECOR, "ART-DECOR Open Tools," 2019. [Online]. 
Available: 
http://art-decor.org/art-decor/decor-project--hl7ips. 
[retrieved: August, 2019]. 
[14] G. Freriks, G. de Moor and D. Kalra, "White paper: Archetype 
paradigm: an ICT revolution is needed," 13 March 2007. [Online]. 
Available: 
http://www.eurorec.org/files/filesPublic/ArchetypeParadigmFeb2007.
pdf. [retrieved: August, 2019]. 
[15] ISO/TC 215, "ISO 13606-2:2019. Health informatics -- Electronic 
health record communication -- Part 2: Archetype interchange 
specification," 
ISO, 
2019. 
[Online]. 
Available: 
https://www.iso.org/standard/62305.html [retrieved: August, 2019]. 
[16] ISO/TC 215, "ISO 13606-1:2019 Health informatics -- Electronic 
health record communication -- Part 1: Reference model," ISO, 2019. 
[Online]. 
Available: 
https://www.iso.org/standard/67868.html. 
[retrieved: August, 2019]. 
[17] openEHR Foundation, "10. Archetypes and Templates," openEHR, 
December 
2018. 
[Online]. 
Available: 
https://specifications.openehr.org/releases/BASE/latest/architecture_o
verview.html#_archetypes_and_templates. [retrieved: August, 2019]. 
[18] D. Moner, J. A. Maldonado and M. Robles, "Archetype modeling 
methodology," Journal of Biomedical Informatics, vol. 79, pp. 71-81, 
2018.  
[19] SNOMED International, "SNOMED CT," 2019. [Online]. Available: 
http://www.snomed.org/snomed-ct/get-snomed-ct. [retrieved: August, 
2019]. 
[20] VeraTech for Health, "LinkEHR Ineroperability Platform," 2019. 
[21] P. P. Gutiérrez, "Towards the Implementation of an openEHR-based 
Open Source EHR Platform (a vision paper)," in MEDINFO 2015: 
EHealth-enabled Health: Proceedings of the 15th World Congress on 
Health and Biomedical Informatics, São Paulo, Brazil, 2015, pp.45–
49.  
12
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

[22] Code4Health, "Code4Health Platform," 2019. [Online]. Available: 
https://github.com/code4health-platform. [retrieved: August, 2019]. 
[23] T. Beale, "openEHR to ISO 13606-1, ISO 21090 mapping," 15 May 
2015. 
[Online]. 
Available: 
https://openehr.atlassian.net/wiki/spaces/stds/pages/5373954/openEH
R+to+ISO+13606-1+ISO+21090+mapping. [retrieved: August, 2019]. 
 
 
 
 
 
 
 
 
 
Figure 5.  Snapshot of a client application creating an openEHR archetype instance of the IPS Medication Summary Section.  
 
 
 
13
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-742-9
GLOBAL HEALTH 2019 : The Eighth International Conference on Global Health Challenges

