Accuracy of Simulation of Wireless Technology Using MATLAB and NS-3 
 
 
David Newell, Philip Davies, Russell Wade, Andrew 
Yearp, Ben Lister 
Faculty of Science & Technology  
Bournemouth University 
Bournemouth, UK 
dnewell@bournemouth.ac.uk, daviesp@bournemouth.ac.uk 
rwade@bournemouth.ac.uk, ayearp@bournemouth.ac.uk 
Mak Sharma 
School of Computing & Digital Technology 
Birmingham City University 
Birmingham, UK 
Mak.Sharma@bcu.ac.uk
 
 
Abstract---Performance predictions of wireless IEEE 802.11 
specifications have been obtained using two well-known 
simulators - MATLAB and  Network Simulator 3 (NS-3). 
Benchmarking was done by comparison to laboratory 
performance measured practically using an experimental 
method based on technical features claiming to contribute to 
higher bandwidth. The findings show that both simulators’ 
predictions match the specifications at zero line-of-sight 
between transmitter and host. Technical features were 
confirmed to broadly increased data rates approximately to 
specification. However, accuracy of the simulators was 
inversely correlated with propagation distance. In certain 
cases, the claim of higher bandwidth by the latest amendment 
was not borne out in practice over distances greater than 10m. 
In conclusion, NS-3 was more often better correlated with 
measured values than MATLAB. In future, better software 
modelling of ray tracing and beam forming, physical 
techniques employed in cellular simulators that better model 
propagation effects would be expected to improve accuracy. 
Keywords-WIFI, Wireless technology, MATLAB, NS-3. 
I. 
INTRODUCTION  
 
The IEEE 802.11 standard is the de-facto solution for 
wireless network access. Previous workers have considered 
discrepancies between theoretical and physical performance 
under various conditions [1]-[3]. 
Little work has investigated variance between theoretical, 
practical and simulated performance measurements. With 
such practical variances being observed, the possibility of a 
similar discrepancy with the predictions of 802.11 
simulations arises. The lack of research into these variances 
thus draws into question the validity of simulated 
performance measurements and hence the indicated benefits 
of any proposed enhancements demonstrated through 
simulations. The IEEE standard features an evolving series 
of enhancements each of which is defined within the 
specification amendments with the effect on the performance 
theoretically attainable. To evaluate the effectiveness of 
proposed enhancements, several academics have utilized 
simulation software [4]-[6]. The results of simulations are 
interpreted as an indication of the improvements attainable in 
practical applications. 
 
The 802.11n amendment, published in 2009 and ratified 
in IEEE 802.11-2012 [7], specifies a number of 
enhancements to improve on throughput, range and 
reliability. Physical layer (PHY) enhancements include 
advanced modulation techniques, utilization of Multiple-
Input Multiple-Output (MIMO) antennas, wider channels 
and operation in the 2.4GHz or optional 5GHz frequency 
bands. Medium Access Control (MAC) layer enhancements 
consist of frame aggregation and block acknowledgements to 
increase MAC layer efficiency. 
The 802.11ac amendment was published in 2013 and 
ratified in IEEE 802.11-2016 [8]. It specifies PHY layer 
enhancements for 5GHz exclusivity, increased number of 
MIMO streams, Multi-user MIMO, wider channels and 
further advancements to modulation techniques. The MAC 
layer enhancements build on previous frame aggregation 
techniques. 
 
The structure of the paper is as follows. Section 1 is the 
Introduction. Section 2 is a discussion of the selection of a 
method and the design choices made. Section 3 is an analysis 
of the findings. Section 4 is the evaluation and draws 
conclusions. Finally, section 5 is a list of the references. 
II. 
METHOD 
 
Innovative 
features 
in 802.11 
amendments 
were 
identified - modulation, convolutional coding, channel 
widths, guard intervals, MIMO, spatial streams, beam-
forming, frame aggregation and block acknowledgements. 
Each innovation is responsible for a notable increase in 
PHY or MAC level data rates. Additionally the medium-
specific variables of Signal to Noise Ratio (SNR) and 
obstructions must be accounted for. Each experiment must 
isolate an individual variable as best as possible within the 
environment in which the experiments are performed, the 
conditions under which the experiment is conducted and the 
measure of performance. Then repeated in MATLAB and 
NS-3 simulation, the results collated into datasets. 
Experiments measured the downstream data rate from 
access point to client, over distinct distances. 
NS-3 [9] and MATLAB [10] were used for simulations. 
NS-3 is an open-source real-time network simulator, 
21
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-073-5
INFOCOMP 2023 : The Thirteenth International Conference on Advanced Communications and Computation

supporting numerous technologies e.g. Ethernet, Wi-Fi, 
Worldwide 
Interoperability 
for 
Microwave 
Access 
(WiMAX), Long Term Evolution (LTE) and 5G. MATLAB 
supports a variety of technologies using ’Toolboxes’. 
In order to simulate the 802.11 specification and physical 
layer communication effects (attenuation, noise, interference 
etc.) in MATLAB, two add-on packages were used, viz., 
Communications System Toolbox for Radio Frequency 
(RF) modelling and Wireless Local Area Network (WLAN) 
System Toolbox for modeling the 802.11 MAC and PHY 
layers. 
MATLAB simulations used an 802.11ac simulation script 
[15]. Ten simulations were scripted, five for 802.11n and 
five for 802.11ac. The channel model within the simulation 
was configured to replicate the RF environment as closely 
as possible. All configured parameters were equal for both 
High Throughput (HT) and Very High Throughput (VHT) 
simulations. 
MATLAB was used with wlanTGacChannel and 
wlanTGnChannel objects configured with a delay profile of 
Model-D. The model was found to be the most 
representative of the practical results recorded. The key 
factor in this decision was the breakpoint distance of 10 
meters i.e. Line Of Sight (LOS) transmission for ≤ 10m 
and Non Line Of Sight (NLOS) for > 10m, produced results 
to most closely match those observed. 
The carrier frequency was set to channel 44, 5.20GHz. 
Noise was introduced through the Adds White Gaussian 
Noise (AWGN) Channel object, with the initial signal to 
noise ratio being set to 97dB. The simulation was 
configured to take into account path loss and shadowing RF 
propagation effects. 
NS-3 simulations used scripts modified for HT [16] and 
VHT [17]. Six scripts were created - three for 802.11n and 
three for 802.11ac. Each script calculated the data rate 
achieved at each distance for all parameter combinations, 
with each script doing so for 1, 2 or 3 spatial streams. 
NS-3 provides a variety and ever growing number of 
wireless propagation models. Each is built around a unique 
set of equations and up to seven may be chained to produce 
a single complex propagation model. A number of models 
were evaluated for suitability. Based on the results of each, 
and considering recommendations towards path loss models 
for this use case by [18], the decision was made to 
implement the Log Distance Propagation Model alongside 
the Nakagami Propagation Loss Model. 
The key disadvantage to these models, however, was the 
lack of accounting for complex RF effects, such as 
shadowing. Thus a degree of variance was expected in the 
results. Chaining the Shadowing Loss propagation model 
resulted 
in 
an 
unrealistic 
simulation 
of 
wireless 
performance, with a greater degradation of signal quality 
over distance being exhibited. Hence the shadowing loss 
propagation model was not implemented. In order to model 
shadowing loss to some degree, the Random Propagation 
Loss Model was implemented using a random integer 
between 0 and 5. The result was a random signal loss 
between 0 and 5dBm. For configuration of the propagation 
model, the logarithmic power was set to 3.00. Due to 
constraints imposed by the execution time of each 
simulation, it was not possible to evaluate powers to a 
greater precision than 0.25.  
As shown in Table 1, measurements and simulations 
were made using a range of tools. Directional data rate was 
measured Access Point (AP) to client using a constant 
stream of uniformly formatted packets and frames. The 
Internet Performance Working Group (IPERF) [11] network 
benchmarking tool was chosen as it supports  User 
Datagram Protocol (UDP), packet loss, logging and 
streaming. 
For the monitoring of noise and SNR, SDRSharp (SDR#) 
[12] for Windows was chosen for basic functionality and 
simplistic interface of SDR#. For accurate identification of 
the received signal strength (dBm) the inSSIDer [13] tool 
was chosen. Combined, these tools provide the necessary 
measurements to monitor local RF conditions using the 
Software Defined Radio (SDR). 
 
TABLE 1.  SUMMARY OF TOOLS FOR PRACTICAL MEASUREMENTS 
AND SIMULATIONS.  
Software 
Usage 
Description 
IPERF 
Practical 
UDP 
Datagram 
generation  
SDR# 
Practical 
Spectral Analysis 
inSSIDer 
Practical 
Identify Signal Strength 
WLAN 
Toolbox 
Simulation 
MATLAB simulation 
Comms 
Toolbox 
Simulation 
MATLAB 
RF 
simulation 
 
For the monitoring of noise and SNR, SDR# [12] for 
Windows was chosen for basic functionality and simplistic 
interface of SDR#. For accurate identification of the 
received signal strength (dBm) the inSSIDer [13] tool was 
chosen. Combined, these tools provide the necessary 
measurements to monitor local RF conditions using a 
software defined radio. 
The infrastructure in Figure 1 consists of the Cisco 
Aironet 2702i with 2504 WLAN controller. A TP-Link 
T9UH adapter provided support for up to 3x3:3 MIMO. As 
a result of access point and network adapter limitations, the 
experiments were limited to a maximum of 3x3:3 MIMO 
and 80MHz channel widths. For spectral analysis the 
HackRF SDR was chosen for 20MHz bandwidth and ≤ 
6GHz tuning range [14]. All equipment was switched 
through the C3650-24PS switch in order to provide a 1Gbps 
link. 
 
 
 
22
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-073-5
INFOCOMP 2023 : The Thirteenth International Conference on Advanced Communications and Computation

 
 
Fig. 1. Wireless Network Infrastructure for Practical Measurements 
III. 
   FINDINGS 
A.  Modulation Schemes  
Practical 
measurements 
matched 
theoretical 
and 
simulated increases in data rates because of increases in 
Orthogonal Frequency-Division Multiplexing (OFDM) 
symbol density. HT and VHT exhibited in data rate 
variations of 3.5% and 9.6% respectively over four 
distances. NS-3 consistently predicted optimistic data rates 
with 35%, 22% and 14.5% average over prediction for 
Binary Phase Shift Keying (BPSK), Quadrature Phase Shift 
Keying (QPSK) and 16-Quadrature Amplitude Modulation 
(QAM). For VHT, performance did not match that predicted 
for larger distances. Both simulations suggest logarithmic 
compared to observed linear performance due to pessimistic 
channel modelling or environmental effects producing 
gains. NS-3 showed minimal variation between predicted 
and measured performance with a 0% and 6% variation. 
 
B.  Spatial Streams 
Theoretical data rates were not exhibited in reality. The 
improvement in data rate over lesser numbers of spatial 
streams decreased. In the case of VHT, the data rates for 2 
and 3 spatial streams decreased below that of 1 spatial 
stream at 10 and 15 meters. 
For HT, MATLAB correctly predicted the degradation of 
performance for 1 spatial stream across all distances. 
However, for 3 spatial streams the prediction was not 
representative of reality. For VHT, whilst the prediction for 
the degradation of performance over distance was 
pessimistic, the simulation did correctly predict that beyond 
10 meters, 1 spatial stream would retain the data rate such 
that it would exceed the data rates of both 2 and 3 spatial 
streams. The predictions were, in general, not indicative of 
the true performance. NS-3 was noted to be the most 
accurate at predicting HT performance over all distances, 
especially for 1 and 2 spatial streams. It correctly predicted 
that over all four distances the performance of the increased 
number of spatial streams would not degrade below that of 
the lower numbers of spatial streams. For VHT however, 
NS-3 did not correctly predict the performance across all 
measured distances. Overall, the key observation from the 
measurements and predictions was that existing simulation 
models do not accurately portray the true performance of 
802.11 standards when taking spatial multiplexing (spatial 
streams) into consideration.  
The practical measurements showed that the theoretical 
increases in data rates, attributed to increases in channel 
width, held true. For HT, the data rate increased by 66Mbps 
for 20MHz compared to 40MHz. For VHT, the data rate 
increased by 90Mbps and 188 Mbps for 20MHz to 40MHz 
and 40MHz to 80MHz channels. Note that the data rate 
more than doubled in all cases. This effect was not 
expected. A possible cause for such an effect may have been 
cross-channel 
interference 
reductions 
as 
bandwidth 
increased, due to dynamic channel assignment taking effect 
at remote access points. It should also be noted that the 
decrease in data rate at 5 and 10 meters for VHT 20MHz 
was experienced across all 10 measurements at each 
distance. As the experiments were performed in an 
environment containing other wireless transmitters (APs, 
Devices etc.) this decrease may be attributed to interference 
from said transmitters at the time of the measurements being 
taken. This would explain why the effect was not measured 
across the 40MHz and 80MHz measurements. NS-3 and 
MATLAB were shown to produce realistic performance 
predictions, modelling both the data rate and performance 
over distance successfully for each channel width. As 
previously discussed, NS-3 was unable to successfully 
model transient environmental effects. Additionally, for 
both HT and VHT, the predicted performance degradation 
was again overly pessimistic for both simulations. Unlike 
previous experiments, this degradation did occur correctly 
between the 10 and 15 meter distances, however not to the 
degree predicted. 
C. Guard Intervals 
The practical measurements found for HT and VHT 
respectively a 10% and 9.5% increase in data rates when 
changing from 800ns guard intervals to 400ns. This closely 
matched the theoretical increase of 11.1% stated within the 
802.11 specification.  
Additionally, for VHT, the long guard interval was 
shown to exceed the performance of the short guard interval 
as the signal quality degraded. This matched theory as 
longer guard intervals are expected to improve performance 
due to additional time for reflected signals to disperse prior 
to transmission. 
NS-3 predictions closely matched measurements for HT 
with a maximum variance of 20Mbps being observed. For 
VHT, NS-3 did not correctly model reduced data rates at 0 
meters, nor the sharp decrease observed between 5m and 
10m. However, for the 5m and 15m measurements, 
predictions for the long guard interval varied by only 5.7% 
and 1.6%. 
MATLAB predictions were somewhat inaccurate. For 
HT, a sharp performance reduction was incorrectly 
predicted, occurring beyond 9 meters. However, the 
increase in data rate of 11.1% was correctly predicted. For 
VHT, whilst the model was overly pessimistic, it did 
23
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-073-5
INFOCOMP 2023 : The Thirteenth International Conference on Advanced Communications and Computation

correctly predict a sharp performance reduction between 5m 
and 10m. It did not predict the long guard interval 
overtaking the performance of the short guard interval. 
 
D. Coding Schemes 
Practical measurements showed that the specification 
data rate increases for HT and VHT occurred. For HT, each 
increase in the ratio of data bits to error-checking bits 
theoretically results in the data rate increasing by 15Mbps 
(Between 2/3, 3/4 and 5/6). The true increase was measured 
to be 13Mbps moving from 2/3 to 3/4 coding and 11Mbps 
from 3/4 to 5/6 coding. VHT on the other hand measured 
only an 11Mbps increase between 3/4 and 5/6, compared to 
the stated theoretical increase of 30Mbps. Unlike HT, VHT 
showed a tendency for the achieved data rates to converge 
as the distance increases. This was expected as higher 
coding schemes are intended to offer higher data rates at the 
cost of reliable data transfer. A lower coding rate is 
expected to achieve greater data rates than higher coding 
rates as a reduction in signal quality is observed. 
The predictions made by the NS-3 simulator were noted 
to be a closer representation of the true performance than 
MATLAB. For HT, MATLAB matched the theoretical 
increases of 15Mbps as the coding scheme increased. NS-3 
predicted a 12Mbps and 15Mbps increase from 2/3 to 3/4 
and 3/4 to 5/6 respectively. Additionally, at 15 meters, NS-3 
correctly predicted a minor convergence of each coding 
scheme, as was observed to a lesser degree in the lab. 
Similarly, NS-3 most accurately predicted the VHT 
measurements both in terms of the data rate and the 
reduction in data rate between 5 and 10 meters. It did not 
however correctly predict the leveling off between 10 and 
15 meters, nor did MATLAB. 
 
IV. 
  DISCUSSION  
 
The performance of 802.11n and 802.11ac was found to 
be lacking when compared to the data rates stated in the 
specification. This performance was unable to be accurately 
modeled in a number of experiments by the two simulators 
investigated. Specifically, the following findings were 
made: 
When simulating 802.11ac (VHT), both NS-3 and 
MATLAB were found, in general, to accurately model the 
increases in data rates. For non-zero distances it was found 
that the accuracy of the predictions made reduced as the 
distance between the transmitter and receiver increased due 
to the simulators’ RF model(s) (channel model). Models 
could not be calibrated with known measurements.  
When simulating 802.11n (HT) both simulators were 
found to more closely reflect the performance measured in 
reality, across all four distances. However, at 15 meters, the 
greatest variances were observed. MATLAB was shown to 
be the least accurate model of performance, with prediction 
accuracy falling greatly after 10 meters. NS-3 on the other 
hand more accurately predicts both the measured data rates 
and the reduction in data rates over distance, excluding 
predictions for multiple spatial streams. 
Of the technical features evaluated in this report, the 
simulation predictions for spatial multiplexing (MIMO) 
were found to substantially differ from those measured in 
reality. The models used for NS-3 and MATLAB were 
found to more accurately reflect the measurements of HT 
and 
VHT 
respectively, 
with 
substantial 
prediction 
inaccuracies being made by NS-3 and MATLAB for VHT 
and HT respectively. Similar to the other experiments 
conducted, the factor responsible for such variations was the 
implementation of the RF model. 
In high SNR conditions, advanced technical features 
aimed at increasing data rates fulfilled their function. 
However, these features did not necessarily do so to the 
degree stated in the 802.11 standard. As distances increased, 
and SNR fell, the performance gains decreased, in some 
cases to a point where the attainable data rate fell below that 
of features with lower stated data rates.  
 
V. 
   CONCLUSION 
It has been shown that MATLAB and NS-3 successfully 
modeled the technical features of the 802.11 specification. 
For 
both 
802.11n 
and 
802.11ac, 
both 
simulators 
successfully modeled the increases in data rate provided by 
increasing the efficiency or complexity of each technical 
feature. Performance over distance is modeled through 
channel models. The inaccurate implementation of the 
channel models contributed greatly to the inaccuracy of the 
predictions made.  
Better monitoring is recommended. E.g., Ettus Research 
X300 [19] for 160MHz channel bandwidth, full 802.11ac 
capabilities and support for low-level configuration using 
C++, Python or GNU Radio. 
In future, 5G cellular contains innovations to increase 
data rates to up to 20Gbps per user with frequencies 
between 30 and 100GHz under consideration, full duplex, 
beamforming, MIMO and pico-cells [20]. Development 
simulators are the Third Generation Partnership Project’s 
3GPP [21] and the Novel Millimeter-Wave Channel 
Simulator (NYUSIM) simulator, built by researchers at New 
York University [22]. 
                                                REFERENCES 
[1] Y. Zeng, P. H. Pathak, and P. Mohapatra, "A first look at 
802.11 ac in action: Energy efficiency and interference 
characterization," in Networking Conference, 2014 IFIP, 
2014, pp. 1-9: IEEE. 
[2] D. Newell, P. Davies, R. Wade, P. Decaux, and M. Shama, 
"Comparison of Theoretical and Practical Performances with 
802.11 n and 802.11 ac Wireless Networking," in Advanced 
Information 
Networking 
and 
Applications 
Workshops 
(WAINA), 2017 31st International Conference on, 2017, pp. 
710-715: IEEE. 
24
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-073-5
INFOCOMP 2023 : The Thirteenth International Conference on Advanced Communications and Computation

[3] M. Darbyshire. "Practical Performance, Interference Effects 
of Wireless Networks ", Bournemouth University, 2017. 
[4] Z. Machrouh and A. Najid, "Performance Analysis of 
IEEE802. 11ac DCF Enhancement for VHT with Frame 
Aggregation," International Journal of Recent Contributions 
from Engineering, Science & IT (iJES), vol. 4, no. 3, pp. 17-
21, 2016. 
[5] W. Zhengzhong, Z. Xianxin, Y. Wenge, and L. Zilin, "System 
level simulation modeling of Bluetooth voice and its 
interference," in Signal Processing, 2004. Proceedings 
ICSP'04. 2004 7th International Conference on, 2015, vol. 1, 
pp. 29-32: IEEE. 
[6] N. V. Doohan, D. K. Mishra, and S. Tokekar, "Reliability 
analysis 
for 
wireless 
sensor 
networks 
considering 
environmental 
parameters 
using 
MATLAB," 
in 
Computational Intelligence, Communication Systems and 
Networks (CICSyN), 2011 Third International Conference on, 
2011, pp. 99-102: IEEE. 
[7] "IEEE 
Standard 
for 
Information 
technology--
Telecommunications and information exchange between 
systems--Local and metropolitan area networks--Specific 
requirements--Part 11: Wireless LAN Medium Access 
Control (MAC) and Physical Layer (PHY) Specifications--
Amendment 4: Enhancements for Very High Throughput for 
Operation in Bands below 6 GHz," IEEE Std 802.11ac(TM)-
2013 (Amendment to IEEE Std 802.11-2012, as amended by 
IEEE Std 802.11ae-2012, IEEE Std 802.11aa-2012, and IEEE 
Std 802.11ad-2012), pp. 1-425, 2013. 
[8] "IEEE 
Standard 
for 
Information 
technology--
Telecommunications and information exchange between 
systems Local and metropolitan area networks--Specific 
requirements - Part 11: Wireless LAN Medium Access 
Control (MAC) and Physical Layer (PHY) Specifications," 
IEEE Std 802.11-2016 (Revision of IEEE Std 802.11-2012), 
pp. 1-3534, 2016. 
[9] NSF, "Network Simulator 3. 3.27 ", ed. Alexandria, Virginia: 
National Science Foundation, 2018a. 
[10] MathWorks, "MATLAB. 2017a ", ed. Natick, Massachusetts, 
2017. 
[11] J. Dugan, S. Elliott, B. A. Mah, J. Poskanzer, and K. Prabhu, 
"IPERF3. 3.1.3 ", ed. iperf.fr: iKoula, 2016. 
[12] AirSpy, "SDR#. revision 1651 ", ed, 2018. 
[13] Metageek, "inSSIDer. 3.1.2.1 " 2016. 
[14] M. Ossmann, D. Spill, T. Streetman, E. Wooton, J. Graves, 
and M. Mclaurin, (2016, 25 February 2018). HackRF One. 
Available: https://greatscottgadgets.com/hackrf/  
[15] MathWorks, "Packet (Frame) Processing", Massachusetts, 
2018. 
[16] M. Banchi,  HT Wi-Fi Network [ns-3 script], 2018, Available: 
https://goo.gl/NuZKKq 
[17] S. Deronne, VHT Wi-Fi Network [ns-3 script], 2018, 
Available: https://goo.gl/koR2KG 
[18] M. Stoffers and G. Riley, "Comparing the ns-3 propagation 
models," in Modeling, Analysis & Simulation of Computer 
and Telecommunication Systems (MASCOTS), 2012 IEEE 
20th International Symposium on, 2012, pp. 61-67: IEEE. 
[19] Ettus Research, (7 April 2018). USRP X300 Available: 
https://www.ettus.com/product/details/X300-KIT  
[20] A. Nordrum and K. Clark, "Everything You Need to Know 
About 5G," IEEEE, 2017. 
[21] 3GPP, "LTE; 5G; Study on channel model for frequency 
spectrum above 6 GHz ", Sophia Antipolis, France, 2017, 
Accessed on: 12 April 2018. 
[22] S. Sun, G. R. MacCartney, and T. S. Rappaport, "A novel 
millimeter-wave channel simulator and applications for 5G 
wireless communications," in Communications (ICC), 2017 
IEEE International Conference on, 2017, pp. 1-7: IEEE. 
 
 
 
 
 
 
 
 
 
 
 
 
25
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-073-5
INFOCOMP 2023 : The Thirteenth International Conference on Advanced Communications and Computation

