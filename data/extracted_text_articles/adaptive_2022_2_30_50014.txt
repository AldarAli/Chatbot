Usage of Machine Learning for Subtopology Detection in Wire and Arc Additive 
Manufacturing 
Dimitri Bratzel, Stefan Wittek, Andreas Rausch 
Institute of Software and Systems Engineering 
Technische Universität Clausthal  
Clausthal-Zellerfeld, Germany 
email: switt@tu-clausthal.de 
Kai Treutler, Tobias Gehling, Volker Wesling 
Institute of Welding and Machining 
Technische Universität Clausthal  
Clausthal-Zellerfeld, Germany 
email: office@isaf.tu-clausthal.de
 
 
Abstract - In additive manufacturing, knowledge of the 
geometry of the weld seam is crucial for the quality of the 
component. This is especially true for Wire and Arc Additive 
Manufacturing (WAAM) based on Gas Metal Arc Welding 
(GMAW). The length of the free wire electrode ("stickout") 
should be almost constant during the entire manufacturing 
process. In additive manufacturing, it is also important to 
recognize height differences that occur during the process and 
to compensate for them by adjusting the process parameters in 
order to achieve a uniform build rate across the component 
cross-section, as geometric irregularities tend to be amplified by 
multiple layers. Furthermore, process disturbances can lead to 
locally altered seam properties. To counteract these problems, 
the presented investigations show to what extent such geometric 
irregularities can be detected in-situ from the existing process 
variables welding current and voltage. This makes it possible to 
dispense with the use of additional measurement technology. In 
our experiments, we simulated these height differences during 
multilayer welding by means of defined unevenness on the 
substrate plate. With the help of a Long Short Memory 
Neuronal Network (LSTM), the height information is 
determined indirectly during the process only via welding 
current and voltage.  It is shown that this approach could be 
used to control the process. Furthermore, it is shown that this 
approach can reliably detect geometry errors and determine the 
height information with high accuracy, even if the process 
parameters are changed between training and validation. 
Keywords: WAAM, Welding, GMAW, Machine Learning, 
Long Short-Term Memory, topology detection 
I. 
 INTRODUCTION 
In order to ensure consistent weld seam quality, even in 
automated welding processes, with slightly changing 
geometric boundary conditions, a wide variety of sensor-
based detection systems are currently being used. Among 
other things, the shape of the seam is detected by laser-based 
systems, usually using the light-sectioning method, to enable 
good seam tracking. On the other hand, the size of the melt 
pool is observed by optical systems [1]. An overview of the 
current state of research on monitoring and control of additive 
manufacturing is given in [2–4]. In addition to the dimension 
of the molten pool, conclusions can also be drawn here about 
the cooling of the weld seam or solidification. This not only 
allows the geometry of the weld to be determined, but also 
allows material properties to be specifically adjusted via the 
cooling. Thus, the monitoring of the welding process 
represents a multi-criteria task, especially in the case of a 
weld-property orientation in additive manufacturing. One 
approach to solve such a multi-criteria task in advance has 
been shown by Ehlers et. al. in [5]. Due to increasingly 
complex applications of common welding processes, such as 
additive manufacturing, the task is also becoming more 
complex and sensory monitoring is becoming more important 
[6–9].  
Complex, multi-criteria tasks can be solved using various 
artificial intelligence methods and, most importantly, can be 
computed in real time. Real-time computability is one of the 
main requirements for in-situ welding process monitoring and 
control, especially to be able to realize a material property 
oriented welding sequence as, e.g. in [5][10]. In these works, 
the 
cooling time 
between 
metallurgically 
important 
temperatures was used as a controlled variable, such as the t8/5-
time concept to keep the material properties within a desired 
range. 
In the following, a way to determine the geometry of the 
substrate for a weld bead based on welding current and voltage 
using artificial intelligence is presented. The aim is to derive 
further parameters from the existing process parameters 
without measuring them directly. This opens up the 
perspective of a material property- or geometry-oriented 
welding process control for metal inert gas welding. 
The results presented in this paper were discussed in 
German language in [11]. 
 
A. Machine learning in welding and WAAM 
The accurate prediction of the complex WAAM Process 
using numerical models is challenging and as of today, there 
exists no such model that could reliably predict the outcome 
of the process, outside vary narrow experimental frameworks. 
Even if such a model would exist, the required computation 
time may easy make it impractical for the online monitoring 
tasks addressed in this paper. This is the reason why we focus 
on machine learned models, which can be trained, only using 
captured inline process data and can be inferred very fast, so 
that the online approach becomes viable. A number of other 
authors have committed works tackling this topic.  
One major direction of the works lays in the prediction of 
some aspects of the overall outcome of the process based on 
parameters of the whole run. Most of this works rely on 
Artificial Neuronal Networks (ANN). One such approach 
32
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

predicts the mean width and height of the weld based on the 
mean current and voltage using fixed feed and tool speeds 
[12]. Another approach relies on a set of process parameters 
including energy and feed speed, as well as tool speed [13]. In 
[14], this approach is even extend to not only predict the over 
all geometry but also the distortion that may occur. In [15], a 
hybrid approach is presented, using the ANN to predict the 
temperature distribution of the weld and then use this as an 
input for an FEM model to come to the stress and strain of the 
underlaying metal sheet. Another parameter of the resulting 
weld that can be predicted this way is the surface roughness 
[16][17]. Common to all of these approaches is, that all of 
them use simple feed forward architectures to do regression 
from process parameters to outcome quantities. This has little 
in common with the idea of an inline approach where every 
measured value is directly used to predict some hidden value, 
such as the sub topology.  
There are some works, mainly from the point of view of a 
control engineer, that forester such an inline view. In [18], for 
example, ANN are used to predict the temperature of a top 
layer based on the temperature of the layer underneath it. 
Other approaches are focused on online image recognition and 
the 
corresponding 
convolutional 
neuronal 
network 
architectures to interpreted inline imagery. In [19], image 
recognition on IR cameras is used to preprocess the obtained 
images to than measure meld pool geometry using classical 
methods. Another example application for image recognition 
lays in detecting humps and valleys in the weld using a HDR 
camera sensing the process [20]. In [21], a very different 
approach is used. Here reinforcement learning is employed in 
order to control the geometry using inter layer scans of the top 
layer as an input.  
While the results of this are promising, they require to 
bring new sensory into the process, which on the one hand, 
may be costly, and become an additional source of system 
failure. Additionally, none of the presented approaches treats 
the measured sensory data as a time series. This is due to the 
architectures for the neuronal networks chosen. This paper 
overcomes this shortage by using a network architecture 
suitable for this task. In the past, Long Short Term Memory 
neuronal networks (LSTM) have proven to be very suitable 
for predictions based on time series data [22].  
While ANNs do stateless regression form a domain X to 
an image space Y, LSTM are able to internally keep a state 
based on the last observer sensory values X and perform a 
prediction of Y based on these past observations. In section II 
the used materials and methods for the welding experiments 
carried out and the used neuronal network will be described. 
Followed by Section III presenting the results and Section IV 
in which the results are discussed. 
II. 
MATERIALS AND METHODS 
To record the training and comparison data for the neural 
networks used, a "Fronius TransPuls Synergic 4000 CMT" 
welding power source was coupled with a robot from Kuka as 
an automated motion system and equipped with a laser 
triangulation displacement sensor type optoNCDT 1420 from 
MICRO-EPSILON for distance measurement. The current 
and voltage signals, as well as the distance measurement 
values were recorded with a "Scope Corder DL750" from 
Yokogawa. To create defined height differences in the 
substrate, the substrate plate was provided with elevations and 
grooves, Figure 1. 
The grooves are 4 mm deep and the elevations 4 mm high. 
The grooves and elevations have an angle of 90°. These 
selected defined changes are in the upper range of typical 
seam irregularities and seam defects. Depending on the choice 
of process adjustment variables, an GMA-weld can have a 
height of 1mm to 9mm and a width between 2.5mm and 
20mm.  
A total of ten welding tests were carried out. Welding was 
carried out across the tests as follows: 
 
Welding consumable:  
ISO14341-A-G 4Mo 
Wire electrode diameter:  
1.2 mm 
Shielding gas:  
 
82% Ar / 18% CO2 
Welding speed: 
 
55 cm/min 
Stick-out:  
 
 
15 mm 
Base material:  
 
S355 
 
The wire feeds, the resulting average current and voltage 
values and the set process can be taken from Table 1. In 
addition to different wire feeds, both the standard and the in-
pulse welding process were used. 
The experimental setup is sketched in Figure 2.a, with the 
welding direction out of the image plane. To measure the 
changes in distance between the displacement sensor and the 
substrate material, the arc of light was shielded from the 
sensor. Figure 2b shows a sketch of the substrate plate used. 
 
 
 
 
Figure 1: Side view of the base plate 
33
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

A. Methodology in the use of artificial intelligence 
The collected raw data of the 10 tests consist of the 
measured quantities: voltage [volts], current [amps] and 
distance [mm]. The measurement data of tests 3, 9 and 10 had 
to be discarded due to recording errors. Voltage and current 
are the input variables, with the help of which height 
differences should be indirectly predicted. To eliminate 
extreme outliers, a filter was applied. For the distance, values 
larger than 190 mm and smaller than 160 mm were removed. 
For voltage, values greater than 40 V and less than 10 V were 
eliminated. Furthermore, the distance measurement exhibits 
noise that occurs at regular intervals, with an amplitude of 
about +/-4 mm and a period of oscillation of a few 
milliseconds. Since the defined geometry irregularities are in 
a comparable order of magnitude, it is necessary to clean this 
noise to obtain good labels for training the LSTM. 
Furthermore, the input quantities have voltage and current 
typical characteristics with very high amplitudes and extreme 
values, which were identified as measurement errors. All three 
quantities were preprocessed in two steps. In the first step, the 
moving average method was used with a triangular weighting 
and a window width of 10,000 measurement points. In the 
second step, averaging was applied, reducing the total number 
of measurement points from about 3 million per experiment 
to about 900 to 1,000 measurement points. This eliminated 
most of the periodic oscillations and outliers. Figure 3 shows 
all three measured variables. For the illustration, the values 
were scaled in preparation for the training. By reducing the 
number of measurement points, the scaling of the x-axis 
(previously time) is lost. Only the sequence of data points is 
shown. It can be seen that there is a correlation between the 
input variables (current and voltage) and the output variable 
(distance). 
For each experiment, a model with the same network 
architecture was trained. As a result, seven models were 
available, each of which was trained on one experiment.  
The input values are stored as a three-dimensional tensor, 
whereby a label with a corresponding distance measurement 
is available for a series of data. During the learning process, 
the neural network looks at the past 50 values (the time 
window chosen in this analysis) and deduces the current 
distance from the torch to the workpiece. Since the input is a 
sequence of current and voltage values and only one distance 
value is to be predicted, a funnel-shaped architecture of the 
LSTM was chosen. The models were implemented in Python 
TABLE 1: EXPERIMENTAL CONDITIONS  
Run. Nr. 
Wire feed speed 
Current 
Voltage 
Welding Mode 
1 
4,5 
93 
17,0 
Impulse 
2 
4,5 
93 
17,0 
Impulse 
3 
4,5 
93 
17,1 
Impulse 
4 
4,8 
136 
14,5 
Standard 
5 
4,8 
136 
14,5 
Standard 
6 
4,8 
136 
14,6 
Standard 
7 
7,0 
171 
16,2 
Standard 
8 
1,7 
37 
14,7 
Impulse 
9 
1,7 
37 
14,2 
Impulse 
10 
1,7 
37 
15,2 
Impulse 
 
 
 
(a) 
(b) 
Figure 2: principle sketch of the experiment: a) experimental setup, b) substrate plate 
 
34
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

using 
the 
KERAS 
framework. 
The 
corresponding 
parameterization of the network with two layers and neurons: 
Layer_1 = 50 and Layer_2 = 20. There is only one neuron in 
the output layer, this one carries the value of the distance. The 
"Mean Squared Error" serves as the "loss function" or cost 
function and "ADAM" was chosen as the method of stochastic 
optimization. Only for experiment 7 a bias regulator (L2=0,1) 
was used additionally, because the model showed typical 
signs of overfitting. All models were trained over 500 epochs, 
with a batch size of 60.  
III. 
RESULTS 
Within the experiments, the first two thirds were used as 
training data. On the last third, the model was tested (see 
Figure 4). In addition, the generalization of the models 
between the experiments was tested. This was only successful 
between trials with the same procedure (impulse or standard). 
In each case, the models were applied to an entirely different 
data set. Figure 5 shows the Mean Absolute Deviation (MAE) 
of the models (rows) when applied to the different tests 
(columns) for the tests with impulse (a) and standard (b) 
methods. This can be interpreted as the mean deviation of the 
predicted profile from the actual profile. The maximum 
deviation is 0.29 mm, the minimum 0.18 mm.  
The models perform differently if used to predict profiles 
of experiments not used for training. The mean absolute error 
form most cases (except for experiment 8), remains well 
below one millimeter, even in this cross-experiment setup. 
Figure 3: Scaled and preprocessed measured values of experiment 1 
Figure 4: Prediction accuracy in the training and test area, experiment 1 
Figure 5: Mean Absolute Deviation of all tests 
Testing 
Training 
35
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

IV. 
DISCUSSION 
In the presented work, it was shown that the use of neural 
networks allows to estimate the substrate topography in 
GMA-welding with high accuracy. Furthermore, it was shown 
that even with a small number of training experiments and a 
limited database for different process variants, small 
deviations of the prediction from the actual value in the lower 
tenth of a millimeter range could be achieved. The work 
presented is promising. Therefore, they are to be extended to 
real welding tests and to the application in additive 
manufacturing using larger data bases and further process 
parameters such as the light emitted by the arc, as well as the 
melt pool size and the temperature distribution. Although the 
chosen LSTM network architecture proved to be capable for 
the application described, additional comparative experiments 
using a wide array of methods is needed. 
 
V. 
CONCLUSION 
The work conducted in this paper shows that the usage of 
a neuronal network for the prediction of the stick-out and/or 
the geometry of the topologies beneath the actual weld seam 
is possible. It was possible to generate the necessary database 
for teaching the network in only a few experiments. Even this 
relatively low number of experiments resulted in a prediction 
accuracy that is sufficiently precise for the application. As 
mentioned above one obvious direction for further work lays 
in transferring the approach from a single layer welding 
experiment to actual additive manufacturing in multiple 
layers. Another direction is to close the loop by implementing 
a controller based on the predicted subtopology to compensate 
errors. This is by no means trivial, since the control algorithm 
itself would interfere with voltage and current, thusly 
challenging the prediction capability of the network.  
 
 
REFERENCES 
[1] 
A. Richter, T. Gehling, K. Treutler, V. Wesling, and C. 
Rembe, “Real-time measurement of temperature and 
volume of the weld pool in wire-arc additive 
manufacturing," Measurement: Sensors 2021, 17, pp. 
100060-100069, doi:10.1016/j.measen.2021.100060. 
[2] 
K. Treutler and V. Wesling, “The Current State of 
Research of Wire Arc Additive Manufacturing (WAAM): 
A Review,” Applied Sciences 2021, 11, pp. 8619-8625, 
doi:10.3390/app11188619. 
[3] 
S. Singh, S. K. Sharma, and D. W. Rathod, “A review on 
process planning strategies and challenges of WAAM,” 
Materials Today: Proceedings 2021, 47, pp. 6564-6575, 
doi:10.1016/j.matpr.2021.02.632. 
[4] 
C. Xia, et al., “A review on wire arc additive 
manufacturing: Monitoring, control and a framework of 
automated system,” Journal of Manufacturing Systems 
2020, 57, pp. 31-45, doi:10.1016/j.jmsy.2020.08.008. 
[5] 
R. Ehlers, K. Treutler, and V. Wesling, “SAT Solving 
with Fragmented Hamiltonian Path Constraints for Wire 
Arc Additive Manufacturing,” In Theory and Applications 
of Satisfiability Testing - SAT 2020; Pulina, Hofmann, 
Eds.; Springer International Publishing: [S.l.], 2020; pp. 
492-500, ISBN 978-3-030-51824-0. 
[6] 
A. Chabot, M. Rauch, and J.-Y. Hascoët, “Towards a 
multi-sensor monitoring methodology for AM metallic 
processes,” Weld World 2019, 63, pp. 759-769, 
doi:10.1007/s40194-019-00705-4. 
[7] 
C. Halisch, T. Radel, D. Tyralla, and T. Seefeld, 
“Measuring the melt pool size in a wire arc additive 
manufacturing process using a high dynamic range two-
colored pyrometric camera,” Weld World 2020, 64, pp. 
1349-1356, doi:10.1007/s40194-020-00892-5. 
[8] 
X. Wang, A. Wang, and Y. Li. „An online surface height 
measurement 
method 
for 
GTAW-based 
additive 
manufacturing,” Weld World 2020, 64, pp. 11-20, 
doi:10.1007/s40194-019-00813-1. 
[9] 
A. Waqas, X. Qin, J. Xiong, H. Wang, and C. Zheng, 
„Optimization of Process Parameters to Improve the 
Effective Area of Deposition in GMAW-Based Additive 
Manufacturing and its Mechanical and Microstructural 
Analysis,” 
Metals 
2019, 
9, 
pp. 
775-798, 
doi:10.3390/met9070775. 
[10] 
K. Treutler, S. Kamper, M. Leicher, T. Bick, and V. 
Wesling. “Multi-Material Design in Welding Arc 
Additive Manufacturing,” Metals 2019, 9, pp. 809-823, 
doi:10.3390/met9070809. 
[11] 
D. Bratzel, S. Wittek, A. Rausch, K. Treutler,  T. Gehling, 
and V. Wesling. „Using AI Methods for Subtopology 
Detection in MSG-Welding“ i.o. „Nutzung von KI-
Methoden 
zur 
Geometriedetektion 
beim 
MSG-
Schweißen,“ 
In 
Tagungsband 
4. 
Symposium 
Materialtechnik; 
Clausthaler 
Zentrum 
für 
Materialtechnik, Ed.; Shaker Verlag: Düren, 2021; pp. 
127–136, ISBN 978-3-8440-8021-6. 
[12] 
G. O. Barrionuevo, S. Rios, S. W. Williams, and J. Andres 
Ramos-Grez, “Comparative Evaluation of Machine 
Learning Regressors for the Layer Geometry Prediction in 
Wire arc Additive manufacturing,” In 2021 IEEE 12th 
International Conference on Mechanical and Intelligent 
Manufacturing Technologies (ICMIMT); IEEE, 2021; pp. 
186-190. 
[13] 
J. Deng, Y. Xu, Z. Zuo, Z. Hou, and S. Chen, “Bead 
Geometry Prediction for Multi-layer and Multi-bead Wire 
and Arc Additive Manufacturing Based on XGBoost,” 
36
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

Transactions on Intelligent Welding Manufacturing; 
Springer, Singapore, 2019; pp. 125-135. 
[14] 
C. Wacker, et al. , “Geometry and Distortion Prediction of 
Multiple Layers for Wire Arc Additive Manufacturing 
with Artificial Neural Networks,” Applied Sciences 2021, 
11, pp. 4694-4709 , doi:10.3390/app11104694. 
[15] 
Q. Wu, T. Mukherjee, A. De, and T. DebRoy, “Residual 
stresses in wire-arc additive manufacturing – Hierarchy of 
influential variables,” Additive Manufacturing 2020, 35, 
pp. 101355-101327, doi:10.1016/j.addma.2020.101355. 
[16] 
C. Xia, et al., “Modelling and prediction of surface 
roughness in wire arc additive manufacturing using 
machine learning,” J Intell Manuf 2021, pp. 1-16, 
doi:10.1007/s10845-020-01725-4. 
[17] 
A. Yaseer and H. Chen, “Machine learning based layer 
roughness modeling in robotic additive manufacturing,” 
Journal of Manufacturing Processes 2021, 70, pp. 543-
552, doi:10.1016/j.jmapro.2021.08.056. 
[18] 
P. K. Nalajam and R. Varadarajan, “A Hybrid Deep 
Learning Model for Layer-Wise Melt Pool Temperature 
Forecasting 
in 
Wire-Arc 
Additive 
Manufacturing 
Process,” IEEE Access 2021, 9, pp. 100652-100664, 
doi:10.1109/access.2021.3097177. 
[19] 
Y. Wang, et al., “Active disturbance rejection control of 
layer width in wire arc additive manufacturing based on 
deep learning,” Journal of Manufacturing Processes 
2021, 
67, 
pp. 
364-375, 
doi:10.1016/j.jmapro.2021.05.005. 
[20] 
C. Lee, G. Seo, D. B. Kim, M. Kim, and J.-H. Shin, 
“Development of Defect Detection AI Model for Wire + 
Arc Additive Manufacturing Using High Dynamic Range 
Images,” Applied Sciences 2021, 11, pp. 7541-7560, 
doi:10.3390/app11167541. 
[21] 
A. G. Dharmawan, Y. Xiong, S. Foong, and G. Song Soh. 
“A Model-Based Reinforcement Learning and Correction 
Framework for Process Control of Robotic Wire Arc 
Additive Manufacturing,” In 2020 IEEE International 
Conference on Robotics and Automation (ICRA); IEEE, 
2020; pp. 4030-4036. 
[22] 
F. A. Gers, J. Schmidhuber, and F. Cummins. “Learning 
to forget: continual prediction with LSTM,” Neural 
Computation 
2000, 
12, 
pp. 
2451-2471, 
doi:10.1162/089976600300015015. 
 
 
 
 
 
37
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-951-5
ADAPTIVE 2022 : The Fourteenth International Conference on Adaptive and Self-Adaptive Systems and Applications

