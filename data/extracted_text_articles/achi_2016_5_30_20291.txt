Video Game Story Analysis Using Layered Graphs and Eye Tracking System
Iwona Grabska-Gradzińska 
Department of Games Technology
Jagiellonian University
Kraków, Poland
e-mail: iwona.grabska@uj.edu.pl
Abstract— This paper discusses the prospects of using layered
graphs and eye-tracking system for describing and analyzing
player activity and his/her decisions in video game stories.
Understanding how the game interface affects the user’s
decision is a very interesting problem, especially in the serious
game field, because of real-life applications of acquired skills.
Very often, the game winning strategies lead players to fall into
bad habits. Reasoning based on the formal game system gives
tools to game analysis and to collect information about players’
behavior for further analysis. Eye-tracking information, i.e.,
gaze plot and heat maps give us knowledge about user
perception of the game screen and helps with answering the
question: what has affected the user during the decision
making process? The main goal of the paper is to show
usefulness of the proposed model while answering the sample
questions about players’ decisions.
Keywords-game design; user decisions; narrations;
eye
tracking system; layered graph
I.
INTRODUCTION
During the narrative game design process, especially for
games with educational aim and real world dependencies and
knowledge base, there are a few conditions that are
extremely important. Scenarios and situations must be
authentic and adequate and push the player to act. The
scenarios should create the illusion of unlimited possibilities,
but they should be precisely connected with the scope of
knowledge and trained skills. It should be possible to replay
and to explain the meaning of the winning strategies [1].
The comparison of user decisions in the game and in the
real life is connected with both problems of the real life
object representation in the game and the problem of the
perception of the Heads-Up Display (HUD) elements. The
challenge is how to prepare the “computable” model, i.e, the
one which helps us compare different players’ activity as
well as connect user physiological reactions (eye perception)
with the decisions taken.
The holistic model is based on the gameplay graph that
represents the current state of the game. Different groups of
elements can be identified: e.g., characters, locations, items
and abstract narrative elements. These four categories reflect
how players perceive games [2]. These elements could be
identified in traditional narratives as well, but such formal
models were not needed for their analysis. The usage of such
model is connected with gameplay based on user’s decision
while comparing user’s strategies. Our aim was to make all
these elements uniform – so our model would process
elements in the same way. Player actions and all other
interactions in this world are denoted by connections
between these elements [4].
Decision making process is correlated with elements
available in the game, especially those noticed on the screen
at the moment of decision making (others had to be seen
prior)
and
player’s
general
knowledge.
Especially
in
narrative and serious games, it is extremely important to
examine why the user picks a certain game strategy and
condition of decision process. Researchers can speculate on
them using two elements of a given system: typical
sequences of gameplay graph states and information from
the eye-tracking system.
A. State of the art
Eye-tracking is more and more often used in research
game studies, especially as a game controlling device. Many
researches were conducted ease, immersion and player
satisfaction while using eye-tracker as input device, e.g. as
described in [16]. Eye-tracker as an evaluation tool was also
used in research studies to investigate the visual search
patterns and heap maps describing the main area of interest
on the screen [18]. The most popular approach is to collect
heat map data and take into consideration the player activity
throughout the game.
The approach presented in this paper is based on the
dependence between the gaze direction immediately before
decision. This approach is possible due to the graph of user
strategy connected with the eye-tracker data. The gaze
patterns and decision-making patterns can be associated in
this approach.
B. Research goals
The research goal is to find a correlation between players
eye-movement patterns and decision-making actions during
the gameplay. During the work, the simple adventure game
developed in the Department of Games Technology at
Jagiellonian University was tested on a group of students and
a question about their decision on choosing one of the three
strategies was asked. The purpose of the research works is to
show which elements of the user interface influenced the
user’s decision and which are useless in this context. The
idea of the graph representation of the game state is
presented in Section II and formal definitions are explained
105
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-468-8
ACHI 2016 : The Ninth International Conference on Advances in Computer-Human Interactions

in Section III. Sections IV and V show the experiment and
implementation details and describe user-game interactions
noticed during research, especially the visual elements
influence controlled by the eye-tracking system. The last two
sections describe conclusions and future development.
II.
GAMEPLAY GRAPH
The basis for our further considerations will be a
gameplay graph, showing the game state in a specific
moment. It has been developed on a layered hierarchical
graph due to the expansions of the graph structure that layers
and hierarchies offer. Layered graphs have been used in
research models [5] and in video game design [6].
A. Structure homogeneity
First, as mentioned, the representation of the story with
graph nodes and edges is inherently arbitrary. Our goal was
to make it intuitive and homogeneous at the same time. It
means that all nodes and edges are identical in their
structure, so any transformation in the game world is
processed in the same way, independent from its narrative
meaning.
B. Graph representation
The key for understanding the universe of discourse is
the game world with its current state. It is quite intuitive,
because video game is commonly imagined as a virtual
reality – simulation of the elements of the real world [3].
Two types of edges are distinguished: internal edges between
nodes of the same layer and external edges between different
layers. The external relational structure for the game world is
represented by means of the layered graph. Figures 1 and 2
show the general structure of the used graph model and its
specific subsets. Figure 1 shows the general horizontal
dependences between subsets in the game word structure
elements of which layers interact with each other and which
can be embedded. Figure 2 shows the vertical segment of the
graph (a sheaf graph), elements of all layers describing the
character.
Figure 1. An example of a layered graph structure.
Figure 2. A sheaf graph – an arrangement of the structure
The research mode of the gameplay shows how the graph
model changes after every player’s decision. Researcher can
investigate single players activity, creation and destruction of
the edges in the graph or seek for activity patterns e. g.
picking up items, changing locations, etc. it is possible to
calculate time between different activities and other factors.
III.
FORMAL DEFINITIONS
Graphs used for gameplay modeling were formally
defined in [7][8], which in turn were inspired by [9][10].
According to them let us define the terms.
Let L be an alphabet of labels for nodes and edges. Let A
be a nonempty, finite set of attributes.
Definition 1. A hierarchical graph is a system
 
G = (V, E, s, t, ch, lab, atr), 
(1) 
where:
•
V and E are finite disjoint sets of nodes and edges,
respectively,
•
s : E →V and t : E →V are edge source and target
functions,
•
ch : V ∪ E → 2V∪E is a child nesting function
•
lab : V ∪ E → L is a labeling function, and
•
atr : V ∪ E → 2A is an attributing function.
Def. 1 determines types of attributes for nodes and edges. A
graph instance needs values of attributes and is defined as
follows:
Definition 2. Graph G or is layered if and only if:
∀ x ∊ V : lab(x) ∊ Yi ⇒ lab(V ∩ ch+(x)) ∊ Yi  
(2) 
(i.e., a node and all its descendant nodes have labels from the
same layer).
IV.
GAME STORY STRUCTURE AND USER DECISIONS
ANALYSIS
A. User strategy graph
Commercial video games use high performance game
engines, so graph-based models would not be used beyond
design phase. The main goal of this model is to analyze
player strategies through simpler graph structure – user
strategy graph.
106
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-468-8
ACHI 2016 : The Ninth International Conference on Advances in Computer-Human Interactions

Knowledge is strong limitation for a player, whose
design activity involves manipulating on the word state
using elements of the language over the vocabulary [10]. As
we compare the graphs created – unconsciously – by the
player, we can analyze these productions.
B. Participants
Data was collected during the sessions of gameplay
(students of the Jagiellonian University and the author). The
used equipment was The Eye Tribe tracker (specification in
[15]).
The game is based on Polish folktale, where a young
shoemaker slays a dragon by feeding it sulfur-stuffed sheep
(by being a shoemaker, he can easily sew the sheep back
together). Apart from this, we have added a way of killing
the dragon by conventional armed force. There are two
versions of the game, each promotes one solution over the
other. The relative difficulty between victory paths in these
versions, as well as player performance are the focus of our
ongoing research.
The player takes the role of the young Shoemaker and
his quest is to defend the land against a Dragon. After doing
it, he may marry the Princess and has the right to rule the
land as a consequence.
C. Implementation
The
model
is
currently
developed in
the
Games
Technology Department of Jagiellonian University. The
game engine was built in C++ using Qt5 [18]. The
communication with the eye-tracking system (The Eye
Tribe tracker, 60 Hz, with latency <20 ms) was established
with open Application Programming Interface relying on the
standard
TCP/IP
protocol
using
open-source
Node.js
runtime environment.
V.
EXAMPLES OF USER-GAME INTERACTIONS
Thanks to the graph model, it is now possible to
connect user decision moments with the specific game state
and exact sequence of eye movements preceding the
moment of the decision.
There were three main factors influencing players
during the decision making process:
•
textual scene characteristic with hints and
characters dialogs,
•
visualization
of
game
scene
and
player
condition (e.g., equipment, lives),
•
players general knowledge.
In most cases, deliberated decisions were based on
these factors. Of course, there are decisions made by
chance, as a result of free exploration of the game world.
A. Free exploring effects
The group of players can be indicated with specific
user strategy graph: many visited locations (significantly
more then others), some of the locations visited repeatedly,
but in unusual order (other players choose mostly one of a
few sequences of locations visited). Additionally, the time
of each visit was rather short.
B. General knowledge influence
In general, it is hard to prove that some players’ actions
arise due to general knowledge, not the game hints. An
interesting result of analyzing user strategy graph was
finding a fault in the story by our students. Their task was to
complete the game and they had several different paths to
do so. Some of them were stuck in a dead end when they fed
a sheep to the dragon. The sheep was designed to be fed to
the dragon, but according to the original story it should have
been stuffed with sulfur before. Designers knew the story
and did not try to feed the dragon with a raw sheep.
However, some students did not know the story very well
and fed the dragon with the sheep (as the folktale said), but
they did not remember why, so they did not fill the sheep
with the sulfur. As a result, the Dragon was thrived and
killed the player.
C. Textual description influence
Getting information from texts or images in the
gameplay is impossible to deduce from the graph, but there
are sequences of eye-tracking data – gaze plot – preluding
each decision made in the game.
Due to eye tracking studies taken on part of the
participants, there are two main strategies of gathering
information: take into consideration images, then text (an
example is shown in Figure 3); take into consideration text,
then images (different direction of gaze plot, as shown in
Figure 4) or, surprisingly, taking into consideration only the
text (as shown in Figure 5). In the figures mentioned, yellow
numbers show the order of object examined before the
players take action (keyboard event).
Figure 3. Most participants first stare at the screen images, then
take a look at the text
107
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-468-8
ACHI 2016 : The Ninth International Conference on Advances in Computer-Human Interactions

Figure 4. Some participants have chosen a different order, first read
the text and then look at an image
Typical behavior in the difficult moments of the game
is to slow down (long time between state changes in the user
strategy graph) and to follow several times different
elements of the scene (textual and visual as well) with
player eyes (Figure 6.)
Figure 5. Surprisingly, a few participants did not take images
into consideration.
Figure 6. Typical process of looking for a solution of a difficult
situation in the game
D. Visual elements influence
In most cases, after gathering visual information from
the scene, the user has focused on the text and only then has
made the decision.
There was a way to check whether the visualization
bothered the reception of the gameworld or not. A scene
was prepared where text gives the user advice to take a bath,
but there was no visual hint to do so (Figure 7). This was the
least often chosen way in the entire the game.
Figure 7. Textual hint (indicated by the yellow ring) not
visualized in the image
A surprising result of eye-tracking data analysis is the
fact that no one noticed the equipment backpack located in
the right top corner of the screen (Figure 6: backpack with
the item, Figure 7: backpack without any items). No one
throws a single glance at it throughout the entire game. It is
undoubtedly the fault of the user interface designer.
VI.
FURTHER DEVELOPMENT
The next step of the planned research is to take into
consideration educational serious games where information
of the reasons of player decisions is extremely important
and affects the estimate of learning efficiency.
Another problem is to prepare player strategy graphs
not only in the games designed by researchers, but also for
popular commercial games (in the individual cases of
experiments participants, but in such way automatically).
Research field of further challenges is to find closer
correlations between sequences of user decisions (currently
collected in user strategies graph) and eye movement as a
signal
of
user
mental
state
(seeking
the
solvation,
determined, sure or lost, etc).
VII.
CONCLUSION
The proposed graph model can be considered as a tool
that can be used for testing storylines, as well as analyzing
user strategies. Thanks to automation and standardization,
several variations of a story can be reliably compared.
Players can also be surveyed for their strategies, perceived
difficulty level and general satisfaction with the stories.
108
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-468-8
ACHI 2016 : The Ninth International Conference on Advances in Computer-Human Interactions

Furthermore the graph-based mechanisms are easily
used for deduction in the assigned logic. Using this
approach to the universe of discourse gives us a way to
investigate designer intentions and decisions.
One of the outcomes of the eye-tracking research is the
unique possibility of comparing effects of the users
decisions made in the game.
ACKNOWLEDGEMENT
The project has been (partially) supported by the grant
of the Polish Ministry of Science and Higher Education
number 7150/E-338/M/2015).
REFERENCES
[1]
C. Aldrich, Simulations and Seriuos Games, 2002.
[2]
J. Juul, “What computer games can and can't do”, Digital Arts
and Culture conference in Bergen, 2000.
[3]
J. Huizinga, Homo Ludens, 1955.
[4]
I. Grabska-Gradzińska, B. Porębski, W. Palacz, and 
E. Grabska, “Towards a graph-based model of computer
games”, AITC 2012, pp. 34–39.
[5]
J. Dormans and S. Bakkes, “Generating Missions and Spaces
for
Adaptable
Play
Experiences”,
IEEE
Trans.
on
Computational Intelligence and AI in Games, 2011, pp. 216–
228.
[6]
A. Paszyńska, E. Grabska, and M. Paszyński, “A Graph 
Grammar Model of the hp Adaptive Three Dimensional Finite
Element Method”. Fundamenta Informaticae, vol. 114 no. 2,
2012, pp. 149–182.
[7]
I. Grabska-Gradzińska, B. Porębski, W. Palacz, and E. 
Grabska,
“Graph-Based
Data
Structures
of
Computer
Games”, Procedings of CGAT 2013, DOI: 10.5176/2251-
1679_CGAT13.22
[8]
W. Palacz, “Algebraic hierarchical graph transformation”,
JCSS, 2004, pp. 497-520.
[9]
G. Rozenberg (ed.), Handbook of Graph Grammars and
Computing by Graph Transformation, World Scientific, 1997.
[10] R. D. Coyne, M. A. Rosenman, A. D. Radford, M.
Balachandran, and J. S. Gero, Knowledge-based Design
System, Sydney, 1990.
[11] S. Staab and R. Studer, Handbook on Ontologies, Springer
2009
[12] N. H. M. Zain, F. H. A. Razak, A. Jaafar, and M. F. Zulkipli,
“Eye tracking in educational games environment: evaluating
user interface design through eye tracking patterns”, Visual
Informatics: Sustaining Research and Innovations 2011, pp.
64–73
[13] C. Conati, N. Jaques, and M. Muir, “Understanding Attention
to Adaptive Hints in Educational Games: An Eye-Tracking
Study”, Artif Intell Educ (2013) 23, pp. 136–161
[14] A. Duchowski Eye Tracking Methodology: Theory and
Practice, Springer-Verlag New York, Inc. Secaucus, NJ, USA
2003 Berlin 2003
[15] https://theeyetribe.com/ [accessed March 2016]
[16] J. D. Smith, T.C. N. Graham,
“Use of eye movements for
video game control”. Proceedings of the 2006 ACM SIGCHI
international
conference
on
Advances
in
computer
entertainment technology 2006.
[17] S. Almeida. Augmenting Video Game Development with Eye
Movement Analysis. Universidade de Aveiro 2009
[18] http://doc.qt.io/qt-5/ [accessed March 2016]
109
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-468-8
ACHI 2016 : The Ninth International Conference on Advances in Computer-Human Interactions

