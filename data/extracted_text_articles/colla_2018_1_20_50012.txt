The Integration of Home Collected Data 
into the Veterans Administration Health System 
The Home Telehealth VistA Integration Project: The Validation of New Components 
George C. Blankenship, Jr.  
Consultant to Home Telehealth IT PMO 
Alexandria, Virginia 
e-mail: BlankenG@GWU.edu 
 
Ellen Hans 
U. S. Department of Veterans Affairs 
Home Telehealth IT PMO 
Silver Spring, Maryland 
e-mail: Ellen.Hans@VA.gov 
 
Abstract—In 2004, the US Department of Veterans Affairs 
(VA) was confronted with the creation of an enterprise 
application based upon multiple triage systems supplied by 
vendors who had dramatically different levels of experience 
with system integration or with the Health Level 7 
International Standard (HL7).  One objective of the Home 
Telehealth application was to leverage the capabilities of the 
existing VA Electronic Medical Record (EMR) system and 
medical software wherever possible.  To accomplish this 
objective, a strong integration approach was required.  The 
selected approach was the development of a reference engine 
that could be used to validate the communication between 
existing VA medical applications and the newly procured 
triage systems. This paper describes the validation approach 
used to evaluate a procured system’s readiness to operate in 
the collaborative environment of VA’s enterprise medical 
record system of over 200 distinct independent systems.  The 
paper represents the opinion of the authors and is not a 
statement of any official position of the VA. 
Keywords-telehealth; home telehealth; telemental health; 
HL7; CCOW; protocol validation; realtime HL7 transactions; 
collaborative processing; system validation. 
I. 
INTRODUCTION 
The introduction of new components into an existing 
mature distributed environment is a complex problem.  The 
objective is that the new component performs its task 
reliably and without adverse impact on the distributed 
environment.  To achieve this result there must be a thorough 
system validation prior to placing the system in production.  
It is generally acknowledged that key to a well-behaving 
system is adherence to a System Development Life Cycle 
(SDLC) model; that the creation of a well-formed 
requirements document set, a well-formed testing plan, and 
the development of a testing laboratory.  The requirements 
document must be complete and accurate; however, all 
documentation is stale the minute it is published.  The 
documentation can be validated by a test the existing 
systems; this validation is beyond the subject of this paper.  
The validation plan for the new components should cover all 
the transactions with cases that include normal expected 
valid messages and exceptional conditions, such as those that 
create retransmissions and those that indicate an error.  The 
testing must include the building and processing of 
messages, the movement of message, and the building and 
processing of transactions; that is, the testing sequences must 
cover both normal sequences (error free) and exceptional 
sequences (error indications).  With the testing of both valid 
processing sequences and the handling of exceptional 
conditions, there is a confidence that the existing 
environment will not be impacted by the introduction of a 
new or updated component.  This paper addresses the 
validation testing of an addition of a new telehealth 
component to an existing mature distributed medical 
distributed system.  The validation of the new system’s 
compliance with security requirements is a separate subject. 
Section II of this paper introduces the major systems 
involved in the home care and the interaction between the 
systems.  Section III describes the process used to validate 
that a procured system is ready to support patient care.  
Section IV discusses the acceptance testing challenges for 
the procured system.  Section V lists the major documents 
used to support the integration.  Section VI introduces the 
primary validation tool set.  Section VII discusses the lessons 
learned and future tasks. 
II. 
HOME BASED CARE 
A. Background 
The United States Department of Veterans Affairs (VA) 
[1] Home Telehealth program is clinically managed by the 
Office of Telehealth Services (OTS) [2].  The program is 
supported by the VA’s Office of Information & Technology 
(OIT) [3] Home Telehealth Program Management Office.  
The program uses a telemedicine approach for the care of 
patients with a chronic illness such as diabetes, congestive 
heart failure or chronic obstructive pulmonary disease.  Care 
is also provided for patients suffering from post-traumatic 
stress disorder.  A patient’s current medical condition is 
collected using Interactive Voice Response (IVR) scripts, a 
specialized home device, and/or an intelligent mobile device.  
The collected information is sent to a triage system in a VA 
data center.  The triage system analyzes the submissions 
from each patient and creates a prioritized list for the care 
nurses; that is, the triage system orders the nurse’s medical 
care.  The nurse uses the clinical desktop (Graphical User 
Interface/GUI) to monitor the patient condition and direct 
patient care for a panel of over one hundred patients.  
B. VA Health Care 
The Veterans Health Administration (VHA) is America’s 
largest integrated health care system, providing care at 1,243 
7
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

 
health care facilities, including 170 medical centers and 
1,063 outpatient sites of care of varying complexity serving 9 
million enrolled Veterans each year.  VHA has an integrated 
health system based upon a distributed Electronic Medical 
Record (EMR) system that allows clinical personnel to 
access all patient data that has been collected at any VHA 
medical facility in the US and abroad.  Each of the medical 
centers hosts an instance of the medical record system.  The 
core component of the health system is the Veterans Health 
Information Systems and Technology Architecture (VistA) 
[4]; the clinical desktop for a VistA system is Computerized 
Patient Record System (CPRS).  A patient’s data can be 
presented as an aggregation independent of the original visit 
location.  The VHA’s approach to patient care is based upon 
the ability to access a patient’s complete medical record from 
any VHA location.   
C. The Home Telehealth Triage System  
The core component for the care of a patient in the home 
is a triage system supplied as a Commercial off the Shelf 
(COTS) system with the required modifications to meet the 
interface to VHA systems.  The COTS portion addresses the 
telemedicine componentry:   
1. the devices used by the patient to collect their 
current medical state,  
2. the system that performs the triage function to 
rank the patient needs, and  
3. the transmission components that transfer the 
collected data to the triage system.   
The development of the interface to the existing VHA 
systems is a task for the supplier; it would be very 
uncommon for a supplier’s system to support HL7.   
The VA supplies the necessary documentation defining 
the HL7 encoding specifics and all the transactions used to 
allow the integration of the supplied triage system with the 
VistA environment.  All communication with VA systems is 
based upon HL7 messaging as defined in the HL7 2.4 
standard with the specific definition of each HL7 message 
field as would be required for any usage of a standard.   
The 
distributed 
environment 
is 
an 
autonomous 
environment where systems perform an automatic recovery 
from exceptional conditions.  This expectation is a normal 
requirement for systems have an associated urgency, such as 
a medical care system.  The movement of each message 
includes confirmation of receipt within an appropriate 
period; if the receipt confirmation is not received, the 
message is retransmitted automatically. A transaction is 
normally moved in a single message; however, some 
transactions require multiple messages. The processing of a 
transaction generates a completion status message; that is, 
the transaction was, or was not, processed successfully.  
Once again, if the completion message is not received within 
an appropriate period, the transaction will be retransmitted.   
The consequence of these processing rules is that the overall 
system can operate autonomously with no manual 
intervention; manual intervention has a tendency to introduce 
undesired delay and unexpected problems.  A consequence 
of autonomous operation is that a violation may create 
havoc.  A misdirected message may cause indefinite 
retransmissions or an output queue stall; for example, a 
misdirected receipt confirmation would confuse the 
receiving system while causing the proper system to not 
empty its output queue causing a stall.  A system that does 
not retransmit a message due to a missing receipt 
confirmation will also experience an output queue stall. 
D. VistA Integration 
The telehealth component of the program is based upon a 
strong binding between the triage system and the devices 
used by the patient; that is, the triage system provider 
supplies the devices used by the patient and the analysis 
engine (the triage system itself).  VHA procures new triage 
systems periodically so that the latest technology is 
available. With each new award the program is confronted 
with the integration of multiple triage systems developed by 
suppliers with a varied amount of integration experience or 
HL7 experience.  Each triage system supplier also wishes to 
keep abreast of technology and clinical desires by providing 
new capabilities.  Depending upon the complexity of an 
upgrade, a new system validation may be required for such 
technology upgrades.  The clinical team may require a new 
set of data be sent from a triage system to the VHA EMR; 
that is, the clinical team may require a change in the VHA 
EMR environment interface.  The upgrade would also 
require a new validation of the triage system along with an 
update of the documentation. 
The objective of the triage system integration with the 
VHA EMR is to leverage the capabilities of the existing 
VHA EMR and medical software wherever possible.  The 
care providers (doctors and other clinicians) should not be 
required to access the clinical desktop of the triage system.   
The objective of the Home Telehealth VistA Integration 
project is the integration of the Home Telehealth triage 
systems into the VHA distributed processing environment.  
This is a real time sharing of data between an individual 
triage system and the VHA EMR systems.  This integration 
approach starts with the establishment of a patient record in 
the triage system using VHA identifiers and the 
synchronization of the patient identity using the VHA 
identity management system.  With a consistent identity, the 
triage system can send patient data collected at the home to 
VHA systems in a computable form so that the data can be 
used in standard VHA patient care analysis packages.  The 
triage system presents the collected information to VHA 
systems such that the information has the look and feel of 
data collected by any other VHA medical facility.  The data 
is then available to all VHA medical personnel and all the 
VHA medical outcomes analysis processing engines without 
requiring access to the triage system itself.  The end result of 
the integration requirement is the home care component of 
the patient’s medical program is not an isolated data island, 
but is a system integrated into the VHA’s approach to patient 
care. 
III. 
VALIDATION STRATEGY 
The fundamental elements of the SDLC approach is 
based upon 
8
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

 
1. the development of a document [7] that defines 
all the transactions used by the Home Telehealth 
program,  
2. a reference engine that implements all the 
transactions and processing rules defined by the 
document, and  
3. a validation test plan.   
The document supplements the HL7 and CCOW 
standards with the specific VHA encoding definitions and 
processing rules.   
The reference engine emulates a triage system to existing 
VHA systems to validate the transactions and encoding 
definitions.  The reference engine also emulates VHA 
systems to a triage system to validate the conformance and 
operation of the triage system's HL7 engine and transaction 
processing.  This use of a single reference engine presents a 
reliable base for the evaluation of the triage system 
integration into the mature VHA distributed processing 
environment.  
The triage system validation is performed in three phases.  
The first two phases are directed by a set of functional 
validation objectives in two different testing laboratories.  
The third phase is a slow start deployment of patient care to 
minimize risk.  The focus of this document is the first phase 
of the validation. 
The first phase is performed in an External Integration 
Test Laboratory (EITL).  The EITL contains a full emulated 
environment of the VHA systems and software that would 
peer with a triage system.  The EITL is accessible via the 
Internet allowing the System Under Test (SUT) to be in its 
own laboratory.  The experience gained since the program’s 
inception in 2005 is that successful real time processing 
(autonomous processing) of transactions requires reliable, 
predictable and consistent performance of the HL7 engine 
and transaction processor in the triage system.  These 
required characteristics are achieved by the proper handling 
of exceptional conditions that occur during transmission and 
other events that occur during normal system operation.  The 
objective of the EITL laboratory testing is to verify that an 
SUT is capable of the real time processing requirements 
required for VistA Integration in the presence of anomalous 
conditions. 
The second phase is performed in the VHA Integration 
Test Laboratory (ITL).  The ITL contains a full environment 
of the VHA systems and software that would peer with a 
triage system in production.  In the ITL, an SUT is evaluated 
while supporting test patients.  VHA clinicians evaluate the 
SUT clinical desktop; VHA IT staff evaluates system logs 
for proper system performance.  Anomalous conditions are 
not generated in the ITL unless there is a defective 
application. 
The third phase is a limited national release (controlled 
release) of a production version using a slow start approach.  
The production system is first brought into use at a single 
VHA facility for Home Telehealth patient care for a five-
week evaluation period.  A second and the third facility are 
added to the environment at weeks three and four as the 
testing progresses.  The operation is evaluated at the end of 
each week.  At the end of evaluation period, national use is 
authorized for all 170+ VHA major medical facilities and 
their subsidiary treatment centers 
IV. 
ACCEPTANCE TESTING CHALLENGES 
A. Program Start Up Consequences 
The program started in 2004 as a set of pilot programs 
ended and the national program started.  The program 
approach was based upon the procurement of a set of triage 
systems from suppliers experienced in providing remote 
home health care, but little experience with HL7; thus, the 
initial stand up did not include VistA Integration.  Patient 
identity and demographics information was manually entered 
into the triage systems.  The impact of the manual entry of 
the patient identity was keystroke errors and the copying of 
the wrong information from other system displays.  
Unreliable data entry creates a problem when a clinician 
wishes to correlate data in the triage system with data in the 
VHA EMR.  Our research found that the error rate for 
manually entered patient information was 7%.  The end 
result of the manual entry of patient identity in the triage 
system was the duplication of patient records and orphaned 
patient records in the triage system.  The impact of the errors 
has haunted the program since 
its inception; the 
identification of orphan records is a difficult task.   
B. Acceptance Testing Approach 
It is well recognized that acceptance testing is required 
for a distributed processing environment.  This testing is 
generally a duplication of the Software Quality Assurance 
(SQA) testing of software in the second phase of the SDLC 
model.  VHA has a testing lab that mimics the operational 
(production) environment.  It includes  
1. multiple medical record systems instances 
(VistA),  
2. an identity management system (Master Patient 
Index/MPI or Master Veteran Index/MVI),  
3. a medical database system (Health Data 
Repository/HDR),  
4. a patient census and survey repository system 
(Census and Survey/CNS),  
5. a patient database, and  
6. other various systems.   
The focus of this lab (Integration Test Lab/ITL) is the 
SQA testing of VHA applications and the validation testing 
of procured systems.  There is no capability to generate 
abnormal conditions since the ITL is a replication of the 
operational environment (“real world”).  No system in the 
operational 
world 
intentionally 
generates 
exceptional 
conditions; no system creates conditions that require a 
recovery from an exceptional condition.  It is this property 
that prevents an environment, such as the ITL the deep 
inspection for the validation of a new system and some 
system upgrades.  Due to these limitations, the Home 
Telehealth program decided to create the EITL which is 
designed to generate anomalous conditions during a test. 
9
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

 
C. VistA Integration Challenges 
VistA Integration uses messages defined by Health 
Messaging Level 7 International Standard [5] (HL7) to 
communicate with VHA medical systems and HL7 Clinical 
Context Object Workgroup [6] (CCOW) defined application 
context control to integrate the triage system clinical desktop 
with the standard VHA desktop applications.  VHA has an 
extremely mature HL7 environment.  The first challenge of 
the integration is the verification that a triage system has an 
HL7 engine implementation that would allow the integration.  
The emulator was developed to perform the verification.  
The second challenge is the implementation of a CCOW 
environment for the triage system clinical desktop.  The 
solution of these two challenges allowed the program to start 
the piloting of VistA Integration.  
D. Data Collection Challenges 
The triage system receives data from multiple sources 
within the home.  The use of this data requires that the triage 
system maintains an appropriate data quality inspection 
identifying a questionable submission.  The triage 
computation is based on an accurate collection from the 
home.  The data sent by the triage system to the VA 
databases must be an accurate representation of the patient 
state.  The triage systems are time synchronized with the 
VHA systems and all end devices are synchronized with time 
servers either directly or via the triage system.  However, 
some of the devices can be used in a disconnected mode with 
internal power and a manual configuration.  The user might 
have to initialize the end device.  The disconnected operation 
of end devices allows for the device to lose time 
synchronization with the triage system.  The device itself 
might fail and present an incorrect reading.  The patient 
might make a transcription error when the reading the value 
for a manual entry.  Entries with an error are sent to VA 
databases with an indication of “entered in error”; thus, the 
entry will be tracked, but not used. 
E. Autonomous Processing Challenges 
The system concept is that the triage systems operate 
autonomously.  The guiding tenet for any system must be 
based upon Jon Postel’s guidance “an implementation must 
be conservative in its sending behavior, and liberal in its 
receiving behavior.”  Every system must focus on the 
generation of correct and accurate messages; however, a 
system must be prepared for the messages received from the 
real world.  The real world is imperfect and capable of 
corrupting transmissions in an unpredictable manner. 
F. Validation Testing Approach 
The Home Telehealth program is providing daily care to 
patients that are not in a medical facility.  The objective of 
the program is to improve the medical condition of the 
patient or provide the necessary medical care that will 
address the patient’s current condition.    It is most important 
that the readings are presented in a timely manner along with 
the triage analysis is available promptly.  The system must 
be able to deal with an exceptional condition, such as a 
communication error, a message with questionable data, or 
processing that is delayed.  All the exceptional conditions 
mentioned above have led the program to adopt a more 
exhaustive approach to the acceptance criteria of a triage 
system.   
V. 
DOCUMENTATION 
The guiding document for the integration of a procured 
triage system with the VHA EMR is the Home Telehealth 
HL7 Functions Overview [7].  The Home Telehealth VistA 
Integration Test Plan defines the individual tests. All 
documentation is available upon request. 
VI. 
REFERENCE ENGINE 
The development of the reference engine started in late 
2004 when research indicated that there was no publicly 
available software package that would validate the 
processing of the transactions used to integrate an external 
system with the VHA processing environment.  The testing 
tool must provide for the ability to tailor each HL7 message 
field for a thorough inspection of the message processing.   
VistA Integration forces the triage system to slave patient 
identity to the MPI and not allow changes from any other 
source including the triage system clinical desktop.  There is 
the requirement to validate that the SUT will properly 
process an update of each component of an HL7 identity.  
The difficulty of the construction of the required tests to 
perform this task has the natural consequence of ignoring the 
test.  The reference engine was developed to perform such a 
task.   
TABLE 1. HOME TELEHEALTH TRANSACTIONS 
HL7 
Source 
Peer 
Function 
ADT-A04 VistA 
Triage 
Create a new patient record 
and/or activate patient care 
ADT-A03 VistA 
Triage Inactivate patient care 
QBP-Q22 Triage 
MPI 
Register with the MPI 
ADT-A24 
ADT-A31 
ADT-A43 MPI 
Triage Patient record update 
MDM-T02 Triage 
VistA 
Progress Note 
MDM-T02 Triage 
Survey Patient Survey Response 
MDM-T02 Triage 
Census Triage System Census 
ORU-R01 Triage 
HDR 
Patient Vitals Submission 
 
The reference engine (commonly call the emulator) 
includes the ability to perform as either a single triage system 
(triage system emulator) or a set of systems that exist the 
distributed medical system (VistA, MPI, HDR, Census and 
Survey systems emulator).  This approach guarantees that the 
reference engine is a system using the same operational rules 
for the communication with every system that exists in the 
distributed processing environment while allowing it to 
perform inspections of diverse components of the 
environment.   
The transaction set used in the Home Telehealth program 
are listed in Table 1.  The HL7 column lists the HL7 
message used for the transaction.  The Function column 
describes the purpose of the transaction.  The Source column 
10
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

 
indicates which system of the distributed processing 
environment would generate the transaction.  A triage system 
emulator would be used to validate the processing rules 
described in the program documentation or participate in the 
testing of a new application or capability; Section VI.A 
describes the operation and objectives of a triage system 
emulator. A medical system emulator would be used to 
validate the processing by a triage system or generation of 
transactions by the triage system; Section VI.B describes the 
processing and objectives of a medical system emulator. 
A. Triage System Emulation 
 The triage system emulator was used to validate that the 
Home Telehealth HL7 Functions Overview did indeed reflect 
the operation rules for the VHA systems.  The development 
was started in late 2004 and the initial validation of the 
program documentation was completed in early 2005.  The 
capability of the reference engine to generate any transaction 
with all appropriate HL7 message movement proved to be 
extremely useful and supplied a unique tool for development 
teams.  This capability was first used in the spring of 2005 to 
aid the development of the VistA component that receives 
patient progress notes from external systems.  
 
Figure 1: Reference Engine GUI (Triage System Application) 
Figure 1 shows the GUI (desktop) for the triage system 
emulator.  The figure shows the current GUI as of 2018; 
there have been many revisions since the emulator was used 
in 2005.  At the bottom are six rows of widgets used to select 
configuration items and transactions to be generated.  The 
triage system facility number is shown in the first row.  The 
second row identifies the peer system to receive a transaction 
generated by the emulator.  The third and fourth rows 
identify the patient or patients that are in a transaction.  The 
bottom two rows are used to select an asynchronous 
transaction to be sent to the peer system (see Table 1).  The 
GUI is common for both emulation modes and buttons that 
are not applicable in the current mode are disabled.  A button 
from the bottom two lines is used to select the HL7 message 
to be sent.  Some exception conditions can be injected by use 
of the Error Generation menu item at the top of the GUI.   
The triage system emulator processes all transactions 
autonomously as would a real triage system.  The following 
paragraph describes the processing of a patient activation by 
a triage system. 
The ADT-A04 transaction establishes a new patient to be 
serviced or activates an existing patient for service.  The 
transaction is sent by a VistA system to a triage system.  The 
triage system must register with the MPI.  A successful 
registration would allow the activation to be successfully 
completed by the triage system.  The processing rules 
include the following three items.   
1. The processing of the transaction must not cause 
a data conflict in the triage system database.  
2. The MPI can identify the patient; that is, the 
registration is successful. 
3. All components of the patient identity are 
consistent with the MPI.  
This transaction is used as an example due to its complexity 
and the global impact of a violation.  If the rules are not 
followed, multiple peer applications will not be able to 
process transactions from the triage system.  There are three 
unique identifiers used in the VHA medical record: a VA 
national identifier, a US government national identifier, and 
a medical center identifier.  Every medical record must 
contain the same set of identifiers for patient identification.  
The Home Telehealth program uses the VA national 
identifier for patient identification. It sends transactions to 
other applications that use one of the other two identifiers.    
With the successful processing of the activation message, the 
triage emulator will be able to process received transactions. 
B. Medical Record System Emulation 
The original objective that started the development of the 
reference engine was the necessity to validate that a procured 
triage system did, indeed, meet the requirements.  From the 
beginning it was obvious that the only approach was a “black 
box” approach; that is, it would not be possible to instrument 
the SUT.  The validation engine started out in 2005 with the 
generation of correct data in all transactions sent to the SUT 
and the ability to force retransmissions.  
The 2005, a validation required that each test was 
controlled using the widgets.  The validation started in May 
of 2005. The National Rollout of the first validated triage 
system started in August of 2005.  During the first three 
years of the program rollout, conditions were encountered 
that led to the consideration the development of an 
automated test generation and scoring component; time and 
resources always postponed the work.  Most of the 
conditions are discussed in the earlier sections of this paper.  
For a system to be reliably capable of error recovery, a test 
tool must exist that can create the exceptional conditions on 
command.  Every few years new triage systems were 
procured.  With each procurement the test coverage was 
expanded.  With the improvements and correction were 
made over the years, the validation was strengthened.  There 
was one glaring problem; the testing was a manual effort.  
Each test was built through the GUI.  The scoring of the test 
generally required a manual examination of the system log 
file.  The process was very tedious.  At the same time, while 
the improvements did uncover latent problems, the most 
vexing problems remained as troublesome issues in 
11
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

 
production.  The problems were of a very low occurrence in 
the production world and did not apparently cause patient 
care issues; thus, the problems remained a discussion items 
in weekly conferences and buried by larger issues.  The 
problems seemed to indicate that the autonomous processing 
was flawed in selected systems.  A possible explanation over 
the years was improper recovery or improper processing 
sequences.   
For a system to be reliably autonomous, a test tool must 
exist that can generate the conditions that force a system to 
choose a transaction sequence order; the sequence should 
comply with the Atomicity, Consistency, Isolation, and 
Durability (ACID) database principles.  The use of more 
extensive testing required a major enhancement to the 
emulator.  In 2014, a major enhancement to the validation 
component of engine was finely started.  The enhancement 
was the addition of scripting component that would allow 
more complex tests to be generated with a minimal effort 
and the automatic scoring of tests results.  Before the 
development of the scripting component, the validation was 
performed using 140 distinct tests.  Each test had distinct 
sequence of manual operations performed by the test 
conductor on the emulator GUI.  Due to time constraints, a 
successful validation required two to three months; if any 
issues were uncovered, the validation period increased.  In 
late summer of 2014, the first usable component of the 
scripting was completed and used for an ongoing validation.  
The addition was based upon the use of a publish and 
subscribe component in the core of the emulator.  This 
component was always intended to instrument a system 
based upon the core software but had not been used in the 
emulator.  The addition of a component that subscribed to 
change in the processing state of the engine allowed for the 
monitoring of messaging flow; the scripts supply the 
expected state using a finite state machine approach and 
expected conditions. The result was the ability to generate a 
transaction sequence with scoring. 
The enhanced emulator immediately detected that the 
current SUT had ACID violations.  The SUT had been in 
service since 2005 and had just undergone a major revision 
requiring a re-validation.  Over the years, it experienced 
some 
strange 
problems 
that 
defied 
resolution 
or 
reproduction.  The system was finally identified a fatally 
flawed.  The development of the scripting was completed in 
early 2015.  The impact of using scripting was dramatic.  
The scripts for the almost 1,000 distinct tests were developed 
in a month.  The tests are bundled into test sets.  The test 
conductor starts a test set.  The test set identifies the 
preconditions for the testing.  After the preconditions are 
established, the tests run autonomously.  As each test 
completes, an error conditions generates an email to the 
triage system administrator.  Four new triage systems were 
validated in 2017 in a 6-month period.  
VII. CONCLUSION 
System validation in a distributed environment is a 
difficult and tedious task.  System components are developed 
in isolation.  The tools to build software components do not 
have the capability to reproduce the distributed environment; 
the testing focus is generally on the user interface (GUI) with 
a limited capability to simulate the communication with a 
remote system.  Many test cases just cannot be covered; 
many test cases cannot be defined.   
The development of the Home Telehealth emulator 
enabled the validation phase of the program SDLC to 
approach a realistic evaluation of the readiness of a system’s 
capability to support patient care in the VA medical network.  
The major enhancement of the testing scripting in 2014/15 
allowed the actual validation of proper processing in the 
presence of exceptional conditions.  Unfortunately, the 
avoidance of the developing the necessary software is 
realistic; the Home Telehealth emulator is over 1,000,000 
lines of Java code (over 450 Java classes).  
The most dramatic impact on the validation was the 
release of the validation tool to the triage suppliers.  Until the 
suppliers installed an instance of the testing tool in their lab, 
their testing was impacted by scheduling.  Each supplier had 
to have a dedicated testing slot with publicly available 
validation engine in the EITL.   
The observations derived from each validation of updated 
or new components are not unique to the medical world.  All 
distributed processing environments would benefit from a 
concerted effort to develop or acquire the necessary tools to 
perform a comprehensive evaluation of additions before the 
addition is joined to the environment. 
A new validation round is currently scheduled for the 
2019/20 period with the acquisition of a new set of triage 
systems providing the latest technology.  During the 
intervening period the validation test set will be enhanced to 
cover more problems that have vexed the program over the 
years.  VHA is also planning to add the use of the HL7 
standard Fast Healthcare Interoperability Resources (FHIR) 
to the EMR.  This effort will start a new major update to the 
Home Telehealth emulator.  The initial research for the 
emulator’s support for FHIR should start in the summer of 
2018. 
REFERENCES 
[1] United States Department of Veterans Affairs. "U.S. Department of 
Veterans Affairs". Available from: http://www.va.gov/ [retrieved: 
4,2018]. 
[2] United States Department of Veterans Affairs. "VA Telehealth 
Services". Available from: http://www.telehealth.va.gov/ [retrieved: 
4, 2018]. 
[3] United States Department of Veterans Affairs. "VA|Information 
Technology". Available from: http://www.oit.va.gov/ [retrieved: 4, 
2018]. 
[4] Department of Veterans Affairs Office of Enterprise Development, 
"VistA-HealtheVet Monograph", 2008; Available by request from the 
authors. 
[5] Health Level Seven International. http://www.hl7.org/2; Available 
from: http://www.hl7.org/ [retrieved: 4, 2018]. 
[6] Clinical 
Context 
Object 
Workgroup. 
Available 
from: 
http://www.hl7.org/Special/committees/visual/index.cfm 
[retrieved: 
4, 2018]. 
[7] George C. Blankenship, "Home Telehealth HL7 Functions 
Overview", U.S.D.o.V. Affairs, Editor 2018;  Available by email to 
George@GBlankenship.us. 
12
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-645-3
COLLA 2018 : The Eighth International Conference on Advanced Collaborative Networks, Systems and Applications

