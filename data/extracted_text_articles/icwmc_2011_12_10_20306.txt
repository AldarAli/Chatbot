Seamless Multimedia Handoff for Hierarchical Mobile IPv6 
 
Khaled Zeraoulia  
Department of Computer Science. 
University of Sciences and Technology Houari 
Boumediene (USTHB)  
Algiers, Algeria  
Khaled.zeraoulia@gmail.com 
Nadjib Badache 
Research Center on Scientific and Technical 
Information  
CERIST 
Algiers, Algeria  
nbadache@Cerist.dz
 
                                      
Abstract—The majority of today’s multimedia applications and 
content reside on the Internet. Since the Internet Protocol (IP) 
is the “glue” that holds the Internet together, there is 
enormous interest in extending IP to mobile multimedia 
networks. Handover is one of the most important factors that 
may degrade the performance of real-time applications in 
mobile multimedia networks. In this paper, we introduce a 
novel mobility management strategy for mobile IP networks, in 
which we develop a seamless handover scheme called 
SHMIPv6 (Seamless Multimedia handoff for hierarchical 
Mobile IPv6). By integrating MAC and Network layer 
handovers efficiently, SHMIPV6 can significantly reduce the 
system signaling cost and handover delay. Also, our 
performance study shows that SHMIPv6 achieves loss-free 
packet delivery using an anticipated buffering scheme. 
Keywords- 
Seamless 
handover; 
HMIPv6; 
multimedia 
applications. 
I.    INTRODUCTION 
Mobile IP is the key protocol in providing mobile 
multimedia applications to mobile devices [1][2]. These 
applications concern all modern life aspects: peer-to-peer 
communications, video conferences, remote learning, etc. 
Several standard bodies such as the IETF [2] are working on 
the specifications of all IP wireless networks that allow 
roaming users to access integrated data, voice, and 
multimedia services. A wide variety of mobility management 
schemes have been proposed [5][9][12][14][15] working at 
different layers of the protocol stack. However, these 
schemes are not suitable for all types of applications. Thus, 
dedicated schemes capable of acting more semantically must 
be developed; e.g., in the case of HTTP or FTP applications, 
handoff latency is not of vital importance (waiting one or 
two seconds extra when downloading a web page is not 
critical). But for real-time media, latency and packet losses 
are extremely important and even a small disturbance can 
make 
a 
media 
stream 
unintelligible 
.The 
mobility 
requirements can be satisfied by handover solution based on   
integrating 
of 
MAC 
and 
Network 
layer 
mechanisms[3][12]. Although the mobile IPv6 offers 
mobility management capability, however, MIPv6 is not 
suitable for supporting streaming media with stringent delay 
and eliminates packet losses requirements [6][7]. Therefore, 
the MIPV6 handoff needs careful investigation to offer 
reasonable delays and packet loss for mobile multimedia 
application. The rest of this paper is structured as follows: 
handover, MIPv6 and HMIPv6 are analyzed in Section 2. 
Section 3 introduces the basic idea of the improved scheme 
SHMIPv6 in detail. Simulation setup and results of 
performance comparison are provided in Section 4. Finally, 
concluding remarks are presented in Section 5. 
II.  THEORETICAL BACKGROUND 
A. Handover Management  
The process by which a Mobile Node (MN) changes to a 
new subnet is called handover. Handover in packet networks 
is administratively costly due to the number of signaling 
messages involved and the change of state in participating 
nodes. Although Mobile IP is designed for mobility 
management in IP networks, it causes a high latency and 
signaling overhead during handover. Therefore, advanced 
mobility mechanisms improving Mobile IP are desirable to 
perform efficient handovers. Also, appropriate Quality of 
Service (QoS) support is needed for mobility-enhanced 
Internet Protocol (IP) in order to meet mobile user’s   
expectations.  
1) MAC Layer Handover (Handover Layer 2) 
The handover preparation procedure begins when MN 
moves into the overlapping radio coverage area of two 
adjacent subnets, it needs to perform a Handover Layer 2 
(MAC Layer) to bring to an end the association with the old 
Access Point and re-associate with new one [5]. This will 
require some steps such as detection, authentication and re-
association with the new Access Point. Only, after these 
procedures will finish, higher layer protocols can proceed 
with their signaling procedure, such as layer 3 router 
advertisements. Once the MN finishes Handover Layer 2 
and receives the router advertise from the Router, it should 
begin to obtain a new router address. 
2) Anticipated Handover 
 Handover is initiated when either the MN or the 
previous Router have predictive information about the next 
point of attachment to which the MN will move to Neighbor 
Discovery for IP Version 6 (IPv6)[11]. Nodes (MN and 
Routers) use Neighbor Discovery (ND) protocol [11] to 
determine the link-layer addresses for neighbors known to 
reside on attached links.  Nodes also use Neighbor 
Discovery to find neighboring routers that are willing to 
forward packets on their behalf.  Finally, nodes use the 
249
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

protocol to actively keep track   of which neighbors are 
reachable and which are not, and to detect changed link-
layer addresses. If the MN has such information, or it 
chooses to force a handover to a new subnet, it sends a 
Router Solicitation for Proxy (RtSolPr) to the previous 
Router, and receives a Proxy Router Advertisement 
(PRtAdv) in response, providing the MN with the L2 (MAC 
Layer) information, such as the subnet prefix, link quality, 
measured bandwidth and available attachments status 
required for the MN to establish a new Care-of-Address 
(CoA) on the new subnet [12]. When previous Router 
receives an indication from L2 that the MN will be moving 
or RtSolPr indicating that the MN wants to move, the 
previous Router exchanges messages with new router in 
order to obtain or validate the new CoA for the MN. The 
previous Router sends a Handover Initiate (HI) message to 
the new router. The HI message contains the requested new 
CoA on the new subnet.  
B.  Mobile IPv6 overview   
The IETF is in the midst of designing Mobile IPv6 [2]. 
The true goal of MIPv6 is to offer an end-to-end IPv6 
operability between mobile devices. It should be mentioned 
here that there is a standard for Mobile IPv4 [10]. The basic 
principle for both MIPv4 and MIPv6 is that all mobile nodes 
have a permanent IP address on a “home” network. When a 
mobile node (MN) roams to another subnet, it must first 
acquire a temporary (CoA) on that network. The next step is 
to send a binding update (BU) back to a special router on 
the home network named the Home Agent (HA). A BU 
associates the CoA with the permanent IP address of the 
MN. When any other Correspondent Node (CN) sends an IP 
packet addressed to the permanent IP address of the MN, the 
HA intercepts the packet and, using the BU, tunnels the 
packet to the CoA of the MN. At this point, the MN knows 
the address of the CN by looking at the source address of 
the packet header. Therefore, the MN does not have to 
tunnel reply packets to the CN through the HA but can send 
them directly to the CNs destination address. The MN can 
elect to send a BU to the CN so that the CN can send 
optimally routed packets to the MN instead of having to go 
through the HA. How does MIPv6 discover that the MN has 
moved to a new subnet? The MIPv6 requirement is that a 
router supporting Neighbor Discovery [11] must be 
operational on the subnet. This router sends out a “beacon” 
packet of 32 bytes called a Router Advertisement [11]. The 
recommended intervals are from 20 to 1500 milliseconds 
between advertisements. The first time an MN receives an 
advertisement, it can examine it to find out what the subnet 
prefix is and when to expect the next advertisement. If the 
“old” advertisement is overdue or an advertisement with a 
“new” subnet prefix shows up then MIPv6 has discovered 
that it has moved to a new subnet. 
C. Hierarchical MIPv6 
Hierarchical mobility management for Mobile IPv6 is 
designed to reduce the amount of signaling between the 
MN, its CNs, and its HA [13]. HMIPv6 improves the 
handover management of basic MIPv6 by introducing a new 
protocol agent called Mobility Anchor Points (MAP) [7].  
MAP splits   the management of the handover process into 
macro-mobility and micro-mobility and deals with them 
separately. In HMIPv6, MN assigns two addresses, regional 
care of address (RCoA) and link care of address (LCoA). 
These two addresses are very useful managing mobility 
(figure 1). A MN that enters a foreign network first 
configures its LCoA by the IPv6 address auto-configuration 
scheme. The MN then sends a local BU message to the 
MAP. This local BU message includes the MN's RCoA in 
the Home Address Option field and the LCoA is used as the 
source address of the BU message. This BU message binds 
the MN’s RCoA to its LCoA. The MAP then performs 
duplicated address detection (DAD) procedure for the MN's 
RCoA on its link and returns a Binding Acknowledgement 
(BAck) message to the MN.  
 
                                      Figure 1.  Hierarchical Mobile IPv6 
III. SHMIPV6: SEAMLESS  HIERARCHICAL MOBILE IPV6 
In this section, we will discuss our proposed scheme 
(SHMIPv6). 
Our 
solution 
tries 
to 
provide 
good QoS performance support for multimedia applications.  
The fast handover mechanism using HMIPVv6 may 
guarantee seamless multimedia handover as long as the MN 
moves inter domain. But it is still not enough to support real 
time voice services. So we propose a fast buffering schema 
to reduce packet loss. The aim of SHMIPv6 can be 
described by the following three parameters:   
A. Reduce signaling overhead  
• 
Using Hierarchical Mobile IPv6 (HMIPv6) reduce 
signaling overhead and support seamless handoff in 
IP-based wireless/mobile networks. 
• 
 Using several MAPs:  Using one MAP keeps large 
number of packets waiting before it receives or 
sends them, and this causes long delay and large 
number of lost packets. The domain is composed of 
multiple Mobility Anchor Points; each MAP in the 
domain is attached with an Access Router (AR). 
The mechanism shares the traffic information 
among the MAPs in the domain to make decision of 
MAP reassignment. The MAPs at the domain give 
the same RCoA.  
250
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

In HMIPv6 DAD procedure, it takes at least 1000 ms to 
detect that there is no duplicate address in the link. The 
regional registration procedure proposed by HMIPv6 offers 
low handoff delay, but it remains too high for real time 
applications which require handoff delay to avoid service 
degradation. So, to reduce total handover latency, SHMIPv6 
propose two mechanisms: anticipated handover and 
Predictive Address Reservation mechanism. 
B. Low latency handover in SHMIPv6 : ( Predictive 
Address Reservation mechanism) 
With HMIPv6 allows not only reducing handoff delay 
but also signaling overhead. SHMIPv6   proposes to 
perform address allocation and registration procedures 
before the link layer handoff (L2) to reduce HMSIP handoff 
latency. This can be achieved by employing the movement 
detection scheme using link layer information (Figure 2).  
The base idea is to allocate a new IP address to the MN and 
allow him to re- REGISTER with its MAP (regional 
registration) using the link layer handoff triggering. In fact, 
address acquisition and HMIPv6 registration procedures are 
executed in parallel. 
 
 
Figure 2.  Anticipated Handover 
C. Loss free  packet: ( Anticipated buffering  process using 
security threshold)  
To minimize loss packet during handover, SHMIPv6 
propose an anticipate buffering process with conditional 
tunneling. This process enabling the temporary storage of 
the tunneled before the handover packets, thus eliminating 
packet loss occurred during the link layer handover period. 
To do this we define the two following metrics:  
1) LT (Loss threshold): A packet may be considered as 
lost if it is received with signal strength (SS) less than LT 
(Loss threshold). 
2) ST(Security  threshold): This threshold may be useful 
to synchronize with the start of Buffering networks 
Handover (Handover L3): related to the initial idea was to 
start buffering with a broadcast message « Handoff Initiate».  
However, there may be packets loss before sending this 
message; we define the security threshold for anticipating 
the buffering before the signal level deteriorates.   Soon as 
the mobile node receives the signal strength equal to the 
security threshold, it sends a message Application Control 
Buffer (RCB) to its old access router. This message acts as 
initiator of storing packets in the buffer.  While the packets 
are being stored, the old access router sends a copy of these 
packets until there is a disconnection from the mobile node 
(reached the loss threshold).  Note that the buffering 
continues until the connection with the new router is 
established and make a record with the new router.  
 
 
Figure 3.  Anticipated Buffering Process 
D. Enhanced Scheme 
SHMIPV6 buffering scheme presented in figure4 can be 
summarized in five steps: 
 Step1:  Soon as the MN receives packets with: SS<= 
ST, it sends a RCB message to old access router. 
This message acts as initiator of storing packets in 
the buffer.   
1) Step 2: in this step three tasks are performed: 
a) Handover L2 is initiate ( SS<=LT)   
b) Buffering  process is executed  in the PR 
c) Initialization of tunneling process. 
2) Step 3:   in this step four  tasks are performed:  
a) Handover L2  is performed   
b) Handover L3  is initiate 
c) Running buffering  process  
d) Tunneling parquets from PR to NR 
3) step 4:  in this step, two tasks are executed 
a) Handover L3 is performed   
b) Tunneling  packets  from PR to NR 
251
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

4) step 5: in this last step, scheduling process  is 
executed  for packets received via tunnel (sent from the PR) 
and packets received from  the NR 
 
 
 
Figure 4. SHMIPv6  
IV. SIMULATION  RESULTS 
Performance results will be provided in terms of handoff 
latency, packet loss, and jitter.  We compare our algorithm 
against previous Mobile IPv6 propositions [5] [12] [14] 
 
• 
Simulation Prameters  
 
 
Simulator:                 Ns-allinone-2.34 
 
Network:         600*600 and 1000*1000 
 
Modulation:              DSSS  
 
Mobil node:              7 and 12  
 
Bandwidth:               2 mbps 
 
Traffic generator:  Constant Bit Rate  and    
                                       Video 
 
Packet rate:            13 packet per second  
 
Packet size:              512 bytes 
 
Loss Threshold:         3.41828e-10 Watts 
 
 
Figure 5. Packet loss rate  vs. Moving Speed 
 
Figure 6. Latency Handover vs. Moving Speed 
As we analyzed the performance of our proposed 
scheme we proved that SHMIPv6 transmits message faster 
and efficient than FMIPv6, FHMIPv6 and HMIPv6.   
Figures 5, 6 show the increase in the handover latency 
and the packet loss due to an increase in moving speed of 
MNs.  As can be seen, SHMIPV6 approach performs better 
than FHMIPV6, HMIPv6 and FMIPV6 in terms of the 
handover latency and packet loss. Although the SHMIPv6 
(with the integration of thresholds: ST-LT, Using several 
MAPs, Predictive Address Reservation) is designed to 
minimize the packet loss and the latency during a handover, 
a worse performance is observed with respect to FMIPv6 
252
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

and MIPv6. In contrast, SHMPIv6 provide a low latency 
handover (1.75s and 2.7s). This is due to the fundamental 
difference between handover registrations and anticipation 
Procedures in SHMIPv6   and other procedures. 
Furthermore, the number of packets lost depends on the 
moving speed of MN.  As seen in the figure 6,   SHMIPv6 
packets lost rate is between (0 and 0.02).This means that the 
packet loss can totally eliminated if we use an anticipated 
buffering scheme.  
 
 
Figure 7.  Jitter vs.  Sequence number generated  
 
Figure 7 shows   the jitter comparison under CBR and 
video sequence generated.  The mean jitter for CBR traffic 
is    0.08s and 0.038s in MIPV6 and SHMIPV6 
correspondingly.  In the other hand the mean jitter for video 
traffic is 0.058 and 0.04 s in MIPV6 and SHMIPV6 
correspondingly.  Furthermore, we can see that when the 
payload is light, there is no loss in both two kinds of 
protocols and   for all type of traffic (CBR or video).  We 
can see also, that there is a difference between MIPv6 and 
the SHMIPv6 under heavy background payload; Payload 
affects more to the performance of MIPV6 than SHMIPVt6.  
When there is heavy background payload, the loss rate of 
MIPv6 is bigger than that of SHMIPV6.   
V. CONCLUSION 
Both Hierarchical Mobile IPv6 and Predictive Address 
Reservation schemes have been proposed to reduce the 
handoff latency in their own ways. The Hierarchical Mobile 
IPv6 allows reducing handoff latency and overhead. On the 
other hand, the Predictive Address Reservation and 
anticipated handover use link layer information for earlier 
movement Detection and address configuration for the new 
point of Attachment so as to minimize the disruption of the 
services during the handoff process.  The integration of 
anticipated buffering reduces significantly the handoff 
packet losses during the handover process, but its 
integration with the HMIPv6 environment provides better 
handoff performance.   
 
REFERENCES 
[1] F. T. Harr, Realtime Routers for Wireless Networks, 2000, Ericsson 
http://www.communiweb.net/ipv6/terhaar.pdf,  April  2005. 
[2] The Internet Engineering Task Force, http://www.itef.org, March 
2011. 
[3] R. Pazzi, Z. Zhang, and A. Boukerche, “Design and evaluation of a 
novel MAC layer handoff protocol for IEEE 802.11 wireless 
networks,” The Journal of Systems and Software, Vol. 8,  Issue 8,  pp. 
1364-1372,  August 2010.  
[4] F. Belghoul, Y. Moret, and C. Bonnet, “Performance comparison and 
analysis on MIPv6, Fast MIPv6 Bi-casting and Eurecom IPv6 Soft 
Handover over IEEE802.11b,” WLANs Department of Mobile 
Communications, Institute Eurecom, IEEE Vehicular Technology 
Conference,  IEEE 59thVTC, Vol.5, pp. 2672- 2676,  Milan 2004. 
[5] H. S. Yoo, R. Tolentino, B. Park, B. Y. Chang, and S .H . Kim, “ES-
FHMIPv6: An Efficient Scheme for Fast Handover over HMIPv6 
Networks,” 
International 
Journal 
of 
Future 
Generation 
Communication and  Networking, Vol. 2, Issue. 2, pp. 38-48, June 
2009. 
[6] T. Park, ”Adpative handover control in IP-based Mobile Networks,” 
Phd thesis, Institut for telecommunication Research, University of 
south  Audtralia,  2003. 
[7]  A. Vivaldi, M. Habaebi, B. Mohd Ali, and V. Prakash,”Fast 
Handover Algorithme for hierarchical mobile Ipv6 Macro-monility 
managemant,” Suranree J. Sci. Technol, Vol. 42, Issue. 1, pp. 127-
132,  January  2004 .  
[8] H. Yu, and  M. Tao, ”Fast Handover in Hierarchical Mobile IPv6 
Based on Motion Pattern Detection of Mobile Node,” Wireless Pers 
Commun, Vol. 19, Issue. 5, pp1338–1348, May 2010, DOI: 10. 
1007/s11277-010-0024-6. 
[9] M. Stemm, and  R.H. Katz, “Vertical Handoffs in Wireless Overlay 
Networks,” ACM MONET, Vol. 3,  No. 4,  pp.439-446,  1998. 
[10] C. Perkins, “IP Mobility Support for IPv4,” RFC3344, IETF, August 
2002, 
http://www.ietf.org/rfc/rfc3344.txt?number=3344, 
March  
2011.  
[11]  T. Narten, E. Nordmark, and W. Simpson. ”Neighbor Discovery for 
IPV6,”RFC2461, IETF, December 1998,    
           http://www.ietf.org/rfc/rfc2461.txt, March  2011. 
[12] M. Alnas,  I. Awan, and R.D.W. Holton, ”Performance Evaluation of 
Fast Handover in Mobile IPv6 Based on Link-Layer Information,”. 
The Journal of Systems and Software, Vol. 83 Issue. 10, pp. 1774-
1784,  October 2010.  
[13]  H. Soliman, C. Castelluccia, K. ElMalki, and L. Bellier, 
“Hierarchical Mobile IPv6 Mobility Management,“ RFC4140, August 
2005,  https://www.ietf.org/rfc/rfc4140.txt,  March 2011. 
[14] M. Alrashdan, M. Ismail, and K.Jumari, "A Study on Effective 
Transfere Rate Over Smart Hierarchical Mobile IPv6 (SHMIPv6)," 
IJCSNS International Journal of Computer Science and Network 
Security,  Vol.7, No.5, pp. 235-239,  May 2007 . 
[15] P. Macha´n, and J. zniak, "Simultaneous handover scheme for IEEE 
802.11 WLANs with IEEE 802.21 triggers," Telecommun Syst,  
2010,  Vol. 43,  No1-2, pp. 83-93, DOI :10.1007/s11235-009-9192-7 . 
 
 
 
253
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

