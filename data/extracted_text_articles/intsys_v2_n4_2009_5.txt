446
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
Self-Organizing ZigBee Network and Bayesian Filter Based Patient Localization 
Approaches for Disaster Management 
Ashok-Kumar Chandra-Sekaran, Christophe 
Kunze 
FZI Research Center for Information Technology,  
Karlsruhe, Germany    
e-mail: chandra@fzi.de, kunze@fzi.de 
Klaus D. Müller-Glaser, Wilhelm Stork 
Institute for Information Processing Technology (ITIV), 
Karlsruhe Institute of Technology (KIT), Germany.       
e-mail: kmg@itiv.uka.de, stork@itiv.uka.de 
  
 
Abstract— A self-organizing, scalable, heterogeneous and 
location aware WSN architecture called Disaster Aid Network 
(DAN) for assisting the responders to provide efficient 
emergency response was proposed in our previous work. The 
two main aspects of DAN are the communication and 
localization aspect. As part of the DAN communication aspect, 
in this paper we have undergone empirical investigations to 
identify the suitability of ZigBee’s 2.4 GHz operation for DAN. 
A new self-configuring mechanism for patient data access by 
the doctor at the disaster site is also proposed. As part of the 
DAN localization aspect, in this paper we have implemented 
two new Bayesian filter based algorithms called Improved 
Range-Based Monte Carlo Patient Localization and Range-
Based Unscented Kalman Filter Patient Localization for real 
time localization of large number of patients at the disaster 
site. The close-to-reality simulations of both these algorithms is 
done using a disaster management mobility model to identify 
their suitability for patient tracking. The new localization 
solution in tandem with the emergency response system shall 
facilitate efficient logistic support at the disaster site. 
Keywords- Emergency response; ZigBee; self-configuration; 
patient localization; Bayesian filter based algorithms; close to 
reality simulation  
I. 
 INTRODUCTION 
Wireless 
Sensor 
Networks 
(WSN) 
offer 
great 
opportunities and numerous applications are imaginable. But 
they also impose some new challenges that have to be dealt 
with. The main WSN challenges that researchers and 
developers are currently dealing with include heterogeneous 
network, 
scalability, 
self-organisation, 
self-sufficient 
operation, multi-hop communication, ad-hoc networks and 
localization. Self-Organising sensor network are WSN built 
from sensor nodes that may spontaneously create impromptu 
network, assemble the network themselves, dynamically 
adapt to device failure and degradation, manage movement 
of sensor nodes, and react to changes in task and network 
requirements. Self-organization can be classified into four 
aspects as follows. 
• 
Self-configuration: 
The 
ability 
of 
WSN 
to 
automatically and seamlessly configure sensor 
nodes.  
• 
Self-healing: The ability of WSN to automatically 
detect, diagnose, and repair localized software and 
hardware problems. 
• 
Self-optimization: 
The 
ability 
of 
WSN 
to 
continually seek opportunities to improve their own 
performance and efficiency. 
• 
Self-protection: 
The 
ability 
of 
WSN 
to 
automatically defend themselves against malicious 
attacks or cascading failures. A WSN should use 
early warning to anticipate and prevent system wide 
failures. 
Some of the short range wireless communication 
standard based technologies that can be considered for WSN 
are Bluetooth, ZigBee, RFID, etc. ZigBee is a standard 
developed by the ZigBee Alliance that defines a set of 
communication protocols for low-data-rate short-range 
wireless networking based on the Open System Interconnect 
(OSI) basic reference model [20]. Its goal is to provide the 
means for low-cost implementation of low-data-rate wireless 
networks with ultra-low power consumption. The ZigBee 
standard distinguishes between three different device roles 
for the nodes of the network namely the coordinator, router 
and end device. It supports star, mesh and tree topology. 
RFID (Radio Frequency Identification) is a technology for 
contactless and automated identification. It joins other 
methods for identification like the bar code. However, the 
advantage of RFID is that it doesn’t require a visual contact. 
The most familiar form of RFID is the RFID tag and a 
reader. 
The potential problems faced in the aftermaths of a 
disaster are: response capabilities of the local jurisdiction 
may be insufficient, large-scale evacuations from the disaster 
site, complications in implementing evacuation management 
strategy, disruption of critical infrastructure (energy, 
transportation, telecommunications, etc.), tens of thousands 
of casualties, response activities must begin without a 
detailed situation and critical assessment as its time 
consuming to obtain an initial common operating picture 
[21]. 
A new emergency response system based on a Disaster 
Aid Network (DAN) was proposed by us to improve 
emergency response [3]. The two main aspects of DAN are 
the communication and localization aspect. 
In the DAN communication aspect the goal is to develop 
a scalable and robust communication system that supports 
low power and self-organizing mechanisms. In this paper the 
focus is on the self-organizing mechanisms for the DAN 
communication aspect. 
In the DAN localization aspect the goal is to track the 
patients at the disaster site. The task of tracking a patient [18] 
can be split into range estimation and position estimation. In 

447
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
this paper we focus on the position estimation part. We have 
developed two new Bayesian filter based position estimation 
algorithms and compared their performance to find their 
suitability for optimal patient tracking. The position 
estimation algorithm in tandem with the emergency response 
system shall facilitate efficient logistics at the disaster site by 
providing real time information about the patients’ locations 
to the On-site Organizational Chief (OOC).  
The paper is organized as follows: Section II explains the 
the Disaster Aid Network system. Section III details the 
empirical investigations for ZigBee 2.4 GHz operation. 
Section IV describes the self organization techniques for 
DAN. Section V mentions the state of the art of localization 
in WSN. Section VI explains our patient localization method 
and the two algorithms. Section VII shows the simulation 
results of these algorithms and Section VIII concludes the 
paper. 
II. 
DISASTER AID NETWORK 
We focus on the disaster management strategy followed 
in Germany [2] called “Mass Casualty events” (MANV) but 
our system can also be adapted to other disaster management 
strategies. At the beginning of MANV, the disaster site 
organization chief designates the disaster site into four care 
zones as follows: The danger zone where the disaster itself 
happens, injured deposition zone where the patients are 
prioritized (triaging), treatment zone and transport zone. The 
patients are shifted from one zone to another before being 
evacuated [4]. 
DAN is a self-organizing, scalable, heterogeneous sensor 
network (see figure 1) [3] of 30-200 nodes comprising of: 
• 
Patient nodes with electronic triage tag and optional 
continuous vital sign monitoring. They are also 
called blind nodes because their positions are 
unknown and have to be estimated. 
• 
Pseudo anchor nodes are patient nodes whose 
positions are already estimated. 
• 
Doctor nodes (mobile anchor nodes) are mobile 
nodes (Tablet PC) whose locations are known. 
• 
The monitor station is a collector node which 
collects the patients’ locations and visualizes them 
for the onsite organization chief  (OOC). 
• 
Static anchor nodes are nodes placed at fixed 
positions whose locations are already known. 
• 
Server: A server running a database for data 
collection and aggregation is placed at the 
management centre (or data acquisition centre). 
The specifications that the DAN communication aspect 
should satisfy are: robustness, scalability and self 
organizing 
communication 
system, 
support 
heterogeneous network, low power, the use of standard 
based 
technology 
and 
support 
distributed 
communication. Several standard wireless technologies 
(ZigBee, WLAN, etc.) were considered and due to the 
low-power, low data rate properties and the possibility 
to mesh network hundreds of nodes, the ZigBee 
standard is chosen for investigation to identify its 
suitability for DAN. 
 
Figure 1.  DAN system 
The results of our investigations in [22] to find ZigBee’s 
suitability for DAN in terms of power consumption, 
scalability, mobility and number of routers are summarized 
as follows 
• 
Power consumption of ZigBee ready sensor nodes 
imply a battery lifetime of at least a day. 
• 
Scalability: In a static scenario the network scales 
well up to 150 nodes in a 300m x 300m area. In a 
mobile scenario, the network does not scale as well 
as in the static scenario due to the high PLR (packet 
loss ratio). 
• 
Influence of routers in the network: In a static 
scenario using more routers doesn’t improve the 
network performance.   
• 
Mobility: The performance of ZigBee network is 
affected when the nodes are mobile, especially 
when the mobile node density is high. However, the 
performance could be improved if the number of 
routing-capable devices is increased.  
These results show that ZigBee is basically suitable for 
DAN even though detailed investigations will have to be 
done. In this paper the suitability of ZigBee’s 2.4 GHz 
operation is analyzed and a self-configuring mechanism for 
DAN is proposed. 
III. 
ZIGBEE 2.4 GHZ OPERATION 
The 2.4 GHz operation of ZigBee is analyzed by 
considering three main factors which are the node 
transmission range, RF attenuation and coexistence. 
A. Transmission Range Testing 
The maximum transmission range of the ZigBee nodes 
are measured in different situations using CC2430DB 
demonstration boards (See figure 2(a)) from Texas 
Instruments (TI) [24]. The technical data of the CC2430DB 
is as follows: CC2430 System on Chip with an 8051 core 
and 2.4 GHz transceiver, a PCB antenna, a data rate of 250 
kbps, transmission output power of 0 dbm, and receiver 
sensitivity of -92dbm. During the measurements the 
CC2430DB nodes are mounted in a quadrate form of plastic 
boxes. This simulates the housing case that will be used for 

448
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
DAN nodes to protect them during the emergency response 
process.  
  
a) CC2430DB board1   
   b) Reference node and triage tag setup 
Figure 2.  Transmission range testing setup 
When both the nodes are placed at the ground level with 
grass, the maximum transmission range measured is 12 m. 
This shows that a grass height of even 5 to 10 cm heavily 
attenuates the signals. When two nodes are elevated at a 
height of 1.5m using statives’ in a line of sight field, the 
maximum transmission range between them is measured as 
205m.  
An experiment is undergone to test the transmission 
range between two nodes with one node acting as a reference 
node and the other acting as a triage-tag (patient node). In 
this experiment a CC2430DB node elevated at a height of 
1.5 m acts as a reference node and a test person wearing a 
triage-tag (CC2430DB) are setup in a line of sight 
environment as shown in figure 2(b). The maximum 
transmission distance measured between the reference node 
and the test person (such that a communication is ensured) 
when the triage-tag is placed at different positions are 
mentioned in the table 1. 
 
Setup 
Maximum 
Transmission Distance
Test person stands facing the 
reference node and wears the 
triage-tag on his chest 
205m
Test person stands facing the 
reference node and wears the 
triage-tag on his back 
95m 
Test person lies in the ground 
and wears the triage-tag on his 
chest 
105m
Test person lies in the ground 
and wears the triage-tag on his 
back 
8m 
TABLE I.  
REFERENCE NODE – TRIAGE TAG MAXIMUM TRANSMISSION 
DISTANCE MEASUREMENT  
B. Coexistence and RF Attenuation 
Since ZigBee operates in the 2.4 GHz ISM band which is 
also the operating frequency for several other technologies 
like WLAN and Bluetooth, it’s often questionable if ZigBee 
can coexist. ZigBee network can access up to 16 separate 
5MHz channels in the 2.4GHz band, several of which do not 
overlap all the time with US and European versions of IEEE 
802.11 or Wi-Fi. A state of the art analysis related to 
coexistence indicates that that IEEE 802.15.4 suffers heavy 
packet loss when interfered by an IEEE 802.11 network 
                                                           
1 Source: graphic from [24] 
specifically if both the technologies are running at 
overlapping channels. A new feature called ‘channel agility’ 
has been introduced in the 2007 version of ZigBee 
specification. This provides a method for the network to 
change channels in the event of interference. The network 
coordinator detects potential interference on a channel and 
directs the devices on the network to change to a better 
channel. Kupri’s [25] experimental results show that a 
WLAN (IEEE 802.11 g and n) will not frequently block 
ZigBee / IEEE 802.15.4 traffic and the 802.15.4 system can 
co-exist with a WLAN network. Their test results show that 
even under the most severe 802.11 interference (IEEE 
802.11n at 40 MHz bandwidth) by incorporating channel 
agility, IEEE 802.15.4/ ZigBee is a viable and stable 
solution for home control applications. They conclude that 
the implementation of channel agility improves the overall 
situation and increases the robustness of ZigBee networks. 
In practice, a radio signal operating in a disaster site may 
encounter many objects (fixed, mobile, and transient objects) 
in its transmission path and undergoes additional attenuation 
depending on the absorption characteristics of the objects.  In 
[26] they have measured the ZigBee 2.4GHz signal 
attenuation through the following objects: metal door-6dBm, 
human body-3dBm, glass wall with metalframe-6dBm, metal 
door in brick wall- 12dBm.   
C. Summary 
The ZigBee 2.4 GHz ranging experiments indicate that 
during the deployment of nodes in DAN the reference nodes 
should be elevated at a height of 1.5m for a better 
transmission range and the maximum distance achievable 
between two reference nodes in LOS is 205m. The reference 
nodes can also be provided with range-extenders to increase 
their range and thereby reduce the number of infrastructure 
nodes. The maximum transmission distance measurements 
between a reference node and triage-tag shows that 2.4 GHz 
ZigBee is suitable for DAN except for the condition when 
the injured person lies in the ground and wears the triage-tag 
on his back, wherein the signal strength is strongly 
attenuated due to the influence of the human body.  
However, the empirical investigations of the following 
topics will be part of future work: coexistence of ZigBee 
with other ISM band technologies, the effect of RF signal 
attenuation by obstacles at the 2.4 GHz operation, effect of 
antenna propoerties and verification of maximum data rate to 
identify the extent of application data that can be sent. 
IV. 
SELF ORGANIZATION OF DAN 
Self-organization 
procedures 
associated 
with 
the 
communication network are necessary for reliable system 
operation. In DAN during the initial setup, the nodes 
(coordinator, static anchor nodes, and doctor nodes) should 
automatically form a network. Also during the emergency 
response process new patient nodes appear and leave the site 
(after evacuation). So DAN should automatically reconfigure 
nodes in the order of 200. The self-configuration 
characteristics 
[19] 
of 
ZigBee 
supports 
automatic 

449
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
establishment of network and association of new nodes 
joining the network. 
In DAN when a mesh network is established, a routing 
path has to be formed such that the patient nodes can send 
their data via routers to the server at the management centre 
of the disaster site. If any node in this route becomes faulty 
or if the patient nodes move, the routing paths have to be 
adapted dynamically such that the patient data is relayed in 
an optimal way to the server. The self-healing characteristics 
of ZigBee mesh networking [19] can optimally route, as the 
nodes move and can select alternative route if any node in 
the routing path stops functioning. 
Even though the self-configuring and self-healing 
mechanisms of ZigBee are useful for DAN, they are not 
sufficient and new self-organization mechanisms to satisfy 
DAN communication aspect functionalities have to be 
developed. In the next subsection one such new self-
configuring mechanism for seamless patient data access by 
the doctor node at the disaster site is explained. 
A. Self-Configuration for Patient Data access by Doctor 
A doctor provides each patient with a patient node either 
at the danger zone or at the triage zone. The patient node is 
worn around the neck of the patients and switched on by the 
doctor.  A doctor node can communicate with a patient node 
at the disaster site to fulfil any of the following 
functionalities 
• 
In the triage zone the doctor uses his tablet PC to 
configure the patient node with triage and personal 
information.  
• 
During the emergency response at the triage and 
treatment zone the doctor’s tablet PC might have to 
often read the patient status (vital signs, triage 
information) from the patient node.   
The following problems might occur during the doctor-
patient node interactions 
• 
Considering the large number of patients and fewer 
doctors present at the disaster site, it can be 
complicated and time consuming for the doctor to 
manually configure his tablet PC for accessing or 
configuring the data of a patient node.  
• 
Thus, automatic configuration of patient-doctor 
nodes 
is 
required. 
But 
during 
automatic 
configuration there can be large numbers of patients 
at close proximity and the doctor node must be sure 
that it talks to the right node i.e. patient 
identification can be an issue. 
In order to solve the above mentioned problems, a self-
configuring mechanism using RFID and ZigBee is 
demonstrated in the next subsection to provide a simple, 
automatic and safe data access between the patient node and 
the doctor node. 
1) ZigBee-RFID based Self-configuring Mechanism 
A doctor who needs to configure or access a patient data 
at the disaster site brings his Tablet PC in close proximity (in 
the order of cm or a meter) to that particular patient node and 
with a single click in his Tablet PC he can access the right 
patient’s data safely, easily and automatically. This self-
configuring mechanism is described below. 
The patient node consists of a ZigBee transceiver and 
RFID passive tag. The RFID passive tag is used for patient 
identification and stores a unique id which in our case is the 
64 bit IEEE address of the corresponding ZigBee-ready 
patient node. The RFID passive tag has a very short range. 
The doctor node is a Tablet PC enabled with a ZigBee 
module and an RFID reader and runs an application for 
patient data access.  
When the doctor needs to access the patient’s data he 
brings his Tablet PC in close proximity to that particular 
node and clicks a button on the Java application. Considering 
that the proximity of the tag is in the order of cm, the RFID 
reader of the doctor node can only read the tag of that 
particular node. Of course it is assumed that no two patients 
are present in proximity of cm range in the disaster site. The 
communication flow between the patient node and the doctor 
node is depicted in figure 3.  
 
 
Figure 3.  Communication flow diagram of ZigBee-RFID based self-
configuring mechanism  
The RFID reader reads the unique id of the patient node 
which is the 64 bit IEEEE address of that node and provides 
it to the application. The application then connects to the 
ZigBee stack of the dongle and sends this 64 bit IEEEE 
address via ZigBee communication and requests the network 
address of that node. Once the network address is received 
by the dongle it performs a ZigBee application layer binding 
between the doctor node and that patient node.  After this a 
mobile ad-hoc network is formed and the doctor can safely 
access the patient data.  
2) Demonstrator 
In order to verify the self-configuring mechanism for 
seamless data access between patient node and doctor node 
explained above, a demonstrator is constructed. 
The ZigBee-ready temperature sensor node [22] attached 
with a RFID passive tag is used as the patient node. During 
the time of development of this demonstrator there was no 
Tablet PC available with a ZigBee module and RFID reader 
integrated. So the doctor node is represented in this 
demonstrator by a laptop connected to a ZigBee dongle and a 

450
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
RFID reader. A ZigBee dongle which offers ZigBee 2003 
compatible interface for the Plug & Play connection to a PC 
is used. The RFID reader is S4100 MFR from TI which has 
an ISO 15693 conformal RFID reader and connects via 
RS232 interface to a PC.   
RFIDZigBee is a Java application with a simple GUI for 
patient data access and runs in the laptop. The ZigBee dongle 
is connected to the RFIDZigBee via a Python based 
intermediate layer developed by us that interfaces ZigBee 
stack of the dongle to RFIDZigBee. The demonstrator setup 
is depicted in figure 4. It consists of two patient nodes and a 
doctor node.  
The doctor node is brought in close proximity to patient 
node1 and the “connect button” is clicked in the 
RFIDZigBee software. The RFID reader of the doctor node 
is able to read only the 64 bit IEEE address of patient node 1 
followed by which the ZigBee dongle binds the doctor node 
to the patient node1 to form a mobile ad-hoc network. Now 
the doctor node safely received the test data from the patient 
node 1.  
Thus the demonstration verifies that it is possible for the 
doctor node to automatically record the patient data from the 
patient node with a single button press. Besides the patient 
identification using RFID passive tag makes sure that the 
doctor receives data from the right patient and increase 
security. 
 
Figure 4.  Self-Configuration for Patient Data access by Doctor-
Demonstrator 
B. Self-Protection 
In DAN the patient data should be securely sent to the 
server of the management centre and should be automatically 
protected against any malicious attack.   
There can be two main types of security concerns in 
WSN: data confidentiality and data authentication [19]. Any 
message transmitted can be received by an intruder and 
cause confidentiality problems. Encrypting the message sent 
with a security key can solve confidentiality problems. The 
second security concern is the data authentication wherein an 
intruding node can modify and resend even an encrypted 
message. Including message integrity code (MIC) for each 
outgoing message can allow the recipient to check whether 
the message is corrupted.  
Even intrusion of any device can be prohibited through 
device authentication technique. If the nodes are not tamper-
resistant then an intruder can access the security key from the 
memory of the device. So tamper-resistant mechanisms for 
DAN nodes will have to be formulated such that once 
tampering is detected the node should automatically erase 
sensitive information. 
ZigBee supports the AES standard for data encryption 
and 
also 
supports 
measures 
for 
device 
and 
data 
authentication. However testing the AES encryption, device 
and data authentication of ZigBee for DAN and devising 
tamper-resistant techniques are open questions and are not 
addressed within the scope of this paper. Also during an 
emergency 
response 
process 
different 
work 
groups 
(emergency doctors, etc) need to access the patient data and 
each group is hierarchical. So the data access has to be 
restricted based on the type of workgroup and the hierarchy 
of its members. 
C. Fault Tolerance Mechanism 
Since DAN should operate in a hostile environment it 
should be fault tolerant to provide reliable service which is 
an open question. For example when the DAN is in operation 
the entrance of fire engine at the site can down one part of 
the network due to severe RF attenuation by the metal 
objects of the fire engine. This can be handled if a link 
degradation mechanism which can detect faulty links on the 
fly and inform the coordinator which can make alarm 
signals. 
A simple fault tolerant approach is to resort to redundant 
deployment of sensor nodes and replication of information 
between sensor nodes can be adopted to overcome some of 
the related problems. Another approach is to provide the 
whole system self-healing capability in a cooperative way. 
The self-healing feature of sensor networks provides the 
ability to adapt to unforeseeable situations, diverse 
environments, and dynamic changes.  
D. Summary 
In the self-organization of DAN section the need for self-
organization with respect to the DAN communication aspect 
is mentioned. The self-configuring and the self-healing 
feature of ZigBee can be useful for the DAN network 
formation and for the healing of routing paths respectively. A 
self-configuring mechanism for safe and easy access of the 
patient data by the emergency doctors is proposed and 
evaluated using a demonstrator.  
As part of the future work, new self-organization ideas to 
satisfy the DAN communication aspect functionalities will 
have to be developed. For instance, self-organizing 
techniques for the new patient nodes joining the DAN to 
automatically know their destination address (collector node) 
can be developed. Fault tolerance techniques leading to 
robust communication in DAN will have to be developed. 
Secure mechanisms for communicating patient data to the 
management centre and self protection techniques against 
malicious attacks will have to be developed. 

451
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
V. 
RELATED WORK FOR LOCALIZATION IN WSN 
Current localization systems like Active Badge [17], 
Cricket [16], RADAR [12], SpotON [11] and other RFID 
based systems like LANDMARC [18] require a lot of 
infrastructure while GPS [6] is not suitable for indoor 
scenarios. 
Due to the non-linear, non-Gaussian properties of our 
scenario and the unpredictable movement of the patients, 
Monte Carlo Localization (MCL) based methods are 
investigated to solve our problem. Hu and Evans [10] 
proposed a range-free localization algorithm called MCL that 
only works in mobile sensor networks. Dil et al. proposed a 
range-based version of the MCL algorithm [13]. In [14] 
Baggio et al. introduced MCB as a variant of MCL.  
In [15], Rudafshani et al. proposed MSL (Mobile Static 
Localization) as a range-free algorithm based on MCL, that 
improves localization accuracy by using the location 
estimates of all the anchor nodes and pseudo anchors present 
in first and second hops. Each node is assigned with a 
closeness value which indicates the accuracy of that node’s 
location estimate. During initialization, samples are drawn 
from the entire area. A weight is then assigned to every 
sample depending on the closeness value of its neighboring 
nodes. MSL then computes a new location estimate (the 
weighted mean of samples) and a new closeness value. After 
initialization, the new samples are drawn during prediction 
within a circle centered at the current sample location and a 
radius of the maximum node speed. 
VI. 
RSSI BASED PATIENT LOCALIZATION METHOD 
The goal is to track the patient nodes at the disaster site 
and provide their real time locations to the monitor station. 
The requirements [7] for patient tracking, that the new 
algorithm and DAN must comply with, are: handle the 
different environments (both outdoor and indoor) since 
disasters can happen at different locations; use minimum or 
no special infrastructure (static anchor nodes) due to the lack 
of deployment time; track 30-200 patient nodes moving with 
varying speed (0 to 3m/s); attain an accuracy of around 10m; 
be scalable and robust; have low computation and 
communication overhead. The main challenge here is to 
handle the varying mobility and different environments with 
adverse RF conditions and also use minimum or no 
infrastructure. Based on these requirements a Received 
Signal Strength Indicator (RSSI) based [23] patient 
localization methodology is proposed for DAN. 
At the beginning of the emergency response, a portable 
monitor station (typically a notebook) gets online; the static 
anchor nodes are deployed manually covering the disaster 
area; the emergency doctor nodes (can be a PDA with GPS 
[6]) act as mobile anchors; once a patient is found the doctor 
provides him with a wearable patient node. Each patient 
node runs a decentralized localization algorithm to estimate 
its real time location and sends it to the monitor station. 
In DAN the only information about the patient node is its 
maximum speed
vmax
, so our system equation is modeled as 
shown in equation (1). 
                         
w
x
x
k
k
+
=
−1
                                        (1) 
where 
(
)
T
k
k
k
y
x
x
,
=
 is the position of the patient node at 
time unit k  and w  is a random variable which is uniformly 
distributed within a circle centered around the zero vector 
with radius of the maximum speed value of the node
vmax
. 
After each time unit, a patient node requests for the 
position, the RSS and the closeness value (a measure of the 
accuracy of the neighboring node’s position estimate) of its 
entire one-hop neighbors. The patient node collects these 
values and estimates the ranges (distances) to these 
neighbors based on the RSS. Each range measurement is 
modeled according to the measurement equation (2) 
 
v
x
x
z
k
k
k
+
−
=
~
 
(2) 
where 
(
)
T
k
k
k
y
x
x
,
=
 and 
(
)
T
k
k
k
y
x
x
~ = ~ , ~
 are the 
positions of the patient node and the one-hop neighbor after 
time unit k , respectively, 
kz  is the range measurement and 
v  is a Gaussian random variable with mean 
v
μ  and standard 
deviation 
v
σ . The values for 
v
μ  and 
v
σ  are given by the 
systematic and random error of the measurement model that 
is used for simulating the distance estimations of the patient 
node in our simulator. However, in a real scenario these 
values are deduced from the environmental factors i.e. all 
anchor nodes within the transmission range of each other 
compute the error between their actual distance and their 
estimated distance. All these values are collected in a single 
node and the mean 
v
μ and the standard deviation 
v
σ  are 
calculated.  
Once the patient node estimates the distances to its one- 
hop neighbors it runs a new decentralized position estimation 
algorithm. None of the algorithms mentioned in Section V 
exactly meets the specific requirements for patient position 
estimation, in their current form. In terms of accuracy error, 
computation cost and communication cost, MSL from 
Rudafshani et al. acts as a good base for our scenario because 
it works well with any number of static and mobile nodes in 
an irregular shaped sensor network. But since MSL is a 
range-free algorithm it is unable to reach the required 
accuracy of our scenario. So we used MSL as base and 
developed 
the 
Range-Based 
Monte 
Carlo 
Patient 
Localization algorithm (MPL) [27]. MPL gave encouraging 
results with a Gaussian measurement model but we want to 
test our patient tracking solution with a realistic non-
Gaussian measurement model and improve its performance. 
So in this paper we have developed the ‘Improved Range-
Based Monte Carlo Patient Localization’ (IMPL). Also, to 
compare IMPL’s performance with other non-linear filter 
approaches and to find its suitability for patient tracking we 
have developed a new unscented Kalman filter based 
algorithm called ‘Range-Based Unscented Kalman Filter 
Patient Localization’ (UPL). Either IMPL or UPL runs in 

452
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
each patient node to estimate its location and communicates 
it to the monitor station. 
A. Improved Range-Based Monte Carlo Patient 
Localization (IMPL) 
IMPL [1] maintains a weighted sample set in order to 
estimate the patient node’s position. Our new additions in 
IMPL are: 
• 
Transmission range-based anchor boxing during 
initialization. 
• 
Removing the usage of two-hop neighbors and 
conditional selection of one-hop pseudo anchors to 
gain higher accuracy and reduce computational costs 
• 
A new method for sample weighting. 
IMPL mainly consists of three steps: prediction, weighting 
and resampling. 
1) Prediction: The prediction step depends on whether 
there’s already an established sample set (after initialization) 
or not (during initialization).  
 
 
Figure 5.  Forming the anchor box 
In prediction during initialization, first the area to be 
sampled from is constrained to an anchor box. The region 
covered by the transmission range r  of each one-hop anchor 
is approximated to a box as shown in figure 5. The 
overlapping area of all the boxes (shaded area in figure 5) 
forms the anchor box. Then 50 uniformly distributed samples 
are drawn from the anchor box. In prediction after 
initialization, we take each sample from the previous time 
step and form a circle of radius 
addition
v
max +
centered at 
that sample’s position. From every circle one new sample is 
drawn. 
2) Weighting: A weight is calculated for each sample 
(based on the range measurements) to know if the sample is 
good or bad. In order to weight the sample i  all range 
measurements to one-hop anchors and to one-hop pseudo 
anchors with a closeness value less than the current blind 
node’s closeness value are selected. If the range 
measurement 
j
rm  to one-hop neighbor j  is selected, a 
partial weight 
ij
wp  will be computed for it. Therefore the 
range measurement is projected onto a Gaussian distribution 
(see figure 6), which has 
v
d
μ
μ
+
=
 as mean, where d  
is the distance between the sample and the one-hop 
neighbor, and 
v
σ  as standard deviation (see (2)). 
 
Figure 6.  Calculating the partial weight 
So the partial weight 
ij
wp  for sample i  and range 
measurement 
j
rm  is calculated as 
 
(
)
(
)
2
2 /
5.0
2
1/
v
rmj
v
ij
e
wp
σ
μ
π
σ
−
⋅ − ⋅
=
. 
(3) 
The total weight 
iw  for sample i  is the product of all 
the partial weights. 
3) Resampling: After normalizing the weights of the 
sample set, samples are redrawn from the normalized 
sample set with a probability proportional to their weights. 
The size of the sample set remains the same and the same 
weight is assigned to all new samples such that the weights 
are normalized. 
The position estimate (
x, y)
 of the blind node is 
calculated as the weighted mean of the sample set. The 
closeness value for blind node p  with N  samples is 
computed as 
 
(
)
(
)
∑ =
−
+
−
=
N
i
i
i
i
p
N
y
y
x
x
w
closeness
1
2
2
/
 (4) 
where (
i yi )
x ,
 denotes the position of sample i , 
iw  
denotes the weight of the sample i  and (
x, y)
 is the current 
location estimate of node p . The anchor nodes always have 
a closeness value of 0. 
B. Range-based Unscented Kalman Filter Patient 
Localization (UPL) 
UPL [1] is based on an unscented Kalman filter [8] 
which only approximates the mean 
+
kxˆ  and the covariance 
+
kP  of the posterior after time unit k . The trace of the 
covariance matrix provides the closeness value and indicates 
the position estimate’s accuracy. In UPL distance 
measurements (measurement vector
kz
) to all one-hop 
anchors and to all one-hop pseudo anchors whose closeness 
value is below a threshold value (100) are used.  
The mean 
+
0ˆx  and the covariance 
+
0P  at time unit 0 are 
initialized with the mean and the covariance of a uniform 
distribution on a rectangle representing the area of the 
network, because there is no information about the patient 

453
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
node’s position at the beginning. Since the system equation 
is linear the prediction step of the Kalman filter is used to 
calculate the mean 
−
kxˆ  and the covariance 
−
kP  of the prior 
distribution after time unit k as shown in (5). 
 
k
k
k
k
k
Q
P
P
x
x
+
=
=
+
−
−
+
−
−
1
ˆ 1 ,
ˆ
 
(5) 
where 
k
Q  is the covariance of a uniform distribution on a 
circle with radius 
vmax
. 
In the filtering step a set of four so-called sigma points 
ksi
 is deterministically chosen (see (6) and (7)) whose 
ensemble mean and covariance are equal to 
−
kxˆ  and
−
kP , 
respectively [8]. 
 
(
)
2,1
,
2
ˆ
=
⋅
+
=
−
−
i
P
x
s
T
i
k
k
i
k
 
(6) 
 
(
)
4,3
,
2
ˆ
2
=
⋅
−
=
−
−
−
i
P
x
s
T
i
k
k
i
k
 
(7) 
For every selected one-hop neighbor all sigma points are 
transformed according to the corresponding measurement 
equation. If 
(
)
j T
k
j
k
j
k
y
x
x
~ = ~ , ~
 is the position of one-hop 
neighbor j , then one obtains (8). 
 
v
j
k
i
k
ij
k
x
s
t
+ μ
−
=
~
, 
(8) 
where  
ktij
 is the transformation of sigma point 
i
ks . All 
transformed sigma points, which correspond to the same 
sigma point, form a transformed sigma point vector
i
kt . 
The predicted measurement vector 
kzˆ  is computed as 
 
(
) ∑ =
⋅
=
4
1
1/ 4
ˆ
i
i
k
k
t
z
 
(9) 
The covariance of the predicted measurement vector and 
the cross covariance between 
−
kxˆ  and 
kzˆ  are obtained as 
shown in (10) and (11). 
 
(
)
(
)(
)
k
i
T
k
i
k
k
i
k
ky
R
z
t
z
t
P
+
−
−
⋅
=
∑ =
4
1
ˆ
ˆ
1/ 4
, 
(10) 
 
(
)
(
)(
)
∑ =
−
−
−
⋅
=
4
1
ˆ
ˆ
1/ 4
i
T
k
i
k
k
i
k
kxy
z
t
x
s
P
 
(11) 
where 
k
R  is a diagonal matrix with all its main diagonal 
entries equal to 
2
v
σ .  
Now the filtering step of the Kalman filter can be applied 
to calculate the mean and the covariance of the posterior. 
 
(
)
−1
=
y
k
xy
k
k
P
P
K
 
(12) 
 
(
)
T
k
y
k
k
k
k
k
k
k
k
k
K P K
P
P
z
z
K
x
x
−
=
−
+
=
−
+
−
+
,
ˆ
ˆ
ˆ
 (13) 
VII. PERFORMANCE EVALUATION 
We used the simulator used by Rudafshani et al. [15] to 
develop and test our algorithms. In order to do simulations 
close to reality we added the following new features: disaster 
management mobility model, range measurement model, 
anchor position error. 
Disaster management mobility model: In order to create a 
mobility model that replicates the MANV scenario (see 
Section II) and test our algorithm a new trajectory based 
mobility model is developed. Since the nodes move in a 
random fashion in the random waypoint mobility model it 
cannot be used for modeling our scenario. This new mobility 
model is used to setup a MANV-disaster management 
scenario (see figure 7) within an area of 500m x 500m with 
100 nodes that include 15 static and 35 mobile anchor nodes. 
The maximum speed of all nodes is set to 3m/s. At the 
beginning of the simulation the doctor nodes appear 
dynamically at the site followed by the patient nodes. Most 
of the patients are moved from one zone to another 
accompanied by at least one doctor. When a patient node 
arrives at the transport zone it leaves the site after predefined 
time units. Similarly the doctor nodes leave the site, too. 
 
 
Figure 7.  Disaster management mobility model 
The simulations are also done for the random waypoint 
mobility model [5] in order to find the influence of certain 
parameters (transmission range, etc.) on the algorithms’ 
performance. 

454
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
Anchor position error: We incorporate erroneous anchor 
positions into the simulation. An additive zero-mean 
Gaussian error is used with a 3 sigma bound of 2m for static 
anchors and 10m for mobile anchors. 
Range measurement model: We create a close to realistic 
measurement model. An outdoor area with adverse RF 
conditions, is setup with a sensor network and real RSS data 
is collected to obtain the distance estimations. A frequency 
distribution of the distance estimation error is plotted. The 
frequency distribution of error is analyzed along with the 
evolution of error over time and two factors are noticed: 
First, most of the time the actual distance is underestimated 
and second, the error is time-correlated. In order to account 
for the time-correlation the simulator keeps a state variable 
between all pairs of nodes which need to perform a distance 
measurement. Every state corresponds to one certain base 
error value in the range between -70m and 30m. Accessorily, 
a zero-mean Gaussian random error with a standard 
deviation of 5m is added to the base error. After a range 
measurement the state of the correspondent pair is updated 
according to a Markov chain. It may remain the same or a 
transition into the state with the next base error value below 
or rather above may occur. The transition probabilities are 
empirically determined to fit the error distribution of the 
outdoor experimental data. The mean and the standard 
deviation of the outdoor error distribution are used as 
systematic and random error of the measurement model, 
respectively. Since MSL is a range-free position estimation 
algorithm it is not affected by the range measurement model. 
In all simulations we used an ideal transmission range of 
200m for all nodes. 
A. Simulation results for random waypoint mobility model 
The simulation setup is made considering an area of 
400m x 400m with a total of 100 nodes that include 10 static 
and 20 mobile anchor nodes. All nodes move according to 
the random waypoint mobility model with their maximum 
speed set to 3m/time step. 
1) Accuracy using a static model: To simulate a static 
model the maximum velocity of all nodes is set to 0m/time 
step. IMPL has an average error of 5.22m while UPL has an 
average error of 9.10m (see figure. 8). IMPL can therefore 
handle a static scenario better than UPL. The average error 
of MSL is 14.41m.  
 
 
Figure 8.  Accuracy using a static model 
2) Accuracy over time: The average error of IMPL is 
similar to the average error of UPL but IMPL needs less 
time to converge during simulation start (see figure 9). The 
average error of MSL is constantly high.  
3) Accuracy over varying transmission range: figure 10 
shows that as the transmission range increases, the average 
error of both IMPL and UPL reduces. This is because with 
increasing transmission range the number of neighboring 
nodes (anchors or pseudo anchors) also increases. The 
accuracy error of MSL worsens with high transmission 
ranges which can be due to its weighting step. 
4) Accuracy over varying number of blind nodes: As the 
number of blind nodes increases, both IMPL and UPL 
improve their accuracy slightly, showing that the usage of 
pseudo anchors has a positive effect. Compared to IMPL the 
accuracy error of MSL is very high (see figure 11). 
 
 
Figure 9.  Accuracy over time in the random waypoint mobility model 
 
Figure 10.  Accuracy over varying transmission range 
 
Figure 11.  Accuracy over varying blind nodes 

455
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
5) Accuracy over varying number of anchor nodes: The 
error of MSL stabilizes only when there are 20 anchor 
nodes. When the number of anchor nodes are less IMPL 
performs better than UPL. As the number of anchors 
increase both IMPL and UPL have  similar accuracy error 
(see figure 12).  
In Fig. 11 and 12 as the number of nodes increases (blind 
nodes and mobile reference nodes), both IMPL and UPL 
attain an accuracy of 5m to 10m implying that the algorithms 
scale with network node size in terms of accuracy. 
6) Accuracy over varying sample set size: IMPL needs 
at least 20 samples to attain an average error of around 5m. 
MSL also converges at around 20 samples but its average 
error is significantly higher. After around 50 samples the 
average error of IMPL does not improve much so we chose 
a maximal sample set size of 50 (figure 13). 
    
 
Figure 12.  Accuracy over varying anchor nodes 
 
Figure 13.  Accuracy over varying sample set size 
B. Simulation results for  disaster management mobility 
model 
Here IMPL and UPL are simulated for the disaster 
management mobility model described in Section VII.  
1) Accuracy over time: IMPL achieves an average 
accuracy of 6.78m whereas UPL has an average accuracy of 
7.87m (see figure 14). In between 600s and 1600s the 
accuracy of IMPL is stabilized. Before 600s and after 1600s 
the average error is less stable. This is due to the dynamic 
addition and removal of doctor and patient nodes which act 
as anchors and pseudo anchors, respectively.  
 
Figure 14.  Accuracy over time in the disaster management mobility model 
2) Number of bad localized nodes for IMPL over time: 
figure 15 shows that between 400s and 1200s almost all 
doctor and patient nodes are present. Around 20 patient 
nodes are localized with an error less than 5m and another 
20 nodes with an error between 5m and 10m. The achieved 
accuracy is within the requirements defined in Section VI. 
The number of bad localized nodes for UPL was similar to 
that of IMPL. 
 
Figure 15.  Bad localized nodes for IMPL in the disaster management 
mobility model 
3) Computation Cost: The average arithmetic operations 
required to run IMPL or UPL once, at a particular time step 
are counted to form the computation cost as shown in figure 
16. Although theoretically the computational costs of a 
particle filter based solution are higher than that of an 
unscented Kalman filter based approach [8], Fig. 13 shows 
the opposite for IMPL and UPL. This is because we have a 
smaller sample set size for IMPL in comparison to general 
particle filters used in Robotics [9]. UPL’s high 
computation cost is due to its handling of high dimensional 
measurement vectors (because of large number of 
neighbouring nodes) which involves complex matrix 
operations. 

456
International Journal on Advances in Intelligent Systems, vol 2 no 4, year 2009, http://www.iariajournals.org/intelligent_systems/
 
Figure 16.  Computational cost in the disaster management mobility model 
VIII. CONCLUSION AND FUTURE WORK 
In this paper ZigBee’s 2.4 Ghz operation is tested using 
ranging experiments and the results show that ZigBee is 
basically suitable for DAN even though further empirical 
investigations for co-existence and RF signal attenuation will 
be future work. The self organizing features of ZigBee are 
are useful for DAN even though not enough. A new self-
configuration mechanism for seamless patient data access by 
the doctor at the disaster site is proposed and verified by us 
using a demonstrator. 
We have also proposed two Bayesian filter based 
position estimation algorithms - IMPL and UPL for tracking 
patients during emergency response. We have simulated 
IMPL and UPL using two mobility models - disaster 
management mobility model and random waypoint mobility 
model under realistic simulation setups (an outdoor 
experiment based range measurement model and anchor 
error inclusions). The simulation results for the random 
waypoint mobility model show that the average accuracy 
error over time is almost same (around 5.6m) for both IMPL 
and UPL while MSL has a high accuracy error (11.3m). 
With less number of anchor nodes and low transmission 
range, the accuracy error of IMPL is better, but as these 
values increase both IMPL and UPL have a similar 
performance. The simulation results for the disaster 
management mobility model show that both IMPL and UPL 
satisfy the requirements for patient tracking in terms of 
accuracy. Half the number of patient nodes has a localization 
error less than 5m and the other half (almost) is between 5m-
10m. In terms of computation cost IMPL is better than UPL, 
but this is an indication obtained from a simple computation 
model. The results show that IMPL is better than UPL for 
patient tracking and in tandem with the emergency response 
system facilitates efficient logistics management at the 
disaster site. A demonstrator with IMPL running in each 
node will be implemented and tested as part of future work. 
REFERENCES 
[1] 
A. Chandra-Sekaran, P. Weisser, C. Kunze, and K. Mueller-Glaser, A 
Comparison of Bayesian Filter Based Approaches for Patient 
Localization During Emergency Response to Crisis, in The Third 
International Conference on Sensor Technologies and Applications 
(SENSORCOMM 2009 ), Athens, Greece, 2009.  
[2] 
Strategische Neukonzeption der ergänzenden technischen Ausstattung 
des Katastrophenschutzes im Zivilschutz - Dr. Meyer-Teschendorf 
Projekt-Ref: P. Rechenbach 
[3] 
Chandra-Sekaran, A., et al.: Efficient Resource Estimation During 
Mass Casualty Emergency Response Based on a Location Aware 
Disaster Aid Network. EWSN,vol.4913/2008. ISSN0302-9743, 2008. 
[4] 
Organisationsrahmenplan für erste Maßnahmen am Unfallort, den 
Transport und die stationäre Versorgung Schwerbrandverletzter bei 
einem Massenanfall- Stuttgart, 1982. - 24 S.; (dt.) 
[5] 
Tracy Camp et al.:. A Survey of Mobility Models for AdHoc 
Network Research.Wireless Communication&Mobile Computing’02. 
[6] 
Global Positioning System http://www.gps.gov/ 
[7] 
Lechtleutner, Prof.:„MANV Anforderung Fragebogen Antwort 
Fachhochschule Köln, Rescue Engineering. 
[8] 
Simon, Dan: Optimal State Estimation John Wiley & Sons, 2006. 
[9] 
Probabilistic Robotics by sebastian Thrun, Burgard and Dieter Fox. 
[10] Hu and Evans: Localization for Mobile Sensor Networks. Conference 
on Mobile Computing and Networking (MobiCom), 2004. 
[11] Hightower, et al. SpotON: An indoor 3D location sensing technology 
based on RF signal strength, Tech. Report’00: Univ. of Washington. 
[12] Bahl, P. et al. RADAR: An inbuilding RF based user location and 
tracking system, Proc. of IEEE Infocom. vol. 2, pages 775-784, 2000. 
[13] Dil, Bram, et al.: Range-based localization in mobile sensor networks. 
Proc. of the 3rd European Workshop on WSN. pp. 164-179, 2006. 
[14] Baggio, Aline and Langendoen, Koen: Monte-Carlo localization for 
mobile wireless sensor networks Technical Report TU Delft. 2006 
[15] Rudafshani, et al.: Localization in Wireless Sensor Networks. Proc. of 
Information processing in sensor networks’07 conference. pp. 51-60. 
[16] Priyantha, et al.: The Cricket Location Support System, Proc. of 
Mobile computing and networking (MobiCom’00). pages 32-43. 
[17] Want, R., et al., The active badge location system, ACM Trans. Inf. 
Syst., pages 91-102, 1992. 
[18] Muthukrishnan, 
et 
al.:Towards 
Smart 
Surroundings:Enabling 
Techniques and Technologies for Localization.  Proc. of  LoCA 2005. 
[19] S. Farahani, ZigBee Wireless Networks and Transceivers. Newnes, 
2008. 
[20] ZigBee-Alliance, ZigBee Specification 2006, 053474th ed., 2006. 
[21] R. R. Rao and J. Eisenberg, Improving Disaster Management: The 
Role of IT in Mitigation, Preparedness, Response, and Recovery. 
National Academies Press, 2007. 
[22] A. Chandra-Sekaran, A. Nwokafor, L. Shammas, C. Kunze, and 
K. Mueller-Glaser, A Disaster Aid Sensor Network using ZigBee for 
Patient Localization and Air Temperature Monitoring, International 
Journal on Advances in Networks and services, no. ISSN: 1942-2644, 
pp. 68–80, 2009. 
[23] A. Chandra-Sekaran, P. Dheenathayalan, P. Weisser, C. Kunze, and 
W. Stork, “Empirical Analysis and Ranging using Environment and 
Mobility Adaptive RSSI Filter For Patient Localization during 
Disaster Management,” in The 5th International Conference on 
Networking and Services (ICNS 2009), Valencia, Spain, 2009. 
[24] Texas-Instruments, CC2430DB Demonstration Board User Manual, 
2007. 
[25] G. Kupris, Channel Agility and ZigBee / WLAN (IEEE 802.11 g and 
n) Coexistence, Freescale Semiconductor, Tech. Rep., 2008. 
[26] Rmoni-Wireless, ZigBee- Do we still need wires? FEE Measurements 
in Automotive, June 2007. 
[27] A. Chandra Sekaran, G. Stefansson, C. Kunze, K. Mueller-Glaser, 
and P. Weisser, “A Range-Based Monte Carlo Patient Localization 
during Emergency Response to Crisis,” in The Fifth Advanced 
International Conference on Telecommunications (AICT 2009), 
Venice, 
Italy, 
2009.  
 

