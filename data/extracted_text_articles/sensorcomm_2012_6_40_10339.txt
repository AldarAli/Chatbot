On Estimating Mote Operation Times During
Typical Cross-Layer Functions
Sankarkumar Thandapani and Aravind Kailas
Dept. of Electrical Engineering
The University of North Carolina at Charlotte (UNC Charlotte)
9201 University City Blvd,
Charlotte, NC 28223-0001
Email: sthandap@uncc.edu, aravindk@ieee.org
Abstract—When it comes to deploying large scale, low
power wireless networks comprising battery-operated em-
bedded systems or motes, frequent replacement of batteries
is undesirable. This motivates estimating the energy con-
sumption in wireless motes accurately prior to deployment,
and would avoid “sudden” decreased network coverage
owing to pre-mature mote deaths. Using our proposed
model, the energy consumption in the PHY layer was found
to be within 10–15 % of the actual value obtained using
measurements, and corresponded to an accuracy of 2–
10% in the mote life. Furthermore, the cross-layer energy
proﬁling involving the MAC layer provided insights into
the energy consumed during the key modes of a simple,
practical MAC protocol. To summarize, the primary pur-
pose of this paper is to proﬁle the energy consumption in a
mote using a novel “off-line” model to predict its operation
life with high accuracy.
Index Terms—Modeling and simulation of systems, prac-
tical medium access control protocols (MACs), energy
efﬁciency
I. INTRODUCTION
Most of the wireless motes are battery backed and
are deployed in remote areas. Hence, replacing their
batteries could be extremely difﬁcult [1]. Accurate en-
ergy proﬁling of the motes still remains a key challenge
in modeling the sensor networks [2]. The lifetime of
sensor nodes may often be signiﬁcantly shorter than
expected. Szewczyk et al. found that their habitat-
monitoring wireless network shrunk drastically due to
mote failures within four days of deployment [3]. It
has been observed that there were as many as 50 %
of the wireless motes unexpectedly owing to inaccu-
racies in the energy consumption model. Thus, energy
evaluation before deployment is extremely important.
Hence, an accurate energy consumption model would
help in avoiding expensive unexpected mote failures.
The outcome of our research work is a simple, novel,
system-level, “off-line” tool that accurately models the
energy consumption exclusively in the PHY layer, (i.e.,
the transceiver (or the radio) and the micro controller
(µC)) and a cross-layer energy consumption proﬁling
involving the MAC layer. In areas involving commercial
and scientiﬁc applications, low-power networks that op-
erate in the industrial/scientiﬁc/medical (ISM) bands of
2.4 GHz are being widely adopted. Considering this, the
effectiveness of the proposed model has been validated
using commercial ZigBee-ready motes [4].
A wireless sensor network is composed of many sen-
sor motes. A wireless mote comprises of transceiver, µC
and sensor. In our paper, the PHY and the medium access
control (MAC) layer are the focus areas for the energy
consumption model. The classiﬁcation of a transceiver
would include radio frequency (RF) front-end (FE) and
baseband processing back-end (BE). The front-end (FE)
would in turn comprise of low noise ampliﬁers (LNAs),
power ampliﬁers (PAs), mixers, ﬁlters, voltage controlled
oscillators (VCOs), frequency synthesizers, intermedi-
ate frequency ampliﬁers (IFAs), automatic gain control
(AGC) units, analog-to-digital converters (ADCs), and
digital-to-analog converters (DACs) [5], [6]. The back-
end (BE) comprises of blocks that perform functions as
modulation, demodulation, error detection and correc-
tion, and pulse shaping.
The motes available in the industry are LOTUS [7],
TelosB [8], MICAz [9], IRIS [10], CRICKET [11], etc.
While deploying the mote, it is important to choose
the right mote. It is remarked that measurements are
necessary to validate the simulations, and there is the
possibility to perform these measurements. However, it
is very complex to measure the power directly and easier
to simulate the energy consumption in a mote. It is
necessary to treat the chip as one entity. In a simulation,
the energy consumption of each block can be obtained
and this information is useful when energy hogs in
a mote needs to be studied. The proposed algorithm
for modeling the energy consumption is “generic” in
the sense that some of the more traditional receiver
(e.g., low-power IF) and transmitter (e.g., direct-up
136
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

conversion) architectures that are very speciﬁc in their
implementations [12].
The organization of the paper is as follows. Sections II
and III describe the related state-of-the-art in predicting
the energy consumption in wireless motes, and the novel
energy consumption model. In Section IV, the experi-
mental setup, methodology, and the results are presented.
Finally, Section V has the concluding remarks resulting
from this work.
II. RELATED WORK
Although recent research provides many system-level
energy consumption models, the accuracy of the model
and completeness still remains an open topic to research.
For instance, Cui et al. developed an energy model for
low-power wireless motes to analyze the best modulation
technique and transmission strategy to minimize energy
consumption [6]. However, the energy costs associated
with the µC and the modulation techniques were not
considered; using our model, we show that when the
modulation technique is considered, the architecture of
the transceiver changes and the energy consumption
increases by approximately 100%. The power consump-
tion of the µC is non negligible too [14]. Our energy
model considers the µC energy model which results in
the higher accuracy of predicting the lifetime of the
mote. The simulator presented in [15] considers the
energy proﬁling of the µC but there a problems such
as over counting and under counting of instructions
which has been eliminated in our model. An energy
model based on the transceiver battery life has been
presented in [1]; however, the model did not account
for the power consumption in the modulator, ﬁlters, the
ADC, and the DAC. Using our model, we show that the
powers consumed by the ADC and DAC are 1.4 mW
and 19.01 mW, respectively, and cannot be disregarded.
Another recent energy model took into consideration
most of the RF FE blocks with the exception of the
pulse shaping ﬁlter because it is usually very low relative
to the other “energy-hogs” [5]. However, the model
also did not consider other baseband functions such as
modulation and coding.The energy consumption in the
MAC layer has not been studied in any of the above
mentioned works. Kohvakka et al. in [17] have shown
that the energy consumption due to the MAC depends
on the number of nodes and the beacon interval. Our
analysis of the energy consumption due to the MAC
layer shows the key energy consuming modes in a MAC
protocol. To summarize, the energy proﬁling of the µC is
important to accurately estimate the energy consumption
in PHY layer. The model proposed in the paper takes into
consideration the effects of the modulation technique
along with the baseband processing blocks, the µC and
the MAC layer resulting in a more accurate and complete
estimation of the lifetime of a mote.
III. THE ENERGY CONSUMPTION MODEL
The proposed energy consumption model has been
adapted to the on-chip radio architecture [18], [19] to
accommodate the preferred modulation technique, offset-
quadrature phase shift keying (O-QPSK) and is shown
in Fig. 1. The energy equation of each block proposed
by many researchers has been tweaked to accommodate
them as a part of the whole chip. Parameters such
as voltage, device dimensions, frequency, data rate are
common to all components in the chip and do not
vary. Hence, they can be considered as constant and the
expression becomes a function of the variables.
A. Physical Layer in a Wireless Mote
A PHY layer of the wireless mote mainly consists of
the transceiver and the µC. The energy consumption in
the PHY layer is given as: EMote = ETransceiver + EµC.
1) The Transceiver: We have used MICAz motes to
validate our model because of their wide popularity and
extensive use in the sensor network community. MICAz
motes operate on 2.4 GHz, and support data rates of up
to 250 kbps [18], [19]. The operating voltage range is
2.1−3.6 V [19], and traditionally has four distinct oper-
ation modes depending upon the power requirements.
The system-level breakdown of the energy consump-
tion in the RF transceiver is given by Etransceiver =
X
i
EFE,i + EBE,i, where i ∈ {Transmitter, Receiver},
and EFE and EBE denote the energy consumptions in
the front- and back-ends, respectively.
The RF FE of a transmitter comprises of a DAC, low-
pass ﬁlter (LPF), mixer, PA, and the BE is the digital
spreader. Similarly, the RF FE of the receiver is made
up of a ADC, IFA, band pass ﬁlter (BPF), mixer, and
a digital despreader as the BE block. The frequency
synthesizer (FS) is common to both the transmitter
and receiver architectures. Therefore, a simple uniﬁed
expression for the energy consumption in the transceiver
137
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

I
Q
Serial to 
Parallel
Spreader
I
Q
I
Q
Serial to 
Parallel
PA
Frequency 
Synthesizer
Despreader
IFA
IFA
IFA
Microcontroller
Fig. 1.
Generic physical layer architecture of a wireless mote (a MICAz mote, in this paper).
is given by:
Etransceiver = ttx

PSpreader
| {z }
BE, Transmitter
+ 2PDAC + 2PLPF + 2PMixer + PFS + PPA
|
{z
}
FE, Transmitter

+trx

PDespreader
|
{z
}
BE, Receiver
+ 2PACD + 2PIFA + 2PMixer + PFS + PLNA
|
{z
}
FE, Receiver

,
where ttx and trx are the time durations during which
the mote is operating in the transmitting or the receiv-
ing mode, respectively. Next, the simpliﬁed analytical
models for the principle “power hogs” are listed:
• Power ampliﬁer: PP A = αPout, where α is a
constant that depends on efﬁciency of ampliﬁer
and peak to average ratio and Pout is the output
power.
• RF Filter: PF ilter = βSNR2BW, where SNR is
the signal to noise power ratio, β is a constant that
depends on Boltzmann’s constant, the temperature,
and BW is the bandwidth of operation.)
• Low noise ampliﬁer: PLNA = γ A
NF, where γ is
the proportionality constant, A is the gain of the
low noise ampliﬁer, and NF is the noise ﬁgure.
• Intermediate
frequency
ampliﬁer:
PIF A
=
δ(BW + f0)√αBA [5], where δ is a coefﬁcient
which depends on the device dimensions and
process parameters, BW is the bandwidth of the
baseband ampliﬁer, f0 is the center frequency, and
αBA is the baseband ampliﬁer gain.
• Spreader (and Despreader): PSpreader = PXOR +
NPSR, where PXOR is the power consumption of
the XOR gate, PSR is the power consumption of the
shift register, and N is the number of shift registers.
2) The µC:
The µC on a MICAz mote is AT-
mega128L, a low-power CMOS 8-bit µC based on
the enhanced reduced instruction set computer (RISC)
architecture. The energy consumption of a µC can be
given as: EµC = I∗V∗N
F
, where I is the current supply,
V is the voltage supply, N is the number of cycles, F
is the frequency of operation.
The operating system on the MICAz is TinyOs.
TinyOS is a free and open source component-based
operating system and platform targeting wireless sensor
networks. TinyOS applications are written in nesC, an
extension to the C programming language designed to
embody the structuring concepts and execution model of
TinyOS. The nesC code has been converted into assem-
bly language code, a low-level programming language
for µCs using XATDB, the debugger of a sensor network
simulator [21] in order to ﬁnd the energy consumed by
the µC while running the executable code. The assembly
language code is used to compute the cycle count using
XATDB and is substituted in the above equation.Data
such as the supply voltage, supply current, and frequency
of operation has been taken from the ATmega 128L data
sheet [22]. The predicted energy consumption of the µC
to run the executable code is 15 mJ.
138
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

B. MAC Layer in a Wireless Mote
The MAC protocol on a MICAz follows the IEEE
802.15.4 protocol [9], and supports two kinds of
modes: beacon and non-beacon enabled. In a beacon
enabled mode, the motes synchronize with each other
and transmit only during their speciﬁed beacon. In a non-
beacon mode carrier sense multiple access with collision
avoidance (CSMA/CA) is used in order to avoid collision
of the packets.
1) CSMA/CA: In CSMA/CA protocol, as soon as a
node receives a packet that needs to be transmitted,
it checks if the channel is available, and transmits it.
If the channel is busy, the node waits for a randomly
chosen period of time, and then checks again to see if
the channel is available. If the channel is clear when
the back-off counter reaches zero, the node transmits
the packet. If the channel is not clear when the back-
off counter reaches zero, the back-off factor is set again,
and the process is repeated.
2) Beacon mode: It is an energy efﬁcient mode and,
hence choice for our model. The beacon enabled mode
is used by motes to synchronize with each other. The
communications are performed in a super frame structure
illustrated in Fig. 2. There are three main parts in a super
frame viz. the beacon, contention access period (CAP)
and contention-free period (CFP). The nodes enter into
power saving mode at the end of the super frame. The
coordinators listen to the channel during the whole CAP
to detect and receive any data from their child nodes.
The child nodes may only transmit data and receive an
optional acknowledgement (ACK) when needed.
Fig. 2.
Superframe structure (Beacon-enabled mode) implemented.
Contention access period (CAP) is the time interval
during which the coordinators listens to the channel dur-
ing the whole CAP to detect and receive any data from
their child nodes. The child nodes may only transmit data
and receive an optional acknowledgement (ACK) when
needed. In star networks, a device may obtain better
Quality- of-Service (QoS) by the use of guaranteed time
slot (GTS), since contention and collisions are avoided.
The superframe duration (SD) is the time interval be-
tween two super frames. Similarly the beacon interval
(BI) is the time duration between two beacons.
3) Cross-Layer
Energy
Proﬁling:
The
energy
consumption
during
a
MAC
mode
is
given
by
Ei
=
Ei,Beacon + Ei,Direct + Ei,Indirect + Ei,Sleep, i
∈
{mote, coordinator}. In the Beacon
Mode the
transmitted beacon by the coordinator is received by the
mote during this mode.In the Direct Mode, the mote
exchanges data with the coordinator in its speciﬁed
beacon slot.In the Indirect Mode, downlink data from
a coordinator to its child node are sent indirectly
requiring totally four transmissions. The availability of
pending data is signaled in beacons. First, a child node
requests the pending data by transmitting a data request
message. The coordinator node responds to the request
with ACK frame, and then transmits the requested data
frame. Finally, the child node transmits ACK if the data
frame was successfully received. A schematic of the
start-topology is shown in Fig. 3.
Fig. 3.
Schematic of the star-network topology implemented using
MICAz motes.
IV. RESULTS AND DISCUSSIONS
A. Experimental Setup
The energy consumption due to the PHY layer of the
mote was veriﬁed experimentally. A source-destination
link was implemented using MICAz motes as shown
in Fig. 4. A payload of 20 bytes was transmitted by
the source every 250 ms, and the base station (i.e., the
destination) received payload at intervals of 250 ms. A
sampling rate of 400 Hz was chosen to log the voltage
and current consumption at the two motes to calcu-
late the power consumption. The test consisted of 100
samples of current and voltage every second. The data
was collected over a period of three days. The power
consumed during a random hour was calculated and
plotted with the simulation values. The samples obtained
from the data logger were used to compute the power
139
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

consumption per sample, which were then averaged
to obtain PTransmitter and PReceiver, the power consumed
during the transmit and receive modes, respectively. The
wireless motes were powered by two AA-sized batteries,
each rated at 3000 mAh [25], which when multiplied
with the operating voltage yielded the initial residual
energy, which in turn was used in the estimation of the
mote operation life.
Fig. 4.
(a) Illustration of the experimental setup and (b) timing
diagram.
B. PHY Layer Energy Consumption Analysis
MATLAB [23] was used to implement the analytical
model. The parameters for the transceiver model were
selected from the CC2420 data sheet [19]. The energy
consumption in the two modes of operation (transmit and
receive) were estimated using the approach described
in Section III. A, and the mote operation lives were
compared to the experimentally measured values to
validate the analytical model.
Figs. 5 and 6 illustrate the variation of residual energy
(in mJ) with time of operation (in hours) at the trans-
mitting and receiving motes, respectively. From Figs. 5
and 6, it can be observed that the energy consumptions of
the transmitter and receiver obtained using our analytical
model, are within 10.6% and 15% of the experimentally
measured values. These differences can be accounted for
by the light-emitting diodes (LEDs), battery leakage, on-
board passive elements (i.e., resistors and capacitors) and
voltage regulator that have not been considered in the
analytical model.
The battery self discharge is negligible (typically 2–
3% per month) in comparison to the discharge due to
the load, and hence, neglected. Figure 7 illustrates the
energy consumption (in mJ) for a certain payload, in the

µC. The linear equation for the transmitter analytical
model is given by R = −33.678t + c, where R, t,
and c denote the instantaneous residual energy on the
battery, operation hours, and the total residual energy
on the battery. The slope is the parameter that produces
the change in the curve since the residual energy was
assumed to be the same across the different models.
Similarly, the equation of the receiver analytical model
is given: R = −26.332t + c.
C. Cross-Layer Energy Consumption Analysis
A star topology comprising ﬁve MICAz motes (re-
ferred to as the daughter motes) connected to a “coor-
dinator” MICAz mote operating in the beacon-enabled
mode. The energy consumption of each daughter mote
is 1.25% of the coordinator mote, and is due to the
higher duty cycle of the coordinator mote. Fig. 8 shows
the time for the ﬁrst mote and the coordinator to die.
The burden of coordinating and being the ”fusion” point
for the cluster results in the coordinator node operating
more, and hence dying earlier. While this should not
be surprising, our analytical model helped predict this
accurately and verifying this using our experiments.
Next, the energy consumption of each mode in terms
of the percentage of total energy consumption is given
in Fig. 9. Again, not surprisingly, it can be seen that
direct and indirect modes consumed the majority of the
energy, again accurately predicted using our analytical
model.

[8] Available:
http://www.memsic.com/products/
wireless-sensor-networks/wireless-modules.
html. Retrieved: Aug. 2012.
[9] “MICAz
Datasheet,”
2004.
[Online].
Available:
http:
//www-db.ics.uci.edu/pages/research/
quasar/MPR-MIB\%20Series\%20User\%20Manual\
%207430-0021-06A.pdf. Retrieved: Aug. 2012.
[10] Available:
http://www.memsic.com/products/
wireless-sensor-networks/wireless-modules.
html. Retrieved: Aug. 2012.
[11] Available:
http://www.memsic.com/products/
wireless-sensor-networks/wireless-modules.
html. Retrieved: Aug. 2012.
[12] P. -I. Mak, S. -P. U, and R. Martins, “Transceiver architecture
selection: Review, state-of-the-art survey and case study,” IEEE
Circuits Syst. Mag., vol. 7, no. 2, pp. 6–25, 2007.
[13] X. Jiang, et al., “Architecture for energy management in wire-
less sensor networks,” SIGBED Rev., vol. 4, pp. 31–36, July
2007. [Online]. Available:
http://doi.acm.org/10.1145/1317103.
1317109. Retrieved: Aug. 2012.
[14] M. Kramer and A. Geraldy, “Energy Measurements for MicaZ
Node”, Univ. of Kaiserslautern, Germany,2006
[15] V. Shnayder et al., “Simulating the power consumption of large-
scale sensor network applications,” Proc. 2nd Intl. Conf. on
Embedded Networked Sensor Systems, 2004, pp. 188–200.
[16] G. Merrett, et al., “An empirical energy model for supercapacitor
powered wireless sensor nodes,” Proc. 17th Intl. Conf. Comput.
Commun. Netw. (ICCCN), Aug. 2008, pp. 1–6.
[17] M. Kohvakka, et al., “Performance analysis of IEEE 802.15.4
and ZigBee for large-scale wireless sensor network applications,”
Proc. 3rd ACM international workshop on Performance evaluation
of wireless ad hoc, sensor and ubiquitous networks, 2006, pp. 48-
57.
[18] N. -J. Oh and S. -G. Lee, “Building a 2.4-GHz radio transceiver
using IEEE 802.15.4,” IEEE Circuits and Devices Mag., vol. 21,
no. 6, pp. 43–51, Jan.–Feb. 2005.
[19] “CC2420
Datasheet,”
2004.
[Online].
Available:
http:
//www.ti.com/lit/ds/symlink/cc2420.pdf.
Retrieved: Aug. 2012.
[20] G. Bertoni, L. Breveglieri, and M. Venturi, “Power aware design
of an elliptic curve coprocessor for 8 bit platforms,” Fourth
Annual IEEE Int. Conf. Pervasive Comput. Commun. Workshops
(PerComWorkshops) Mar. 2006.
[21] J. Polley, et al., “ATEMU: a ﬁne-grained sensor network simu-
lator,” First Annual IEEE Com. Soc. Conf. on Sensor and Ad Hoc
Communications, pp. 145- 152, Oct. 2004.
[22] “ATmega 128L Data sheet,” 2011.[Online]. Available: http:
//www.atmel.com/dyn/resources/proddocuments/
doc2467.pdf
[23] Available: http://matlab.com. Retrieved: Aug. 2012.
[24] “TinyOS
Application
Code,”
2010.
[Online].
Avail-
able:
http://code.google.com/p/tinyos-main/
source/browse/\#svn\%2Ftrunk\%2Fapps\
%2FRadioSenseToLeds. Retrieved: Aug. 2012.
[25] “Energizer AA Battery Data sheet” 2010. [Online]. Avail-
able:
http://data.energizer.com/PDFs/191.pdf.
Retrieved: Aug. 2012.
142
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-207-3
SENSORCOMM 2012 : The Sixth International Conference on Sensor Technologies and Applications

