An Iterative Price-Based Approach for Optimal Demand-Response  
Michalis Kanakakis, Marilena Minou, Costas Courcoubetis, George D. Stamoulis, George Thanos 
Department of Informatics  
Athens University of Economics and Business 
Athens, Greece  
{kanakakis, minou, courcou, gstamoul, gthanos}@aueb.gr 
 
Abstract— Demand Response (DR) programs encourage 
consumers to adjust their power consumption in response to 
DR events such as changes in electricity prices or sudden peaks 
in demand. While significant savings can be thus achieved, the 
real success of DR programs depends on the incentive 
compatible participation of consumers and their timely 
response to DR signals. In this work, we consider households 
that operate different types of appliances consuming electricity 
loads characterized by preferences on the time and quantity of 
the consumption. We develop a distributed optimization 
algorithm of practical interest, which offers both to the 
providers and the consumers of electrical power the 
opportunity to jointly interact and converge to the optimal 
scheduling of their appliances: this optimizes the trade-off 
between user-savings with the inconvenience caused by shifting 
consumption in time and shading load, while leading the cost of 
the utility company to the socially optimal level. Our approach 
is based on related work, and solves two key practical issues: i) 
we convert the consumer reaction problem to the solution of an 
LP using standard LP solvers, and ii) we propose a heuristic for 
load consolidation, i.e., regroup appliance operation on 
adjacent timeslots, using a randomized algorithm. We also 
present a substantial amount of simulation data that suggests 
that our heuristics are sound and reach quickly a state 
relatively close to the actual system optimum.  
 
Keywords-Demand response; dynamic pricing; energy 
consumption scheduling; incentives; smart grid 
I. 
INTRODUCTION 
Demand Response (DR) programs encourage electricity end-
consumers to adjust their consumption in response to DR events, 
such as changes in electricity prices surges in demand.  Energy use 
in buildings, including commercial and public buildings, represents 
approximately 40% of total final energy consumption and 36% of 
CO2 emissions in Europe [1]. Space heating accounts for 67 % of 
household energy consumption in the EU27 and is followed by 
water heating (14%) and appliances/lighting (13%) [2]. Therefore, 
one expects significant savings to be achieved by DR. Although DR 
programs have been implemented in industrial environments so far, 
their penetration in the residential sector can result in considerable 
savings, due to the fact that such environments account for a large 
portion of the total energy demand. However, the real success of 
residential DR programs depends on the incentive compatible 
participation of consumers and their timely response to DR events.  
In this work, we focus on the derivation of electricity prices for 
different times in a given time frame (day or week or month) by 
means of a mechanism that solves the social (global) welfare 
optimization problem, i.e. maximizes the aggregate benefit to the 
consumers minus the cost of provisioning. The idea is very simple 
and is borrowed from [3]. 
It defines a market for electricity consumed at different times, 
while prices are set to marginal costs. Since such goods are 
substitutable, the right prices offer the incentives for shifting and 
shading consumer demand, and at the equilibrium we obtain 
economic efficiency. Our contribution is to design the consumer 
response algorithms in a way that leads to simple implementations 
and that also capture practical constraints on the appliance side, 
which are hard to capture in the microeconomic model of the 
market proposed by [3].  
Our 
approach 
presumes 
an 
infrastructure 
supporting 
consumption data gathering and processing. This information is 
used to reveal each consumer’s preferred consumption pattern and 
her disutility for changing it.  It has to take into account historical 
demand behaviours and other data revealing the context that 
affected the consumption (weather conditions, social events, etc.). 
Utilizing this knowledge, the provider may estimate the right DR 
signals, e.g., prices at a given time zone or timeslot. Our mechanism 
can be applied under multiple contexts in a straightforward manner, 
e.g., we differentiate weekends from weekdays, and run two 
separate interleaved instances of our algorithm. 
Many approaches in the literature, see [2], [5-8], define 
algorithmic approaches that mostly focus on solving each 
consumer’s personal optimization problem. For instance, [2] 
proposes a residential energy consumption scheduling framework, 
which attempts to achieve a desired trade-off between minimizing 
the electricity payment and minimizing the waiting time for the 
operation of each appliance in household under a real-time pricing 
tariff, using price prediction based on prior information. Also in [8] 
the authors propose a multifunctional system named ''Yupik'', which 
solves the user-side optimization problem and presents the right 
choices to the users by using an appropriate interface. The model 
involves simple linear disutility functions for delaying the 
scheduling of certain appliances, with parameters obtained by 
monitoring the history of the operation of these appliances.  
Solving the global optimization problem involves the 
participation of the utility company.  By introducing a distributed 
global optimization algorithm, [3] offers both the utility company 
and the consumers the opportunity to jointly compute the optimal 
prices and the demand schedules for these prices, by means of an 
iterative procedure. The model considers households that operate 
different appliances including PHEVs and batteries; the appliances 
are divided into types according to their operational characteristics 
and are described by concave utility functions and linear 
constraints.  
 Our contribution is in remedying some of the shortcomings of 
the approach in [3]. One concerns the complexity in solving the 
optimal load schedule selection from the part of the consumer. 
Although the problem is the one of maximizing a set of concave 
functions over a set of linear constraints, this requires in general the 
use of computationally complex gradient projection methods. We 
propose a simpler way to solve this problem exploiting the special 
property that the optimum is always on the boundary of the 
constraint set. This involves the local linearization of the utility 
functions and the use of a standard LP solver, which allows us to 
easily handle a general form of linear constraints. LP solvers are 
remarkably efficient in practice and their worst case exponential 
complexity is acceptable for small scale residential problems. 
52
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

A second problem concerns the micro-economic modelling of 
appliances like washing machines, water heaters, etc., which can 
shift load between different timeslots. Some of them like the water 
heaters can consume electricity load on non-adjacent timeslots. 
However, other appliances like washing machines, need their 
consumption to be better consolidated and use a single or more 
adjacent timeslots. The mathematical analysis of a market where 
there are such combinatorial constraints on the consumption of 
goods is not a standard one and we don’t know of simple iterative 
methods that work. This is the reason why our basic appliance 
models cannot address such load consolidation constraints and 
hence stay in the “computationally effective” world of simple linear 
constraints. This has always been a problem in models such as in 
[3], which trade modelling accuracy with tractability.  
To tackle the above problem, we deploy a simple heuristic. Say 
that we have n consumers of the same type, which need to schedule 
an appliance (say a dishwasher) that requires consolidation (must 
run in a single time slot), and the optimal schedule for each 
consumer is to use 2 units of load in timeslot 1 and 1 unit in 
timeslot 3. Suppose we let each consumer randomly choose among 
the slots 1 and 3 with probabilities proportional to the required 
loads, i.e., 2/3 and 1/3, and run the appliance in this chosen slot 
using the total of the scheduled load (in this case 3 units). Then for 
large n, by the law of large numbers, at each time slot the expected 
value of aggregate load generated by the n consumers would be the 
same as the aggregate load in the non-randomizing case, with a 
relatively small variance. This load consolidation heuristic is 
transparent to the utility company and also offers practical 
schedules for the consumers. We have resorted in extensive 
simulations experiments to assess the speed of convergence and the 
efficiency of the resulting equilibrium. Our results suggest that our 
method has excellent convergence properties and also leads to 
essentially the same social optimum as the exact model, with 
negligible variations. 
This paper is organized as follows. In Section II, we present the 
basic model for the utility company and the consumers and in 
Section III, the models for appliances and the associated utility 
functions, all based on [3]. In Section IV, we present our heuristics 
for consumers’ reaction and in Section V, the experimental results 
validating our approach. Finally, in Section VI, we give some 
concluding remarks.   
II. 
THE MODEL  
As we mentioned earlier, our approach is based on the work in 
[3]. We present below the complete model borrowing the notation 
from the above paper. We describe how the utility company sets its 
prices dynamically, how each consumer responds, and the 
properties of the resulting equilibrium operating point. The basic 
idea is to split time into time slots and create a market for 
electricity in each slot. At the market equilibrium we achieve 
economic efficiency as expected. We exploit the inherent 
distributed decision-making that such a market model offers.  
To make things more concrete, one can think that our basic 
frame of time consists of a single day. As we just mentioned, each 
day is divided into   timeslots of equal duration (say hours), 
indexed by              . During each day the seller (utility 
company) posts prices for the different slots and the consumers 
choose their loads. This process iterates daily until equilibrium is 
reached. We use   to denote the     day of the iterative process. 
A. System Model 
Consider a set   of households/consumers that are served by a 
single utility company. Our system consists of the utility company 
and the consumers. 
1) 
The Utility Company: 
The utility company serves as an intermediary that 
participates in multiple wholesale markets, including day-ahead, 
real-time balancing and ancillary services, to provision enough 
electricity to meet the demands of the   consumers. We assume 
that cost of electricity to the utility company is summarized by the 
cost function         that specifies the cost to provide   amount 
of power to the   consumers at time  , where the cost function 
        is taken as convex and increasing in   for each  . The 
utility company sets the prices            as the marginal cost at 
the total consumption level; the optimal such level and the 
corresponding prices are discovered by means of an algorithm 
described below.  Setting prices equal to marginal costs does not 
guarantee complete cost recovery by the utility company. We 
implicitly assume that such issues are solved by a fixed part in the 
user tariffs. 
2) 
The Consumers 
Each consumer       operates a set    of appliances such as 
air conditioner, refrigerator, plug-in hybrid electric vehicle 
(PHEV), etc. (In [3] it is taken that consumers can also operate 
batteries and store power; for simplicity, we do not take this 
feature into account.) For each appliance        of consumer  , 
        denotes its load drawn at time      and      the vector 
                 of loads drawn over the whole day. An appliance 
  is characterized by two parameters: 
 
A utility function            that quantifies the utility  
consumer   obtains when it consumes power according to the 
vector      ; and, 
 
a set of linear inequalities                 on the power 
 vector      corresponding to technical constraints.  
In Section III, we will describe in detail how [3] models various 
appliances through appropriate matrices      and vector     . Note 
that an inelastic load, e.g., minimum refrigerator power, can be 
modelled by               , which implies that the appliance   of 
consumer   requires a minimum power       at all times  . This is a 
linear constraint and part of the set of constraints                .    
At each time   the total power demand of consumer   is 
 
         
              
                               (1) 
 
 
3) 
System Problem 
Suppose a central planner has the objective to maximize the 
economic efficiency of the complete system consisting of the utility 
company and the consumers. Then she would solve 
 
           
                
 
 
           
 
 
 
            (2) 
 
s. t.                                                                      (3) 
                       
                      
      (4) 
 
where       is defined in (1), the inequality (3) models the various 
consumer appliances (see Section III for details), the right-hand 
inequality of (4) imposes a bound on the total power drawn by 
consumer   at each slot. 
By assumption the objective function is concave and the 
feasible set is convex, and hence there is a unique optimal point, 
which can in principle be computed centrally by the utility 
company. This, however, would require the utility company to 
know all the consumer utility and cost functions and all the 
constraints, which is clearly unrealistic. 
53
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

A simple property of the optimal solution of (2) is that if each 
consumer was charged at each slot the marginal cost of the cost 
function evaluated at the optimal load vector, then she would also 
consume the amount of optimal load specified by (2). This suggests 
a distributed solution of (2) in terms of a market mechanism where 
the utility company posts prices and the consumers react by 
changing their demands in each slot in order to maximize their net 
benefits. At the equilibrium we expect the utility company to post 
prices                , which induce the consumers to 
individually choose the consumptions    that correspond to the 
solution of (2), and these prices are the marginal costs that 
correspond to the aggregate of the above consumptions. 
 
4) 
Distributed Algorithm 
The distributed algorithm involves iterations between the 
consumers and the utility company. 
a) Utility company: in step of the iteration, the utility company 
posts the price vector p that corresponds to the marginal cost of 
the aggregate load vector of the previous step. 
b) Consumers: During each iteration, given the prices   posted by 
the utility company, each consumer   chooses her own power 
demand for all her appliances                            so as 
to maximize her net benefit; namely, the difference of the total 
utility of operating each appliance   at power levels given by 
the vectors      minus the total cost of electricity.  
To avoid oscillations, each consumer moves slowly her 
consumption in the direction of the optimal consumption, i.e., she 
does not consume this optimal amount immediately but chooses an 
amount that corresponds to a weighted average of her old 
consumption and the optimal one. If this does not belong to the 
feasible set defined by the inequalities (3) and (4), then a projection 
of the aforementioned weighted average to this set is ultimately 
taken. It is also realistic to assume that consumers would not switch 
directly to the optimal consumption schedule but rather take it into 
account in modifying their previous schedule. An alternative 
approach to avoid oscillations, is to have consumers use their 
optimal load and prices posted by the utility company move slowly 
in the directions of the true marginal costs. This latter case might 
not be acceptable by the utility company because it may not recover 
its costs in the case of simple linear cost structures. 
Therefore, during each iteration consumer   solves her local 
problem: 
       
                 
 
      
                 (5) 
 
         
 
                 s. t.                apply.  
 
Note that the optimal solution of each consumer   depends on 
the prices                 set by the utility company. Thus, it is 
denoted by                                   . 
The prices   and the total consumer demand            are 
in equilibrium if        , and          At this point, we know 
from the first order conditions of (2) that the social welfare given by 
(2) is also maximized. One can show that starting from an arbitrary 
initial operating point, the iterative procedure mentioned earlier 
alternating between the utility company and the consumers 
converges to the unique solution of (2). As already mentioned, an 
important requirement for convergence is that consumers don’t do 
abrupt load changes and move slowly towards their optimal 
choices.  
III. 
APPLIANCE MODELS AND INTEGRITY CONSTRAINTS 
We briefly discuss the appliance models proposed in [3]. The 
basic idea is to model appliances as accurately as possible while 
preserving the computational tractability of the resulting 
optimization problem, namely the concavity of the function to 
maximize and the linearity of the constraints. 
The consumer appliances are classified into four types; each 
type is characterized by a utility function            that models 
how much consumer   values the consumption vector     , and a set 
of linear constraints on the consumption vector     , which are all 
involved in the optimization problems defined in Section III. 
Below, we mostly focus on the so-called type 2 of appliances, 
which exhibit important load-shifting aspects and their accurate 
modelling is hard (see our following discussion on this topic). 
In particular, this type includes the appliances such as PHEV, 
dishwasher and washing machine. For these appliances, a consumer 
only cares about whether the task is completed before a certain 
time. This means that the cumulative power consumption by such 
an appliance must exceed a threshold by the deadline (e.g., see [4]). 
Let      denote the set of type 2 appliances of consumer  . For each 
               is the set of times where the appliance can operate. 
For instance, for PHEV,      is the set of times that the vehicle can 
be charged. For each consumer   and each appliance         , we 
have the following constraints on the load vector     : 
 
    
                    
       
            
                            
     
       
               
       
      ,                   (6) 
 
where     
       and     
       are the minimum and maximum power 
loads that the appliance can consume at time  , and      
    and      
    
are the minimum and maximum total power draw that the appliance 
requires. 
By 
setting 
    
            
         
for  
          , we can rewrite the constraints of (6) as 
 
    
                    
       
      
(7) 
     
       
               
       
                             
 
The overall utility that the consumer   obtains from a type-2 
appliance   depends on the total power consumption by   over the 
whole day. Hence the utility function in the form introduced in 
Section II, reduces to: 
 
                          
 
                             (8) 
 
where                                          
 
                                       (9) 
 
It is assumed that this utility function is a continuously 
differentiable concave function of     .    
A key observation is that the above model satisfies the key 
properties required for solving it effectively (concavity of the utility 
function, linear constraints), but it is not realistic for most typical 
devices we like to model since it allows for such a device to be 
scheduled in non-adjacent slots and use a fraction of the total load 
in each slot. For instance, a washing machine requiring 2 units of 
load could be scheduled to use 2/3 units of load in slots 1, 3, 5. This 
might be practically impossible. Hence in practice, type 2 devices 
may have integrity constraints. These constraints dictate that power 
consumption should be in adjacent slots, i.e., the set of timeslots 
     where the power is positive should constitute a single time 
interval. This is a combinatorial requirement and clearly destroys 
the linearity of our constraints making the computational solution 
very expensive.  
Our methodology to solve this problem is a heuristic that uses 
the solution of the problem without these integrity constraints, and 
54
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

at each step it aggregates the load at each consumer’s premise in a 
way that looking at the aggregate load generated by all consumers it 
remains essentially the same without the consolidation. For 
simplicity we assume that each type 2 device needs to be scheduled 
in a single slot. This is a realistic assumption for residential devices, 
as each slot's duration offers adequate time for the accomplishment 
of their task. As we discuss in detail in the relevant section, each 
consumer picks a slot at random with probability proportional to the 
components of the load vector in the solution of (5) and runs the 
device at that slot using the total load.  
Our experiments also comprise the so-called type 3 of appliances, 
which includes appliances such as lighting that must be on for a 
certain period of time. A consumer cares about how much light can 
get at each time  . Thus, user utility from a particular consumption 
vector       is the sum of utilities due to the consumption in each 
timeslot; that is                               
 
, subject to 
constraints on minimum and maximum power loads that the 
appliance can consume at time  .  
IV. 
HEURISTICS FOR CONSUMER REACTION 
The local problem to be solved by each consumer is the 
maximization of a concave function with linear constraints, and is 
traditionally solved by a gradient projection type of algorithm. This 
makes sure that in all iterations we move without violating 
constraints and stay in the interior of the feasible region. In the case 
of general linear constraints these algorithms are computationally 
expensive to run. In [3] the gradient projection algorithm used in the 
numerical experiments is simple (we can consider each appliance 
individually) because the constraints across appliances (given by 
(4)) do not appear to be taken into account, and thus the problem 
obtains a special decoupling structure. This is not anymore the case 
if we do consider constraints on the total power consumed by all 
appliances at each slot. 
Our idea for addressing such general constraints is as follows: 
at each iteration, we use a standard LP solver to find the optimum of 
the linearized problem of the consumer at the previous operating 
point. Then, we derive the updated consumption schedule by 
moving in this direction using a decreasing step size. This simple 
computational procedure works well and converges to the optimum, 
which in our case is always on the boundary of the simplex.  
Instead of adopting the above sequence of solutions, we 
introduce an approximation by means of our load consolidation 
heuristic mentioned previously. In particular, in order to satisfy the 
practical integrity constraints and group the load consumption of 
type 2 appliances in a single slot, we use a randomization procedure 
that alters the load profiles proposed by the optimization algorithm. 
The law of large numbers suggests that in the case of many 
consumers of similar types, the aggregate load after the 
randomization has small fluctuations around its mean, which is the 
non-randomized aggregate load. Hence, when enhanced with this 
randomizing heuristic, our algorithm displays similar convergence 
properties and converges to the same equilibrium. Note that the 
heuristic can also be combined with the approach of [3], which does 
not conform to the practically applicable load integrity constraints.  
Note also that these two heuristics may be applied either 
unilaterally or together, as each one of them offers a discrete benefit 
to the optimization procedure. However, the load consolidation 
heuristic may not be always feasible to be applied on each occasion, 
as it may violate the constraints across the appliances (see Section 
V-C). We summarize now these ideas in detail. In what follows, k 
denotes the iteration step.  
A. Linearization of Concave Utility Functions 
To simplify the presentation, we restrict attention to appliances 
of type 2. The utility function that represents the benefit obtained by 
their use is given by equations (8) and (9). The local problem is 
again the optimization of each consumer’s net benefit. However, at 
each iteration k, we resort to a linear approximation of this concave 
utility function that depends on the current operating point, thus 
obtaining: 
     
          
      
                           (10) 
where     
  is the slope of the concave utility function         at the 
total consumption of this appliance at current iteration. 
Therefore, the consumer’s problem that we solve at each 
iteration k is as follows: 
  
         
     
                
 
      
  
                   (11) 
 
           s. t.                    apply. 
 
Let       
   be the solution of the LP (11). We use ''tilde'' to denote the 
quantities related to the linearized local solution. The new 
consumption vector will be now computed as: 
 
                       
           
                 
     ,                      (12) 
 
where                              
           
The selection of   influences how fast we move in the direction of 
the optimal load selection from the linearized local problem.  As we 
discussed before, the actual load consumption proposed by our 
method is obtained by applying the consolidation algorithm to the 
solution      
 , as explained next. The formulation of the local 
problem as an LP (11) allows us to use a standard LP solver and 
thus to easily handle the various linear constraints. Therefore, we 
maintain feasibility in each iteration, contrary to the outcome of the 
gradient projection method of [3], which if necessary is projected 
within the feasible set at the end of each iteration.   
B. Load Consolidation 
Each consumer   chooses independently from others to sum-up 
the aggregate consumption      
        
 
 
   for each type 2 
appliance he operates, at one and only slot  . This slot is selected 
randomly; in particular, the probability that slot   is selected is 
    
    , which equals the ratio of consumption      
     at this slot 
over the aggregate consumption      
 , i.e.,     
      
     
    
     
 
    
       . Hence, the actual consumption of each type 2 appliance 
  of a consumer i  is zero in all slots except for the selected slot 
where the consumption equals      
 . Let        denote the resulting 
loads. We use ''hat''  to denote the load quantities after linearization 
and load consolidation. The actual proposed reaction of consumer i 
corresponds to    
  and we assume that a consumer always follows 
the above proposed schedule. Then, the utility company computes 
and posts its prices for the next iteration as the marginal cost 
corresponding to this consumption, i.e.,                
    
 
 . 
The heuristic should be applied only if load consolidation does 
not lead to violation of the bound on the maximum total 
consumption in any timeslot t, which we assume in the sequel.  
V. 
NUMERICAL EXPERIMENTS 
In this section, we present the results of a variety of experiments 
to illustrate the application of the proposed methodologies. First, we 
present the basic input parameters for the experiments, which in 
certain cases are partly differentiated, as explained accordingly.  
Consider a system with   households (consumers) entering a 
DR program. Each household is assumed to have one type 2 and 
55
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

one type 3 appliances, e.g., washing machine and lighting. Each 
type 2 appliance may operate at each slot and as already mentioned 
the respective consumer is interested in the aggregate consumption 
throughout the whole day. For the type 3 appliances, consumers are 
only interested during night time. As in the experiments of [3], each 
day is divided into 8 timeslots of equal duration (i.e., 3 hours), with 
the first slot corresponding to the time-zone 8-11am. Thus, type 3 
appliances only operate in the slots 5-8.  The basic parameters used 
in simulations are as follows: 
For each type 2 appliance,       
    and       
    are chosen 
randomly and uniformly from [1400Wh, 1600Wh] and [2400Wh 
2500Wh] respectively, while the values of      
       and      
       
are 0Wh and       
    Wh respectively. The utility function is 
assumed to be logarithmic of the form:  
                       where       is randomly and uniformly 
distributed in the range [7700, 12320] for each consumer  . 
For type 3 appliances, the minimum and maximum per slot 
working power requirements are 200Wh and 800Wh respectively. 
The utility function is assumed to be logarithmic of the form: 
                                 
where 
         
for 
each 
consumer  , is randomly and uniformly distributed in the range 
[3800, 3900] for            , while                     . 
We also assume that the electricity cost function is of the form: 
               ,   thus                             
and we use the values          and       for each 
experiment. Except for Section V-C, we do not consider an upper 
bound on the total consumption per household (given by (4)). 
A. Evaluation of the Linearization Method 
First, we apply the linearization method (only) and evaluate it 
compared to the algorithm introduced in [3], with regard to: the 
convergence state, the iterations needed to approach it and the 
social welfare attained at each iteration towards the optimal. For 
each method, we choose different proper values for parameter  . 
For the algorithm in [3] we pick      such that it convergences 
within a reasonable number of iterations (order of 10). For our 
approach we choose        for iterations             in 
order to move fast towards the optimum and a lower value, 
      , for iterations                 in order to "smooth-
out" the oscillations around the optimal state.  
We assume a system with      households participating in 
the DR program. The initial aggregate consumption of each type 2 
appliance is assumed to be allocated throughout the whole day, but 
biased proportionally to the number of the slot, meaning that it 
causes peak-demands. For instance,     
      
      
    . The 
initial consumption for type 3 appliances is randomly and 
uniformly distributed in the range [580Wh, 600Wh]  for slots  
         , while it has zero value for slots          .  
Fig. 1 indicates that at the convergence state, the two algorithms 
exhibit similar behavior with regard to the aggregate (system) per 
slot consumption. They distinguish the energy consumption into 
two parts during the day. The type 2 appliances, which can be “ON” 
over the entire day, gradually shift their load to the first four slots, 
during which type 3 appliances gain no benefit from consumption. 
Despite their convergence at the same optimal state, their behavior 
differs during iterations in the process of achieving it. Our method 
is subjected to oscillations due to the output of the LP solver used in 
(12). This is clear in Fig. 1 and 2 and has also impact on the system 
net benefit achieved towards the optimal (Fig. 3). Furthermore, it is 
obvious that the algorithm in [3] converges faster. This is not a 
general property but depends on the value of the parameter   
employed for our method, which creates a trade-off between the 
convergence speed and the iterations needed for the oscillations  
 
 
Figure 1. System consumption for type 2 appliances (left figure for the 
algorithm in [3] and right for the linearization method). In both cases, the 
load is gradually shifted at slots of no benefit for type 3 appliances.  
 
 
Figure 2. Prices per slot (left figure for the algorithm in [3] and right for the 
linearization method). Both approaches make the consumption smoother 
and reduce peak load demands. 
 
Figure 3. System net benefit for both approaches and types of appliances 
towards the optimal. The level achieved from our method  is relatively 
close to that of [3] from the very first iterations.  
"smooth-out" around the optimal point, as    tends to zero. 
Fig. 2 shows the prices at each slot towards the convergence. 
Notice that optimal values are higher for slots 5-8 due to the weight 
of the utility function of type 3 appliances. Both approaches attain 
lower peak demands at different time periods, while balancing the 
need for power generation. The price vector at the convergence 
state has for both approaches almost equal values as follows: 
                                              
 
In Fig. 3 we juxtapose the system net benefit achieved from the 
two methods at each iteration. The algorithm in [3] slightly 
outperforms ours and their difference decreases as our approach 
moves towards the optimal. 
We additionally provide certain specific results concerning 
consumer 1, as described in Table I.  The consumption of type 2 
and type 3 appliances at the convergence state is almost equal for  
the two approaches, so we only present the results of our method.  
56
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

 
TABLE 
I. 
INPUT 
VALUES 
AND 
RESULTS 
(OF 
(12) 
AT 
CONVERGENCE 
STATE) 
FOR 
CONSUMER 
1. 
FOR 
BOTH 
APPLIANCES THE MARGINAL UTILITY EQUALS THE MARGINAL 
COST. 
Input A2 
            ,       
         ,       
         
Input A3 
                                      
Output A2 
      
 
                             
Output A2 
      
          
 
             
    
Output A3 
      
 
                             
 
Notice that in both cases at convergence state      
 
       
          , while      
 
                 , explaining the 
reason why the type 2 appliance of consumer 1 gradually refrains 
from consumption during these slots. This result applies for all 
consumers as it becomes obvious from Fig. 1. Additionally, 
     
 
                    meaning that for both appliances the 
marginal utility equals the marginal cost whenever they operate.   
B. Evaluation of the Load Consolidation Method 
In this section, we provide another numerical experiment, in 
which we apply both the linearization and the load consolidation 
methods. We evaluate the output compared to the same 
experiment, when only the linearization method is applied. We 
refer to the variables as “deterministic”, in contrast to the case of 
applying also load consolidation, where we refer to these as 
“probabilistic”.  
We consider a variation of the system of Section V-A, with 
       households, each operating one type 2 and one type 3 
appliance, the utility functions of which are chosen as previously.  
The consumption of each type 2 appliance is initiated in a single 
slot (not the same for each consumer) while we keep the same ratio 
concerning     
     among the slots (    
      
      
     ), 
meaning that peak demanded slots arise also here. Additionally we 
assume that a portion of consumers (200 out of 4000) may operate 
the type 2 appliances only during the two latter slots of each day, 
i.e.,                               . The consumption of 
each type 3 appliance is randomly and uniformly initiated in the 
range [600Wh, 620Wh] for the slots 5-8.  Finally, we pick for both 
implementations the same pair of values for the parameter   as in 
Section V-A (0.25 and 0.03).   
In Fig. 4 we juxtapose the deterministic and probabilistic 
prices for three slots. Notice that both implementations reduce the 
peak load demands and attain the same convergence speed, as it 
only depends on the value of   parameter (for the same input) and 
the load consolidation method has no impact on it. The oscillations 
of the deterministic system are abruptly smoothed out at iteration  
 
Figure 4. Deterministic and probabilistic prices for slots 1,5,8. The 
fluctuations at each slot depend on the load portion that type 2 appliances 
consume at it.  
 
 
Figure 5.  Net benefit of consumer 1 for both appliances in the 
deterministic and probabilistic case. The left figure applies to the type 2 
appliance and the right to the type 3 one for slots 5 and 8.  
TABLE II. NUMERICAL RESULTS FOR CONSUMER 1 UNDER THE 
DETERMINISTC AND RANDOMIZED METHODS. 
Net Benefit 
Deterministic 
Mean  
%Dif. 
St. D. 
A2 
66165 
66054 
-0.17 
261.3 
A3 at slot 5 
20780 
20780 
0 
~0 
A3 at slot 8 
20244 
20245 
~0 
16.18 
 
101, when we decrease the value of  , while the fluctuations of the 
probabilistic system remain due to the randomized reaction of type 
2 appliances.   
For the probabilistic system, notice that the fluctuations of 
     smooth out with iterations. This is expected, as type 2 
appliances gradually shift their load to slots 1-4 (as in Section V-
A) and tend to refrain from consumption at slot 5. The fluctuations 
of      are the most intense among the three slots, due to the fact 
that only type 2 appliances consume at this. In the case of slot 8, 
the type 3 appliances have a stabilizing role. Their consumption 
depends on the probabilistic prices (as a result of type 2 reactions), 
but as they alter their consumption pattern slowly, and consume 
the greatest portion of load at this slot, they keep the price value 
relatively close to the deterministic one. 
Fig. 5 juxtaposes net benefit of consumer 1 at each iteration for 
both types of appliances. The above remarks concerning 
fluctuations at the various slots apply to this case as well. In Table 
II we provide numerical results for consumer 1 applying to Fig. 5, 
for iterations 120-200. The "Mean" and "Standard Deviation" (St. 
D.) columns refer to each probabilistic value. It is apparent that 
applying the consolidation method yields on the average almost the 
same user net benefit as the deterministic method for both types of 
appliances. Also, the level of the standard deviations is aligned 
with the intensity of fluctuations at each slot. 
C. Adding Constraints across Appliances  
In this section, we evaluate the linearization method (only) in 
the presence of constraints across the appliances, so we assume 
that the aggregate consumption drawn by each household at each 
slot is upper bounded by the maximum rate   
   , i.e., 
         
 
   
       , which is the same  for all households: 
  
         . We utilize the input parameters of Section V and 
adjust the initial consumption of Section V-A, so as to satisfy the 
aforementioned constraint. This example is not comparable with 
the one of Section V-B, as in the presence of this constraint the 
load consolidation heuristic cannot be applied.   
Fig. 6 shows the aggregate consumption of type 2 appliances 
(left) and the prices (right) for this system. Compared to the case of 
Section V-A, the additional constraint causes type 2 appliances to 
consume a portion of their load during slots 5-8. The prices are 
57
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

equal for each slot              because each user's aggregate 
per slot consumption is the same for all timeslots, and equal to the 
bound imposed by the additional constraint. These properties are 
further explained below on the output results for consumer 1. 
In Table III we present the output results concerning the 
consumer 1, for comparison with those of Section V-A. In this 
case, type 2 appliance consumes also during slots 5-8 so as to 
satisfy the constraint concerning its minimum consumption value. 
At the convergence state      
 
         
 
            meaning 
that the consumer gains more benefit from the type 3 consumption 
at these slots. This is the reason why type 2 appliance exactly 
consumes the requisite load in order to satisfy its minimum power 
requirements and the remaining is consumed by type 3 at each slot. 
Furthermore, notice that the load consumed from type 2 at each 
slot           is not arbitrary but depends on the corresponding 
weight of the utility function of type 3, so that the values of 
     
 
    are almost equal for all t. Finally,      
 
          and 
     
 
        , meaning that the consumer would gain extra 
benefit from further consumption at each slot from any appliance, 
but this is not possible due to the constraint concerning the total 
household consumption per slot. This is the reason why the 
aggregate per slot consumption equals    
    at each slot. 
VI. 
CONCLUSION AND FUTURE WORK  
In this paper, we have built on the work in [3], where the 
authors propose a way to use dynamic pricing in the retail power 
market. Our contribution relies on proposing two heuristics giving 
a more practical version of the consumer's response to the dynamic 
prices. Simulations have shown that the proposed linearization 
method for the utility functions converges to the optimal state with 
"acceptable" net benefit loses at each intermediate iteration 
compared to the well defined gradient projection algorithm 
introduced in [3]. The speed of convergence and the oscillations 
"smooth-out" around the optimal state, both depending on the 
value of the relaxation parameter  , which has to be appropriately 
chosen according to the properties of each approach. Additionally, 
in the presence of appliances’ constraints, our approach converges 
to the optimal state, while that of [3] does not appear to have been 
numerically evaluated for this case. Furthermore, the load 
consolidation method offers practical schedules for the consumers, 
while it causes negligible variations to the prices and the net 
benefit of each user compared to the case that it is not applied.  
There are further important issues to be considered in order to 
align our methodology with real life needs and the market context. 
Regarding our approach, we should extend the load consolidation 
heuristic in the presence of constraints on the maximum 
consumption per slot. This issue does not seem to have a trivial 
solution and deserves further investigation. At the market level, we 
should clarify the conditions, over which an iterative computation is 
a practical DR approach, as the context defining the utility functions 
may differentiate faster than the iterations needed for the 
convergence. As a solution, we may assume that the procedure 
towards the optimal state is virtually applied before each day and 
the consumers actually consume only the optimal schedules 
discovered. In this case, consumers may respond by means of 
sophisticated software at the edges of the grid, which automatically 
adjusts their consumption schedule. Finally, in the case of being 
forced to deploy our method on top of flat rate pricing, we should 
identify the mechanism that "translates" the dynamic prices to 
personalized rebates for each consumer, while resulting at the same 
consumption outcome. We leave such issues for future work.   
 
 
Figure 6. The left figure shows the system consumption for type 2 
appliances, a portion of which is now during slots 5-8. The right figure 
shows the prices, the optimal values of which are determined by the 
additional constraint.     
TABLE III. INPUT VALUES AND RESULTS (OF (12) AT 
CONVERGENCE STATE) FOR CONSUMER 1. THE CONSTRAINT 
ACROSS 
APPLIANCES 
DETERMINES 
THE 
AGGREGATE 
CONSUMPTION. 
Input A2 
            ,       
         ,       
         
Input A3 
                                     
Output A2 
      
 
                                
Output A2 
      
 
            
    
Output A3 
      
 
                            
ACKNOWLEDGMENT 
This research has been partly funded from the European 
Union's Seventh Framework Programme (FP7/2007-2013) under 
grant agreement n° 288322 WATTALYST. We would like to thank 
the partners of this project for useful discussions and Prof. Steven 
H. Low for sharing all input data related to [3]. 
REFERENCES  
[1] "The Smart Grid: An Introduction," U.S. Department of Energy, 
http://www.oe.energy.gov/DocumentsandMedia/DOE_SG_Book_Sin
gle_Pages(1).pdf, Sept. 2010 [retrieved Jan., 2013]. 
[2] "Energy Efficiency Trends and Policies in the EU 27". 
http://energy.gov/sites/prod/files/oeprod/DocumentsandMedia/DOE_
SG_Book_Single_Pages%281%29.pdf, Paris, Oct. 2009 [retrieved 
Jan., 2013]. 
[3] N. Li, L. Chen, and S. H. Low. "Optimal demand response based on 
utility maximization in power networks." In Power and Energy 
Society General Meeting, 2011 IEEE, pp. 1-8. IEEE, 2011. 
[4] A. Mohsenian-Rad, and A. Leon-Garcia. "Optimal residential load 
control with price prediction in real-time electricity pricing 
environments." Smart Grid, IEEE Transactions on 1, no. 2 (2010): 
pp. 120-133.  
[5] M. Pedrasa, T. Spooner, and I. MacGill. "Coordinated scheduling of 
residential distributed energy resources to optimize smart home 
energy services." Smart Grid, IEEE Transactions on 1, no. 2 (2010): 
pp. 134-143. 
[6] C.L. Su, and D. Kirschen. "Quantifying the effect of demand response 
on electricity markets." Power Systems, IEEE Transactions on 24, no. 
3 (2009): pp. 1199-1207.  
[7] M. Fahrioglu, and F. L. Alvarado. "Using utility information to 
calibrate customer demand management behavior models." Power 
Systems, IEEE Transactions on 16, no. 2 (2001): pp. 317-322.  
[8] T. Bapat, N. Sengupta, S. K. Ghai, V. Arya, Y. B. Schrinivasan, and D. 
Seetharam, "User-sensitive Scheduling of Home Appliances" in 
Proceedings of the 2nd ACM SIGCOMM workshop on Green 
networking (GreenNets '11, Aug. 2011 ) pp. 43-48, Toronto, Ontario, 
Canada. 
 
58
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-259-2
ENERGY 2013 : The Third International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

