Scalable and Robust Wireless JPEG 2000 Images and Video Transmission with
Adaptive Bandwidth Estimation
Max Agueh, Stefan Ataman
and Cristina Mairal
LACSC – ECE
37, Quai de Grenelle
75015 Paris, France
{agueh, ataman, mairal}@ece.fr
Henoc Soude
LIASD – Université Paris 8
2, Rue de la liberté
93526 Saint Denis, France
soude@ai.univ-paris8.fr
Abstract— This paper presents a scalable and dynamic scheme
for robust JPEG 2000 images/video transmission over wireless
channels.
The
proposed
system
relies
on
an
adaptive
bandwidth estimation tool to select the suitable JPEG 2000
streams, layers and resolution. A Wireless JPEG 2000 (JPWL)
compliant
Forward
Error
Correction
(FEC)
scheme
is
introduced.
An
optimal
layer
oriented
Unequal
Error
Protection Forward Error Correction rate allocation scheme is
proposed
to
ensure
codestreams
protection
against
transmission errors. The main advantages of the proposed
scheme are its optimality, its compliance to Wireless JPEG
2000 (the 11th part of JPEG 2000 standard) and its low time
consumption. We demonstrate that our proposed scheme
outperforms the layer oriented FEC scheme proposed by Guo
et al. and other existing layer based FEC schemes. We also
show that, due to its low run time, our layer based scheme is a
good candidate for highly time constrained motion JPEG 2000
video streaming applications, thus, in this sense, its overcomes
the limitation of optimal packet oriented FEC rate allocation
scheme. We then validate the effectiveness of our proposed
layer oriented scheme with a Wireless Motion JPEG 2000
client/server application.
Keywords: layer-oriented FEC; unequal error protection;
layer scalability; wireless JPEG 2000; video streaming
I.
INTRODUCTION
In
high
error rate
environments
such
as
wireless
channels,
data
protection
is
mandatory
for
efficient
transmission of images and video. In this context, JPEG
2000, the newest image representation standard [1] proposes
in its 11th part (Wireless JPEG 2000 – JPWL) [2] different
techniques such as data interleaving, FEC with Reed-
Solomon (RS) codes etc. in order to enhance the protection
of JPEG 2000 codestreams against transmission errors.
Since wireless channels' characteristics depend on the
transmission environment, the packet loss rate in the system
also changes dynamically. Thus a priori FEC rate allocation
schemes such as the one proposed in [3] are less efficient.
Moreover, in wireless multimedia systems such as the
one considered in this paper (see Figure 1), a straightforward
FEC methodology is used, by applying FEC uniformly over
the entire stream (Equal Error Correction - EEP). However
in [4], Gupa et al. suggest that for hierarchical codes, such as
JPEG 2000, Unequal Error Protection (UEP) which assigns
different FEC to different portion of codestream has been
considered as a suitable protection scheme.
Figure 1.
Wireless video streaming system
Two families of data protection schemes address this
issue by taking the wireless channel characteristics into
account in order to dynamically assign the FEC rate for
JPEG 2000 based images/video. The first family is based on
a
dynamic
layer-oriented
unequal
error
protection
methodology whereas the second relies on a dynamic packet-
oriented unequal error protection methodology. Hence, in the
first case, powerful RS codes are assigned to the most
important layers and less robust codes are used for the
protection of less important layers. It is worth noting that in
this case, all the JPEG 2000 packets belonging to the same
layer are protected with the same selected RS code.
Examples of layer-oriented FEC rate allocation schemes are
available in [4] and [5]. On the other side, in packet-oriented
FEC rate allocation schemes such as the one presented in [6],
RS codes are assigned in descending order of packets
importance. In [6], we demonstrate that the proposed optimal
packet-oriented FEC rate allocation is more efficient than the
layer-oriented FEC rate allocation scheme presented in [4]
and [5]. However, layer-based FEC rate allocation schemes
have low complexity while packet-oriented FEC allocation
methodologies are complex especially when the number of
packets in the codestream is high. In this case, packet
oriented FEC schemes are unpractical for highly time-
constrained images/video streaming applications. Therefore,
switching to a layer oriented FEC rate allocation scheme is
more interesting. The smart FEC rate allocation scheme
proposed in [7] addresses this issue by allowing switching
from a packet oriented FEC scheme to a layer oriented
scheme such as the ones proposed in [4] and [5]. However,
to our knowledge, existing layer oriented FEC rate allocation
schemes are based on heuristics and thus are suboptimal
because they rely on parameters which are empirically fixed.
For example, the layer oriented FEC scheme proposed in [4]
relies on the permissible error rate ( ) whereas the layer
oriented FEC scheme proposed in [5] relies on a Quality of
Service (QoS) metric (
0
 ).
802.11-based network
Video
camcorder
Video
Server
Wireless
Client
Decoder
JPWL
Encoder
JPWL
49
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

In this paper, based on the optimal packet oriented FEC
methodology presented in [6], we propose an optimal layer
oriented FEC rate allocation scheme for robust JPEG 2000
codestreams transmission over wireless channels.
The paper is organized as follows. In Section II, an
overview of the video streaming system and a presentation of
layer based FEC rate allocation schemes are provided. In
Section III and IV, we describe the optimal layer oriented
FEC scheme and the available bandwidth estimation scheme.
We show the performances achieved by our proposed layer
based FEC scheme in Section V. Finally, some conclusions
are drawn in Section VI.
II.
OVERVIEW OF THE STREAMING SYSTEM AND OF THE
JPEG 2000 BASED FEC RATE ALLOCATION SCHEMES
This section is dedicated to the description of the
considered wireless JPEG 2000 video streaming system and
to the presentation of existing FEC rate allocation schemes.
A.
The Wireless JPEG 2000 video streaming system and
the wireless channel
Unlike the system described in [6], where the FEC rate
allocation scheme is packet oriented, in the current paper we
consider a layer oriented FEC rate allocation scheme. In
other words the difference between both systems is the FEC
rate allocation module. In the packet oriented scheme the
redundancy is added by taking the packets importance into
account (see Figure 2) while in our layer oriented scheme,
we rely on layer importance in order to allocate the adequate
RS codes (see Figure 3).
Figure 2. A JPEG 2000 codestreams transmission through the JPWL
packet-oriented FEC rate system
Figue 3. A JPEG 2000 codestreams transmission through the JPWL
layer-oriented FEC rate system
The wireless channel is emulated by real wireless
channel traces available in [13]. At the encoder side, the
Gilbert model [14] is used to derive application level models
of error occurrences in the considered traces. A detailed
description of the platform used to generate the loss patterns
along with an analysis on wireless channel modeling with
Gilbert model is provided in [6].
B.
Overview of JPEG 2000 based FEC rate allocation
schemes
In this section we present an overview of JPEG 2000
based FEC schemes.
1)
Packet-oriented FEC rate allocation scheme
In this FEC rate allocation scheme the correct decoding
of packet i at the receiver yields a reduction of the distortion
on the transmitted image. Since
RD ,i
is considered as the
reduction of distortion achieved when packet i is protected at
the level , the gain is the ratio between the image quality
improvement
RD ,i
and the associated cost in terms of
bandwidth consumption.
For each JPEG 2000 image, the optimal packet-oriented
algorithm models the channel with a Gilbert model and for
each possible protection level  , its evaluates the probability
of incorrect word decoding. Then, for each packet i , based
on the estimated probability of decoding word, the reduction
of distortion associated with the decoding of packet i ,
protected from level  to
max
is estimated. The gain yield
by the associated increment of quality is also computed.
After ordering those gain values by decreasing order of
importance, the optimal protection rate for each packet is
selected up to meet the rate constraint.
2)
Layer-oriented FEC rate allocation scheme
In layer-oriented FEC rate allocation schemes ([4] and [5]),
unequal error protection is applied by taking the importance
of each layer into account. Those families of FEC rate
allocation schemes can be divided in two groups: non JPWL
compliant schemes and JPWL compliant schemes.
a)
Non JPWL compliant Layer-oriented FEC rate
allocation scheme
In non JPWL compliant layer-oriented FEC rate allocation
schemes such as the one presented in [4], the slope of the
Rate-Distortion curve is used to select a code for each
quality layer. The slope
j
S corresponding to layer j is
expressed as:
j
j
j
R
D
S

 
/
where,
Sj
represents the
contribution of layer j to the improvement of image
quality,
Rj
is its length (in byte) and
Dj
corresponds to
the distortion decrement measured by MSE (Mean Square
Error).
Original codestreams
Layer-Oriented JPWL Protection
Layer 0
Layer 1
Layer 2
Protection
50
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Hence powerful non JPWL compliant RS codes are set to
the most important layers such as the base layer and the
other
layers
are
protected
by
decreasing
order
of
importance. However, this algorithm is not JPWL compliant
and was designed based on the assumption that the channel
is a memoryless Binary Symmetric Channel (uncorrelated
error occurrence) which is not realistic because wireless
channels have correlated errors sequences. Moreover, the
algorithm proposed by Z. Guo et al was not adaptive. In this
work, we overcome this limitation by adapting the Z. Guo
algorithm for a dynamic selection of RS codes thanks to a
dynamic Bit Error Rate (BER) estimation scheme.
b)
JPWL compliant dynamic Layer-oriented FEC rate
allocation scheme
JPWL compliant FEC rate allocation schemes, such as
the one presented in [5], are based on the assumption that
transmitted JPEG 2000 image quality is linked to the amount
of correctly decoded packets at the receiver. Hence, goal of
this scheme is to maximize the overall throughput in the
system under a Quality of Service (QoS) fixed parameter
(
0
). The dynamic layer-oriented FEC rate allocation
scheme improves the performance by about 10% compared
to a priori selection of channel coding.
The layer oriented FEC rate allocation schemes presented
in
this section are characterized by heuristics whose
parameters are set in order to achieve a desired Quality of
Service. Hence, high QoS level means more data protection
and thus more bandwidth consumption. Since wireless
client/server systems are bandwidth constrained, the desired
high QoS level may not be achieved because of the risk of
exceeding the available bandwidth. In this sense, traditional
layer based FEC rate schemes may be viewed as suboptimal
as they achieve a less effective codestreams protection. The
proposed optimal layer oriented FEC rate allocation scheme
overcomes these limitations by selecting the best RS codes
yielding by this way the maximum achievable images/video
quality regarding the available resources in the system.
III.
OPTIMAL LAYER ORIENTED FORWARD ERROR
CORRECTION RATE ALLOCATION
A.
Layer Based FEC rate allocation problem
formalization
Considering that JPEG 2000 codestreams are constituted
of a set of L layers, the optimal FEC allocation problem can
be resumed by answering the question: how to optimally
protect each layer in order to minimize the transmitted image
distortion under a rate constraint determined by the available
bandwidth in the system?
Let
Bav
be the budget constraint in bytes corresponding
to the available bandwidth in the system. Let
i
lay be the
length in bytes of the
ith
layer of the L layers available in
the codestream and
( , )
RS n k
the Reed-Solomon code used
for its protection. The corresponding protection level is 
and
the
FEC
coding
rate
is
R  k n
.
We
define
n k
R
fec

 1
as the inverse of the channel coding rate, so
layi  fec
)
(
represents, in bytes, the increase of the
ith
layer
length when protected at a level .
Unlike the packet oriented FEC scheme, where all the 16
default RS codes, defined by JPWL standard, are considered
in the FEC rate allocation process, here we restrict the
considered RS codes to those with
fec  2
. In other words
we consider only the first 10 default codes. This assumption
makes sense in the context of layer oriented FEC rate
allocation, because adding redundant data which in ratio is
more than twice superior to the original layers may overload
the networks and drastically increase the losses instead of
reducing them.
Let  be a layer protection level selected in the range
lay
max
0
   
, each protection level corresponding to a
specific RS code selected between the 10 JPWL default RS
codes (
  0
means that the layer is not transmitted,
  1
means transmission with protection level 1, higher
values imply increasing channel code capacity with  and
max 10
 lay
).
Let
i be the number of data packet constituting the
th
i
quality layer of a JPEG 2000 codestream,
0
RDlayi
and

RDlayi
be respectively the reduction of distortion associated
to the correct decoding of layer i and the reduction of
distortion associated to the correct decoding of layer
i protected to level  . The reduction of distortion metric
associated to the correct decoding of the packets of a JPEG
2000 codestream is extracted from a codestream index file.
The reduction of distortion metric is further presented in [6].
We rely on this codestream index file to derive
0
RDlayi
and
we associated the decoding error probability estimation
process presented in [14] in order to derive

RDlayi
. Hence,
the layer oriented FEC rate allocation problem is formalised
by:
Maximize 

L
i
i
i
lay
fec
lay
RD
i
)
(

(3-1)
Subject to 


L
i
av
i
i
B
fec
(lay )
(3-2)
We addressed this problem in [18] by proposing an
optimal layer oriented FEC rate allocation scheme. In the
following we present the proposed algorithm.
51
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

B.
Optimization
We define

Glayi
as the gain in quality of the transmitted
image obtained at the receiver side when layer i is decoded.
We derive
1
RDlayi
and

RDlayi
the reduction of distortion
obtained when layer i is transmitted respectively with
protection level 1 and with protection level .We have:
0
1
1
)
1(
i
i
i
lay
lay
lay
RD
P
RD



0
)
1(
i
i
i
lay
lay
lay
RD
P
RD





(3-3)
where
1
layi
P
and

layi
P
are the decoding error probabilities
obtained when layer i is protected respectively to level 1
and to level  . The final gain is:
i
lay
lay
i
lay
lay
lay
RD
P
lay
RD
G
i
i
i
i
0
1
1
1
)
1(




(3-4)
Similarly, any transmission between two consecutive
protection levels (
 1
and  ) yields an improvement in
terms of reduction of distortion but has a budget cost equal
to
layi
fec
fec


 )
(
 1

, hence we have:
i
lay
lay
lay
lay
fec
fec
RD
RD
G
i
i
i
)
(
1
1
1









i
lay
lay
lay
lay
lay
fec
fec
RD
P
P
G
i
i
i
i






)
(
)
(
1
0
1





(3-5)
For each layer, a set of gain values is computed, ordered
in decreasing order of importance and stored in a vector.
Then, the FEC rate associated to the first gain value of each
vector is applied for the corresponding layer’s protection
without exceeding the available bandwidth. It is worth noting
that all the packets belonging to the same layer are protected
at the same FEC rate.
C.
Contribution of the proposed optimal layer oriented
FEC rate allocation scheme
Even if the gain metrics presented in the previous section
seem close to the ones used in [6], they hold a fundamental
difference because they rely on the contribution of each layer
to the reduction of distortion instead of just taking into
account the contribution of a specific packet. Actually,
during
the
source
coding
process,
the
incremental
contribution from the set of image codeblocks is collected in
quality layers. Due to the fact that the rate-distortion
compromises derived during JPEG 2000 truncation process
are the same for all the codeblocks, for any quality layer
index i the contributions of quality layer 1 through quality
layer i constitute a rate-distortion optimal representation of
the entire image. Hence, at layer level the reduction of
distortion values are strictly decreasing. In contrast, the
selection of a specific JPEG 2000 packet does not guarantee
that the contributions of packet 1 to the selected index packet
are monolithically decreasing. In this case, as confirmed by
A. Descampe et al [15], some additional restrictions have to
be added to the considered convex-hull in order to ensure
rate-distortion and cost-distortion optimality. This justifies
the necessity to have a merging step in the packet oriented
FEC scheme [6] (it ensures that the convex-hull is always
convex).
In the layer oriented FEC this step is skipped
because
the
reduction
of
distortion
curve
is
already
monolithically
decreasing,
significantly
reducing
the
complexity and thus the time-consumption of the FEC rate
allocation algorithm. Moreover, in the proposed optimal
layer oriented FEC scheme, we only consider the first 10 RS
codes instead of considering all the 16 default RS codes
defined by JPWL standard as it is the case in [6]. This also
reduces considerably the FEC scheme time consumption as
its leads to less gains values computation which make the
proposed optimal layer FEC rate allocation scheme a good
candidate for real time images/video streaming applications.
In addition, the number of layers available in the
codestreams is another criterion which contributes to the
reduction of the time consumption of our proposed FEC
scheme. Actually, a JPEG 2000 image extracted from a
Motion JPEG 2000 video sequence is defined by ( L , R ,C )
where L is the number of quality layers of the considered
image , R is its resolution level corresponding to the
decomposition levels of the Discrete Wavelet Transform and
C
is the number of components. Assuming that the
considered JPEG 2000 image is not spatially divided and
thus is described by a unique tile, the number of data packets
available in the considered JPEG 2000 codestreams is given
by
C
R
L
S



. In this context, the complexity of packet
oriented FEC schemes [6] is based on the S data packets
while the complexity of the optimal layer based FEC is
based on the L layers available in the codestreams. In
scalable JPEG 2000 images, since the number of layers is
significantly lower in comparison to the number of data
packets, the time consumption of our proposed layer oriented
FEC scheme is significantly low in comparison to packet
oriented scheme.
Algorithm:
For each JPEG 2000 image
- Model the channel with a Gilbert model and for each
possible protection level  (
10
0
  
), evaluate the
probability of incorrect word decoding

layi
P
- For
i 1
to
i  L
(Number of JPEG 2000 layers)
For
 1
to
10

Estimate
0
, )
1(
i
i
i
lay
i
lay
lay
RD
P
RD





i
lay
lay
lay
lay
fec
fec
RD
RD
G
i
i
i
)
(
1
1
1









End For
End For
- Order gain values in decreasing order of importance
- Select each gain value, corresponding to a specific
protection level, up to meeting the rate constraint
-
Optimally
protect
JPEG
2000
layers
with
the
corresponding RS codes
End For
52
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

IV.
BANDWIDTH ESTIMATION AND IMAGES/VIDEO
SCALABILITY SCHEME
A.
Available Bandwidth estimation
In the literature many authors investigate classifications
of the bandwidth estimation tools. In [7], R. Prasad et al.
define four types of bandwidth estimation tools. The first
one, the Variable Packet Size technique (VPST) measures
the capacity of individual hops. It uses ICMP (Internet
Control Message Protocol) packets to measure the RTT
(Roundtrip Time). It assumes that the minimum RTT means
no queuing delays. Hence queuing delays are not taken into
account to estimate capacity. The result is a straight line,
whose slope equals 1/C. The second bandwidth estimation
tool presented in [7] is the Probing Packet Pair Dispersion
Technique (PPPDT) which measures the end-to-end capacity
using a packet pair with the same length and rate. The
capacity is found using the formula:
out
L
C


where
out
is the dispersion of the packet pair at the
receiver.
The third bandwidth estimation tool is the Self-loading
Periodic Streams Technique (SLoPST) which measures the
available bandwidth sending packet with the same length but
at different rates and calculating its one way delay. The
moment the delay starts to increase means the available
bandwidth has been exceeded.
The last bandwidth estimation tool is the Probing Packet
Pair
Trains
Dispersion
Technique
(PPPTDT)
which
measures the available bandwidth and the capacity of an end-
to-end path. It sends a train of packet pairs at gradually
increasing packet rate and estimates its average dispersion
rate at the receiver. The result is a curve where the slope is
1/C and the inflexion point is the available bandwidth value.
In our work, we focus on a fast bandwidth estimation
technique because it is more effective in tracking fast
varying wireless channels like the ones considered in our
scenarios.
B.
Available Bandwidth estimation tool
The
available bandwidth
estimation
tool
which
is
implemented in our system is called WBest (Bandwidth
Estimation Tool for Wireless Networks) and is presented in
[8] by M. Li and C. Chang. It is a two step fast converging
and accurate bandwidth estimation tool. It uses the effective
capacity (
e
C ) to estimate the available bandwidth. It takes
also into account cross-traffic impact. First, the effective
capacity is measured using an improved Probing Packet Pair
Technique. Actually, in this technique, the median of the
dispersion of the train of packet pairs sent is calculated.
Then, another packet train is sent at the rate of the effective
capacity in order to evaluate the real available bandwidth.
This procedure avoids the additional delay which is yielded
by the incremental packet rate generated while seeking for
the rate which congests the path.
In this context, the available bandwidth ( AB) is derived
as follows:
)
2
(
out
e
e
C
C
AB
 

if there is no congestion
or
 0
AB
if congestion is detected
It is worth noting that during the second step, congestion
is detected by analyzing the dispersion of the packet train. If
the dispersion is lower than
Ce / 2
, it means that
congestion occurred. In this case, the bandwidth estimation
process is cancelled because packets are queuing.
The authors of this work pointed out that finding the
optimal lengths of the trains used in both stages is a difficult
issue, and in [8], they propose a methodology to address this
issue. Relying in the methodology proposed in [8], we
empirically derive that in our scenarios, 6 packets pairs for
the first train and 30 packets for the second train is a good
tradeoff
which
yields
sufficiently
accurate
bandwidth
estimation results.
Once the available bandwidth estimated in our system,
the following step consists in adapting the images and video
streams to the channel conditions.
In the present work we implement an adaptive bandwidth
estimation tool and propose an additional scalability tool at
the encoder which dynamically and efficiently selects the
best resolution and layer for each JPEG 2000 frame before
transmission through the wireless channel. Hence, according
to the estimated bandwidth, refinement layers could be added
or removed from JPEG 2000 codestreams. We present in the
following the processes which are implemented at the
encoder.
Algorithm:
Once connected, the server starts the WBest [8] process
in order to obtain the initial available bandwidth. At this step
the goal is to send images and video with maximum detail
(highest resolution and all refinement layers) matching with
the estimated bandwidth. The original resolution and number
of layers for the considered video is found using an indexer
like the one available in [9].
In our work, the default number of resolution is 6, the
length and the width of the image must be a power of 2 (here
352x288) and the number of layers is 3.
Let l be a layer of a JPEG 2000 image and
l
SErate
is
corresponding source encoding rate. Let
k
n
fecl
rate 
be the
inverse of the Reed-Solomon code RS(n,k) selected by the
layer oriented FEC rate allocation scheme to protect layer
l against transmission errors. Let
frame_length
be the
amount of data needed to transmit layer l protected, we
have:
l
rate
l
rate
fec
SE
H W
frame length




_
(4 -1)
53
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Since quality is the most important parameter for a JPEG
2000 transmission system, in our algorithm, for a given
resolution we try to transmit a maximum number of
refinement layers.
The proposed scheme is able to adapt to channel
variations thanks to the bandwidth estimation tool. Hence,
when the channel experiences good conditions, our heuristic
algorithm selects the highest resolution with the highest
quality (all the refinement layers are transmitted). If the
channel experiences harsh conditions, image layers and
resolution are decreased up to defined thresholds. We
empirically derive thresholds (
lmax / 2
) for layer removing
and for (
resolmax / lmax
) resolution reduction because we notice
that images quality starts to show a huge degradation when
we remove more than half of the original image layers and
image
visualization
becomes
impossible
under
this
resolution reduction threshold. Hence, when the channel
experienced bad conditions, image layers are incrementally
reduced while maintaining original resolution of the JPEG
2000 frame to highest level. However, if the corresponding
frame length do not match the available bandwidth, image
resolution downscaling is done. It is worth noting that our
fixed thresholds are valid for our scenarios and may change
in different environments.
Once the resolution and the number of layers are chosen,
the server sends the video streaming to the client.
The available bandwidth estimation tool is launched
every 10 frames but this frequency could be changed
according to the application requirements. An interesting
extension to this work could be to optimally adapt the
frequency of the bandwidth estimation tool to the channel
conditions.
The efficiency of the proposed heuristic algorithm is
demonstrated using a wireless client/server video streaming
application. In the following section, we present the results
derived from different video streaming scenarios.
C.
Results of Available Bandwidth estimation
The video streaming scenarios considered in this work
are derived from wireless transmission trials used in the
literature for bandwidth estimation purpose.
The video sequence is speedway.mj2 [16] which is a
352x288 motion JPEG2000 sequence constituted of 200
JPEG 2000 frames with six resolutions and three layers each.
1)
Scenario 1
In the first scenario, the wireless channel considered is
derived from BART tool [10], which estimates the available
bandwidth in an end-to-end path where the bottleneck is a
wireless hop. It uses the Probing Packet Pair Trains
Dispersion Technique and improves the system using
Kalman filters to measure and track the changes.
In this scenario, we focus on the fast varying part of the
estimated bandwidth. Moreover, we divide the bandwidth
estimated by BART tool [10] by a parameter δ=2 in order to
show that our scheme is efficient even when the wireless
channel experienced harsh conditions.
________________________________________________
Heuristic ________________________________________
1-Wait for client connection request
2-Estimate available bandwidth (
av
B ) using WBest tool
3-Derive original images/video maximum number of layers
( max
l
) and maximum resolution (
resolmax
) from the indexer
For each JPEG 2000 image:
4-Initialize current layer parameters (
max
_
l
lay
cur

) and
current resolution (
max
_
resol
resol
cur

)
5-Calculate the needed bandwidth
needed
B





lay
cur
i
i
rate
i
rate
needed
fec
cur resol SE
B
_
1
_
6- While (
/ 2
_
lmax
lay
cur

)
{
If (
needed
av
B
B

) Send Image
Else
{
1
_
_


lay
cur
lay
cur
Calculate





lay
cur
i
i
rate
i
rate
needed
fec
cur resol SE
B
_
1
_
}
}
Else
{
While (
max
max
_
l
resol
resol
cur

)
{
2
_
_
resol
cur
resol
cur

Calculate





lay
cur
i
i
rate
i
rate
needed
fec
cur resol SE
B
_
1
_
If (
needed
av
B
B

) Send Image
Else
{
2
_
_
resol
cur
resol
cur

1
_
_


lay
cur
lay
cur
}
}
}
54
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 4.a Available bandwidth versus time – BART Tool scenario
Figure 4.b Images processed at point (1) and (2) - BART Tool scenario
Scenario 1
Image
Length
Image
Width
Layer of
transmitted
Images
(1)
352
288
3
(2)
352
288
2
Table 1: Scalability parameters - BART Tool scenario
In figure 4.a, point (1) indicates that the estimated
bandwidth is higher than the needed bandwidth, hence initial
JPEG 2000 frames are transmitted. Point (2) shows that the
estimated bandwidth is decreased and becomes insufficient
to send original images. Hence, the algorithm maintains the
resolution at the highest level (initial value) but one layer is
removed from original frames as shown in Table 1.
In Figure 4.b we randomly select and present images
speedway10.j2k and speedway25.j2k which have been
processed respectively on points (1) and (2).
2)
Scenario 2
The second scenario is derived from the work of Gupta et
al. [11]. In their work, their compare a passive technique that
uses packets containing useful data as probing packets and
the pathchirp tool which is a general bandwidth estimation
tool designed using Self-loading Periodic Streams (SLoPS).
They demonstrated that the passive tool follows more
accurately
the
changes
of
the
available
bandwidth.
Moreover, they show that saturating the network to estimate
the bandwidth is not the best choice.
In this scenario, the network is a single link between two
computers with two additional cross-traffics. The estimated
bandwidth has been divided by δ=7 in our tests.
In figure 5.a we observe three points corresponding to
different available bandwidth along with adapted data rate.
Point
(1)
indicates
that
the
available
bandwidth
is
significantly low compared to the needed bandwidth. In this
case resolution is downscaled without removing a quality
layer. Then point (2) shows that when the available
bandwidth
is
increased,
resolution
is
up-scaled
while
removing a quality layer. Finally, original frames are
transmitted at point (3).
Figure 5.a Available bandwidth versus time – Pathchirp tool scenario
Figure 5.b Images processed at point (1), (2) and (3) - Pathchirp tool
scenario
Speedway25.j2k
Speedway10.j2k
Speedway5.j2k
Speedway13.j2k
Speedway18.j2k
(1)
(2)
Available Bandwidth (Mbps)
(2)
(3)
(1)
Available Bandwidth (Mbps)
55
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Scenario
Pathchirp tool
Image
Length
Image
Width
Layer of
transmitted
Images
(1)
176
144
0
(2)
352
288
1
(3)
352
288
0
Table 2: Scalability parameters - Pathchirp tool scenario
In the following, instead of using pathchirp tool for
bandwidth estimation, we use a passive tool which is a more
accurate tool [11]. Results are presented in Figure 6.a. For
the same scenario, we notice that one additional bandwidth
state is detected in point (4) which demonstrates that the
passive tool is more accurate than pathchirp tool
Figure 6.a Available bandwidth versus time – Passive tool scenario
Figure 6.b. Images processed at point (1), (2), (3) and (4) - Passive tool
scenario
In comparison to the pathchirp tool, using the passive
tool yields image quality layer downscaling at point (4)
instead of maintaining the transmission of unmodified
original images (see Table 3). Hence, using pathchirp tool
may lead to networks overloading.
Scenario
Passive tool
Image
Length
Image
Width
Layer of
transmitted
Images
(1)
176
144
1
(2)
352
288
1
(3)
352
288
0
(4)
352
288
1
Table 3: Scalability parameters - Passive tool scenario
Figure 6.b presents speedway5.j2k, speedway10.j2k,
speedway14.j2k and speedway20.j2k which have been
processed respectively on points (1), (2), (3) and (4).
V.
PERFORMANCES OF THE OPTIMAL LAYER ORIENTED
FEC RATE ALLOCATION SCHEME
A.
Performance of layer based FEC scheme in terms of
time consumption
In Figure 7 the run time of the proposed layer based FEC
rate allocation scheme is plotted versus the number of data
packets available in the JPEG 2000 codestreams. This curve
is compared to the one achieved using the optimal packet
oriented FEC rate allocation scheme [6]. These results are
achieved using an Intel core Duo CPU 2.9 GHz workstation.
As packet-oriented and layer oriented schemes are linked
by the number of layers available in each image, we vary this
parameter in order to derive some comparable results. In the
considered scenario, the number of available resolution and
component of JPEG 2000 frames are fixed (resolution = 10
and component = 1) because these parameters do not impact
the time-performance of layer oriented FEC rate allocation
schemes.
In Figure 7 each packet (i) corresponds to a
specific JPEG 2000 frame (with a specific quality layer).
In this scenario, the available bandwidth in the system is
set to 18 Mbit/s (
Mbits s
Bav
/
18
). It is worth noting that
in practice few existing JPEG 2000 codecs allow high
quality scalability and to our knowledge, none of them can
handle more than 50 quality layers. Hence, the considered
scenario allows generalization to future high quality layer
scalable FEC rate allocation systems.
Speedway5.j2k
Speedway10.j2k
Speedway14.j2k
Speedway20.j2k
(2)
(4)
(1)
(3)
Available Bandwidth (Mbps)
56
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 7. Time versus packets: Fixed image resolution (R=10) –Varying
quality layers (0 to 100) – One component (C =1)
In Figure 7 we notice that both layer and packet oriented
scheme have a run time linearly increasing with the number
of packets available in the codestreams. However, the
optimal layer based FEC scheme is significantly less time
consuming
than
the
packet
based
FEC
scheme.
For
codestreams containing less than 1000 packets (quality
layers  10) the packet oriented FEC scheme is 3 times
more time consuming than our optimal layer based FEC
scheme. For JPEG 2000 codestreams, whose number of
packets is between 1000 and 5000 (quality layers between
10 and 50) the packet oriented scheme is up to 5 times the
run time of the layer based FEC scheme. Since existing
JPEG 2000 codecs handle less than 50 quality layers, our
proposed optimal layer based scheme is a good candidate
for real-time JPEG 2000 codestreams over wireless channel
as its yields low time consumption. For codestreams with a
number of packets between 5000 and 10000 (quality layers
between 50 and 100 – high layer scalability) the packet
oriented scheme has 6 times the run time of the layer based
FEC scheme. Hence, our proposed layer based scheme, due
to its low time consumption, could be viewed as a good
candidate for future high quality layer scalable wireless
JPEG 2000 based images and video streaming applications.
Although our proposed scheme achieves good performances
in terms of time consumption in comparison to packet
oriented FEC rate allocation schemes, the last ones present
better
performance
in
terms
of
visualization
quality
especially for highly noisy channels. It is worth noting that
packet oriented and layer oriented FEC schemes advantages
could be combined in a smart switching FEC rate allocation
scheme such as the one proposed in [12].
In the following section we demonstrate the effectiveness of
our
proposed
layer
based
FEC
scheme
thank
to
a
client/server application of Motion JPEG 2000 video
streaming over real ad-hoc network traces.
B.
Layer oriented FEC rate allocation for Motion JPEG
2000 video streaming over real ad-hoc network traces
In this section we present the results achieved while
streaming Motion JPEG 2000 based video over real ad-hoc
network channel traces [13] and we demonstrate that the
proposed optimal layer based scheme outperforms existing
layer oriented FEC schemes even if for highly noisy
channels it is less efficient than packet oriented FEC
scheme. The comparison is handled both in terms of
Structural Similarity (SSIM) [17] and in terms of successful
decoding rate. We derive the Mean SSIM metric of the
Motion JPEG 2000 video sequence by averaging the SSIM
metrics of the JPEG 2000 images contained on the
considered video sequence. It is worth noting that each
SSIM
measure derived
is
associated
to
a successful
decoding rate metric which corresponds to decoder crash
avoidance on the basis of 1000 transmission trials.
The considered wireless channel traces are available in
[13] and the video sequence used is speedway.mj2 [16]
containing 200 JPEG 2000 frames generated with an overall
compression ratio of 20 for the base layer, 10 for the second
layer and 5 for the third layer.
Figure 8 presents the successful decoding rate of the
motion JPEG 2000 video sequence speedway.mj2 [16]
transmission over real ad-hoc network channel traces [13].
We observe that for highly noisy channels (
dB
C N
15
/

),
the proposed optimal layer outperforms other layer based
FEC schemes but is less efficient than the packet oriented
scheme. For noisy channel (
dB
C N
dB
18
/
15


), we notice
that
all
layer
based
UEP
schemes
exhibit
similar
performances in terms of successful decoding rate. However,
for low noisy channels (
dB
C N
18
/

) all the FEC schemes
yield the same improvement in terms of successful decoding
rate.
Figure 8. Successful decoding rate versus Carrier to Noise Ratio
57
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

In Figure 9 we show that our proposed optimal layer
based FEC rate allocation scheme still outperforms other
layer based schemes in terms of Mean SSIM. This is due to
the fact that the base layer which is the most important part
of the codestreams is highly protected in our proposed
scheme, in comparison to other layer based schemes,
guaranteeing this way a good quality for the visualization.
Figure 9. Mean Structural Similarity versus Carrier to Noise Ratio
It is worth noting that, for highly noisy channels, our
optimal layer oriented FEC scheme is less efficient than
optimal packet oriented FEC scheme presented in [6].
However the last one is unpractical for real time streaming
applications when the number of packets in the codestreams
is high. In contrast our proposed layer oriented efficiently
overcomes this limitation. In this context, instead of being
used to replace packet oriented FEC rate allocation schemes,
our proposed optimal layer based FEC scheme should be
used to complete it. Thus, an interesting extension to this
work could be to consider the framework of unifying both
families (packet oriented and layer oriented) and going
straightforward to derive an optimal combined packet/layer
oriented FEC rate allocation scheme for robust transmission
of JPEG 2000 images/video over wireless channels.
VI.
CONCLUSION
In this paper we presented an optimal layer oriented FEC
rate allocation scheme for robust JPEG 2000 images/video
streaming over wireless channels. Compared to packet
oriented FEC schemes, our proposed layer based scheme is
significantly less time consuming while offering similar
performances in terms of Structural Similarity for low noisy
channels. However, for highly noisy channels, the packet
oriented scheme is more efficient than the proposed scheme
which leads us to the conclusion that both packet oriented
and layer oriented schemes should not be viewed as
antagonists FEC schemes, but should be combined in a new
framework
of combined
packet/layer
based
FEC
rate
allocation scheme. In this context, our proposed optimal
layer oriented scheme is a good candidate for both highly
constrained video streaming applications and for future
unified packet/layer based FEC rate allocation schemes.
REFERENCES
[1]
D.
S.
Taubman
and
M.
W.
Marcellin,
“JPEG
2000
Image
Compression
Fundamentals,
Standards
and
Practice,”
Kluwer
Academic Publishers, The Netherlands 2001
[2]
JPEG 2000 part 11 Final Draft International Standard, ISO/IEC JTC
1/SC 29/WG 1 N3797
[3]
M. Agueh, F. O. Devaux, and J. F. Diouris, “A Wireless Motion
JPEG 2000 video streaming scheme with a priori channel coding,”
13th European Wireless 2007 (EW-2007), April 2007, Paris, France
[4]
Z. Guo, Y. Nishikawa, R. Y. Omaki, T. Onoye, and I. Shirakawa, “A
Low-Complexity FEC Assignment Scheme for Motion JPEG 2000
over
Wireless
Network,”
IEEE
Transactions
on
Consumer
Electronics, Vol. 52, Issue 1, Pages: 81 – 86, Feb. 2006
[5]
M. Agueh, J. F. Diouris, M. Diop, and F. O. Devaux, “Dynamic
channel coding for efficient
Motion JPEG 2000 streaming over
MANET,” Proc. Mobimedia2007 conf., Aug. 2007, Greece
[6]
M. Agueh, J. F. Diouris, M. Diop, F. O. Devaux, C. De
Vleeschouwer, and B. Macq, “Optimal JPWL Forward Error
Correction rate allocation for robust JPEG 2000 images and video
streaming over Mobile Ad-hoc Networks,” EURASIP Journal on Ad.
in Sig. Proc., Spec. Issue wireless video, Vol. 2008, ID 192984
[7]
R. Prasad, C. Dovrolis, M. Murray and kc claffy, “Bandwidth
estimation: metrics, measurement techniques and tools,”
IEEE
Network, vol. 17, pp. 27-35, 2003
[8]
M. Li, M. Claypool and R. Kinichi, “ WBest: a bandwidth estimation
tool for IEEE 802.11 wireless networks,” Proc. of 33rd IEEE Conf. on
Local computer networks, 2008.
[9]
Openjpeg, website: www.openjpeg.org
[10] A. Johnsson and M. Björkman, “On measuring available bandwidth
in wireless networks,” Proc. of 33rd IEEE Conf. on Local Computer
networks, 2008.
[11] D. Gupta, D. Wu, P. Mohapatra and C. Chuah, “Experimental
comparison
of
bandwidth
estimation
tools
for
wireless
mesh
networks,” Proc. of IEEE Inocom mini-conference, April 2009
[12] M. Agueh, S. Ataman, and H. Soude, “A low time-consuming smart
FEC rate allocation scheme for robust wireless JPEG 2000 images
and video transmission,” 4th International conf. on Com. and
Networking, 2009, Xi’an (China)
[13] Loss patterns acquired during the WCAM Annecy 2004 measurement
campaigns IST-2003-507204, “Wireless Cameras and Audio-Visual
Seamless Networking,” website: <http://wcam.epfl.ch/> 01-04-2009
[14] J. R. Yee and E. J. Weldon, “Evaluation of the performance of error-
correcting codes on a Gilbert channel,” in IEEE Transactions on
Communications. vol. 43, no. 8, Pages: 2316-2323, 1995
[15] A. Descampe, C. De Vleeschouwer, C. Iregui, B. Macq, and
F.Marques, “Pre-fetching and caching strategies for remote and
interactive browsing of JPEG 2000 images,” IEEE Transactions on
Image Processing, vol 16, no 5, Pages: 1339-1354, 2006
[16] Speedway
video
sequences
have
been
generated
by
UCL:
<http://euterpe.tele.ucl.ac.be/WCAM/public/Speedway%20Sequence>
01-04-2009
[17] Z. Wang, A. C. Bovik, H. R. Sheikh, and E. P. Simoncelli, “Image
quality assessment: From error visibility to structural similarity,”
IEEE Tran. on Image Proc., vol. 13, no. 4, Pages: 600-612, Apr. 2004
[18] Max Agueh, Henoc Soude, "Optimal Layer-Based Unequal Error
Protection for Robust JPEG 2000 Images and Video Transmission
over
Wireless
Channels,"
mmedia,
pp.104-109,
2009
First
International Conference on Advances in Multimedia, 2009
58
International Journal on Advances in Telecommunications, vol 3 no 1 & 2, year 2010, http://www.iariajournals.org/telecommunications/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

