Built-In Self-Testing Methodology and Infrastructure 
for an EMG Monitoring Sensor Module 
 
Antonio José Salazar Escobar, José Machado da Silva, 
Miguel Velhote Correia 
INESC TEC e Faculdade de Engenharia,  
Universidade do Porto,  
Porto, Portugal 
{†antonio.salazar,jms,mcorreia}@fe.up.pt 
Bruno José Mendes 
Unidade de Telecomunicações e Multimédia 
INESC TEC (formerly INESC Porto),  
Porto, Portugal 
bruno.mendes@gmail.com
 
 
Abstract — Wearable technologies provide a refinement to 
personal monitoring by permitting a long-term on-person 
approach for capturing physiological signals. Sensors, textile 
integration, electronics miniaturization and other technological 
developments are directly responsible for advancements in this 
domain. However, in spite of the present progress, there are still 
a number of obstacles to overcome for truly achieving seamless 
wearable monitoring technology. That concerns, namely, 
improvements on the reliability of the system at the design stage, 
including the adoption of built-in self-test and embedded test 
instruments, features able to detect functional and structural 
failures. Biopotential monitoring has been part of medicine and 
rehabilitation protocols for decades now, thus its integration 
within wearable systems is a natural progression; nonetheless, a 
number of factors can affect acquisition reliability such as 
electrode-skin impedance fluctuations and the malfunction of 
the data-acquisition circuits. This article presents a built-in self-
testing approach for an electromyography data acquisition unit, 
part of a wearable gait monitoring system. The approach makes 
use of the inter-integrated circuit bus in a dual purpose role, as 
a communication bus and for stimuli and test response 
propagation. The targeted tests are electrode-skin impedance 
checking through a straightforward threshold strategy and 
detection of functional deviations of the signal conditioning 
circuit of the electromyography unit, through a digital signature 
based approach. 
Keywords - BIST; EMG; electrode-skin impedance; digital 
signatures; structural faults; I2C. 
I. 
INTRODUCTION 
 The present paper provides an updated and extended 
description of the work presented by the authors at the 
GLOBAL HEALTH 2013 conference [1]. 
An increasing ageing population and consequently rising 
number of individuals with chronic movement and 
neurological disorders, are forcing societies to adapt to ever-
growing demands. Currently, the capacity of most countries 
to address such alarming issue is inadequate, due to limited, 
understaffed 
and 
under-resourced 
facilities, 
proving 
ineffectual at times. For example, there were an estimated 
10.3 million first-ever stroke survivors in 2005 worldwide [2] 
and stroke is projected to remain a leading cause of disability-
adjusted life years (DALYs) [3] through 2030. Stroke care 
represents a major burden on global healthcare expenditures, 
representing roughly 3% of healthcare costs [4]. Despite the 
cost, there exists a general agreement on the importance of 
addressing the sequelae of stroke. Concurrently, hip injuries 
and disorders are also likely to occur with aging. It is 
estimated that by the year 2030, the number of hip fractures 
in the USA will reach 289,000, an increase of 12% [5]. 
In order to safeguard the quality of life of the elderly and 
individuals with chronic ailments, a paradigm shift in the 
personal healthcare process is necessary; moving from a 
reactive (post-event) to a proactive (preventive) stand [6]. 
Nowadays, information and communication technologies 
(ICT) are supporting and promoting the aforementioned shift, 
by pushing health monitoring technologies closer to the end-
user, in an effort to reduce costs through remote care. This 
way, the hospital based healthcare concept is being translated 
into smaller and more distributed health care services, 
including the home, up to the point where some health 
monitoring tasks can be done with the patient living her/his 
daily activities [7]. 
The use of portable devices for healthcare enables the early 
detection of abnormal conditions and facilitates the 
prescription of ambulatory treatments [8]. Until recently, 
most research involving the capture and analysis of 
biomedical and physiological signals has been limited to a 
laboratory or otherwise controlled environment, making use 
of cumbersome and costly equipment, which requires 
specialized facilities and trained personnel. Such practices, 
although useful in their own right, fail to consider real life 
scenarios and their impact on the subject. The fast paced 
developments of body sensor networks (BSN) and wearable 
technologies (including the so-called smart textiles) have 
allowed to open the next stage in human behaviour analysis 
tools, and introduce a new understanding of the interaction of 
individuals with their surrounding environment [9]. 
Although wearable and portable biomedical monitoring 
devices are rapidly becoming a recognized alternative, little 
attention has been paid to field testing protocols and 
methodologies, in order to insure measurement reliability, 
especially on long-term scenarios. When considering the 
reliability of wearable EMG monitoring systems, one can 
divide the focus in two main parts: that concerning the data 
68
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

acquisition system and that dependent on the condition of the 
electrode-skin interface. 
Testing and design for testability (DfT) have become a 
crucial aspect of most electronic designs; moreover, 
considering the structural complexities involved in modern 
packaging technologies. Intellectual property (IP) cores, 
hybrid technologies and mixed-signal systems have 
introduced a number of challenges that have dominated 
testing and development time and cost. Traditional 
approaches such as parametric characterization or hardware 
specific testing apparatus are far from providing the cost 
stabilizing effects achieved by automatic testing equipment 
(ATE) during the last decades of digital technology 
revolution. This is of particular concern when considering 
scenarios for remote or on-location monitoring solutions, 
which require constant self-diagnostic strategies in order to 
insure data reliability, such as the ones presented by wearable 
technologies. Additionally, the continuous tendency for 
mixed analog and digital (MAD) signal integration within 
modern designs drives towards new testing solutions, adapted 
to an evolving set of needs. 
Although significant advances in the last decades have 
been made on the development and use of standard test 
infrastructures for digital circuits, such is not the case for 
analog or mixed-signal scenarios, in spite of the availability of 
the IEEE 1149.4 test bus [10] [11]. Nevertheless, a number of 
ad hoc contributions and strategies exist, where the general 
idea is the evaluation of an analog response to controlled 
stimuli, in order to verify expected response behaviors and 
correlating deviations to specific faults in certain cases [12] 
[13] [14]. 
In contrast, the electrode-skin interface [15] [16] [17], as 
well as its effect on biosignals measurements [18] [15] [16] 
[17] have been well studied. A number of studies and 
strategies 
exist 
on 
the 
electrode-skin 
impedance 
characterization domain [19] [20] [21], but the introduction 
of new electrode types (textile and capacitive for example) 
present novel challenges, especially in the case of 
electromyographic (EMG) signals acquisition [22]. The 
traditional approach for insuring quality electrode based 
bioelectric monitoring resorts to a thorough skin preparation 
of the target area, while qualified personnel positions the 
electrodes based on specific anatomical landmarks, verified 
with a portable skin-impedance meter or utilizing a test signal 
of the acquisition system. This approach is not readily 
applicable to certain subjects, such as elderly, allergenic and 
pediatric [23], or for most forseen wearable strategies; 
moreover, variations of the electrode-skin interface 
impedance are to be expected [24]. Alternatively, methods 
such as those presented in [25] [26] provide a continuos 
monitoring of electrode-skin interface through the inclusion 
of additional hardware such as signal generators, current 
sources, and filters, used in parallel with the target signal 
acquisition components. 
During biological signals capture, faults within modules 
(either catastrophic or parametric) can occur in both sensors 
and signal conditioning circuitry. This is even more acute 
when these modules are integrated within wearable systems, 
due to the harsh conditions they are subjected to. The 
imprecise nature of electrical biosignals, combined with the 
parametric tolerance of the involved components; not to 
mention 
addressing 
transient 
variations 
caused 
by 
temperature changes, triboelectric and piezoelectric effects, 
positioning fluctuations, and sensor contact variation, require 
adopting testing approaches different from those used in 
traditional electronic scenarios. In order to improve the 
reliability of wearable systems, built-in testing and 
calibration functionalities are required for fault detection, 
localization and diagnosis prior data is erroneously captured. 
This article presents a built-in self-testing (BIST) solution 
for an EMG sensor module of a wearable system intended for 
gait analysis. The strategy focuses on resource reutilization 
and component count minimization, through the reuse of an 
inter-integrated circuit (I2C) bus as a stimuli/response 
transport, managed through a novel protocol. Section II 
provides an overview of the wearable acquisition system for 
gait analysis on which the present work was based. Section 
III presents the implemented BIST strategies, as well as the 
management framework. Section IV summarizes the 
experimental test results, and Section V highlights the main 
conclusions and future developments of the work.  
II. 
 WEARABLE DATA ACQUISITION SYSTEM FOR GAIT 
ANALYSIS 
Current instrumentation and methods for gait analysis are 
still expensive and complex, difficult to setup by healthcare 
staff, hard to operate and uncomfortable for the patient, while 
requiring a very high level of expertise for data gathering, 
Figure 1. (a) Early prototype of gait analysis system. (b) Textile embedded 
wires and electrodes. 
69
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

analysis and interpretation. A new wearable instrument 
infrastructure specifically dedicated to capturing locomotion 
data is being developed [27]; an early prototype can be 
observed in Fig. 1 (a), while Fig. 1 (b) presents the textile 
embedding strategy that permits replacing cumbersome 
wiring; a close-up of the textile electrodes can be seen in Fig. 
2. 
This system includes, in a single infrastructure, the means 
to capture inertial and surface electromyographic signals 
(sEMG) of the lower limbs. It is presented as a network of 
sensor nodes interconnected through textile-conductive yarns 
and provides the measurement of kinematic variables, as well 
as the sEMG signals that are most important for locomotion. 
Each node comprises a sEMG sensor, an accelerometer, and 
a 
gyroscope, 
as 
well 
as 
an 
operation 
managing 
microcontroller responsible also for routing data in the 
established mesh network. EMG electrodes and the 
interconnections among sensor nodes are sewed on the 
leggings using yarns made with twisted filaments, each one a 
polymeric filament covered by a very thin layer of silver. 
Aggregated information is sent to a personal computer 
through a Bluetooth wireless link from a central processing 
module (CPM), as seen in Fig. 3. 
The objective is to develop instrumented leggings for 
measuring human locomotion parameters in a practical and 
non-invasive way, even for people with strong impairments 
or disabilities. It is meant for capturing data, for prolonged 
periods of time, of typical movement activities under 
everyday 
living conditions, 
without interference or 
discomfort to the subject. The system allows the 
measurement of typical kinematic variables of the lower 
limbs, namely linear and angular movement of thighs and 
shanks, as well as the myoelectric signals of strategic muscles 
for locomotion analysis, as seen in Fig. 4, following 
recommendations from the Surface ElectroMyoGraphy for 
the Non-Invasive Assessment of Muscles (SENIAM) project 
[28] and a team of physiotherapists and specialists in gait 
analysis. 
A. EMG Module 
The EMG module contained within each sensor node, 
shown in Fig. 5, can be divided in two main sections: the 
electrodes and the signal conditioning circuitry (SCC). The 
electrodes are grouped in sets of two acquisition electrodes per 
targeted muscle plus a reference electrode per leg placed on 
the knee. The SCC comprises the following stages: an 
instrumentation amplifier, drift removal, filtering, gain 
adjustment, and a body reference drive feedback connected to 
the reference electrode. These stages have a predictable 
behavior 
established 
by 
their 
configuration 
and/or 
combination of elements such as resistors and capacitors, 
which show an acceptable dispersion of values among them, 
maintaining the proper functioning of the system. However, 
variations in the manufacturing process of the components, 
different life-time degradations, electrical faults (shorts and 
open circuits), or environmental issues such as, humidity, 
pressure or temperature, can alter such balance of values. 
Figure 2. Embedded textile EMG electrodes. 
CPM 
Sensor 
Module 
Figure 4. Gait analysis structure detailed view. 
Figure 3. Gait analysis infrastructure. 
70
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Therefore, it is important to ensure that the system is operating 
within the defined limits before and during its usage, in order 
to insure the reliability of the captured data. 
III. 
BUILT-IN SELF-TESTING 
Built-in self-testing/calibration (BISTC) strategies have 
traditionally focused on performing detection, diagnosis and 
repair actions of a specific module, section, component, or IP 
core [29] [30]. The increasing complexity of modern 
wearable monitoring technology (WMT) can seldom benefit 
from strategies that are either too centralized, external 
data/equipment 
dependent, 
or 
component 
focused. 
Communication and area overhead, increased complexity 
and resources, or energy expenditure, are just a few factors 
that limit traditional approaches.  
In order to address some of the aforementioned 
limitations, a BIST structure was proposed, which reduces 
implementation overhead, in terms of design time, pin-count 
and board area,   through the reuse of the I2C bus (already 
used for connecting the accelerometer and the gyroscope) for 
testing management purposes, as seen in Fig. 6. Such 
approach permits taking advantage of the I2C bus, generally 
present within wearable systems for multi-component 
communication, as a means for stimuli/response transport, as 
well as for testing management. Further explanation of the 
methodology can be found in Section IIIC. 
In this particular scenario the embedded instrument refers 
to the EMG module previously described. The approach 
seeks to integrate within the module elements required for 
testing different aspects, such as the electrode-skin 
impedance for proper sensor contact verification, as well as 
the signal conditioning circuitry functional response. In such 
setup, a switching matrix that manages the different signals 
 
Figure 5. EMG signal conditioning module structure. 
Figure 6. Overview of generic embedded instrument with proposed 
infrastructure. 
Figure 7. EMG module BIST structure. 
71
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

routing is necessary to perform the necessary actions, with 
special 
consideration 
to 
active 
operation 
time 
synchronization, i.e., meaning that safety considerations are 
also in play due to the nature of the electrode-skin interface. 
Fig. 7 presents an overview of the strategy applicable to the 
described scenario, where the signature generator and 
electrode validator stand for the circuitry utilized for testing; 
which will be described in the next sections. 
A. Electrode-skin Verification 
Surface electrodes are likely the most utilized sensors for 
capturing electrical biosignals measurements, such as 
electrocardiography, 
electromyography, 
electro-
encephalography, 
electrooculography, 
bioimpedance, 
impedance tomography, among others. The contact 
impedance achieved in the electrode-skin interface affects 
biosignals measurements (as stated earlier), a matter of 
concern, traditionally 
solved through, 
namely, skin 
preparation procedures, equipment checking, and electrode 
replacement. Even under such controlled conditions, 
variations of the electrode-skin contact impedance are to be 
expected. However, in applications such as daily activities 
monitoring and the performance measurement of an athlete, 
or other scenarios where the individuals will have to position 
the electrodes themselves or the electrodes are integrated 
within a garment, careful positioning and skin preparation 
cannot be guaranteed. 
Fig. 8 presents an eight hour time lapse measurement of 
the impedance of a commercially available disposable 
pediatric Ag/AgCl foam electrodes, of 1 cm of diameter core 
and 3 cm of diameter foam (DORMO, ref SX-30) over an 
Agar based gel, following the preparation procedures 
presented in [31]. A conventional three electrode setup with 
a GAMRY Series G-300 Galvanostat with 50 μA stimuli 
compatible with IEC 60601-1 standard [32] and ANSI/AAMI 
EC12:2000 recommendations [33], was performed in a 
controlled environment in order to ascertain the time 
variation of the electrode material interface impedance. As 
can be observed in Fig. 8, there is a prolonged settling period 
caused mainly by hydrophilic effects and temperature 
equilibration between the two interacting elements, similar to 
the effect reported on the electrode-skin interface [34], 
observed in Fig. 9 as well. 
Fig. 9 presents the measurements of an electrode-skin 
interface of a human volunteer. The skin was prepared with a 
straightforward technique, limited to light shaving, degreased 
with alcohol, dead cells removed with a soft brush, later 
cleansed with soap and water, and allowed to rest for 10 
minutes. The target electrode and its reference were located 
roughly 3 cm proximal to the elbow and the signal injection 
electrode roughly 6 cm from the center point of the target-
reference electrode line, proximal to the forearm mid-point 
(all measurements were considered from the center of the 
electrodes), the ground electrode was located at the 
contralateral posterior side elbow, as seen in Fig. 10. The 
subject was then placed within a Faraday cage, in order to 
reduce electromagnetic noise, following a sitting position 
with the forearm containing the electrodes resting 
Figure 8. Electrode-Gel time lapse impedance. 
Figure 9. Time lapsed electrode-skin impedance. 
Figure 10. Electrode placement. 
72
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

horizontally. As can be observed in Fig. 9, a similar 
hydrophilic phenomenon occurred as in the case of the 
electrode-gel. Such phenomenon is known by healthcare 
personnel, reason for which most electrode related 
procedures include a settling period prior to measurements. 
The phenomenon described above is worth mentioning in 
order to illustrate the variability of the electrode-skin 
interface; although it is not the greatest concern within a 
wearable system. Conventionally, analog faults are classified 
as hard (catastrophic) or soft (parametric), referring to the 
trace continuity; however, when considering sensors, the fault 
classes are not so well defined. For instance from a data 
centric point of view one can summarize, following [35] [36] 
[37] [38] [39]: 
• Constant or dead: measures provide invariant arbitrary 
values, uncorrelated to the observed phenomenon. 
• Random noise: increased variance of the target sensor 
measurements. 
• Short: sharp momentary irregularities between 
measurement points. 
• Accumulative or drift: continuous deviation trend from 
the correct value, expressible through a deterministic relation 
with true value, possibly cause by age, decay, damage, etc. 
In the case of textile electrodes the problems are 
exacerbated, due to their sensitivity to pressure, fabric 
stretching, and motion artifacts [40] [41] [42]. In addition, 
textile electrodes and wires, such as those presented back in 
Fig. 2, are relatively new technologies and strong behavioral 
models have not been well established when compared to pre-
gel electrodes; which complicates issues related to interface 
impedance variability. 
Several approaches have been implemented, through the 
years, for the measurement and monitoring of the electrode-
skin impedance, such as the ones presented in [18] [20] [21] 
[25] [26] [34]. An electrode-skin impedance verification 
circuit was developed following a straightforward approach, 
based on the injection of a low amplitude stimulus current 
(less than 10µA) in order to ascertain an electrode pair target 
load. Individual electrode-skin interface strategies generally 
utilize a three electrodes approach (one electrode-skin contact 
target and two others for sinking and voltage reference 
respectively). 
However, an electrode pair-wise verification was 
preferred in this case, in order to maintain simplicity. A 
single-supply current to voltage converter was used as 
observed in Fig. 11, which includes a calibration resistor in 
parallel with the target load in order to control threshold 
limits and avoid open feedback scenarios. The configuration 
follows that of a current controlled voltage source, where the 
current observed across the reference resistor flows towards 
the electrodes and calibration resistance generating a voltage 
proportional to the impedance under test. Momentary sharp 
irregularities are limited by the calibration resistor, as well as 
stabilizing capacitors (not observed in the figure). The 
magnitude of the stimulus current is a paramount 
consideration due to the possible negative effects in the 
human body, hereby achieved through the introduction of a 
limiting reference resistor. A local DC reference can be 
applied as stimulus in addition to a virtual ground 
compensated square wave signal sent through the I2C bus. 
B. Signal conditioning circuitry verification  
Common-mode rejection, amplification and filtering are 
regular stages of any electrode based signal conditioning 
circuit [42][48]. These are required to reduce the effects of 
common-mode potentials, random noise, motion and power-
line artifacts, as well as to effectively retrieving the 
components of interest of the measured signal. Amplification 
factors and cut-off frequencies are dependent on the signal 
type [42][48], and deviations can cause unwanted elements 
to be introduced into the captured signal. 
The test of the SCC (see Fig. 12) is achieved by means of 
the injection of an impulse stimulus at the input, fusion of the 
response of targeted nodes within the SCC, and the collection 
of the final response in the form of a digital signature that can 
be compared against a response table, composed by a set of 
signatures corresponding to the tolerance determined by 
acceptable components variations. 
Initially, a Built-In Logic Block Observer (BILBO)-like 
[43] based approach was attempted in which the stimulus was 
Figure 11. Electrode-skin verification structure. 
Figure 12. SCC test infrastructure. 
73
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

provided by an LFSR (Linear Feedback Shift Register), and 
the response of the SCC was collected by a Multiple Input 
Signature Register (MISR). These are solutions commonly 
found in the structural test of digital circuits, which are prone 
to aliasing errors, i.e., there is a (small) probability that the 
signature of a bad circuit is the same as that of a good circuit.  
In fact, such solution proved to be ineffective in the present 
case, since large variations of some components of the SCC 
module rendered signatures not so different from those 
obtained considering valid values, thus providing unreliable 
and ambiguous error detecting methods for this specific 
purpose. 
Alternatively, a different testing approach was chosen, 
where a delta-sigma (ΔΣ; or sigma-delta, ΣΔ) like modulator 
is used to convert the SCC response into a bit stream, being 
the I2C bus used for stimulus generation and response capture 
purposes (Fig. 12). An I2C bus driven stimulus was preferred 
over a locally generated one, in order to reduce local sources 
of noise (such as clocks), gain increased stimulus shaped 
flexibility, and reuse of existing resources. The target 
observation nodes were determined through a sensitivity 
analysis after a SPICE simulation, which established that the 
low-pass filter output and the ADC input are the nodes that 
best reflect variations within the components of the SCC, 
seen in Fig. 13. 
The SCC test impulse is designed to stimulate the SCC 
frequency bandwidth and amplitude full range. The 
observation of different analog nodes and their compression 
into a single bit stream improves observability and saves test 
response resources and time. This way, the need for an analog 
test bus line, the inclusion of a bulky analog to digital 
converter, and the need for a multiplexed test response 
acquisition are avoided. Fig. 14 shows the test impulse 
response, of the two selected inputs to the signature generator 
for a Monte Carlo simulation considering 10% variations of 
the SCC’s capacitors and resistors values. 
In order to reduce noise along the communication lines, 
complexity and total area of the test circuit, it was decided to 
differ from traditional ΔΣ modulators, by eliminating the flip-
flops generally present between comparators. The output of 
the signature generator is kept in a non-ground state through 
the use of a pull-up resistor until the test stimulus forces the 
first ‘0’, to ensure a known initial condition and thus a 
predictable start sequence, compatible with I2C as well. After 
such start event, the signal is captured every 10 µs during 1.05 
ms generating a 105-bit long signature. 
The resulting signature is acquired through the I2C bus by 
the local processing module, which applies a window bit 
density filtering and Ziv-Lempel based lossless compression 
algorithm [44]. As the SCC test response presents variations 
due to the acceptable tolerances of its components, the golden 
signature is actually a set comprising the signatures of 
different admissible responses. 
The Ziv-Lempel based lossless compression algorithm 
replaces repetitive bit sequences by a shorter code, as 
described in the following pseudo-code and observed in Fig. 
16: 
array  = ∆∑ output 
foreach segment from array 
    if segment ∈ dictionary 
        then signature + = segment  
foreach segment from signature 
    if segment ∈ 2nd dictionary 
        then final signature += segment 
Figure 16. Pseudo-code for compression algorithm. 
The use of this compression algorithm is twofold. On one 
hand, compression allows reducing the length of data to be 
transmitted along the wired network from the sensor node to 
the CPM, as well as through the Bluetooth link, thus reducing 
communication time and power. On the other hand, it allows 
to recover the original analog response at an external 
Figure 13. SCC target test nodes. 
Figure 15. Compression algorithm overview. 
Figure 14. SCC response to the test stimulus. 
74
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

processing unit, using a corresponding decompressing 
algorithm. 
C. I2C bus and test management handler 
A testing and/or calibration strategy for WMT benefits 
from distributed or multi-sensor aware approaches. Such 
approach could seek to maintain data reliability after the 
recognition of deviating degradation patterns on sensors that 
could provide insight into system problems due to, e.g., 
improper sensor positioning, induced electrical effects due to 
movement (turboelectric and piezoelectric effects), structural 
flaws and other factors that require the coverage provided by 
the analysis of multiple temporal instances, redundant 
structures comparison, or introspection into fused data 
components. In order to manage the previously mentioned 
approach, a testing framework was designed based on a 
protocol named SCPS [45]; which seeks to standardize the 
command sequence for sensor acquisition/testing access. 
In the present case, an instruction enables a testing 
procedure, activating pre-determined routing configurations. 
It is possible as well to use an I2C compatible sequence for 
transporting stimuli and responses to and from the target 
module as described in Fig. 17. 
The sequence sets up the appropriate routing configuration 
through acknowledgement of a test command and uses the 
next two SCK low-state for stimulus and response transport. 
In order to avoid start/stop events from occurring, the master 
element insures a low-state of the SDA prior to SCK high. A 
re-start or stop event can then be used at the event of the 
sequence to finalize the action. 
IV. 
RESULTS 
The electrode verification circuit was first simulated on 
Multisim 11.0.775, for functional and electrical parameters 
validation and to confirm the suitability of the arrangement. 
Preliminary experiments were then performed on an Agar 
based gel for performance verification prior to testing on 
human volunteers. A number of signals were used for 
behavioral confirmation, as can be seen in Figs. 18, 19, and 
20. 
The electrode-skin impedance was changed through 
variations of the contact surface between the electrode and 
the skin, Fig. 18 presents different responses of the circuit to 
such variations for a 10 µA DC stimulus, demonstrating its 
sensivity to the electrode-skin impedance variations, thus 
compatible with a threshold based fault detection approach. 
Fig. 19 and Fig. 20 present corresponding responses to 
square-wave and sine-wave, respectively, stimuli of 
matching peak to peak amplitude, respectively (limited to 50 
µA). These responses also demonstrate their sensitivity to the 
reactive component of the electrode-skin impedance (through 
phase and time response effects), by presenting a measurable 
Figure 17. I2C compatible sequence for Stimulus/Response transport. 
Figure18. DC Stimuli response for varying conditions, where S1 is the 
stimuli, S2 is low impedance response, S3 is an expected impedance 
response and S4 is a high impedance response. 
Figure 19. Square wave of 100 Hz stimuli, where S1 is the stimuli, and S2 
is an expected impedance response. 
Figure 20. Sine wave of 100 Hz stimuli response for varying conditions, 
where S1 is the stimuli, S2 is a normal impedance response and S3 is a 
high impedance response. 
75
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

phase difference in the case of S2 within Fig. 19 and through 
the behavior of S2 in Fig. 20, showing a classical 
charging/discharging behavior. On the other hand, the S3 
saturation level seen in Fig. 19 corresponds to an 
unacceptable over the limit electrode-skin impedance case. 
A. Signature generation results 
The SCC and the ΔΣ circuits were simulated within a 
SPICE like simulator, using the models of manufacturers for 
the operational amplifiers, comparators and analog switches. 
Figs. 21 to 24 show the waveforms obtained in response to 
the test impulse, for golden and faulty cases. The input pulse 
stimulus was designed considering the circuit time constants 
and the I2C time specifications – I2C’s fast-mode and fast-
mode plus specifications impose minimum durations of 0.6 
µs and 0.26 µs high periods, respectively [46]. 
Figs. 22, 23, and 24 present faulty responses for the cases 
of, respectively, a 5% reduction of the filter gain, a 30% 
reduction of the low-pass filter capacitor value, and an open 
connection in the instrumentation amplifier – Fig. 21 shows 
the golden response. The sequences of pulses presented in 
each case are the corresponding outputs of the ΔΣ modulator. 
It can be seen that, after comparing these sequences with the 
golden case, the three faults are detectable as different bit 
streams are generated. 
The direct capture of these test responses is possible 
because the I2C sampling frequency allows doing it with an 
adequate resolution, i.e., no pulses are lost. 
Experimental results were obtained with a demonstration 
prototype. For that purpose faults were introduced in the SCC 
in some of the most critical components for the proper 
operation of the circuit. According to the literature, the low-
pass filter cutoff frequency (fc) for EMG signal conditioning 
Figure 21. Signature generator input signals (Vfilter; Vout) and ΔΣ output 
– golden case. 
Figure 22. Signature generator input signals (Vfilter; Vout) and ΔΣ output 
– 5% reduction of the filter gain. 
 
Figure 23. Signature generator input signals (Vfilter; Vout) and ΔΣ output 
– 30% reduction of a capacitor value. 
 
Figure 24. Signature generator input signals (Vfilter; Vout) and ΔΣ output 
– open circuit in the instrumentation amplifier. 
 
76
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

circuits should be considered in the range from 500 Hz [28] 
to 700 Hz [47] or even 1000 Hz [48]. In our case, the 
tolerance band of the cut-off frequency imposed by the 
admissible components variations, shows a width from 480 
Hz to 800 Hz. Deviations were introduced in some 
components in order to change the cutoff frequency to values 
inside and out of the tolerance band, i.e., fc = [300, 492, 688 
Hz, 1450, 10130] Hz. 
In Figs. 25 and 26 one can see the input (yellow/top 
signal) and the output (blue/bottom signal) of the test 
signature generator in case of, respectively, an acceptable and 
an unacceptable cutoff frequency. The bit-stream that is then 
obtained presents a duration of 1.05 ms, or a length of 105 
bits.  
After compressing, the captured bit-streams are compared 
against the expected golden responses. This is achieved by 
evaluating the bits in specific windows, were common pattern 
are produced among good responses. Fig. 27 shows the 
compressed signatures obtained for valid (top three) and 
faulty (bottom four) responses, corresponding to deviations 
of the cutoff frequency to fc = [300, 1450, 2500, 10130]. A 
circuit is considered faulty when the bits in the evaluation 
windows are different from the expected ones. 
V. 
CONCLUSION AND FUTURE WORK 
A significant research effort has been made to develop 
economic and reliable tools capable of providing, as non-
obtrusive as possible, portable monitoring of biological 
signals. Many of the solutions that have been proposed so far 
are based on placing sensors on garments that can be worn 
without any extra special care. However, the testing of these 
electronic systems has not deserved the same attention and 
solutions are required in order to improve that reliable data is 
captured and used in medical protocols. 
The inclusion of testing features within wearable 
technologies is of paramount importance due to their portable 
nature and target monitoring scenarios. In contrast with 
medical devices found within hospital and healthcare 
facilities, wearable healthcare systems do not necessarily 
count with the support of professional personnel to verify 
their placement and continuous operation.  
A mixed-signal built-in self-test infrastructure and 
methodology is presented that addresses the in-situ 
verification of the electrode-skin interface, as well as the 
functionality of the signal conditioning circuitry of a 
wearable electromyographic data acquisition system. The 
approach being proposed uses an I2C bus for test event 
management and stimuli/response transport, through a 
protocol meant for resource optimization and sensor group 
testing strategies. The electrode-skin interface is evaluated 
after the measurement of the complex impedance and the 
signal conditioning circuitry is tested after comparing its 
impulse response with the expected golden response. A Ziv-
Lempel compression algorithm is used to allow transferring 
a shorter version of the captured bit stream, thus saving 
communication time and power, while preserving the 
possibility of reconstructing the impulse response of the 
circuit. The simulations and circuit implementation results 
confirm the validity of the approaches being proposed and 
reveal their compatibility to the target system and available 
resources. 
This work is expected to be further developed with the 
design of new versions of the proposed test instruments, 
namely with the on-chip implementations, and the design of 
instruments to test other parts of the systems, always using 
the SCPS infrastructure for test data and operations 
management. 
Figure 25. Cutoff frequency at 482 Hz. 
Figure 26. Cutoff frequency at 1.45 kHz. 
Figure 27. Valid (top three) and faulty (bottom four) test signatures. 
77
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

ACKNOWLEDGMENT 
This work was financed by the ERDF – European 
Regional Development Fund through the COMPETE 
Programme (operational programme for competitiveness) 
and by National Funds through the Fundação para a Ciência 
e a Tecnologia (Portuguese Foundation for Science and 
Technology) 
within 
project 
ProLimb 
PTDC/EEA-
ELC/103683/2008, grant SFRH/BD/61396/2009, and project 
ELESIS/ENIAC 
- 
European 
Library-based 
flow 
of 
Embedded Silicon test Instruments. 
REFERENCES 
 
[1]  A. Salazar, B. Mendes, J. Da Silva, and M. Correia, "Built-in 
self-testing infrastructure and methodology for an EMG 
signal capture module," Proc. 2nd International Conference 
on Global Health Challenges (GLOBAL HEALTH 2013), 
Lisbon, Portugal, 2013, pp. 43-48. 
[2]  K. Strong, C. Mathers, and R. Bonita, "Preventing stroke: 
saving lives around the world," Lancet Neurol., vol. 6, no. 2, 
2007, pp. 182-187.  
[3]  A. D. Lopez, C. D. Mathers, M. Ezzati, D. T. Jamison, and C. 
Murray, "Global and regional burden of disease and risk 
factors, 2001: systematic analysis of population health data," 
The Lancet, vol. 367, no. 9524, May 2006, pp. 1747 – 1757. 
[4]  S. M. Evers, J. N. Struijs, A. J. Ament, M. L. van Genugten, 
J. H. Jager, and G. A. van den Bos, "International comparison 
of stroke cost studies," Stroke, vol. 35, no. 5, April 2004, pp. 
1209-1215 , doi: 10.1161/01.STR.0000125860.48180.48. 
[5]  J. A. Stevens and R. A. Rudd, "The impact of decreasing U.S. 
hip fracture rates on future hip fracture estimates," 
Osteoporosis International, vol. 24, no. 10, Oct. 2013, pp. 
2725-2728, doi:10.1007/s00198-013-2375-9. 
[6]  J. Yoo and H. Yoo, "Emerging low energy wearable body 
sensor networks using patch sensors for continuous healthcare 
applications," Proc. of the Int. Conf. IEEE Engineering in 
Medicine and Biology Society (EMBC), Aug.-Sept. 2010, pp. 
6381-6384, doi: 10.1109/IEMBS.2010.5627299. 
[7]  M. Engin, A. Demirel, E. Z. Engina, and M. Fedakarc, 
"Recent developments and trends in biomedical sensors," 
Measurement, vol. 37, no. 2, March 2005, pp. 173-188, doi: 
10.1016/j.measurement.2004.11.002. 
[8]  A. Pantelopoulus and N. G. Bourbakis, "A survey on wearable 
sensor-based systems for health monitoring and prognosis," 
IEEE Transactions on Systems, Man, and Cybernetics, 
vol. 40, 
no. 
1, 
Jan. 
2010, 
pp. 
1-12, 
doi: 10.1109/TSMCC.2009.2032660. 
[9]  M. Chen, S. Gonzalez, A. Vasilakos, H. Cao, and V. C. 
Leung, "Body area networks: a survey," Mobile Networks and 
Applications, vol. 19, no. 2, April 2011, pp. 171-193, 
doi:10.1007/s11036-010-0260-8. 
[10]  L. T. Wang, C. W. Wu, and X. Wen, VLSI test principles and 
architectures: design for testability, Academic Press, 2006.  
[11]  "IEEE 1149.4 Mixed-Signal Test bus Working group," 
[Online]. Available: http://grouper.ieee.org/groups/1149/4. 
[Accessed May 2014]. 
[12]  L. S. Milor, "A tutorial introduction to research on analog and 
mixed-signal circuit testing," IEEE Trans. on Circutis and 
Syst., vol. 45, no. 10, Oct. 1998, pp. 1389-1407, doi: 
10.1109/82.728852. 
[13]  B. Kaminska and K. Arabi, "Mixed signal DFT: a concise 
overview," Proc. Int. Conf. on Computer Aided Design, San 
Jose, 
Nov. 
2003, 
pp. 
672-679, 
doi:10.1109/ICCAD.2003.1257882. 
[14]  S. R. Das, J. Zakizadeh, S. Biswas, M. H. Assaf, A. R. Nayak, 
E. M. Petriu, W. Jone, and M. Sahinoglu, "Testing analog and 
mixed-signal circuits with built-in hardware: a new 
approach," IEEE Trans. on Instr. and Measurement, vol. 56, 
no. 
3, 
June 
2007, 
pp. 
840-855, 
doi:10.1109/TIM.2007.894223. 
[15]  J. J. Huang and K. S. Cheng, "The effect of electrode-skin 
interface model in electrical impedance imaging," in Proc. Int. 
Conf. on Image Processing, vol. 3, Oct. 1998, pp. 837-840, 
doi:10.1109/ICIP.1998.727384.  
[16]  D. J. Hewson, J. Druchêne, and J. Y. Hogrel, "Changes in 
impedance at the electrode-skin interface of surface EMG 
electrodes during long-term EMG recordings," in Proc. 23rd 
IEEE EMBS, vol. 4, Oct. 2001, pp. 3345-3348, doi: 
10.1109/IEMBS.2001.1019543.  
[17]  E. Kappenman and S. Luck, "The effects of electrode 
impedance on data quality and statistical significance in ERP 
recordings," Psychophysiology, vol. 47, no. 5, Sept. 2010, pp. 
888-904, doi:10.1111/j.1469-8986.2010.01009.x. 
[18]  I. Zepeda-Carapia, A. Márquez-Espinoza, and C. Alvarado-
Serrano, "Measurement of Skin-Electrode Impedance for a 
12-lead Electrocardiogram," Proc. Int. Conf. on Electrical and 
Electronic 
Eng,, 
Sept. 
2005, 
pp. 
193-195, 
doi: 
10.1109/ICEEE.2005.1529606.  
[19]  Z. Li, Z. He, W. Wang, and C. Ren, "Measurement System 
for electrical impedance and EGG," Proc. 5th Int. Conf. on 
Information Techn. and Application on Biomedicine, May 
2008, pp. 495-498, doi: 10.1109/ITAB.2008.4570598.  
[20]  C. A. Grimbergen, A. C. MettingVanRijn, and A. Peper, "A 
method for the measurement of the properties of individual 
electrode-skin interfaces and the implications of the electrode 
properties for preamplifier design," Proc. 14th Annual Int. 
Conf. IEEE EMBS, vol. 6, Oct. 1992, pp. 2382-2383, doi: 
10.1109/IEMBS.1992.5761414. 
[21]  E. Spinelli, M. A. Mayosky, and R. Pallás-Areny, "A practical 
approach 
to 
electrode-skin 
impedance 
unbalance 
measurement," IEEE Trans. on Biomedical Eng., vol. 53, no. 
7, 
July 
2006, 
pp. 
1451-1453, 
doi: 
10.1109/TBME.2006.875714. 
[22]  R. Merletti, "The electrode–skin interface and optimal 
detection of bioelectric signals," Physiol. Meas., vol. 31, no. 
10, 2010, doi: doi:10.1088/0967-3334/31/10/E01. 
[23]  C. Assambo, A. Baba, R. Dozio, and M. J. Burke, 
"Determination of the parameters of the electrode-skin 
impedance model for ECG measurements," Proc. of the 6th 
WSEAS Int. Conf. on Electronics, Hardware, Wireless and 
Optical Comm., Feb. 2007, pp. 90-95.  
[24]  K. L. Kilgore, P. H. Peckham, M. W. Keith, and G. B. Thrope, 
"Electrode Characterization for functional application to 
78
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

upper extremity FNS," IEEE Trans. Biomedical Eng., vol. 37, 
no. 1, Jan. 1990, pp.12-21, doi: 10.1109/10.43606. 
[25]  T. Degen and H. Jäckel, "Continuous monitoring of electrode-
skin impedance mismatch during bioelectric recordings," 
IEEE Transactions on Biomedical Eng., vol. 55, no. 6, June 
2008, pp. 1711-1715, doi: 10.1109/TBME.2008.919118. 
[26]  S. Kim, R. F. Tazicioglu, T. Torfs, B. Dilpreet, P. Julien, and 
C. Van Hoof, "A 2.4 uA continuous-time electrode-skin 
impedance measurement circuit for motion artifact montoring 
in ECG acquisition systems," Proc. IEEE Symposium on 
VLSI 
Circuits, 
June 
2010, 
pp. 
219-220, 
doi: 
10.1109/VLSIC.2010.5560290.  
[27]  A. Zambrano, F. Derogarian, R. Dias, M. J. Abreu, A. 
Catarino, A. M. Rocha, J. M. da Silva, J. C. Ferreira, V. G. 
Tavares, and M. V. Correia, "A wearable sensor network for 
human locomotion data capture," Proc. 9th Int. Conf. on 
Wearable Micro and Nano Tech. for Personalized Health 
(pHealth), Porto, vol. 177, 2012, pp. 216-223.  
[28]  H. J. Hermens, B. Freriks, R. Merletti, D. Stegeman, J. Blok, 
G. Rau, C. Disselhorst-Klug, and G. Hägg, “European 
Recommendations 
for 
Surface 
ElectroMyoGraphy”, 
Enschede, the Netherlands: Roessingh Research and 
Development, 1999.  
[29]  M. H. Zaki, S. Tahar, and G. Bois, "Formal verification of 
analog and mixed signal designs: a survey," Microelectronics 
Journal, 
vol. 
39, 
Dec. 
2008, 
pp. 
1395-1404, 
doi:10.1016/j.mejo.2008.05.013.  
[30]  M. Burns and G. W. Roberts, “An introduction to mixed-
signal IC test and measurement”, 2nd ed., New York, USA: 
Oxford University Press, 2011.  
[31]  P. Tallgren, S. Vanhatalo, K. Kaila, and J. Voipio, 
"Evaluation of commercially available electrodes and gels for 
recording 
of 
slow 
EEG 
potentials," 
Clinical 
Neurophysiology, vol. 116, no. 4, Nov. 2005, pp. 799-806, 
doi:10.1016/j.clinph.2004.10.001. 
[32]  Commission Electrotechnique Internationale, IEC 60601-1, 
3rd ed., Geneva, Switzerland: IEC, 2005.  
[33]  Association for the Advancement of Medical Instrumentation, 
Disposable ECG electrodes, American National Standards 
Institute, Inc., 2000.  
[34]  S. Rogers, "Sensor noise fault detection," Proc. of American 
Control Conference, vol. 5, June 2003, pp. 4267-4268, doi: 
10.1109/ACC.2003.1240506.  
[35]  J. Feng, G. Qu, and M. Potkonjak, "Sensor calibration using 
nonparametric statistical characterization of error models,"  
Proc. of IEEE Sensors, vol. 3, Oct. 2004, pp. 1456-1459, doi: 
10.1109/ICSENS.2004.1426461. 
[36]  T. Bourdenas and M. Sloman, "Towards self-healing in 
wireless sensor networks," Proc. of Workshop on Wearable 
and Implantable Body Sensor Networks, June 2009, pp. 15-
20, doi: 10.1109/BSN.2009.14.  
[37]  A. B. Sharma, L. Golubchik, and R. Govindan, "Sensor faults: 
detection methods and prevalence in real-world datasets," 
ACM Transactions on Sensor networks, vol. 6, no. 3, pp. 1-
34, June 2010, doi: 10.1145/1754414.1754419.  
[38]  E. U. Warriach, K. Tei, T. A. Nguyen, and M. Aiello, "Fault 
detection in wireless sensor networks: a hybrid approach," 
Proc. of Int. Conf. on Information Processing in Sensor Net., 
pp- 87-88, April 2012, doi: 10.1145/2185677.2185690. 
[39]  M. M. Puurtinen, S. M. Komulainen, P. K. Kauppinen, and J. 
A. Malmivuo, "Measurement of noise and impedance of dry 
and wet textile electrodes and textile electrode with 
hydrogel," Proc. 28th IEEE Eng. in Medicine and Biology 
Society, New York City, vol. 1, pp. 6012-6015, 2006.  
[40]  J. C. Marquez, F. Seoane, E. Välimäki, and K. Lindecrantz, 
"Textile 
Electrodes 
in 
Electrical 
Bioimpedance 
Measurements - A Comparison with Conventional Ag/AgCl 
Electrods," Proc. IEEE Eng. in Medicine and Biology 
Society, Minneapolis, Sept. 2009, pp. 4816-4819, doi: 
10.1109/IEMBS.2009.5332631.  
[41]  L. Beckmann, C. Neuhaus, G. Medrano, N. Jungbecker, M. 
Walter, T. Gries, and S. Leonhardt, "Characterization of 
textile electrodes and conductors using standardized 
measurement setups," Physiological Measurements, vol. 31, 
no. 2, Feb. 2010, pp. 233-247, doi: 10.1088/0967-
3334/31/2/009. 
[42]  J. G. Webster, Medical Instrumentation: Application and 
Design, 4th ed., Wiley, 2009.  
[43]  M. L. Bushnell and V. D. Agrawal, Essentials of electronic 
testing for digital, memory and mixed-signal VLSI circuits, 
vol. 17, SCI-TECH Publishing Co., 2000.  
[44]  J. Ziv and A. Lempel, "A universal algorithm for sequential 
data compression," IEEE Trans. on Information Theory, vol. 
23, 
no. 
3, 
May 
1977, 
pp. 
337-343, 
doi: 
10.1109/TIT.1977.1055714.  
[45]  A. J. Salazar, M. V. Correia, and J. M. Da Silva,” SCPS: 
Mixed-signal Test and Measurement Framework for 
Wearable Monitoring Systems,” unpublished patent request 
submitted to Patent Office. 
[46]  "I2C-bus specification and user manual, UM10204, Rev. 5," 
2012. 
[47]  V. R. Zschorlich, "Digital filtering of EMG-signals," 
Electromyography and clinical neurophysiology, vol. 29, no. 
2, pp. 81-86, 1989.  
[48]  B. Gerdle, S. Karlsson, S. Day, and M. Djupsjöbacka, 
"Acquisition, Processing and Analysis of the Surface 
Electromyogram," in Modern Techniques in Neuroscience, 
Berlin, Germany, Springer, 1999, pp. 705-755. 
 
 
79
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

