Flow-based Routing Schemes
for Minimizing Network Energy Consumption using OpenFlow
Shota Oda, Daiki Nobayashi, Yutaka Fukuda and Takeshi Ikenaga
Kyushu Institute of Technology
Fukuoka, Japan
Email: {n349405s@tobata.isc, nova@ecs, fukuda@isc, ike@ecs}.kyutech.ac.jp
Abstract—With the growing amount of trafﬁc on the Internet,
network devices are consuming increasing energy as their trans-
mission capacity increases. Therefore, the reduction of network
power consumption is an important issue. Software-deﬁned net-
working is receiving signiﬁcant attention as a means to manage
increased network trafﬁc efﬁciently. We consider energy efﬁcient
routing schemes with trafﬁc aggregation for each ﬂow that
maintain acceptable performance using OpenFlow. The proposed
schemes aggregate trafﬁc to build a network using the minimum
active devices necessary. Through simulation evaluation, we show
that the proposed schemes can reduce power consumption, in
comparison with the conventional routing protocol.
Keywords-Routing; Energy-Efﬁciency; Green network; Open-
Flow; QoS.
I.
INTRODUCTION
Power saving technology for network devices has become
an important issue due to growing demand for power con-
servation. In addition, Software-Deﬁned Networking (SDN) is
receiving signiﬁcant attention as a means to manage increasing
network trafﬁc efﬁciently. OpenFlow, which enables ﬂexible
and centralized network management, plays a central role in
SDN enabled routing for each ﬂow and allows dynamic control
of network routing and metrics.
Many researchers have proposed network power saving
schemes [1][2][3], such as ElasticTree [4]. Some of these
schemes control trafﬁc aggregation with using network de-
vices, effectively building a power saving sub-network. These
schemes can reduce unnecessary power consumption by re-
structuring the network relative to trafﬁc activity and require-
ments. However, these schemes have some inherent issues. For
example, increasing wait time for optimization of all network
ﬂows and reduced responsiveness of new ﬂows.
In this study, we consider a dynamic and energy efﬁcient
routing scheme that applies trafﬁc aggregation for each ﬂow
while maintaining acceptable performance using OpenFlow.
The proposed schemes can build a power saving sub-network
by changing only the operating mode of nodes and links as
required without restructuring the entire network. Simulation
results indicate that the proposed schemes can reduce network
power consumption, in comparison with Open Shortest Path
First (OSPF) [5].
In Section II, we describe related works in this area.
Section III shows the proposed scheme. Section IV shows the
TABLE I. POWER CONSUMPTION SUMMARY FOR ENTER-
PRISE SWITCHES
Conﬁguration
Rack Switch(W)
Tier-2 switch(W)
Chassis
146
54
Linecard
0 (include in chassis)
39
10Mbps/port
0.12
0.42
100Mbps/port
0.18
0.48
1Gbps/port
0.87
0.90
simulation model, and its results will be discussed in Section
V. Finally, we describe our conclusion in Section VI.
II.
RELATED STUDY
Existing routing protocols, such as OSPF or IS-IS [6]
provide shortest path. Also, many researchers have proposed
TE (Trafﬁc Engineering) which uses effective network resource
for achieving QoS. Many of TE approaches try to spread the
load among multiple paths, so they do not consider the power
saving. Therefore, we require the new routing scheme for
achieving power saving without deteriorating communication
quality.
Many researchers have proposed power saving schemes in
a network area. In this section, we ﬁrst show the power saving
effect on the network. Then, power saving schemes for node
and link are described. Finally, we show the power saving with
trafﬁc engineering.
A. Power saving effect
Mahadevan et al. measured the power consumption of
network devices in their data center [7]. They measured power
usage of each linecard and chassis, and of different transmis-
sion rate at a port. The obtained measurement is summarized
in Table I. From this table, the power consumption of network
devices such as switch or router is about 100 W, and of link
is about 1.0 W. Therefore, we can expect power saving if the
number of active nodes and links are dynamically adapted to
the arriving trafﬁc.
B. Node and Link state control for power saving
Gupta et al. proposed three policies for power saving by
putting network components to sleep mode [8]. In the ﬁrst
policy, the device sets a sleep timer, and only wakes up
when the timer expires. All packets arriving during the sleep
period are lost. This approach can achieve stable power saving
69
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-332-2
ENERGY 2014 : The Fourth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

X
Y
X
Y
X
Y
X
Y
Source host = X
Shortest Path
Minimum Active 
Devices Path
Zzz…
Existing flow
Zzz…
Destination host = Y
Figure 1. Overview of proposed schemes
performance, but cause performance degradation because of
packet loss. The second is Hardware Assisted Sleep (HAS)
policy in which the interface wakes up by an incoming packet;
however, the packet is lost. The third is the Hardware Assisted
Buffered Sleep (HABS) policy, to buffer the incoming packets
while the interface is in the sleep mode. HABS consumes the
power in the sleep state to buffer the incoming packets, but
avoid the packet loss.
Uncoordinated sleeping informs its neighbor before net-
work devices put into the sleep mode [9]. In this scheme,
in order to avoid the packet loss, the neighbor hosts send a
wake up packet to the hosts with sleep state. Nedevschi et al.
proposed the power management schemes to reduce the energy
consumption in the network [10]. Putting network elements to
sleep mode during idle times and rate adaptation according to
the arrival trafﬁc are used. Their work focuses on edge routers
in the Internet.
C. Trafﬁc control for power saving
Heller et al. proposed the ElasticTree, which is the network
wide power manager [4]. ElasticTree can dynamically adjust
the number of active nodes and links. This scheme increases
the more computational cost by growing the size of the
network. Therefore, throughput is lower because of decreasing
the processing speed of devices.
Vasic and Kostic proposed the Energy-Aware Trafﬁc engi-
neering (EATe), which reduces the power consumption while
maintaining same trafﬁc rate [11]. This scheme distributes
trafﬁc while periodically exchange link utilization between
nodes. Therefore, we think that power saving performance is
relatively low.
From the above, we propose a scheme that can achieve
higher energy efﬁciency without deteriorating the throughput.
III.
PROPOSED SCHEMES
In this section, we propose two schemes that consider not
shortest paths but dynamic ﬂow aggregation to increase sleep
state in nodes and links. Overview of both proposed schemes is
shown in Fig. 1. OpenFlow is used in the proposed schemes to
manage network operations, allowing centralized and dynamic
control of network routing and metrics.
A. Routing for Minimization of Active Devices
We refer to this scheme as Routing for Minimization
of Active Devices (RMAD). This scheme selects a path to
maximize the number of active state links from several shortest
path for minimization of active links in the whole of middle or
low load network. In the RMAD scheme, we use not only the
New flow arrival
Check bwlink of N_hopshortest
End
sanm a
R1 ∈ ( bwlink >= bwflow )
sanm a
R1 ∈ ( bwlink >= bwflow )
n (R1) ≠ 1
R1 = ∅
R1 ≠ ∅
R is decided to the path
R2 ∈ R1 : m ax ( Nact_link ) 
R3 ∈ All path
R4 ∈ R3 : m in ( maxlinkuse ) 
R1 → R
R2 → R
R4 → R
Yes
No
Figure 2. Procedure of RMAD scheme
shortest hop count but also number of active links as a routing
metric. The number of active links is changed dynamically
according to ﬂow arrival using OpenFlow routing management.
The procedure of RMAD scheme is shown in Fig. 2 and is as
follows:
(1)
We obtain the shortest paths to the destination. Then,
the paths of which residual bandwidth (bwlink) is
larger than reguired bandwidth of new ﬂow (bwflow)
are denoted as candidates R1.
(2)
If R1 ̸= φ, we select the path that maximizes the
number of active links (Nact link) from R1. If the
chosen path includes the sleep state link, the link is
set to active state.
(3)
If R1 = φ, we select the path that minimizes the
maximum link utilization (maxlinkuse) on the path.
RMAD can aggregate new ﬂows to the links of active
state, so that the number of active links in the network is
reduced. In addition, communication performance degradation
is avoided by using shortest path and the path which minimizes
the maximum link utilization on the path even if we cannot
ﬁnd the R1.
B. Routing for Minimization of Active Devices plus
As previously mentioned, RMAD considers only active
links to reduce power consumption. However, we can expect
greater power savings by decreasing the number of active
nodes using dynamic routing controlled by OpenFlow because
node power consumption is greater than link power consump-
tion [7]. We refer to this scheme as “RMAD+”. The procedure
of RMAD+ scheme is shown in Fig. 3 and is as follows:
(1)
We obtain paths with hop counts that do not exceed
the shortest path (N hopshortest) plus δ. Next, the
paths with residual bandwidth (bwlink) larger than the
reguired bandwidth of new ﬂow (bwflow) are denoted
as candidates R1.
(2)
If R1 ̸= φ, we select the path R2 that minimizes
the number of active nodes in the entire network
(N allact node) from R1.
(3)
We select the path R3 that minimizes the number
of active links in the entire network (N allact link)
from R2.
70
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-332-2
ENERGY 2014 : The Fourth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

Check bwlink of N_hopshortest + δ
n (R1) ≠ 1
R is decided to the path
End
Yes
No
No
Yes
and
R1 ∈ ( bwlink >= bwflow )
and
R1 ∈ ( bwlink >= bwflow )
R2 ∈ R1 : m in ( N_allact_node ) 
n (R2) ≠ 1
R3 ∈ R2 : m in ( N_allact_link ) 
R4 ∈ All path
R5 ∈ R4 : m in ( maxlinkuse ) 
R1 = ∅
R1 ≠ ∅
New flow arrival
R1 → R
R2 → R
R5 → R
R3 → R
Figure 3. Procedure of RMAD+ scheme
(4)
If R1 = φ, we select the path that minimizes the
maximum link utilization (maxlinkuse) on the path.
RMAD can aggregate new ﬂows to active links, thus
reducing the number of active links in the network. Moreover,
RMAD+ considers the number of active nodes and concen-
trates ﬂows on active paths. Therefore, we can expect greater
power saving compared to RMAD. In addition, communication
performance degradation is avoided by using the path that
minimizes the maximum link utilization on the path even
if we cannot ﬁnd a satisfactory R1. Furthermore, RMAD+
avoids paths with high link utilization, thus communication
performance does not degrade signiﬁcantly.
IV.
SIMULATION MODEL
We evaluate the proposed schemes in terms of both data
transfer and power saving performance. Simulation experi-
ments were performed by using the network simulator, ns-2.
In our simulation, we used a multi rooted fat-tree topology,
which is commonly used in many data centers. The multi
rooted fat-tree topology consists of three-layer (i.e., Edge,
Aggregation, and Core layers) on top of the end hosts. A
pod of the fat-tree topology is a set of Edge and Aggregation
routers. In our simulation, we use a 4-pod fat-tree topology
with 16 end hosts. The average communication period follows
the exponential distribution, and its average was set to α. In the
data transmission, end hosts transmit data only during the ON
time, and the OFF time is determined at the end of each data
transmission according to the exponential distribution. Thus,
the hosts are silent in the OFF time and start data transmission
again after this interval. We deﬁned the each ON time as a
ﬂow, and end hosts send Constant Bit Rate (CBR) packets at
transmission rates of 500 Kb/s as a ﬂow in each ON time. The
network load ρ is deﬁned by the following equation:
ρ =
Sum of α
Simulation Time
In this simulation, we vary the load factor ρ from 0.1 to 0.9.
In the simulation, each end host selected the destination
randomly or speciﬁcally. In the ﬁrst case, the destination was
selected uniformly from the end hosts. In contrast, 70% of
Speciﬁc 4 end hosts 
within 1-pod
70 % of ﬂows are 
concentrated on 4 
end hosts within the 
1-pod.
Figure 4. Simulation model of concentrating ﬂows
TABLE II. SIMULATION PARAMETER
Simulation Time
20 s
Link Bandwidth
5.0 Mb/s
Link Delay
1.0 ms
Packet Size
1500 Byte
Transmission Rate
500 Kb/s
Average Time of Flow, α
1.0 s
Number of Flow Concurrent
1 / end hosts
Network load, ρ
0.1 ∼ 0.9
the ﬂows in the second case were distributed among four end
hosts in a single pod. Figure 4 shows an overview of case of
concentrating ﬂows. We conduct our simulation experiments
for 20 seconds. The parameters used in our simulation are
summarized in Table II.
V.
SIMULATION RESULTS
We compared the performance of RMAD and RMAD+
against OSPF in terms of both power efﬁciency and com-
munication performance. To quantify the performance of
the proposed schemes, we used Node Sleep Ratio, Average
Transmission Time, and Packet Loss Ratio as performance
measures. Node sleep ratio deﬁned as the percentage of device
sleep time indicates power saving efﬁciency, and the average
transmission time and packet loss ratio indicate communication
performance.
Figure 5 shows the node sleep ratio for the case in which
ﬂow destination was selected from the end hosts with uniform
probability. Figure 6 shows the node sleep ratio for the case
in which the ﬂow destinations were concentrated on speciﬁc
end hosts. In both ﬁgures, RMAD+ (+δ) shows the number of
hops to allow.
For both simulated trafﬁc patterns, we observed that the
node sleep ratio of the RMAD and RMAD+ schemes was
higher than OSPF under any load. In addition, the node sleep
ratio of RMAD+ was higher than that of RMAD under low
load when the ﬂow destination was selected from the end hosts
with uniform probability. Moreover, the node sleep ratio of
RMAD+ was always higher than that of RMAD when the
ﬂow destinations ware concentrated on speciﬁc end hosts.
We also researched the average transmission time and the
ratio of packet loss of each schemes in order to show the effect
on communication performance. Figure 7 shows the average
71
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-332-2
ENERGY 2014 : The Fourth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

 0
 0.1
 0.2
 0.3
 0.4
 0.5
 0.1
 0.2
 0.3
 0.4
 0.5
 0.6
 0.7
 0.8
 0.9
Rate of sleep time
ρ
OSPF
RMAD
RMAD+(+2)
RMAD+(+5)
RMAD+(+10)
Figure 5. Node sleep ratio of uniform probability model
 0
 0.1
 0.2
 0.3
 0.4
 0.5
 0.1
 0.2
 0.3
 0.4
 0.5
 0.6
 0.7
 0.8
 0.9
Rate of sleep time
ρ
OSPF
RMAD
RMAD+(+2)
RMAD+(+5)
RMAD+(+10)
Figure 6. Node sleep ratio of concentrated ﬂow model
transmission time for the case in which ﬂow destination was
selected from the end hosts with uniform probability. Figure
8 shows the average transmission time for the case in which
the ﬂow destinations were concentrated on speciﬁc end hosts.
We observed that RMAD+’s average transmission time was
longer than that of OSPF and RMAD. Furthermore, we did
not observe any packet loss in the proposed schemes. If ﬂow
destinations are selected from speciﬁc end hosts, RMAD+ uses
a concentrated path by considering power consumption rather
than the shortest path. As a result, the node sleep ratio of
RMAD+ was higher than that of OSPF and RMAD even under
high load. However, the difference in average transmission
time between the proposed schemes and OSPF is negligible.
From these results, we conclude that the proposed schemes
can achieve high energy efﬁciency without deteriorating com-
munication quality.
VI.
CONCLUSION AND FUTURE WORK
We have proposed two energy efﬁcient routing schemes
that aggregate trafﬁc on active network paths to decrease
the number of active network devices while maintaining ac-
ceptable performance. By placing network devices without
trafﬁc into a sleep mode, power consumption in the network
is reduced assuming that information management and path
selection is performed by OpenFlow. The performance of the
proposed schemes, RMAD and RMAD+ was compared against
OSPF in terms of energy efﬁciency and communication quality.
The simulation results indicate that the proposed schemes,
on comparison with OSPF, can reduce power consumption
without deteriorating communication quality. As a future work,
we will compare proposed schemes with the existing energy ef-
ﬁcient routing schemes. Also, we will evaluate the performance
of the proposed schemes in various network environment.
 0.03
 0.0302
 0.0304
 0.0306
 0.0308
 0.031
 0.1
 0.2
 0.3
 0.4
 0.5
 0.6
 0.7
 0.8
 0.9
Average of transmit time [s]
ρ
OSPF
RMAD
RMAD+(+2)
RMAD+(+5)
RMAD+(+10)
Figure 7. Average transmission time of uniform probability model
 0.03
 0.0302
 0.0304
 0.0306
 0.0308
 0.031
 0.1
 0.2
 0.3
 0.4
 0.5
 0.6
 0.7
 0.8
 0.9
Average of transmit time [s]
ρ
OSPF
RMAD
RMAD+(+2)
RMAD+(+5)
RMAD+(+10)
Figure 8. Average transmission time of concentrated ﬂow model
ACKNOWLEDGEMENT
This work was supported in part by the Japan Society for
the Promotion of Science, Grand-in-Aid for Scientiﬁc Research
(B) (No. 23300028)
REFERENCES
[1]
R. Bolla, R. Bruschi, F. Davoli, and F. Cucchietti, “Energy Efﬁciency
in the Future Internet: A Survey of Existing Approaches and Trends in
Energy-Aware Fixed Network Infrastructures,” IEEE COMMUNICA-
TIONS SURVEYS & TUTORIALS, vol. 13, May. 2011, pp. 223-244.
[2]
L. Chiaraviglio, M. Mellia, and F. Neri, “Minimizing ISP Network En-
ergy Cost: Formulation and Solutions,” IEEE/ACM TRANSACTIONS
ON NETWORKING, vol. 20, no. 2, Apr. 2012.
[3]
N. Wang, C. Michael, and K. Hon Ho, “Disruption-Free Green Trafﬁc
Engineering with NotVia Fast Reroute,” IEEE COMMUNICATIONS
LETTERS, vol. 15, no. 10, Oct. 2011.
[4]
B. Heller, S. Seetharaman, P. Mahadevan, Y. Yiakoumis, P. Sharma,
S. Banerjee, and N. McKeown, “ElasticTree: Saving Energy in Data
Center Networks,” Proc. USENIX NSDI’10, Apr. 2010.
[5]
J. Moy, “OSPF Version 2,” IETF RFC 2328, Apr. 1998.
[6]
R. Callon, “Use of OSI IS-IS for Routing in TCP/IP and Dual
Environments,” IETF RFC 1195, Dec. 1990.
[7]
P. Mahadevan, P. Sharma, S. Banerjee and P. Ranganathan, “Energy
Aware Network Operations,” Proc. 28th IEEE international conference
on Computer Communications Workshops, Apr. 2009, pp. 25-30, IN-
FOCOM’09.
[8]
M. Gupta, S. Grover, and S. Singh, “A Feasibility Study for Power Man-
agement in LAN switches,” Proc. 12th IEEE International Conference
on Network Protocols, Oct. 2004, pp. 361-371.
[9]
M. Gupta and S. Singh, “Greening of the Internet,” Proc. ACM
SICCOMM ’03, Aug. 2003, pp. 19-26.
[10]
S. Nedevschi, L. Popa, G. Iannaccone, S. Ratnasamy, and D. Wether-
all, “Reducing Network Energy Consumption via Sleeping and Rate-
Adaptation,” Proc. USENIX NSDI’08, Apr. 2008.
[11]
N. Vasi’c and D. Kosti’c, “Energy-Aware Trafﬁc Engineering,” Proc.
1st International Conference on Energy-Efﬁcient Computing and Net-
working, Apr. 2010, pp. 169-178.
72
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-332-2
ENERGY 2014 : The Fourth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

