Blockchain based Decentralized Home Energy
Management System using Double Auction
Sweta Malik, Subhasis Thakur, John Breslin
Insight Centre for Data Analytics
National University of Ireland
Galway, Ireland
e-mail: m.sweta1, subhasis.thakur, john.breslin@nuigalway.ie
Maeve Duffy
Electrical and Electronic Engineering, School of Engineering
National University of Ireland
Galway, Ireland
e-mail: maeve.duffy@nuigalway.ie
Abstract—Due to increasing concern about climate change, the
local energy market has been revolutionized with the increase
in solar photovoltaic, electric vehicles, smart home appliances,
and demand response. These technologies used in the residential
sector provides new opportunities for Home Energy Management
System (HEMS) to manage peak hours and gain incentives.
In this paper, we develop a blockchain-based smart meter and
HEMS that can collaboratively participate in energy consumption
to maximize energy from renewable sources and reduce peak
load. A fully decentralized blockchain-based system is used for
trading energy using a double auction. Smart meters are enabled
with a lightweight blockchain client that provides detailed infor-
mation about energy consumption and controls the appliances
from installed HEMS. Lightweight blockchain clients can be
deployed on the smartphones of the owner of these smart meters.
Regulations may prevent renewable electricity injection into the
electricity grid. Hence, we investigate how to reduce energy
consumption from the electricity grid. A test-bed is constructed
and the simulations are done for two seasons: winter and summer.
Different case studies and scenarios are carried out to show the
proposed model’s effectiveness. The results show that blockchain-
based trading algorithms can impact individual users to manage
energy consumption with high incentives.
Key words - Blockchain, Home Energy Management System,
double auction, energy trading, incentives, trading algorithm
I. INTRODUCTION
Due to the increasing usage of renewable energy, the local
energy market has been revolutionized with the increase in
the use of solar photovoltaic, electric vehicles, smart home
appliances, and demand response. These technologies used
in the residential sector provide new opportunities for an
Energy Management System (EMS) [1] to manage peak hours
and gain incentives without causing discomfort. The Energy
Management System plays a significant role in maintaining the
balance between demand and supply. Energy trading [2], [3]
is a suitable method to balance demand and supply in EMS.
Suppliers, also known as prosumers, provide surplus energy to
the distribution network to satisfy the demand. Consumers and
prosumers; both are rational and, therefore, try to maximize
their revenues from incentive-based schemes. In a similar
incentive-based trading mechanisms, energy price is a crucial
component of Energy Management .
There are various incentive based approaches [4], [5] avail-
able in the literature, such as, game theory [6], auction [7] and
negotiation. To model the trading mechanism, in this work,
we are using double auction mechanism, which is able to
maximize revenue for individual users in trading. The main
contribution of this paper are as follows:
• A novel Home Energy Management System (HEMS)
problem for a microgrid is presented, which is able to
maximize the energy consumption from DERs and reduce
peak load.
• A fully decentralized blockchain-based system is used
for trading energy using double auction. Smart meters
are enabled with a lightweight blockchain client that
provides detailed information about energy consumption
and controls the appliances from installed HEMS.
• The objective of the proposed trading algorithm is to
optimize the energy demand according to real time prices.
The trading algorithm is optimized using double auction
mechanism.
The paper was organised as follows: We introduced pric-
ing mechanism for decentralized HEMS using blockchain in
section II with related literature. In section III, we discussed
the double auction trading algorithm and blockchain archi-
tecture in section IV. The implementation, simulations and
results were discussed in section V. Finally, in section VI,
we presented conclusions and future work.
II. RELATED LITERATURE
A. Pricing mechanism
Pricing is a powerful mechanism to simulate prosumers
and consumers to achieve high economic value. At the time
of peak hours, electricity prices are high, users reschedule
their load and the demand decreases. As the demand of
microgrids keeps changing, electricity prices vary with time.
In real-time pricing [8], the price keeps on varying with
respect to energy demand and is suggested as one of the best
approaches to improve the performance in the local energy
market. Information regarding the change in price is timely
informed to the users in the microgrid. Instead of flat-rate
pricing, smart grids are now shifting towards market-driven
pricing schemes where the kilowatt-hour cost changes with
the day, time, weather conditions and demand. Since dynamic
pricing is a concept that can be wisely used with respect to
the ToU, it serves as a significant mechanism in demand-side
41
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

management techniques. Another pricing scheme is the Time
of Usage (ToU) tariff [9], which is based on energy demand
for an extended time, like an hour, daytime and nighttime.
Information regarding ToU is provided in advance to the users
in the microgrid and stays constant for a more extended time.
B. Decentralized HEMS
Figure 1 illustrates the applications of customer based
HEMS in smart appliances, demand flexibility, energy stor-
age, and electric vehicles. Furthermore, HEMS also helps in
managing peak demand, shifting the load to non-peak hours,
and save energy. HEMS can be controlled using two main
approaches: centralized and decentralized. The decentralized
approach [10] objective is to achieve high social welfare while
providing the best possible revenue to the users and Distributed
Energy Resources (DERs). In the centralized approach, main
grid or third party act as a controller to provide the rele-
vant information, such as, energy demand, energy generation,
forecasting information to the user in the microgrids in order
to decide the price and energy according to the predefined
preferences of the user [11]. In a microgrid having HEMS,
which is the focus of this work, a high level of trust and
transparency is required among the users and DERs, which
makes decentralized approach the most suitable approach.
Simply by expanding the DERs into centralized approach will
not be effective for the distribution network. Some of the chal-
lenges of the centralized system are: (a) Lack of information
from devices to optimize (b) Limited or delayed real time
information (c) High transaction cost for settlement mecha-
nism (d) No flexibility. Therefore, an improved, innovative,
and decentralized solution is required. As a distributed ledger
technology, blockchain provides such a solution. [12] proposes
a decentralized energy management system problem for a
distribution system with networked microgrids. The problem
is solved using a stochastic decentralised bi-level algorithm
that takes into consideration the intermittent outputs of DERs,
the uncertain load consumption, and the coordinated operation
points of all interdependent systems. [13] have explored a
decentralised coordinated energy management approach for
networked microgrids and future distribution system that is
solved using the alternating direction method of multipliers
(ADMM).
C. Blockchain
In recent years, Blockchain, the technology that nurtures
the success of Bitcoin and many other cryptocurrencies,
has emerged as research topic in the energy sector [14].
Blockchain is a database that stores information in blocks that
are linked together. A new block is created for new data, and
once the transactions are recorded in the block, it is linked
in a chain with the previous block. This current block with
transaction details chained into the blockchain is irreversible
and is accessible to all the users in the network, making it a
decentralized network. Blockchain eliminates the aggregator
of the centralized network from the trading platform by keep-
ing track of energy and price. All the transactions recorded are
Fig. 1. Home Energy Management System.
transparent to all the nodes/users (consumers and prosumers)
in the network [15]. This transparency allows consumers and
prosumers to have a network where users in the network can
settle transactions without having trust on each other. With a
self-executing and self-enforcing program, also referred to as
the ‘smart contract’, blockchain can facilitate and verify the
transactions.
The smart contract is a set of self-executing transaction
protocols which are intended to run with respect to the terms
of nodes present in the network directly written into the
codes. Smart contracts exists in a distributed, decentralized
blockchain network. First, the validity of each user is checked
by the smart contract. When a user sends a request to trade
energy, the smart contract checks for the surplus and deficit
energy of that user. When a prosumer sends a surplus energy
request, the smart contract calls for the seller function. The
seller function stores the prosumer data, such as, surplus
energy, selling price, geographical location of the prosumer,
and the lowest selling price available in the network. Similarly,
when a consumer sends an energy demand request, the smart
contract calls for the buyer function. The buyer function
stores the consumer data, such as, deficit energy, buying price,
geographical location of the consumer, and the highest buying
price available in the network. When bidding ends the trading
price/market clearing price is calculated using a clear market
function. To further extend the scope and harness the potentials
of microgrid with blockchain innovations in fostering the
clean energy transition, challenges, approaches, and future
directions are presented in [16] from the technical, social, and
42
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

economic dimensions. [17] developed a cost analysis method
for blockchain-based peer to peer energy trade systems by
examining the tradeoffs between the cost of the blockchain net-
work, the appropriate throughput required for the blockchain,
and profit from a user low energy price provided to another
prosumer.
III. HOME ENERGY MANAGEMENT MODEL
A. Control levels of Microgrid
Microgrids are cluster of loads and DER coordinated and
operated by a third party or the main grid. Grid connected and
isolated/stand alone are two type of microgrids. Microgrids are
controlled by three levels of hierarchical structure: Primary,
Secondary and Tertiary are illustrated in Figure 2. Primary
level includes output control stage that tracks voltage, current
and power imbalances. Smart meters in primary level uses
smart bi-directional power flow for providing information.
Secondary level is HEMS controls the economical operation
and management of DER. Tertiary level is responsible for
the coordination between the third party/ community aggre-
gator/ main grid and the user. The community aggregator is
responsible for coordination between the residential users in
the microgrid and providing data to the blockchain platform.
HEMS is used to control, monitor and schedule smart ap-
pliances, extract energy generated information, while meeting
the customers requirement. HEMS receives data like energy
demand, foretasted weather details, real time prices, ToU
prices from the community aggregator. Smart appliances can
be divided into critical loads and schedule loads. Loads like
air conditioner can be shifted to non peak hours by changing
the thermostat level. Other high demand loads like washing
machine, dish washer are also considered as time shiftable
loads.
B. Double auction based Trading Algorithm
In Double Sided Auction (DSA), multiple consumers and
prosumers gets an opportunity to trade energy simultaneously
at a single time interval. According the bidding price of
both the players, DSA mechanism provides efficient market
scenario. DSA market asks consumers to submit the bid price
i.e., the maximum price they are willing to pay and prosumers
to submit sell price i.e., the minimum price they want to
receive for selling surplus energy. The auctioneer(aggregator)
collects the data from both the players, sorts the price and
pairs consumer’s bid price to prosumers selling price. It allows
single consumer to buy energy from multiple prosumers to
complete its demand and similarly, single prosumers can sell
the surplus energy to multiple consumers in the network.
Here all the users are in equilibrium, which is the state in
which all the users find their required optimal energy while
meeting all the user preferences. Once all the users are in
equilibrium state, no user can further improve its utility by
deviating from its current position. Nash Equilibrium is a state
where no user can improve the revenue by changing its current
positions, with respect to other users. In this section, a trading
algorithm is proposed, that allows users to trade energy from
Fig. 2. Control levels of a microgrid.
each other using double auction mechanism. At each time
interval (iteration), a user (U) chooses its best strategy to fulfill
its energy demand and sell the surplus energy.
This trading algorithm presented in Algorithm 1 will run for
two cases: Summer and Winter. Smart meters connected with
blockchain network will send information regarding energy
demand, surplus energy, and price to the community aggrega-
tor. The collaboration algorithm of DSA and blockchain will
run as follows:
Step 1: Smart meter connected with the blockchain network
will send the information regarding energy generated, surplus
energy available to trade, and energy demand.
Step 2: Community aggregator will announce real time
energy prices, energy load status on the grid or any other
incentive that can help to low or high the load on electricity
grid.
Step 3: The aim of the community aggregator is to maxi-
mize the use of solar rooftop generation to complete energy
demand and minimize the energy imported from the main grid.
Community aggregator will commit such incentives (including
price of electricity) using the offline channel network.
Step 4: End users may update their energy use preference
to the HEMS. The user have an option to take energy from
the grid, or to trade from other users, or be a part of demand
response.
Step 5: The HEMS will collaborate as optimal electricity
43
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

consumption plans will be generated via computation offload-
ing to edge servers. HEMS will match and make pairs to trade
energy within users.
Step 6: Data from smart meters will be used to validate end
user compliance with planned energy consumption.
Step 7: Finally offline channel network will be used to share
the incentives among the end users(such fund or token may be
kept on the home energy device or smartphone of the user).
Fig. 3. HEMS using double auction algorithm.
IV. BLOCKCHAIN ARCHITECTURE
We will use Blockchains and decentralised data storage
to execute the auction-based energy trade. We will use a
permissioned blockchain with prosumers, Distribution System
Operator (DSO), utility companies, and miners as the partic-
ipants. We will use Inter-planetary File Systems (IPFS) as a
decentralised data store. Figure 4 shows the overview of the
proposed decentralised method:
1) The regulator (for example DSO) will store Hashes of
a set of keys in the blockchain by creating a transaction
with these hashes in the data field of the transaction.
2) The HEMS will ask the DSO for encryption keys
(symmetric encryption).
3) DSO will verify the identify of the HEMS (possibly by
its public key) and send a set of keys (hashes of these
keys are kept a transaction in the blockchain).
4) HEMS will send information regarding bids/ asking
price and amount of energy to be traded to the auction-
eer. It will also send the Hash of a key which will be
used to encrypt energy consumption data by the HEMS.
5) The Auctioneer will announce the outcome of the auc-
tion and HEMS.
Tx(Hashes of Keys)
Ask 
for Keys
Verify Identity 
& Send key
Send 
key
Store encrypted data
Bid / Asking price
Hash of key to be used for 
encrypted smart meter data 
Announce Auction outcome
Control 
consumption
Send key
Verify energy 
consumption
Verify keys
1
2
3
4
5
6
7
8
9
10
11
Auctioneer
IPFS
DSO
HEMS
Smart meter
Blockchain
Fig. 4. Blockchain architecture.
6) HEMS will control its energy consumption according to
the outcome of the auction.
7) After the energy consumption the HEMS will send the
key (which it got from the DSO and reported Hash of
it to the auctioneer) to encrypt smart meter data.
8) Smart meter will store will use this key to encrypt
electricity meter reading and store it to the IPFS. It will
get the ID of this information from IPFS and inform the
ID to HEMS.
9) HEMS will send this ID and key used to encrypt the
meter reading to the auction.
10) Auctioneer will verify the validity of the key by search-
ing transactions created by the DSO.
11) Auctioneer will verify compliance with outcome of
auction by decryption of the smart meter reading in the
IPFS.
V. SIMULATIONS RESULTS AND DISCUSSIONS
In this section, a microgrid is considered and simulated. To
demonstrate this proposed trading algorithm, let us consider a
microgrid consisting of N = 100 users, where 25 users have
solar rooftop and 75 users are customers over a period of 288
time slots of 5 minute intervals. The trading simulations has
been modeled and solved using MATLAB 2022. The energy
transactions are blockchain based double auction mechanism
proposed in this paper. The designed blockchain based HEMS
44
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

Fig. 5. Load profile for summer and winter for a microgrid with 75 consumers
and 25 consumers.
for a microgrid is tested on low voltage network data having
summer and winter load analysis and generation. For this
simulation, an update time interval is chosen as 5 minutes,
which is suitable with the intermittent nature of renewable
sources and can collect fluctuations as well. Therefore, every 5
minutes the HEMS action is triggered by blockchain, and trad-
ing algorithm is solved according to the real time prices and
the preferences of the users. Using 5 minutes time intervals,
the entire horizon results in 288 time slots and incentives are
distributed for each slots using blockchain. In this paper, data
for 24 hours is used for summer and winters for the HEMS
problem. Thus, smart meters captures energy generated and
demand of the user and provide real time prices for trading.
The load profile of microgrid in summer and winter is
shown in Figure 4. We can see that the peak hours are mostly
during the night time. The peak load can be shifted to the non-
peak hours either by shutting down schedule loads or shifting
the loads to non-peak hours according to the real time prices.
The Real time prices of Ireland is shown in Table 1 below.
The electricity cost for day and night in winter and summer
are shown in Table 1.
TABLE I
REAL TIME PRICES FOR SUMMER AND WINTER
Summer
Winter
Day price
C0.18/unit
C0.2255/unit
Night price
C0.0924/unit
C0.1113/unit
For comparison purposes, the trading energy algorithm is
run for two cases: summer and winter. In summer analysis,
the solar generation is high and energy demand is fulfilled by
energy generated by solar rooftop. However, during winter,
energy demand is high, and solar rooftop is not able to fulfill
the energy demand of the microgrid. Figure 5 and 6 show the
trading price for both the scenarios. The ToU tariff for peak
hours as shown in Figure 3 lies between 0.16C to 0.2C and
Fig. 6. Trading price in summer.
Fig. 7. Trading price in winter.
Fig. 8. Incentives distributed by blockchain.
45
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

for no-peak hours it lies between 0.09C to 0.15C. The trading
price is calculated as the average price of the asking price and
selling price of the pair selected for trading. In Figure 7, the
comparison of incentive generated in both, summer and winter
scenario is presented. In the day time, the sum of incentive
generated in summer is higher than in winters. The average
revenue generated by the microgrid is 1175 Euros in 24 hours.
The total simulation time of this trading algorithm is 76
sec for 288 iterations of the HEMS, thus yielding an average
computational time of 0.26 sec per iteration, making it suitable
for real time price and smart appliances.
VI. CONCLUSIONS
This work has shown the modelling of integrated blockchain
based on HEMS where users are able to trade energy, save
their electricity bill, generate revenue, and shift from peak
hours to non-peak hours. Type of pricing mechanism and
importance of decentralized HEMS are introduced in this
study. Microgrids are controlled by three levels of hierarchical
structure: Primary, Secondary and Tertiary. HEMS is used
to control, monitor and schedule smart appliances, extract
energy generated information, while meeting the customers
requirement. A trading algorithm is proposed in this work,
that allows users to trade energy from each other using double
auction mechanism. We used Blockchain and decentralised
data storage to execute the auction-based energy trade. A test-
bed is constructed with 100 users, with 25 houses with 3kWp
rooftop PV. The simulations are done for two seasons: winter
and summer. Different case studies and scenarios are carried
out to show the proposed model’s effectiveness. The results
show that blockchain-based trading algorithms can impact
individual users to manage energy consumption with high
incentives. In future, we will provide a detailed formal security
analysis of the blockchain-architecture of the energy trade.
Moreover, the proposed work will be compared with other
HEMS available to check its effectiveness.
ACKNOWLEDGMENT
This publication has emanated from research supported in
part by a grant from Department of Business, Enterprise and
Innovation, under the Government of Ireland’s Project 2040,
co-funded by the European Regional Development Fund, and
also by a grant from Science Foundation Ireland under Grant
Number SFI/12/RC/2289 P2. For the purpose of Open Access,
the author has applied a CC BY public copyright licence to
any Author Accepted Manuscript version arising from this
submission.
REFERENCES
[1] S. K. Rathor and D. Saxena, “Energy management system for
smart grid: An overview and key issues,” International Journal
of Energy Research, vol. 44, no. 6, pp. 4067–4109, 2020.
[2] M. Elkazaz, M. Sumner, and D. Thomas, “A hierarchical
and decentralized energy management system for peer-to-peer
energy trading,” Applied Energy, vol. 291, p. 116766, 2021.
[3] S. Malik, M. Duffy, S. Thakur, B. Hayes, and J. G. Breslin,
“Cooperative game theory based peer to peer energy trading
algorithm,” in The 12th Mediterranean Conference on Power
Generation, Transmission, Distribution and Energy Conversion
(MEDPOWER 2020), vol. 2020.
IET, 2020, pp. 135–142.
[4] M. Eissa, “First time real time incentive demand response
program in smart grid with “i-energy” management system with
different resources,” Applied energy, vol. 212, pp. 607–621,
2018.
[5] B. Shakerighadi, A. Anvari-Moghaddam, E. Ebrahimzadeh,
F. Blaabjerg, and C. L. Bak, “A hierarchical game theoretical ap-
proach for energy management of electric vehicles and charging
stations in smart grids,” Ieee Access, vol. 6, pp. 67 223–67 234,
2018.
[6] S. Malik, M. Duffy, S. Thakur, B. Hayes, and J. Breslin, “A
priority-based approach for peer-to-peer energy trading using
cooperative game theory in local energy community,” Interna-
tional Journal of Electrical Power & Energy Systems, vol. 137,
p. 107865, 2022.
[7] B. P. Hayes, S. Thakur, and J. G. Breslin, “Co-simulation of
electricity distribution networks and peer to peer energy trading
platforms,” International Journal of Electrical Power & Energy
Systems, vol. 115, p. 105419, 2020.
[8] B. Xu, J. Wang, M. Guo, J. Lu, G. Li, and L. Han, “A hybrid
demand response mechanism based on real-time incentive and
real-time pricing,” Energy, vol. 231, p. 120940, 2021.
[9] L. Chebbo, A. M. Bazzi, A. Yassine, S. H. Karaki, and N. Ghad-
dar, “Tou tariff system using data from smart meters,” in 2021
IEEE Power and Energy Conference at Illinois (PECI).
IEEE,
2021, pp. 1–5.
[10] F. Z. Harmouch, N. Krami, and N. Hmina, “A multiagent based
decentralized energy management system for power exchange
minimization in microgrid cluster,” Sustainable cities and soci-
ety, vol. 40, pp. 416–427, 2018.
[11] D. Esp´ın-Sarzosa, R. Palma-Behnke, and O. N´u˜nez-Mata, “En-
ergy management systems for microgrids: Main existing trends
in centralized control architectures,” Energies, vol. 13, no. 3, p.
547, 2020.
[12] Z. Wang, B. Chen, J. Wang et al., “Decentralized energy
management system for networked microgrids in grid-connected
and islanded modes,” IEEE Transactions on Smart Grid, vol. 7,
no. 2, pp. 1097–1105, 2015.
[13] H. Gao, J. Liu, L. Wang, and Z. Wei, “Decentralized energy
management for networked microgrids in future distribution
systems,” IEEE Transactions on Power Systems, vol. 33, no. 4,
pp. 3599–3610, 2017.
[14] M. Andoni, V. Robu, D. Flynn, S. Abram, D. Geach, D. Jenkins,
P. McCallum, and A. Peacock, “Blockchain technology in the
energy sector: A systematic review of challenges and opportu-
nities,” Renewable and Sustainable Energy Reviews, vol. 100,
pp. 143–174, 2019.
[15] A. Esmat, M. de Vos, Y. Ghiassi-Farrokhfal, P. Palensky, and
D. Epema, “A novel decentralized platform for peer-to-peer
energy trading market with blockchain technology,” Applied
Energy, vol. 282, p. 116123, 2021.
[16] Y. Wu, Y. Wu, H. Cimen, J. C. Vasquez, and J. M. Guer-
rero, “Towards collective energy community: Potential roles of
microgrid and blockchain to go beyond p2p energy trading,”
Applied Energy, vol. 314, p. 119003, 2022.
[17] S. Thakur and J. G. Breslin, “Cost analysis of blockchains-
based peer to peer energy trade,” in 2020 IEEE International
Conference on Environment and Electrical Engineering and
2020 IEEE Industrial and Commercial Power Systems Europe
(EEEIC/I&CPS Europe).
IEEE, 2020, pp. 1–6.
46
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-986-7
eKNOW 2022 : The Fourteenth International Conference on Information, Process, and Knowledge Management

