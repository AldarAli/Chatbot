A Beacon Cluster-Tree Construction Approach For ZigBee/IEEE802.15.4 Networks 
 
Mohammed.I. Benakila, Laurent George 
LACSC Laboratory 
ECE Paris, school of engineering   
Paris, France 
e-mail: Benakila@ece.fr, lgeorge@ieee.org  
Smain Femmam 
Academy of Strasbourg 
University of Haute Alsace 
France 
e-mail: femmam@ieee.org
 
 
Abstract— Wireless Sensor Networks (WSN) based on the 
IEEE 802.15.4 standard are in a constant expansion. 
Applications like production control, building control are more 
and more based on WSN because of their energy efficiency, self 
organization capacity and protocol flexibility. The IEEE 
802.15.4 standard defines 3 network topologies: the mesh 
topology, the star topology and the Cluster-Tree topology. 
However, the construction of Cluster-Tree networks based on 
the beacon mode is still undefined by the IEEE 802.15.4 
standard. A Beacon Cluster-Tree topology has the advantage 
of giving all the benefits of the Beacon mode (Synchronization, 
QoS support through Guaranteed Time Slots) and at the same 
time, allows the construction of large networks to cover large 
areas. In order to offer to network architects more flexibility in 
designing WSN, we present, in this paper, a Beacon Cluster-
Tree topology construction approach. Our approach is 
different from what was proposed until now. We summarize 
our contribution in three points: (1) there are no conditions on 
the Beacon mode SuperFrame structure, (2) despite the size of 
the networks, the construction of a beacon Cluster-Tree 
topology is always possible and (3) no scheduling is done on 
SuperFrames or even on Beacon frames transmissions. Indeed, 
in this paper, we present a novel approach that exploits 
wireless receivers capability in dealing with multipath to 
retrieve transmitted data in order to avoid scheduling 
problems. 
 
Keywords - IEEE 802.15.4; Beacon mode; Beacon frame ; 
scheduling; SuperFrame scheduling; Cluster-Tree. 
I. 
INTRODUCTION 
Nowadays, the need of controlling human environment is 
strongly present in people’s mind. This need aims at 
introducing more comfort in people’s life, assuring an 
ambient assisted living (AAL), building automation or 
factory automation. Such diversified applications require 
communicating nodes that ensure an efficient data 
processing, limited energy consumption and must be based 
on a flexible protocol stack to fit with the requirements of 
each application. 
 
ZigBee is considered to be a suitable network for sensing 
and control applications. ZigBee standard defined by the 
ZigBee Alliance [1] is a communication protocol for 
Wireless Sensor Networks (WSN). It provides mechanisms 
for network establishment, device communication and 
packets routing. Networks implementing this standard are 
low energy consumption and self-organized. The ZigBee 
standard is based on the IEEE 802.15.4 standard for the 
medium access control (MAC sub-layer) and for wireless 
transmissions and receptions (physical layer). 
 
The IEEE 802.15.4 MAC sub-layer allows two modes for 
transmitting and receiving data: beacon enabled mode and 
non-beacon enabled mode [2]. The former can guarantee 
transmission determinism within Guaranteed Time Slots 
(GTSs), but needs a synchronization between all the devices 
forming the beacon enabled network. Non-beacon mode 
does not give any traffic guarantee and does not need 
synchronization between devices (see Section 3). 
 
Three topologies are available in the IEEE 802.15.4: 
mesh topology, star topology and Cluster-Tree topology (see 
Section 3). The beacon mode has been designed to work with 
a star topology. However, no mechanisms have been defined 
in the IEEE 802.15.4 standard to enable the beacon mode 
using a Mesh or a Cluster-Tree topology. In this paper, we 
are interested in the construction of a Beacon Cluster-Tree 
topology, i.e., constructing a Cluster-Tree topology using the 
beacon mode. 
 
In the present paper, Cluster-Tree mechanisms will not 
be modified, i.e., no modifications will be made on the 
association mechanism or data transmission mechanism. All 
the network devices will transmit during the same 
SuperFrame, which means that the beacon order (BO) and 
the SuperFrame order (SO) parameters will be the same for 
the whole network [2]. Nevertheless, using our approach, 
SuperFrames 
scheduling 
will 
be 
avoided 
and 
the 
construction of a Beacon Cluster-Tree network will be 
always possible without introducing any constraints on the 
SuperFrames parameters. 
 
The rest of the paper is organized as follows: the next 
section presents some related works. Section three contains a 
brief overview of the IEEE 802.15.4 MAC sub-layer. Section 
four introduces the beacon collision problem within a 
Cluster-Tree topology, and in Section five we present the 
most known approaches to resolve this problem. The core of 
the proposed approach is presented in Section six. 
Simulation results are presented in Section seven, and 
finally, we conclude. 
130
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

II. 
RELATED WORKS  
Sensor 
networks 
applications 
are 
in 
importance 
nowadays. Sensors applications are much diversified, from 
temperature sensing to health care. In addition, sensor 
networks are intended to operate in different environments 
(factories, hospitals, museums) [3]. Consequently, flexibility 
in sensor networks design becomes a crucial property that 
standardization organizations are trying to ensure when 
defining their protocols. 
 
Proposing new functionalities for a given network 
topology is a way to provide more flexibility for sensor 
networks design. We have proposed in [4] the definition of a 
new device, called the beacon-aware device. This device 
allows beacon and non-beacon networks cohabitation. The 
beacon-aware devices permits to create a network composed 
of a mix of beacon and non-beacon devices. The solution 
presented in [4] guarantees the integrity of the beacon 
network traffic by introducing a channel access priority 
mechanism. 
 
Beside the network size and topology, the QoS is an 
important parameter to take into consideration. Some sensor 
applications that require a bounded transport delay can use 
Guaranteed Time Slots (GTSs) mechanism defined by the 
IEEE 802.15.4 standard within a fully beacon network. In 
[5], the authors propose a modelling methodology for 
Cluster-Tree networks in order to compute worst-case end-
to-end delay, buffering and bandwidth requirements. This 
modelling method enables the network designers to create 
Cluster-Tree networks that fit with their application 
constraints. 
 
IEEE 802.15.4/ZigBee standard defines the Cluster-Tree 
topology as a special case of a peer-to-peer network. But the 
realization of beacon Cluster-Tree networks is not defined in 
the standard. Some works have been done in order to model 
Cluster-Tree topologies [6] [7], failure recovery [8] and to 
allow the construction of Beacon Cluster-Tree networks. 
 
The RFC submitted to the Task Group 15.4b (see [9]) 
propose enhancements to the IEEE 802.15.4 standard. The 
construction of beacon Cluster-Tree topologies was one of 
the document topics. The authors of [9] classify beacon 
frames conflicts into two categories: direct conflict and 
indirect conflict, and propose some approaches to solve each 
category of beacon conflict.   
 
We present the beacon conflict categories and the 
approaches proposed by [9] in Section 4. 
 
In [10], Koubaa, Cunha and Alves propose a SuperFrame 
scheduling algorithm to enhance the approach introduced in 
[9]. Indeed, the authors of [9] do not introduce any 
scheduling algorithm. [10] tackles the problem by 
introducing the constraints and the algorithm needed to 
provide a strong scheduling mechanism. [11] propose a 
mechanism to schedule beacon frames transmissions called 
beacon-only period approach. In this approach, there is no 
need to schedule SuperFrames, i.e., all the SuperFrames start 
at the same time. Only beacon frames transmissions are 
scheduled within a new SuperFrame period called the 
beacon-only period (for more details, see Section 4 of this 
paper). In addition, [11] introduces a GTS collision 
avoidance mechanism which guarantees a certain traffic 
QoS. 
 
In this paper, we present and discuss the drawbacks of 
those solutions for the Cluster-Tree network management in 
Sections 4 and 5. We then describe the approach we propose 
in Section 6. 
III. 
IEEE 802.15.4 MAC SUB-LAYER OVERVIEW  
The IEEE 802.15.4 standard is a suitable protocol for low 
rate wireless networks. A lot of efforts has been done to 
make the standard low-power and self organized.  
 
Tow kinds of devices have been introduced in 
[2], reduced function devices (RFD) and full function 
devices (FFD). A FFD is a device that implements all 
the functions defined by the standard. However, a 
RFD implements the basic functions (join a network, 
leave a network, transmit, etc.) defined in the standard. 
Two topologies are allowed by the standard: 
 
Mesh topology: 
    In a mesh topology, there is one coordinator and a set  
Figure 1.  
 Mesh topology. 
 
of nodes associated to it. Each node is a router and permits 
other nodes association. A given node can communicate 
directly with other nodes if they are in its POS (Personal 
Operating Space, i.e., in-range transmission), or, passing by 
other nodes (acting as routers in this case) to reach its target 
node (see Figure 1). Using this topology, no synchronization 
is needed between the devices.      
Furthermore, enabling the synchronization in such a 
topology 
can 
be 
problematic 
since 
synchronization 
mechanisms for mesh topology are not defined in the 
standard. 
 
 
131
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
Star topology: 
Figure 2.  
 Star topology.     
The 
coordinator 
is 
the 
main 
node 
in 
the 
network. All other nodes must be associated to it, 
and all communications between nodes must pass through it, 
even if the communication initiator node and the target node 
are in the POS of each other (see Figure 2). Performing 
synchronization (beacon mode) using this topology has been 
well defined by the IEEE 802.15.4 standard. 
 
A third topology can be considered also, the Cluster-Tree 
topology. This topology is not defined in the 2006 version of 
the standard, but, was defined in the 2003 version of the 
standard. The Cluster-Tree topology is very interesting for 
time sensitive applications. Here after, the Cluster-Tree 
topology is introduced. 
 
Cluster-Tree topology: 
    A Cluster-Tree network is a network in which most 
devices are FFDs. A RFD connects to a cluster tree network 
as a leaf device at the end of a branch (RFDs do not allow 
other devices to associate). A FFD device may act as a 
coordinator and provides synchronization services to other  
Figure 3.  
 Cluster-Tree topology. 
devices or other coordinators. The PAN coordinator forms 
the first cluster by choosing an unused PAN identifier and 
broadcasting beacon frames to neighboring devices. A 
candidate device receiving a beacon frame may request to 
join the network at the PAN coordinator. If the PAN 
coordinator permits the device to join, it adds the new device 
as a child device in its neighbor list. Then the newly joined 
device adds the PAN coordinator as its parent in its neighbor 
list and begins transmitting periodic beacons; other candidate 
devices may then join the network at that device. The 
simplest form of a cluster tree network is a single cluster 
network, but larger networks are possible by forming a mesh 
of multiple neighboring clusters. Once predetermined 
application or network requirements are met, the first PAN 
coordinator may instruct a device to become the PAN 
coordinator of a new cluster (Cluster head) adjacent to the 
first one. Other devices gradually connect and form a 
multicluster network structure (see Figure 3). 
A. Non-beacon enabled network  
In a non-beacon mode, the three topologies can be used. 
This mode assumes that every node can communicate 
directly with other nodes without any synchronization 
requirements. A node can transmit at any time, and can go to 
sleep at any time following its own energy consumption 
policy. All transmissions are done after performing the 
unslotted CSMA/CA algorithm to check if the channel is 
clear for a transmission or not.  
A non-beacon device transmits the beacon frame only as 
a response to a beacon request command. Devices operating 
in this mode do not need to synchronize with other devices. 
B. Beacon enabled network  
     In a beacon enabled mode, the coordinator plays a crucial 
role. It defines periods of time in which transmissions can be 
done and intervals of time where all nodes associated to it 
must go to sleep.  
     In this mode, the time is divided into a succession of 
”SuperFrames”. A SuperFrame is a time interval that 
contains an active period and an inactive period. The Beacon 
Interval (BI) parameter indicates the interval between two 
successive beacon frames. The length of the active period is 
indicated by SD (SuperFrame Duration) parameter. The 
active period is divided into a fixed number of 16 time slots 
of equal sizes. All beacon network communications are done 
within this period. The active period is divided into a 
contention access period (CAP) and a contention free period 
(CFP).  
The CAP is the period where all nodes compete for 
channel access using the slotted CSMA/CA algorithm. 
The CFP gathers GTSs (Guaranteed Time Slots). A GTS 
is one or more slots of time reserved for a particular node.  
Figure 4.  
IEEE 802.15.4 SuperFrame structure. 
132
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

A GTS is unidirectional, i.e., only for receptions or only 
for transmissions. The coordinator starts allocating GTSs 
from the last time slot to the first slots respecting a maximum 
size of the CFP. GTS transmissions do not need the use of 
CSMA/CA algorithm for channel access since the slots are 
reserved for one node. The structure of a SuperFrame is 
illustrated in Figure 4. 
 
Beacon mode forces all the devices to synchronize with 
the coordinator. This is done by the reception and the process 
of the beacon frame. The most important parameters for 
synchronization are: the Beacon Order (BO) which is a 
parameter for computing BI, the Superframe Order (SO) 
which is a parameter for computing SD and the final CAP 
slot parameter. The final CAP slot indicates the end of the 
CAP. After this slot, only devices owning a GTS can 
transmit. Figure 5 presents the format of the beacon frame.  
 
 
 
 
 
 
 
 
 
 
Figure 5.  
 Beacon frame structure. 
 
    The BO is a parameter used by the associated nodes for 
calculating the beacon interval, which is computed using this 
formula : 
 
                BI = aBaseSuperF rameDuration ∗ 2BO          (1) 
 
with: aBaseSuperFrameDuration = 60 symbols. 
The BO value should be between 0 and 14. 
A BO with a value of 15 indicates that the device operates in 
non-beacon mode. 
The SO is a parameter used for calculating the active 
period duration. 
 
SD = aBaseSuperF rameDuration*  2SO 
(2) 
with:  0 ≤ SO ≤ BO ≤ 14. 
 
IV. 
BEACON FRAME COLLISION IN A CLUSTER-
TREE TOPOLOGY 
 In this section, we present the beacon frame collision 
problem when a Cluster-Tree topology is considered. This 
problem has been addressed as a request for comment (RFC) 
by the Task Group 15.4b in [9]. 
 
Two types of beacon frame collision have been identified 
in [9]. 
A. Direct beacon frame collision  
A direct beacon frame collision occurs when more 
than one coordinator are in the transmission range of 
each other, and the beacon transmission occurs in 
approximatively the same time (see Figure 6(a)). 
 
B. Indirect beacon frame collision 
An indirect beacon frame collision occurs when a given 
node is in the transmission range of two or more 
coordinators. 
The 
coordinators 
send 
their 
beacon 
frames at approximatively the same time, i.e., at a given 
time, the node receives more then one beacon frame 
which results in the collision. This situation is a 
typical hide nodes transmission situation (see Figure 
6(b)). 
 
    For more details about the beacon frame collision 
problem, see [9]. 
Figure 6.  
 Beacon frame collision situations. 
V. 
BEACON FRAME COLLISION AVOIDANCE 
USING THE TEMPLATE 
This section contains a presentation of beacon frame 
collision avoidance mechanisms for each of the situations 
presented in the previous section.  
A. Direct beacon frame collision avoidance  
Two main approaches have been proposed to solve the 
problem of direct beacon frame collision: the time division 
approach and the beacon-only period approach. These 
approaches were defined in [9] and developed in [10] and 
[11]. 
 
The time division approach: 
 
Basically, this approach consists in the following 
principals: 
A given coordinator transmits its beacon frame and 
spends its active period during the inactive period of its 
neighbor coordinators. The Task Group 15.4b does not 
propose any scheduling algorithm in order to increase the 
mechanism efficiency. This lack has been tackled in [10]. 
133
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

The authors of [10] propose a SuperFrame scheduling 
algorithm in order to maximize the number of clusters in the 
network. 
 
This approach suffers from several problems: 
 
 
To 
enable 
parent/child 
communications, 
a 
coordinator is activated during its active period and 
during the active period of its parent coordinator. 
 
 
The increasing density of devices in the network 
makes the problem more complicated, and the 
scheduling algorithm proposed in [10] may return 
an ”unschedulable set” response, which means that 
the Cluster-Tree topology can not be used. 
 
 
To make the SuperFrame scheduling algorithm 
more efficient, the authors of [10] have made 
restrictive constraints on the SO and the BO 
parameters, which could perturb the execution of 
some applications in the network. 
 
The beacon-only period approach: 
In this approach, the SuperFrame structure is modified. A 
time period, called ”Beacon-Only period”, is added at the 
beginning of the SuperFrame. The beacon-only period is 
divided into time slots called ”Contention-Free Time Slot” 
(CFTS). Each coordinator transmits its beacon frame within 
its CFTS (see Figure 7). Thus, beacon frame collisions will 
be avoided. 
This approach has been presented, first, by the Task 
Group 15.4b, and then it was developed in [10] and [11]. 
However, dimensioning the beacon-only period is 
complicated since the duration of the period must be 
evaluated dynamically depending on association and leaving 
actions of beacon coordinators. In addition, the beacon-only 
approach does not avoid indirect beacon frames collision, or 
it does, but, with including global CFTS scheduling 
algorithm.  
 
Figure 7.  
 The beacon-only period approach. 
 
B. Indirect beacon frame collision avoidance 
Indirect beacon frame collision can be solved by the 
following two approaches: 
 
The reactive approach: 
Enabling this approach, the network is started normally 
and the coordinators do not do much to prevent from beacon 
frame collisions. Once a collision occurs, the node (the node 
in the POS of more than one coordinator, see Figure 6) will 
start orphan scans to try to re-synchronize with its 
coordinator. However, if after a number of orphan scans, the 
node is still unable to receive correctly the beacon frame, it 
initiates a beacon conflict command. Coordinators receiving 
the beacon conflict command will adjust their beacon 
transmission time in order to solve the problem. 
This approach is simple, but, the recovery from a beacon 
conflict can take a long time. 
 
The proactive approach: 
In the proactive approach, coordinators try to avoid 
beacon frames conflict before starting their beacon frames 
transmission. A coordinator listens to the channel and 
collects its neighbours beacon frame transmission time. 
Nevertheless, if a beacon frame collision is reported, the 
network is able to solve the problem using the reactive 
approach. 
Notice that this approach is more complicated than the 
first one. 
C. Discussion 
Previously, we presented different approaches proposed 
to enable the construction of a beacon Cluster-Tree topology. 
This section contains a discussion about the presented 
solutions and our motivations to present a new approach.  
     
The Time Division Beacon Scheduling (TDBS) [10] is an 
improvement of the solution proposed by the Task Group 
15.4b. This approach is based on a scheduling algorithm to 
avoid beacon collisions. However, the TDBS approach 
suffers from several lacks (see Section 5.1). 
 
The second approach presented was the beacon-only 
period approach. This approach suffers also from several 
lacks presented in Section 5.1. 
The approach we present, in the next section, aims at 
enabling the following properties: 
 
It’s 
clear 
that 
scheduling 
algorithms 
(for 
SuperFrames or Beacon frames) are inappropriate 
for networks with high nodes density. Our approach 
does not introduce any scheduling algorithm which 
means that the solution presented in this paper can 
be applied to construct beacon Cluster-Tree 
networks whatever the size of the network. 
 
 
Using our approach (same case for the beacon-only 
period approach), parent/child communications are 
easily enabled. In fact, to communicate with its 
parent node, a given node does not need to be active 
during its active period and its parent active period. 
Therefore, this mechanism simplifies the protocol 
implementation 
and 
reduces 
the 
energy 
consumption of the nodes forming the network. 
134
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

VI. 
OUR APPROACH  
In this section, we propose a new approach that allows 
forming Cluster-Tree networks without regard to the density 
of the network. Indeed, our approach is not based on 
SuperFrames 
or 
even 
Beacon 
frames 
transmission 
scheduling.  
In our approach, the Cluster-Tree network is constructed 
thanks to the following: 
 
The same BO and SO values for all the nodes of the 
network [2]. 
 
All the nodes are synchronized thanks to beacon 
frames transmission. 
 
All the nodes transmit during the same SuperFrame. 
 
These points are detailed in the rest of this section. 
A. Beacon frame transmission  
     
Figure 8.  
 Beacon common part transmission. 
To enable collision-free beacon transmissions, we are 
adopting a novel approach, described in this section. The 
beacon frame is divided into two parts:  
 
A common part: It is the part that does not change 
from a beacon coordinator to another. It contains 
the SO and the BO parameters. 
 
A specific part: It is the part specific to a beacon 
coordinator, i.e., changes from a given beacon 
coordinator to another. 
Figure 9.  
 SuperFrame structure. 
Each part is a separate frame. The transmission 
mechanism is described in Figure 8.  
     
Nodes synchronization is achieved by the transmission of 
the common part. It gives the start signal to sensor nodes to 
begin the Beacon mode SuperFrame.  
The common part contains only synchronization 
information (BO and SO). 
 
The specific part is transmitted during the CAP period 
and it contains the traditional beacon information (GTSs, 
Pending addresses, etc.). 
The PAN Coordinator broadcasts the beacon common 
part. 
 When the beacon common part is received, a beacon 
coordinator begins its SuperFrame and forwards the same 
frame (i.e., the beacon common part) to its neighbour nodes. 
Using this mechanism, beacon coordinators at the same level 
of the Cluster-Tree can transmit the common part at the same 
time. This should not cause a reception problem if a node 
receives more than one frame at the same time. 
 
Indeed, all the beacon routers are broadcasting the same 
frame, the same bit configuration which means that all the 
beacon routers are transmitting the same RF signal. When a 
node receives more than one RF signal it can extract the 
message because all the RF signals are considered as 
multipath RF signals. 
 
Multipath propagation occurs when RF signals take 
different paths from a source to a destination. A part of the 
signal goes to the destination while another part bounces off 
an obstruction, and then arrives to the destination. As a 
result, a part of the signal encounters delay and travels a 
longer path to the destination. Multipath can be defined as 
the combination of the original signal plus the duplicate 
wave 
fronts 
that 
result 
from 
reflection 
of 
the                       
waves off obstacles between the transmitter and the                       
receiver [12]. 
 
Figure 10.  
  Example of a GTS collision case. 
 
135
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

Multipath propagation occurs even with only one 
transmitter and one receiver. Nowadays receivers are able to 
retrieve the information from a RF signal perturbed by 
reflected RF signals. 
 
Thus, a node receiving the beacon common part from 
more than one beacon coordinator (i.e., more than one RF 
signal) is able to retrieve the common part information since 
the node is able to deal with multipath RF signals, as 
confirmed in the experiments we have done in Section 7. 
 
B. GTS Allocation  
    In our approach, each beacon coordinator manages 
independently its CFP period. It is able to accept or reject 
GTS requests and it is responsible for assigning GTS time 
slots to its children nodes. However, a mechanism must be 
introduced to avoid GTS transmission disruption by neighbor 
nodes transmissions. Figure 10 illustrates a case where a 
GTS transmission can be perturbed. We can see that if  
node”N4” is transmitting while ”N3” is in its GTS period, 
there will be frame collisions. 
 
To avoid this problem, GTS collision avoidance 
mechanisms should be implemented. We can conceive 
proactive or reactive approaches. These approaches are out 
of the scope of this paper. 
Figure 11.  
  MicroChip sniffer (left), PICDEM Z (left). 
VII. SIMULATION AND EXPERIMENTS  
This section aims at proving the well-functioning of the 
mechanism.  
In 
the 
first 
part 
of 
this 
section 
we 
present 
experimentations we have done to show that receivers’ 
capability to deal with multipaths could be exploited to 
transmit the beacon common part. 
 
In the second part of this section, NS2 simulations are 
done to show that our approach can be implemented on 
sensor nodes. 
 
A. Multipath exploitation  
The core of our approach is the exploitation of multipath 
phenomena to avoid beacon transmission scheduling. Indeed, 
since receivers are able to deal with RF reflected signals to 
retrieve the information, they can retrieve information from 
RF signals (same RF signal) transmitted by different nodes at 
approximately the same time. All these RF signals will be 
considered as multipath signals by the receiver. 
 
To put the stress upon this point, we conceived a real 
experimentation using the MicroChip PICDEM Z modules 
(see Figure 11). The principle is to send the same frame by 
several nodes to one receiver. For visual considerations, we 
choose a MicroChip sniffer as a receiver. The network 
architecture is presented in Figure 12. 
Figure 12.  
  Network architecture for the test. 
The receiver is in the transmission range of the PAN 
Coordinator and the three routers, i.e., the sniffer’s software 
shows two frames which will allow us to measure the time 
offset between the reception and the transmission of the 
frame. When a router receives the frame from the PAN 
Coordinator, it retransmits it immediately. As it is shown in 
Figure 13, the sniffer receives two frames: the first one is the  
Figure 13.  
  Frames received by the MicroChip sniffer (same bit 
configuration). 
136
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
frame transmitted by the PAN Coordinator and the second 
one is the frame transmitted by the routers. The sniffer 
receives only one frame from the routers although there are 
three transmissions. Consequently, the receiver considers all 
the transmissions as only one transmission. 
 
This receiver capability in processing multipath avoids 
introducing beacon or SuperFrames scheduling mechanisms.  
Figure 14.  
  Frames received by the MicroChip sniffer (different 
bit configuration). 
Figure 15.  
  Network topology for NS2 simulation. 
To show the impact of receiving different frames by the 
sniffer, the same network architecture as in Figure 12 is 
considered. Except, we are using only two routers instead of 
three. The frame transmitted by each router is different. 
Instead of using the same bit configuration, each device 
(routers and PAN coordinator) in the network uses its 16-bits 
address. Only the addresses are different, the rest of the 
frame is the same for both devices. 
 
Figure 14 shows the frames received by the sniffer when 
the frames are different. The PAN Coordinator’s address is 
0x0000, router1’s address is 0x0001 and router2’s address is 
0x0101. From Figure 14 we can see that the sniffer receives 
only one frame instead of two frames. In addition, the 
received frame could be corrupted. In the figure, the sniffers 
interprets a received frame as a frame sent by a node with the 
address 0x4001 which does not exist in the network. 
 
B. Network simulation  
In this section, the presented approach is implemented in 
NS2 simulator. NS2 source code for IEEE 802.15.4 [13] is 
modified to support the mechanisms presented in this paper. 
The goal of this section is to show that our approach is 
implementable on a sensor node. Performances comparison 
is not presented. 
 
The considered network topology under NS2 is presented 
in Figure 15. There are 101 nodes and all the devices are 
routers that accept nodes association. 
Figure 1.  Bandwidth comparison (NS2 implementation vs our approach). 
 
Our approach does not introduce any changes on 
association mechanisms. During the association, classic 
beacon frames are transmitted. Once the network is 
established, the beacon common part is used to give the start 
signal of the SuperFrame and the specific beacon part is used 
to send information concerning GTS, Final CAP Slot, 
pending addresses, etc.  
 
Figures 16 and 17 represent bandwidth measures are 
represented. Figure 16, shows a comparison between 
bandwidth for a transmission from node 20 to node 64. It is a 
FTP over TCP traffic transmitted first using our approach 
and in a second time using the original implementation of the 
IEEE 802.15.4 in NS2. Both transmissions starts at t=150 sec 
and continue until approximately t=500 sec. In this 
simulation, we used the same BO and SO values in both 
cases (our approach and IEEE 802.15.4 NS source code). 
The goal is to validate the changes introduced in the IEEE 
802.15.4 NS2 source code. 
137
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

 
Figure 17 shows the bandwidth of different traffic flows. 
Four FTP over TCP flows are considered: node 20 to node 
64, node 31 to node 24, node 33 to node 50 and node 80 to 
node 39. 
 
Thus, from Figures 16 and 17 we can say that the 
introduced approach does not affect frames transmission 
mechanism. 
 
VIII. CONCLUSION AND FUTURE WORKS   
In this paper, we presented a new approach for the 
construction 
of 
ZigBee/IEEE 
802.15.4 
Cluster-Tree 
networks. The presented approach tackles the problems of 
beacon frames and SuperFrames scheduling. It allows the 
construction of Cluster-Tree topology without introducing 
constraints on SuperFrames structure and without taking into 
account the nodes density in the network. 
We proposeed a collision-free beacon transmission 
approach that exploits node’s capabilities in extracting the 
information from a signal perturbed by simultaneous 
transmissions of several beacon coordinators. These 
transmitted RF signals are considered as reflected RF signals 
since all the beacon coordinators are broadcasting the same 
signal.  
Future works will deal with adapting the presented 
approach to enable the construction of Beacon mesh 
networks. For time sensitive applications a GTS collision 
avoidance mechanism must be introduced to grant the GTS 
traffic. 
 
REFERENCES 
 
[1] ZigBeeAlliance, (Jan. 2008), ZigBee Specification [Online]. 
Available: www.zigbee.org 
[2] IEEEComputerSociety, (Sept. 2006), Part 15.4: Wireless Medium 
Access Control (MAC) and Physical Layer (PHY) Specifications for 
Low-Rate Wireless Personal Area Networks (WPANs) [Online]. 
Available: http://standards.ieee.org/getieee802/802.15.htm 
[3] M. Ilyas and I. Mahgoub, Handbook of sensor networks: compact 
wireless and wired sensing systems, CRC PRESS, 2004 
[4] M. I. Benakila, L. George, and S. Femmam, “A Beacon-Aware 
device for the interconnection of ZigBee networks”, in Proc. IFAC 
2009, May 2009. 
[5] P. Jurcik, R. Severino, A. Koubaa, M. Alves, and E. Tovar, “Real-
Time Communications over Cluster-Tree sensor networks with 
mobile sink behaviour”, in Proc. RTCSA 2008, Aug. 2008 
[6] A. Koubaa, M. Alves, and E. Tovar, “Modeling and Worst-Case 
dimensioning of Cluster-Tree wireless sensor networks”, in Proc. 
RTSS 2006, 2008. 
[7] V. Mhatre and C. Rosenberg, “Design guidelines for  wireless sensor 
networks: communication, clustering and aggregation”, Ad Hoc 
Networks. 
[8] G. Gupta and M. Younis, “Fault-Tolerant Clustering of wireless 
sensor networks”, in Proc. WCNC 2003, Mar. 2003. 
[9] T.G.15.4b, 
(2004), 
http://www.ieee802.org/15/pub/TG4b.html  
[Online] 
[10] A. Koubaa, A. Cunha, and M. Alves, “A time division beacon 
scheduling mechanism for IEEE 802.15.4/ZigBee Cluster-Tree 
wireless sensor networks”, in Proc. ECRTS 2007, July 2007. 
[11] J. Francomme, G. Mercier, and T. Val, “Beacon synchronization for 
GTS collision avoidance in an IEEE 802.15.4 meshed network”, in 
Proc. IFAC 2007, 2007. 
[12] CISCO, 
(2008), 
Multipath 
and 
Diversity: 
http://www.cisco.com/application/pdf/paws/27147/multipath.pdf 
[Online] 
[13] J. Zheng and M. J. Lee, “NS2 simulator for 802.15.4 (release v1.1)”, 
http://www-ee.ccny.cuny.edu/zheng/pub/. 
 
 
 
 
 
 
Figure 2.   Bandwidth in  the case of multiple transmissions. 
138
UBICOMM 2010 : The Fourth International Conference on Mobile Ubiquitous Computing, Systems, Services and Technologies
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-100-7

