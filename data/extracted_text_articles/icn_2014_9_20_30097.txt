Proposal for a New Generation SDN-Aware Pub/Sub Environment 
 
Toyokazu Akiyama, Yukiko Kawai 
Kyoto Sangyo University 
Kyoto, Japan 
{akiyama, kawai}@cc.kyoto-su.ac.jp 
Katsuyoshi Iida 
Tokyo Institute of University 
Tokyo, Japan 
iida@gsic.titech.ac.jp 
Jianwei Zhang, Yuhki Shiraishi 
Tsukuba University of Technology 
Ibaraki, Japan 
{zhangjw, yuhkis}@a.tsukuba-tech.ac.jp 
 
Abstract—Software defined networks are now attracting 
attention from network engineers due to their flexible 
controllability. However, the ways in which they interact with 
applications, specifically, their deployment image, remains 
unclear. 
In 
order 
to 
investigate 
possible 
application 
interactions with a software defined network, attention is 
focused on target applications that depend on a publish and 
subscribe environment, with the goal of proposing a new 
environment 
that 
will 
coordinate 
application 
layer 
requirements and network layer services. However, since our 
project is still in the start-up phase, this paper will discuss the 
issues that will need to be resolved in order to utilize software 
defined network functions based on our publish and subscribe 
environment proposal, and our approaches to resolving them.  
Keywords-Software defined network (SDN); Publish/subscribe 
communication model; Overlay network; P2P middleware 
I. 
 INTRODUCTION 
Recently, a number of Software Defined Network (SDN) 
products such as OpenFlow have been released, and work 
has progressed towards deploying them into productive 
networks [1]. SDNs provide flexible network control 
functions from application programs. However, it is not yet 
clear what kind of cross-layer control is most suitable for 
SDN use. Therefore, we have investigated this topic by 
focusing on target applications. 
In this paper, the communication models used by recent 
Internet applications, which include Social Networking 
Services (SNSs) [2], groupware, streaming video, and others, 
will be considered. Most such applications are based on the 
publish and subscribe (pub/sub) communication model [3][4], 
which requires asynchronous message transfer and multi-
source message distribution functions. Currently, since such 
pub/sub environments are normally only constructed as 
backend services for Web applications, they can only be 
used in data center networks. However, it is believed that if 
an open pub/sub environment could be provided for end-
users, it could enter usage as a general-purpose middleware 
that provides coordination between the application and 
network layers. Accordingly, this study focuses on the 
development of an open pub/sub environment that is tightly 
coupled with an SDN. 
Before a pub/sub environment can be directly utilized 
from the end-user applications, the relationship between the 
end user and the environment must be abstracted. In this 
paper, the concept “topic” is used to abstract user interests 
and message distribution in a pub/sub network. Once such an 
abstraction is provided, determining how to extract topics 
from user behaviors and considering the best way to 
optimize the resulting topic-based pub/sub network become 
the main targets of discussion. 
However, since topic extraction alone is insufficient to 
control burst traffic, estimations must be performed to 
properly handle their impact. Here, if a drastic “topic” 
change can be identified, it will be referred to as a 
“cyberspace event”. Additionally, if changes to network 
traffic can be traced, they will be referred to as “network 
events”. Finally, if the “cyberspace events” are found to have 
correlations with the “network events”, and, if future 
“cyberspace events” can be estimated, they can be used in 
advance for traffic engineering purposes. 
One goal of our research is the construction of an 
advanced pub/sub infrastructure that weaves the user's 
behavior and the pub/sub network together by abstracting his 
or her important and/or changing interests as “topics” and 
“events”, which include not only topic changes but also 
network traffic changes. Currently, since there is no strict 
definition for “topics”, it is necessary to consider how to 
define and implement the term. In this paper, the issues 
related to this effort and our approach to resolving them will 
be described, in order to work towards constructing an 
advanced topic-based pub/sub environment that takes into 
consideration cyberspace and network events. 
The remainder of this paper is organized as follows. In 
Section II, an overview structure of the proposed pub/sub 
environment is described and issues that must be resolved in 
order to establish our new pub/sub environment are outlined. 
Topic-based pub/sub implementation is discussed in Section 
III. In Section IV, ways to extract topics from user behaviors 
are discussed, and an approach that can be used to extract 
cyberspace and network events is examined in Section V. In 
Section VI, our related work will be shown. Finally, this 
paper will be concluded in Section VII.  
II. PROPOSAL OVERVIEW 
Fig. 1 shows an overview structure of the proposed pub/sub 
environment. To provide a pub/sub environment to end-
users, middleware must be used to map application layer 
requests to network layer services. In our research, P2P 
Interactive Agent eXtensions (PIAX) [5], which is a peer-to-
peer (P2P) middleware implementation, is employed as a 
pub/sub network frontend. PIAX can provide pub/sub 
functions via a number of different overlay networks 
including Skip Graph (SG) and Multi-Key Skip Graph 
(MKSG) [6]. In SG, any peer with a key can easily reach all 
the other peers that possess the same key. In MKSG, every 
210
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

peer has the same abilities, but they can also possess 
multiple keys simultaneously. Thus, regarding keys as 
“topics” 
provides 
a 
straightforward 
approach 
for 
implementing the proposed pub/sub environment, so the 
base pub/sub functions are covered by using PIAX in our 
proposal. However, since PIAX is a P2P middleware, it 
does not have the ability to optimize the lower layer. Several 
approaches to optimize an overlay network by considering 
the lower layer information, such as Application Layer 
Traffic Optimization (ALTO) [7], and several other methods 
[8][9], have been researched. However, each of those 
approaches pose particular issues. For example, ALTO 
requires the addition of a special node to solve topology 
mismatching. In contrast, the approaches in [8] and [9] do 
not require special nodes, but both require complicated 
control and use an application level measurement method 
that lacks sufficient accuracy. Furthermore, they do not have 
a direct network equipment control function. In our 
approach, attempts are made to resolve these issues by 
integrating an SDN, specifically OpenFlow, into the 
pub/sub environment. The details are described in Section 
III. 
The client side is assumed to be a Web browser or a 
mobile application that can access the pub/sub environment 
via PIAX, as shown in Fig. 1.  
In order to bind a user to the user's agent, user 
authentication and rendezvous peer discovery are required. 
Here, BrowserID [10], which is an open decentralized 
protocol for authenticating users based on email addresses, is 
employed. While BrowserID is based on the low cost Public 
Key Infrastructure (PKI), as described in [11], if the initial 
authentication method and certificate duration are properly 
selected, it provides a good candidate for the authentication 
layer of our proposal. As for the rendezvous peer discovery, 
several approaches, such as the ones taken in Content 
Delivery Network (CDN) services, are available. However, 
if information related to the user status such as the type of 
network device that is currently available can be detected, it 
will enable the client side system to further optimize the 
route selection process. Thus, more investigation into the 
“user agent binding” issue needs to be performed, especially 
as related to the “topic” extraction process, as described 
below. 
Since topic definition is not easy for end-users to perform, 
the user agent plays an important role in coordinating user 
requirements and topic-based pub/sub functions. This means 
that finding the most suitable way of extracting topics from 
each application and overlaying them into the pub/sub 
environment becomes a critical problem. Our current plan 
for resolving this problem is described in Section IV. 
Topic extraction enables us to map the end-users into the 
network. It also gives us the opportunity to analyze any 
existing correlations between end-user behavior and network 
traffic characteristics. To investigate their applicability to 
traffic engineering, it is necessary to extract events from 
website and traffic data archives, and then to analyze the data 
in order to identify correlations. This process is described in 
detail in Section V. After extracting events, they can be 
utilized to control the pub/sub environment. 
III. TOPIC-BASED PUB/SUB IMPLEMENTATION 
As described above, topic-based pub/sub is basically 
provided by PIAX using MKSG and it currently does not 
consider the lower layer environment. Therefore, to solve 
topology mismatching, a lower layer information server like 
ALTO, or a direct control interface between the application 
layer and the lower layer, must be provided. In our proposal, 
the latter approach is adopted to minimize backend traffic.  
When a user publishes a message via a pub/sub network, 
PIAX uses an overlay to transfer the message. If the logical 
path from the publisher to all the subscribers follows the 
graph shown at the top of Fig. 2, the message is transferred 
using the process shown in the bottom of the figure. In this 
case, since PIAX peers do not take their own physical 
location into consideration when generating a logical link, 
each message makes a round trip between the two switches. 
To reduce such wasteful traffic, the following two 
approaches can be adopted. 
A. User and topic migration based on the OpenFlow 
information 
In the case of Fig. 2, if the three users shown can be 
hosted on the same Personal Computer (PC), backend traffic 
can be reduced. Therefore, as shown in Fig. 2, (1), agent 
migration can reduce traffic. However, if the number of users 
increases, it becomes difficult to host them all on the same 
node. Furthermore, as described in Section II, it is important 
to consider rendezvous peer optimization simultaneously 
because the optimal peer to connect for a user device may be 
changed by the user agent migration. Thus, when users and 
topics are relocated properly based on the physical topology, 
the frontend and backend traffic can be reduced. 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 1. An overview of the proposal. 
211
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

In the case of ALTO, the server provides lower layer 
information. In the case of OpenFlow, a controller node can 
also become an ALTO server if the lower layer status 
grasping function is implemented. For example, OpenFlow 
switch topology can be detected by using Link Layer 
Discovery Packets (LLDPs). This, in turn, allows PIAX to 
relocate user agents based on the topology information 
provided 
by 
the 
OpenFlow 
controller. 
Therefore, 
determining how to implement an ALTO-like function and 
utilizing it for user agent relocation are specific issues that 
need to be resolved. 
B. Cross layer optimization 
If user agent migration cannot be used for backend traffic 
reduction because it would exceed the upper limits of the 
node’s capability, further optimization of the lower layer 
capability is required. For example, if a multicast path can be 
constructed among topic subscriber peers via OpenFlow, the 
total traffic will be properly reduced (Fig. 2, (2)). This 
requires a mapping function between the overlay network 
and the multicast network. An approach that can be used for 
constructing a multicast network in an OpenFlow network is 
described in [12]. 
IV. TOPIC EXTRACTION FROM USER BEHAVIOR 
In this section, the issues related to extracting topics from 
user behavior are discussed. As described in Section II, the 
user agent must coordinate user requirements and topic-
based pub/sub functions. In the pub/sub environment, entities 
are categorized by topics, which the user agent and client 
side application must translate into concepts that users can 
understand. Here, it is assumed that the client side is a Web 
browser or a mobile application, and that the Web browser 
functions can be extended using browser plug-ins. 
For example, in our application [13], the system provides 
Page-Centric Communication (PCC), with which users can 
communicate with other users over the webpage they are 
visiting (Fig. 3). In such cases, a webpage Uniform Resource 
Identifier (URI) can be a pub/sub topic. Additionally, in a 
PCC system, a user can search for both webpages and the 
other users using the search function provided by the system. 
Thus, search keywords and webpage visit histories may help 
extract user interests. Fig. 4 shows the current PCC system 
structure. Since the current system has scalability problems, 
the proposed pub/sub environment may provide a solution 
for that issue. 
Web browsers also have interfaces for obtaining user 
location information. These include, for example, the 
Geolocation Application Programming Interface (API) [14], 
which is currently used to attach the user location to the SNS 
messages. It is also used for extracting user interests. Fig. 5 
shows a sample extraction approach. In this example, the 
correlation between a user’s interest and the distance from a 
target location, which can also be a topic, such as Tokyo 
Station, is investigated. 
Once a topic is extracted from a user’s status, it can be 
mapped to the pub/sub network environment. This enables us 
to issue automatic topic subscriptions, which might be 
applicable to local disaster warning services. 
Here, in the case of PCC, users can be mapped to the 
topics related to the webpage URI. However, if the user 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 3. An example of images of page-centric 
communication. 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 4. Current system structure of PCC. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 2. The possibilities to reduce backend traffic in a pub/sub 
network. 
212
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

frequently moves among webpages, it may not be suitable to 
choose URIs as topics. In such cases, topic clustering may be 
required, as shown in Fig. 6. 
As described above, topic extraction basically depends 
on the application specifications. To give an overview of the 
problem, an attempt to construct a prototype implementation 
and provide a framework that can be used to simplify the 
customization of the user agent will be described. In this 
example, the P2P network property defined in Web Real-
Time Communication (WebRTC) [15] may be an 
appropriate candidate for the interface between a browser 
and a user agent. Interface standardization of this type would 
add practicality to our approach. 
V. EVENT EXTRACTION 
If topics related to the current user’s status can be 
extracted, the migration of user agents and topics for topic-
clustering purposes may help normal traffic reduction. 
However, burst traffic caused by a “cyberspace event”, such 
as SNS messages resulting from a TV program, may exceed 
the allowable amount of messages per node. If the 
cyberspace event shows correlation to a severe traffic change 
(network event), and if the event can be predicted in advance, 
efforts can be made to prepare for the burst traffic by 
relocating user agents and constructing a proper multicast 
path. 
To 
investigate 
event 
extraction 
possibilities, the 
correlation between the Web archive data and the traffic 
capture archive will be analyzed. From Web archives, 
especially news sites, real world and cyberspace events will 
be extracted, while network events can be extracted from 
traffic capture archives. If any correlations are identified 
between them, it indicates the possibility that traffic change 
events can be estimated in advance because news sites 
usually include preliminary announcements of newsworthy 
events. 
In the Web space analysis process, the quality and 
credibility of the contents become important factors. In the 
analysis of online news archives, a simple search index 
mining process can be used to find terms representing fresh 
topics [16]. It is also possible to estimate the focus time of 
webpages, that is, the time periods to which the content of 
pages refers. Analysis methods of this type can be used for 
notable topics and events. 
When extracting network traffic change events, existing 
traffic analysis methods can be used. For example, Hurst 
exponent analysis results of Measurement and Analysis on 
the Wide Internet (MAWI) [17] and Cooperative Association 
for Internet Data Analysis (CAIDA) [18] traffic data are 
being investigated as methods for detecting network events. 
Furthermore, it is expected that traffic estimation using time 
series analysis can be applicable when making minor 
adjustments to the event period. However, event base 
estimations of this type are usually difficult to apply to strict 
traffic control and it would be a challenging theme to 
implement. 
VI. RELATED WORK 
As previously mentioned in Section II, our proposal is 
very similar to ALTO. Thus, while OpenFlow controller is 
used as a lower layer information collector, it can also 
function as an ALTO server. The difference is that 
OpenFlow can also control the lower layer from the 
application layer. 
Bothelho et al. [19] proposed the construction of a 
distributed OpenFlow controller that functions in a way that 
is very similar to our proposal from the viewpoint of 
integrating multiple OpenFlow networks. In our proposal, we 
focus primarily on the consistency and fault-tolerance of the 
controller while also abstracting the relationship between the 
application and network layers as well as the introduction of 
effective interactions between them. 
While our proposal is also deeply related to information-
centric 
networking 
and 
content-centric 
networking 
(ICN/CCN) [20], the most significant difference is that 
ICN/CCN assumes intermediate nodes have caching ability. 
In some applications, if the cache ability is required in our 
environment, it can be established at the user agent or the 
logically intermediate peer of the overlay network. While 
this is not as efficient as ICN/CCN, our approach assumes 
service as an intermediate node just as OpenFlow switches, 
thus simplifying implementation and minimizing the transfer 
of multicast path data. Among ICN/CCN projects, the 
Publish Subscribe Internet Routing Paradigm (PSIRP) [3] is 
more similar to our proposal. However, when our approach 
is compared to the PSIRP implementation, which has a high 
performance lower layer pub/sub environment, it was found 
that our approach utilizes existing methods more positively, 
and is simpler than PSIRP as a result. That being said, 
 
 
 
 
 
 
Figure 5. Correlations between user interests and distance to topics. 
 
 
 
 
 
 
 
 
 
 
Figure 6. Topic clustering example in the Page Centric Communication 
System. 
213
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

usability and performance levels will need to be compared in 
future work. 
VII. CONCLUSION AND FUTURE WORK 
In this paper, a new pub/sub environment that can be 
used with SDNs, especially OpenFlow, was proposed and 
issues related to using SDN functions in the proposed 
environment were discussed. In our proposal, the PIAX 
middleware abstracts the end user’s behavior and pub/sub 
network characteristics as “topics” and “events” to map the 
application layer requests to network layer services. That 
enables us to optimize the environment. The possibilities of 
network optimization in the proposed environment and 
several approaches that can extract the end user’s behavior 
and network characteristics were also explored. Currently, 
we are developing a prototype which has a function to 
optimize multicast communication as discussed in section 
III. In the future, efforts will continue to develop and 
investigate the validity of our proposal from various aspects. 
For example, a performance evaluation of the prototype 
system by using “topics” and “events” extracted from 
existing SNSs can be a starting point. 
 
ACKNOWLEDGMENT 
This study is partially supported by the Strategic 
Information 
and 
Communications 
R&D 
Promotion 
Programme (SCOPE) and the National Institute of 
Informatics's joint research project. The authors would also 
like to express their sincere thanks to the MAWI and CAIDA 
project members for their assistance in this study. 
 
REFERENCES 
[1] “Software-Defined 
Networking: 
The 
New 
Norm 
for 
Networks,” Open Networking Foundation White paper, 
http://www.opennetworking.org/images/stories/downloads/sd
n-resources/white-papers/wp-sdn-newnorm.pdf, retrieved on 
December 2013. 
[2] D.M. Boyd, and N.B. Ellison, “Social Network Sites: 
Definition, History, and Scholarship,” Journal of Computer-
Mediated Communication, Vol. 13, Issue 1, Dec. 2007, 
pp.210–230, doi: 10.1111/j.1083-6101.2007.00393.x. 
[3] Publish-Subscribe Internet Routing Paradigm (PSIRP), 
http://www.psirp.org/, retrieved on December 2013. 
[4] P. Jokela, A. Zahemszky, C. E. Rothenberg, S. Arianfar, and 
P. Nikander, “LIPSIN: line speed publish/subscribe inter-
networking,” Proc. of the ACM SIGCOMM 2009 conference 
on Data communication (SIGCOMM '09). Oct. 2009, pp.195-
206, 
DOI=10.1145/1592568.1592592 
http://doi.acm.org/10.1145/1592568.1592592. 
[5] Y. Teranishi, “PIAX: Toward a Framework for Sensor 
Overlay Network,” Proc. of 6th Annual IEEE Consumer 
Communications and Networking Conference, Jan. 2009, pp. 
1-5. 
[6] Y. Konishi, M. Yoshida, Y. Teranishi, K. Harumoto, and S. 
Shimojo, "A Proposal of a Multi-key Extension of Skip 
Graph," IPSJ SIG Notes, Vol. 2007 No. 58, June 2007, pp.25-
30. 
[7] IETF Application-Layer Traffic Optimization (alto) Working 
Group, 
http://datatracker.ietf.org/wg/alto/, 
retrieved 
on 
December 2013. 
[8] Y. Liu, X. Liu, L. Xiao, L. Ni, and X. Zhang, “Location-
Aware Topology Matching in P2P Systems,” Proc. of IEEE 
INFOCOM, vol. 4, Mar. 2004, pp. 2220-2230. 
[9] H. Hsiao, H. Liao, and C. Huang, “Resolving the Topology 
Mismatch Problem in Unstructured Peer-to-Peer Networks,” 
Parallel and Distributed Systems, IEEE Transactions on, Vol. 
20, Issue 11, Nov. 2009, pp. 1668-1681. 
[10] Mozilla Persona, https://www.mozilla.org/persona/, retrieved 
on December 2013. 
[11] T. Akiyama, T. Nishimura, K. Yamaji, M. Nakamura, and Y. 
Okabe, “Design and Implementation of a Functional 
Extension Framework for Authn & Authz Federation 
Infrastructure Using Web Browser Add-on,” Proc. of 2013 
IEEE 27th International Conference on Advanced Information 
Networking and Applications (AINA), Mar. 2013, pp. 389-
396. 
[12] D. Kotani, K. Suzuki, and H. Shimonishi, “A Design and 
Implementation of OpenFlow Controller Handling IP 
Multicast with Fast Tree Switching,” Proc. of 2012 IEEE/IPSJ 
12th International Symposium on Applications and the 
Internet (SAINT), Jul. 2012, pp. 60-67. 
[13] Y. Shiraishi, J. Zhang, Y. Kawai and T. Akiyama, 
“Simultaneous Realization of Page-centric Communication 
and Search,” Proc. of ACM CIKM Conference 2012, demo 
paper, Oct. 2012, pp. 2719-2721. 
[14] W3C 
Geolocation 
Working 
Group, 
http://www.w3.org/2008/geolocation/, retrieved on December 
2013. 
[15] Web Real-Time Communication, http://www.webrtc.org/, 
retrieved on December 2013. 
[16] A. Jatowt, Y. Kawai, and K. Tanaka, “Calculating content  
recency based on timestamped and non-timestamped sources 
for supporting page quality estimation,” Proc. of the 2011 
ACM Symposium on Applied Computing (SAC'11), Mar. 
2011, pp. 1151-1158. 
[17] Traffic Archive maintained by MAWI Working Group of 
WIDE Project, http://mawi.wide.ad.jp/mawi/, retrieved on 
December 2013. 
[18] The Cooperative Association for Internet Data Analysis, 
http://www.caida.org/, retrieved on December 2013. 
[19] F. Botelho, F. Ramos, D. Kreutz, and A. Bessani, “On the 
feasibility of a consistent and fault-tolerant data store for 
SDNs,” Proc. of the Second European Workshop on Software 
Defined Networks (EWSDN 2013), Oct. 2013. 
[20] G. Xylomenos, et al., “A Survey of Information-Centric 
Networking Research,” Communications Surveys & Tutorials, 
IEEE, Jul. 2013, pp. 1-26. 
 
214
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

