Analysis of Video Streaming Performance in
Vehicular Networks
Sergi Re˜n´e, Carlos Ga˜n´an, Juan Caubet,
Juanjo Alins, Jorge Mata-D´ıaz and Jose L. Mu˜noz
Departament d′Enginyeria Telem`atica
Universitat Polit`ecnica de Catalunya (UPC)
1-3 Jordi Girona, C3 08034 Barcelona (Spain)
{sergi.rene, carlos.ganan, juan.caubet, juanjo, jmata, jose.munoz}@entel.upc.edu
Abstract—Vehicular Ad-hoc Networks (VANETs) have been
mainly motivated for safety applications, but non-safety applica-
tions can also be very helpful to impulse vehicular networks.
Among non-safety applications, video streaming services can
provide attractive features to many applications and can attract
a great number of users. However, VANETs high mobility
characteristics and packet loss during communications blackouts
difﬁcult the deployment of video services in vehicular networks.
In this paper, the performance of a video streaming service has
been analyzed to study the deployability of a video on demand
service in a highway environment for vehicular users. It has been
analyzed the packet loss produced by network reconﬁguration
during handoffs and its inﬂuence in the video streamed quality.
Using Mobile IP without and with fast handoffs we have gauge
the effects of mobility over the video transmission. We show that
although fast handoffs techniques minimize blackouts, they limit
the deployment of video streaming services in vehicular networks.
Index Terms—vehicular network emulation, mobility manage-
ment, video streaming.
I. INTRODUCTION
Mobility has changed the way people communicate. Nowa-
days, as Internet becomes more global, demands for mobility
are not restricted to single terminals. Road and vehicle circula-
tion systems are one of the most important infrastructures and
are supporting the humans daily life. Intelligent Transportation
Systems (ITS) aim to optimize the social costs of road
systems and enhance their security as well as drivers comfort
by allowing such services as ﬂeet management, navigation,
billing, multimedia applications, etc. Vehicular Ad-hoc Net-
works (VANETs) are becoming a reality mainly focused on
navigation safety applications, but vehicular networks are not
only useful for safety applications. Another kind of applica-
tions are also very important for the successful deployment
of vehicular networks. In this way, infotainment services
offer information and/or entertainment, e.g., Internet access,
multiplayer games, multimedia applications, videoconference.
These services can be an impulse not only for users, but also
for network operators that could ﬁnd infotainment applications
an interesting business opportunity.
In this sense, vehicular networks are mainly impulsed in
Europe by Car2Car Communication Consortium [1]. The C2C-
C Consortium is an industry consortium of car manufacturers
and electronics suppliers that focuses on the deﬁnition of
an European standard for vehicular communication protocols.
The consortium deﬁnes a C2C-C protocol stack that offers
specialized functionalities and interfaces to safety-oriented
applications and relies as a communication technology on a
modiﬁed version of IEEE 802.11 [2]. This protocol stack is
optionally placed beside a traditional TCP/IP stack (see Fig. 1),
exclusively based on IPv6, which is mainly used for non-safety
applications or potentially by any application that is not subject
to strict delivery requirements, including Internet-based and
multimedia applications. To allow vehicles to move from one
network to another while maintaining the connection to the
Internet, the C2C-C architecture optionally uses a Mobile IP
solution [3] for host mobility or a Network Mobility (NEMO)
Basic Support solution [4] for network mobility.
Fig. 1.
Protocol architecture deﬁned by the Car-to-Car Communication
Consortium[1]
Multimedia data, specially video, if feasible, is very useful
for entertainment, and it also will help to enhance navigation
safety. For example, video on demand services could be
very interesting during long travels in highways. Another
example of video streaming services in vehicular networks
are videos clips of nearby accidents or dangerous situations.
These videos can provide drivers warning advertisements with
precise information. This will allow them to make a more
informed decision (whether to proceed or turn back) based on
92
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

personal priorities and/or on vehicle capabilities.
While a huge number of video-related applications are ex-
pected to be deployed in a VANET, in this article we focus on
video services where network mobility is involved, e.g., video
on demand services. These video services will be deployed
in environments where there exists a network infrastructure.
Thus, a video server is placed in the infrastructure domain
and vehicular nodes access to this server during a travel. In
that case, vehicular nodes need global mobility to be reached
from the Internet. In vehicular networks, packets may be
corrupted and lost due to channel errors and collisions. These
type of packet losses tend to be random and locally diverse
and thus can be countered efﬁciently with a local recovery
strategy. However, in a scenario where a video on demand
service is offered, the main packet loss cause is the great
amount of handoffs due to network mobility during the whole
communication.
There exists several studies in the literature related with
video streaming services in VANETs, such as [5], [6]. How-
ever, these studies are focused in video streaming applications
where the communications take place among peers, i.e., inter-
vehicular communications, and the analysis of how video
streaming services are affected by ad-hoc routing protocols
or medium access control protocols in vehicular networks.
There also exists an article [7], that studies network mobility
performance (e.g., packet loss rate and delay) in similar
scenarios. This paper can be considered an extension of this
work analyzing a speciﬁc application - video on demand
services in vehicular networks - in the same context
The novelty of this paper is the analysis of video on demand
services in a highway infrastructure scenario using real video
applications in emulated vehicular networks and how network
mobility protocols limit the quality of a video streamed.
Firstly, we present a study for the potential deployment of
video on demand services in vehicular networks where a
Mobile IP solution is used. Then, we compare the results
with a vehicular network where Fast Handovers for Mobile
IP (FMIP) are used for seamless communications during
network mobility handoffs [8]. Moreover, we analyze the
quality obtained in the movie clip streamed and we measure
the video degradation during communication blackouts.
The reminder of this article is organized as follows. In
Section II, the tools used for the simulations are described. The
video streaming performance evaluation is presented in Sec-
tion III. The reference scenario is presented in Section III-A,
and the simulations results are analyzed in Section III-B.
Section IV concludes the paper.
II. VEHICULAR NETWORK EMULATION
Academia and industry use simulation tools to debug and
test the reliability and QoS of several applications. This makes
simulation a very important step towards the deployment of
wireless communication networks. A simulation is only useful
if the simulation results match as closely as possible with
the testbed results. However, despite all the technological
achievements and cutting edge research occurring in the ﬁeld
of mobile wireless networks, there are growing concerns re-
garding the reliability of results generated by wireless network
simulators.
Emulation means the ability to introduce the simulator into
a live network using a soft real time scheduler which tries
to tie the event execution within the simulator with the real
time. Emulation permits to test real time applications in a
simulated network. The emulation is divided in three modules
based on its functionality. Moreover, emulation provides a
more realistic approach. In this sense, in this article we
have developed an application to emulate video streaming
over VANET. Figure 2 shows the modules of the emulation
platform: application virtualization, network emulation and
trafﬁc mobility simulation.
SUMO
Ns-2
UML
UML
VNUML
Ns-2 emulate
 extensions
traceExporter
Ns-2 emulate
 extensions
Application
Virtualization
Network 
Emulation
Traffic Mobility
Simulation
Fig. 2.
Vehicular network emulation
The emulation modules are detailed in the paragraphs
below:
A. Application Virtualization
The emulated network consist of a set of User Mode Linux
(UML) [9] virtual machines running in a host machine. The
UML virtual machines virtualize the network nodes. In our
simulations, a UML machine represents the video server in the
wired domain, and another UML machine represents a vehic-
ular node in the wireless domain. The applications run inside
the virtual machines and do not notice that they communicate
through an emulated network, so the applications are executed
as in a real-system. The network is emulated as a vehicular
network transparently to the tested applications. UML virtual
machines are managed using VNUML software [10].
B. Network Emulation
To emulate the network is used the widely known network
simulator ns-2 [11] using the emulation feature, providing
the ability to introduce the simulator into a live network and
emulate a network that provides real applications in real time.
This simulator is actively used for wired and wireless network
simulations. We have introduced some to ns-2 in order to en-
hance its capabilities. In this sense, ns-2 Emulation Extensions
[12] are used to enable ns-2 to emulate wireless networks
93
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

using UML virtual machines. These extensions implement an
interface between virtual machines and ns-2 using TAP devices
[13]. They also improve the emulation of wireless networks
in ns-2, enhancing the scheduler of the network simulator for
the correct emulation of wireless networks. Another extension
added to ns-2 is NO Ad-Hoc Routing Agent (NOAH) [14].
This extension emulates the behavior of a mobile node without
using adhoc routing, so the mobile nodes only connect with the
base stations. Finally, to provide FMIP support an extension
developed by Robert Hsieh [15] is also added to ns-2.
C. Trafﬁc Mobility
The last part of the emulation platform is the trafﬁc mobility
module. This module is responsible for creating the node
movements such as a vehicle following the different itineraries
deﬁned by the road maps and the different conﬁgurable
parameters, e.g., max speed limits, road lanes, crossroads,
speed and acceleration of the cars, etc.
The
trafﬁc
mobility
module
is
mainly
formed
by
SUMO [16]. The emulated network uses this trafﬁc mobil-
ity simulator to provide node mobility traces to ns-2. This
mobility traces provide to the network simulator/emulator
information about the nodes positions and the speed of their
movements necessary to calculate the network conditions.
The mobility traces are obtained using the tool provided
with SUMO software called traceExporter, which converts the
dumps from SUMO to traces that can be used in ns-2.
III. VIDEO STREAMING PERFORMANCE
Video streaming over vehicular networks can actually be
applicable. The car engine can provide enough power for
intensive data computation and communication. Vehicles can
also be provided by large On-board storage. Thus the node in
vehicular networks is powerful enough to forward continuous
video data to other vehicles or roadside receivers. Further-
more, the IEEE 802.11g standard can support up to 54Mbps
transmission rate, or the vehicular speciﬁc IEEE 802.11p [2]
standard support up to 27Mbps. It is reasonable to expect a
1Mbps data rate between high speed driving vehicles within a
highway using ad-hoc communications [17]. Therefore, using
the transmission data rate required by compressed video, there
is enough bandwidth to support video streaming for vehicles.
However, the scenario analyzed in this paper involves commu-
nications between vehicles and the infrastructure. A vehicle,
using a video player, is connected to a central video streaming
server placed in the Internet. In this case, the handoffs between
different subnets access points limit the expected bandwidth.
A. Reference Scenario
The test scenario designed for this purpose is an infras-
tructure scenario where a set of base stations are deployed
over a highway in an overlapped manner. Therefore there are
no coverage blackouts in the road. All the base stations are
connected to a central router and this is also connected to a
video streaming server. The base stations belong to different
subnets, so every handoff in the scenario is a layer 3 handoff.
The video streaming server and a vehicular node with a video
player installed are emulated by UML virtual machines. The
Mobile IP Home Agent is also placed in the video streaming
server to simplify the scenario (see Fig. 3).
Fig. 3.
Reference scenario
The routing between the video server and the car node
is performed always as a single hop between the vehicular
nodes and the base stations. Therefore no ad hoc routing is
used in this testbed. The goal of the simulations is to carry
out a study of a video streaming service over a highway
with a lot of handoffs between base stations and analyze how
video streaming services perform in a vehicular network using
network mobility solutions. In Table I the parameters used in
the simulation are detailed.
Live555 [18] is used to test the multimedia applications in
the testbed. Using these libraries a video streaming server is
conﬁgured in one side of the communication and a VLC media
player [19] or a MPlayer [20], with live555 libraries to get real
time features, in the vehicular node.
Parameter Name
Value
Wired links
Bandwidth: 100Mb
Propagation delay: 5ms
Propagation model
Nakagami
Wireless access
IEEE 802.11p
Distance between APs
300m
Ad-hoc routing protocol
NOAH
Video characteristics
352x288 MPEG-2 CBR 500Kbps
TABLE I
SIMULATION PARAMETERS
B. Simulation Results
To check the deployability of a video on demand service
over a highway, a set of simulations are performed. The main
problem that can limit the deployment of a video service
is the packet loss that occurs during the handoffs due to
network mobility. The vehicle’s high speeds in the roads and
the amount of handoffs must be analyzed to deploy a video
service.
1) Packet Loss: To analyze packet loss, a Constant Bit Rate
(CBR) UDP trafﬁc, without any Forward Error Correction
94
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

(FEC) or Automatic Repeat reQuest (ARQ) method, is sent
from the server to the vehicular node, simulating a CBR class
video streaming. To simulate this CBR stream and calculate
packet loss, the Iperf tool [21] is used during 300 seconds per
each bitrate and vehicle speed. Next graphs show the packet
loss rate obtained using Mobile IP. The ﬁrst graph, Figure 4,
shows the packet loss rate of four different vehicular nodes
speeds and its evolution when the CBR data rate is increased.
The second graph, Figure 5, shows the packet loss rate using
four different data rates, and the evolution when the vehicle
speed is increased. It can be seen that packet loss rate increase
as vehicle speed increase. In some cases the packet loss rate
decreases for higher speeds. This is due the packet loss rate
depends on the number of handoffs and it can be decreased
increasing the vehicle speed. It also must be considered that
the network reconﬁguration time in Mobile IP during handoffs
is an opportunistic value, in contrast with FMIP handoffs.
0
0.5
1
1.5
2
2.5
Bitrate Mbps
0
10
20
30
40
50
Packet losses %
10 m/s
20 m/s
30 m/s
40 m/s
Fig. 4.
Packet loss rate per bitrates using Mobile IP
10
20
30
40
50
Vehicle speed (m/s)
0
10
20
30
40
50
Packet losses %
0.5 Mbps
1 Mbps
1.5 Mbps
2 Mbps
Fig. 5.
Packet loss rate per speeds using Mobile IP
From Figures 4 and 5 it can be concluded that packet
losses using Mobile IP solution are too high to deploy a
video on demand service in a vehicular network. It is possible
to appreciate that only for very low bitrates packet loss is
acceptable. Therefore, Mobile IP is useless for a quality
video streaming. Moreover, the handoff delay that follows the
original Mobile IP can be up to seconds. For this reason, a
protocol to get a seamless communication to an appropriate
video reproduction is needed.
FMIP can reduce the handoff delay by either introducing
L2 triggers to anticipate the handoff in advance or managing
most of the handoff operations inside a local domain. It can
be seen that FMIP protocol can reduce the handoff delay to
get between 0.18 and 0.4 seconds in the 99.3% of the cases
[7]. Minimizing the delay handoff, the FMIP standard reduces
the amount of packet loss during the L3 handoff. In spite of
FMIP’s objective, it could not always guarantee the successful
fast handoff if the moving speed of mobile node is very high.
Since the L3 handoff of Mobile IP is controlled by the mobile
node on a connectionless network, several messages should
be exchanged among nodes to control handoff process, and
handoff process of FMIP tightly depends on L2 triggering.
These two features can increase the possibility of failure
because the trigger does not consider the state of mobile
node’s L3 and delivers triggers only based on variable wireless
signal state. So, although in FMIP the packets are buffered
and supplied to the MN after the handoffs to avoid packet
loss, these failures produce some packet loss that affect to the
video streaming services. Figures 6 and 7 analyze the packet
loss using the FMIP protocol.
0
1
2
3
4
5
Bitrate Mbps
0
10
20
30
40
50
60
Packet losses %
10 m/s
20 m/s
30 m/s
40 m/s
Fig. 6.
Packet loss rate per bitrates using FMIP
Figure 6 suggests that using FMIP techniques video stream-
ing can be feasible for 10, 20 and 30 m/s vehicle speeds. How-
ever, at 40 m/s some problem will occur while reproducing a
video stream without any special technique due to the high
packet loss rate. For 30 m/s, a video bitrate greater than 500
Kbps can produce some troubles. However, with this bitrate
it is possible to reproduce a video with an interesting quality.
For the last two speeds, 20 and 10 m/s, the problems arise
at 1 and 2 Mbps. This means that for urban mobility a video
95
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

0
10
20
30
40
50
Vehicle speed m/s
0
5
10
15
20
Packet losses %
0.5 Mbps
1 Mbps
1.5 Mbps
2 Mbps
Fig. 7.
Packet loss rate per speeds using FMIP
service can be deployed with a packet loss rate that can support
an enough video rate to assure a high video quality and, for
highway mobility also can be supported a video service, but
with a lower video bitrate and a poorer video quality.
0
5000
10000
Frame number
0
20
40
60
80
100
120
Y-PSNR (dB)
Vehicle speed 10 m/s
0
5000
10000
Frame number
0
20
40
60
80
100
120
Y-PSNR (dB)
Vehicle speed 20 m/s
0
5000
10000
Frame number
0
20
40
60
80
100
120
Y-PSNR (dB)
Vehicle speed 30 m/s
0
5000
10000
Frame number
0
20
40
60
80
100
120
Y-PSNR (dB)
Vehicle speed 40 m/s
Fig. 8.
PSNR of the video received compared with the transmitted video,
for different vehicle speeds
2) Video quality: The objective of this test is to investigate
how the quality of a video clip streamed in a vehicular network
is affected by the handoffs occurred during the communica-
tion, measuring the quality of the video received compared
with the original video using the Peak Signal-to-Noise Ratio
(PSNR). The video used in the simulations is a 352x288
MPEG-2 video coded at 500 Kbps. To recover the gaps that
are lost during the communication, an error-resilient decoder,
based on an enhanced version of MPEG-2 decoder [22], is
used. When this decoder is not able to recover the lost frame,
the previous frame is represented. In Figure 8 the PSNR for
different speeds is represented. When the video received is the
same as the original video, the PSNR is represented as 100 dB.
In this ﬁgure, the video quality degradation due to packet loss
caused by the handoffs can be observed. For 40 m/s, a lot
of gaps occur during the video reproduction. Therefore, this
speed could be unfeasible to play a video during a travel using
these scenario parameters. For slower speeds, as can be 10,
20 or 30 m/s, it can be observed that the quality degradation
during the video reproduction is reduced drastically, so it could
be feasible to play a video during a travel over a highway going
at these speeds.
IV. CONCLUSIONS AND FURTHER WORK
In this article, a set of simulations of live video streaming
over vehicular networks have been presented. This set of
experiments analyze the way handoffs limit the overall quality
of a video streamed during a travel over a highway. The
packet loss rate grows with the video bitrate and the vehicle
speed increments, decreasing the video quality perceived by
the client that is estimated with the PSNR of the decoded
video. Although fast handoffs techniques to minimize handoffs
blackouts are used, the packet losses limit the deployment
of video streaming services in vehicular networks. For this
reason it can be convenient in further research to analyze video
streaming using reliable protocols to avoid packet loss during
the communication. Further research will extend the video
streaming analysis over vehicular networks to TCP transport
protocol analyzing different TCP ﬂavors behaviors.
Moreover, other network mobility techniques to prevent
video streaming blackouts will be studied in further plans.
This mobility proposal will present transport layer mobility
instead of network layer mobility, including multi-path and
multi-homing features and optimizing the communication data
rate during the handoffs and preventing from network discon-
nections.
REFERENCES
[1] “C2C-CC: CAR 2 CAR Communication Consortium,” http://www.
car-to-car.org/.
[2] S. Eichler, “Performance evaluation of the IEEE 802.11 p WAVE
communication standard,” in 2007 IEEE 66th Vehicular Technology
Conference, 2007. VTC-2007 Fall, 2007, pp. 2199–2203.
[3] C. Perkins, “Mobile IP,” International Journal of Communication Sys-
tems, vol. 11, no. 1, pp. 3–20, 1998.
[4] V. Devarapalli, R. Wakikawa, A. Petrescu, and P. Thubert, “Network
Mobility (NEMO) Basic Support Protocol,” RFC 3963 (Proposed
Standard), Internet Engineering Task Force, Jan. 2005. [Online].
Available: http://www.ietf.org/rfc/rfc3963.txt
[5] F. Xie, K. Hua, W. Wang, and Y. Ho, “Performance study of live
video streaming over highway vehicular ad hoc networks,” in Vehicular
Technology Conference, 2007. VTC-2007 Fall. 2007 IEEE 66th.
IEEE,
2007, pp. 2121–2125.
[6] M. Bonuccelli, G. Giunta, F. Lonetti, and F. Martelli, “Real-time video
transmission in vehicular networks,” in 2007 Mobile Networking for
Vehicular Environments.
IEEE, 2007, pp. 115–120.
[7] Jiang Xie and Howitt, I. and Shibeika, I., “IEEE 802.11-Based Mobile
IP Fast Handoff Latency Analysis,” in Communications, 2007. ICC ’07.
IEEE International Conference on, vol. , no. , june 2007, pp. 6055 –
6060.
[8] R. Koodli, “Mobile IPv6 Fast Handovers,” RFC 5568 (Proposed
Standard), Internet Engineering Task Force, Jul. 2009. [Online].
Available: http://www.ietf.org/rfc/rfc5568.txt
[9] J. Dike et al., “The user-mode linux kernel homepage,” URL: http://user-
mode-linux.sourceforge.net.
96
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

[10] F. Gal´an, D. Fern´andeza, J. Ruiz, O. Walid, and T. de Miguel, “A
virtualization tool in computer network laboratories,” in Proceedings of
5th International Conference on Information Technology Based Higher
Education and Training (ITHET’04), vol. 17, Istanbul, May 2004, pp.
27–34.
[11] “Network Simulator, version 2,” http://www.isi.edu/nsnam/ns.
[12] D. Mahrenholz and S. Ivanov, “Real-Time Network Emulation with ns-
2,” in In Proc. of DS-RT, 2004, pp. 29–36.
[13] “VTun - Virtual Tunnels over TCP/IP networks,” http://vtun.sourceforge.
net.
[14] “NO Ad-Hoc Routing Agent (NOAH),” http://icapeople.epﬂ.ch/widmer/
uwb/ns-2/noah/.
[15] “Source code for ns-extension on HMIPv6 with Fast-Handover,” http:
//mobqos.ee.unsw.edu.au/∼robert/nsinstall.php.
[16] D. Krajzewicz, G. Hertkorn, C. Rossel, and P. Wagner, “SUMO (Sim-
ulation of Urban MObility); An open-source trafﬁc simulation,” in 4th
Middle East Symposium on Simulation and Modelling (MESM2002).
sn, 2002, pp. 183–187.
[17] J. Singh, N. Bambos, B. Srinivasan, and D. Clawin, “Wireless LAN per-
formance under varied stress conditions in vehicular trafﬁc scenarios,” in
2002 IEEE 56th Vehicular Technology Conference, 2002. Proceedings.
VTC 2002-Fall, vol. 2, 2002.
[18] R. Finlayson, “Live555 streaming media,” 2009.
[19] “VideoLan - VLC media player - Open Source Multimedia Framework
and Player,” http://www.videolan.org/vlc/.
[20] “MPlayer - The Movie Player,” http://www.mplayerhq.hu.
[21] “Iperf,” http://sourceforge.net/projects/iperf/.
[22] “MPEG-2 Encoder / Decoder, Version 1.2, July 19, 1996,” http://www.
mpeg.org/MSSG/.
97
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

