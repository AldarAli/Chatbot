SEAM: Swarm Algorithms for Energy Allocation
in Microgrids
Erik Buchmann and Jens Wagner
Hochschule f¨ur Telekommunikation Leipzig, Germany
Email: {buchmann|wagner}@hft-leipzig.de
Abstract—Microgrids are local energy distribution cells that
include energy consumers and energy generators and may or may
not be connected to wide-area transmission grids. By balancing
consumption and supply locally, microgrids foster the transition
to renewable energy sources that are less predictable than carbon-
based ones. In this context, an important issue is to develop
scheduling approaches for energy appliances that can be scaled to
numerous independent, small energy consumers and generators.
We propose SEAM, our approach for Swarm-based Energy
Allocation in Microgrids. SEAM allows supply- and demand-
side management based on a price signal that reﬂects over- or
undersupply of energy. Together, all individual energy appliances
that participate with SEAM form a swarm, which balances
generation and consumption of energy. Thus, SEAM provides a
distributed platform for transactive energy management with low
entry barriers for participants and without a third party learning
personal details from consumption data. To acknowledge that
SEAM works as intended, we provide a formal framework that
allows us to derive important properties regarding grid stability.
Furthermore, we describe a model prototype using SEAM. Our
prototype shows that SEAM can be realized easily and copes
very well with ﬂuctuating energy sources, as predicted by our
framework.
Keywords–Smart Grid; Demand Response, Swarm Approaches
I.
INTRODUCTION
Right now, the number of renewable sources that feed en-
ergy into local energy grids (”Microgrids” [1], [2]) is growing
worldwide, at an amazing pace. However, this comes with a
number of open issues. First, existing power grids have not
been designed to cope with numerous small energy sources that
feed energy at variable rates. With classical energy grids, such
ﬂuctuating energy generators increase the need for spinning
reserve energy. Second, most existing smart grid technologies
that are available on the market yet focus on large installations,
such as megawatt-sized power plants and industrial consumers
in the same range. However, such technologies are by far too
complex and too expensive to be deployed to many small,
independent energy generators and consumers, e.g., roof-top
photovoltaic (PV) installations or cold warehouses. Third,
existing storage approaches, be it power-to-gas, compressed-
air storage or battery banks, are unlikely to be deployed at a
sufﬁciently large scale to keep pace with the installation of
renewables in the near future.
In Germany, the highest peak in power consumption is at
noon when the electrical ovens are turned on (e.g., see [3]).
This ﬁts with the peak generation of PV power plants. How-
ever, other countries face different problems when integrating
renewables [4]. Furthermore, it can be regularly observed [5]
that the price on the spot market for energy drops below 0 ct or
that renewable energy sources are regulated down in favor of
less adjustable traditional power sources [6]. In consequence,
Reservoir
Example: 
Water Pump
Flexibility
turn on
turn off
0%
100%
Distribution
Grid
Photo-
voltaic
Wind
Power
0
1
Microgrid
Figure 1. Basis scenario
there is a clear demand [4] for smart grid approaches that focus
on the prosumer market (cf. Figure 1). Prosumers generate
and/or consume energy at a small scale and may or may not
have some ﬂexibility to shift the energy supply and demand
in time.
For example, prosumers might be the members of a rural
cooperative that wants to use wind- and biogas-power plants
to operate agricultural machines, drainage pumps and cold
warehouses as much as possible from renewable energies
that are locally available at little costs. Prosumers also could
be the co-tenants of a sustainable city quarter, wanting to
fuel thermal heat pumps, air conditioning, hot-water boilers
etc. from roof-top PV installations and a combined heat-and-
power-plant. A third example are islands, which want to shift
from diesel-generated electrical power to renewable energies
without having to install expensive battery banks.
With our approach, the energy-consuming or generating
prosumers can alleviate the impact of ﬂuctuating energy
sources. For example, one prosumer might operate a raw-water
reservoir for ﬂushing the toilet while another one provides a
roof-top PV installation. If both prosumers synchronize so that
the raw-water pump starts if (a) the sun shines and the reservoir
is not ﬁlled entirely, or (b) the reservoir is empty and must be
ﬁlled immediately, the total demand for the spinning reserve
of the grid operator decreases. A smart grid approach for such
a scenario must fulﬁl a number of speciﬁc requirements:
R1: Balance Energy Consumption and Generation The
smart grid approach must be able to tell each prosumer
in real-time if it is cost-efﬁcient to start or stop energy
generators or consumers.
R2: Clear Beneﬁt The installation of such technologies must
pay for itself, beginning from the ﬁrst energy appliance
to be installed and within a reasonable period of time.
R3: Interoperability It must be possible to mix appliances
7
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

under control of a smart grid approach with energy
appliances and infrastructures that already exist.
R4: Low Complexity Adding or removing smart grid ap-
pliances must be possible without having to inform or
reconﬁgure other appliances. There should be no need
for elaborate communication protocols.
R5: Robustness The approach should come with no single
point of failures and must remain operative even if, say,
the communication has been interrupted.
R6: Understandability The actions of each appliance under
control of the smart grid approach must be directly
comprehensible for the prosumer.
R7: Data Privacy The approach must do without any ex-
ternal instances that might learn in detail the energy
appliances, preferences and habits of each prosumer.
In this paper, we propose SEAM, our approach for Swarm-
based Energy Allocation in Microgrids on the prosumer level.
We strive for a simple approach that can be installed on
inexpensive off-the-shelf hardware and allows generation-side
management and demand-side management for prosumers.
That is, we assume that a grid operator exists, which balances
over- and undersupply of energy, if this is beyond the capacities
of the prosumers.
Our approach considers each energy appliance under con-
trol of SEAM as a swarm member. Thus, we want to obtain an
emergent, complex swarm behavior as a result of the actions
of many independent, distributed swarm members following
simple rules without a central coordinator. In our case, each
swarm member decides individually, based on a price signal
and local information, if it should start or stop operating. The
sum of the decisions of all swarm members converges to an
emergent state where generation and consumption of energy
is balanced as good as possible, which reduces the need for
the spinning reserve at the site of the grid operator. From
a business perspective, SEAM creates a distributed, privacy-
aware platform for transactive energy management with low
entry barriers for participants. In particular, we make the
following contributions:
1) We describe the intuition behind SEAM, our approach for
Swarm-based Energy Allocation in Microgrids.
2) We provide a formal framework for SEAM, which allows
to assess its applicability to a given scenario, such as an
insular grid or a urban microgrid.
3) We formally show under which conditions SEAM con-
verges to a global state where energy consumption and
generation is balanced.
4) We provide a description of a model prototype using
SEAM.
Our prototype shows that the behavior of SEAM is in
line with the properties derived from our formal framework.
Furthermore, SEAM copes very well with ﬂuctuating energy
sources and unpredictable energy consumers.
Paper structure: The next section reviews related work.
In Sections III and IV, we provide an intuitive and a formal de-
scription of SEAM. Section V analyzes the stability of SEAM,
followed by a description of our prototype in Section VI.
Section VII concludes.
II.
RELATED WORK
In this section we outline and compare general strategies
for energy allocation in smart microgrids.
A. Smart Microgrids
Microgrids [1] are collections of energy consumers, energy
sources and perhaps facilities for energy storage, functioning as
a single system. A microgrid can be connected to a wide-area
transmission grid. It also can be an autonomous system, using
its own resources for energy generation and grid stabilization.
Microgrids show their strengths in areas with heterogeneous
loads, varying energy sources and long distances/few options
to store energy locally [2]. One of the core objectives of today’s
microgrids and the focus of this work is to balance supply and
demand in order to foster the integration of renewable energy
sources. For this purpose, a number of alternatives exist:
Centralized forecasting approaches let a centralized coordi-
nator compute a forecast of energy consumption and supply,
based on a wide range of information. A typical example is
a microgrid in Chile [7], which uses a neuronal network to
continuously calculate a two-day forecast. The microgrid uses
a rolling-horizon strategy to control battery banks, diesel gen-
erators and loads like water pumps. Another typical example
[8] uses a genetic algorithm for forecasting. A characteristic
feature of this example is that it uses not only weather infor-
mation and load proﬁles, but also economic models and the
energy price to produce an optimal schedule for all connected
appliances. A novel high-frequency microgrid is shown in [9].
The advantage of high-frequency (500Hz) is the reduction of
the transformation and transportation costs at smaller networks.
The system works also with a two day forecast, optimization
of loads like water pumps and optimization of storage systems
like battery banks.
Multiagent systems allow to build decentralized microgrid co-
ordinators. Each agent is free to implement its own scheduling
strategy to, e.g., build a smart city grid [10], charge electrical
vehicles [11] or route energy between grid segments [12].
Since the agents are autonomous to some extent, this approach
allows ﬂexible microgrids with low entry barriers that do not
need to transfer sensitive personal information to a third party.
As a disadvantage, the agent run-time environment is a critical
infrastructure.
Hybrid approaches combine two or more different energy
sources, such as PV and Diesel generators [13], Wind-PV-
Diesel [14] or solar thermal-geothermal power [15] into an
integrated energy appliance. The appliance uses a controllable
energy source when a ﬂexible one cannot meet the energy
demand. Because the vendor ensures that both energy sources
complement each other, this approach allows to build low-
complexity microgrids. However, this approach does not sup-
port the integration of other prosumers.
Transactive energy focuses on the active participation of
prosumers via market mechanisms [16]. That is, the grid
operator calculates a net-metering price for energy at real-time,
which includes the costs of consuming and generating energy
as well as the costs of stabilizing the grid. Each prosumer can
decide individually if he is willing to generate or consume
energy to the given price. As experience shows [17], the tech-
nology works as intended, but the calculation of a good net-
metering price heavily depends on big-data analytics, including
weather forecasts, marginal costs at different generation plants,
congestion data of the transmission grid and various factors
related to grid stabilization.
Energy auction approaches transform supply and demand
of energy into bids that are placed on a centralized auction
platform. This platform performs double-sided continuous auc-
8
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

tions to obtain the optimal market price and energy allocation
for any point in time. PowerMatcher [18] is a well-known
implementation of such an auction platform. Similarly to
multiagent systems, each participant is free to implement its
own scheduling strategy. Extensions of PowerMatcher even
have been developed to run hybrid systems [19]. However, it is
difﬁcult to derive reasonable bids [20], e.g., for renewables that
generate energy nearly without marginal costs, or for heating
systems where the user does not want to gamble a convenient
temperature. Thus, the complexity of the system is high for
prosumers that do possess detailed background knowledge.
Furthermore, the bids reveal many personal details.
B. Swarm Approaches
Our approach has been inspired by collective swarm intel-
ligence, as seen by ants, bees or birds. The common factor
of collective intelligence is that a complex, ”smart” swarm
behavior emerges from individuals who compete for resources
based on straightforward rules and local ad-hoc information.
Note that other deﬁnitions of swarm behavior additionally
require interactions between neighboring swarm members.
In our case, the resource is the price signal and the rules
consider the valuation for energy. It is appealing to apply
swarm concepts to microgrids. For instance, particle swarm
algorithms (running on a central instance) can be used to
optimize microgrid parameters [21], [22]. However, existing
swarm algorithms (cf. [23], [24]) are difﬁcult to distribute
over a microgrid. One approach [25] allows a distributed
architecture by modeling energy generation and consumption
as a system of coupled oscillators. Since this model comes
with a high complexity and binds the prosumers to a pre-
deﬁned scheduling strategy, this approach does not meet our
requirements. Furthermore, some enterprises, e.g., Encycle,
Easy Smart Grid, LichtBlick, GridSense and Siemens, are
developing swarm approaches, with different directions of
impact. Finally, a preliminary simulation study of our approach
can be found at [26].
III.
SEAM
Without loss of generality, assume a scenario as shown in
Figure 1: A microgrid contains a PV site and a wind power
plant, which feed energy into the microgrid at variable and less
predictable rates. The major energy consumer in the microgrid
is a raw-water pump, which ﬁlls a water reservoir. The pump
has some demand-side ﬂexibility: If the reservoir is full, the
pump must be turned off. If the reservoir is empty, the pump
must be turned on. In between, the pump may or may not be
activated. The microgrid is connected with a distribution grid.
The grid operator (a) provides energy if the local renewables
do not provide enough energy to match the demand and (b)
connects to spinning-, non-spinning- and frequency-response
reserve power to ensure grid stability. In comparison to the
normal energy supply, using reserve power is more expensive
by some orders of magnitude. Furthermore, the transmission
grid comes with transmission losses. Thus, the most efﬁcient
mode of operation is to consume the energy provided in the
microgrid locally, i.e., to minimize the energy ﬂow to and from
the grid operator.
Now assume four pumps and an amount of energy provided
over time as shown in the graph in Figure 2. Intuitively, an
optimal schedule as shown in the ﬁgure would activate pumps
in a way that their reservoirs never run empty. Furthermore,
the schedule would activate many pumps in parallel if there
24h
Energy
Available
0h
6h
12h
18h
Sun
Wind
Optimal Schedule of four Pumps
Pump 1
Pump 2
Pump 3
Pump 4
Wind
Figure 2. Example schedule
is a surplus of energy and deactivates pumps in case of
an undersupply. Note that we do not make any restrictive
assumptions on the kind of ﬂexibility of the energy appliances.
For example, an owner of an electrical vehicle might want to
charge the battery to 30% immediately after coming home for
spontaneous drivings. He might be willing to deliver energy
to the microgrid if the battery is charged above 80%, and he
might want the car to be charged to at least 60% at 7am each
week day for commuting.
A. Scheduling Energy Appliances
Obviously, in reality an optimal schedule is impossible
for supply- and demand-side management, since it would
require a perfect forecast of the states of any energy appliance
in the microgrid at any time in the future. With large grid
installations, the law of large numbers mitigates the effect
of local ﬂuctuations in the energy supply and demand. In
a microgrid, several alternatives already exist to obtain a
reasonable schedule:
• A straightforward way would be to use a timer switch.
The timer can be programmed so that the activity times
of the pumps correspond with the typical hours of sunlight
and wind. The effectivity of such a schedule is limited,
but this approach is feasible for each prosumer without
invoking third parties or installing sophisticated hardware.
• A central coordinator can do forecasting or implement
an environment for a multi-agent system, as described
in Section II. However, the coordinator puts the privacy
of the prosumers at risk, comes with high total costs of
ownership and requires a high overhead for installation,
maintenance, conﬁguration and communication.
• The third option is to implement a real-time market for
energy, e.g., with transactive energy approaches or by us-
ing energy auctions. While such an approach comes with
much lesser entry barriers for prosumers than a global
coordinator, it still requires a trusted third party knowing
personal details regarding the energy consumption of the
prosumers. Furthermore, it known from economics that
the efﬁciency of markets depend on perfect information.
B. The SEAM Approach
We have developed SEAM, a different approach based on
swarm mechanics, as shown in Figure 3: An energy meter
measures the amount of energy that is imported from the
distribution grid into the microgrid. Based on this information,
the energy meter calculates a price signal. The more energy
is imported, the higher the price to consume energy and vice
versa (left side of Figure 4). With SEAM, the price signal
helps to shepherd the swarm of energy appliances similarly
9
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

to pheromone trails of ant colonies. Thus, the semantics of
the price signal differs from net metering prices as used with
transactive energy approaches or energy auctions.
Our price signal is broadcasted periodically to a number
of smart controllers. A smart controller can be a standalone
device, but it can also be implemented in the ﬁrmware of any
device containing a micro-controller. Each smart controller is
responsible for controlling an individual energy appliance, i.e.,
an energy storage, a consumer or a generator. In particular, the
smart controller uses the price signal and local information
about the ﬂexibility of the appliance. Such local information
can be the allowed tolerance for the temperature of a cooling
house, it can be the charging status and desired charge of
a electrical vehicle or it can be the heating demand of a
combined-heat-and-power plant. If the ﬂexibility is high, e.g.,
if there is plenty of time until a water pump must be activated
to ensure that the reservoir does not run empty, the controller is
unwilling to pay much for activating the pump. On the other
hand, if the reservoir is about to drain, the controller must
accept any price for energy.
Smart
Controller
Energy
Meter
Price
Signal
SMACO
SMACO
SMACO
SmaCo
Energy Available
0
1
Control Signal
Actor
Generator
Figure 3. SEAM swarm
A straightforward approach to implement such a strategy
would be a linear regression model. In this case, a straight
function describes the relationship between the ﬂexibility and
the price signal (right side of Figure 4). Thus, each controller
would implement the following swarm algorithm, which is
continuously evaluated:
Switch on if: The device is off, local properties allow that it
can be switched on, and the local ﬂexibility results in a
valuation of energy that is higher than the price signal.
Switch off if: The device is on, local properties allow that it
can be switched off, and the local ﬂexibility results in a
valuation of energy that is lower than the price signal.
A more sophisticated strategy could solve an optimization
problem on a forecast of the energy price (see Section IV).
Price
Signal
Flexibility
Price
Signal
Energy Import
Energy
Meter
Smart 
Controller
Figure 4. Balancing supply and demand
The decision about turning an energy appliance on or off is
based solely on the broadcasted price signal and local data, i.e.,
there is no global optimizer and no communication with other
controllers involved. The decisions of the swarm of smart con-
trollers have an effect on the energy generated and consumed.
This is measured by the energy meter and transformed into a
new price signal, which is broadcasted again. Thus, a closed-
loop feedback control circuit is established with the energy
consumption as a feedback channel. If one appliance has an
urgent need for energy and turns on, others might decide that
the price is too high and switch off. Similarly, if the PV power
plant delivers more energy, some appliances might decide that
the energy now is inexpensive enough to be used even if, say,
the tolerance limit of a cooling warehouse is not reached yet.
Because the price signal is obtained by measuring the avail-
able energy, it is possible operate SEAM-controlled appliances
together with existing ones, and controllers can enter and leave
the swarm at any time without having to reconﬁgure any grid
component. Since there is no outgoing communication, the
privacy of the prosumers is not an issue. It is simple to un-
derstand the decisions of the smart controller by observing the
local demand and the price signal. Finally, if the broadcasted
price signal fails, the energy appliances can simply return to a
mode of operations that is identical to a non-smart grid. Thus,
SEAM fulﬁls the Requirements R3–R7 named in Section I.
Observe that the price signal is just a representation of
the balance between supply and demand. Thus, it is possible
to realize SEAM without modifying business cases of the grid
operator – instead of a price, a normalized factor in the interval
(0, 1) would serve the same purpose. Furthermore, the price
signal contains the marginal fee for energy. In other words, it
is the price of consuming an inﬁnitesimally small amount of
energy at a certain time. Thus, the price signal represents the
balance between demand and supply of energy, which allows
us to develop swarm algorithms that allocate energy, but it
cannot be directly used for net metering.
IV.
A FORMAL FRAMEWORK FOR SEAM
In order to show that SEAM converges to a state where
energy consumption and energy generation is in balance (Re-
quirement R1), we now describe a formal framework that
describes the optimal point in time to turn on or off a device,
given the local information and a time series of past energy
prices in the possession of each smart controller. To ease our
presentation, we model consumers as loads that are active for
a predeﬁned time interval, once they have been turned on. Our
framework can be extended to more elaborate models easily.
A. Basic Properties
Without loss of generality, assume an electrical device
d ∈ D must be active for a certain time ∆td within a time
interval ∆T d. This is typical for many devices, e.g., anything
that operates cold or heat and ﬁlls or drains a reservoir that is
continuously in use.
d ∈ D
Electrical device with ﬂexibility
∆T d
Flexibility to shift the consumption of d
∆td
Minimal time span d must be running in ∆T d
sd
Start time of d
ld
Electrical load of d
pi
Price signal at time i
ci
Forecast of the price at time i
TABLE I. Important symbols
Assume a cold warehouse must hold a temperature between
4 and 6◦C. The cooler consumes l = 800 Watt. The warehouse
10
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

warms up in 20 Minutes from 4 to 6◦C, and it cools down
from 6 to 4◦C within two minutes. Thus, ∆t = 2 min. To
ensure a temperature below 6◦C, the last point in time s′ the
cooler must start for ∆T = 22 min is after 20 minutes. Thus,
0 < s′ < (∆T −∆t). Table I lists the most important symbols
used. Our model comes with three assumptions:
Assumption 1. |D| is large, i.e., there are many individual
devices.
Assumption 2. The distribution of the loads ld of any device
d ∈ D follows a Gauss Distribution, i.e., there are few devices
with a very high energy consumption and a long tail of devices
with a small consumption. This models a difﬁcult case: Our
framework will show that the energy allocation is easier if all
devices have the same load l.
Assumption 3. The inaccuracy of the forecast ci for the price
signal at time i increases with increasing i. Let ∆ci = ci − pi
the difference between the exact price and its forecast at time
i: For any two points in time ∀i, j ∈ ∆T with i < j, |ci−pi| ≤
|cj − pj|. Thus, ∆ci increases with i: |ci − pi| ∼ i
This is natural. At the current point in time the price is
exactly known. It might be possible to guess the energy supply
and demand in a local microgrid for some minutes in the future
with high accuracy. But it is hard to tell the weather and the
devices that are active for some hours or days in the future.
Obviously, it is impossible to shift the starting time sd of
a device d into the past. If a smart controller thinks there will
be a better price in the future and the demand can be shifted to
the end of the ﬂexibility interval, but the price is higher then,
the device must be activated anyway.
Proposition 1. The valuation for energy zd increases with
decreasing ﬂexibility. If the ﬂexibility in time is large, i.e., there
are many options to turn on the device at a later point in time
without violating the user’s settings, the controller will accept
low energy prices only. In contrast, if the time is near when
the device must be turned on, the smart controller is willing
to pay a higher fee. Thus, zd ∼ i.
B. Optimal time for turning on the device
After having shown the assumptions and basic properties of
our model, we now describe how each controller might identify
the optimal point in time to activate its electrical device.
Proposition 2. All smart controllers try to minimize the
total costs for consuming energy. To this end, the controllers
compute a forecast ci for the price in the future at time i.
Thus, for each device d there is a smart controller solving at
any point in time i an optimization problem: Find a starting
time sd so that the costs for consuming ld over the time ∆td
will be minimal.
arg min
0≤sd≤∆T d−∆td
sd+∆td
Z
sd
ci · ld di
(1)
A simple forecasting approach would be to interpolate the
current price to the future. Another simple approach might use
the time series of the prices from the day before. Our prototype
(see Section VI) shows that even simple approaches work well.
However, the price kd paid by any device d is not the forecast,
but the price that is valid at the respective time, i.e.,
kd =
sd+∆td
Z
sd
pi · ld di
(2)
Recall that the smart controllers rely on local information
and do not communicate with each other. Each controller
derives the optimal starting point in isolation. Furthermore,
it can be assumed that the energy prognosis is similar on each
controller. Proposition 1 tells us that controllers with a high
ﬂexibility use their forecast to avoid high prices and favor
low prices in the future. However, if many controllers turn
on their devices at the same time, the price will increase and
vice versa. This multiplicates the effect of Assumption 3, i.e.,
the inaccuracy of the forecast increases with the increasing
forecasting time.
Proposition 3. From Assumption 3 it follows that the optimal
starting point must be closer to the present time than obtained
by Equation 1. Otherwise, the increasing risk for an inaccurate
prognosis would result in a suboptimal starting point.
We model the optimal point in time for switching on by
considering a risk premium for the optimization problem in
Equation 1.
Proposition 4. The risk premium is the sum of the entry
probability multiplied with the costs. With SEAM, the costs
are the differences between prognosis and real price (pi − ci)
paid at time i. The entry probability can be described as a
probability density function. Without loss of generality, we
denote the risk premium at time i as ri. Our optimization
problem to ﬁnd the optimal point in time to turn on a device
now is as follows:
arg min
0≤sd≤∆T d−∆td
sd+∆td
Z
sd
ci · ld · ri di
(3)
The choice of the probability density function allows to
model participants that might be risk-averse, risk-neutral or
risk-aware. Another option would be to learn the probability
density by observing the difference between price and forecast.
Considering a risk premium results in a swarm behavior
where the participants consume energy if the price is “good
enough” instead of hoping for a better price in the future
by risking inaccurate forecasts. Thus, for a sufﬁcient number
of swarm participants (cf. Assumption 1), Requirement R1 is
fulﬁlled. Observe that we can say that without specifying an
algorithm to compute the forecast or the probability density
function. With our preliminary tests, using a time series of the
price signal from the past as a forecast and a linear regression
as probability density function turned out to perform well.
Thus, our approach comes with a low complexity (Require-
ment R4).
V.
ON SWARM STABILITY
At the ﬁrst glance, SEAM could produce an oscillating
behavior: All or a large share of the devices turn on. Thus, the
energy consumption increases and the price signal rises as well.
The next time the devices receive the price signal, all or a large
share of the energy consumers are unwilling to accept a high
price for energy and turn off. In consequence, the consumption
and the price signal decreases. The next time the price signal
11
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

is received, all devices are turned on again and the procedure
is repeated indeﬁnitely. To ensure that this behavior does not
materialize in a real installation, two research questions must
be considered:
1) Under which conditions is it possible to provoke an os-
cillating behavior of a large share of all swarm members?
2) How must the swarm be constructed to ensure that oscil-
lations do not occur normally and oscillations provoked
by external events fade away?
Assume a subset M ⊆ D of the set of all devices D.
All devices m ∈ M switch on and off at the same time, i.e.,
all smart controllers responsible for those devices solve the
optimization problem from Proposition 4 with the result that
the optimal point in time to start consuming energy is the
current point in time. For example, such an behavior could
be provoked by a very high risk premium or by having many
identical devices. Formally,
∀m ∈ M : sm = 0
(4)
Equation 4 allows us to derive three of properties that must
be fulﬁlled altogether to obtain an oscillating swarm behavior.
Proposition 5. The sum of the energy consumptions of all
devices in M must be larger than the sum of the energy
consumptions of all other devices that are able to counteract
the sudden increase in the total energy consumption by turning
off.
X
m∈M
lm >
X
d∈(D\M)
lm
(5)
Assumption 2 allows to derive for any real setting the share
of devices that must be in M.
Proposition 6. The run-times ∆tm of all devices in M must
have a common divider. Otherwise, there would be no stable
oscillation.
∀p, q ∈ M : ∆tp
x
= a ∧ ∆tq
x
= b with a, b, x ∈ Z
(6)
Proposition 7. All devices in M must be turned on before an
update of the price signal arrives that tells them to re-evaluate
the optimization problem in Equation 3. I.e., the system must
have some delay δ between two consecutive updates of the
price signal:
δ = |i1 − i0|
(7)
From Proposition 5 to Proposition 7 it follows that it must
be simple to design a microgrid based on SEAM, which cannot
produce oscillations, either by ensuring a heterogeneous set of
devices, well-distributed loads and/or updating the price signal
with a low or random delay. If this is not possible, another
feasible strategy would be to allow an operator to manually
override the switching decisions of the largest loads in the
microgrid.
VI.
PROTOTYPE
We have build a prototype (see Figure 5) to conﬁrm that
SEAM operates on inexpensive off-the-shelf hardware (see
Requirement R2), and that our formal framework as well as
our assumptions can be applied to real settings.
From the algorithmic perspective, it does not make a dif-
ference if we connect real energy consumers with SEAM or a
model. For practical reasons, we have decided for components
from educational experimentation boxes (Franzis ”‘50 Exper-
imente mit erneuerbaren Energien”’ and Franzis ”‘Solaren-
ergie”’). Our prototype provides two low-current LEDs and
two motors as energy consumers (f). A lamp (a) shines on two
PV modules (b) to provide renewable energy sources. A battery
and two 1000µF capacitors (g) mimic a grid operator who
provides a conventional energy source and grid stabilization. A
display unit (e) allows us to monitor the state of the microgrid,
the energy intake from the energy sources and the activities of
the energy consumers. We have implemented SEAM in Java on
a Raspberry Pi Model B+ in a DIN-Rail housing (c), which
operates the energy consumers via a multi-channel potential
free actor relais (d). Both the display unit and the energy meter
makes use of MCP3426 16-bit multichannel ∆Σ analog-to-
digital converters with I2C interface and onboard reference.
Observe that this setting stresses the Assumptions 1 and 2
requiring many devices with different loads.
a
b
c
d
e
f
g
Figure 5. SEAM Prototype
The computational resources of the Raspberry PI model B+
are sufﬁcient to run the energy meter service and four instances
of a smart controller in parallel. Thus, the price signal can be
transferred via inter-process communication. With our model
prototype, we have deﬁned a voltage between 2.7V and 3.3V as
normal, i.e., below 2.7V, our conventional energy source steps
in, and above 3.3V a Z diode has to consume surplus energy.
In order to balance supply and demand, we have implemented
the straightforward strategy denoted in Figure 4: Our forecast
is an interpolation of the current price signal. The price signal
is 1 at 2.7V and 0 at 3.3V. Any smart controller accepts a
price of 0 if the ﬂexibility (i.e., the time remaining until the
the device must be turned on) is maximal, and a price of 1
if the ﬂexibility is 0. The prototype allows us to conﬁgure a
wide range of different ﬂexibilities. Furthermore, by moving
the lamp we can vary the generation of renewable energies
easily. Switches allow us to manually activate and deactivate
the conventional energy source and grid stabilization.
Our prototype provides a challenging scenario for SEAM:
The energy consumption of a motor exceeds the consumption
of a LED by an order of magnitude, we have only four energy
consumers in total, and only one source of renewable energies.
Furthermore, the energy sources are not under control of
SEAM, and SEAM uses a straightforward approach to balance
supply and demand.
Nevertheless, our prototype conﬁrms that SEAM works
well even in extreme situations. We have ran a number of
experiments with two settings: (A) all devices are operated
without SEAM, i.e., the devices are turned on if the ﬂexi-
bility is 0 and turned off after ∆t. (B) SEAM controls the
devices as described. With our experiments, we have moved
12
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

the lamp in different positions and we have measured the
energy drawn from the battery. Our experiments with setting B
show that typically, our independent smart controllers organize
themselves into a regular swarm behavior where one energy
consumer is turned on after another one has been switched off.
With this switching pattern, the energy produced by renewable
sources is optimally consumed. If the pattern is disturbed, e.g.,
by moving the lamp, the controllers quickly ﬁnd to another
pattern. In comparison to setting (A), setting (B) typically
consumes 30% less conventional energy. If the ﬂexibilities
are sufﬁcient to compensate ﬂuctuations in the generation of
renewable energies, the conventional energy source can be
removed.
We have tried to force our swarm of energy consumers into
an oscillation where any device turns on and off periodically, as
described in Section V. In fact, we can conﬁrm Proposition 5
to Proposition 7: It needs a carefully designed artiﬁcial setup
where the energy consumers are forced to start at the same
time and must have identical run-times. Furthermore, we had
to delay the update of the price signal. If we do not enforce
this artiﬁcial setting, an oscillation will not materialize.
Finally, our prototype conﬁrms that SEAM can be realized
with inexpensive off-the-shelf components (Requirement R2).
An industry-grade installation with a insulation level IP20
according DIN 40050 can be realized with modules that are
readily available from manufacturers, such as Wago or Phoenix
Contact. The computational resources needed to operate a
smart controller can be provided even by a micro controller.
VII.
SUMMARY
Microgrids are a promising approach to foster the transition
to renewable energy sources by balancing energy consumption
and supply locally. However, existing approaches to schedule
energy appliances cannot be readily applied to small-scale
producers and consumers of energy, for various reasons.
In this paper, we have proposed SEAM, a distributed
approach for Swarm-based Energy Allocation in Microgrids.
SEAM makes use of swarm intelligence to let energy producers
and consumers adapt to the availability of energy. SEAM maps
the availability of energy to a price signal, which is broadcasted
to all swarm members in real-time. We have shown that the
individual decisions of all swarm members let the microgrid
converge to a state where renewable energy sources are utilized
as good as possible, given the individual ﬂexibility of the
energy appliances. We have described both a formal framework
and a model prototype for SEAM, showing that the formally
derived properties of SEAM can be observed in a real system.
Given that SEAM does not rely on complex infrastructures,
expensive hardware components or elaborate algorithms, it
copes very well with ﬂuctuating energy sources. As part of
our future work, we will focus on the response times, i.e.,
we strive to provide optimizations and guarantees for the time
the SEAM swarm needs to adapt to ﬂuctuations in the energy
generation or consumption.
REFERENCES
[1]
R. H. Lasseter and P. Paigi, “Microgrid: A Conceptual Solution,” in
35th IEEE Power Electronics Specialists Conference (PESC’04), vol. 6,
2004.
[2]
M. Mahmoud, Microgrid: Advanced Control Methods and Renewable
Energy System Integration.
Elsevier Science, 2016.
[3]
ED
Netze,
“Lastproﬁle
der
ED
Netze
GmbH,”
(in
German),
https://www.ednetze.de/kunde/lieferanten/lastproﬁle-
temperaturtabellen/, retrieved: March, 2017.
[4]
Ea Energy Analyses, “The Danish Experience with Integrating Variable
Renewable Energy,” Study on behalf of Agora Energiewende., 2015.
[5]
European Energy Exchange AG, “EEX Transparency Platform,”
https://www.eex-transparency.com, retrieved: March, 2017.
[6]
H.-M. Henning and A. Palzer, “100% Ernerbare Energien f¨ur Strom
und W¨arme in Deutschland (in German),” Fraunhofer-Institut f¨ur Solare
Energiesysteme ISE, Tech. Rep., 2012.
[7]
R. Palma-Behnke, C. Benavides, F. Lanas, B. Severino, L. Reyes,
J. Llanos, and D. S´aez, “A microgrid energy management system based
on the rolling horizon strategy,” IEEE Transactions on Smart Grid,
vol. 4, no. 2, 2013, pp. 996–1006.
[8]
C. Chen, S. Duan, T. Cai, B. Liu, and G. Hu, “Smart energy manage-
ment system for optimal microgrid economic operation,” IET renewable
power generation, vol. 5, no. 3, 2011, pp. 258–267.
[9]
S. Chakraborty, M. D. Weiss, and M. G. Simoes, “Distributed intelli-
gent energy management system for a single-phase high-frequency ac
microgrid,” IEEE Transactions on Industrial electronics, vol. 54, no. 1,
2007, pp. 97–109.
[10]
S. Karnouskos and T. N. De Holanda, “Simulation of a smart grid city
with software agents,” in Computer Modeling and Simulation, 2009.
EMS’09. Third UKSim European Symposium on.
IEEE, 2009, pp.
424–429.
[11]
S. Vandael, N. Bouck´e, T. Holvoet, K. De Craemer, and G. Deconinck,
“Decentralized coordination of plug-in hybrid vehicles for imbalance
reduction in a smart grid,” in The 10th International Conference on
Autonomous Agents and Multiagent Systems-Volume 2.
International
Foundation for Autonomous Agents and Multiagent Systems, 2011, pp.
803–810.
[12]
P. H. Nguyen, W. L. Kling, and P. F. Ribeiro, “Smart power router: A
ﬂexible agent-based converter interface in active distribution networks,”
IEEE Transactions on Smart Grid, vol. 2, no. 3, 2011, pp. 487–495.
[13]
A. Roy and G. N. Kulkarni, “Analysis on the feasibility of a pv-diesel
generator hybrid system without energy storage,” Clean Technologies
and Environmental Policy, 2016, pp. 2541–2553.
[14]
S. Rehman, M. M. Alam, J. Meyer, and L. M. Al-Hadhrami, “”feasi-
bility study of a wind-pv-diesel hybrid power system for a village”,”
Renewable Energy, vol. 38, no. 1, 2012, pp. 258–268.
[15]
SkyFuel, Inc., “A Solar Thermal Geothermal Hybrid,” Available at
http://www.skyfuel.com/whitepapers.shtml, retrieved: March, 2017.
[16]
F. A. Rahimi and A. Ipakchi, “Transactive energy techniques: Closing
the gap between wholesale and retail markets,” The Electricity Journal,
vol. 25, no. 8, 2012, pp. 29–35.
[17]
J. St. John, “Results from the world’s biggest transactive energy test,”
in gtm: Greentech Media, Sep 2015.
[18]
K. Kok, “The powermatcher: Smart coordination for the smart electric-
ity grid,” Ph.D. dissertation, Technical University of Denmark, 2013.
[19]
D. Geysen, P. Booij, and C. Warmer, “A framework for simulation and
control of hybrid energy networks,” in Energy Conference (ENERGY-
CON), 2014 IEEE International.
IEEE, 2014, pp. 989–995.
[20]
A. van der Veen, “Connecting PowerMatcher to the electricity markets:
an analysis of a Smart Grid application,” M.Sc. Thesis, Rijksuniversiteit
Groningen, Nederlands, 2015.
[21]
M. A. Hassan and M. A. Abido, “Optimal design of microgrids in
autonomous and grid-connected modes using particle swarm optimiza-
tion,” IEEE Transactions on Power Electronics, vol. 26, no. 3, 2011,
pp. 755–769.
[22]
W. Al-Saedi, S. W. Lachowicz, D. Habibi, and O. Bass, “Voltage and
frequency regulation based {DG} unit in an autonomous microgrid
operation using particle swarm optimization,” International Journal of
Electrical Power & Energy Systems, vol. 53, 2013, pp. 742–751.
[23]
A. P. Engelbrecht, Fundamentals of Computational Swarm Intelligence.
John Wiley & Sons, 2006.
[24]
J. Kennedy, “Particle swarm optimization,” in Encyclopedia of Machine
Learning.
Springer, 2010.
[25]
M. C. Cagigal, “A Swarm Intelligence Approach Based on Coupled
Oscillators: An Application in Demand Side Management with Pho-
tovoltaic Distributed Generation,” Ph.D. Thesis, Universidad Politcnica
de Madrid, Spain, 2014.
[26]
P. Bozsoky, “Transactive Energy in Inselnetzen,” B.Sc. Thesis (in
German), Karlsruhe Institute of Technology, Germany, 2015.
13
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

