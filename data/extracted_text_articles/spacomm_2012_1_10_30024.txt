A Real Time Algorithm for Bandwidth and
Time-slot Assignment for Rain Faded DVB-RCS
Systems
Mohamed Al-mosawi, Rinat Khusainov, Boris Gremont
School of Engineering, University of Portsmouth
Portsmouth, UK
{mohamed.al-mosawi, rinat.khusainov, boris.gremont}@port.ac.uk
Abstract—Broadband satellite communication networks, oper-
ating at Ka band and above, play a vital role in today’s world-
wide telecommunication infrastructure. The problem, however,
is that rain can be the most dominant impairment factor for
radio propagation at these frequencies. This paper, addresses
bandwidth and time-slot allocation problem for rain faded DVB-
RCS satellite networks. We formulate the task as a combinatorial
optimization problem and propose a novel algorithm for dynamic
bandwidth and time allocation, which works with CRA type of
trafﬁc. The algorithm is evaluated using a MATLAB simulation
with historical rain data for the UK.
Index Terms—MF-TDMA, time-slot allocation, fade mitigation
techniques, combinatorial optimization.
I. INTRODUCTION
VSAT networks provide high-speed multimedia services,
including voice, video and Internet for a vast number of
subscribers distributed over a very wide area. The DVB-
RCS stands for Digital Video Broadcast Return Channel via
Satellite, which is a centralized communication system. There
is a single station called Network Control Centre (NCC) that
controls all communication processes in real time.
European DVB-RCS systems providers use the following
access mechanisms recommended by the European Telecom-
munications Standards Institute (ETSI). TDMA is used on
the forward link as the access mechanism, while the return
link is shared by earth stations using an MF-TDMA scheme.
Typically, Ku band (12-18 GHz) is used for the forward link
and Ka band (18-30 GHz) for the return link [1]. Forward link
transmissions for user terminals are organized in bursts. The
bursts are assumed to be made of a ﬁxed number of time-slots,
which are long enough to transmit one ﬁxed-size packet.
Satellite links can be affected severely by rain fading,
which can reduce the link capacity. NCC has to make sure
that extra time slots or extra bandwidth are available to
provide users with the requested quality of service in varying
weather conditions. Consequently, efﬁcient Radio Resource
Management (RRM) and bandwidth utilization under rainy
conditions have become important research topics in satellite
telecommunications.
Combinatorial optimization has been used to address the
problem of efﬁcient resource allocation in DVB-RCS satellite
systems. In [2], resource allocation for rain faded forward
links has been modeled as a knapsack problem. In this paper,
we look into resource allocation for DVB-RCS return links.
The difference is that here we have to work with MF-TDMA
frames instead of TDMA.
The main contributions of this paper are as follows:
• We formulate the task of bandwidth allocation under rainy
conditions mathematically as a combinatorial optimiza-
tion problem.
• We propose a low-cost allocation algorithm to solve it.
The main objective of the algorithm is to achieve a better
bandwidth utilization while still meeting the Quality of
Service (QoS) requirements.
• Finally, we evaluate the algorithm using a MATLAB
simulation with real historical rain data for the UK.
The current version of the algorithm deals with the guaranteed
throughput services. The guaranteed throughput services are
deﬁned as the services, which ensure that the subscriber always
gets the bandwidth requested regardless of trafﬁc behavior of
other users [1].
The rest of the paper is structured as follows. Section
II describes brieﬂy the Bandwidth on Demand process and
MF-TDMA frame. The allocation process is mathematically
formulated as a combinatorial optimization problem. Section
III describes the proposed allocation algorithm. Section IV
presents the simulation scenario and results. Finally, section
Vdiscusses directions for future work.
II. MF-TDMA FRAME AND BANDWIDTH ON DEMAND
The DVB-RCS NCC sends the general network information
to Return Channel via Satellite Terminals (RCSTs) once the
power is on. The NCC provides monitoring and control func-
tions and generates the control and timing messages required
for operating the satellite network. The messages are sent using
Moving Picture Exported Group Transport Stream (MPEG-
2TS) via the private data section, which is transmitted over
the forward link. There are two types of forward links in the
DVB-RCS speciﬁcation: one for the interaction control and
the second for data transmission. Both links can be supported
by the same DVB-S transport multiplex [3].
MF-TDMA bandwidth portion is usually deﬁned to be
approximately 20 MHz due to the RCST maximum frequency
hoping limitation [3][4]. The goal of the Bandwidth on De-
mand (BoD) process is to determine the resources required
1
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

Symbol
Deﬁnition
U
The total number of RCSTs supported by the network.
β
Buffer size (in packets) for a given RCST.
M
The total number of packets that can be buffered in the
network, which is equal to the size of the RCST buffer
multiplied by the total number of RCST supported by
the network (all RCSTs have the same buffer size).
K
The number of available ACM modes in the network.
ri
The rain fading level for RCST i.
Nk
The number of packets suffering rain fading of level k.
f(x)
The space required for a time slot with rain fading
level of x in the MF-TDMA frame.
pi
Number of time-slots requested by RCST i.
C
The available MF-TDMA space. The space here stand
for a portion of bandwidth given for a duration of time in
a single frame for data trafﬁc.
Bk
The bandwidth assigned by BoD to mitigate level k rain
effects.
L
The number of available MF-TDMA frames.
T
The duration of an MF-TDMA time-slot.
Ri
Requested data rate by RCST i..
Table I
LIST OF SYMBOLS
to satisfy the rate requested by an RCST. A BoD controller
receives RCST data requests, selects an appropriate Adaptive
Coding and Modulation (ACM) to match their rain level, and
calculates the required bandwidth. The Media Access Control
(MAC) then decides whether to accept or reject the request
based on a set of rules as explained in [3].
Network trafﬁc can be characterized as a Markov-modulated
continuous stream of bits with peak and mean rates. On-
off trafﬁc sources with variable bit rates can be modeled as
constant ﬂow sources with an equivalent bandwidth [5]. Thus,
we work under a simplifying assumption that the network
uses the Constant Rate Allocation (CRA) to eliminate trafﬁc
complexity from the analysis. Consequently, the real-time
bandwidth allocation will be governed purely by rain fading.
There are several approaches to determining the equivalent
bandwidth for the CRA. The ﬂuid ﬂow approach has been
well investigated in [1][5][6]and[7]. In this paper, we use the
normal “Gaussian” distribution investigated in [1-8].
III. TIME ALLOCATION PROBLEM
A. Mathematical Formulation
The problem of resource allocation with rain fading can
be deﬁned as a combinatorial optimization problem. The goal
is to pack optimally packets of different sizes into the MF-
TDMA frame space. Table 1 describes the initial parameters
for the optimization process.
At any time instant, let us deﬁne vector p, as
p = (pi, ..., pu | pi ≤ β , i = 1, 2, ..., U),
(1)
where pi is the number of packets buffered by RCST i,
which is always smaller or equal to the RCST buffer size
for all stations. Similarly, vectorr containing the instantaneous
rain fading levels for all RCSTs is deﬁned as
r = (ri, ..., ru | ri ≤ K , i = 1, 2, ..., U),
(2)
where ri is the rain fading level for RCST i. There can
be many constraints involved in determining how to pack a
given set of time-slots, and there are many objectives to be
met, such as fairness, efﬁciency, QoS, and utilization. In this
paper, the main objective is to transmit the packets using the
smallest possible portion of the available MF-TDMA frame
space. This problem can be described as follows:
maximize
PU
i=1

f(ri) · Ppi
j=1 xij

C · L
(3)
s. t.
pi
X
j=1
xij = Ri ·
T
bits per slot, ∀i
(4)
where, xij =
n
1, if the packet is selected.
0, otherwise.
(5)
The last constraint essentially speciﬁes that each RCST
should be able to transmit the requested number of packets
within L MF-TDMA frames.
The secondary objective is to minimize the variation in the
delays experienced by individual packets, also known as cell
delay variation (CDV) [1].
B. The Algorithm
In any given time interval, there is a number of packets
suffering K or less levels of rain fading, which are needed to
be ﬁtted into L consecutive MF-TDMA frames of capacity c
each. For our algorithm, the total demand can be characterized
as a M × K matrix W deﬁned as follows:
wmk ∈
n
1, if k=ri, and m mod(i∗β)⩽ pi.
0, otherwise.
(6)
Each column corresponds to a different level of rain fading
k. Each row corresponds to the packet sequence number in
an RCST buffer. Packets from RCST 1 correspond to rows
1, 2, ..., β, packets from RCST 2 correspond to rows β+1, β+
2, ..., 2β. Packets from RCSTi correspond to rows (i−1)·β +
1, (i − 1) · β + 2, ..., 2(i − 1) · β. Therefore, if RCST i suffers
rain fading level of k, then the corresponding rows in column
k of the demand matrix will be equal to 1, otherwise they will
be equal to 0. The total number of ’1’s in each column of the
demand matrix is equal to Nk and each row contains at most
single ’1’. Figure 2 illustrates this idea. The demand matrix
can be used by the MAC to perform ﬁtting of packets into
MF-TDMA frames.
The main idea behind the proposed algorithm is to bundle
together packets coming from RCSTs with the same rain
fading level (the same ACM mode). This can be done by
allocating carriers in MF-TDMA frame separately for each
column in the demand matrix according to the actual number
of packets in that column. The algorithm is speciﬁed in Figure
1.
The constraint in equation 7 is to ensure not to exceed the
total frame bandwidth, where Bk deﬁned as the bandwidth
assigned by the BoD to mitigate level k rain effects. The pack-
ing procedure tries to reduce the CDV without violating any
agreed QoS bounds. To achieve this, the procedure schedules
2
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

__________________________________________________
Step 1 (Initialization)
Create the demand matrix W
Step 2 (Iteration)
for k = 1...K (processing each demand matrix column separately)
Calculate the required number of carriersCk:
Ck =
&
PM
m=1 wmk
(number of time slots per carrier) · L
'
Ck =
l
Nk
10·L
m
s.t. Ck · Bk ≤ available bandwidth
(7)
Pack packets from column k of the demand matrix into the Ck carriers
of bandwidth Bk.
Update available bandwidth (reduce by Ck · Bk).
end for
Step 3
Delete W
__________________________________________________
Figure 1.
Allocation algorithm
packets from the RCST with the longest packet delay ﬁrst. This
ensures that the packets with earlier deadlines are scheduled
into earlier time slots within the L-frame window. Scheduling
packets from RCSTs with the same rain fading level into of
carriers of the same bandwidth reduces the amount of unused
space in each MF-TDMA frame.
There may still be a situation when a portion of a carrier
in a frame is unused because there are not enough packets at
the given rain fading level to ﬁll in all the time slot in that
carrier. In the proposed algorithm, we introduce a time window
to further improve carrier utilization. The time window is
deﬁned as the time interval required to transmit L MF-TDMA
frames. Within this time period, requests will be stored in
RCSTs buffers to be transmitted in the next time window.
The algorithm looks at requests after each window. Therefore,
instead of generating a Terminal Burst Time Plan (TBTP) for
each super frame, there will be one TBTP generated for each
time window.
Having the time window helps capturing more packets at a
given rain fading level, which can then be transmitted within
the carrier of an appropriate bandwidth. This means that less
frames may be required to transmit them. The freed up frames
in a given time window can be used to carry trafﬁc from
users with best effort level of services. For example, instead of
transmitting one packet per carrier in 10 frames, the 10 packets
can be buffered and transmitted in the next time window
within a single frame. That means we will not need to reserve
bandwidth for this rain fading level in the other 9 frames, and
freed up bandwidth will be available for other services. This
improvement in bandwidth utilization comes at the price of an
added delay, which can be given in the following formula:
delay bound = L · frame duration
(8)
A downside of using this algorithm is that it will delay
and queue data even for unfaded satellite links. One possible
way to address it is to use a dynamic window size dependent
on the rain fading conditions as well as burstiness of trafﬁc.
The algorithm can be illustrated graphically using Figure 2,
which shows how trafﬁc from different RCSTs is grouped
according to their rain fading levels. Each group of packets
then is sequentially scheduled by MAC into the corresponding
carriers across the MF-TDMA frames in the time window.
Figure 2.
MAC serving K packets groups into L frames
IV. SIMULATION MODEL
The data rate that has been used is 144 Kb/s (topology A)
guaranteed throughput of a low rate video streaming trafﬁc
type, with burstiness of 8. In the simulation, we assume
the burstiness is measured over a single time window. More
speciﬁcally, we assume that each RCST transmits at peak rate
only for 1/8th of the time window duration. Thus, a total of
10 packets will be received in each time window. The MF-
TDMA frame is be sub-divided in 60 standard carries with 10
time slots each, as shown in table 2 [8]. Each time slot has
a capacity of 16 Kb/s guaranteed throughput. Therefore, 10
time slots per time window must be allocated to each RCST
to satisfy the targeted rate. The above numbers were obtained
from calculation carried in [8],[3], and [4]. In this version of
the simulator, we considered one data type “video streaming”
over one MF-TDMA of 20 MHz bandwidth, with transmission
frequency of 20 GHz.
3
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

Peak
Slots per
carrier
and per
frame
Carriers
information
trafﬁc
CSC/
SYNC/
Total
per
data rate
slots
slots
slots
slots
frame
144 Kb/s
9
1
2
10
60
384 Kb/s
24
2
4
26
23
1024 Kb/s
64
4
8
68
9
2048 Kb/s
128
8
16
136
4
Table II
FEATURES OF THE MF-TDMA RETURN LINK
In the given simulation, 480 RCSTs were used with the fol-
lowing distribution pattern: 75% of the RCSTs were located in
4 different cities: London, Manchester, Dublin, and Glasgow,
and the rest was randomly distributed all over the UK with
the minimum separation distance of 1 km between RCSTs as
illustrated in Figure 3.
The algorithm was applied on version 1 DVB-RCS system
with 9 ACM FMT modes available, i.e., K = 9 in our case.
The simulation uses historical rain data, with a simulation
duration of 3 months (January, February and April 2011).
Figure 3.
RCSTs ground distribution
A. Numerical Results and Performance Evaluation
Figure 4 shows the amount of used bandwidth for the given
distribution of RCSTs. The bottom level of the used bandwidth
corresponds to the minimum rain fading level (i.e. no rain).
The overall bandwidth usage statistics can be represented as
a CDF of total bandwidth used. This is shown in Figure 5.
As can be seen from the results shown in Figure 4 and 5,
only up to 40% of the total allocated frame bandwidth was
used at any moment in time. Moreover, for a standard 99.9%
network availability only 35.2% of the frame bandwidth was
actually used by the RCSTs.
Figure 4.
Total bandwidth used by the algorithm
Figure 5.
CDF for the total bandwidth used by the algorithm
V. CONCLUSION
The task of bandwidth and time slot assignment in rain
faded DVB-RCS systems has been described and formu-
lated mathematically as a combinatorial optimization prob-
lem. Unlike other referenced approaches, where RCSTs are
divided into only two groups of rainy and non-rainy terminals,
the proposed algorithm bundles trafﬁc requests into multiple
groups corresponding to their individual rain fading levels.
The algorithm also uses a time window, which consists of
multiple consecutive MF-TDMA frames, to improve time slot
utilization within each carrier and free up frame bandwidth
for other services. Our evaluation of this algorithm using
a simulation with historical rain data shows a signiﬁcant
improvement in bandwidth utilization. Only 35.2 to 40% of
the available frame bandwidth was used at any given time.
In the future work, we will be studying the effects of
geographical distribution of RCSTs on the total demand. The
current version of the algorithm can also be expanded to
include different types of services and address the delay bound
issue as one of the primary objectives.
REFERENCES
[1] Chao, H. J., & Guo, X. (2002). Quality of service control in high-speed
networks. New York, John Wiley.
4
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

[2] Y. Feng, “Resource allocation in Ka-band satellite systems,” Master.
dissertation, Dept. of Elecrical and Computer Engineering, University
of Maryland, 2001.
[3] E. Noussi, “A study of fade mitigation and resource management
of satellite networks in rain condition” Ph.D. dissertation, Dept. of
Eelectroic and Computer Enginnering, University of Portsmouth, June.
2008.
[4] Ki-Dong Lee; Kun-Nyeong Chang; , "A real-time algorithm for timeslot
assignment in multirate return channels of interactive satellite multime-
dia networks," Selected Areas in Communications, IEEE Journal on ,
vol.22, no.3, pp. 518- 528, April 2004 doi: 10.1109/JSAC.2004.823433.
[5] Guerin, R.; Ahmadi, H.; Naghshineh, M.; , "Equivalent capac-
ity and its application to bandwidth allocation in high-speed net-
works," Selected Areas in Communications, IEEE Journal on ,
vol.9, no.7, pp.968-981, Sep 1991 doi: 10.1109/49.103545 URL:
http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=103545& is-
number=3202.
[6] S. Jamin, “A Measurement-based admission control algorithm for inte-
grated services packet networks,” Ph.D. dissertation, Dept. of Computer
Science, University of Southern California, Aug. 1996.
[7] Genin, D.; Marbukh, V.; , "Bursty ﬂuid approximation of TCP
for modeling internet congestion at the ﬂow level," Communi-
cation, Control, and Computing, 2009. Allerton 2009. 47th An-
nual Allerton Conference on , vol., no., pp.1300-1306, Sept. 30
2009-Oct.
2
2009
doi:
10.1109/ALLERTON.2009.5394525
URL:
http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=5394525& is-
number=5394483.
[8] Pace, P.; Aloi, G.; Marano, S.; , "Multimedia trafﬁc admission schemes
comparison for satellite systems," Vehicular Technology Conference,
2004. VTC2004-Fall. 2004 IEEE 60th , vol.6, no., pp. 4022- 4026
Vol. 6, 26-29 Sept. 2004 doi: 10.1109/VETECF.2004.1404833 URL:
http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=1404833& is-
number=30415.
[9] T. Kiong, “Connection admission control in multi service networks:
simplicity versus efﬁciency,” Ph.D. dissertation, Dept. of Electrical and
Electronic Engineering, University of Melbourne, Nov. 2002.
[10] S. Floyd, “Comments on measurement-based admissions control for
controlledload service,” ftp:rrftp.ee.lbl.govrpapersradmit.ps.Z.
[11] De Rango, F.; Tropea, M.; Fazio, P.; Marano, S.; , "Call admis-
sion control with statistical multiplexing for aggregate MPEG traf-
ﬁc in a DVB-RCS satellite network," Global Telecommunications
Conference, 2005. GLOBECOM ’05. IEEE , vol.6, no., pp.6 pp.-
3236, 2-2 Dec. 2005 doi: 10.1109/GLOCOM.2005.1578372 URL:
http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=1578372& is-
number=33290.
[12] De Rango, F.; Tropea, M.; Fazio, P.; Marano, S.; , "Call Admis-
sion Control for Aggregate MPEG-2 Trafﬁc Over Multimedia Geo-
Satellite Networks," Broadcasting, IEEE Transactions on , vol.54,
no.3, pp.612-622, Sept. 2008 doi: 10.1109/TBC.2008.2002716 URL:
http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=4604798& is-
number=4604792.
5
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

