Joint Orchestration of Cloud-Based Microservices
and Virtual Network Functions
Hadi Razzaghi Kouchaksaraei, Holger Karl
Computer Network Group
Paderborn University, Paderborn, Germany
email: {hadi.razzaghi, holger.karl}@uni-paderborn.de
Abstract—Recent studies show the increasing popularity of
distributed cloud applications, which are composed of multiple
microservices. Besides their known beneﬁts, microservice archi-
tecture also enables to mix and match cloud applications and
Network Function Virtualization (NFV) services (service chains),
which are composed of Virtual Network Functions (VNFs).
Provisioning complex services containing VNFs and microservices
in a combined NFV/cloud platform can enhance service quality
and optimise cost. Such a platform can be based on the multi-
cloud concept. However, current multi-cloud solutions do not
support NFV requirements, making them inadequate to support
complex services. In this paper, we investigate these challenges
and propose a solution for jointly managing and orchestrating
microservices and virtual network functions.
Keywords-Network Function Virtualization; Cloud Com-
puting; Microservices; Virtualized Network Function.
I. INTRODUCTION
Today’s cloud applications are commonly developed using
a microservice architecture. In this architecture, individual
software components of an application are implemented as
separate lightweight functional blocks, called microservices
[1]. This type of application can also smooth the road to
the realisation of Distributed Cloud Computing (DCC) where
microservices of a cloud application are deployed on geo-
graphically distributed micro data centres instead of on a single
data centre.
Following the concept of cloud computing, Network Func-
tion Virtualization (NFV) has emerged. It aims at cloudiﬁng
network services that are conventionally provided by dedicated
hardware. Similar to microservice-based or distributed cloud
applications, NFV services consist of a set of distributed
virtualised Network Functions (NFs) that are chained together
to deliver a network service (e.g., Residential Gateway).
The distributed structure of NFV services and distributed
cloud applications allows to mix and match VNFs and mi-
croservices. Such combined services, which we call complex
services, can have remarkable beneﬁts for actors (users, service
and infrastructure providers) involved in both NFV and cloud
ecosystems such as cost optimisation and service quality
improvement [2]. An example of complex services (Fig. 1) is
a cloud application that includes a load balancer that spreads
the load among application back-end instances and also a
ﬁrewall that ﬁlters incoming requests to the application front-
end. Since ﬁrewall and load balancer are network functions,
they can have a better performance in NFV environments.
Cloud Application
NFV Service
Source
Destination
F-end
B-end
F-end
B-end 
Ins #1
B-end 
Ins #2
B-end 
Ins #3
DB
DB
LB
FW
FW
LB
CDN
Authentication
Fig. 1. An example of complex services
However, the fact that the current cloud and NFV platforms
are not designed to support requirements of services from the
opposite family makes the provisioning of complex services
rather challenging. Some of the reasons for having different
designs for cloud and NFV platforms are as follows:
• Packet processing is the main functionality of VNFs
involved in NFV services, which should be performed
as fast as possible using technologies such as Data Plane
Development Kit (DPDK) [3]. However, the majority of
cloud applications do not need to bother with packet
processing as it is not their primary objective.
• Providing WAN connectivity is one of the essential
tasks of an NFV manager to provide service chaining
for network services that are geographically distributed.
However, in cloud ecosystems, providing WAN connec-
tivity is not crucial and is therefore typically not offered
by cloud management system such as OpenStack.
• The workload composition is also different in NFV
and cloud ecosystems. While service chaining is used
to combine VNFs in an NFV ecosystem, choreogra-
phy/orchestration is used to connect microservices in
Cloud ecosystem.
A management and orchestration system that can join two
ecosystems and manage all the differences can complement
the shortcomings of cloud and NFV platforms in providing
network functions and microservices, respectively. To this end,
in this paper, we propose a multi-cloud solution that uniﬁes
NFV and Cloud ecosystems.
The paper is structured as follows. In Section II, we shortlist
the candidate solutions. In Section III, the proposed solution
is explained, and ﬁnally, in Section IV, we highlight our
conclusion.
153
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-607-1
CLOUD COMPUTING 2018 : The Ninth International Conference on Cloud Computing, GRIDs, and Virtualization

II. CANDIDATE SOLUTIONS
An environment where NFV and cloud platforms can
interwork with each other could mitigate the challenge of
provisioning complex services. This could be realised by
leveraging Multi-cloud [2] solutions, which allow VNFs and
microservices to be deployed on their respective platforms.
Multi-cloud is an environment that uses the resources of mul-
tiple clouds (e.g., Amazon EC2, Windows Azure) to deploy
a cloud application. Some of the goals of multi-cloud are to
deal with peaks in service and resource requests, minimise
cost, improve quality and availability, and avoid cloud provider
lock-in [2], which are similar to the objectives of providing
complex services.
Although Multi-cloud can help the deployment of com-
plex services in a combined NFV and cloud infrastructure,
it cannot provide a comprehensive solution. Current multi-
cloud solutions do not support NFV requirements, making
them unsuitable for deployment and management of complex
services.
Terraform [4], a multi-cloud solution that can handle cross-
cloud dependencies, supports most of the cloud management
systems such as OpenStack, K8, and AWS. However, Ter-
raform does not provide service chaining and WAN connec-
tivity that is required for NFV services. Cloudify [5] (another
multi-cloud solution) is a composed NFV and cloud manage-
ment and orchestration system. It supports the deployment of
cloud and NFV services on multiple cloud infrastructures such
as AWS and OpenStack. However, Cloudify does not allow the
deployment of an application on multiple clouds at the same
time [6], which makes it inadequate to manage and orchestrate
complex services.
III. PROPOSED SOLUTION
Our solution is to consolidate current multi-cloud and NFV
tools to deploy, manage, and orchestrate complex services. To
this end, in our architecture (Fig. 2), we combine SONATA [7],
a network service development and orchestration platform,
with Terraform. SONATA’s orchestrator allows services to
be managed based on their speciﬁc requirements. This is a
valuable functionality for complex services which have man-
agement requirements other than conventional network/cloud
services/applications. SONATA employs infrastructure and
Open vSwitch (OVS) adaptors to provide service chaining and
WAN connectivity, respectively. However, the infrastructure
adaptor only supports OpenStack and deploys services based
on the NFV services requirements. To solve this issue, we use
Terraform to provide any cloud infrastructure for deploying
microservices. Combining Terraform with SONATA infras-
tructure and OVS adaptors provides a uniﬁed NFV and cloud
infrastructure that can be used by the orchestrator to deploy
complex services.
Gathering the current tools and technologies for providing
such an environment offers advantages such as reusability
improvement and reducing maintenance overhead.
Our ongoing work includes the deﬁnition of a joint descrip-
tor that can be used to describe both microservices and VNFs,
SONATA Orchestrator
Terraform
Management Systems
Management Systems
NFV Infrastructure
Cloud Infrastructure
SONATA Infrastructure 
Adaptor
SONATA OVS Adaptor
Fig. 2. Proposed solution architecture
as well as their dependencies, providing auto-scaling, and
ﬁnding out the best way to distribute the life cycle management
tasks between the orchestrator and management systems.
IV. CONCLUSION
We investigated the overlooked area of managing and
orchestrating complex services composed of VNFs and mi-
croservices. Reviewing the literature, we found that running
complex services in a multi-NFV/cloud environment can have
remarkable beneﬁts for actors involved in both NFV and cloud
ecosystems by reducing cost and improving the service quality.
Our proposed solution for providing such an environment is to
leverage tools and technologies that are used to realise multi-
cloud environments. To this end, we are building a service
platform that combines an NFV management and orchestra-
tion tool, SONATA, with a multi-cloud tool, Terraform. This
combination provides a joint NFV and Cloud environment that
can be used to deploy and manage complex services.
Our future work will be extending the proposed environment
to support other cloud and NFV platforms to realise the
deployment of complex services on any cloud infrastructure.
ACKNOWLEDGMENT
This work has been partially supported by the SONATA project, funded by
the European Commission under grant number 671517 through the Horizon
2020 and 5G-PPP programs and the 5G-PICTURE project, funded by the
European Commission under grant number 762057 through the Horizon 2020
and 5G- PPP programs,
REFERENCES
[1] J. Th¨ones, “Microservices,” IEEE Software, vol. 32, no. 1, pp. 116–116,
2015.
[2] D. Petcu, “Multi-Cloud: Expectations and Current Approaches,” in Pro-
ceedings of the international workshop on Multi-cloud applications and
federated clouds.
ACM, 2013, pp. 1–6.
[3] “DPDK,” URL: http://dpdk.org/ [retrieved: January 2018].
[4] “Terraform,” URL: https://www.terraform.io/ [retrieved: January 2018].
[5] “Cloudify,” URL: http://cloudify.co/ [retrieved: January 2018].
[6] L. M. Pham et al., “Roboconf: a Hybrid Cloud Orchestrator to Deploy
Complex Applications,” in IEEE 8th International Conference on Cloud
Computing (CLOUD).
IEEE, 2015, pp. 365–372.
[7] S. Dr¨axler et al., “SONATA: Service Programming and Orchestration for
Virtualized Software Networks,” in IEEE International Conference on
Communications Workshops (ICC Workshops).
IEEE, 2017, pp. 973–
978.
154
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-607-1
CLOUD COMPUTING 2018 : The Ninth International Conference on Cloud Computing, GRIDs, and Virtualization

