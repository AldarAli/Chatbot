A Novel 3D-Based Network Simulation
Platform for Wireless Indoor Networks
Mikko Asikainen, Mauno R¨onkk¨o, Keijo Haataja, Pekka Toivanen
School of Computing, Kuopio Campus
University of Eastern Finland
P.O. Box 1627, FI-70211 Kuopio, Finland
E-mail: {mikko.p.asikainen, mauno.ronkko, keijo.haataja, pekka.toivanen}@uef.ﬁ
Abstract—In this paper, a novel 3D-based network simulation
platform for wireless indoor networks is proposed. The purpose
of the platform is to improve the accuracy of radio propagation
modeling and to offer designers a virtual workspace for testing
their systems. Radio propagation models are investigated by
performing path-loss calculations and Fresnel zone geometry
estimation in a research laboratory environment.
Keywords-3D
Locationing;
Sensor
Networks;
Simulation;
TOSSIM; ZigBee.
I. INTRODUCTION
This paper is an extended version of our conference article
[1] containing additional backround information, extended
testing and a more comprehensive explanation of the proposed
simulation environment.
Sensor networks are comprised of small wireless devices
capable of sensing their environment and dynamically com-
municating with their neighbors [2][3][4]. These networks are
characterized by short link distances, limited system resources
and low battery consumption [5][6]. Popular applications in-
clude intelligent home automation, monitoring and short range
wireless communication [7][8][9].
Sensor network technologies are deeply rooted to their
hardware platforms [10][11], limiting the things a developer
can do before getting access to the actual devices. Testing
programs designed for sensor networks without simulation
becomes difﬁcult due to the need of deploying actual hardware
to the target environment during testing [12]. A versatile and
efﬁcient simulator would deﬁnitely beneﬁt the research and
development community. The simulation of sensor network
programs is also important for the purposes of determining
the requirements for hardware before committing funds for
prototyping on actual devices, which might normally be un-
suitable for the task or the amount of nodes in the prototype
might not be sufﬁcient.
In our previous research work [13][14], we examined the
TOSSIM simulator [15][16] packaged with the TinyOS system
[17][18]. We found out that it was a useful tool for sensor
network developers, but lacked simulation of radio propaga-
tion, path-loss and small-scale indoor fading. Moreover, the
simulation of ad-hoc networking was not supported at that
time [19]. As a continuation of our previous research work,
we started to investigate different methods of modeling path-
loss in an indoor environment and to design a simulation
environment that would best serve the needs of sensor network
design and administration.
Modeling radio wave propagation is a mature ﬁeld and
closely related to acoustics. For example, one model that will
be discussed in this paper, Rayleigh fading, dates back to
1880’s when Lord Rayleigh observed the behavior of sound
propagation of an orchestra [20]. Even though the principles
of radio wave modeling are a mature ﬁeld, ﬁnding novel
applications for old models is relevant to today’s science.
In the ﬁeld of simulation, a more complex combination of
suitable propagation models can be used, since computing
capabilities are increasing rapidly.
The rest of the paper is organized as follows. Section II
gives a brief overview of ZigBee and wireless indoor com-
munication. Path-loss modeling in sensor networks is covered
in Section III. The section also contains results of some
experiments we performed on a simple log-distance path-
loss model to investigate the relation between the model and
in-lab reality using ZigBee-enabled Wireless Personal Area
Network (WPAN) devices. Section IV describes the Fresnel
zone equation, which can be used to determine Line-Of-Sight
(LOS) between two transmitting radios. Tests were performed
based on this equation. The potential of using the Fresnel zone
equation to improve path-loss calculations is discussed and the
need for a 3D simulation environment to achieve these beneﬁts
is explained. Different problems related to 3D simulation
is discussed in Section V. A novel 3D network simulator,
which can act as a sandbox for network developers and
administrators, is proposed in Section VI and concrete results
of the experiments that are relevant to the proposed simulator
are also discussed. This proposal concerns a prototype in an
early design stage. Moreover, essential functions and possible
technologies are discussed in the section. Finally, Section VII
proposes some new ideas that will be used in our future
research work and concludes the paper.
II. AN OVERVIEW OF ZIGBEE COMMUNICATION
ZigBee [21] operates in the 2.4 GHz band with maximum
transmission speed of 250 kb/s. It uses 16 channels ranging
from 11 to 26. Each channel uses 5 MHz of bandwidth. The
center frequency of each channel is FC = (2405 + 5 × (k −
11)) MHz, where k = 11, 12, . . . , 26. ZigBee is based on
the Direct Sequence Spread Spectrum (DSSS) technique and
Offset Quadrature Phase Shift Keying (O-QPSK) modulation.
381
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

The ZigBee node listens to a chosen channel before trans-
mitting. If the channel is occupied, the node waits for a random
amount of time. After this waiting period, the node listens to
the channel again and if it is free, the node can transmit data.
This technique is called as Carrier Sense Multiple Access with
Collision Avoidance (CSMA/CA).
When the data has been sent to the destination node, it
sends an acknowledgement message to the source node to
conﬁrm that the data transmission has been successful. If the
source node does not receive the conﬁrmation in a certain
interval, it resends the data to the destination node. Moreover,
in ZigBee mesh topology, the node can send message through
an alternative route if the ﬁrst route fails.
In our research laboratory experiments we used Sensinode
Nanorouters and Nanosensors [22] as the ﬁrst hardware set
and Texas Instruments CC2530 evaluation boards [23] as the
second hardware set. Figure 1 illustrates Texas Instruments’
devices used in the second hardware set.
Fig. 1: Texas Instruments CC2530 evaluation boards [23] were
used as the second hardware set in our research laboratory
experiments.
ZigBee was chosen for our testing technology, because it is
a good representative for modern wireless personal networks
and it includes a lot of features to test in our research work.
III. PATH-LOSS MODELING
Radio transmissions traveling through space disperse and
attenuate in a manner that can be, to some extent, predicted
through path-loss modeling. Under ideal conditions, such as a
LOS vacuum with no interference, radio propagation can be
modeled by using the Friis free space equation [24]:
Pr(d) = PtGtGrλ2
(4π)2d2L
(1)
In the equation, Pr(d) is the strength of the received signal
at distance d from the transmitter, Pt is the transmitted signal
strength, Gt and Gr are the antenna gains at the transmitter and
receiver, λ is the transmission wavelength, and L is an artiﬁcial
system loss factor accounting for loss caused by, for example,
hardware. However, these ideal conditions are extremely rare
on our planet. Radio waves travel through matter with different
properties and are reﬂected by electromagnetic ﬁelds of objects
creating a multipath signal. The equation can be regarded
useful for sensor network modeling only as a starting point.
In the log-distance path-loss equation, the Friis equation can
be used to help determining a priori loss values for an
experimental system [24]:
PL(dB) = PL(d0) + 10n log( d
d0
)
(2)
In the equation, PL(dB) is the predicted signal loss in
decibels at distance d, PL(d0) is the path-loss at a reference
distance determined by the user, and n is a path-loss exponent
determined through experimentation. In a small scale indoor
environment, a reference distance of one meter is perhaps the
most practical.
Our focus in this paper is on the practical applications for
path-loss models. In our research work, we are interested in
determining the path-loss at the reference distance as well as
the path-loss exponent. These variables have a signiﬁcant role
in the reliability of the model.
It has been suggested in [24] that the Friis equation can
be used to determine the path-loss at the reference distance,
if the user has no access to better reference values. Values
for the path-loss exponent can be found from various sources
[24] and the user can use a value that best seems to reﬂect the
surroundings she attempts to simulate.
In our experiments, the main focus was to determine the
accuracy of the model. A single link was tested in our research
laboratory to see how close the values of the model would
come to the measurements. A transmitted signal of 100 mW
(0 dBm) was used at the 2.4 GHz frequency. Two sets of
ZigBee-enabled hardware were used in our experiments. The
ﬁrst set was comprised of devices with a small ceramic antenna
integrated to the chip [22], while the other set used larger
detachable antennas [23].
Our research laboratory is a typical ofﬁce environment
with desks, computers and electronics (see Figure 2). The
surroundings are sure to cause multipath propagation and
several wireless networks were present to cause interference.
Over 10 Wireless Local Area Networks (WLANs) were in the
vicinity with one WLAN-router close to the test setup.
Tests with a spectrum analyzer revealed interference values
with an average of −65 dBm and with spikes up to −40 dBm
caused by WLAN transmissions. Interference was therefore
signiﬁcant enough to impact the results. Figure 3 illustrates a
spectrum image taken in the research laboratory. The spectrum
image shows the range between 2400 MHz and 2485 MHz,
spanning the entire ZigBee range.
In the measurements, we used a Rohde & Schwarz FSH6
(model .26) Handheld Spectrum Analyzer [25] (100 kHz –
6 GHz) with an Empf¨anger receiver, made for measuring
signals between 500–3000 MHz band. The center frequency in
the measurements was 2.4425 GHz and the channel bandwidth
was 85 MHz. Figures of power characteristics were captured
382
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 2: The layout of our research laboratory used in the experiments, drawn using Room Arranger. [26]
with FSHRemote Program [25]. The same spectrum analyzer
was successfully used also in our previous research work on
ZigBee and Bluetooth interference measurements [27]. The
equipment used is illustrated in Figure 4.
Path-loss was tested at distances of 1, 3 and 6 meters. The
received signal strength and average packet loss was measured
at these distances with clear LOS.
Tests revealed that on a 1 meter distance, using the Friis
equation as an estimate for the reference distance, will not
give a realistic value compared to the measurements. On the
ﬁrst hardware setup [22], an estimated received signal strength
of −44 dBm versus an actual received signal of −77 dBm
was observed. On the second hardware [23], the difference
between the estimate and the measurements at the reference
distance was smaller: an estimated received signal strength of
−44 dBm versus an actual received signal of −48 dBm was
observed.
However, when the measured path-loss at the reference
distance was used instead of the Friis equation value, the
estimates became accurate to ±2 dBm at the distance of 3
383
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 3: Spectrum analyzer output from the laboratory: Three non-overlapping channels used by WLAN networks can be seen
as pronounced humps. The spike marked with the vertical line is a ZigBee device transmitting on channel 11. The spectrum
range of this image is from 2400 MHz to 2485 MHz encompassing the entire ZigBee range.
and 6 meters. An average received signal strength at 3 meters
was −86 dBm on the ﬁrst setup and −58 dBm on the second.
At 6 meters, a signal strength of −92 dBm on the ﬁrst set
and −62 dBm on the second set was observed. This suggests
that the use of the path-loss exponent values available (for
example in [24]) work adequately. However, the determination
of the loss at the reference distance leaves something to
be desired. Using the equation for free space loss does not
account additional loss caused already on 1 meter distance, or
by the hardware used. Therefore, the reference distance must
be modeled more accurately even for simulations.
It is worth noting that the signal strength at 6 meters on
the ﬁrst setup was actually below the announced receiver
sensitivity limit of the ZigBee-enabled device used, although
the manufacturer’s speciﬁcation promises a link distance of
10 – 30 meters for indoor environments. Due to the use of
the small integrated antenna, the overall link distance was not
nearly as good as when using the devices equipped with larger
antennas in the second setup.
Tests conclude that the log-distance path-loss model re-
quires either actual reference distance measurements or a more
accurate estimate than what the Friis equation can provide in a
short range indoor environment. Using the model to get more
realistic link estimates in TOSSIM simulations has been tested
with some success in [28]. However, if a path-loss model is
based solely on the distance between the nodes with an average
modiﬁer for additional loss caused by the environment, the
model cannot function in a changing environment. A path-
loss model, used in an indoor network simulation with mobile
nodes, needs information whether the LOS between the nodes
is clear or not.
Other, more sophisticated attenuation models are also avail-
able. Our focus in this paper is on small-scale indoor networks.
Therefore, models accounting for multipath reception are
especially relevant. Two models are prominent in especially
this regard: Rayleigh fading and Rician fading. Rayleigh
fading assumes that the majority of the signal is composed
of Non Line of Sight (NLOS) multipath signals without a
dominant LOS signal available. In Rayleigh fading, the signal
is assumed to contain a degree of scattering and jitter caused
by the multitudes of reﬂected signals, and it is modeled using
Gaussian distribution. Rician fading is otherwise similar, but
a dominant LOS signal complemented by multipath signals
is assumed. Rayleigh fading is suitable especially in heavily
built urban areas, while Rician fading might be more suitable
to our focus area. [24]
IV. FRESNEL ZONE MODELING
Whether two communicating devices have a clear LOS to
each other or not is signiﬁcant in predicting the signal loss
384
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 4: Rohde & Schwarz FSH6 (model .26) Handheld Spec-
trum Analyzer [25] with an Empf¨anger receiver was used in
our research laboratory experiments.
between them. For this, the Fresnel zone equation can be
useful [24]:
Fn =
r
nλd1d2
d1 + d2
(3)
In the equation, Fn is the radius of the n:th Fresnel zone
at the point where the distance from the transmitter is d1 and
the distance to the receiver is d2, while λ is the transmission
wavelength. Our interest is in the ﬁrst Fresnel zone, as it can
be used to determine if a clear LOS exists between the two
devices.
The ﬁrst Fresnel zone forms an ellipsoid between the two
antennas with the high point being in the middle, where
d1 = d2 (see Figure 5). If the zone is at least 55 % free
of obstruction, the LOS can be considered free. If the LOS
is obstructed, the path-loss calculations should be adjusted
accordingly. We experimented on the validity of the model in
our research laboratory by placing a partially blocking metal
barrier between the devices at 3 and 6 meter link distances.
Initially the results seemed valid with attenuation between the
devices increasing as the barrier blocked a greater portion
of the Fresnel zone. These experiments were conducted with
the Nanorouter devices. However, further experiments using
the CC2530 radios with more efﬁcient antennas revealed that
multipath propagation is a signiﬁcant factor in the results. This
time, when we used the partition to block the line of sight
between the devices, we failed to notice an appreciable change
in the received signal strength. This is likely due to multipath
propagation occurring in the laboratory. Tests with the Fresnel
Zone equation conclude that multipath propagation makes
reliable experimenting on the model in an indoor environment
difﬁcult, if a signal traveling by the shortest path between
the devices cannot be distinguished from a multipath signal.
However, it does not mean that using the model as a simulation
tool is pointless in an indoor network.
A wireless network simulation using the Fresnel zone in an
outdoor environment has been implemented in [29] by using
the ns-2 simulator. However, the required calculations were
processor intensive and required a long time to complete. This
is an issue that needs to be addressed as sensor networks, even
in indoor link distances, transmit a great volume of packets
with a large number of non-static nodes. However, the system
resources of modern computers continue to increase rapidly.
Thus, even the most processor intensive calculations become
possible over time. Unless a method distinguishing direct
signals from indirect multipath signals is available, multipath
propagation must be taken into account in the modeling. In
practice, it means performing the Fresnel calculations not only
to the direct signal, but also to reﬂected signals.
Using the Fresnel zone in a simulation is not effective
unless a 3D simulation environment is available. In a 2D
simulation, it is not possible to apply the equation in a realistic
manner. Therefore, we need a 3D sensor network simulation
environment.
V. SIMULATION PROBLEMS
Our proposal, a novel 3D-based network simulation plat-
form for wireless indoor networks, is intended to address many
problems found in the ﬁeld of WPANs.
First and foremost, the physical properties of radio wave
propagation in WPANs are not simulated in a way that a
developer would ﬁnd very useful. Simulators with 2D-based
simulation and visualization qualities, such as TOSSIM, are
available. However, we feel that a simulation limited to only
2D representation is an oversimpliﬁcation, albeit a convenient
one.
2D spatial representation limits the modeling methods that
can be used to create more accurate estimations of the behavior
of radio waves. The Fresnel zone cannot be modeled in a
2D space nor the effects of many objects interfering with
the transmission. Moreover, the visualization and handling of
networks in multi-ﬂoor buildings becomes difﬁcult in a 2D
model.
Furthermore, wave reﬂection such as ray-tracing, which
could be used for the beneﬁt of physical modeling, cannot
be effectively used in 2D spaces either. Two dimensional ray-
tracing may have been used for the purposes of radio wave
propagation prediction, but using two dimensional ray-tracing,
although useful in heavily built urban areas and large scale
models, is too simplistic to be useful in small scale indoor
environments.
3D-based simulation is available in the form of, for example,
Actix’s Radioplan RPS software [30], which makes some
of the proposed features available. For example, using ray-
tracing and designing 3D-spaces is possible. It provides a good
385
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 5: The Fresnel Zone.
starting point, on which to take example of when designing a
more full-bodied simulator. [30]
VI. NOVEL 3D SIMULATION ENVIRONMENT
To make 3D sensor network simulations plausible for de-
velopment and administration, a common platform should be
established. Our platform is independent from sensor network
technologies themselves: it can be conﬁgured for a wide
variety of devices on the market. Next we will go through
the properties of the proposed system and present an outline
of its structure.
The simulation platform is a base component running the
simulation of the properties of radio communication and
phenomena of the physical space. This platform component is
connected to separate components running virtual devices rep-
resenting wireless network nodes and other applicable devices.
The user interface of the platform is also a separate component
interfacing with the platform so that maximum ﬂexibility
in modifying the system is achieved. The component based
model along with the central functions of each component is
illustrated in Figure 6.
Section VI-A describes the simulation platform component.
The user interface component is explained in Section VI-B.
Section VI-C describes the virtual device component. Finally,
Section VI-D explains how to use the simulation environment
for studying and modeling the propagation of radio waves.
A. Simulation Platform Component
The simulation platform component contains the simulation
of the physical world. It contains the three dimensional space,
in which all objects and devices are placed. This space contains
the physical phenomena and characteristics the real world
does: temperature, moisture, lighting, and the passage of time.
Gaussian white noise is generated to account for background
noise, which may negatively impact on connectivity. Every-
thing that affects on the radio communication or sensor data
of devices within the simulation should be implemented as
realistically and feasible as possible. Aspects, such as lighting,
may not affect on radio communication, but they are useful
for simulating sensor stimulae with the device components.
The environment must be able to simulate different physical
mediums. A variety of materials will all be implemented
with appropriate effects on radio waves, and the simulation
of radio waves is the most important aspect of the proposed
environment.
A radio wave traveling through an indoor environment is
subject to many effects, which should be accounted for in an
accurate three dimensional simulation. A signal will attenuate
over distance. A wave coming into contact with an object will,
depending on the situation, experience reﬂection, diffraction or
scattering.
Reﬂection is caused by the wave coming into contact with
objects, which have much larger dimensions compared to
the wavelength of the transmitted wave. For the 2.4 GHz
ISM (Industrial, Scientiﬁc, and Medical) frequency band, the
wavelength is approximately 12.5 centimeters, so an object
need not be large to cause reﬂection. When a reﬂection occurs,
the wave will change its direction much in the same way as
a wave of light would do, and it possibly lose a part of its
energy depending on the object.
Diffraction occurs when the transmitted wave comes into
contact with obstructions with sharp edges, such as corners.
In indoor environments these features are understandably
common and thus diffraction must be accounted for in the most
accurate systems. Diffraction causes the transmitted wave to
bend around the edge and form secondary waves.
Wave scattering is caused by objects smaller than the
wavelength of the frequency of the wave. Objects like this
are also common in indoor environments. A scattered signal
multiplies and reﬂects in a fashion that is very difﬁcult to
model accurately, and it is usually represented by a gaussian
multipath effect.
Reﬂection, diffraction and scattering all affect on how far
the signal of a radio device will carry, how long it travels
and how strong the signal will be in the point of reception.
Several different methods of modeling the behavior of radio
signals are available with a variety of accuracy, some of which
have been presented in this paper.
The behavior of signals can be modeled by using, for
example, ray-tracing in a three dimensional space. Ray-tracing
is a method, in which the path of the ray is plotted in three
dimensional space by utilizing vectors. The ray is traced
through the medium and its direction and strength is modiﬁed.
In three dimensional indoor radio wave propagation, ray-
tracing can be utilized by using ray tubes emanating from a
transmitter. This tube expands over distance in a way a signal
would spread, and the ray tube can be reﬂected, multiplied
and passed through obstacles appropriately. This has been
tested with success, for example, in [31]. The receiver is
surrounded by a sphere having the contact with a ray tube
and receiving the transmitted signal, which strength should be
strong enough for decoding. As such, accounting for reﬂected
386
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 6: A component model outline of the proposed platform with a list of its central features.
387
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

signals is possible with ray-tracing and has also been tested,
for example, in [32]. A ray-tracing model should be optimized
so that a minimum of computation is required for sufﬁciently
accurate simulation. For accurate ray-tracing, a large amount
of ray tubes need to be sent to every direction from the
transmitter, but rays becoming irrelevant to the simulation can
be eliminated. For example, the simulation system can keep
track on the distance the ray has traveled and apply path-loss
calculations on when the transmitted signal strength weakens
beyond the receiver sensitivity of the receiving devices, and
eliminate such rays. Rays traveling beyond the simulated
spacial domain may also be removed. If the computation still
proves to be too demanding, rays which have reﬂected for a
certain amount of times may be eliminated. [33]
B. User Interface Component
The user interface component should contain the tools
for viewing and manipulating the simulation. The user can
design an indoor environment, select wall materials, and place
objects, such as furnitures, from a library of premade generic
items. The tools make it possible to model an entire building
with objects inside. Alternatively, it should be possible to use
a simpliﬁed attenuation model instead of placing objects by
deﬁning properties to a room. For example, a room could be
deﬁned to be ”a room with ofﬁce furniture” and the model
could adjust attenuation properties accordingly so that users
content with a simpler modeling solution can save time in
layout design.
The user can then select the modeling algorithms used
for the simulation or optimally, import one manually. For
example, the log normal path-loss model presented earlier
could be used for path-loss calculation and ray-tracing and
Fresnel zone determination to bring additional accuracy to
account for multipath signals and partially blocked line of
sight. The simple path-loss model could be easily substituted
with Rayleigh or Rician fading. Signals traveling through
walls and large objects will suffer additional attenuation with
their own speciﬁc attenuation factors based on the material
of the medium. The user can also manipulate the passing of
time, as fast forwarding or slowing down time to observe the
simulation in action, which can be beneﬁcial. A suitable 3D-
engine will be used to present the ﬁnal model in operation.
C. Virtual Device Component
The device components will be virtual devices interfacing
with the platform. The device component will be responsible
for the inner workings of a network device. Program code
working on an actual device should be made to work on
the virtual device with as little modiﬁcations as possible.
The virtual device will communicate with the platform via
its interface by sending and receiving radio signals and by
receiving sensor stimulae from the simulation environment.
The device could, for example, sample its temperature sensor
and receive a temperature value present in the simulation
platform in the coordinates of the device. As part of the
interface, the device will have to be able to provide for the
simulation platform not only the messages it sends but also
the frequency used, the signal strength of the transmitted
signal, and antenna characteristics, such as antenna gain and
receiver sensitivity. Transmission methods, such as DSSS,
will have to be considered and functions, such as Clear
Channel Assessment (CCA), supported. The creation of the
virtual devices for different types of wireless devices is left
to third party developers and interested parties wishing to
add support for a certain device. Support for virtual serial or
Universal Serial Bus (USB) communication for further levels
of simulation can be considered.
D. Platform in Operation
Once the simulation environment is set with required struc-
tural elements and objects in place, and the radio wave models
chosen, the device components can be started up much in
the same way as in the real world. The user controls the
speed, in which the time progresses and the devices should
resume same functions they would do in reality. During the
simulation, the user has access to debug tools displaying the
trafﬁc of transmitted signals and a graphical representation of
the ﬂow of radio messages. A message packet transmitted from
a device is stored and the chosen attenuation/ray-tracing model
determines the devices that are reached. The packet is then
transferred to those devices and the device component will
determine independently how to react on it. Messages arriving
below a device’s receiver sensitivity level are not transferred.
This enables debugging of a network on a level that is not
available in most simulators.
Although the creation of a simulation with all the objects
and properties of 3D space can be time consuming, the
advantages of using such a system can outweigh the additional
work required. Figure 7 illustrates a mock-up of what the
simulated space would look like on a platform.
An important aspect of the simulator is the possibility to test
the code during the development. As in TOSSIM, developers
can test their programs before installing them on real devices.
This saves time and effort since it is much easier to test a
new piece of code virtually than to deploy a real life network
to see the results. However, TOSSIM does not support ad-
hoc network connections. All connections are predetermined
manually at a certain received signal strength and as such
the simulation is lacking the ability to determine whether the
tested program operates as required or not.
By using the proposed simulation platform, the designing
of network deployment becomes easier. It would help those
responsible for the deployment of the network, if they can
see how densely the devices should be deployed to achieve
optimal network coverage. By testing ad-hoc networking and
getting a sufﬁciently realistic estimate on required amount of
nodes, the optimal density can be achieved.
Developers can also stress test the network to make sure
it works when a lot of activity is present. Great amounts of
network trafﬁc in the same frequency can cause transmission
problems, which are difﬁcult to predetermine. Foreseeing
trafﬁc problems in the design and development phase can save
money, as it is done before committing funds to sensor devices
because a fairly accurate amount of required nodes can be
determined.
388
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Fig. 7: Mock-up of a 3D simulation space, drawn by using Room Arranger. [26]
The simulation platform could also be used in conjunction
with real world data. By replacing device components with
the message ﬂow of actual devices from, for example, packet
sniffer data and with the radio model removed in the favor
of actual on-site information of received signal strengths, one
can create a network visualization tool of an actual network for
administration purposes. A network consisting of hundreds or
even thousands of nodes, perhaps in a large building complex,
is difﬁcult to monitor. Administrators can use the simulator
tools in conjunction with actual data ﬂow of the deployed
network to oversee connectivity and diagnose problems more
easily. The visualization would also help in tracking mobile
nodes, but would require accurate positioning methods.
Visualizations of radio nodes in two dimensional networks
are commonly shown as circles describing the maximum
link distance available. This method of visualization is often
observed, for example, in wireless locationing, since the loca-
tioning algorithms are often based on calculations using circle
geometry. This is an oversimpliﬁcation especially indoors,
since the range of the available radio link changes dramatically
based on the physical medium the wave is in contact with.
By using the simulation environment to study and model
the propagation of radio waves, it might be possible to design
better positioning algorithms by using methods such as ray-
tracing. Moreover, since a 3D space is used, modeling of
the Fresnel zone becomes possible in the determination of
LOS between two devices, and this can potentially be used to
improve the accuracy of path-loss calculations.
VII. CONCLUSION AND FUTURE WORK
A novel 3D-based network simulation platform for wireless
indoor networks was proposed based on a project under
design and development. Moreover, radio propagation models
were investigated by performing path-loss calculations and
Fresnel zone geometry estimation in our research laboratory
environment.
In our experiments, we tested the feasibility of using the
path-loss equation and Fresnel zone calculations in small scale
indoor environments. The usage of the Friis free space loss
equation proved inaccurate in determining path-loss at the
reference distance of one meter due to the hardware used and
the environmental factors unaccounted for by the equation as
discussed in Section III.
By using measured reference loss values in a laboratory
environment, the inaccuracies were eliminated and the simple
path-loss equation became a reliable method in predicting
path-loss under the test conditions. Tests with the Fresnel zone
equation suggest that it can be used to create more precise
path-loss predictions in the proposed environment once the
effect of multipath signals can be accounted for, as discussed
in Section IV.
The simple path-loss equation can be used to simulate the
weakening of a radio signal in indoor environment when it
is combined with real world test data for the reference loss.
The Fresnel zone equation with multipath signals taken into
account can be used to analyze whether obstruction between
simulated nodes is enough to warrant further loss to the
signal. Therefore, both equations should be implemented in
the simulation environment.
We stress that the simulation environment proposed in this
paper is the result of a pen and paper feasibility study, and
not yet a realized software. We are in the initial stages of
development of the prototype for the simulator and as such,
there are no system validation results nor is the prototype
available for scrutiny. However, we strongly believe that the
proposed idea is of technical and scientiﬁc relevance and
interest already at this point of its development.
During our research work, we found out that a design and
389
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

simulation environment, such as our novel 3D-based network
simulation platform for wireless indoor networks, is sorely
needed for improving effective sensor network design, simu-
lation and implementation. The rapidly increasing capabilities
of computing create new possibilities to model and simulate
physical radio wave properties more accurately using very
intricate and sophisticated methods. A generic, standardized
platform would be required for the sake of greater interoper-
ability between different technologies within the platform.
To summarize, the potential key beneﬁts of the simulation
platform are:
• Easier testing of code in development.
• More efﬁcient network deployment design and visualiza-
tion.
• Simulated network stress testing.
• Administrative uses in conjunction with real world data.
• Scientiﬁc modeling purposes.
A logical next step in our future research work is to create a
prototype of a 3D simulation environment by combining exist-
ing simulators and available 3D modeling software. A proper
implementation of the simulation framework is necessary to
evaluate the validity of the proposed system. We will also look
into other models to use in simulating path-loss and assess
their validity for small scale indoor use. Our further experi-
ments on radio propagation models and positioning algorithms
will ultimately show how much beneﬁt the platform can create
for design, simulation and implementation of wireless sensor
networks.
REFERENCES
[1] M. Asikainen, M. R¨onkk¨o, K. Haataja, and P. Toivanen, ”A Novel 3D-
Based Network Simulation Platform for ZigBee Networks,” in Interna-
tional Conference on Networking, pp. 151-156, 2010 Ninth International
Conference on Networks, 2010.
[2] G. Anastasi, A. Falchi, A. Passarella, M. Conti, and E. Gregori,
”Performance Measurements of Motes Sensor Networks,” in Proceed-
ings of the 7th ACM International Symposium on Modeling, Analysis
and Simulation of Wireless and Mobile Systems, Venice, Italy, Oct. 4–6,
2004, pp. 174–181.
[3] I. Essa, ”Ubiquitous Sensing for Smart and Aware Environments,” IEEE
Personal Communications, vol. 7, no. 5, pp. 47–49, Oct. 2000.
[4] L. Jiang, D. Liu, and B. Yang, ”Smart Home Research,” in Proceed-
ings of the IEEE International Conference on Machine Learning and
Cybernetics, vol. 2, Aug. 26–29, 2004, pp. 659–663.
[5] C. Chee-Yee and S. Kumar, ”Sensor Networks: Evolution, Opportuni-
ties, and Challenges,” in Proceedings of the IEEE, vol. 91, no. 8, Aug.
2003, pp. 1247–1256.
[6] I. Akyildiz, W. Su, Y. Sankarasubramaniam, and E. Cayirci, ”Wireless
Sensor Networks: a Survey,” Computer Networks, Elsevier, vol. 38, no.
4, pp. 393–422, Mar. 15, 2002.
[7] T. Laavola, ¨Alytalot, Master’s thesis, University of Kuopio, Department
of Computer Science, 2008.
[8] T. Laavola, K. Haataja, J. Mielik¨ainen, and P. Toivanen, ”Designing
and Implementing an Intelligent X-10-Enabled Home: Studies in Home
Intelligence,” in Proceedings of the IEEE Fourth International Con-
ference in Central Asia on Internet, The Next Generation of Mobile,
Wireless and Optical Communications Networks, Tashkent, Uzbekistan,
Sep. 23–25, 2008.
[9] A. Mainwaring, D. Culler, J. Polastre, R. Szewczyk, and J. Anderson,
”Wireless Sensor Networks for Habitat Monitoring,” in Proceedings
of the ACM International Workshop on Wireless Sensor Networks and
Applications, Atlanta, Georgia, USA, 2002, pp. 88–97.
[10] F. Randy, Understanding Smart Sensors, Boston, MA, Artech House,
2000.
[11] Y. Choi, M. Gouda, M. Kim, and A. Arora, ”The Mote Connectivity
Protocol,” in Proceedings of the 12th IEEE International Conference
on Computer Communications and Networks, Dallas, Texas, USA, Oct.
20–22, 2003, pp. 533–538.
[12] E. Tapia, S. Intille, and K. Larson, ”Activity Recognition in the Home
Using Simple and Ubiquitous Sensors,” Lecture Notes in Computer
Science, vol. 3001, pp. 158–175, 2004.
[13] M. Asikainen, K. Haataja, R. Honkanen, and P. Toivanen, ”Designing
and Simulating a Sensor Network of a Virtual Intelligent Home Using
TOSSIM Simulator,” in Proceedings of the Fifth IEEE International
Conference on Wireless and Mobile Communications, Cannes, La Bocca,
France, August 23–29, 2009, pp. 58–63.
[14] M. Asikainen, H¨airi¨omallinnus ja kentt¨atestit IEEE 802.15.4 -verkoissa,
Master’s thesis, University of Kuopio, Department of Computer Science,
2009.
[15] P. Levis, N. Lee, M. Welsh, and D. Culler, ”TOSSIM: Accurate and
Scalable Simulation of Entire TinyOS Applications,” in Proceedings
of the ACM International Conference on Embedded Networked Sensor
Systems, Los Angeles, California, USA, 2003, pp. 126–137.
[16] L. Perrone and M. Nicol, A Scalable Simulator for TinyOS Applications,
Institute for Security Technology Studies, 2002.
[17] J. Thomsen and D. Husemann, ”Evaluating the Use of Motes and
TinyOS for a Mobile Sensor Platform,” in Proceedings of the IASTED
International Conference on Parallel and Distributed Computing and
Networks, Innsbruck, Austria, Feb. 14–16, 2006.
[18] UC Berkeley, TinyOS Community Forum. [Online]. Available: http://
www.tinyos.net. [Accessed Jan. 12, 2011].
[19] TinyOS Tutorials. [Online]. Available: http://docs.tinyos.net/index.php/
TinyOS Tutorials. [Accessed Jan. 12, 2011].
[20] L. Rayleigh, ”On the Resultant of a Large Number of Vibrations of the
Same Pitch and of Arbitrary Phase,” Phil. Mag., vol. 10, pp. 73–78,
Aug. 1880 and vol. 27, pp. 460–469, Jun. 1889.
[21] ZigBee Alliance, ZigBee speciﬁcations. [Online]. Available: http://www.
zigbee.org. [Accessed Jan. 12, 2011].
[22] Sensinode, NanoStack Manual Version 1.1.0. [Online]. Available: http://
www.sensinode.com/EN/news/nanostack-v1.1.0-release.html. [Accessed
Jan. 12, 2011].
[23] Texas Instruments, CC2530 Datasheet–A True System-on-Chip Solu-
tion for 2.4-GHz IEEE 802.15.4 and ZigBee Applications. [Online].
Available: http://focus.ti.com/lit/ds/symlink/cc2530.pdf. [Accessed Jan.
12, 2011].
[24] T. Rappaport, Wireless communications: Principles & Practice, Prentice
Hall, USA, 1996.
[25] Rohde & Schwarz, R&S FSH6 (model .26) Handheld Spectrum Ana-
lyzer. [Online]. Available: http://www2.rohde-schwarz.com/en/products/
test and measurement/spectrum analysis/frequencies. [Accessed Jan.
12, 2011].
[26] J. Adamec, Room Arranger. Shareware version of the software. [Online].
Available: http://www.roomarranger.com. [Accessed Jan. 12, 2011].
[27] J. Suhonen, K. Haataja, N. P¨aivinen, and P. Toivanen, ”The Effect of
Interference in the Operation of ZigBee and Bluetooth Robot Cars,”
in Proceedings of the Fourth IEEE International Conference in Central
Asia on Internet, The Next Generation of Mobile, Wireless and Optical
Communications Networks, Tashkent, Uzbekistan, Sep. 23–25, 2008.
[28] C. Suh, J-E. Joung, and Y-B. Ko, ”New RF Models of the TinyOS
Simulator for IEEE 802.15.4 Standard,” in Proceedings of the IEEE
Wireless Communications and Networking Conference, Hong Kong,
Mar. 11–15, 2007, pp. 2236–2240.
[29] A. Dzambaski, D. Trajanov, S. Filiposka, and A. Granov, ”Ad Hoc
Networks Simulations with Real 3D Terrains,” in Proceedings of the
15th Telecommunications Forum, Serbia, Belgrade, Nov. 20–22, 2007.
[30] Radioplan, RPS Radiowave Propagation Simulator User Manual Ver-
sion 5.4. [Online]. Available: http://www.actix.com. [Accessed Jan. 12,
2011].
[31] C-F. Yang, B-C. Wu, and C-J. Ko, ”A Ray-Tracing Method for Modeling
Indoor Wave Propagation and Penetration,” IEEE Transactions on
Antennas and Propagation, vol. 46, no. 6, Jun. 1998.
[32] Z. Ji, B-H. Li, H-X. Wang, H-Y. Chen, and T. Sarkar, ”Efﬁcient
Ray-Tracing Methods for Propagation Prediction for Indoor Wireless
Communications,” IEEE Antennas and Propagation Magazine, vol. 43,
no. 2, Apr. 2001.
[33] H. Kim and H. Ling, ”Electromagnetic Scattering from an Inhomoge-
neous Object by Ray-Tracing,” IEEE Transactions on Antennas and
Propagation, vol. 40, no. 5, May 1992.
390
International Journal on Advances in Networks and Services, vol 3 no 3 & 4, year 2010, http://www.iariajournals.org/networks_and_services/
2010, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

