VLC Footprint maps for Positioning and Guidance 
 
Paula Louro, Manuela Vieira, Manuel Augusto Vieira  
DEETC/ISEL/IPL 
R. Conselheiro Emídio Navarro, 1959-007  
Lisboa, Portugal 
 
 
CTS-UNINOVA  
Quinta da Torre, Monte da Caparica, 2829-516,  
Caparica, Portugal 
e-mail: plouro@deetc.isel.pt, mv@isel.ipl.pt, 
mvieira@deetc.isel.pt  
 
 
Abstract— Visible Light Communication (VLC) is currently a 
research topic due to the possibility to handle the general, 
worldwide demanding need for communication. VLC uses Light 
Emitting Diodes (LED), operating in the visible part of the 
electromagnetic spectrum, as optical sources for optical wireless 
communication. The technology simultaneous lighting and 
communication, providing high data rates, reliability and a 
secure data transmission compared to other wireless 
technologies (such as Wi-Fi). This paper explores the use of VLC 
to establish different optical communication links for 
bidirectional 
communication 
between 
vehicles 
and 
infrastructures, using 2 links, namely Infrastructure-To-Vehicle 
(I2V) and Vehicle-To-Infrastructure (V2I) communication. The 
proposed application uses VLC to support autonomous 
navigation of mobile robots inside an automated warehouse, 
providing guidance and management services. Specific coding 
schemes are used in each optical link. In the I2V link, RGB white 
LEDs are used to allow simultaneous modulation of the emitters 
embedded in each LED, which enables wavelength division 
multiplexing of the transmitted optical signals. The detection is 
based on an a-SiC:H pin-pin photodetector with tunable 
sensitivity in the visible range. Different indoors communication 
scenarios are presented and bit error rate is discussed using a 
parity check bits for error control.  
Keywords- Visible Light Communication; Indoor guidance; 
White LEDs; Lambertian model; navigation cell. 
I. 
INTRODUCTION 
Indoor positioning can be addressed by several 
techniques, such as Wi-Fi, Assisted GPS (A-GPS), Infrared, 
Radio Frequency Identification (RFID), and many other 
technologies [1][2]. Visible Light communication (VLC) is 
also an alternative, enhanced accuracy technology. VLC 
operates with visible light extending from 400 nm up to 750 
nm [3][4]. VLC systems use modulated LEDs to transmit 
information [5]. Due to its characteristics, LEDs [6] can be 
switched very fast to produce modulated light in high 
frequencies, allowing data transmission in high speed. For 
lighting purposes, energy saving demands the use of white 
LEDs [7][8], either based on blue emitter coated with a 
phosphor layer or based on polychromatic emitters. 
Phosphor-based LEDs usually consist of a blue LED chip 
covered in a yellow phosphor layer. Due to the long 
relaxation time of the phosphor, when this LED is used for 
VLC, the modulation bandwidth is limited, thereby limiting 
the transmission capacity. Using a blue filter before the 
receiver unit can increase the LED modulation bandwidth by 
eliminating the slow response of the yellow light component 
[9][10]. Although tri-chromatic LEDs are more expensive, 
they provide more bandwidth due to the independent 
modulation of each chip of a monolithic device. 
The receiver unit of VLC systems usually include silicon 
based photodiodes, as these devices operate in the visible 
region of the spectrum, or CMOS image sensors [11][12]. 
In this paper we propose the use of a multilayered a:SiC:H 
[13] [14] device to perform the photodetection of the optical 
signals generated by white trichromatic RGB LEDs [15], 
[16]. The system was designed for positioning and guidance 
[17][18], and the transmitters of each white LED were 
specifically modulated at precise frequencies and coding bit 
sequences [19][20].  
The proposed lighting and positioning/guidance system 
involves 
wireless 
communication, 
computer 
based 
algorithms, smart sensor and optical sources network, which 
constitutes a transdisciplinary approach framed in cyber-
physical systems. 
The paper is organized as follows. After the introduction 
(Section I), the general description of the system is presented 
in Section II. In Section III, the communication protocol and 
the encoding/decoding techniques are analyzed and 
discussed. At last, conclusions are addressed in Section IV. 
II. 
VLC SYSTEM GENERAL DESCRIPTION 
The VLC system is composed by the transmitter and the 
receiver modules, located at the infra-structure and at the 
mobile vehicle. Two optical links are established between the 
lamps and the vehicles, for I2V and V2I transmission. The 
optical source of the transmitter at infrastructure consists of 
four white RGB LEDs, while at a vehicle it is a multicolor 
LED or a single-color LED placed at the top. The sensor 
device used for the detection of the optical signals is a 
monolithic heterojunction composed of two pin structures 
[21]. As a result of its narrow thickness (200 nm) and higher 
bandgap (2.1 eV), the front pin a-SiC:H photodiode is 
responsible for the device's sensitivity to short wavelengths 
of the visible range (400 - 550 nm). The back pin a-Si:H 
structure operates in the complementary past of the visible 
range, collecting the long wavelengths (520 nm - 700 nm) 
[22]. The illumination window is established on the front 
25
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-987-4
ALLSENSORS 2022 : The Seventh International Conference on Advances in Sensors, Actuators, Metering and Sensing

photodiode. The use of steady state light as background light 
provides an enhancement of the electrical field of the front 
pin photodiode and the amplification of the generated 
photocurrent signal due to long wavelength light.  
A. Transmitter configuration 
For every channel of the I2V and V2I links, synchronous 
transmission based on a 64 bits data frame was used. In 
Figure 1, it is displayed the configuration of the LED lamp 
with four RGB white LEDs used in the I2V link. A uniform 
white light is provided in the indoor area by all three emitters 
(red, green, and blue). However, only specific emitters are 
modulated at a frequency imperceptible to the human eye. 
Each of these lamps illuminates an area with full radial 
coverage as shown in Figure 1.  
 
Figure 1. Configuration of the VLC emitter: a) 4 RGB white LEDs; b) 
coverage area of each modulated emitter. 
The illuminated area corresponds to the coverage area of 
each lamp, defining a unit cell for the vehicle navigation 
along the space. The modulated emitters are the red junctions 
of the LEDs placed at the left side and the blue junctions of 
the LEDs at the right side.  
B. Footprint map 
In each unit navigation cell, any receiver will be able to 
identify the emission lamp and make a correspondence to the 
spatial position inside the warehouse. By modulating the red 
and blue emitters of each lamp, the optical pattern created 
within each navigation cell can enhance position accuracy. 
Inside the navigation cell, top emitters (labelled R and B) 
point north, bottom emitters (R' and B') point south, and left 
(R and R') and right (B and B') emitters point west and east, 
respectively. Based on this assumption, the RB’ optical 
pattern corresponds to the north direction, R’B’ to the south, 
RR’ to the west and BB’ to the east. The intercardinal 
directions inside the navigation cell correspond to RR’B 
(northwest), RBB’ (northeast), RR’B’ (southwest) and 
R’BB’ (southeast).  
Using adjacent LED lamps to light the indoor space, 
different navigation cells are enabled by each lamp. Every 
navigation cell contains 3 racks in each direction (forward 
and reverse) of the movement. The information transmitted 
by each set of four RGB LEDs includes the spatial location 
and information on the available items of the racks under 
their coverage area. 
C. Coding 
In Figure 2, it displayed the data frame structure the bi-
directional communication I2V and V2I. 
a) 
b)  
Figure 2. Data frame structure the communication: a)  I2V and b) I2V 
channels. 
Data frames are words of 64 bits composed each of six 
blocks. First and last blocks, labelled respectively as SoT and 
EoT are used to trigger synchronization of the transmitter and 
receptor in each link.  
In the I2V link, there are also the blocks CELL ID, 
POSITION, RACK and MESSAGE. Identification of the unit 
cell is given by the block CELL ID. The format of the word 
code is 0XXXX00YYYY0, where XXXX addresses the line 
and YYYY the column of the unit navigation cell. Block 
POSITION provides information about which emitters are 
being detected by the mobile vehicle and thereby enables the 
vehicle to know its relative position within the navigation 
cell. The block RACK contains information about the stock 
stored inside the rack, addressing different sections. The 
MESSAGE block (32 bits) enables the possibility of 
transmitting a random message to the vehicle. 
In the V2I link, a single LED is used to transmit 
information from the vehicle to the infrastructure, namely 
information about items being removed from the rack within 
the navigation cell to the shipping station. The code word 
contains the blocks ROBOT ID, CELL ID, RACK and 
MESSAGE, besides SoT and EoT blocks. The blocks 
ROBOT ID and CELL ID encode the identification of the 
transmitting vehicle and of the receiver infrastructure, The 
RACK block identifies the specific rack from where items are 
being removed and the MESSAGE block encodes the item 
and quantity being removed. 
III. RESULTS AND DISCUSSION 
In the V2I link, a single emitter is used to transmit 
information from the mobile robot to the LED infrastructure. 
In Figure 3, it is displayed the output signal due to the optical 
signal transmitted by the mobile robot after removing items 
from a specific rack. On the top it is displayed the optical 
signal with the transmitted bit sequence. As this V2I link uses 
a single emitter is used in this link, the photocurrent signal, 
when under line of sight condition, follows the pattern of the 
single transmitted optical signal. Thus, decoding is a simple 
process, limited only by the photodiode sensitivity at low 
illumination conditions. 
 
26
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-987-4
ALLSENSORS 2022 : The Seventh International Conference on Advances in Sensors, Actuators, Metering and Sensing

0
2
4
0,0
0,5
1,0
1,5
2,0
RED
LED
V2I Channel
SoT
4
4
1011
3
001010000100
2
ROBOT ID
(8 bits)
CELL ID
(12 bits)
RACK
(4 bits)
MESSAGE
820 bits)
1
1100 01100110
3
2
1
EoT
 
 
Photocurrent (a.u.)
Time (ms)
 
Figure 3. Output signal transmitted by the robot to the infrastructure after 
removal of items from the rack. On the top it displayed the transmitted 
optical signal. 
As shown in the figure, bits in red color, either set to 1 or 
to 0, cannot be changed in this channel. Bits in black color 
are those that define the specific communication conditions. 
In this case, the blocks of the coded 64-bits word can be easily 
decoded. Bits of the ROBOT ID are 01100110, 
corresponding to the identification code 118 (decimal 
representation). The CELL ID provides for the decoded bits, 
the number 001010000100, which corresponds to line 5 and 
column 2. Bits of the RACK block are 1011, representing that 
items from the first and third racks were removed when the 
vehicle moved in the forward lane. 
In the I2V link, the use of four emitters to transmit the 
coded information generates 16 photocurrents levels, 
assigned to 16 different optical excitations. These levels are 
dependent on the optical intensity at the reception end, 
however, its relative position is assumed to be constant. This, 
supports the use of a calibration curve to demultiplex the 
signal, decode the transmitted bits and enable identification 
of the input optical signals. In Figure 4, it is displayed the 
calibration curve, showing the 16 output levels assigned to 
each input optical state. The driving current of each LED 
emitter was adjusted to provide different levels of photo 
excitation.  
0
2
4
0
1
2
3
4
5
L00: OFF
L01: B'
L02: B
L03: BB'
L04: R'
L05: R'B'
L06: R'B
L07: R'BB'
L08: R
L09: RB'
L10: RB
L11: RBB'
L12: RR'
L13: RR'B'
L14: RR'B
L15: RR'BB'
 
 
Photocurrent (a.u.)
Time (ms)
B'
B
R'
R
 
Figure 4. Calibration photocurrent signal using two red and two blue 
optical signals (on the top it is displayed the waveform of the emitters 
modulation state). 
On the right side of the picture it is shown the label of the 
modulated emitters that correspond to each photocurrent 
level. The decoding methodology based on the calibration 
curve may result in some error mismatch when the 
photocurrent levels are too close. In order to increase the 
accuracy of the decoding task, bit error detection with parity 
check bits can be used. Parity bits (P1, P2, P3) assigned to the 
4 transmission channels (R, R’, B, B’) are evaluated using a 
simple algorithm that sums up the bits transmitted by 3 of the 
channels: 
P1 = R + R’ + B’ 
P2 = R’ + B + B’ 
P3 = R + B + B’ 
(1) 
In Figure 5, it is displayed the parity check bits evaluated 
by equation (1) for the transmission of the bit sequences 
plotted in The parity check bits sequences (P1, P2 and P3) are 
transmitted, respectively, by the R, R’ and B emitters. 
0
1
2
3
4
5
6
7
0
1
2
3
4
5
standard
 bits 
(16 states)
Parity 
check 
bits
Calibration signal
Control signal
B
R'
R
L00: OFF
L01: B'
L02: B
L03: BB'
L04: R'
L05: R'B'
L06: R'B
L07: R'BB'
L08: R
L09: RB'
L10: RB
L11: RBB'
L12: RR'
L13: RR'B'
L14: RR'B
L15: RR'BB'
 
 
Photocurrent (a.u.)
Time (ms)
B'
B
R'
R
 
Figure 5. Calibration data and correspondent error control signal obtained 
by the transmission of the parity check bits. 
Results show that the error control signal can be used to 
help on the decode process when photocurrent levels are very 
close. Under these circumstances, the use of parity check bits 
is able to detect and correct errors without the need to discard 
the transmitted data from the specific error bit and re-transmit 
it again. 
In Figure 6, it is displayed the photocurrent signal 
acquired along the forward lane at positions under the 
coverage of RR’BB’. In superposition it is displayed the 
calibration grid. At the top it is displayed the input optical 
signals (R, R’, B and B’). 
27
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-987-4
ALLSENSORS 2022 : The Seventh International Conference on Advances in Sensors, Actuators, Metering and Sensing

0
2
4
0
1
2
3
4
5
L00: OFF
L12: RR'
L15: RR'BB'
 
 
Photocurrent (a.u.)
Time (ms)
B'
R'
B
R
 
Figure 6. Photocurrent signal acquired along the forward path at cell central 
position under the coverage of RR’BB’.  
The comparison of the output signal with the calibration 
curve allows the decode of the signal and identification of the 
receiver’s position. Bit decoding of the multiplexed signal 
resulted for the CELL ID block the word 001010000100 
(every 4 transmitters), corresponding to line 5 and column 2, 
for the POSITION block to the word 111111000000 from R 
and B transmitters and word 111000111000 from R’ and B’ 
transmitters, which indicates that the vehicle is at the center 
of the navigation cell. For the RACK block it is decoded the 
words 1110 from R and B transmitters and 1011 from R’ and 
B’ transmitters, which means that all racks of the cell are 
available with exception to the second rack in forward 
direction.  
In Figure 7a), it is displayed the error control signal 
obtained with parity check bits of the transmitted signal of 
the I2V link shown in Figure 6. 
0
2
4
0
1
2
3
4
5
Transmitted signal
L00: OFF
L12: RR'
L15: RR'BB'
 
 
Photocurrent (a.u.)
Time (ms)
B'
B
R'
R
a) 
0
2
4
0
1
2
3
4
5
Error control signal
L00: OFF
L12: RR'
L15: RR'BB'
 
 
Photocurrent (a.u.)
Time (ms)
B
R'
R
b) 
Figure 7. a) Transmitted signal by the I2V link and b) correspondent error 
control signal. 
The use of the calibration curve for decoding the multiplexed 
signal, demands a periodic transmission of the 16 possible 
combination of the 4 optical signals to provide update of the 
calibration data and ensure correct output signal assignment. 
In this application, speed is not a critical issue, and this 
procedure does not overload the transmission efficiency. 
However, it can be discarded or done with less frequency, 
when the accuracy of the decoding is increased using parity 
check bits. The system is also feasible to be enhanced using 
feedback control for adjustment of the LED driving currents 
when the output photocurrent levels generated by the 
photodiode become too close. This procedure would 
minimize decoding errors due to parasitic effects such as 
optical intensity variations caused by to multiple reflections, 
light dispersion or other light sources. 
IV. 
CONCLUSIONS  
Bi-directional communication using VLC in both 
downlink and uplink channels has been addressed in a 
autonomous vehicle guidance system. The proposed indoors 
application deals with infrastructure to vehicle (I2V) and 
vehicle to infrastructure (V2I) communication in a 
warehouse. The vehicle moves autonomously through the 
warehouse transporting goods from the carts to the packaging 
station. The transmitted data is encoded in a 64 bits word, 
defined using specific data frames in communication 
channel. Codification of the optical signals ensured 
synchronization between frames. The code word of each 
channel was designed to ensure synchronization between 
frames, to transmit information of the transmitter 
identification and of spatial location. 
Experimental 
evaluation demonstrated that the decoding solution can 
provide robust communications, especially if automatic bit 
error control is implemented in the optical domain. This 
methodology will be used to support indoor positioning and 
guidance of autonomous guided vehicles operating in 
industrial environments, such as automated warehouses. 
ACKNOWLEDGEMENTS 
This work was sponsored by FCT – Fundação para a 
Ciência e a Tecnologia, within the Research Unit CTS – 
Center 
of 
Technology 
and 
systems, 
reference 
UID/EEA/00066/2020.  
 
 
 
 
 
 
 
 
 
28
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-987-4
ALLSENSORS 2022 : The Seventh International Conference on Advances in Sensors, Actuators, Metering and Sensing

 
[1] R. Mautz, “Overview of Current Indoor Positioning Systems”, 
Geodesy Cartogr., vol. 35, pp. 18–22, 2009.  
[2] Y. Gu, A. Lo and I. Niemegeers, "A Survey of Indoor 
Positioning Systems for Wireless Personal Networks," IEEE 
Commun. Surv. Tutor., vol. 11, pp. 13–32, 2009. 
[3]  A. M. Căilean and M. Dimian, “Current Challenges for 
Visible Light Communications Usage in Vehicle Applications: 
A Survey”, IEEE Communications Surveys & Tutorials, vol. 
19, no. 4, pp. 2681-2703, 2017. 
[4] M. Z. Chowdhury, M. T. Hossan, A. Islam, and Y. M Jang, “A 
Comparative Survey of Optical Wireless Technologies: 
Architectures and Applications”, IEEE Access, vol. 6, pp. 
9819-9840, 2018.  
[5] G. Cossu, A. M. Khalid, P. Choudhury, R. Corsini, and E. 
Ciaramella, “3.4 Gbit/s Visible Optical Wireless Transmission 
Based on RGB LED,” Optics Express, vol. 20, pp. B501–
B506, 2012. 
[6] M. 
Kavehrad, 
"Sustainable 
Energy-Efficient 
Wireless 
Applications Using Light", IEEE Communications Magazine, 
vol. 48, no. 12, pp. 66-73, 2010. 
[7] E. F. Schubert and J. K. Kim, “Solid-state light sources getting 
smart”, Science, vol. 308, no. 5726, pp. 1274-1278, 2005. 
[8] J.-Y. Sung, C.-W. Chow, and C.-H Yeh, “Is blue optical filters 
necessary in high speed phosphor-based white light LED 
visible light communications?”, Optics Express, vol. 22, no. 
17, pp. 20646-20651, 2014. 
[9] H. Le Minh et al, “High-speed visible light communications 
using multiple-resonant equalization,” IEEE Photon. Technol. 
Lett.,  vol. 20, no. 14, pp. 1243–1245, 2008. 
[10] A. M. Khalid, G. Cossu, R. Corsini, P. Choudhury, and E. 
Ciaramella, “1-Gb/s transmission over a phosphorescent white 
LED by using rate-adaptive discrete multitone modulation”, 
IEEE Photon. J., vol. 4, no. 5, pp. 1465–1473, 2012. 
[11] Z. Zhou, M. Kavehrad, and P. Deng, “Energy efficient lighting 
and communications”, Proc. SPIE 8282, Broadband Access 
Communication Technologies VI, vol. 8282, pp. 82820J-1-
82820J-15, 2012. 
REFERENCES 
[12] A. Jovicic, J. Li, and T. Richardson, “Visible Light 
Communication: Opportunities, Challenges and the Path to 
Market”, IEEE Communications Magazine, vol. 51, no. 12,  
pp. 26-32, 2013. 
[13] P. Louro, et al, “Optical demultiplexer based on an a-SiC:H 
voltage controlled device”, Phys. Status Solidi C, vol. 7, no. 
3–4, pp. 1188–1191, 2010. 
[14] P Louro, V Silva, I Rodrigues, M.A. Vieira and M Vieira 
“Transmission of Signals Using White LEDs for VLC 
Applications” - Materials Today: Proceedings, 3(3), 2016, pp. 
780–787 doi:10.1016/j.matpr.2016.02.009. 
[15] M. Vieira, M. A. Vieira, P. Louro, V. Silva, and P. Vieira, 
“Optical signal processing for indoor positioning using a-
SiC:H technology”, Opt. Eng., vol 55, no. 10, pp. 107105-1-
107105-6, 2016. 
[16] M. A. Vieira, M. Vieira, P. Louro, and P. Vieira, "Cooperative 
vehicular communication systems based on visible light 
communication," Opt. Eng., vol. 57, no. 7, pp. 076101-, 2018. 
[17] P. Louro; V. Silva; M. A. Vieira and M. Vieira, “Viability of 
the use of an a-SiC:H multilayer device in a domestic VLC 
application”, Phys. Status Solidi C, vol, 11, no. 11–12, pp. 
1703–1706, 2014. 
[18] P. Louro, J. Costa, M. Vieira, M. A. Vieira, and Y. 
Vygranenko, “Use of VLC for indoors navigation with RGB 
LEDs and a-SiC:H photodetector”, Proc. of SPIE, Optical 
sensors, vol. 10231, pp. 102310F-1-102310F-10, 2017. 
[19] P. Louro, J. Costa, M. A. Vieira, and M. Vieira, “Optical 
Communication Applications based on white LEDs”, J. 
Luminescence, vol. 191,  pp. 122-125, 2017. 
[20] M. Vieira, M. A. Vieira, I. Rodrigues, V. Silva, and P. Louro, 
“Photonic Amorphous Pi’n/pin SiC Optical Filter Under 
Controlled Near UV Irradiation”, Sensors & Transducers, vol. 
184, no. 1, pp. 123-129, 2015. 
[21] M. A. Vieira, M. Vieira, P. Louro, L. Mateus andP. Vieira, 
Indoor positioning system using a WDM device based on a-
SiC: H technology, Journal of Luminescence 191, 135-138. 
[22] P. Louro, et al, MRS Proc. 2011, 1321, 223-228. 
 
29
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-987-4
ALLSENSORS 2022 : The Seventh International Conference on Advances in Sensors, Actuators, Metering and Sensing

