CRN Survey and A Simple Sequential MAC Protocol for CRN Learning 
Usman Shahid Khan  
Computer Science Department 
COMSATS Institute of Information Technology 
Abbottabad, Pakistan 
ushahid@ciit.net.pk 
Tahir Maqsood 
Computer Science Department 
COMSATS Institute of Information Technology 
Abbottabad, Pakistan 
tmaqsood@ciit.net.pk 
 
Abstract—With the idea to use the spectrum band efficiently, 
much of the research is being published in the field of cognitive 
radio network to share the licensed spectrum band with 
unlicensed users when licensed users are not active. Cognitive 
Radio Network (CRN) has introduced a lot of new challenges 
in the field of wireless networks. In this research paper, we had 
listed the cognitive radio network issues by conducting a 
survey of MAC protocols for CRNs. We have also developed a 
very simple MAC protocol for learning CRN for the entry level 
researcher. 
Keywords-Cognitive Radio Networks; Dynamic Spectrum Access; 
MAC protocol. 
I. 
INTRODUCTION 
Recently, authorities are exploring the ways to fully 
utilize the licensed spectrum band, as portions of spectrum 
in 30MHZ to 30GHZ, as shown in Figure 1, are being used 
only 5% [1][17] while unlicensed spectrum is overcrowded. 
As spectrum is rarely used so lot of white and grey space 
areas occurs in licensed spectrum. Grey space areas are the 
portions with medium licensed users’ activity whereas in 
white space areas, activity of licensed users is almost none. 
Black space areas are the portion where spectrum is being 
fully utilized. By sharing the licensed band between licensed 
and unlicensed users with the constraint that unlicensed user 
will only use the band when licensed user is inactive and 
have to vacate on his activity, provides the opportunity that 
spectrum band will be fully utilized and need for searching 
new radio spectrum will be reduced [2]; this is the solution 
provided by cognitive radio networks. For this purpose, a lot 
of research is being conducted in this area and a large 
number of MAC protocols are being published. This paper 
will list out some of the recent protocols. A generic method 
for developing a simple MAC protocol for an entry level 
researcher in the field of CRN will also be described in this 
paper.  
Including this section on Introduction, the paper is 
organized in six sections. Issues related to cognitive radio 
networks will be described in Section II. Section III gives a 
literature survey of MAC protocols. Section IV will give a 
brief overview of how to develop a Simple MAC protocol 
for CRN in NS2. Section V will present simulation 
scenarios and the results. The conclusion of the paper will 
be in Section VI. 
II. 
ISSUES IN COGNITIVE RADIO NETWORKS 
Several studies have shown the various issues in 
cognitive radio networks. These issues are normally 
categorized into three categories, namely Dynamic 
Spectrum Access, Dynamic Spectrum Sharing and Dynamic 
Spectrum Multi-channel operation. 
 
 
Figure 1. Licensed Spectrum Usage [17] 
A. Dynamic Spectrum Access 
Basic issues of cognitive radio networks lie in the 
Dynamic Spectrum Access (DSA), which separates the 
cognitive radio network from the other wireless networks. 
The main aim of DSA is the co-ordination of primary 
(licensed) user and a secondary (unlicensed) user for a 
channel. The biggest problem here is that primary user 
should not face or face minimum interference in his 
communication.  
As the primary user has more priority for using the 
channel, secondary user must vacate the channel as soon as 
the primary user initiates its activity.  This also creates 
several secondary issues such as security and integrity of 
primary user should not be compromised. How much 
interference is tolerable for the primary user? What are the 
effects of irregular activity of primary users on secondary 
user’s communication and vice versa? 
This category also deals with the issues of channel 
discovery and co-ordination of quiet period by secondary 
user when primary user is active. 
B. Dynamic Spectrum Sharing 
This category deals with the issues of co-ordination 
between different secondary users. Efficient channel sharing 
is the ultimate goal. Issues of neighbor nodes discovery and 
channel sharing comes into this category.  
C. Dynamic Spectrum Multi-channel operation 
Issues dealing with multichannel communication come 
under this category. Quality of service and integrity of 
communication are the primary goals here.  
 
22
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

 
 
 
TABLE I.  
MAC PROTOCOLS WITH ISSUES 
Mac Protocol 
Type 
Access 
Method 
Multi-
Radio 
Hidden 
Terminal 
Problem 
Efficient 
Utilization 
of Band 
Common 
Control 
Channel 
Problem 
Primary 
User's 
Protection 
Energy 
Consumption 
CSMA-MAC 
Infrastructure  
Random 
Access 
No 
 
 
 
 
 
IEEE 802.22 
Infrastructure  
Time Slotted 
No 
 
 
 
 
 
DSA driven 
MAC protocol 
Cluster  
Hybrid 
No 
 
 
 
 
 
(DOSS) MAC 
Ad hoc 
Random 
Access 
Yes 
No 
No 
Yes 
 
High 
(DCA) MAC 
Ad hoc 
Random 
Access 
Yes 
 
No 
 
 
High 
(SRAC) Mac 
Ad hoc 
Random 
Access 
No 
 
No 
No 
 
 
(HC) MAC 
Ad hoc 
Random 
Access 
No 
Yes 
No 
Yes 
 
 
C-MAC 
Ad hoc 
Time Slotted 
Yes 
 
No 
Yes 
 
High 
Full Duplex CR-
MAC 
Ad hoc 
 
Yes 
 
 
 
 
High 
OS-MAC 
Cluster 
Hybrid 
No 
No 
 
Yes 
No 
 
SYN-MAC 
Ad hoc 
Hybrid 
Yes 
No 
No 
No 
No 
High 
 
III. 
LITERATURE SURVEY 
MAC protocol plays an important role in cognitive radio 
network as it allows the user to co-ordinate with other users 
to effectively use the broadcast domain/ channel. In normal 
wireless networks, all the users have equal rights and 
priorities whereas CRN divide the users into two groups 
‘Primary’ (licensed) and ‘Secondary’ (unlicensed) users. 
Secondary users use the vacant frequency spectrum 
(frequency holes) for communication among different 
secondary users by creating a secondary network under a 
primary network.  
A. MAC protocols in CR Environment 
There are two basic approaches for designing MAC 
protocol in a CRN environment, namely, Infrastructure-
based and Ad hoc-based.  
1) MAC protocols for Infrastructure-based networks 
 In an Infrastructure-based CRN environment, base 
station collects the information of the spectrum in its 
coverage area from all the CR users. Based on its 
information, it determines the scheme for the CR users to 
share the vacant spectrum. MAC protocols for the 
Infrastructure-based networks have been categorized into 
three major categories, random access, time slotted and 
hybrid protocols. 
Contention-based CSMA-MAC [3] protocol is a random 
access protocol based on classical CSMA with longer 
sensing time for cognitive users. It has been designed for 
both the primary and secondary users. Based on the distance 
of CR user from its base station and noise power, base 
station allows it to send data.  
IEEE 802.22 [3] is a time slotted MAC protocol for 
infrastructure-based CRNs. In this standard, base station 
uses a hierarchy of frames to sense the vacant spectrum, 
inform CR users of it and knowledge of active primary users 
in the area to the CR users. The key features of the 802.22 
are extensive sensing, channel recovery and co-existence of 
different users. 
A game theoretic dynamic spectrum access DSA driven 
MAC protocol [4] is a hybrid protocol as it random access 
scheme for control signals where as time slots for data 
transmission. This MAC is cluster based and game policy or 
access rights for channel utilization are controlled by the 
cluster head. There are four main parts of this MAC 
protocol, namely, DSA algorithm, clustering algorithm, 
negotiation mechanism and collision avoidance mechanism. 
2) MAC protocols for ad hoc-based networks 
These protocols are also divided into three main 
categories, i.e., random access, time slotted and hybrid 
protocols. 
Dynamic open spectrum sharing (DOSS) MAC [6] is a 
random access MAC protocol. Multiple radio transceivers 
are used for data, control and busy tone transmission. This 
protocol solves the hidden node and exposed node problem. 
The drawback of this protocol is that most of the band is 
utilized for control and busy tone information.  
23
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

Distributed channel Assignment (DCA) MAC [7] 
protocol is an extension of 802.11 CSMA/CA protocol. It is 
a random access MAC protocol. The main drawback with 
this protocol is the dedicated common control channel 
which results in the wastage of spectrum. 
The single radio adaptive channel (SRAC) Mac [8] 
protocol can use and combine the spectrum band depending 
upon the need of the user. This is a random access MAC 
protocol and in this protocol, a single radio is used for 
sending and receiving data but using cross channel 
communication, data is send on one spectrum band and 
received on the other. The drawback is the unnecessary 
overhead.  
Time slotted Cognitive MAC (C-MAC) [10] uses 
multiple radios to achieve high throughput. This protocol 
aims at two channels one is rendezvous channel RC, which 
is the freest channel on the network and is used for nodes 
co-ordination and primary users’ detection and other is the 
backup channel. The problem with this protocol is also the 
RC itself. Availability of a channel for a longer period is 
quite difficult.  
A full duplex Multichannel MAC protocol for Multi 
Hop CRN [14] is also a multi radio MAC protocol. It uses 
two radios, one for transmitting and second for receiving 
packets. This protocol reduces the communication delays by 
allowing node transmit and receive packet simultaneously at 
different radios. 
Synchronized MAC (SYN-MAC) [12] is a multi radio 
hybrid protocol. This protocol allocates each channel a time 
slot. In the beginning of a time slot, nodes tune to a 
particular channel and the node who wish to communicate, 
can exchange control packets. On negotiation, one of the 
free channels among both nodes is selected for data 
transmission. Problem with this protocol is that primary user 
protection and efficient channel utilization is not taken into 
account in this protocol.  
IV. 
SIMPLE SEQUENTIAL MAC FOR CRN 
LEARNING 
This section describes the development of a simple 
sequential MAC for Cognitive Radio networks which can 
serve as a demonstrative example for an entry level 
researcher in the field of CRN. Although they are number of 
example available in CRN extension of NS2 like MACng 
and MACngenhanced [13], but they create lot of confusion 
for the starter. They do not provide clear distinction of 
primary and secondary users and random assignment of 
channels to the primary user during runtime (simulation 
time) creates lot of confusion in reading of the results from 
the trace file. Apart from this, they send strategy packets 
(Control packet) to let the receiver know that on which 
channel they will send the packets at the start of simulation 
that violates the basic rule that cognitive user should search 
the channel during runtime. All other MAC protocols, as 
described in section III contains too much complexity for a 
new researcher to understand. So a new MAC protocol was 
developed which can serve the following purposes 
 
• 
Primary Focus on DSA 
• 
Same MAC for Both primary and secondary users 
• 
Should have clear distinction of Primary and Secondary Users 
• 
Primary User should remain on One assigned channel 
• 
Only Secondary User should search the available channels 
during run time 
• 
Number of Total channels should be known to every node 
• 
Channel should be visible to MAC as numbers and not as a 
range of frequencies, that should be handled by Physical layer 
• 
Primary user can be detected on reception of the packet from 
primary user 
• 
On detection of primary user, secondary user should vacate the 
channel and shift to next channel, after last channel, it should 
jump to first channel. 
• 
Primary user on reception of packet from the secondary user, 
just drop the packet and ignore the secondary user. 
A. Modifications in NS2 to Support Simple Sequential MAC 
for CRN 
Numbers of changes were carried out in NS2 to support 
this MAC protocol. Decision that node is primary user or 
not and if it is primary then which channel it will be going 
to use, was done in TCL simulation file. 
 
$node_(5) set isprimaryuser 1 
$node_(4) set isprimaryuser 1 
$node_(5) set chanis 2 
$node_(4) set chanis 2 
 
In the above example, node 5 and node 4 were made 
primary users and channel 2 was assigned to both of them to 
be used as sender and receiver. 
Values 
coming 
from 
TCL 
file 
were 
bind 
in 
common/mobilenode.cc with two variables which were 
declared in common/mobilenode.h isprimaryuser and 
chanis, in constructor function  
 
bind("isprimaryuser",&isprimaryuser);         
bind("chanis",&chanis); 
 
To access these variables in MAC, two more functions 
were developed in common/mobilenode.h 
  
int IsPrimaryUser() { return isprimaryuser;} 
int ChanIs() { return chanis;} 
 
First function will let the MAC of node know that it is 
primary user or not and second will describe the channel 
being used by that node. In order to detect that packet has 
come from primary user or cognitive user; new fields were 
added in the common/packet.h file in header field, 
fromprimaryuser and fromCRuser. Purpose of both the 
fields are self explanatory that the sender of primary will set 
the fromprimaryuser field and cognitive user will set the 
fromCRuser field in the packet header and receiver will 
identify the sender by these fields in the received packet. 
Another field that is very important added by CRN 
extention is channelindex_; it was used to send the channel 
number with the packet and also helps to tune the physical 
layer (MAC/phy.cc) with the corresponding channel. 
 
24
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

 nchannel= hdr->channelindex_; 
 
As the primary channels had one fixed channel so they 
were tuned statically  
 
 
 
if(node()->nodeid()==5  || node()->nodeid()== 4) 
{ 
nchannel=2; 
} 
B. MAC Modification 
Flow of our MAC protocol is shown in Figure 2. In 
order to implement this, we had chosen the Simple MAC 
protocol for wireless networks, already available in NS2, to 
be modified. This is a very simple protocol without control 
frames and send packet whenever it finds the channel free. 
As all the working depends upon the detection of 
primary user on reception of the packet so firstly ‘send’ 
function was modified that if the node is primary or 
secondary, it should send its information in packet header. 
 
if(((MobileNode*)(netif_->node())) -> 
IsPrimaryUser()==0) 
{ 
ch->fromCRuser=1; 
ch->fromprimaryuser=-1; 
ch->channelindex_=recvchan; 
} 
else 
{ 
ch-> channelindex_=((MobileNode*)(netif_-> 
node()))->ChanIs(); 
ch->fromCRuser=0; 
ch->fromprimaryuser= ch-> channelindex_; 
} 
 
A variable named recvchan was added in the mac-
simple.h file to be used as a channel number in the MAC 
Cognitive user sends channel number in channelindex_ 
whereas primary user sends its fixed channel number in 
fromprimaryuser header field.  
At the start of the ‘receive’ function, all the primary 
nodes are tuned to their corresponding channel where as 
cognitive users are tuned on the basis of recvchan. 
 
if (index_==4 || index_==5) 
{ 
chan=2; 
recvchan=chan; 
} 
 
In the above example, node 4 and node 5 are tuned to 
channel 2 and its recvchan is also modified 
In ‘receive’ function, modifications were made to detect 
if the current node is primary and packet is coming from 
secondary user, if this is so, packet should be dropped in the 
receive function. 
 
int isprimaryuser = ((MobileNode*)(netif_-> 
node()))-> IsPrimaryUser; 
if(isprimaryuser==1 && hdr->fromCRuser==1) 
{ 
Packet::free(p); 
return; 
} 
 
In case if the current node is secondary and above 
condition does not execute, then packet is either coming 
from primary user or any other cognitive user. If packet is 
from primary user, then recvchan that is carrying the current 
channel number of the node is incremented. After 
increment, if channel number goes beyond the total number 
of channels then it is tuned to first channel again. 
 
if(isprimaryuser==0 && hdr-> fromprimaryuser !=-1) 
{ 
Totalchannels = ((MobileNode*)(netif_-> 
node()))-> number_of_channel; 
 
recvchan++; 
recvchan= recvchan % Totalchannels;  
} 
 
This portion of code can be modified to a better channel 
selection scheme, but we had chosen it to be simple 
sequential for understanding and learning purpose. If this 
portion of the code doesn’t execute, it means two cognitive 
users are trying to use a single channel, rest of the receive 
function code was not modified to use the functionality of 
simple MAC i.e., adding jitter time in case of collision of 
CR users.  
 
 
Figure 2. Flow of Simple Sequential MAC for CRN 
 
V. 
SIMULATION AND RESULTS 
We had taken the scenario presented in [16] and 
compare the average throughput result of Simple Sequential 
MAC with IEEE 802.11 [15] and FD-CR MAC [14] at 
single node. There was a total number of 30 nodes. Among 
them two nodes were taken as cognitive where as all of the 
rest were primary nodes. At least a Pair of primary nodes 
was on each channel among total of 12 channels. Simulation 
Time was taken as 100 sec with varying number of active 
25
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

(sender) nodes; initially the number was 5 including one 
cognitive, which increases as 10, 15, 20, 25 and 30. 
 
 
TABLE II.  
 SCENARIO 1 
Parameter  
Value  
Data rate  
11Mbps  
Transport protocol  
UDP (Random option ON) 
Simulation time  
100Sec  
# of data channels  
12 
TABLE III.  
SCENARIO 2 
Parameter  
Value  
Data rate  
1,10,50,100,500, 1000 Kbps  
Transport protocol  
UDP (Random option ON) 
# of data channels  
12 
Packet Size 
512 bytes 
 
 
 
 
 
Results (see Figure 3) have shown that Simple 
Sequential MAC has produced average result and this is due 
to the fact that we had compensated the efficiency for 
simplicity in channel selection scheme. Average throughput 
of Simple Sequential MAC was reasonable until the number 
of active nodes were 11 because MAC was able to find the 
free channel but afterward on each channel there was at 
least one primary user which had high priority then 
cognitive user so he had to leave the channel and as a result 
throughput decreases sharply. As compared to it, throughput 
of FD-CR had remained almost constant due to Multi-Radio 
usability and better channel selection scheme. 
In scenario 2, we had tested the effect of primary user 
traffic on cognitive user throughput. We had deployed 24 
primary nodes on 12 channels, one pair on each channel and 
one pair of cognitive nodes, i.e., total of 26 nodes. Data rate 
of cognitive sender node was set to 11 Mbps where as it is 
varied from 1, 10, 50,100, 500 and 1000 Kbps among 
primary nodes. 
Results (see Figure 4) have shown that throughput of 
secondary user node decreases sharply as the primary users’ 
activity increases. As there were no free channels, cognitive 
users find really hard to carry out their communication.  
 
 
 
 
 
Figure 4. Effect of Primary User’s Traffic load on Secondary User’s 
Throughput 
VI. 
CONCLUSION 
Cognitive Radio networks recently have become an 
active topic among wireless network researcher as it 
promises to solve the issue of ever growing demand of new 
spectrum. By sharing the unused portion of the licensed 
band with the unlicensed users, the entire spectrum can be 
fully utilized. In this paper, we have surveyed the MAC 
protocols for CRNs and listed out the issues among them. 
As the idea of CRN is complex and not easily 
understandable for an early researcher, we had developed a 
Simple Sequential MAC protocol which can be taken as 
demonstrative example for CRN. Results of this MAC 
protocols were not as good in terms of efficiency as of 
earlier published MAC protocols and the reason is that we 
had compromised efficiency for simplicity.  
REFERENCES 
[1] Share Spectrum Company, www.sharedspectrum.com <retrieved: 
February, 2012> 
[2] Y.Yuan, P. Bahl, R. Chandra, T. Moscibroda, S. Narlanka and Y. Wu. 
“Allocating Dynamic Time-Spectrum Blocks in Cognitive Radio 
Networks” Proceedings of ACM MobiHoc, Montreal, Canada, 
September 9-14, 2007.  
http://research.microsoft.com/en-
us/um/people/ranveer/docs/bsmart.pdf <retrieved: February, 2012> 
[3] S.-Y. Lien, C. -C. Tseng, K.-C. Chen, “Carrier sensing based multiple 
access protocols for cognitive radio networks”, in Proceedings of 
IEEE International Conference on Communications (ICC), May 
2008, pp.3208–3214. 
[4] IEEE 802.22 Working Group on Wireless Regional Area Networks,  
http://www.ieee802.org/22/ <retrieved: February, 2012> 
[5] C. Zhou and C. Chigan, “A game theoretic DSA-driven MAC 
framework for cognitive radio networks”, in Proceedings of IEEE 
International Conference on Communications (ICC), May 2008, pp. 
4165–4169. 
[6] L. Ma, X. Han and C.-C. Shen, “Dynamic open spectrum sharing for 
wireless adhoc networks”, in Proceedings of IEEE DySPAN, 
November 2005, pp. 203–213. 
[7] P. Pawelczak, R. V. Prasad, L. Xia and I.G.M.M. Niemegeers, 
“Cognitive radio emergency networks–requirements and design”, in 
Proceedings of IEEE DySPAN, November 2005, pp. 601–606. 
[8] L. Ma, C. -C. Shen and B. Ryu, “Single-radio adaptive channel 
algorithm for spectrum agile wireless adhoc networks”, in 
Proceedings of IEEE DySPAN, April 2007, pp.  547–558. 
Figure 3. Average Throughput Results 
 
26
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

[9] J. Jia, Q. Zhang and X. Shen, “HC-MAC: a hardware-constrained 
cognitive MAC for efﬁcient spectrum management”, IEEE J. Selected 
Areas Commun. Vol. 26, January 2008, pp. 106–117. 
[10] C. Cordeiro and K. Challapali, “C-MAC: A cognitive MAC protocol 
for multi-channel wireless networks”, in Proceedings of IEEE 
DySPAN, April 2007, pp. 147–157. 
[11] B. Hamdaoui and K. G. Shin, “OS-MAC: an efficient MAC protocol 
for spectrum-agile wireless networks”, IEEE Trans. Mobile Comp. 
Vol. 7, August 2008, pp.  915–930. 
[12] Y. R. Kondareddy and P. Agrawal, “Synchronized MAC protocol 
formulti-hop cognitive radio networks”, in Proceedings of IEEE 
International Conference on Communications (ICC), May 2008, pp. 
3198–3202. 
[13] Cognitive Radio network Simulator  
http://stuweb.ee.mtu.edu/~ljialian/ <retrieved: February, 2012> 
[14] N. Choi, M. Patel, and S.Venkatesan. "A Full Duplex Multi-channel 
MAC Protocol for Multi-hop  Cognitive Radio networks",  First  
International  Conference  on  Cognitive  Radio  Oriented  Wireless  
Networks  and  Communications, 2006, pp. 99-103. 
[15] G.Bianchi, "Performance 
analysis 
of 
 the  
IEEE 
802.11 
distributed  coordination function ", IEEE  Journal on  Selected Areas 
in Communications, Vol. 18, March 2000,  pp. 535-547.  
[16] Z. Nakhi, S. M. Mathews, S. J. A. Selvanathan, "Comparative Study 
of MAC Protocols for Cognitive Radio" (Paper, EE Dept, University 
at 
Buffalo). 
http://www.scribd.com/doc/65530197 
<retrieved: 
February, 2012> 
[17] C. Liu, “Spectrum Sharing In Dynamic Spectrum Access Networks”, 
WPE-II Written Report,University of Pennsylvania, 2009. p. 4. 
http://repository.upenn.edu/cgi/viewcontent.cgi?article=1953&contex
t=cis_reports <retrieved: February, 2012> 
 
27
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-197-7
COCORA 2012 : The Second International Conference on Advances in Cognitive Radio

