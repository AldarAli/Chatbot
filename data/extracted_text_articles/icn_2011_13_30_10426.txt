Distributed TDMA MAC Protocol with Source-Driven Combined Resource
Allocation in Ad Hoc Networks
Myunghwan Seo, Hyungweon Cho
Wireless Comm. Group
Samsung Thales Co., LTD.
Yongin, 449-885, South Korea
{myunghwan.seo, hyungweon.cho}@samsung.com
Jongho Park, Jihyoung Ahn, Bumkwi Choi, and Tae-Jin Lee
School of Information and Communication Engineering
Sungkyunkwan University
Suwon, 440-746, South Korea
{tamalove, ahnjh, tigerghost, tjlee}@ece.skku.ac.kr
Abstract—MAC protocols for multimedia trafﬁc transmis-
sion in mobile ad hoc networks have been studied steadily. It
is still challenging to design an efﬁcient protocol due to limited
resource and multi-hop transmission property. CSMA-based
MAC protocol is not suitable for multimedia trafﬁc transmis-
sion due to hop-by-hop contention and collision. TDMA-based
MAC protocol is appropriate to transmit time-sensitive trafﬁc
but slot allocation and sharing of slot information mechanism
is essential. In this paper we propose a novel TDMA MAC
protocol for mobile ad hoc networks, which includes distributed
resource reservation and resource state sharing mechanism. In
addition, we present an efﬁcient collision resolution method.
We show that our proposed TDMA MAC is suitable for delay-
sensitive data transmission via simulations.
Keywords-ad hoc networks, MAC protocol, TDMA, QoS.
I. INTRODUCTION
In the next generation wireless communication systems,
it is likely that there will be an increasing demand for
fast deployment of independent mobile devices, e.g., es-
tablishing decentralized and dynamic communication links
for emergency operations, industrial process monitoring, and
military networks. A mobile ad hoc network (MANET) is
an autonomous collection of mobile nodes connected by
wireless links. Since a MANET is a self-conﬁguring network
of mobile nodes, it does not have/need any centralized
coordinator such as base stations (BSs) or access points
(APs). Typically, routing functionality is incorporated into
each mobile node in MANET, so that mobile nodes can
communicate with one another over wide range of distance.
In MANET, it is required to setup multi-hop paths in a
proactive or reactive manner, and the routing functionality
relies on Medium Access Control (MAC) layer. So it has
the same problem as that in conventional wireless networks,
e.g., hidden/exposed terminal problem. Moreover, it might
This work was supported by a grant-in-aid of SamsungThales, and
by the MKE(The Ministry of Knowledge Economy), Korea, under the
ITRC(Information Technology Research Center) support program super-
vised by the NIPA(National IT Industry Promotion Agency) (NIPA-2010–
(C1090-1011-0005)), and by Future-based Technology Development Pro-
gram through the National Research Foundation of Korea(NRF) funded by
the Ministry of Education, Science and Technology (20100020729).
be challenging to meet end-to-end performance requirements
due to limited radio resource, path set up/management
overhead or mobility.
To control the access to the medium for MANET,
contention-based MAC protocol, i.e., IEEE 802.11 Car-
rier Sense Multiple Access with Collision Avoidance
(CSMA/CA) MAC protocol, has been typically consid-
ered [1], [2]. In this approach, every mobile node has a fair
chance to transmit data by the Binary Exponential Backoff
(BEB) algorithm to avoid collisions with mobile nodes in a
network. When the network trafﬁc becomes heavy, overall
network throughput might be degraded due to frequent
collisions. Moreover, end-to-end delay may increase when
information is transmitted over multiple mobile nodes along
a path.
Time Division Multiple Access (TDMA) MAC protocol
is an alternative way to resolve shortcomings of contention-
based MAC protocol [3]. In this approach, time resource
is slotted and these time slots are assigned to mobile
nodes in an orthogonal way, which results in contention-free
medium access. A main challenge of TDMA MAC is how
to assign/schedule speciﬁc time slots to mobile nodes. In
MANET, since there is no centralized coordinator, time slots
should be reserved in advance or assigned in a distributed
manner. In addition, all mobile nodes have to be time-
synchronized to utilize regular time slots. If delay-sensitive
and real-time data are to be communicated over multi-hop
links, MANET has to support quality of service (QoS).
There have been some research work to design distributed
TDMA-based MAC protocol for ad hoc networks [4]–[9].
In [4], Unifying Slot Assignment Protocol Multiple Access
(USAP-MA) is proposed. It provides broadcast and unicast
transmission of datagram and high capacity or low latency
streams, sparse and dense neighborhood optimization, and
the ability to scale up to large networks. However, explicit
method to resolve collision during slot reservation is not pro-
vided. The node activation multiple access protocol (NAMA)
[5], assigns time slots to mobile nodes based on their
priorities. Although NAMA allows collision-free broadcast
transmissions, it may not be able to control the number of
279
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

time slot allocations. In [9], Max Spatial Reuse Scheduling
Algorithm (MARSA) is proposed. MARSA allows 1-hop
distance neighbor nodes to communicate with other nodes
in the same slot using directional antenna. In [8], cross
layer design is provided for video streaming over wireless
ad hoc networks using multichannels. The authors deﬁne
Maximum Latency Rate (MLR) to provide differentiated
trafﬁc for TDMA structure. And congestion-aware routing
protocol with congestion-aware metrics (MAC utilization
and queue length of MAC) is proposed. GMAC [6] exploits
the geographic positions of neighbors to construct a TDMA
schedule. Although no negotiation phase is needed to assign
time slots to nodes, GMAC relies on accurate location
awareness, e.g., devices equipped with position awareness
via a system such as Global Positioning System (GPS).
In TDMA based multi-channel MAC (TMMAC) [7], every
node negotiates which channel and time slot to use for data
communications using IEEE 802.11 DCF, which results in
frequent collisions when trafﬁc becomes heavy.
In this paper, we propose a novel TDMA MAC protocol
for MANET, which supports QoS and assigns time slots to
mobile nodes in a distributed way. In the proposed MAC,
each mobile node exchanges its routing information and
resource allocation information to neighbors periodically in
a pre-assigned time slot so that they can transmit network
information without collisions. Using the resource allocation
information from neighbors, each mobile node can reserve
time slots for data transmissions without additional con-
tention. In case of a reservation slot collision, our proposed
MAC resolves the collision quickly by the preemption value
without exchanging additional information. When a collision
occurs, each node evaluates its own preemption value using
neighbor information, and the node with higher preemption
value occupies the collided time slot and the node with lower
value tries reservation in another slot. The proposed MAC
assigns priority to each node or trafﬁc ﬂow so that the node
or the trafﬁc ﬂow with higher priority can reserve time slots
before those with lower priority to support QoS.
The organization of the paper is as follows. The proposed
MAC protocol including collision resolution mechanism is
described in Section II. We simulate our proposed MAC in
Section III. Finally, we make a conclusion in Section IV.
II. PROPOSED TDMA MAC
A. TDMA MAC Frame Structure
Our proposed TDMA MAC frame is composed of Net-
work Information Broadcast (NIB), Resource Reservation
(RR), and user data slots (see Fig. 1). We assume that the
TDMA frame synchronization is provided by GPS, and that
an NIB slot and an RR slot are pre-assigned to a speciﬁc
node. So the number of NIB slot and an RR in a cycle are
same as the number of nodes and NIB slot and an RR slot
allocation relate to a node ID. These assumption is suitable
for military, emergency, and private ad hoc network which
…
…
Sub-
frame
……
Sub-
frame
Sub-
frame
NIB Slots
RR Slots
TDMA Frame
User Data Slots
……
Figure 1.
Proposed TDMA frame structure.
S
D
① R-R
② R-A
③ R-C
② R-A
③ R-C
Figure 2.
Resource reservation procedure during an R-R slot.
do not require self-organizing function. The NIB slots are
used for broadcasting of routing information and resource
allocation information. The broadcast message in an NIB
slot is utilized to maintain the information of an ad hoc
network. The routing information message can be different
depending on an ad hoc routing protocol. If a reactive ad
hoc routing protocol is used, the routing information may
be route request or route reply. If a proactive ad hoc routing
protocol is used, the routing information may be a hello
message. In the NIB slots, resource allocation information
is also broadcast too. The resource allocation information
denotes the occupation status of user data slots. Each node in
a network maintains the Resource Allocation Table (RAT).
A node creates a resource allocation information message
by referring to its own RAT. When neighbor nodes receive
a resource allocation information message from a node
it updates its own RAT. The RAT includes the resource
allocation information for 3-hop neighbors to maintain user
data slot occupation information of neighbors. The nodes
over 3 hops do not interfere with one another, so they can
use the same user data slot simultaneously.
In the RR slots, reservation messages are exchanged. The
reservation is performed in a 3-way hand shake way. The
source node who wants to send data transmits a Resource
Request (R-R) message in the pre-deﬁned RR slot. The R-
280
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

R message includes source ID, destination ID, sub-frame
index, number of slots to use, and duration of slots to use in
a sub-frame. A source node tries to reserve as many slots as
the hop count of a path for source-driven combined multi-
hop reservation. So hop-by-hop user data slot reservation is
not necessary, which results in low end-to-end delay. When
a node receives an R-R message, the node checks its own
RAT and decides the requested user data slots are available.
If the requested slots are available, the node transmits a
Resource ACK (R-A) message including the information of
the original R-R message. If they are not available, the node
does not transmit anything. The source node waits for the
R-A message before the R-A timer expires. If the source
node receives the R-A message, the source node transmits a
Resource Conﬁrm (R-C) message including the information
of the original R-R message. If the source node does not
receive the R-A message before the R-A timer expires, the
source node tries reservation again in the next TDMA frame.
The nodes which overhear the R-A and/or R-C messages
update their own RATs. The resource reservation procedure
is depicted in Fig. 2.
A user data slot is composed of sub-frames. A user data
slot is identiﬁed by a sub-frame index and a slot index in a
R-R message. The slot index may be indicated by a bitmap
of slots. So the sub-frame structure reduces the overhead
of resource allocation information messages and resource
reservation procedure. A node can request user data slots
only in a sub-frame to prevent monopolization of user data
slots. If a node wants to transmit best effort trafﬁc, it requests
slots in a sub-frame ﬁrst, and if more slots are needed, the
node requests slots in another sub-frame at the next TDMA
frame. As a result, allocated slots for best effort trafﬁc are
slowly increasing.
The cycles for the transmission of NIB and RR messages
can be deﬁned appropriately. For example, if there are 8
nodes and the NIB cycle is 4 frames, node 1 and 2 use
the NIB slots in the ith frame, and node 3 and 4 use the
NIB slots in the (i + 1)th frame. The cycles of NIB and
RR messages have to be deﬁned carefully by considering
network characteristics.
B. Collision Resolution
Our proposed TDMA MAC protocol provides collision-
free access unless 2-hop neighbors use the same time slot
(user data slot). In the proposed TDMA MAC, reservation is
made based on RATs containing resource allocation informa-
tion from 3-hop neighbors to avoid duplicate use of the same
time slot. However, RATs cannot immediately reﬂect dynam-
ically changing topologies. So collisions may happen, and
network throughput might be degraded due to simultaneous
transmission in the same time slot. For instance, at the initial
stage of network, nodes have little knowledge about their
neighbors, and the time slots which seem to be unoccupied
may already be in use. In order to resolve such collision,
1
2
3
4
5
6
8
Interference
NIB
RR
1st frame
1
8
2nd frame
8 8
1,8
1,8
2,6
1,8
2,6
2,62,6
E E
5
Including duplicate
slot information
2
6
Node 1, 8 recognize 
collision and node 8 win
7
1,8
1,81,8
3rd frame
8 8
6 6
5 5
6 6
5 5
4 4
Newly reserved slot
Tx
Rx
Collision slot E
Empty slot
User Data Slots
1
2
3
4
5
6
3,53,5
Figure 3.
An example of collision resolution.
we present a simple and distributed method with minimum
protocol overhead. It does not require any additional control
message or negotiation between nodes. It refers to RATs
exchanged in the NIB duration, which contains time slot
schedule for upcoming user data slots.
A preemption value (Vpre) represents a priority for a
certain time slot and a given node. A node with the highest
Vpre value is allowed to use the collided time slot, and
everyone else give up and look for another time slot which
seems to be idle. So a node with the most important
trafﬁc is given a higher transmission priority. Providing fair
transmission opportunity to the nodes with the same priority
is also important. Thus we deﬁne Vpre as follows.
Vpre = priority&class&{(ID + Tcollision)%n}&ID
where & and % denote bit level concatenation and modulo
operation, respectively. priority is the trafﬁc priority, class
is the user priority, and ID is a uniquely identiﬁable address
of a node. Tcollision is the time offset in microseconds from
the beginning of a TDMA frame to the current time slot, and
n is the number of nodes in the entire network. Tcollision can
prevent a node or trafﬁc from having relatively higher Vpre
than any other node all the time, compensating unfairness
in the transmission opportunity.
281
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

Tx ID
Sub-frame index
Slot index bitmap
Duration
1
4
110011000000
20
8
4
110011001100
15
Figure 4.
An example of RAT at node 5.
On receiving RATs, each node in a network checks for
duplicate reservations. If duplicate reservations are found,
Gcol, a group of nodes which are involved in a collision,
can be deﬁned. Each node in Gcol calculates the preemption
values Vpre of every nodes in Gcol. Only one node with the
highest Vpre in Gcol is eligible to use the collided time slot,
and other nodes are supposed to make reservation on other
time slots in the next frame.
Fig. 3 shows how collision resolution works. Assume
that there are voice trafﬁc demands from node 1 to node
3 and from node 8 to node 4, respectively. Since it is
voice trafﬁc, a source node manages reservation not only
for one-hop neighbor but also for all the nodes in the route.
Node 1 makes a reservation on the slots at the 4th sub-
frame. On successful reservation, neighbors of node 1 (node
4 and 5 in this case) can overhear R-A or R-C message
and update their RATs. At the same time, node 8 makes
another reservation on the slots at the 4th sub-frame, and
unfortunately both reservations use the same slots in the
same sub-frame. Nevertheless, reservation request from node
8 is acknowledged because messages from node 1 and 2 are
not heard to node 6. However data transmission from node
2 to node 3 interferes with data transmission from node 6 to
node 5 (collision). It is not possible for node 5 and node 2 to
realize collision immediately, because RATs for both trafﬁc
has not been distributed yet. In the NIB duration of the next
frame, RATs are ﬂooded one-hop further, and while updating
RAT at node 5, node 5 can ﬁnd the source of collision (An
example of RAT records for node 5 is given in Fig. 4). In
the third NIB duration, node 2 and node 6 transmit RATs to
node 1 and 8, respectively. Then node 1 and node 8 ﬁnally
recognize collision.
Now node 1 calculates Vpres of node 1 and node 8, and so
does node 8. By comparing the values they can decide which
node wins the collided time slot. For example, assume that
priority = 3, class = 3, n = 8, ID of Node 1 is 8453,
and that of node 8 is 1584. And assume that Tcollision is
100µs. Then, Vpre is calculated as follows.
Vpre(Node 1)=3&3&{(8453 + 100)%8)}&8453 = 3318453
Vpre(Node 8)=3&3&{(1584 + 100)%8)}&1584 = 3341584
Since Vpre(Node 1) ≤ Vpre(Node 8), node 8 wins the slot
and node 1 should ﬁnd idle slots at the next frame.
This collision resolution method can also be used to apply
priority. If there is not enough slots to transmit a trafﬁc ﬂow,
the node who wants to transmit checks its own RAT and
tries to reserve the slots which are already used by a node
10
15
20
25
30
35
40
45
50
0
100
200
300
400
500
600
700
800
900
1000
Number of VoIP Flows
Delay (msec)
 
 
Proposed TDMA (NIB,RR cycle:1)
Proposed TDMA (NIB,RR cycle:2)
Proposed TDMA (NIB,RR cycle:4)
NAMA
CSMA
Figure 5.
Delay of proposed TDMA, NAMA and CSMA.
or a trafﬁc with lower priority (e.g., best effort trafﬁc). Then
the node with the already used slot recognizes that the slot
collides and computes Vpre. The node will give up the slots
due to lower priority.
III. PERFORMANCE EVALUATION
In this section, we present simulation results of the
proposed TDMA MAC protocol, the existing NAMA [5]
and the CSMA protocol. 100 nodes are distributed uniformly
in 500mx500m space. The transmission range of a node is
200m. The PHY transmission rate is assumed to be 2Mbps.
The Optimized Link State Routing (OLSR) is used for ad
hoc routing protocol. The CSMA parameters are the same as
those of IEEE 802.11b. The frame size of NAMA is 250ms
and the data slot size is 0.4ms. The length of contention
period to construct a contender set is 50ms. So there are
500 data slots in a frame. The frame size of the proposed
TDMA MAC is 250ms when NIB and RR cycle is 1. The
size of user data slots is 0.25ms. And the number of user
data slots is 800. We consider Voice over IP (VoIP) trafﬁc
as delay-sensitive trafﬁc. The rate of a VoIP ﬂow is 6.4Kbps
and the interval of VoIP packets is 30ms. And we use one
FTP trafﬁc for as background trafﬁc. We vary the number
of VoIP trafﬁcs from 10 to 50 and the NIB and RR cycle
is 1, 2 or 4. The frame size of proposed TDMA MAC is
changed with change of the NIB and RR cycle.
Fig. 5 shows the delay of VoIP trafﬁc. The delay of the
proposed TDMA MAC is slightly increased with the growth
of VoIP trafﬁcs. The delay of the proposed TDMA MAC
is below 150ms. As NIB and RR cycle becomes larger,
the number of NIB and RR transmissions becomes smaller.
So the delay of VoIP trafﬁc improves. When deﬁning NIB
and RR cycle, mobility and trafﬁc characteristics must be
considered. The routing information and resource allocation
282
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

10
15
20
25
30
35
40
45
50
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
Number of VoIP Flows
Throughput (Mbps)
 
 
Proposed TDMA (NIB,RR cycle:1)
Proposed TDMA (NIB,RR cycle:2)
Proposed TDMA (NIB,RR cycle:4)
NAMA
CSMA
Figure 6.
Total throughput of proposed TDMA, NAMA and CSMA.
information in NIB is needed more frequently in the high
mobility condition, and RR depends on trafﬁc arrivals. The
delay of NAMA is similar to the proposed TDMA protocol
in low trafﬁc load. However the delay of NAMA becomes
larger than that of proposed TDMA as the number of VoIP
trafﬁcs increases. The NAMA protocol may not schedule
slots in parallel with trafﬁc load, so the intermediate nodes
in a routing path act as bottleneck nodes. The delay of
CSMA increased rapidly with the growth of VoIP trafﬁcs.
The CSMA can only accept less than 30 VoIP trafﬁcs if
delay requirement is 300ms.
Fig. 6 shows total throughput of VoIP trafﬁcs and ftp
trafﬁc. The throughput of the proposed TDMA MAC is
almost constant, which achieves the maximum throughput.
As NIB and RR cycle increases, the throughput of the pro-
posed TDMA MAC increases due to the relative growth of
user data slots. The throughput of NAMA is relatively lower
than other protocols. The NAMA protocol may not be able
to differentiate trafﬁc characteristics. So it allocates many
slots to ftp trafﬁc as well as VoIP trafﬁcs. The throughput
of CSMA decreases rapidly as VoIP trafﬁc increases. When
there are many VoIP trafﬁcs, collision probability becomes
high in CSMA.
Fig. 7 shows the delay of VoIP trafﬁc with varying speed
of nodes. We use random way point mobility model. The
speed of nodes varies from 10 to 50Km/h. If a node reaches
its destination, it waits a random time (0-30sec) and moves
again. As NIB and RR cycle becomes larger, the routing
information and slot allocation information are broadcast
with long interval in the proposed TDMA protocol. The
delay increase of the proposed TDMA protocol inherits from
route change and collisions due to mobility. The delay of
NAMA also increases as mobility increases. The main factor
10
15
20
25
30
35
40
45
50
50
100
150
200
250
300
350
Speed of Nodes(km/h)
Delay (msec)
 
 
Proposed TDMA (NIB,RR cycle:1)
Proposed TDMA (NIB,RR cycle:2)
Proposed TDMA (NIB,RR cycle:4)
NAMA
CSMA
Figure 7.
Delay of proposed TDMA, NAMA and CSMA with Mobility.
of delay increase is that the contender set becomes incorrect
due to mobility. If the contender set is not perfect, there
may be collisions. The delay of CSMA is inﬂuenced by
routing protocol. Increasing delay of CSMA is caused by
route failure.
IV. CONCLUSION
In this paper, we have proposed a new TDMA MAC
protocol for MANET. In the proposed TDMA MAC, each
mobile node broadcasts its routing information and resource
allocation information to neighbors periodically in a pre-
assigned time slot so that it can transmit network information
without collision. Using the resource allocation information
from neighbors, each mobile node can reserve time slots
for data transmission without collision. In the proposed slot
reservation procedure, three way hand shake mechanism
lessens the hidden node problem. Although there might
be reservation collision because of over 3-hop nodes, our
proposed MAC resolves the collision by the preemption
value without exchanging additional information. The simu-
lation results show that our proposed TDMA MAC protocol
is suitable for delay-sensitive data transmission in ad hoc
networks.
REFERENCES
[1] S.-T. Sheu and T.-F. Sheu, “DBASE: A Distributed Band-
width Allocation/Sharing/Extension Protocol for Multimedia
over IEEE 802.11 Ad Hoc Wireless LAN,” in Proc. of IEEE
INFOCOM, pp. 1558-1567, Apr. 2001.
[2] Z. Yao, P. Fan, and Z. Cao, “An Enhanced CSMA-CA
Mechanism for Multihop Ad Hoc Networks,” in Proc. IEEE
APCC/MDMC, pp. 966-970, Aug. 2004.
[3] C. D. Young, “The Mobile Data Link (MDL) of the Joint
Tactical Radio System Wideband Networking Waveform,” in
Proc. of IEEE MILCOM, pp. 1-6, Oct. 2006.
283
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

[4] C. D. Young, “USAP Multiple Access: Dynamic Resource
Allocation for Mobile Multihop Multichannel Wireless Net-
working,” in Proc. of IEEE MILCOM, pp. 271-275, Oct. 1999.
[5] L. Bao and J. J. Garcia-Luna-Aceves, “Distributed Dynamic
Channel Access Scheduling For Ad Hoc Networks,” Journal
of Parallel and Distributed Computing, vol. 63, no. 1, pp. 3-14,
2003.
[6] J. Lessmann, “GMAC: A Position-Based Energy-Efﬁcient QoS
TDMA MAC for Ad Hoc Networks,” in Proc. of IEEE ICON
2007, pp.449-454, 2007.
[7] J. Zhang, G. Zhou, C. Huang, S. Son, and J. A. Stankovic,
“TMMAC: An Energy Efﬁcient Multi-Channel MAC Protocol
for Ad Hoc Networks,” in Proc. of IEEE ICC, pp. 3554-3561,
Aug. 2007.
[8] B. J. Oh and C. W. Chen, “A Cross-Layer Approach to
Multichannel MAC Protocol Design for Video Streaming Over
Wireless Ad Hoc Networks,” IEEE Trans. on Multimedia, vol.
11, no. 6, pp. 1052-1061, Oct. 2009.
[9] Z. Guo and Y. Chen, “An Optimal Scheduling Algorithm in
Spatial TDMA Mobile Ad Hoc Network,” in Proc. of MIKON,
pp. 1-5, Jun. 2010.
284
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

