A System for Collecting Motion Data on Patients’ Activities of Daily Living 
 
Rintaro Takahashi, Yoshitoshi Murata, Oky Dicky Ardiansyah Prima 
Faculty of Software and Information Science 
Iwate Prefectural University 
Takizawa, Japan 
e-mail: g031n100@s.iwate-pu.ac.jp, {y-murata, prima}@iwate-pu.ac.jp,  
 
Abstract— Functionary recovery is administered to hemiplegic 
patients as rehabilitation. Some patients who recover their 
functions better in a rehabilitation facility cannot do any 
activities in their home. Therefore, recovering Activities of 
Daily Living (ADL) has become more significant than 
functionary recovery recently. Since existing ADL recovery 
level indices are based on questionnaires, recovery level 
judgments are easily affected by an evaluator’s subject. In this 
paper, we describe a system we propose that collects and stores 
motion data on daily life activities to quantitatively evaluate 
ADL recovery levels.  
Keywords-rehabilitation; functionary recovery; activities in 
daily living; ADL; BLE beacon; Google Firebase. 
I. 
 INTRODUCTION 
Most patients suffering from cerebrovascular disease 
have paralysis on one side of the body, and their bodies lean 
and twist to the paralyzed side. Also, because of unusual 
muscle strain, their hands and feet become stiff. In some 
cases, muscles of the upper body go into convulsions. 
Functionary recovery is administered to hemiplegic patients 
as rehabilitation. However, some patients are not always to 
live less inconveniently in their home. Some patients who 
recover hand and arm functionality better in a rehabilitation 
facility cannot eat meals better in their home. Therefore, 
recovering Activities of Daily Living (ADL) has recently 
become more significant than recovering functionaries.   
The Barthel Index, which is based on questionnaires, is 
popularly used to quantitatively evaluate ADL recovery 
levels [1][2]. With questionnaires, however, recovery level 
judgments easily change in accordance with the evaluator’s 
subject. Each recovery level is digitized to a few levels. For 
example, answers for feeding include “unable,” “needs help 
cutting, spreading butter, etc., or requires modified diet” and 
“independent.” Each answer is scored 0, 5, or 10. However, 
the recovery level for feeding with help ranges from “a 
patient eating food directly from dishes without using a 
spoon or fork” to “a patient eating a meal with a knife and 
fork in almost the same way as a healthy person.” Also, it 
takes too much time to ask and observe whether a patient can 
do an activity independently without needing help. 
Functional Independence Measure (FIM) [3] and Katz 
Index [4]-[6] scores are also used to evaluate ADL. FIM 
scores cover not only functional disease but also mental 
disease. Scores are broken down into seven levels for each 
activity, including feeding. Katz Index scores are usually 
applied to cure elder patients or those suffering from chronic 
disease.  
The question formats for these evaluation methods are 
basically the same, and an evaluator needs much time to ask 
questions and observe a patient. We think that a quantitative 
evaluation system with a computer is needed to evaluate 
patients objectively without needing to ask them any 
questions and/or observe them.  
Judging ADL recovery levels is based on whether 
patients can do tasks, such as eating, getting dressed, bathing, 
washing, and discharging bodily waste by themselves. 
Therefore, a system that collects motion data of patients in 
daily life needs to not only measure and collect the motions 
of body parts but also detect which activities are performed. 
However, it is very difficult to estimate these merely from 
changes in acceleration and/or gyro sensor data obtained 
from devices attached to body parts. Therefore, we estimate 
activities by using information about places, such as a dining 
table, bathroom, dressing room, or bedroom. We used the 
BLE beacon [7] to detect places in this system.  
Most surgeons also think that postoperative patient 
functions assessed by ADL and quality of life have become 
especially important ways to measure surgical treatment 
outcomes for the elderly [8]. 
In this study, we developed a system to collect and store 
patients’ motion data to quantitatively judge the recovery 
level of activities in daily living. A patient’s name, 
measured location, sensor-attached body parts and time-
stamps are described as the file names for each measured 
data file in this system. Since we wish to use this system not 
only to evaluate patients’ ADL but also to develop 
algorithms for detecting whether patients can do designated 
activities, we designed the system so that it can store video 
data of recorded patients’ motions.  
The system only requires that recognized medical doctors 
or physiotherapists can access measured data to maintain 
security. To ensure this, we developed a data collecting 
system based on Google Firebase [9]. Since the Firebase 
application can be independently implemented for any 
organization, high level security can be maintained. 
Evaluation algorithms are needed to judge recovery level 
from measured data. However, in this paper we describe a 
system to collect measured data rather than evaluation 
algorithms. We plan to introduce the latter in another paper. 
After introducing related work in Section II, we describe 
the system’s design concept and its implementation in 
Sections III and IV. Examples of measured data for a 
7
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

participant played a patient who has paralysis on one side are 
introduced in Section V. Section VI concludes with a 
summary of key points.  
II. 
RELATED WORK 
To develop a quantitative evaluation system for the 
recovery level of activities in daily living of hemiplegic 
patients, we have to know how to evaluate ADL 
quantitatively, existing life log systems and healthcare 
information cloud service. 
A. Evaluation index for function level in daily living 
Three indexes to evaluate function level in daily living 
are widely used: the Barthel Index, the Functional 
Independence Measure (FIM) and the Katz Index. They are 
basically questionnaires for daily life activities, such as 
feeding. The Barthel Index and FIM are popularly applied to 
evaluate function levels for rehabilitation patients, such as 
those afflicted with cerebrovascular disease.  There are ten 
question items in the Barthel Index: Feeding, Moving from 
wheelchair to bed and return, Personal toilet (washing face, 
combing hair, shaving, cleaning teeth), Getting on and off 
the toilet (handling clothes, wiping, flushing), Bathing self, 
Walking on level surfaces, Ascending and descending stairs, 
Dressing (includes tying shoes, fastening fasteners), 
Controlling bowels and Controlling bladder [1] [2]. A score 
of independently doing an activity is usually 10 points, 
doing it with help is usually 5 points, and not doing it is 0 
points.  
FIM evaluates not only physical functions but also social 
abilities, such as communication or social recognition [3]. 
The number of questions covers 18 issues; 13 for physical 
functions and five for social abilities. Questions about 
physical functions are more segmentized. For example, the 
dressing function is divided into dressing the upper body 
and the lower body, moving activities are divided into the 
moving between a wheelchair and a bed/chair, and sitting on 
a toilet seat and moving to a bathtub. Scores are given on a 
seven-point system. Independently doing an activity gets 
seven points, doing it with full help gets one point, and 
doing it with partial help gets scores ranging from two to six 
points. 
The Katz Index is usually applied to elder patients or 
those suffering from chronic disease in a variety of care 
settings [4 - 6]. The index ranks adequacy of performance in 
six activities: bathing, dressing, toileting, transferring, 
continence, and feeding. Clients are scored yes/no for 
independence in each of the six functions. 
Every three indexes evaluate whether a patient can do 
activities in daily living. Therefore, our proposed system 
must know what kinds of activities a patient tries to do. 
B. Life log system 
Over the years, many researchers have tried to estimate 
daily life human activities, such as walking and sitting up 
and down from acceleration and/or gyro sensor data 
obtained from wearable devices and/or smartphones. In this 
paper, we refer to the research done respectively by Khan et 
al. and Wang et al. [10] [11]. Only a few motions were 
given in this research; distinctions among activities were not 
recognized. In contrast, Debraj et al. tried to recognize 19 
daily living activities [12]. They collected environment 
information, such as that for temperature and location in 
addition to activity information. They used GPS and BLE 
beacons to identify places. However, they did not consider 
the Barthel Index or other indices and consequently their 
target activities did not correspond to activities in the index 
of function recovery levels. 
C. Healthcare cloud serveice 
Zhang al. developed a cyber-physical system for patient-
centric healthcare applications and services. They called it 
Health-CPS. It was built on cloud and big data analytics 
technologies [13].  It consisted of a data collection layer, a 
data management layer and an application service layer to 
collect and follow up on many kinds of big data. It used a 
security tag to maintain security.  
Doukas et al. proposed a mobile system that enables 
electronic healthcare data storage, update and retrieval using 
cloud computing [14]. A mobile application was developed 
using Google’s Android OS and Amazon’s S3 to provide 
management of patient health records and medical images. 
We developed a cloud service whose collecting function 
for medical data is basically the same as that for the above 
systems. However, our system is specialized so that it can 
collect activity and place information to functionally 
evaluate recovery levels that correspond to existing 
evaluation methods, such as the Barthel Index. In this paper, 
we show how we implemented the system with SONY 
Smart Watch 3 [15] as the sensor node, as well as Android 
smartphone, BLE beacon, and Google Firebase. 
III. 
SYSTEM DESIGN CONCEPT 
We designed the proposed system so that it could not 
only evaluate ADL for a patient, but also develop 
algorithms for detecting whether a patient can do a 
designated activity. The system collects and stores sensor 
data and video data synchronously and allows appropriate 
persons to access stored data. We designed the system while 
taking the following issues into consideration: 
1) Suppressing battery consumption for wearable sensor 
devices and smartphones 
2) Suppressing recorded data and collecting necessary 
data 
3) Maintaining security. 
 
Google Firebase service provides many functions, 
including authentication and real-time database functions, to 
enable systems to be managed effectively, such as through 
the means of allowing access to authorized persons. Since 
any organization can independently implement Firebase 
applications, it becomes possible to maintain high level 
8
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

security. This is why we implemented our data collecting 
system on Google Firebase.  
The image of a data collecting system that collects data 
about the motions that a patient performs daily is shown in 
Figure 1. The system we propose consists of sensor devices, 
a sensor relay unit (smartphone), BLE beacons and Google 
Firebase. A smartphone is used as the sensor relay unit that 
controls sensor devices and temporally stores and forwards 
measured data to the Firebase. 
BLE beacons are placed in various locations: under a 
dining table, on top of a toilet, in a bathroom, in a bedroom, 
in a closet. When the smartphone receives a BLE beacon 
signal level that exceeds the threshold level, it sends a 
message to sensor devices to start measuring data. And 
when the smartphone receives a receiving signal level lower 
than the threshold level, it sends a message to sensor devices 
telling them to stop measuring data. Sensor devices and 
smartphones are managed by the Realtime Database. 
Security is maintained by enabling only authorized persons 
using the system, including patient, readers, such as medical 
doctor and installation personnel, such as nurse are also 
managed by the Realtime Database is used to maintain 
security. In this system, measured data are downloaded for 
pre-registered persons from the web server.  
 
 
Figure 1. Image of the data collecting system for patient’s daily life 
motions. 
IV. 
SYSTEM IMPLEMENTATION 
We developed a PatientApp program that works on the 
sensor relay unit and a DataCollectionServer program that 
works on Firebase. The PatientApp manages sensor devices, 
gets measured data from sensor devices and uploads the data 
file to the DataCollectionServer.  
A. PatientApp 
This time, we developed a PatientApp program based on 
the Android Framework. With this program, a developer 
must first access the Firebase and download a configuration 
file. An Android application package file (Apk File) is then 
made as a building application and is connected to Firebase. 
This makes it possible to securely download the Apk File 
for each organization. 
Before starting to measure sensor data and/or video data, 
it is necessary to enter a patient’s name, bind a sensor with a 
body part, bind a BLE beacon with a place of activity and 
select a video recording on/off function. Therefore, we 
designed a transition diagram of UI pages as shown in 
Figure 2. There were three alternatives for a user name at 
the login; the patient’s name, the medical worker’s name 
with measuring devices set up, and the medical 
professional’s name with measured data analyzed. For the 
latter two cases, a patient’s name must be entered after the 
login. Therefore, we decided on the first one, login with a 
patient’s name. 
After login, a “List of setting up” page is presented. An 
example of this page is shown in Figure 3. With it, a user 
can confirm a state of setting. When the “Change” button is 
clicked, the page will change to the “Sensor” page to bind a 
sensor with a body part. When the “Next” button is clicked, 
the page will change to the “Beacon” page to bind a BLE 
beacon with a place in activity. When the “Next” button is 
clicked, the page will change to the “Video” page to select 
video ON/OFF. When the “Next” button is clicked, the page 
will change to the “List of setting up” page. When the 
“Next” button is clicked in the “List of setting up” page, the 
page will change to the “Measuring” page.  When the 
“Start” button on this page is clicked, the PatientApp sends 
a message to the sensor messages to start measuring, and the 
“Start” button changes to the “Stop” button. When the 
“Stop” button is clicked, the PatientApp sends a message to 
the sensor messages to stop measuring, and the “Stop” 
button changes to the “Start” button. When the “End” button 
is clicked, the PatientApp finishes. 
 
 
 
Figure 2. Transitions of UI pages in the PatientApp. 
 
9
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

 
 
Figure 3. Example of setting up page list. 
 
When a sensor receives a BLE beacon signal, it starts 
measuring, and, when a sensor loses a BLE beacon signal, it 
stops measuring. After clicking the “Stop” button, measured 
data are changed to a measured data file. Its file name is 
“Patient name_place_body part_timestamp” to recognize its 
properties. The file is uploaded to the storage in Firebase. 
We developed the following six packages of classes to 
achieve the above proceedings: 
- 
Beacon: receiving beacon signals and handing their 
information to other classes. 
- 
Mobile2wear: controlling a sensor device and 
receiving measured data. 
- 
Camera: managing a video camera. 
- 
Firebase: converting measured data and transferring 
the data to the Firebase storage. 
- 
View: managing transition of pages 
- 
Viewmodel: listening events on buttons or input 
boxes and handing, such information to other 
classes. 
B. DataCollectionServer 
The DataCollectionServer has the following functions: 
- 
Data upload function: The sensor relay unit 
temporally stores measured data and forwards them 
to the server. 
- 
Data download function: Authorized persons, such 
as 
medical 
doctors 
can 
access 
the 
DataCollectionServer and download measured data 
files securely. 
 
It consists of the Storage and WebSite. The WebSite 
collaborates with the Storage and provides a file download 
function to a medical professional through the Web browser. 
In this subsection, we mainly introduce how to upload 
and download measured data file. 
1) Data upload function (Figure 4) 
After a measured file has been made, the PatientApp 
uploads the file to the storage server in Firebase as shown in 
Figure 4. The storage server generates the file download 
URL, which is managed in the Realtime Database. 
 
 
Figure 4. Sequence flow to upload measured files. 
 
2) Measured data download function (Figure 5) 
Supervisors input the access account of medical 
professionals from the management page in Firebase. The 
sequence flow with which medical professionals download 
their patients’ files is shown in Figure 5. When medical 
professionals access the Website, they log in with their 
assigned ID and password on the page of Figure 6 (a).  
 
 
Figure 5. Sequence flow to download measured files. 
10
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

After login, the Website application accesses the 
Realtime Database to get information related to nurses and 
patients. The Website application also gets meta-data such 
as an access path to a stored file. When a medical 
professional clicks a file on the page of Figure 6 (b), the 
Website application accesses the indicated file on the 
Storage through the access path. Finally, the indicated file is 
downloaded. 
 
 
(a) Login page 
 
 
(2) File list page 
 
Figure 6.  WebSite user interface. 
 
V. 
EXAMPLES OF MEASURED DATA IN DAILY LIVING 
We measured motions of eating lunch and brushing teeth 
to text whether the developed system can measure well. A 
“normal” participant usually performed these actions first, 
followed by a person who was paralyzed in the right hand. 
In this experiment, wrist and lumbar region motions were 
measured with a 3D-gyro sensor. We used two SONY 
Smart Watch 3 units as the 3-D gyro sensor [15]. One was 
attached to the wrist with a wrist band and the other was 
attached to the lumbar region with a lumbago band as 
shown in Figure 7.  
Figure 8 shows a picture and measured data for eating a 
curry rice dish with a spoon. In this figure, (a) is a picture of 
a participant eating freely and (b) shows a participant fixing 
and twisting his arm. The (c) and (d) depictions are graphs 
of the measured angle data for (a) and (b). When the 
participant played the role of a patient, his upper body 
always leaned forward and while eating he moved his arm 
less than when he usually did while eating. Such differences 
are presented in red square frames in (c) and (d). These data 
show that a participant eats food by himself. However, from 
these data it is impossible to judge whether a participant is 
able to eat food by himself without help. On the other hand, 
the data shows how their joints move. 
Figure 9 shows angle data measured during the tooth-
brushing activity. The right arm was fixed and twisted, and 
a wearable device was fixed on the right wrist. Since the 
participant brushed his teeth with his left hand, his right arm 
did not move except when he was sticking toothpaste on the 
brush and putting the toothpaste on a wash stand. These data 
show that a participant brushes his teeth by himself, but do 
not show whether the participant brushes his teeth without 
help from others. 
A medical doctor and physiotherapists plan to measure 
motions for real patients, and introduce their results. 
We believe that the obtained results enable us to 
determine whether with the proposed system we can judge 
whether a patient can do activities on the basis of Barthel 
Index or Katz Index judgments. However, it is impossible to 
judge whether a patient can do activities with or without 
help. On the other hand, they make it possible to ascertain 
how affected joints move remotely. 
We believe that the results we have obtained will make 
it possible for us to make a new method to evaluate ADL on 
the basis of measured angle data rather than on Barthel 
Index FIM and Katz Index results. 
 
 
Figure 7. Participant wearing two SONY Smart Watch 3 sets. 
 
                
 
(a) Eating with free arm.     (b) Eating with fixed and twisted arm. 
 
 
(c) Angle of wrist and lumbar for free arm. 
11
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

 
(d) Angle of wrist and lumbar for fixed and twisted arm. 
 
Figure 8. Measured data for the wrist and lumbar region in eating a curry 
rice dish with a spoon. 
 
 
Figure 9. Measured data for the wrist and lumbar region in tooth-brushing. 
VI. 
CONCLUSION AND FUTURE WORK 
Existing evaluation indexes for activities in daily living 
(ADL) recovery levels such as the Barthel index are based 
on questionnaires. Therefore, the judging of recovery levels 
can be easily affected by an evaluator’s subject. We 
proposed a system that is able to collect and store motion 
data about daily life activities to quantitatively evaluate 
ADL recovery levels. The system was developed on the 
basis of the Google Firebase. We used information about 
places such as a dining table, a bathroom to estimate 
activities. The BLE beacon was adopted for detecting places 
in this system. Measurement results obtained for a simulated 
patient demonstrated that it is possible to judge which ADL 
a patient can or cannot do. However, it is difficult to 
estimate whether a patient can do them with or without help. 
A medical doctor and physiotherapists plan to measure 
motions of real patients using this system, and introduce 
their results. 
The system we have developed does not correspond to 
GPS. The next version we plan to develop will correspond 
to it to measure motion during walking or running.  
Our goal is to develop a new index for evaluating ADL 
recovery levels on the basis of motion data measured for 
persons performing ADL. 
ACKNOWLEDGEMNT 
The authors extend thanks to Mr. Kazuhiro Yoshida for 
the help he provided in performing this research. The 
research 
and 
development 
was 
supported 
by 
the 
MIC/SCOPE #181602007. 
REFERENCES 
[1] The Barthel Index; 
 http://www.strokecenter.org/wp-content/uploads/2011/08/barthel.pdf 
[retrieved: January, 2019]. 
[2] F. I. Mahoney and D. Barthel, “Functional evaluation: The Barthel 
Index.”, Maryland State Medical Journal 1965, vol.14, pp. 56-61, 
1965. 
[3] D. Chumney, et al., “Ability of Functional Independence Measure to 
accurately predict functional outcome of stroke-specific population: 
Systematic review,” Departmentof Veterans Affairs, Journal of 
Rehabilitation Research & Development, Volume 47, Number 1, pp. 
17-29, 2010. 
[4] M. Shelkey and M. Wallace, “Katz index of independence in activity 
of daily living (ADL),” https://www.semanticscholar.org/paper/Katz-
Index-of-Independence-in-Activities-of-Daily-Shelkey-
Wallace/fb433f328b79f56d82a52551960c93da74469baa  
[retrieved: January, 2019]. 
[5] S. Katz, et al., “Progress in development of the index of ADL,” 
Gerontologist 1970, vol. 10, pp. 20 –30, 1970. 
[6] M. Shelkey, and M. Wallace, “Katz Index of Independence in 
Activities of Daily Living (ADL),” The Hartford Institute for 
Geriatric Nursing, New York University, College of Nursing, Issue 
Number 2, 2012. 
[7] Bluetooth 
Technology; 
https://www.bluetooth.com/bluetooth-
technology/radio-versions, [retrieved: January, 2019]. 
[8] T. Amemiya, et al., “Activities of Daily Living and Quality of Life of 
Elderly Patients After Elective Surgery for Gastric and Colorectal 
Cancers,” Lippincott Williams & Wilkins, Annals of Surgery, 
Volume 246, Number 2, pp. 222-228, 2007. 
[9] Google Firebase Cloud Messaging, 
https://firebase.google.com/docs/cloud-messaging/?hl=en,  
 [retrieved: January, 2019]. 
[10] K. Zhan, S. Faux, and F. Ramos, “Multi-scale Conditional Random 
Fields for First-Person Activity Recognition on Elders and Disabled 
patients,” ELSEVIER, Pervasive and Mobile Computing, Volume 16, 
Part B, pp. 251-267, 2015.. 
[11] L. Wang, T. Gu, X. Tao, H. Chen, and J. Lu, “Recognizing Multi-
User Activities Using Wearable Sensors in a Smart Home,” 
ELSEVIER, Pervasive and Mobile Computing, Volume 7, Number 3, 
pp.287–298, 2011. 
[12] D. Debraj, B. Pratool, K. D. Sajal, and C. Sriram, “Multimodal 
Wearable Sensing for Fine-Grained Activity Recognition in 
Healthcare,” IEEE, Internet Computing, pp. 26-35, 2015. 
[13] Y. Zhang, et al., “Health-CPS: Healthcare Cyber-Physical System 
Assisted by Cloud and Big Data,” IEEE, SystemsJournal, Volume 11, 
Number 1, pp. 88-95, 2017. 
[14] C. Doukas, T. Pliakas, and I. Maglogiannis, “Mobile Healthcare 
Information Management utilizing Cloud Computing and Android 
OS,” IEEE, 2010 Annual International Conference of the IEEE 
Engineering in Medicine and Biology, pp. 1037-1040, 2010. 
[15] SONY 
Smart 
Watch 
3, 
https://www.sonymobile.com/global-
en/products/smart-products/smartwatch-3-swr50/#gref,  
[retrieved: January, 2019]. 
12
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-688-0
eTELEMED 2019 : The Eleventh International Conference on eHealth, Telemedicine, and Social Medicine

