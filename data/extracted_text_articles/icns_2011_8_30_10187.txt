Resource-Efficient Class-based Flow Mobility 
Support in PMIPv6 domain 
Jiwon Jang*, Seil Jeon*, Younghan Kim*#, and Jinwoo Park† 
*School of Electronic Engineering, Soongsil University, Dongjak-gu, Seoul, 156-743, Korea 
{jwjang84, sijeon, yhkim}@dcn.ssu.ac.kr 
†Department of Electronics and Computer Engineering, Korea University, Seongbuk-ku, Seoul, 136-713, Korea 
jwpark@korea.ac.kr 
 
Abstract— 
Flow-based 
mobility 
support 
is 
becoming 
increasingly common in multi-interface environments because 
it provides flexible network selection per application flow and 
better network experience for mobile users. Recently, several 
drafts related to flow mobility have been being handled in 
IETF, but mobility handling per individual flow leads to 
signaling overhead and power consumption issues because 
individual flow always wants to have the best connected service 
with all the available network interfaces in its own demand. 
Power saving communication is becoming a worldwide issue in 
the mobile communication field. To make resource-efficient 
flow mobility, we propose a class-based flow mobility (CFM) 
mechanism. Through the performance analysis and results, we 
confirm that a CFM mechanism is superior to an individual 
flow mobility (IFM) mechanism in terms of signaling overhead 
and power consumption. 
Keywords - Proxy Mobile IPv6; PMIPv6; flow mobility; class-
based flow mobility 
I. 
 INTRODUCTION  
Multi-interface 
on 
mobile 
devices 
is 
becoming 
increasingly common. In such an environment, flow 
handover, which controls individual application flows from 
one interface to another even when the mobile node (MN) 
does not physically switch its network interface, is becoming 
the one of the most critical issues in the research field of next 
generation wireless network. Flow handover can provide a 
better network experience for end users and can also enable a 
network operator to balance the load appropriately 
depending on the availability of network capacity. 
For this reason, in the Internet Engineering Task Force 
(IETF), several proposals [1][2] for flow handover are being 
handled over Proxy Mobile IPv6 (PMIPv6) [3] to provide 
network-based mobility management support to an MN 
without requiring its IP mobility-related signaling. However, 
it has several drawbacks. First, it can easily bring about 
signaling overhead that enables all flows to have the best 
connected network. Second, it can quickly run out of battery 
power because it preferentially considers flows' performance 
with all the available network interfaces. 
To complement these drawbacks of the individual flow 
mobility mechanism (IFM), we propose a class-based flow 
mobility (CFM) mechanism by classifying the application 
flows into groups and performing group-based flow handling. 
Through the performance analysis, we confirm that CFM is 
more resource-efficient than IFM in terms of signaling 
overhead and power consumption. 
The rest of this paper is organized as follows. In Section 
II, we explain the IFM mechanisms proposed in IETF. In 
Section III, we propose CFM mechanism. Section IV 
evaluates a performance of IFM and CFM mechanism based 
on an analytical model and presents the numerical results. In 
Section V, we offer a conclusion. 
II. 
FLOW MOBILITY IN PMIPV6 
Proxy Mobile IPv6 (PMIPv6) provides network-based 
mobility management for an MN that is connecting to a 
PMIPv6 domain. PMIPv6 introduces two new functional 
entities: the local mobility anchor (LMA) and the mobile 
access gateway (MAG). The MAG detects the MN's 
movement and provides IP connectivity. The LMA assigns 
one or more home network prefixes (HNPs) to the MN and 
is the topological anchor for all traffic belonging to the MN. 
The PMIPv6 allows MNs to connect to the network through 
multiple interfaces for simultaneous access. The MN can 
send packets simultaneously to the PMIPv6 domain over 
multiple interfaces. However, for supporting flow handover 
over PMIPv6, two issues should be resolved. 
First, an HNP is assigned to one interface at a time 
because PMIPv6 employs per-MN prefix model. Therefore, 
when the flow mobility occurs, some of these flows are 
moved to a new interface while the other flows remain 
transmitted via the old interface. For keeping the sessions, 
the HNP should be assigned to multiple interfaces 
simultaneously. To solve the issue, a logical interface-based 
approach is proposed as one option to hide the changes at the 
physical interfaces from the IP layer [4]. 
Second, the PMIPv6 does not support flow-based routing 
because the LMA performs an HNP-based packet routing. 
To make packets route at the flow-based level, the LMA 
binding cache is required to be extended [2]. By applying 
these solutions, the flow handover can provide flexible 
network selection and better network experience for end 
users. However, two representative flow mobility solutions 
proposed in IETF do not consider signaling overhead and 
battery power that is consumed to control all the flows. Thus, 
it leads to a waste of resource for an MN and an access 
network. To complement these drawbacks, a novel flow 
handover scheme is required. 
#Corresponding author 
166
ICNS 2011 : The Seventh International Conference on Networking and Services
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-133-5

 
Figure 1.  Class-based flow mobility reference network model 
III. 
CLASS-BASED FLOW MOBILITY (CFM) SCHEME 
The CFM scheme maximizes the user's performance and 
minimizes signaling overhead and power consumption. 
Specifically, it classifies and splits application flows of same 
class into groups, then it performs CFM scheme targeting a 
same kinds of class flows. 
To classify flows according to application type, a 
classifier is required within LMA as shown in Figure 1. 
Several flows are divided into three categories: rigid, elastic, 
and adaptive. Generally, real-time services such as VoIP are 
classified as rigid class. Traditional Internet flows, such as 
FTP and Web are classified as elastic class. And delay-
adaptive audio/video streaming or rate-adaptive multimedia 
flows belong to the adaptive class [5]. Such classification 
methods are divided into header-based and payload-based 
methods. Recent services are frequently running on non-
standard ports, so the header-based classification method that 
checks the packet header is difficult to classify correctly. On 
the contrary, the payload-based classification method that 
checks the entire protocol payload requires a lot of 
computational power, and leads to significant overhead [6]. 
Therefore, we propose a new flow classification algorithm to 
support the CFM as shown in Figure 2. 
To facilitate class-based flow forwarding, several binding 
entry information is needed on the LMA; therefore, class 
binding entry (CBE) consisting of three attributes such as 
class ID, QoS Parameter, and binding ID and data structure 
are offered, as shown in Figure 3. 
 
 
Figure 2.  Proposed classification algorithm 
FID-PRI
FID
10
4
20
2
30
1
Flow  Binding Entry
Parameters
MN’s home address
MN’s CoA
BU Lifetime
Flag (For HA or LMA)
Sequence number
Usage Information
Binding Cache Entry
CID
CFM A/I
1
Active
1
Active
2
InActive
BID-PRI
20
20
30
BIDs
2
4
1
MAG
IP1
IP2
IP3
Binding ID Entry
CID
1
2
3
QoS 
Parmeter
-
-
-
BID
1
2
3
Class Binding Entry
 
Figure 3.  Extended binding cache entry for proposed CFM 
The classifier assigns the flow ID and class ID. Assigned 
IDs are managed within flow binding entry (FBE) and CBE. 
When flow handover occurs, the same kind of class flows are 
moved to target MAG through confirming CBE. 
In CFM, because each flow within the same class has its 
own requirement, moving these flows to the single target 
network with meeting the requirement requires the 
appropriate algorithm. As one of the solutions for this 
requirement, we can use the fairness algorithm proposed in 
[7]. From this solution, we can decide whether to move 
grouped flows to another interface. 
 
MAG1
MAG2
LMA
flow 1,2,3,4
MN
flow 1 to pref1:lif
Internet
*Check flows and then assign class 
ID and flow ID.
*Register IDs FBE and CBE
flow 2,3,4 to 
pref2:lif
flow 1 to pref1:lif
flow 2,3,4 to pref2:lif
*MAG decision to move 
specific class flows 
flow 1 to pref1:lif
flow 2,3 to pref2:lif
flow 1 to pref1:lif
flow 2,3 to pref2:lif
flow 4 to pref2:lif
flow 4 to pref2:lif
CFM Request
[MN-ID, Class ID, MAG-Init flag]
*Update CBE for class ID
CFM Response
[MN-ID, Class ID, HNPs, status]
RA (pref1)
RA (pref2)
attach
attach
CFM Request
[MN-ID, Class ID, HNPs, LMA-init flag]
CFM Response
[MN-ID, Class ID, status]
*LMA decision to move 
specific class flows 
*MAG update routing state 
for specific class flows.
*MAG update routing state 
for specific class flows.
*Update CBE for class ID
 
Figure 4.  LMA and MAG-Initiated CFM procedure 
167
ICNS 2011 : The Seventh International Conference on Networking and Services
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-133-5

After performing flow classification and enabling class-
based flow forwarding, and deciding fairness values, the 
flow information such as MN-ID, class-ID, and HNP 
between 
MAG 
and 
using 
class 
flow 
mobility 
request/response (CFM Request/Response) is announced. 
These signaling methods are operated differently for two 
cases (e.g. MAG-initiated and LMA-initiated), as shown in 
Figure 4 in details. Flows 2 and 3 belong to the same class. 
IV. 
PERFORMANCE ANALYSIS AND NUMERICAL RESULTS 
This Section presents a performance analysis of the CFM 
and the IFM mechanisms. For ease of analytical modeling, 
we assume that the network is always possible to admit all 
flows and the bandwidth required for individual flow within 
same class is equal. Under these assumptions, we analyze 
signaling overhead and power consumption of two 
mechanisms. And we offer the numerical results by 
comparing their performances. 
 
A. System Model 
dLMA,MAG1
dLMA,MAG2
 
Figure 5.  Network topology model for performance analysis 
Figure 5 illustrates the network model for performance 
analysis. dx-y denotes the hop distance between two network 
entities x and y. We define μs and λs as the cell-crossing rate 
for which the MN still keeps its residence in the same 
domain and session arrival rate. From them, we obtain the 
average number of movement, E(Ns) and express it as 
follows: 
 
.
/
)
(
s
s
E Ns
l
= m
 
 
(1) 
B. Signaling Cost 
Cz denotes signaling cost to conduct flow handover 
operation of z scheme. And, the signaling cost is defined as 
product of hop distance and signaling message generated 
between LMA and MAG, considering MN’s movement and 
processing cost issued from MAG, LMA. The signaling cost 
for CFM and IFM are expressed by 
  
),
)1
(
)
(
)1
(
)
(
) (
(
2
2
,
Re
2
,
2
2
,
Re
2
,
MAG
LMA MAG
R
s
CFM
LMA MAG
MAG
LMA MAG
R
q
CFM
LMA MAG
s
CFM
P
d
P
L
d
P
d
P
L
d
E N
C
+
-
×
+
×
×
+
+
-
×
+
×
×
×
=
t
t
(2) 
),
)1
(
)
(
2
)1
(
)
(
) (
(
1
,
1
,
1
2
2
,
2
,
LMA
LMA MAG
R
PBA
MAG
LMA
MAG
LMA
MAG
LMA MAG
R
PBA
LMA MAG
s
IFM
P
d
P
L
d
P
P
P
d
P
L
d
E N
C
+
-
×
+
×
×
+
+
×
+
+
-
×
+
×
×
×
=
t
t
 
(3) 
where τ and Lm are the unit transmission cost over wired link 
and the amount of the signaling message, respectively. PR is 
the routing processing cost between routers, while PLMA and 
PMAG denote the processing cost required in LMA and MAG. 
C. Power Consumption Cost 
The power consumption cost is defined as the amount of 
power consumed in MN. It is dependent on cell paging, 
scanning, beacon operation, time of data communication, 
and the amount of data being received (or sent) by a 
particular type of application. It is computed using the sum 
of time of data communication and amount of data. It can be 
expressed by the following: 
.c
r t
d
r
P
t
d
× +
+
×
=
 
 
(4) 
 Here, rd and d refer to the power consumption rate for 
data and the amount of data, respectively. rt and t are the 
power consumption per unit time and the transaction time, 
respectively, and P and c refer to the total power 
consumption cost to receive d amount of data. Two kinds of 
application types such as video streaming or VoIP are 
considered. Corresponding equation is derived from [9]. 
 
,
]
[
c
r
R
r
t
P
d
req
t
+
×
+
= ×
 
 
(5) 
where Rreq is the data rate required by the specific session. 
D. Numerical Results 
We employ some of parameter values used in the 
literature [8] [9], which are shown in Tables I and II. 
Figure 6 shows the signaling cost of IFM and CFM as 
MN’s velocity increases. In the case of CFM, it is assumed 
that the flows are grouped within the same class. The result 
shows that IFM increases proportionally to the number of 
flows, and that the cost of CFM is lower than that of IFM, 
regardless of the number of flows. dLMA,MAG1 and dLMA,MAG2 
are 4, and dMN,MAG1 and dMN,MAG2 are 1, respectively. 
Figure 7 illustrates power consumption according to four 
case scenarios. It is assumed that an MN has 1 VoIP and 2 
video streaming flows where packet arrival rate for VoIP and 
video are 80 Kbyte/s and 200~300 Kbyte/s, respectively. In 
case 3, the MN uses 3 sessions through 3G interface when a 
single video streaming session is moved to the WLAN 
interface at 60 seconds.  
TABLE I.  
PARAMETERS USED FOR NUMERICAL RESULTS 
Parameters 
Values 
Parameters 
Values 
τ 
0.5 
PR 
0.008s 
Lm 
100 (byte) 
μs 
0.01 
λs 
10  
t 
30~150s 
168
ICNS 2011 : The Seventh International Conference on Networking and Services
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-133-5

TABLE II.  
POWER CONSUMPTION IN 3G/WLAN INTERFACE 
Mode 
Parameters 
rt (W) 
rd (J/Kbyte) 
3G 
0.45 
0.001 
WLAN 
0.9 
4.12E-04 
 
Figure 6.  Singnaling ost as MN’s velocity increases 
 
Figure 7.  Power consumption cost  
At this time, the power consumption cost increases 
significantly. Then, at 90 seconds, the other video streaming 
session is also moved to the WLAN interface. At that time, 
the power consumption cost becomes much higher than in 
Cases 1 and 2 because WLAN and 3G interfaces are used at 
the same time. In Case 4, two video sessions of same class 
are moved to the WLAN interface at 90 seconds using the 
fairness algorithm, and the power consumption cost rapidly 
increases. From these results using simple cases, we confirm 
that the CFM can avoid unnecessary signaling overhead in 
network side and also reduce power consumption in host side. 
V. 
CONCLUSION 
Flow mobility is an effective mobility technique that can 
provide flexible network selection per application flow and 
better network experience for mobile users. But individual 
flow mobility schemes introduced in IETF bring about 
signaling overhead and power consumption issues due to the 
pursuit of only the performance of individual flow with high 
priority. 
To solve these issues, we propose a CFM mechanism, 
which classifies the application flows into groups and 
performs group-based flow handover. 
Through the performance analysis, we confirm that the 
CFM mechanism is more resource-efficient than the IFM 
mechanism in terms of signaling overhead and power 
consumption. For future work, we will evaluate additional 
performance factor by using simulation. 
ACKNOWLEDGMENT 
This work was partially supported by the MKE(The 
Ministry of Knowledge Economy), Korea, under the 
"program for CITG" support program supervised by the 
NIPA(National IT Industry Promotion Agency), and the IT 
R&D program of MKE/KEIT [KI001822, Research on 
Ubiquitous Mobility Management Methods for Higher 
Service Availability]. 
REFERENCES 
[1] CJ. Bernardos, M. Jeyatharan, R.Koodli, T. Melia, and F. Xia, “Proxy 
Mobile IPv6 Extensions to Support Flow Mobility,” draft-bernardos-
netext-pmipv6-flowmob-00, July, 2010. 
[2] T. Tran, Y. Hong, and Y. Han, “Flow Tracking Procedure for 
PMIPv6,” draft-trung-netext-flow-tracking-01, July, 2010. 
[3] S. Gundavelli, K. Leung, V. Devarapalli, K. Chowdhury, and B. Patil, 
"Proxy Mobile IPv6," RFC 5213, August 2008. 
[4] T. Melia and S. Gundavelli, “Logical Interface Support for Multi-
mode IP Hosts,” draft-ietf-netext-logical-interface-support-00, August, 
2010. 
[5] L. Breslau and S. Shenker "Best Effort versus Reservation: A Simple 
Comparative Analysis", ACM Computer Communications Review 
vol. 28, no. 4, pp.131-143, 1998. 
[6] A. W. Moore and K. Papagiannaki, "Toward the Accurate 
Identification of Network Applications,” LNCS 3431, pp. 41-54, 
2005. 
[7] M. Kim and S. Lee, "Load Balancing and Its Performance Evaluation 
for Layer 3 and IEEE 802.21 Frameworks in PMIPv6-based Wireless 
Networks,” Wireless Communications and Mobile Computing,  vol. 
10,  no. 11, pp.1431-1443, November 2010. 
[8] S. Jeon, N. Kang, Y. Kim and W. Yoon, “Enhanced PMIPv6 Route 
Optimization Handover,” IEICE Transactions on Communications 
vol. E91-B, no.11, pp. 3715-3718, November 2008. 
[9] K.Mahmud, M. Inoue, H. Murakammi, M. Hasegawa, and H. 
Morikawa, “Energy 
Consumption Measurement of Wireless 
Interfaces in Multi-Service User Terminals for Heterogeneous 
Wireless Networks,” IEICE Transactions on Communications, vol. 
E88-B, no.3, pp. 1097-1110, March 2005. 
 
0
10
20
30
40
50
60
70
80
0
100
200
300
400
500
600
700
Velocity of MN (m/s)
The Signaling Cost
IFM(1 Flow)
IFM(2 Flows)
IFM(4 Flows)
CFM(1,2,4 Flows)
20
40
60
80
100
120
140
160
0
50
100
150
200
250
Time (ms)
Total Power Consumption in MN (W)
case1 (3G only)
case2 (WLAN only)
case3 (IFM)
case4 (CFM)
169
ICNS 2011 : The Seventh International Conference on Networking and Services
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-133-5

