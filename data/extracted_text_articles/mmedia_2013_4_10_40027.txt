Impact of Packet Loss on H.264 Scalable Video Coding
Siyu Tang
Bell Labs, ALCATEL-LUCENT
Antwerp, Belgium
siyu.tang@alcatel-lucent.com
Patrice Rondao Alface
Bell Labs, ALCATEL-LUCENT
Antwerp, Belgium
Patrice.Rondao Alface@alcatel-lucent.com
Abstract—This paper presents an exact study of the impact
of packet loss on H.264 scalable video coding (SVC). A Markov
Chain (MC) with 2N states is developed to describe the error
propagation process inside a group of pictures (GOP). The
model is extended to estimate the number of frames affected
by transmission errors for a video sequence composed of
multiple GOPs. By analyzing the inter-frame prediction rules,
we examine the performance of different GOP structures
against transmission errors. From the exact analysis, several
metrics are analytically determined. Based on the proposed
metrics, the performance of the SVC hierarchical B-frame
structure and the advance video coding (AVC) IPPP structure
(compatible base layer in SVC) are evaluated and compared
under the assumption of random packet loss with rate p.
Keywords-QoE; SVC; AVC; Markov Chain
I. INTRODUCTION
In order to transport compressed video over a packet-
based network (e.g., IP-network), the encoded bit-stream
needs to be fragmented according to the maximum transfer
unit (MTU). In an error-prone environment, packet loss may
occur and cause distortion on the perceived video quality
at the receiver. The resulting video distortion, however,
varies according to the inter-frame predicting rules being
used. Hence, it is important to understand the impact of
transmission errors on different encoding schemes.
The scalable video coding (SVC) amendment [1] for
the H.264/AVC (Advance Video Coding) standard provides
scalable video streams in the temporal, spatial and quality
dimensions with graceful adaptation between different sca-
lability layers. It is considered to be a promising approach
to offer quality adaptation to heterogeneous receivers with
varying bandwidth constraints. Video distortion caused by
packet loss in SVC is of great importance, as it determines
the level of quality degradation, and provides insights on
efﬁcient quality adaptation.
Predicting transmission distortion in SVC is challenging,
due to the three scalable dimensions and the hierarchical
inter-frame prediction structures (the terms of inter-frame
prediction and frame dependency are used interchangeably in
this paper.). As we will discuss in Section II, an exact model
of the transmission distortion in SVC seems missing. In
this paper, we focus on an inter-frame prediction model for
the hierarchical temporal prediction structure. In particular,
we aim to investigate the error propagation process in
SVC hierarchical prediction structure and the robustness of
different prediction mechanisms against transmission errors.
Encoding schemes studied in this paper are: 1) SVC hierar-
chical B-frame structure (efﬁcient compression, applicable
for non-real-time video application), 2) AVC IPPP mode
(SVC base layer compatible, applicable for real-time video
delivery with stringent delay requirements).
The contributions of the paper are two-fold. First of all, to
our knowledge, it is the ﬁrst exact analysis that studies error
propagation in the SVC hierarchical prediction structure.
Instead of relying on extensive simulations, the exact model
allows us to evaluate the performance of difference GOP
(group of pictures) structures under packet loss accurately.
Secondly, results obtained from this work can be used as a
guideline in choosing the preferred codec (or GOP structure)
that is more robust against transmission errors.
The rest of the paper is organized as follows. In Section
II, related work is discussed. Section III presents preliminary
deﬁnitions and the description of the error propagation
problem. Section IV describes the proposed analytic model,
along with the performance metrics. In Section V, we
present the analytic results and key ﬁndings. Section VI
concludes the paper.
II. RELATED WORK
There exists a rich number of studies focusing on the
transmission distortion problem on the baseline proﬁle of
H.264/AVC. To simplify the loss-model, most of the studies
assumed an additive model when consecutive packet losses
occur, e.g., [6], [7] and [8]. In [9], the non-linearity of trans-
mission distortion was considered. The proposed algorithm
has shown superior performance over the linear models.
Existing transmission distortion models in AVC, however,
cannot be directly applied to SVC due to the hierarchical
prediction structure being employed. Most rate-distortion
models regarding SVC aimed to optimize the perceived
video quality as a function of different encoding parameters,
e.g., [13], [14]. Studies about transmission distortion in
SVC are either performed by experimental measures, or via
approximations. Monteiro et al. [10] quantiﬁed the impact
of packet loss on the SVC video stream with extensive
simulations. Ghareeb et al. [11] have shown that the effect
of packet loss can be reduced when delivering SVC layers
67
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

through multiple paths based on experiments conducted in
the ns-2 simulator. In [12], a loss-distortion approximation
model was developed but did not provide an exact analysis.
In order to accurately predict the impact of packet loss on
the SVC hierarchical prediction structure, an exact analysis
is required, which is the focus of this paper.
III. PRELIMINARY DEFINITIONS AND PROBLEM
DESCRIPTION
We consider the delivery of N encoded frames over a
lossy network, where a unique identiﬁcation number (ID)
k (0 ≤ k ≤ N −1) is assigned to each frame. Let d (0 ≤
d ≤ ngop − 1) be the unique ID of each GOP, where ngop
is the total number of GOPs in the video sequence. Let t
(0 ≤ t ≤ m) be the unique identiﬁer of each temporal sub-
layer (or simply temporal layer) where m is the number of
temporal layers in each GOP.
Employing variable bit-rate (VBR) encoding at the en-
coder leads to variable frame sizes after encoding. Let sk
denote such a random variable (r.v.), where k is the frame
ID. In IP-networking, the maximum service unit (MST) is
ﬁxed to 1460 bytes excluding the 40-byte header. Hence,
the number of packets nk consisting of frame k after IP
fragmentation is also a random variable. The total number
of fragmented packets of the N frames is therefore obtained
by M = PN
k=0 nk.
Losing a packet in frame k will not only affect the current
frame, but also propagates the initial error to subsequent
frames due to the hierarchical inter-frame coding. In this
paper, we identify the reason for a frame becoming erro-
neous as follows. If at least one packet is lost in a frame,
we say that the frame is erroneous due to packet loss.
Error propagation within a GOP takes place step by step,
which is deﬁned as error propagation steps r. We consider
a worst case where a corrupted Macroblock will be used
for inter-frame prediction and further propagates the error
to successive frames. Any frame that is predicted from an
erroneous frame due to the inter-prediction structure is con-
sidered as being erroneous due to frame dependency. Note
that a frame impacted by packet loss can be again affected
by frame dependency. We do not apply any advanced error
concealment technique to the video sequence, so that error
propagation is only evaluated under the inﬂuence of GOP
structure. Pixels containing errors are simply concealed with
zeros.
We measure the error propagation process within a GOP
by the total number of erroneous frames, Y [r], after each
propagation step r. Let {Y [r], r ≥ 0} describe such a
stochastic error propagation process. In the successive steps,
all erroneous frames in the previous step keep disseminating
the error to their neighbouring frames according to the inter-
prediction rule, resulting in Y [r] erroneous frames after step
r. The total number of erroneous frames, Y [r], is non-
decreasing with r. The process of Y [r] varies with respect
State index i
fN−1fN−2...f3f2f1f0
0
00......0000
1
00......0001
2
00......0010
......
......
2N − 1
11......1111
Table I
STATE SPACE OF THE ERROR PROPAGATION PROCESS WITH N FRAMES.
to the prediction structure being used.
Given the above deﬁnitions, we formulate our problem as
follows: given 1) different GOP structures; 2) M encoded
frames with variable frame size and number of fragmented
IP packets; and 3) random packet loss over the N frag-
mented packets with probability p, we want to ﬁnd out: The
probability density function (pdf) that there are exactly y
frames affected by packet loss and by frame dependency
respectively.
IV. MODELING ERROR PROPAGATION IN SVC
A. A Markov Chain with 2N states
In this section, we develop an exact analysis of the error
propagation process in a GOP. The notion N is conﬁned
as the total number of frames in a GOP. The analysis is
extended to predict the number of erroneous frames in a
video sequence with multiple GOPs in Section IV-C2. At
each discrete propagation step r, an arbitrary frame k can
enter two states: 1) affected by errors, denoted by Fk[r] = 1;
and 2) not affected by errors, denoted by Fk[r] = 0.
The state Y [r] of the GOP at step r is deﬁned by all
possible combinations of the states, in which the N frames
can be at step r
Y [r] = [Y0[r], Y1[r], ..., Y2N−1[r]]T
(1)
where Yi[r] = 1 if i = PN−1
k=0 Fk[r] · 2k, and Yi[r] = 0
otherwise. The total number of states is PN
k=0

In the above proposed discrete MC, the maximal number of
steps until entering an absorbing state (deﬁned by Pii = 1)
is bounded by rmax = 2N − 1. In other words, we take
2N − 1 as the upper bound of r for numerical calculations.
Consequently, the steady-state vector is given by
π = s[rmax] = s[0] · P rmax
(3)
with rmax = 2N − 1.
In order to solve (3), the initial state vector s[0] and the
transition probability matrix P need to be determined. In
Section IV-C1, we present our approach of determining s[0].
Notice that both s[0] and the state space description of the
MC are independent of the GOP structure. The transition
probability Pij, however, is highly dependent on the inter-
prediction structure being used. In Section IV-B, we discuss
the calculation of the transition probabilities of the MC in
different GOP structures.
B. The transition probabilities Pij
In this section, we ﬁrst explore the principles of frame
ID assignment and inter-frame prediction. Afterwards, a so-
called dependency matrix is developed to describe the depen-
dency between frames. Finally, the transition probabilities
Pij are computed based on the dependency matrix. Two
GOP structures are studied in the sequel.
1) The hierarchical B-frame structure: Following the
conventions in [3], inter-prediction in the hierarchical B-
frame structure is jointly initiated from I-frames in the
current and preceding GOP, see Fig. 1. Hence, in our model,
the number of frames in a GOP is deﬁned as N = 2m + 1,
including the I-frame preceding the current GOP. Frame
dependency is indicated by the inter-prediction arrows in
Fig. 1. For example, frame 2 is predicted from 1 if there
exists a outgoing arrow from 1 to 2.
Denote vd[t] a frame ID vector in each temporal layer t
of GOP d. An entry in vd[t], vd
i [t], refers to the i-th frame
ID in layer t. As shown in Fig. 1, frames in the base layer
are always assigned by vd[0] = [d · 2m, (d + 1) · 2m], with
0 ≤ d ≤ ngop − 1. The assignment of frame IDs in layer t
(t ≥ 1) of GOP d obeys a general rule, that is, a frame ID
in layer t is iteratively computed by adding or subtracting
0
1
2
3
4
5
6
7
8
T0
T3
T2
T3
T1
T3
GOP
9
10
11
12
13
14
15
16
GOP
T2
T3
T0
T0
T3
T2
T3
T1
T3
T2
T3
Figure 1.
Hierarchical B-frame prediction structure of SVC temporal
scalability. Frames are presented in display order, while the number below
each frame indicates its corresponding temporal layer. Frames in the base
layer T0 are coded as I-frames. Those in the enhancement layers T1, T2, ...
are coded as B-frames.
2m−t from the frame it depends on in layer t − 1. By using
such a rule, frames are ranked according to the displaying
order. For instance, each frame in layer t − 1, vd
i [t − 1],
determines two frame IDs in layer t on its left and right
side by
 vd
j [t] = vd
i [t − 1] − 2m−t
left side
vd
j+1[t] = vd
i [t − 1] + 2m−t
right side
(4)
Notice that both I-frames determine a single frame in layer
t = 1 of the current GOP by d·2m+2m−1 or d·2m−2m−1.
The number of frames in layer t, w[t], is given by
w[t] =



2
if t = 0
1
if t = 1
2t−1
if 2 ≤ t ≤ m
(5)
Next, we investigate the frame prediction rule of the
hierarchical B-frames as a function of frame IDs. Let kt1
be an arbitrary frame in layer t1 (kt1 ∈ vd[t1]), and kt2 an
arbitrary frame in layer t2, (kt2 ∈ vd[t2]). Four observations
are revealed from Fig. 1: 1) kt2 is predicted from kt1
if t2 > t1. 2) Bi-directional prediction applies to frames
in t ≥ 1. Frame kt1 predicts one single frame in each
succeeding layer along one direction. 3) Inter prediction of
the two I-frames (t = 0) are bounded on their right- and
left- side respectively. 4) Frames in layer t2 = m are not
used to predict other frames. To summarize, a frame, kt2, is
predicted from kt1 if and only if the following relationships
are satisﬁed:
kt2|t1 = kt1 + 2m
2t2
or
kt2|t1 = kt1 − 2m
2t2
(6)
where 0 ≤ t1 < t2 ≤ m, and t2|t1 denotes the dependency
of frame kt2 on kt1. The number of frames, ndep, that are
predicted from an arbitrary frame in layer t is
ndep =



m − t
if t = 0
2 · (m − t)
if 0 < t < m
0
if t = m
(7)
To better illustrate the dependency between frames in (6),
we develop a so-called N ×N dependency matrix M. Each
entry exy in M deﬁnes the dependency of frame y on frame
x (0 ≤ x ≤ 2m +1 and 0 ≤ y ≤ 2m +1). If the dependency
of frame y on x is true, we have exy = 1. Otherwise, it
is exy = 0. Combining (6) and (7), the entries in M are
organized by
exy =







1
if x = y
1
if y = x − 2m
2t2
1
if y = x + 2m
2t2
0
otherwise
(8)
with 0 ≤ t1 < t2 ≤ m, where t1 is the temporal sub-layer
that frame x belongs to, and t2 is the temporal sub-layer that
frame y belongs to. The ﬁrst condition x = y assures that a
frame stays erroneous once it is contaminated. The second
69
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

000
0
2,1,0
001
1
010
2
011
3
100
4
101
5
110
6
111
7
1
1
1
1
1
1
1
1
000
0
2,1,0
001
1
010
2
011
3
100
4
101
5
110
6
111
7
1
1
1
1
1
1
1
1
Figure 2.
State diagram of the hierarchical B-frame structure with m = 1,
N = 3 and 2N = 8 states. The number above state 0 indicates the frame
ID with the right-to-left order. The arrows refer to the transition between
states.
and third conditions includes all frames that are dependent
on frame x.
The transition probability Pij is derived together with the
dependency matrix as
Pij =
(
1
if ∀Fy∈Yj: Fy=
N−1
W
x=0
Fx·exy with ∀Fx∈Yi
0
otherwise
(9)
where Yi and Yj are the i-th and j-th states in Table I, and
Fy =
N−1
W
x=0
Fx · exy = F0 ·e0y ∨F1 ·e1y ∨...∨FN−1 ·eN−1;y.
The operation A ∨ B is 1 if A or B, or both are 1. If both
are 0, A∨B is zero. Fig. 2 shows an example of the Markov
state diagram with N = 3 frames and 2N = 8 states. As we
can see from Fig 2, it is only possible to transit from state
i to state j if j ≥ i.
2) The IPPP prediction mode: The ﬁrst frame in a GOP
of the IPPP prediction mode is always an I-frame. All
succeeding frames are encoded as P-frames, see Fig. 3. Note
that there is no such concept of “temporal layer” in AVC,
N is simply the number of frames in a GOP (including one
I-frames and all succeeding P-frames).
The N × N dependency matrix of the IPPP mode is
exy =



1
if y = x
1
if y = x + 1
0
otherwise
(10)
as a frame x only affect one single frame on its right side.
Substitute (10) to (9), Pij of the IPPP mode is computed.
State diagram of the IPPP mode is not presented due to
space limitations.
C. Performance evaluation
As shown in (3), the performance of error propagation is
determined together by the initial state vector s[0] and the
transition probability matrix P. In this section, we discuss
our approach to obtain s[0] and the methodology to predict
0
1
2
3
4
5
6
7
8
GOP size 8
0
1
2
3
4
5
6
7
8
GOP size 8
Figure 3.
The structure of IPPP mode with N = 8 frames.
the number of erroneous frames affected by transmission
errors both inside a GOP and within a video sequence
consisting of multiple GOPs.
1) Estimating number of erroneous frames in a GOP:
Given random packet loss with probability p over M pack-
ets, the number of frames affected by packet loss, denoted by
Ypkt, is a r.v. depending on nk and p. Let Ydep be the number
of erroneous frames contaminated by frame dependency
after error propagation. The sum of Ypkt and Ydep equals
Y [rmax] at step rmax.
The initial state vector s[0] deﬁnes the probability that
each state in Table IV-A may occur, where frame k is
affected by packet loss with probability 1 − qnk, and not
affected with probability qnk. Given nk packets in frame k
and q = 1 − p, s[0] is computed by
si[0] =
N−1
Q
k=0

1fk;i=1 · (1 − qnk) + 1fk;i=0 · qnk	
(11)
where fk;i denotes the status of frame k in state Yi. The
indicator function 1y is deﬁned as 1 if y is true, otherwise
1y is zero [2, pp. 30].
Consequently, the pdf of Ypkt is derived as
Pr [Ypkt = y] =
2N−1
X
i=0
1yi=y · si[0]
(12)
where yi = PN−1
k=0 fk;i is the number of frames with status
1 in state Yi. The pdf of Ytot is
Pr [Ytot = y] =
2N−1
X
i=0
1yi=y · si[rmax]
(13)
with yi = PN−1
k=0 fk;i and si[rmax] is computed from (3).
Let i → s be a realization (i.e., a sample path) of the error
propagation process from an initial state i to the absorbing
state s. The number of erroneous frames caused by inter-
frame dependency for a single sample path from state i to
state s is
ydep;i→s = ys − yi =
N−1
P
k=0
fk;s −
N−1
P
k=0
fk;i
(14)
Pdf of the number of frames inﬂuenced by frame dependency
is therefore, determined by
Pr [Ydep = y] =
2N−1
X
i=0
2N−1
X
j=0
1yj−yi=y · 1P rmax
ij
=1 · si[0]
(15)
where yi = PN−1
k=0 fk;i, yj = PN−1
k=0 fk;j. Elements in the
n-step transition probability matrix, P rmax
ij
= Pr [Yrmax =
j|Y0 = i], deﬁnes the probabilities to move from initial state
i to the steady-state j.
The
mean
and
variance
of
Ytot
are
E[Ytot]
=
PN
i=0 i · Pr [Ytot = i]
and
Var [Ytot]
=
70
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

PN
i=0 (i − E[Ytot])2 · Pr [Ytot = i]
respectively.
The
mean and variance of Ypkt and Ydep can be obtained in an
analogous way.
2) Estimating number of erroneous frames in a video
sequence: Performing an exact analysis about the erroneous
frame estimation problem in a video sequence with multiple
GOPs is very difﬁcult. At step r, an arbitrary GOP d may
enter N state: Gd[r] = i with 0 ≤ i ≤ N and N is the total
number of frames in a GOP.
The major challenge is to describe the entire system
exactly. That is, to ﬁnd all possible combinations the states
that the ngop GOPs can be at step r. As discussed in Section
IV-A, we use 2N states to describe N frames with two
possible states. Given N states instead of 2 for each GOP,
the exact analysis becomes more complex and requires a
huge state space. Hence, we resort to a simple approximation
to compute the number of erroneous frames in a video
sequence.
Let Y ∗
pkt, Y ∗
dep and Y ∗
tot be the number of frame affected
by packet loss, frame dependency and the sum of the above
two r.v. in the entire video sequence. Instead of seeking for
the pdf of Y ∗
pkt, Y ∗
dep and Y ∗
tot, we derive their expectations
as
E [Y ∗
tot] =
ngop−1
P
d=0
E [Ytot;d]
(16)
where E [Ytot;d] is calculated in Section IV-C1 for a single
GOP d. E [Y ∗
pkt] and E [Y ∗
dep] are computed analogously.
V. RESULTS AND DISCUSSIONS
In this section, a high deﬁnition (HD) video sequence
old town cross with the resolution of 1980x1080 and frame
rate of 50fps is encoded with the SVC reference encoding
software JSVM (Joint Scalable Video Model) [4] to generate
the hierarchical B-frame and IPPP mode encoded frames
(compatible with AVC). The version of JSVM under use
was 9.18. We assign m=3 in the B-frame structure, which
results in 9 frames in each GOP. To have fair comparison, the
GOP size of the P-frame mode is set to 9 as well. Encoding
parameters such as the quantization parameter are the same
for both schemes.
We also developed a simulation program by using the
C language to simulate IP fragmentation of the encoded
bit-stream. The program also simulates packet loss over
the fragmented packets. Since JSVM cannot decode frames
containing errors, an extra script was developed to ﬁlter out
damaged (hence undecodable) frames before decoding. The
JSVM software, therefore, only decodes those frames that
are error-free. Results obtained from the analysis are com-
pared with the results derived from the simulated program.
For each simulated result, 104 iterations are carried out.
A. The hierarchical B-frame structure
First of all, we compare the analytic Pr [Ypkt > y] and
Pr [Ydep > y] with simulated results in Fig. 4(a) and (b). As
we can see from Fig. 4, both curves match the simulated
results very well. The tail probability Pr [Ypkt > y] (or
Pr [Ydep > y]) deﬁnes the probability that more than y
frames are affected by packet loss (or frame dependency).
Given the packet loss rate of p = 0.1, the probability
that more than 3 frames are impacted by packet loss is
approximately 0.32, shown in Fig. 4(a). The probability that
more than 6 frames being affected by packet loss decreases
to the order of 10−3 and 10−6 for y = 8 frames. Frame
dependency seems to play an inﬂuential role, as illustrated
in 4(b). In 90% of the cases, more than 4 frames are
affected by frame dependency. In 28% of the cases, more
than 6 frames are contaminated. With the exact analysis, we
are able to evaluate the performance of Pr [Ypkt > y] (or
Pr [Ydep > y]) with high accuracy, which is normally very
difﬁcult to achieve with simulations. For instance, in order
to have an accuracy of 10−6 for y = 8, as in Fig. 4(a), the
simulation needs to be performed 1012 times, which is time
consuming. In the following, only analytic results will be
discussed except for Fig. 5(b) where the approximation in
(16) is veriﬁed with simulated results for a video sequence
with multiple GOPs.
In Fig. 5(a), the analytic results of E [Ypkt], E [Ydep] and
E [Ytot] are presented respectively. When packet loss rate is
smaller than 0.1, frame dependency is a dominant factor in
propagating errors. However, with p > 0.2, E [Ydep] started
to decrease and E [Ypkt] begins to grow more drastically.
This is because, given a ﬁxed amount of frames in a GOP,
more frames being affected by packet lost naturally leads
to less frames being inﬂuenced by dependency. The inset of
Fig. 5(a) plots E [Ytot] together with its associated upper and
lower bounds. The upper and lower bounds are computed
by E [Ytot] ± σ respectively, where σ =
p
Var [Ytot] is
the standard deviation. The two bounds for E [Ypkt] and
E [Ydep] are not presented due to space limit. Notice that
the upper and lower bounds indicate the worst and optimal
performance. For instance, we see that with p = 10−2, the
maximal number of erroneous frames reaches 9 and the
minimal number of contaminated frames is around 6. From
(a)
(b)
1.0
0.8
0.6
0.4
0.2
0.0
Pr[Ydep>y]
8
6
4
2
Number of erroneous packets (p=0.1)
 Analytics (dependency)
 Simulation
10
-7
10
-6
10
-5
10
-4
10
-3
10
-2
10
-1
10
0
Pr[Ypkt>y]
8
6
4
2
Number of erroneous packets (p=0.1)
 Analytics (packet loss)
 Simulation
Figure 4.
The tail behavior of Pr [Ypkt > y] (a) and Pr [Ydep > y] (b)
versus number of erroneous frames y with p = 0.1.
71
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

8
6
4
2
0
E[Ye]
10
-6
10
-5
10
-4
10
-3
10
-2
10
-1
PLR
8
6
4
2
10
-5
 
10
-3
 
10
-1
 Due to packet loss
 Due to dependency 
 Total no. erroneous frames 
 Upper and lower bounds
(a) Average number of erroneous frames in a GOP
(b) Average number of erroneous frames in a video sequence
1
10
100
E[Ye
*]
10
-6
10
-5
10
-4
10
-3
10
-2
10
-1
PLR
 Due to packet loss (Analytic)
 Simulation
 Due to dependency (Analytic)
 Simulation
 Total no. erroneous frames (Analytic)
 Simulation
 Power law fit: c = 9.0, a = 1.0
 Power law fit: c = 11.6, a = 1.0
Figure 5.
(a) Average number of erroneous frames in a single GOP as a
function of p (lin-log scale). The inset plots the upper and lower bounds
of the total number of erroneous frames. (b) Average number of erroneous
frames in a video sequence with 62 GOPs as a function of p (log-log
scale). Both ﬁgures present the analytic results. The approximation of (16)
is veriﬁed with simulations in (b).
a statistic point of view, all results of individual packet loss
events and the resulting erroneous frames are bounded by
the two dotted curves.
In Fig. 5(b), we plot E [Y ∗
pkt], E [Y ∗
dep] and E [Y ∗
tot] for a
video sequence with 62 GOPs (approximately 9.3 seconds).
As revealed from Fig. 5(b), equation (16) approximates
simulated results very well. On a log-log scale, E [Y ∗
pkt],
E [Y ∗
dep] and E [Y ∗
tot] exhibit straight lines until the point of
p = 10−3, conforming to the power law distribution (deﬁned
as y = c · xa, where c is a normalization constant). The
ﬁtting parameter of a deﬁnes the slope of a curve. The ﬁtting
curves in Fig. 5(b) allow us to predict the average number of
erroneous frames based on a and c without employing (16).
However, the power law distribution fails to approximate the
curves if p > 10−3. We see clearly that, less than 20% of
the frames (E [Y ∗
tot]) are affected by transmission errors up
to p = 10−3. With p = 10−2, around 80% of the frames are
affected. If p ≥ 10−1, almost all frames are contaminated.
B. Comparing the B-frame structure with the IPPP mode
In this section, the performance of the hierarchical B-
frame structure is compared with the IPPP mode. As shown
in Fig. 6, the IPPP mode is more sensitive to packet loss
than the B-frame structure. This is because the IPPP mode
has lower compression efﬁciency compared to the B-frame
structure. A P-frame generally consists of more packets
than a B-frame. According to (11), larger nk incurs higher
6
5
4
3
2
1
0
E[Ydep]
10
-6
 
10
-4
 
10
-2
 
PLR
 IBBB structure
 IPPP structure
6
4
2
0
E[Ypkt]
0.5
0.4
0.3
0.2
0.1
0.0
PLR
 IBBB structure
 IPPP structure
8
6
4
2
0
E[Ytot]
10
-6
 
10
-4
 
10
-2
 
PLR
 IBBB structure
 IPPP structure
(a) Due to packet loss
(b) Due to frame dependency
(b) Total no. erroneous frame
Figure 6.
Average number of erroneous frames caused by packet loss (a),
frame dependency (b) and both (c) of the IBBB and IPPP structure. Figure
(b) and (c) are plotted on lin-log scale for easier reading.
frame error probability. Therefore, the IPPP mode is more
vulnerable to packet loss, especially with larger p.
The frame dependency of the B-structure is, by nature,
higher than the IPPP mode, as plotted in Fig. 6(b). The
maximal absolute difference between the two curves occurs
at p = 10−2, where the inter-frame prediction in the B-frame
mode leads to one more erroneous frame than in the P-frame
mode. The total number of erroneous frames in Fig. 6(c)
is comparable between the IBBB and the IPPP structure.
The average absolute difference between the B-frame and
the P-frame mode is around 0.5, 0.7 and 0.2 frames in Fig.
6(a), (b) and (c) respectively. Considering the higher coding
efﬁciency of the IBBB structure, and the marginal difference
between the B- and P- frame mode against transmission
errors, the SVC IBBB hierarchical coding structure appears
to be a good candidate for video transmission in an error-
prone environment with random packet loss.
VI. CONCLUSION
This paper presents an exact analysis to examine the
impact of packet loss on the H.264 scalable video coding.
With a simple approximation, the model is extended to
predict the performance of a video sequence consisting of
multiple GOPs. Major conclusions from the performance
analysis are: 1) Frame dependency in SVC B-frame structure
is a dominant factor in propagating transmission errors with
packet loss rate p < 0.1. 2) The upper and lower bounds
obtained from the analysis suggests the worst and optimal
performance of individual loss events. In order to satisfy
users with the worst performance, it is important to look
at the upper bounds and thereafter enhance the robustness
of the bit-stream to be delivered under packet loss. 3)
When p ≤ 10−3, the average number of frames affected
by transmission errors can be approximated by the power
law distribution. To avoid drastic increment in the number
of erroneous frame, the packet loss rate should be controlled
as p ≤ 10−3 (depending on system requirements). 4) Despite
the hierarchical frame dependency, the overall performance
72
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

of the B-frame structure is, in fact, comparable with the IPPP
mode under random packet loss.
Performance evaluation presented in this paper is based
on the number of frames affected by transmission errors.
Examining other metrics, such as the PSNR, that can prop-
erly reﬂect the pixel-level quality degradation is the focus of
our future work. The error propagation process investigated
in this paper can be directly employed to describe the inter-
frame motion compensation in the future model. Besides,
adapting the initial state vector s[0], the burst packet loss
process can be incorporated.
VII. ACKNOWLEDGMENT
The authors would like to thank W. Acke for proofreading
this paper.
REFERENCES
[1] ITU-T and ISO/IEC JTC1, JVT-W201, “JointDraft 10 of SVC
Amendment”, Apr. 2007.
[2] P. Van Mieghem, “Performance Analysis of Communications
Networks and Systems”, Cambridge University Press, 2006.
[3] H. Schwarz, D. Marpe, and T. Wiegand, “Overview of the
scalable video coding extension of the H. 264/AVC standard”,
IEEE TCSVT, 2007. 17(9): pp. 1103–1120.
[4] Team, J.V., H. 264/SVC reference software (JSVM 9.18) and
manual. CVS sever at garcon. ient. rwth-aachen. de, 2009.
[5] S. Tang, E. Jaho, I. Stavrakakis, I. Koukoutsidis, and P. Van
Mieghem, “Modeling gossip-based content dissemination and
search in distributed networking”, Computer Communica-
tions, 2011. 34(6): pp. 765–779.
[6] K. Stuhlmuller, N. Farber, M. Link, and B. Girod, “Analysis
of video transmission over lossy channels”. IEEE Journal on
Sel. Areas in Communications, 2000. 18(6): pp. 1012–1032.
[7] Y.J. Liang, J.G. Apostolopoulos, and B. Girod, “Analysis of
packet loss for compressed video: Does burst-length matter?”,
Proc. IEEE ICASSP, Apr. 2003. vol. 5: pp. 684-687.
[8] S. Tao, J. Apostolopoulos, and R. Gu´erin, “Real-time mon-
itoring of video quality in IP networks”, IEEE/ACM Trans.
on Networking (TON), 2008. 16(5): pp. 1052–1065.
[9] Z. Chen and D. Wu, “Prediction of Transmission Distortion
for Wireless Video Communication: Analysis”, IEEE Trans.
on Image Processing, 2012. 21(3): pp. 1123–1137.
[10] J.M. Monteiro, C.T. Calafate, and M.S. Nunes, “Evaluation of
the H. 264 scalable video coding in error prone IP networks”,
IEEE Trans. on Broadcasting, 2008. 54(3): pp. 652–659.
[11] M. Ghareeb, A. Ksentini, and C. Viho, “Scalable Video
Coding (SVC) for multipath video streaming over Video
Distribution Networks (VDN)”, Int. Conf. on Information
Networking (ICOIN), 2011: pp. 206–211.
[12] H. Mansour, P. Nasiopoulos, and V. Krishnamurthy, “Model-
ing of loss-distortion in hierarchical prediction codecs”, IEEE
Int. Symp. on Signal Processing and Information Technology,
2006: pp. 536–540.
[13] Y. Wang, Z. Ma, and Y.F. Ou, “Modeling rate and perceptual
quality of scalable video as functions of quantization and
frame rate and its application in scalable video adaptation”,
IEEE Int. Packet Video Workshop, 2009: pp. 1–9.
[14] M.R. Ardestani, A. Shirazi, and M.R. Hashemi, “Rate-
distortion modeling for scalable video coding”, IEEE 17th
Int. Conf. on Telecommunications (ICT), 2010: pp. 923–928.
73
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-265-3
MMEDIA 2013 : The Fifth International Conferences on Advances in Multimedia

