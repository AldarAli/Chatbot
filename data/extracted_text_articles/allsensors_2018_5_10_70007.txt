 
Accuracy and Predictability Analysis of a Highly Sensitive Liquid Level Prediction 
Setup 
 
Mehmet Emre Erdem 
Mechanical Engineering Department 
Istanbul Bilgi University 
Istanbul,Turkey 
 e-mail: emre.erdem@bilgi.edu.tr 
 
 
Abstract— Liquid level measurements play a major role in 
many 
industrial applications, 
where different 
physical 
principles have been used and tested by many researchers. 
Whispering Gallery Mode (WGM) theory indicates major 
accomplishments in a diverse area of interest where sensitivity 
is of utmost importance. This study is focusing on the accuracy 
and predictability analysis of such liquid level prediction 
experiments, using WGM sensor technology, indicating a 
dependence of WGM shifts on liquid levels, which have been 
assumed as perfectly linear in all the measurement ranges.  
Keywords- accuracy; error; uncertainty; sensor; laser optics; 
liquid level sensor; Whispering Gallery Mode (WGM). 
 
I. 
 INTRODUCTION 
Level sensors are used in automotive [8] and industrial 
applications [13] to gather or send valuable information to 
ensure that the level (of the engine oil in our case) does not 
become dangerously low or high without being noticed. The 
sensor monitors the oil level continuously during the entire 
engine operation. Secondary influences, such as the slope of 
the vehicle's lateral and longitudinal accelerations are 
compensated by the vehicle control unit calculating a mean 
value [2][8]. 
While searching for methods to detect the liquid levels 
accurately, a new laser optics sensor technology [3]-[5], 
based on the previously demonstrated Whispering Gallery 
Mode phenomenon [1] has been observed, pointing superb 
sensitivity over the experimental range, and finally used in 
our experiments for the detection of liquid levels. The 
experimental outcomes obtained are further processed, and 
the accuracy and uncertainty analysis of these liquid level 
prediction measurements are presented in Section 3. The 
results showed a linear dependence within the experimental 
range, and uncertainty calculations are shown in this section 
as well. Finally, in Section 4, general conclusions are given 
according to the experimental results, for the benefit of 
future studies. 
II. 
EXPERIMENTAL DESIGN FOR THE LEVEL 
MEASUREMETNS 
In the Whispering Gallery Mode theory, developed by 
John William Strutt (Lord Rayleigh) [11], where light 
undergoes total internal reflection, and because it is trapped 
inside the sphere, WGMs are observed under certain 
conditions. The details of the theory, and verification of the 
existence of a strong relation between changes in WGM 
resonance shifts and force applied to a micro optical-sphere 
was presented by Ioppolo et al. [3]-[5]. The theory is based 
on a phase delay occurring during light travel inside a 
microsphere [11]. 
Figure 1 presents the experiment setup in the laboratory. 
The light coming from the laser goes inside the microsphere, 
where the measurements are exactly taken [3]-[5]. 
The microsphere inside the sensor, is directly in contact 
with the fiber optics, and works as an input and output 
channel for the information, while facilitating a light 
coupling between fiber and resonator (see Figures 2-4). This 
light coupling creates resonances in return signal according 
to the Whispering Gallery phenomenon [1]. Tracking the 
changes and shifts of these resonances demonstrates the 
basics of this new laser optics sensing technology [3]-[5] we 
have used in our measurements. 
 
 
Figure 1.  The experimental setup used having the sensor located inside 
the water container, and a pressure transducer for reference measurements 
[2]. WGM measurements are obtained by an inhouse software [3]-[5].  
38
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-621-7
ALLSENSORS 2018 : The Third International Conference on Advances in Sensors, Actuators, Metering and Sensing

A computer controlled software both the tunes the 
frequency of the laser and records the shifts in the return 
signal resonances [3]-[5]. This technology has been used to 
detect the liquid levels accurately.  
For the liquid level detection setup, a new sensing cell 
has been developed to measure the pressure changes of the 
medium filled with water. The initial design of the sensing 
cell can be seen in Figure 2, where the microsphere [6][7] 
sensing element is completely separated from the test 
medium by using an elastic membrane. The membrane is 
able to transfer the pressure changes precisely, while keeping 
the liquid outside. Actual sensing cell design used in the 
experiments having the micro resonator [6][7] in the form of 
a sphere can be seen in Figures 3 and 4.  
 
 
Figure 2.  Initial design of the sensing cell is shown. Sensor Case(a); Latex 
membrane(b); Metal Boss(c); PDMS Microsphere(d); Upper cover(e); 
Fiber Protector(f); Screw Mechanism for leveling the microsphere(g); 
Optical Fiber Input(h); Optical Fiber Output(i) [2] 
 
Figure 3.  Actual Sensing cell includes:  a membrane for force detection, 
Microsphere[3]-[5] being the sensing element inside, and Optical Fibers for 
data transfer[3]-[5]. 
 
Figure 4.  Metal boss added to the membrane for greater sensitivity (a)     
The microsphere touching metal boss (b). 
As shown in Figure 3, the microsphere is in contact with 
the fiber outlets facilitating a light coupling, while still being 
able to sense the pressure changes of the medium which is 
being transferred by the elastic membrane.  Figure 4 shows 
fine tuning over the actual design, where a tiny metal boss 
touching the microsphere, added to the membrane for greater 
sensitivity to transfer the pressure changes more rigidly over 
the microsphere. 
This sensing cell is designed to be used inside liquid, 
therefore the experiments have been able to performed 
under water, shown in Figure 5. The target is to detect and 
track the liquid level changes, as it increases or decreases 
the liquid pressures according to Bernoulli’s principle. A 
pressure transducer has also been used as the reference 
device, connected to the container through a U tube, 
tracking the changes of the pressure, in other terms the 
changes of the liquid levels.  
 
III. 
EXPERIMENTAL RESULTS 
An experimental setup is built to measure the pressure 
changes of the medium, detecting the changes of the liquid 
height, as stated previously (see Figures 1-5) [2]. 
A. Liquid Level Measurement Results 
The liquid level measurements have been performed 
while filling and draining water from the container – this 
will be called the experiment setup from now on. The red 
line in Figures 6 and 8 indicates the measurements taken 
from a reference pressure transducer [2]. 
In Figure 5, the experiment setup for measuring the 
liquid levels can be seen in detail, where the sensing cell is 
located inside the bottom of the liquid container design. The 
sensing cell is specifically designed to have a deflectable 
membrane to transfer the force/pressure changes into the 
sensing software [3]-[5] without letting the liquid enter 
inside the cell (see Figures 2-4). Figure 5 shows the 
experiment setup for liquid level detection in greater detail.  
When the liquid level increases, it also increases the 
pressure in the U tube connected to the pressure transducer, 
which results and increase in its signal. Also, when draining 
water, the pressure in connection tube decreases, resulting in 
a decrease in the Pressure Transducer signal. 
 
 
 
 
Figure 5.  Water pressure change experiments (left), (a) Liquid inlet and 
outlet, (b) Presure Transducer connection, (c) Scaled Ruler for instant 
Level Readings  (right). 
39
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-621-7
ALLSENSORS 2018 : The Third International Conference on Advances in Sensors, Actuators, Metering and Sensing

 
Figure 6.  Liquid Level Measurements-Fillling 
 
 
Figure 7.  The Dependence of WGM shifts to Liquid Pressure changes 
(Pa) 
 
The liquid levels have been converted to Pa with the 
basic conversion ratio of 1mm H2O=9.8065 Pa. 
The WGM resonance shifts as a function of applied 
pressure is plotted in Figure 7, where these resonance shifts 
demonstrate a linear response with nearly no hysteresis in the 
pressure range tested, thus, providing a reliable pressure 
reading essential for sensor performance.  
The best sensitivity dependence has been observed while 
draining water from the setup, as expected, due to the 
smoother level change characteristics of draining. Therefore, 
the dependence of shifts to liquid levels changes is better, in 
other words, higher sensitivities have been obtained while 
draining water from the experiment setup.  
The red line in Figure 6 and Figure 8 represents the 
pressure transducer output, while the blue line represents the 
WGM resonance shifts developed in the setup [2][4]. 
 
 
Figure 8.  Liquid Level measurements while draining water from the setup 
 
 
Figure 9.  The Dependence of WGM shifts to Liquid Pressure changes 
(Pa) 
In Figures 7 and 9, the Y axis represents the resonance 
shifts in pm scale, while the X axis represents the liquid 
levels in the container in mm scale [2][4]. A nearly perfect 
(R²=0.9978 (correlation coefficient)) linear dependence of 
WGM shifts due to liquid levels can be observed while 
draining water from the experiment setup. Therefore, it can 
be seen that for every Pa change, experimenters observe 3.2 
pm shift in resonances [2]. 
The pressure values seen in Figure 9, can also be 
converted to liquid levels (1mm H2O=9.8065 Pa), whereas 
we are still going to use the resonance shifts over the 
pressure changes (pm/pa) as the sensitivity dependence 
definition and the formulation in our case [3]: 
 
P  S

 

 
40
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-621-7
ALLSENSORS 2018 : The Third International Conference on Advances in Sensors, Actuators, Metering and Sensing

Results indicate that, there is a strong correlation 
between WGM shifts [3]-[5] and the liquid levels. The 
resonance shifts appear as a function of liquid levels with a 
linear response with no discernible hysteresis in the pressure 
range tested. 
B. Accuracy and Uncertainty 
In engineering and science, the accuracy of a 
measurement system has been defined as the degree of 
closeness of measurements of a quantity to that quantity's 
true value [12][13]. 
It is considered that measurements are made by 
calibrated instruments for which all known systematic errors 
have been removed. However, even the most carefully 
calibrated instruments will have errors associated with the 
measurements [12][13]. 
Error is the difference between the experimentally 
determined value and the true value, therefore, accuracy 
increases as error approaches zero. In practice, the true 
values of measured quantities are rarely known, thus, an 
error should be estimated, and this estimation is called 
uncertainty [12][13]. 
 
 
/1 2
2
2
2
2
2
1
1
......

















 







 








n
n
R
w
x
R
w
x
R
w
x
R
w
 
(2) 
 
 
According to equation (2), error in the resulting value is 
the result of errors in the variables. When neglecting the 
errors of the devices such as: laser source, laser diode 
controller, function generator, data acquisition card (DAQ), 
computer,  photodiodes, and the fibers, the accuracy 
measurement can ben derived by using the sensitivity value 
obtained at the end of the experiments. The sensitivity 
dependence has been already defined as ∆λ/∆P=S, therefore, 
the uncertainty error value of S becomes: 
 
1/ 2
2
2















 









P
S
P w
S
S w
w


 


 
 (3) 
 
The ∆λ term is according to the resonance shifts, while the 
ΔP term represents the pressure levels. By deriving each 
term: 
 
 
            δS/δ∆λ=1/∆P and δS/δ∆P=-(∆λ)/(ΔP)2 
(4) 
 
 
 as a result: 
 
1/ 2
2
2
2
)
(
1















 









P
S
w
P
P w
w


 
(5) 
can be evaluated. 
Thus, the uncertainty term of the resonance shifts  have 
been obtained by 14 bit data acquisition card where the 
seven step software tracking algorithm takes place, resulting 
in a certainity of 214 ; this means an error of [3]-[5]: 
 
±0,043%,
16384
7
2
1
7
14




n
 

 
 where the uncertainty value becomes:
 
 
 
0,325pm
16384
7
,0 228)
(761,85
_




x
w
 Filling
 



0,541pm
16384
7
(2515,55 1249,50)
_




x
w
Draning

 

While filling water into the experiment setup, data shows 
∆λ⁄∆P=1,9083 pm/Pa conversion, seen in Figure 7, while 
draining water from the setup, the data has a ∆λ⁄∆P=3,115 
pm/Pa value, as shown in Figure 9.  
For finding the W∆P, or in other terms, the uncertainty 
value of the pressure component, we need the general 
pressure to liquid height formula P=ρh, and, when we 
differentiate both sides, the resulting formula becomes: 
ΔP=(ρ.g).Δh, where ρ is the Density, and g is the 
Acceleration of Gravity, which are both constants.  
 
∆Pρg.∆h 

 




1/ 2
2
h
P
g w
w



 
 
 
 
The pressure value comes from the pressure transducer, 
and liquid level readings, thus the uncertainty calculation 
should include both. The reading and pressure transducer 
errors combined having a liquid height vs. voltage 
relationship seen in Figures 6 and 8. Thus, for representing 
the uncertainty, the conversion formula becomes: 
 
δΔh=Sc . ∆V 

Therefore:  






2 1/ 2
2
V
Sc
h
Sc w
V w
w





 
 

 
 
where Sc represents the liquid height reading errors, and 
∆V represents the voltage uncertainty, or accuracy of the 
pressure transducer.   
The accuracy of the pressure transducer used during the 
experiments is known as ±1,0% [2], so we calculate the 
uncertainty value of the pressure transducer for this 
experiment as follows: 
 
  
_
PT
DV
Filling
w
 w
 2,845Vx0,01=0,0285V  
 

and  
   
_
PT
DV
Draining
w
 w
3,079Vx0,01=0,03079V   

41
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-621-7
ALLSENSORS 2018 : The Third International Conference on Advances in Sensors, Actuators, Metering and Sensing

The uncertainty value coming from the liquid height 
readings consists of the scale of the ruler, and total filling or 
draining limits: 
 
0,5mm/300mm=±0,166%, 

 




version Filling
SlopeOfCon
SC
ading
Ruler
w
w
w
_
Re
 
39,668mm x 0,00166=0,065mm, 
 
and  

Re
_
Ruler
ading
SC
SlopeOfConversion Draining
w
w
w


 
40,94mm x 0,00166=0,0679mm. 
 
 
For finding the exact uncertainty
wP
 value, errors 
occurred during the liquid level readings, and the pressure 
transducer uncertainty should be included: 






2 1/ 2
2
V
Sc
P
g Sc w
V w
g
w










 
(18) 




1/2
2
2
_
9,80 2,845 0,065
9,80 14,013 0,0285
4,31
P Filling
w
Pa












 

 




1/2
2
2
_
9,80 3,079 0,0679
9,80 13,204 0,03079
4,48
P Draining
w
Pa












 
 
 
 
 
 
       
In other words, we have an uncertainty level of ±1,10% 
for filling, and ±1,11% for draining. When these results are 
used in equation (8): 
 
Pa
pm
w
Filling
S
0217
,0
,4 31
389,047)
(
761,622
,0 325
,047
389
1
1/ 2
2
2
2
_














  







 

Pa
pm
w
Draining
S
0351
,0
,4 48
401,882)
(
1266,05
,0 541
,882
401
1
1/2
2
2
2
_














   







 

Therefore, the experiment performed during draining 
water from the setup showing ∆λ⁄∆P sensitivity dependence 
value of 3,115 pm/Pa, having a calculated uncertainty of 
±1,126%.  
The experiement performed during filling water to the 
setup showing ∆λ⁄∆P sensitivity dependence value of 1,9083 
pm/Pa, similarly has a calculated uncertainty of ±1,137%. 
 
IV. 
CONCLUSIONS 
After 
performing 
the 
liquid 
level 
measurement 
experiements, it has been observed that sensitivities of 
1.9083 pm/Pa during the liquid level measurements have 
been reached, while having a linear dependence within the 
experimental range.  
As the uncertainty calculations has been performed for 
liquid level measurements, a total uncertainty value of 
±1,126% for draining, and ±1,137% for filling have been 
obtained. The pressure transducer, which acts as the 
reference device used in the experiments, has ±1,0% 
accuracy, which limits the total value. Any alternative device 
with better accuracies would definitely help future 
researchers to decrease the uncertainties. 
REFERENCES 
 
[1] G. C. Righini, and  S. Soria, “Biosensing by WGM 
Microspherical 
Resonators”, 
Sensors 2016, 16(6), 
905; 
doi:10.3390/s16060905, 2016. 
[2] M. E. Erdem, and  D. Gunes, “Liquid Level Sensor in 
Automotive Design”, Proceedings of SENSORCOMM 2011: 
The Fifth International Conference on Sensor Technologies 
and Applications, Nice, France, pp. 166-171, Aug.2011. 
[3] T. Ioppolo, U. K. Ayaz, and M. V. Ötugen, “High Resolution 
Force Sensor Based on Morphology Dependent Optical 
Resonators Polymeric Spheres”, J. Appl. Physics, Vol. 105, 
013535, 2009. 
[4] T. Ioppolo, M. Kozhevnikov, V. Stepaniuk, M. V. Otugen, 
and V. Sheverev, “A micro-optical force sensor concept based 
on whispering gallery mode resonators”, Applied Optics, Vol. 
47, Issue 16, pp. 3009-3014, 2008. 
[5] T. Ioppolo, and M. V. Otugen, “Pressure Tuning of 
Whispering Gallery Mode Resonators”, J. Opt. Soc. Am. B, 
vol. 24, no. 10, 2007, pp. 2721–2726, 2007. 
[6] K. J. Vahala, “Optical Microcavities”, World Scientific: 
Singapore, 2004. 
[7] K. J. Vahala, “Optical microcavities”, Nature 2003, 424, pp. 
839–846, 2003. 
[8] W. J. Fleming, “Overview of Automotive Sensors”,  IEEE 
Sensors Journal, Vol. 1, No. 4, Dec.2001. 
[9] R. K. Chang, and A. J. Campillo, “Optical Processes in 
Microcavities”, World Scientific: Singapore, 1996. 
[10] R. D. Richtmyer, “Dielectric resonators”, Journal of Applied 
Physics, 10, pp. 391–398, 1939. 
[11] L. Rayleigh, “The problem of whispering gallery”. Sci. 
Pap., 5, pp. 617–620, 1912. 
[12] O. Geceli, “Measurement Techniques, Birsen Press, ISBN 
975-511-113-1, 1998. 
[13] J. Fraden, “Handbook of Modern Sensors Physics, Design 
Applications”, 4th Edition, Springer Press, ISBN 978-1-4419-
6465-6, 2010. 
[14] J. Heebner, R. Grover, and T. A. Ibrahim, “Optical 
Microresonators Theory, Fabrication, and Applications”, 
Springer Press, ISBN 978-0-387-73067-7, 2008.   
 
42
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-621-7
ALLSENSORS 2018 : The Third International Conference on Advances in Sensors, Actuators, Metering and Sensing

