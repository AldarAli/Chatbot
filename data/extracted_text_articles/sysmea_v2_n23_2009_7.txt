204
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
Optimising the Quality of Experience during Channel Zapping
The Impact of Advertisements during Channel Zapping
R.E. Kooij1,2, V.B. Klos1, B.E. Godana2, F.P. Nicolai2. O.K. Ahmed1
1TNO Information and Communication Technology
Delft, the Netherlands
{robert.kooij,victor.klos,kamal.ahmed}tno.nl
2Fac. of Electrical Engineering, Mathematics and Computer Science
Delft University of Technology
Delft, the Netherlands
Abstract—Nowadays various digital television services are
available. However, the user of these services experiences
longer delays than the traditional analog TV while switching
from channel to channel. The digital TV operator usually
displays a black screen with the channel number during
zapping. However, it could be interesting for the TV viewer, if
the operator displays a screen with information instead of just
a black screen. This information may be an advertisement,
information about the target channel, personalized content of
the user etc. In this paper, we describe a subjective experiment
where the Quality of Experience (QoE) of channel zapping was
quantified, while displaying a random set of advertisement
pictures during zapping. It is found that, for longer zapping
times, advertisements give better QoE than the black screen.
However, when zapping times are small, users prefer a black
screen over a glance of an advertisement picture. Based upon
our findings we propose a system for optimal zapping
experience. The system first estimates the zapping time (per
target channel) and then, depending on this estimation,
displays either a black screen, a picture or a clip.
Keywordst; Channel Zapping, Quality of Experience, Mean
Opinion Score, IPTV, advertisements.
I.
INTRODUCTION
This paper is an extended version of [1]. The extensions
and new contributions over [1] are as follows: the number of
persons that have participated in the subjective experiments
has been increased from 12 to 30; a subsection has been
added about measurements that have been performed to get
insight about zapping times for today’s digital television
services; a completely new section has been added about
how the finding of this research can be used to design a
system for optimal zapping experience.
Telecom Service Providers around the world are in a race
to deploy new revenue generating services in order to offset
the accelerating decline in voice revenues. For instance, US
based providers faced a decline of 34% in voice-related
revenues between 2000 and 2006 [2]. Among others, Service
Providers came up with a new service called “triple play”,
which is the commercial bundling of voice, video and data
on a common IP based network infrastructure. This IP based
network
infrastructure
allows
providing
enhanced
applications and services such as IPTV, VoIP, video
telephony and Video on demand (VoD). However, as
providers deploy new services, they also have to provide
optimal Quality of Experience (QoE). QoE takes into
account how well a service meets customers goals and
expectations rather than focusing only on the network
performance. In this highly competitive market Service
Providers which are offering high quality IPTV services
should address the QoE requirements of IPTV.
One of the key elements of QoE of IPTV is how quickly
users can change between TV channels, which is called
channel zapping. The zapping time is the total duration from
the time that a viewer presses the channel change button, to
the point the picture of the new channel is displayed, along
with
the
corresponding
audio.
Minimum
quality
requirements for a lot of aspects related to IPTV have been
specified by both the ITU [3] and the DSL Forum [4].
However
in
the
ITU
document
there
are
no
recommendations at all related to zapping times, while in the
DSL forum document it is recommended to limit zapping
time to an arbitrary maximum of 2 seconds. Additionally it is
noticed in the document that providers should strive for
zapping times in the order of 1 second.
Because these quality requirements are rather vague
Kooij et al. [5] conducted a number of subjective tests in
order to get insight in the relation between QoE and zapping
time. For the tests described in [5], during channel zapping a
black screen was visible which contained the number of the
target channel. The QoE was expressed as a so-called Mean
Opinion Score (MOS). The test subjects (21 in total) could
select one of the following five opinion scores, motivated by
the ITU-T ACR (Absolute Category Rating) scale, see [6]: 5:
Excellent zapping quality, 4: Good zapping quality, 3: Fair
zapping quality, 2: Poor zapping quality, 1: Bad zapping
quality.
The main result of [5] is an explicit relation between the
user perceived QoE and the zapping time. From this relation
it was deduced that in order to guarantee a MOS of at least
3.5, which is considered the lower bound for acceptable
quality of service, see [6], we need to ascertain that Zapping

205
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
Time < 430 ms. Note that for MOS = 3.5 the average user
will detect a slight degradation of the quality, of the
considered service.
The requirement on the zapping time
mentioned above is currently not met in any implementation
of IPTV, see for instance [7], and also subsection E in
section 2. To increase the QoE of channel zapping, two
approaches are possible. In the first approach the actual
zapping time is reduced. An example of this method is given
by Degrande et al. [8]. They suggest to retain the most recent
video part in a circular buffer and display this video until the
incoming channel is ready.
In the second approach the QoE is (possibly) increased
by showing information while the user waits for the target
channel to appear. The displayed information could be about
the target channel, personalized content or advertisements,
see also [9].
The aim of this paper is twofold. The first aim is to assess
the
QoE
of
channel
zapping
when,
during
zapping,
advertisements are displayed, instead of the usual black
screen. The second aim is to propose a system for optimal
zapping experience. The system first estimates the zapping
time (per target channel) and then, depending on this
estimation, displays either a black screen, a picture or a clip.
The rest of this paper is organized as follows. In section
2, the possible effect of advertisements on IPTV perceived
quality is analyzed and various factors that contribute to the
results are listed. In Section 3 the experiment performed to
quantify the user perception is described. In section 4, the
results obtained from the subjective tests are presented.
Section 5 describes a system for optimal zapping experience.
Finally, conclusions are given in Section 6.
II.
QUALITY OF EXPERIENCE AND ADVERTISEMENTS
A.
Quality of Experience of IPTV
Quality of Experience is the quality as judged by the
user. QoE for IPTV is a subjective measure of the IPTV
service that is evaluated by test subjects and depends on two
types of factors. The first type of factors is due to the actual
Quality of Service (QoS) or network quality being provided.
The other type of factors result in a change of the user
perception even though the QoS being provided remains the
same.
Some of the factors that affect the QoE resulting from the
actual QoS of the network are,
a)
The zapping time;
b)
The visual quality: this factor depends on the
quality of encoding and decoding and on the packet loss in
the network;
c)
Synchronization between video and audio.
The other factors which result in variation in the user
perception, even though the QoS remains the same, are:
a)
The user device: the equipment the user is using to
watch the channel is also important, for instance, the screen
resolution of the TV;
b)
The educational level, age and the TV watching
experience of the customers;
c)
The mood and concentration of the customer;
d)
Viewing conditions, such as room illumination,
display type (brightness, contrast), viewing distance etc.;
e)
The IPTV service cost.
Measuring the QoE is very important for the service
provider. Once the quality perceived by the user is measured,
the vendor can determine the minimum requirements on the
IPTV service quality (such as the maximum tolerable
zapping time). Moreover, the vendors can provide additional
services or use techniques to boost the user perception with
the same QoS level being provided. For example, using
advertisements during channel zapping may increase the
QoE.
B.
Effect of Advertisements on QoE
Using advertisements during the IPTV zapping times is
an approach that tries to increase the QoE while the service
quality or zapping time remains unchanged. Obviously, not
all people would be happy to see advertisements during
zapping. Therefore one could also think of educational or
entertainment content during zapping. However, in this paper
we focus only on advertisements because the business driver
for this case is stronger. In fact, there are two major
consequences that are expected to boost the QoE in the case
of the actual implementation of this approach.
a)
Users will watch the advertisements during the
channel zapping, so they will not be bored with the longer
zapping times. Hence, the perception of the user for the
channels with advertisements could increase with respect to
the black screens. This is actually what we have measured in
the conducted subjective experiment.
b)
The second consequence is that the providers will
earn money from these advertisements. So, they can lower
the price of the service. Obviously, a lower price is one of
the factors that can boost the QoE.
It should be noted that the effect of advertisements on
QoE is not just straightforward if it would be implemented.
Rather, it depends on various factors which could affect the
QoE positively or negatively.
a)
The type of advertisement: A particular user could
like
some
sort
of
advertisements
and
dislike
other
advertisements.
b)
The content of the advertisement picture with
respect to the length of the zapping time: For example, a
glance of an advertisement that stays for a very short
duration or a picture advertisement that stays static for a
zapping time of 5 sec could be annoying for the user.
Advertisements
containing
much
text
or
video
advertisements may be of little importance if zapping time is
short.
c)
The advertisement between the channels may need
to be made random for better user perception; moreover, the
advertisement set should be changed after some time.

206
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
Some of the factors above could positively affect the user
perception. However, the implementation complexity also
increases if all these issues are to be properly addressed. The
best approach to use these advertisements is to select an
advertisement randomly from a set of advertisements pre-
rendered and stored in the Set-top Box (STB) when the user
zaps
to
a
different
channel.
Using
pre-rendered
advertisements is important because the zap screen can then
be displayed immediately in this case.
III.
THE EXPERIMENT
A.
Design of the experiment
For the IPTV channel zapping experiment, a HTML page
containing
five
animated
gifs
in
different
layers
is
implemented
in
JavaScript.
These
five
animated
gifs
correspond to 5 different TV channel contents: an orchestra
scene, two film trailers, a cartoon scene, and a sports scene.
These animated gifs do not contain audio. Audio can be
added but the synchronization problem will be another cause
for quality degradation. So, to assess the quality experienced
for zapping times, it is better to make the experiments with
no sound, because otherwise the test subjects opinions might
be biased by the synchronization quality. The animated gifs
are displayed in a screen of size of 720x576 pixels in the
HTML page. The page is designed in layers such that when
the user zaps to a particular channel all animated gif layers
become invisible except the layer containing the required
animated gif.
In the experiment reported in [1], seven zapping times
between 0 and 5 second were implemented in arrays in the
javascript code. These zapping times were 0, 0.1, 0.2, 0.2,
0.5, 0.5, 1, 2, 2 and 5 sec. Some of the zapping times were
repeated to see the consistency of the users. Moreover, a
random ordering of these zapping times is implemented for
each of the 12 test subjects that participated in the subjective
experiment in [1]. When the user zaps to a new channel, the
page sleeps for a time corresponding to the implemented
zapping time before the requested channel is displayed.
During this time a random advertisement picture is selected
from a set of advertisement pictures and it is displayed. This
chain of events is depicted in Fig. 1. For all advertisements
we have used logo-like pictures.
Figure 1. Showing an advertisement during zapping
When the user zaps to the next channel the same step is
repeated,
but
an
advertisement
different
from
the
advertisement shown during the previous zapping epoch is
selected in random manner.
In order to increase the number of test subjects involved,
we have set up an additional subjective experiment with 18
additional test subjects. This time the zapping times were
0.5, 1, 2, 3, 4 and 5 sec. The reason to include “new” zapping
times (3 and 4 sec) is that we did not have acquired data for
these zapping times. We left out some of the original zapping
times in order to keep the length of the test sufficiently short,
thus preventing fatigue of the test objects.
B.
The actual experiments
In this subsection we list the outcomes of the original
experiment
with
12
test
subjects
and
the
additional
experiments with 18 test subjects. The test subjects consisted
of a total of 30 people at TNO ICT in Delft, the Netherlands.
The test subjects varied in age, gender and experience.
To view the channels a laptop (Pentium 4, 2GB RAM,
windows vista, 1500x750 pixels screen resolution) is used as
a TV set. The experiment that we have conducted is of ‘lean
backward zapping’ type. That means the user will sit back in
a chair and use the remote control to zap between the
channels. A Sony Ericsson Bluetooth enabled mobile phone
is used as a remote control device. The experiment contains
two parts, the training and the actual experiment.
In the training session, we show the test subjects three
zapping times: instantaneous, intermediate and slow to give
them an example of how the zapping times in the actual
experiment are to be assessed. During this session, the test
subject will get used to the ITU MOS scale.
During the actual experiments the test subjects were
asked to experience the zapping times by zapping between
the channels using the remote control (mobile phone) then to
evaluate the experienced quality. For the test in [1] they
evaluate their perception for the different zapping times, first
using black screen and then using advertisements during
zapping. For the new subjective test only the perception
when using advertisements during zapping was asked. The
users are also given the chance to give open suggestions. The
handouts and scoring tables are given in Appendix A. To our
knowledge these experiments were the first ever to assess the
Quality of Experience when pictures are displayed during
zapping.
IV.
RESULTS
A.
MOS results
The results obtained for each zapping time are analyzed
and averaged over the number of test subjects to obtain the
MOS for each zapping time. This is done for both the case
where a black screen is shown during zapping and the case
where an advertisement is shown. From now on we will refer
two these two cases as ‘black screen’ and ‘advertisement’.
The obtained results are shown in Table 1 and Table 2,
respectively. Note that the results in Table 1 are completely
based upon [1] while Table 2 is based upon [1] and the
additional subjective experiment.
Table 1. MOS for ‘black screen’
Zapping Time(sec)
MOS
Std. Dev.

207
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
0
4.75
0.62
0.1
4.83
0.39
0.2
4.42
0.67
0.2
4.25
0.62
0.5
3.33
0.89
0.5
3.50
0.67
1
2.75
0.75
2
1.83
0.83
2
1.83
0.58
5
1.08
0.29
Table 2. MOS for ‘advertisement’
Zapping Time(sec)
MOS
Std. Dev.
0
4.42
1.24
0.1
2.92
1.38
0.2
3.04
1.20
0.5
3.40
1.27
1
3.37
0.85
2
2.71
0.97
3
2.17
1.04
4
1.61
0.85
5
1.77
1.01
As seen from the tables, the standard deviation is lower
for the MOS of the black screen experiment. This implies the
opinion of the users for the black screen zapping is quite
stable. However, for an advertisement related MOS the
opinion of different people shows more variance.
The MOS results, together with their 95% confidence
intervals, are also shown in Fig. 2 and Fig. 3.
QoE of Zapping (95% Confidence Interval)
0.5
1
1.5
2
2.5
3
3.5
4
4.5
5
5.5
0
1
2
3
4
5
Zapping Time (sec)
MOS
Black screen
Figure 2. MOS for ‘black screen’
QoE of Zapping (95% Confidence Interval)
1.00
1.50
2.00
2.50
3.00
3.50
4.00
4.50
5.00
5.50
0
1
2
3
4
5
Zapping Time (sec)
MOS
Advertisement
Figure 3. MOS for ‘advertisement’
In order to compare the two cases, Fig. 4 contains the
MOS results for both ‘black screen’ and ‘advertisement’.
The following important insights can be obtained from
Figure 4:
•
The QoE decreases as the zapping time increases,
both for ‘black screen’ and ‘advertisement’, except for
‘advertisement’ for zapping times between 0.1 sec and 1 sec,
and for ‘advertisement’ for zapping times between 4 sec and
5 sec.
•
The MOS for ‘advertisement’ exceeds the MOS for
‘black screen’ for zapping times greater than 0.65 sec. This
implies that the users prefer ‘advertisement’ only when the
zapping time is sufficiently large. For zapping times of 1, 2,
3, 4 and 5 sec, the anticipated QoE increment is clearly seen,
as the ‘advertisement’ curve for these zapping times shifts
upwards with respect to the ‘black screen’ curve.
•
The ‘advertisement’ MOS is more or less constant,
for zapping times less than 1 sec. However, it decreases
when the zapping time increases to 2 sec and 5 sec. This
means users are still annoyed with longer zapping times,
even though advertisements are shown during zapping.
•
The QoE curve for ‘advertisement’ drops with high
slope from zero zapping time to a zapping time of 0.1 sec.
Because the ‘black screen’ curve decreases smoothly, we
conclude that it is a bad idea to show advertisements in case
of short zapping times.
QoE of Zapping
0.00
1.00
2.00
3.00
4.00
5.00
6.00
0
1
2
3
4
5
Zapping Time (sec)
MOS
Advertisement
Black screen
Figure 4. MOS for ‘black screen’ and ‘advertisement’

208
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
B.
Comparison for ‘black screen’ with previous results
The ‘black screen’ experiment was conducted before, see
[5]. Our test scenarios are similar to the one reported in [5],
except for some minor changes in the setup, like the laptop
used for the experiment, the experiment room and the test
subjects. The results obtained from the two tests are
compared in the table below.
Table 3. ‘Black screen’ MOS for our experiment and previous experiment
in [5]
Zapping
Time(sec)
MOS
Our
experiment
MOS
Experiment
in [5]
0
4.75
4.90
0.1
4.83
4.90
0.2
4.42
4.60
0.2
4.25
4.50
0.5
3.33
3.50
0.5
3.50
3.30
1
2.75
2.30
2
1.83
1.60
2
1.83
2.00
5
1.08
1.10
It is clear that the outcome of the experiments is almost
similar. In fact, the correlation between the two experiments
is as high as 0.99.
The authors of [5] suggested the following model for the
relation between zapping time (in sec) and QoE (expressed
in MOS), for the ‘black screen’ case:


.2 65 5, }}
.1 02 ln
max{ ,1 min{




ZappingTime
MOS
(1)
1
1.5
2
2.5
3
3.5
4
4.5
5
0
1
2
3
4
5
Zapping time (sec)
MOS
subjective data
model from [5]
Figure 5. Comparing our ‘black screen’ results with the model from [5]
C.
QoE model for ‘advertisement’
Analogous to the QoE model for ‘black screen’ in [5] we
will now suggest a QoE model for ‘advertisement’. Using
curve fitting on the following intervals (in seconds) for the
zapping time: [0,0.1], and [0.1,5], we arrive at the following
QoE model:
}
,
max{
y1 y2
MOS 
(2)
where
.4 42
)
15 (
1


 
ZappingTime
y
,
y2 = 0.0194x5 - 0.2583x4 + 1.307x3 - 3.0864x2 + 2.7366x
+ 2.6466,
with x = Zapping Time (in seconds). Eq. (2) holds for
Zapping Times on the interval [0, 5].
Using Table 2 we can validate the QoE model suggested
in Eq. (2). This validation is visualized in Fig. 6.
1.00
1.50
2.00
2.50
3.00
3.50
4.00
4.50
5.00
0
1
2
3
4
5
Zapping Time (sec)
MOS
QoE model
Subjective data
Figure 6 . MOS versus Zapping Time
It turns out that the correlation between the subjective
data and the QoE model is 0.99 which is very high. In
addition, the RMSE (Root Mean Square Error) equals 0.055
while the MCI (Mean Confidence Interval) satisfies 0.46.
Therefore we conclude that the QoE model given by Eq. (2)
is very useful for assessing the QoE of zapping for
‘advertisement’.
D.
Discussion on user comments
In addition to evaluating the MOS, users were asked to
comment on the usability of advertisements during the
zapping times and the reasons behind the MOS scores they
gave.
The following are the main comments of the users,
a)
A logo advertisement is not good enough for longer
zapping times: Most users get annoyed with a single picture

209
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
advertisement that is displayed for 2 or 5 seconds. It is better
to put a video advertisement for such long zapping delays.
b)
Advertisements which have darker (non-bright)
colors are better for the user perception: A white background
picture advertisement is not good if the channels have a
black background. So, it is good to avoid dynamic changes
in the frame color.
E.
Typical zapping times
To obtain an indication of zapping times that are found in
practice in today’s digital television services, we performed
some simple measurements. These measurements were
carried out manually with the use of a stopwatch. For each
of the services the test methodology used was the same.
However it should be noted that testing of each of the
services was performed only once, at one arbitrarily selected
location during an arbitrary time of the day. Additionally,
for each service, the measurements were carried out with the
use of a single STB (Set-top Box). For most services it is
possible to choose between several types of STB’s. This
means that none of the results necessarily is a good
representation of the general performance of this service.
However, in the assumption that providers aim to offer a
constant quality level to all customers, these test results
should give a reasonable indication for the overall service
performance. The services that we have measured, all
offered by Dutch providers, are:

Provider 1: Digital TV service based upon
DVB-T

Provider 2: Digital TV service 1 over cable

Provider 3: Digital TV service 2 over cable
In order to get a good indication of the overall zapping
behavior of both services it is necessary to have a sufficiently
large number of sample zapping times. For our test we
switched channels in total 90 times. 45 times we used the
arrow buttons to zap sequentially from channel 1 to 10 and
back to channel 1. Subsequently we followed the same
procedure to measure zapping delays while using the number
buttons of the remote control. Since we did the tests
manually with a stopwatch, the tests were performed with
the volume of the TV turned off (muted). In this way the
person performing the measurement would not be influenced
by the sound that belongs to the image (sometimes “sound
switching times” show different zapping behavior than the
“image switching times”).
We limited the test between channels 1 to 10 because all
three services in this test offered the “main channels” on
these channel numbers. These channels were; NED1, NED2,
NED3, RTL4, RTL5, SBS6, RTL7, Veronica/Jetix, NET5
and RTL8.
To measure the zapping time between channels we started
the stopwatch simultaneously with the push of the button on
the remote control (in case we zapped to e.g. channel 14 we
started the stopwatch at the moment that the button for the
second figure was pushed, in this case 4). As soon as we saw
an image we stopped the time. Then we subtracted 0.2
seconds from this time in order to compensate for the human
response delay.
In Table 4, the mean delays and the variations in zapping
delay are listed for all measured services.
Table 4: Measured zapping times from existing services
Service
Provider 1
Provider 2
Provider 3
STB type
Samsung SMT-
1000T
Thomson
52UPC01
Humax IR-Fox
C
Arrows
Mean delay
2,12 s
1,30 s
1,82 s
Variation
0,44 s
0,09 s
0,23 s
Numbers
Mean delay
3,65 s
1,36 s
4,45 s
Variation
0,33 s
0,11 s
0,25 s
Combined
Mean delay
2,89 s
1,33 s
3,14 s
Variation
0,97 s
0,10 s
1,99 s
Notice the large differences between the average zapping
times for “zapping by arrows” and “zapping by numbers” in
the Provider 1 and Provider 3 case. These differences are
caused by the implementation of the STB’s. When using the
arrows,
the
STB
starts
fetching
the
new
channel
immediately. When pushing a number, the STB “waits” a
short period for an additional number. For example: if a user
pushes number 1 on the remote control in order to zap to
channel 1, then the STB waits a short period for an additional
number in case a user intends to zap to a different channel.
This could be e.g. number 2 to zap to channel 12 or number
3 to zap to channel 13. Only after this short period, if the
second number is not detected, then the STB starts fetching
channel 1. From the differences between the averages we can
conclude that this “waiting period” is about 1.5 seconds in
the Provider 1 STB implementation and about 2.5 seconds in
the Provider 3 STB implementation.
V.
SYSTEM FOR OPTIMAL ZAPPING EXPERIENCE
From our conducted subjective experiment, it is found
that, for some ranges of zapping times, advertisements lead
to a better QoE than black screens. However, for small
zapping times black screen is found to be better, see also Fig.
4. However, users also commented that for longer zapping
times, i.e. in the order of at least 2 seconds, a video
advertisement is preferred over a picture advertisement. Thus
it can be anticipated that in order to compare the QoE of
‘black screen’, ‘still picture’ and ‘clip’, Fig. 7 can be used.

210
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
QoE of Zapping
0.00
1.00
2.00
3.00
4.00
5.00
6.00
0
1
2
3
4
5
Zapping Time (sec)
MOS
Advertisement
Black screen
Clips (predicted)
Figure 7. MOS for ‘black screen’, ‘still picture’ and ‘clip’
Note that the MOS curve for ‘clip’ in Fig.7 is an
anticipated prediction; it is not based upon actual subjective
experiments with ‘clips’ during channel zapping. Based upon
Fig.7, we propose a system for optimal zapping experience.
A.
Requirements
In the IPTV provider network usually not all streams
originate from the same source. The most popular ones are
streamed from the ‘edge’ of the network so as to enhance
startup times. Less popular channels are streamed from a
more central location as this reduces bandwidth consumption
and hence reduces cost [10]. The system is subject to a
number of imminent changes in the environment, e.g.
channels that change the source of origin, new home network
equipment and a change of service provider, etcetera. A
system like this one needs to adapt to such changes itself, in
an automated manner.
Related, but slightly different is the requirement that the
system must be zero-configuration. A STB is a device with
limited user interfacing capabilities. Configuring one with
only a remote control is a daunting task for most regular
users already, so having users configure initial settings
regarding the ISP or SP network settings should be avoided
whenever possible.
Many other requirements exist, but these are considered
out of scope.
B.
System Overview
The main task of the system is to first estimate the
zapping time and then, depending on this estimation, display
either a black screen, a picture or a clip. As we learn from
the requirements above, its secondary task is to constantly
improve the prediction.
Three main functional blocks can be distinguished within
the system: (i) the Set-top Box (STB) functionality, (ii) the
Delay Predictor and (iii) the Content Selector. These
components work together to fulfill the two tasks stated
above. Fig. 8 depicts the system overview. The system
boundary is indicated with a dashed line.
All messages referenced in the text below refer to the
numbered arrows in this figure. Arrows with filled solid
heads indicate that a result is received in response to the
corresponding message. E.g. message 2.2 actually returns a
value; the delay. It is therefore required that the Delay
Predictor itself finishes the calculation of that value. During
this processing time the message sender must wait. This
behavior is referred to as blocking, or synchronous. Arrows
with stick heads on the other hand indicate asynchronous
messages. The sender does not need to wait for the receiving
module to process the message and come up with a result.
User
STB
Content Selector
Delay Predictor
History Datastore
Black Screen
Still Picture
Movie Clip
IPTV Stream Server
IPTV Stream Server
IPTV Stream Server
3.2. report channel switch finish
1. switch channel ( to_channel )
2.3. select content ( delay )
2.1. request channel ( to_channel )
3.1. supply new channel
2.2. get delay ( to_channel )
Figure 8.
Overview of System for Optimal Zapping Experience

211
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
Instead, the sending party treats such messages as “fire and
forget”.
C.
Selection
The STB comprises all functionality of a regular STB. It
listens for user requests, e.g. by means of an infrared receiver
and a remote control. It requests video streams from external
sources, e.g. through multicast joins and it renders the picture
to an external television set.
In the presented system it also manages the in-between
content. It does so by first querying the Delay Predictor to
get the delay for the user-selected channel (message 2.2).
The returned value is the estimated waiting time or delay,
which is forwarded to the Content Selector (message 2.3).
The Content Selector determines the recommended action to
be taken to optimize the waiting experience. The set of
actions is a mapping from a time interval to a preferred
action, as shown in the table below.
Table 5. Mapping of Time interval to Action
Time interval
(seconds)
Action
0 < τ ≤ a
Do nothing
a < τ ≤ b
Show black screen
b < τ ≤ c
Show picture
c < τ ≤ d
Show video clip
τ > d
Show sequence of video clips
In this table values a through d depict time values, where
0<a<b<c<d and τ represents the predicted time.
Finally, the determined action is returned in response to
message 2.3., accompanied by a reference to the content to
use. The STB displays the indicated content item until the
new channel stream is ready to be displayed (message 3.1).
D.
Adjusting the prediction
In order to be able to adjust its future estimations, the
Delay Predictor must be aware of the actual duration of
channel switches. A new waiting time measurement is
triggered by the “2.2 get delay” message. The time instance
this message is received is recorded as T0. The time
measurement ends when a “report channel switch finish”
message is received. The time instance this event is received
is recorded as T1. Based on T0 and T1 the waiting time for
this request is determined:
0
1
_
T
T
T
waiting time



The measurement is stored in the History Datastore,
along with an identifier for the request that comprises the
target channel (to_channel) which can be a Uniform
Resource Identifier (URI).
E.
Prediction
Using the identifier for the user request as presented
above, a prediction is made for the expected waiting time
from previous measurements for the same request (requests
with the same identifier). It is assumed here that the expected
delay is dependent only on the newly selected channel. The
prediction is a default value when no measurements are
available, otherwise it is the exponential weighted average
like:
t
t
t
x
S
S








1
)
1(

where St is the estimation, St-1 is the previous estimation,
α is the smoothing constant and xt the last measurement.
While being simple to implement on a limited resources
device like a STB, this still provides a zero-configuration
solution that adapts well to a changing environment.
F.
Optional Changes

The prediction as performed by the Delay Predictor may
be based on other parameters like the time of day, the
number of concurrent users (the system load) or
anything else that could influence the waiting time.

The system may be adapted as to provide an ‘optimal
waiting experience’, i.e. not only for use in IPTV
environments but also in ATMs, web browsers and any
other situation where a user has expressed a wish to
some
machine
while
the
waiting
time
is
non-
deterministic.
VI.
CONCLUSIONS
Measuring the QoE of IPTV is an important issue for
vendors and service providers. Channel zapping time is a
major factor that affects QoE in IPTV. One of the ways to
increase the user perceived quality of channel zapping, is to
display advertisements during zapping, instead of the usual
black screens. From our conducted subjective experiment, it
is
found
that,
for
some
ranges
of
zapping
times,
advertisements lead to a better QoE than black screens.
However, for small zapping times black screen is found to be
better. For intermediate zapping times picture advertisements
are
convenient.
For
longer
zapping
times
picture
advertisements give a better QoE than black screens;
however, using video advertisements might give even better
QoE in that situation. In the future we would like to conduct
subjective tests where advertisement clips are used during
long
zapping
times.
This
work
might
lead
to
the
establishment of two zapping time thresholds: a black screen
should be used below the lower threshold and video
advertisements above the higher threshold. We also plan to
conduct subjective tests in other countries, to see whether or
not regional differences occur.
Lastly, we have shown how to implement a ‘System for
Optimal Zapping Experience’. In the near future we will
implement the system in a field trial and will conduct further
subjective experiments with the system, taking into account

212
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
longer time scales, i.e. we will assess QoE after a period of
for instance 3 months. Finally we suggested that the system
might be adapted to function as a broader ‘System for
Optimal Waiting Experience’. Hopefully this inspires others
to improve the quality of experience in our day to day
activities.
ACKNOWLEDGMENT
This work is partially supported by the CELTIC Project
RUBENS.
For
more
information,
see
http://wiki-
rubens.celtic-initiative.org.
REFERENCES
[1]
B.E. Godana, R.E. Kooij and O.K. Ahmed, Impact of Advertisements
during Channel Zapping on Quality of Experience, Proc. of The Fifth
International Conference on Networking and Services, ICNS 2009,
Valencia, Spain April 20-25, 2009.
[2]
Spirent communications white paper, “Delivering optimal QoE for
IPTV success”, Feb.2006.
[3]
ITU Focus group on IPTV, “Quality of Experience requirements for
IPTV”, FG IPTV-DOC-0118, July 2007.
[4]
DSL Forum, “Triple Play Services Quality of Experience (QoE)
Requirements
and
Mechanisms”,
Technical
Report
TR-126,
December 2006.
[5]
Robert Kooij, Kamal Ahmed, Kjell Brunnström, “Perceived Quality
of Channel
Zapping”, Proc. of the fifth IASTED International
Conference, Comm. Systems and Networks, Aug. 28-30, 2006, Palma
de Mallorca, Spain, pp. 155-158.
[6]
ITU-T Rec. P.800, “Methods for Subjective, Determination of
Transmission Quality”, July 1996.
[7]
Nick Fielibert, “Quality Issues in IP Delivery: Set-top boxes”,
September 2008,
http://www.ieee.org/organizations/society/bt/08iptv3.pdf
[8]
N. Degrande, K.
Laevens, D.
De Vleeschauwer,
R.
Sharpe,
“Increasing the user perceived quality for IPTV services”,
IEEE
Communications Magazine, Vol. 46, Issue 2, Feb. 2008, pp. 94-100.
[9]
Bigband Networks, “Methods and apparatus for using delay time
during switching events to display previously stored information
elements”, US Patents 7237251, March 2000.
[10] J. Caja, “Optimization of IPTV Multicast Traffic Transport over Next
Generation Metro Networks,” in Telecommunications
Network
Strategy and Planning Symposium, 2006. NETWORKS 2006. 12th
International, Nov. 2006, pp. 1–6.
APPENDIX A: QUESTIONAIRE FOR SUBJECTIVE ASSESMENT
Objective: To assess the user perceived quality of digital
TV when displaying advertisements during zapping.
General introduction
Nowadays
various
digital
television
services
are
available. But, the user of digital TV experiences longer time
delays than the traditional analog TV while switching from
channel to channel. The digital TV operator usually displays
a black screen during these switching times. However, it
could be interesting for the user of digital TV, if the operator
displays advertisements instead of a black screen. In this
experiment we want to quantify the quality the end user
perceives when advertisements are displayed during these
switching times.
Introduction to the experiment
In the following experiments you will be asked to assess
a total of 10 switching times. The first set of experiments
will be done for a black screen and the second set of
experiments with advertisements. For this purpose five pre-
programmed TV channels are used. You can switch between
the channels by pressing the keys 1 to 5 on the mobile phone
(“the remote control device”). To change to a different
switching time, use the volume up/down keys on the mobile
phone. The task is to assess the duration of these switching
times using Mean Opinion Score values shown in the table.
Mean Opinion Score:
Explanation:
5
Excellent
4
Good
3
Fair
2
Poor
1
Bad
Training
Three switching times are shown in the training. These
switching times will be rated as shown in the following table.
Switching Time
MOS
instantaneous
5
intermediate
between 5 and 1
slow
1
The actual experiment
Follow the instructions below for both Set 1 (black
screen) and Set 2 (advertisement) experiments.
1.
In the opening screen: select your subject number.
2.
Select “switching time 1” in the drop-down list on
the bottom of the screen.
3.
Experience the switching time and write down the
MOS value in the table for this switching time.
4.
Then select “switching time 2” in the drop-down
list (can also be changed using the volume up/down
button of the mobile phone) and repeat step 3 until
you have assessed all 10 switching times.
Usage note:
Action
Key to use on mobile
Zap between channels
1 to 5
Change switching time
volume up/down
Form:

213
International Journal on Advances in Systems and Measurements, vol 2 no 2&3, year 2009, http://www.iariajournals.org/systems_and_measurements/
Black screen
MOS
Advertisement
MOS
1
2
3
4
5
6
7
8
9
10
Further Suggestions:
1.
…
2.
…

