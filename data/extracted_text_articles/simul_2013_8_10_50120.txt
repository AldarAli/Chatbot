Personalizing Thermal Comfort in a Prototype Indoor Space 
 
 
Sotirios D Kotsopoulos, Federico Casalegno 
School of Humanities Arts and Social Sciences 
Massachusetts Institute of Technology 
Cambridge, Massachusetts, USA 
e-mail: skots@mit.edu, casalegno@mit.edu 
Antoine Cuenin  
Department of Energy Systems Engineering 
Ecole Nationale Supérieure des Mines 
Nantes, France 
e-mail: antoine.cuenin@gmail.com
 
 
Abstract—This paper presents an experimental method for 
monitoring and regulating thermal comfort at the interior of a 
house. It presents a function that was developed in MATLAB, 
aiming to compute the Predicted Mean Vote (PMV) and 
Predicted 
Percentage 
of 
Dissatisfied 
(PPD) 
indexes. 
Furthermore, an improvement of the MATLAB function was 
developed in the form of a Simulink simulation by using fuzzy 
logic. Although the method, at its current stage of 
development, cannot compute a PMV index value in the way it 
was intended, it does compute the operative temperature, 
allowing the residents to ascertain whether or not thermal 
comfort can be established in a particular indoor area.  
Keywords-thermal comfort; simulation; fuzzy logic. 
I. 
 INTRODUCTION 
Thermal comfort is of paramount importance in ensuring 
fine living conditions in indoor spaces. This paper presents 
an experimental method for monitoring and regulating 
thermal comfort at the interior of a prototype house that is at 
the final stage of construction in Trento, N. Italy. The theory 
of thermal comfort is used, based on the work of P. O. 
Fanger who introduced two indexes, the Predicted Mean 
Vote (PMV) and Predicted Percentage of Dissatisfied (PPD), 
in order to quantify the parameter of thermal comfort [1]. 
This study presents a function that was developed in 
MATLAB [2] to compute thermal comfort based on 
simulation. The function computes the PMV and PPD 
indexes at the same time and displays the results on a graph. 
Furthermore, an improvement of the MATLAB function was 
developed in the form of a SIMULINK simulation [3] by 
using fuzzy logic [4]. Although the overall system at its 
current stage cannot compute a PMV index value in the way 
it was intended at the beginning of the research, it does 
compute the operative temperature, thus allowing the 
residents to ascertain whether or not thermal comfort can be 
established in a particular indoor house area.  
Numerous attempts to quantify thermal comfort have 
been made since the 1970’s, when the Danish scientist P.O 
Fanger established a thermal comfort theory. Although 
Fanger published his first paper on the subject with the 
intention to establish a higher standard for the use of Heating 
Ventilating and Air Conditioning (HVAC) systems, the 
theory of thermal comfort was neglected by the 
environmental management industry. The approach of 
traditional environmental management systems towards 
indoor comfort relies mostly on tracking the fluctuation of 
the interior temperature and humidity levels and reactively 
adjusting the operation of the HVAC system. This approach 
is not different from using simple thermostatic control. 
Furthermore, traditional environmental management systems 
regulate the thermal conditions of an interior at a building 
scale and individual considerations are neglected.  
The design philosophy of the prototype house in Trento 
aims at a personalized environmental management approach 
[5], [6]. The south façade of the prototype is a programmable 
solar wall, forming a grid of electro-active windows, the 
modifications of which enable the precise adjustment of 
light, heat, view, and air in the interior. On a hot summer 
day, the electrochromic layer of a number of windowpanes 
can be set to its minimum solar transmittance value to protect 
the interior from direct sun exposure. On a cold winter day, it 
can be set to its maximum solar transmittance value to 
expose the interior to the winter sun. One of the project’s 
objectives is to minimize the use of electricity. The residents 
determine the desired comfort levels and their schedules, and 
a central control system minimizes the consumption of 
electricity while guaranteeing that the comfort levels are 
maintained at all times. Given that the Trento prototype was 
envisioned to provide an environment that remains adaptable 
to individual human needs, it was only natural to attempt 
developing an environmental management system that would 
acknowledge the thermal comfort level of individual users. 
After providing a brief overview of related work to this 
research, a MATLAB function is presented able to calculate 
the thermal comfort levels at the interior of the prototype 
house. After presenting simulations with the MATLAB 
function, tools involving fuzzy logic are integrated in the 
method of computing the PMV and PPD values, aiming to 
provide greater flexibility and accuracy in the calculations. 
The system that is presented in the paper combines two parts 
operating in parallel, a personal-dependent model and an 
environmental model. A series of calculations of the PMV 
index are presented next, with the motivation to prove that 
the proposed system in its current state, while not fully 
operational, it is still competent. It simulates PMV and in 
real life application it can supply a temperature that is in 
close proximity to the one that achieves thermal comfort. 
Finally, the paper ends with the conclusions and with 
suggestions for further research. 
178
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

II. 
BACKGROUND 
Thermal comfort accounts for numerous parameters that 
influence decisively a person’s feeling of comfort in an 
indoor space. Multiple atmospheric parameters have to be 
considered if one is to determine the thermal comfort in a 
room, namely, air temperature, mean radiant temperature, 
air 
velocity, 
and 
relative 
humidity. 
Mean 
radiant 
temperature is the uniform temperature of the surrounding 
surfaces, which will result in the same heat exchange by 
radiation from a person as in the environment. Air velocity is 
a parameter that is relevant to the consideration of the heat 
loss by convection. Air velocity is directly related to the 
amount of energy exchanged in this physical process. 
Relative humidity is an important aspect of the global heat 
loss process. If the air is dry the relative humidity is low, and 
perspiration increases to help keep the body cool. A high 
level of relative humidity will prevent perspiration, and it 
will have the opposite effect of a low relative humidity.  
Thermal comfort is based on the notion of the human 
body heat balance. The human body produces energy and 
heat that is required for its operation by burning calories. 
When there is a balance between heat production and heat 
loss, the body’s temperature is at 37 C° and Fanger’s 
equation is satisfied:  
S = M ± W ± R ± C ± K – E – RES = 0.               
      (1) 
where: 
S  = Heat Storage  
M = Metabolism 
W = External work 
R  = Heat exchange by radiation 
C  = Heat exchange by convection 
K  = Heat exchange by conduction 
E  = Heat exchange by evaporation 
RES = Heat exchange by respiration 
 
Metabolism represents the amount of heat released inside 
the human body once calories have been burned. Heat loss 
by evaporation accounts for the body heat loss by the 
diffusion of water through the skin. This water uses body 
heat to evaporate, thus contributing to heat loss. Heat loss 
through clothing accounts for the heat exchange of body heat 
with the external environment by diffusion, through clothes. 
Clothes worn by a person affect the amount of the exchanged 
heat. Experiments with thermal mannequins in thermal 
chambers had determined the thermal insulation provided by 
clothes [7]. Heat loss by radiation amounts to the heat 
exchange of the body with its surroundings through 
radiation. Heat loss by convection corresponds to one of the 
major modes of heat transfer. The heat is “carried away” by 
the airflow. The amount of heat exchanged depends on the 
air velocity. The air velocity determines whether or not the 
convection is “free” or “forced”. 
To calculate the degree of thermal comfort within a 
group of people, Fanger devised the PMV index. The PMV 
is calculated by Fanger’s comfort equation (1). Each time the 
equation is satisfied under specific conditions, a large group 
of people experience thermal neutrality, or thermal comfort.  
Table I presents the seven-level scale that the PMV index 
employs to capture the mean thermal sensation vote of a 
group of people. 
TABLE I.  
PMV SEVEN-LEVEL SCALE 
Scale 
Feeling 
-3 
Cold 
-2 
Cool 
-1 
Slightly cool 
0 
Neutral 
1 
Slightly warm 
2 
Warm 
3 
Hot 
 
The PMV model indicates the level of thermal comfort 
for a group of healthy adults. It is a statistical estimation of 
the mean thermal comfort and hence some individuals may 
still feel uncomfortable even in cases that the PMV index 
equals zero. The PPD index describes the percentage of 
occupants that are dissatisfied with the given thermal 
conditions. Statistical data show 5% PPD is the lowest 
percentage of dissatisfied practically achievable since 
providing an optimal thermal environment for every single 
person is not possible. Even though the PMV model works 
well for adults it requires adjustment for older adults, 
children and disabled people. Feldmeier [8] demonstrated 
that using the PMV index is not the best way to calculate 
thermal comfort. Fanger was aware of the limitations and 
shortcomings of his model. He advised careful use of the 
PMV index for values below -2 and above +2. He also 
warned that the results of the PMV model should be 
regarded as a first estimation. In practice, while the PMV 
index has been validated by field studies, these studies 
pointed out that PMV index should be used with caution 
when dealing with small groups of people. One of the 
problems of the PMV index results from the fact that the 
theory was developed in precisely controlled and monitored 
environments. Certain values such as clothing insulation that 
can be easily determined in the context of the experiments 
are difficult to determine in a real life applications.  
International norms and standards provide guidelines 
regarding the regulation of thermal comfort. Three main 
guidelines exist, namely, the International Organization for 
Standardization ISO EN 7730 – 2005a, the American Society 
of Heating, Refrigerating and Air-Conditioning Engineers 
ASHRAE Standard 55 – 2004, and the European Committee 
for Standardization CEN CR 1752. All three provide 
recommendations based on the PMV index determined by 
Fanger. Thermal comfort is achieved when PPD  10% and - 
0,5  PMV  0,5. It is recommended that no local thermal 
discomfort factors such as radiant temperature asymmetry, 
vertical air temperature difference, floor surface temperature, 
temperature variation with time, etc. are in effect. The 
standard for thermal comfort is defined by the operative 
temperature. The operative temperature is defined as a 
uniform temperature of a radiantly black enclosure in which 
an occupant would exchange the same amount of heat by 
radiation plus convection as in the actual non-uniform 
environment. The operative temperature intervals vary by the 
179
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

type of indoor location and by the time of year. ASHRAE 
standards [9] have listings for suggested temperatures and air 
flow rates in different types of buildings and different 
environmental circumstances. Moreover, to overcome the 
limitations of the PMV index, ASHRAE [9] introduced a 
new adaptive model for measuring thermal comfort. The 
adaptive hypothesis predicts that contextual factors and past 
thermal 
history 
modify 
building 
occupants' 
thermal 
expectations and preferences. The ASHRAE-55 2010 
Standard has introduced the prevailing mean outdoor 
temperature as input variable for the adaptive model. It is 
based on the arithmetic average of the mean daily outdoor 
temperatures (DBT) over no fewer than 7 and no more than 
30 sequential days prior to the day in question. This model 
applies especially to occupant-controlled, natural conditioned 
spaces, where the outdoor climate can actually affect the 
indoor conditions and so the comfort zone. Studies by de 
Dear and Brager [10] showed that occupants in naturally 
ventilated buildings were tolerant of a wider range of 
temperatures. ASHRAE Standard 55-2010 states that 
differences in recent thermal experiences, changes in 
clothing, availability of control options and shifts in 
occupant expectations can change people thermal responses. 
The new model is proposed alongside Fanger’s PMV index 
in every release of ASHRAE Standard 55, however, it has 
been also ignored by the majority of the HVAC industry. 
Further research on thermal comfort considers the heat 
balance of the human body and calculates sensation and 
comfort for local body parts [11], [12]. 
III. 
PMV AND PPD CALCULATIONS 
A MATLAB function was devised to calculate the 
thermal comfort levels at the interior space of the prototype 
house. The motivation driving these calculations was to 
understand the thermal conditions at the house interior on a 
specific day of the year, based on specific assumptions. The 
function that calculates thermal comfort contains two parts, 
namely, the main PMV function named PMV.m., and the 
ComputeTCL.m function. The PMV.m. function collects the 
values of the activity, the clothing insulation, the air 
temperature, the mean radiant temperature, the relative 
humidity, the air velocity, and the external work. Moreover, 
PMV.m. has as task to: compute all the necessary values that 
are needed in order to calculate the PMV and PPD values, 
call the ComputeTCL.m function to compute the numeric 
value, and display the PPD on a graph. The ComputeTCL.m 
function calculates iteratively the clothing temperature value. 
In the next calculations the values for the metabolism, the 
insulation induced by the clothes, and the interior air 
velocity, were provided. The simulation experiments were 
run for the hottest day of the year, July 15th, in N. Italy 
assuming that the activity of the person was light and that the 
person was wearing light clothes such as a pair of shorts and 
a light shirt. The air velocity was set to the one 
recommended by the ASHRAE for optimum indoor comfort.  
Table II presents the conditions of the experiments I, II, 
III and IV. 
 
TABLE II.  
CONDITIONS OF EXPERIMENTS I, II, III, IV 
Parameter 
I 
II 
III 
IV 
Air temperature (C°) 
35 
24 
43 
24 
Mean radiant temperature 
35 
30 
43 
33 
Relative humidity (%) 
46 
55 
30 
53 
Clothing index (Clo) 
0.6 
0.6 
0.6 
0.6 
Metabolism (W) 
70 
70 
70 
70 
Air velocity (in m.s-1) 
0.15 
0.15 
0.15 
0.15 
 
A. Experiment I 
In the first experiment, the thermal comfort was 
computed for the hottest day of the year, July 15, at 2:00 PM, 
in N. Italy assuming that the electrochromic material of the 
windows was active and the AC system was inactive. Based 
on the values of Table II, the results were PMV=3 and 
PPD=100. A plot of the PPD (PMV) appears in Figure 1. 
 
 
 
 
 
 
 
 
Figure 1.  Plot of PPD (PMV) for experiment I. 
B. Experiment II 
In the second experiment, the thermal comfort was 
computed for the hottest day of the year, July 15, at 5:00 PM, 
in N. Italy assuming that the electrochromic material of the 
windows was active and the AC system was active, too. 
Based on the values of Table II, the results were PMV=0.17 
and PPD=5.6. A plot of the PPD (PMV) appears in Figure 2. 
 
 
 
 
 
 
 
 
 
 
 
Figure 2.  Plot of PPD (PMV) for experiment II 
C. Experiment III 
In the third experiment, the thermal comfort was 
computed for the hottest day of the year, July 15, at 2:00 PM, 
in N. Italy assuming that the electrochromic material of the 
windows was inactive and the AC system was inactive, too. 
180
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

Based on the values of Table II, the results were PMV=3 and 
PPD=100. A plot of the PPD (PMV) appears in Figure 3. 
 
 
 
 
 
 
 
 
 
 
 
Figure 3.  Plot of PPD (PMV) for experiment III. 
D. Experiment IV 
In the fourth experiment, the thermal comfort was 
computed for the hottest day of the year, July 15, at 5:00 PM, 
in N. Italy assuming that the electrochromic material of the 
windows was inactive and the AC system was active. Based 
on the values of Table II, the results were PMV=0.47 and 
PPD=9.6. A plot of the PPD (PMV) appears in Figure 4. 
 
 
 
 
 
 
 
 
 
Figure 4.  Plot of PPD (PMV) for experiment IV. 
The calculations I, III – performed during different time 
of the day – allow the comparison of performance with and 
without activating the electrochromic windows. The results 
indicate an improvement when the electrochromic windows 
are active, but in both calculations I, III the thermal comfort 
is far from being achieved. In calculations II and IV, the 
HVAC system is active. This allows evaluating the impact of 
a modern HVAC system during the hottest day of the year. 
In both cases II, IV the PPD value is sufficiently low and 
statistically 90 % of people will experience thermal comfort. 
In the experiments I, II, III and IV, thermal comfort is 
computed during the most demanding weather conditions. 
Given that the goal of the prototype house in Trento was not 
to perform as a passive house, but rather as a low 
consumption one, even with the parallel operation of an 
HVAC system, this goal is still attainable. Furthermore, 
Fanger recognized that the PMV model is not infallible for 
values superior to +2. In the light of these findings, further 
study was conducted to allow for a wider spectrum of 
possible models to offer more accurate account of thermal 
comfort. 
IV. 
FUZZY LOGIC CONTROLLER 
After performing simulations with the MATLAB 
function, the methods of the calculation were upgraded. 
More specifically, tools involving fuzzy logic were 
intergraded to compute the PMV and PPD values with 
greater flexibility and accuracy. The idea to use a simulation 
tool based on fuzzy logic originates from a paper by J. van 
Hoof [13].  Unlike Boolean logic, fuzzy logic allows for 
additional states than true or false. The core of the fuzzy 
logic theory is the membership function. A membership 
function (MF) is a curve that defines how each point in the 
input space is mapped to a membership value (or degree of 
membership) between 0 and 1.  
The fuzzy logic PMV controller was first discussed in 
Hamdi et al. [4]. The paper points to several advantages of a 
fuzzy logic controller compared to other methods. One of the 
main problems regarding Fanger’s PMV model is that his 
equations are not linear and hence they are unsuitable for a 
feedback control system [14], [15]. A lot of effort has been 
made to find a way around the iterative process of 
calculating the value of the temperature of clothing [16], 
[17], [18], by simplifying the equations. However, 
researchers pointed out that such simplifications in the PMV 
model made it unreliable and subject to errors [15]. Hamdi et 
al. [4] proposed a way of computing the PMV index 
accurately without having to use the iterative process. The 
proposed fuzzy logic controller is based on [4]. 
The next sections expose the attempt of integrating fuzzy 
logic in our thermal comfort controller. The main advantages 
of using fuzzy logic to compute the PMV index of a 
particular dataset are the use of a non-iterative process that is 
appropriate for feedback control, the real time simulation 
capability, and the great accuracy. MATLAB was used again 
to implement the fuzzy PMV index described in [4]. 
MATLAB includes a built-in fuzzy logic toolbox that can 
interact with the SIMULINK environment through a 
specially designed block, namely, the fuzzy controller block. 
SIMULINK is built-in the MATLAB environment and can 
either drive or be scripted from it. It was decided to use the 
environment for its tight integration with MATLAB, and 
therefore with the fuzzy toolbox. An additional reason for 
selecting SIMULINK was the existence of a block library for 
fuzzy logic. By providing a graphical simulation tool, 
SIMULINK made the development easier and allowed the 
simulation of dynamic systems. The final system combines 
two parts working together to compute the PMV index value, 
a personal-dependent model and an environmental model. 
A. Personal-Dependent Model 
The personal-dependent model takes into consideration 
only the variables depending on a person inside a room. 
There are only two inputs for this part of the system, the 
metabolic activity of the person in question, and his or her 
clothing index (i.e., clothing insulation). The output of this 
subsystem is a temperature value contained in a range of 
temperatures within which stands the operative temperature. 
The operative temperature is the required temperature to 
reach a PMV value equal to 0 when the air temperature 
equals to the mean radiant temperature (Tair = Tmrt) and 
181
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

RH=50%. The “fuzzy Personal-Dependent Model” block of 
Figure 5 contains a set of membership functions and their 
associated rules. Its output is the air temperature range in 
which the PMV is found to be close to zero. It returns a value 
contained in a specific range. 
 
Figure 5.  Diagram of the personal-dependent model in SIMULINK 
Given that the various temperature intervals are fixed and 
do not overlap, knowing a specific value provides access to 
the temperature range in which the value is contained. The 
purpose of the block immediately following the fuzzy 
controller block is to round up the output value of the 
preceding block in order to use this value in the next block 
(i.e., the switch block) which accepts only integers. 
B. Environmental Model 
While the personal-dependent model is complete, the 
environmental model is not yet fully operational. Figure 6 
presents the block diagram of the environmental model in its 
current state of development. When completed, this model 
will be fairly complex. The first block of the environmental 
model is a “switch block” that allows the system to select 
between five different temperature ranges, depending on the 
unique value returned by the first subsystem.  
 
Figure 6.  Block diagram depicting the environmental model in its current 
state of development. 
Each block in the middle of the model is a subsystem that 
contains a fuzzy controller, an input and an output. Figure 7 
illustrates a block of this kind. 
 
 
Figure 7.  Block diagram depicting a specific subsystem. 
Depending on the input value in the “switch block”, the 
corresponding subsystem representing the correct air 
temperature range is triggered. The input value of each fuzzy 
controller is the air velocity. In the current state of the 
system, it is considered constant, but it can be upgraded to 
produce a signal mimicking the air velocity variations over a 
period of time. The output value is a temperature displayed 
in a display block and named “operative temperature”. The 
last block is a MATLAB function (.m function) designed to 
extract the only positive value contained in the vector created 
on the right of the five subsystem blocks. In this fashion the 
system can deal with a number instead of a vector containing 
five components. 
C. Membership Function of Personal-Dependent Model 
Each fuzzy controller block is embedded in the overall 
system with a membership function created with the 
MATLAB fuzzy logic toolbox. The membership functions 
are identical to the ones described in [4]. Figures 8, 9 and 10 
exhibit the membership functions used in the personal-
dependent mode of the controller. 
 
 
 
 
 
 
 
 
 
Figure 8.  Membership functions of the clothing insulation. 
 
 
 
 
 
 
 
 
Figure 9.  Membership functions of the metabolic activity. 
 
 
 
 
 
 
 
 
Figure 10.  Membership functions of the temperature range. 
In the above illustrations of the membership functions of 
the air temperature range, five temperature intervals are 
noticeable. The fuzzy controller returns a temperature value 
as output. Selecting the temperature range within which this 
value falls is doable since none of the temperature intervals 
are overlapping. Figure 11 presents the output surface of the 
 
182
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

personal-dependent model and visualizes the interaction 
between the two inputs. 
 
 
Figure 11.  Output surface of the personal-dependent model. 
A set of fuzzy rules permits the interaction of the 
membership functions of the personal-dependent model. 
Table III presents these rules. 
TABLE III.  
FUZZY RULES OF THE  PERSONAL-DEPENDENT MODEL 
If  |c| is            and  MADu is         then  Ambient_temperature_range is 
1.  If (|c| is Light) and (MADu is Low) then (Ambient_temperature_range is Very_High (1) 
2.  If (|c| is Light) and (MADu is Medium) then (Ambient_temperature_range is High (1) 
3.  If (|c| is Light) and (MADu is High) then (Ambient_temperature_range is Medium (1) 
4.  If (|c| is Medium) and (MADu is Low) then (Ambient_temperature_range is High (1) 
5.  If (|c| is Medium) and (MADu is Medium) then (Ambient_temperature_range is Medium (1) 
6.  If (|c| is Medium) and (MADu is High) then (Ambient_temperature_range is Low (1) 
7.  If (|c| is Heavy) and (MADu is Low) then (Ambient_temperature_range is High (1) 
8.  If (|c| is Heavy) and (MADu is Medium) then (Ambient_temperature_range is Low (1) 
9.  If (|c| is Heavy) and (MADu is High) then (Ambient_temperature_range is Very_Low (1) 
10. If (|c| is Very_Heavy) and (MADu is Low) then (Ambient_temperature_range is Medium (1) 
11. If (|c| is Very_Heavy) and (MADu is Medium) then (Ambient_temperature_range is Low (1) 
12. If (|c| is Very_Heavy) and (MADu is High) then (Ambient_temperature_range is Very_Low (1) 
 
Figure 12 presents the screen capturing the rule-viewer of 
the fuzzy logic MATLAB toolbox. The rule viewer displays 
in a single screen all the parts of the fuzzy inference process 
from inputs to outputs. Each row corresponds to a single rule 
and each column corresponds to an input variable (yellow on 
the left) or an output variable (blue on the right). 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 12.  Personal-dependent model rule viewer. 
In the case of the environmental model (Figures 13, 14) 
five fuzzy controllers exist for five temperature ranges. The 
shapes of the membership functions are identical in each of 
the cases. The difference resides in the range of the output. 
 
 
 
 
 
 
 
 
 
Figure 13.  Membership functions of air velocity (environmental model). 
 
 
 
 
 
 
 
 
Figure 14.  Membership functions of the operative temperature.  
The shape of the membership functions is derived from 
the thermal comfort setting of a user and the interaction of 
the different parameters. Table IV presents the fuzzy rules of 
the environmental model that interact with the two previous 
sets of membership functions.  
TABLE IV.  
FUZZY RULES OF THE  ENVIRONMENTAL MODEL 
     If Vair is        then Op_Temp is 
1. If (Vair is V1) then (Op_Temp is T1) (1) 
2. If  (Vair is V2) then (Op_Temp is T2) (1) 
3. If  (Vair is V3) then (Op_Temp is T3) (1) 
 
4. If  (Vair is V4) then (Op_Temp is T4) (1) 
5. If (Vair is V5) then (Op_Temp is T5) (1) 
6. If (Vair is V6) then (Op_Temp is T6) (1) 
7. If (Vair is V7) then (Op_Temp is T7) (1) 
8. If (Vair is V8) then (Op_Temp is T8) (1) 
 
Figure 15 presents the screen capturing the rule-viewer of 
the sets of membership functions. 
 
Figure 15.  Rule viewer of the environmental model. 
183
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

D. Implementation Remarks 
The implementation of the system encountered two 
major problems. First problem was that it was necessary to 
compute the exact operative temperature, even though the 
temperature range from which it is computed varies each 
time among a set of five temperature ranges. The adopted 
solution was to use a “switch block”. The “switch block” 
functions like a switch conditional statement in C#. 
However, since it accepts only integers as input, this input 
value is rounded up. Once the value is entered in the “switch 
block”, the “switch block” triggers the sub-system 
containing the correct fuzzy controller in which the correct 
membership functions with the correct temperature range are 
embedded. Since there is no way to know which of the 
subsystems is going to be triggered, every subsystem returns 
a value, that can be zero or the operative temperature. A 
“mux block” allows the system to create a vector containing 
five components. Since the system can only deal with a 
single number from this point, a MATLAB function extracts 
the number corresponding to the operative temperature. In 
order to accomplish it, the MATLAB function sums all the 
components of the vector since they are all equaled to zero 
except from the only one of interest.  
The second problem relates to the environmental model. 
Once the operative temperature is returned by the system, it 
is compared with the actual air temperature. The effects of 
the mean radiant temperature and of the relative humidity are 
considered to adjust the operative temperature – which must 
be close to the required temperature – in order to reach a 
PMV value of zero. The problem resides in the range of the 
membership functions. In order to adjust the temperature the 
range of the membership function must be regenerated 
depending on the value of the operative temperature returned 
by the first part of the environmental model. No solution has 
been found for this problem. 
V. 
VALLIDATION OF THE SYSTEM 
The current system cannot compute a PMV index value 
in the way it was intended. But, it does compute the 
operative temperature. The operative temperature is the air 
temperature for which the PMV index approaches zero when 
Tair = Tmrt and RH = 50%. According to Chamra et al. [19], 
clothing insulation, metabolic activity as well as air velocity 
are the three fundamental parameters that affect thermal 
comfort. Hence, PMV is more sensitive to these three 
parameters than to the mean radiant temperature and the 
relative humidity. To confirm this statement, a series of 
calculations of the PMV index value were conducted, with 
the motivation to prove that the system in its current state, 
while not fully operational is still competent. It simulates 
PMV and it can supply a temperature close to thermal 
comfort. The simulations of the Tables V, VI, VII and VIII, 
follow four assumptions:  
a) Relative humidity falls rarely below 20% or above  
    80%. 
b) Optimum air velocity is 0,15 m.s-1. 
c) Comfort zone is 0,5  PMV  0,5 and 
d) Metabolic rate is 1 met. Such value is consistent with a  
   sedentary light activity at a house interior.  
The Tables V, VI, VII, and VIII contain the results of the 
simulations that were performed in order to: 
(i)  Confirm that the operative temperature yields PMV 
close to zero if Tair = Tmrt and RH = 50% with variable 
clothing insulation.  
(ii) Determine the impact of the mean radiant 
temperature and the relative humidity on the PMV value for 
Tair = Toperative . 
TABLE V.  
RESULTS OF 8 SIMULATION EXPERIMENTS WITH 
CLOTHING INSULATION  = 1 CLO  
Parameters 
Exp 
1 
Exp 
2 
Exp 
3 
Exp 
4 
Exp 
5 
Exp 
6 
Exp 
7 
Exp 
8 
Clothing (clo) 
1 
1 
1 
1 
1 
1 
1 
1 
Operative temp. 
(°C) 
24,2 24,2 24,2 24,2 24,2 24,2 24,2 24,2 
Mean radiant temp. 
(°C) 
24,2 23,2 22,2 21,2 20,2 19,2 18,2 17,2 
Activity (met) 
1 
1 
1 
1 
1 
1 
1 
1 
Air speed (m/s) 
0,15 0,15 0,15 0,15 0,15 0,15 0,15 0,15 
Relative humidity 
(%) 
50 
50 
50 
50 
50 
50 
50 
50 
PMV 
0,2 
0 
-0,1 -0,2 -0,3 -0,4 -0,5 -0,6 
PPD 
5,8 
5 
5,2 
5,8 
6,9 
8,3 
10,2 12,5 
TABLE VI.  
RESULTS OF 8 SIMULATION EXPERIMENTS WITH 
CLOTHING INSULATION  = 1,5 CLO  
Parameters 
Exp 
1 
Exp 
2 
Exp 
3 
Exp 
4 
Exp 
5 
Exp 
6 
Exp 
7 
Exp 
8 
Clothing (clo) 
1,5 
1,5 
1,5 
1,5 
1,5 
1,5 
1,5 
1,5 
Operative temp. 
(°C) 
19,7 19,7 19,7 19,7 19,7 19,7 19,7 19,7 
Mean radiant temp. 
(°C) 
19,7 18,7 20,7 21,7 22,7 17,7 16,7 26,7 
Activity (met) 
1 
1 
1 
1 
1 
1 
1 
1 
Air speed (m/s) 
0,15 0,15 0,15 0,15 0,15 0,15 0,15 0,15 
Relative humidity 
(%) 
50 
50 
50 
50 
50 
50 
50 
50 
PMV 
-0,3 -0,3 -0,2 -0,1 0 
-0,4 -0,5 0,4 
PPD 
6,9 
6,9 
5,8 
5,2 
5 
8,3 
10,2 8,3 
 
In all experiments, with the exception of the one 
presented in the next Table VII, the operative temperature is 
sufficient to provide thermal comfort when the air 
temperature equals to the mean radiant temperature (Tair = 
Tmrt) and RH = 50%. In the experiments presented in Table 
VII, the clothing insulation is lcl  = 0,5 clo and thermal 
comfort is not achieved because the PMV is out of the 
recommended range. However, it should be kept in mind that 
still only 22% of people would experience discomfort. 
Regarding the influence of the mean radiant temperature, 
in the worst case, there is a difference of 3 C° between the 
mean radiant temperature for which the PMV equals zero 
and the mean radiant temperature for which PMV  |0,5|. 
This case appears in Table VII in the comparison of the 
184
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

mean radiant temperature values of Experiment 3 and 
Experiment 6. This provides a margin of error that makes 
possible using the system in its present stage of development. 
According to the simulation data recorded with Design 
Builder software, the mean radiant temperature is always 
close to the air temperature when the electrochromic 
windows are activated. 
TABLE VII.  
RESULTS OF 8 SIMULATION EXPERIMENTS WITH 
CLOTHING INSULATION  = 0,5 CLO  
Parameters 
Exp 
1 
Exp 
2 
Exp 
3 
Exp 
4 
Exp 
5 
Exp 
6 
Clothing (clo) 
0,5 
0,5 
0,5 
0,5 
0,5 
0,5 
Operative temp. 
(°C) 
24,2 24,2 24,2 24,2 24,2 24,2 
Mean radiant temp. 
(°C) 
24,2 25,2 26,2 27,2 28,2 29,2 
Activity (met) 
1 
1 
1 
1 
1 
1 
Air speed (m/s) 
0,15 0,15 0,15 0,15 0,15 0,15 
Relative humidity 
(%) 
50 
50 
50 
50 
50 
50 
PMV 
-0,9 -0,7 -0,5 -0,4 -0,2 0 
PPD 
22,1 15,3 10,2 8,3 
5,8 
5 
TABLE VIII.  RESULTS OF 8 SIMULATION EXPERIMENTS WITH 
CLOTHING INSULATION  = 1 CLO  AND HIGHER AIR SPEED 
Parameters 
Exp 
1 
Exp 
2 
Exp 
3 
Exp 
4 
Exp 
5 
Exp 
6 
Exp 
7 
Exp 
8 
Clothing (clo) 
1 
1 
1 
1 
1 
1 
1 
1 
Operative temp. 
(°C) 
24,6 24,6 24,6 24,6 24,6 24,6 24,6 24,6 
Mean radiant temp. 
(°C) 
24,6 27,6 23,6 22,6 21,6 18,6 22,6 22,6 
Activity (met) 
1 
1 
1 
1 
1 
1 
1 
1 
Air speed (m/s) 
0,2 
0,2 
0,2 
0,2 
0,2 
0,2 
0,2 
0,2 
Relative humidity 
(%) 
50 
50 
50 
50 
50 
50 
0 
100 
PMV 
0,2 
0,6 
0,1 
0 
-0,1 -0,5 -0,4 0,4 
PPD 
5,8 
12,5 5,2 
5 
5,2 
10,2 8,3 
8,3 
 
Regarding the impact of the relative humidity on the 
PMV value when Tair = Tmrt, in all cases except one, the 
PMV stays within the boundaries of thermal comfort PMV  
|0,5|. These cases are depicted in Experiment 1 of each of the 
above Tables, where relative humidity RH = 50 %. The 
exception appears in the Experiment 1 of Table VII, where 
PMV = -0,9. These results reveal that although relative 
humidity does affect PMV, its effect is not critical. 
VI. 
CONCLUSION AND FUTURE WORK 
The objective of this study is to produce a system for 
personalizing thermal comfort at the interior of a prototype 
house in Trento, N. Italy. A MATLAB function was 
developed to compute the PMV and PPD values from a 
given dataset. A first set of calculations during the hottest 
day of the year proved that the house would provide 
uncomfortable interior conditions for most people whether or 
not its electrochromic windows are active. The same 
calculations also proved that the HVAC system would 
contribute to the achievement of thermal comfort in the 
house interior. In order to enhance the accuracy of the 
thermal comfort calculation and to offer dynamic features, 
fuzzy logic was used. Fuzzy logic allows computing the 
PMV in real time thus enhancing the attractiveness of the 
system for real life application. While the overall system 
cannot compute a PMV index value as it was intended at the 
beginning, the development of the thermal comfort controller 
is still in progress, and the system – given the proper data – 
produces a correct operational value of thermal comfort for 
the interior of the prototype. This temperature can be used to 
adapt the thermal comfort with accuracy.  
SIMULINK was used for the graphical interface of the 
system, to make the design and the implementation of the 
system less complex. The actual code was also generated by 
SIMULINK providing the opportunity to further develop the 
proposed experimental apparatus in a real life system. To 
that effect, a built-in module for SIMULINK called Real-
Time Workshop generated the C code equivalent to the 
system built with blocks in the graphical interface. 
While this paper addressed the development of a 
computational apparatus calculating the thermal comfort of a 
person, it does not touch upon the implementation of an 
actual house system. The development of such a system that 
computes thermal comfort is in progress. The next steps of 
this research will be to complete the environmental 
subsystem and adjust the membership functions in order to 
obtain better accuracy. Once the environmental subsystem is 
completed, some further improvements could be made in 
order to fully take advantage of the possibilities offered by 
the MATLAB and the SIMULINK environment. Possible 
enhancements may include adding a feedback loop that 
would make the system adaptive. Adding a neural network 
would make the system capable of learning the preferences 
of its users [20], thus transforming the fuzzy PMV system 
into a neuro-fuzzy PMV system. Furthermore, it is possible 
to use signal generators instead of using constant values as 
inputs. This would take advantage of the capability of 
SIMULINK for conducting dynamic simulations, thus 
providing insights on how the PMV and the operative 
temperature vary during a certain period of time. 
Experimenting with different membership functions could be 
another option. Triangular functions were used in the current 
implementation. The use of Gaussian or polynomial based 
membership functions could contribute to better accuracy.  
Finally, since the calculation of the PMV index value is 
based on statistics there are no guarantees that the thermal 
conditions decided by the computer will satisfy the 
inhabitants. Nonetheless, the proposed model can predict 
what the end user will be expecting. To radically improve the 
system, this must be paired with a learning capacity. Then 
given time and feedback, the system will learn from the end-
user experience, and refine the PMV model to accommodate 
the needs of the inhabitants. In order to learn and adapt based 
on the requirements of the users, the computer will have to 
185
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

collect feedback data. And the error margin will decrease, as 
the user’s inputs will be stored into the system.  
ACKNOWLEDGMENT 
This research was conducted within the Green Home 
Alliance between the Mobile Experience Lab at the 
Massachusetts Institute of Technology and the Fondazione 
Bruno Kessler, in Trento, N. Italy. 
REFERENCES 
[1] P. O. Fanger, Thermal Comfort, Analysis and Applications in 
Environmental Engineering, McGraw-Hill, 1972. 
[2] S. Lynch, Dynamical Systems with Applications using 
MATLAB, Birkhäuser, 2004. 
[3] MATLAB SIMULINK: Simulation and Model Based Design, 
http://www.mathworks.com 
[4] M. Hamdi, G. Lachiver, and F. Michaud, “A new predictive 
thermal sensation index of human response”, Energy and 
Buildings, Volume 29, Issue 2, 1999, pp. 167-178. 
[5] S. D. Kotsopoulos, F. Casalegno, M. Ono, and W. Graybill, 
"Managing Variable Transmittance Windowpanes with 
Model-Based Autonomous Control", Journal of Civil 
Engineering and Architecture, Issue 5, Vol. 7, (serial No 66), 
May 2013, pp. 507-523. 
[6] S. D. Kotsopoulos, F. Casalegno, M. Ono, and W. Graybill 
W., 2012, “Window Panes Become Smart: How responsive 
materials and intelligent control will revolutionize the 
architecture of buildings”, Proceedings of the First 
International Conference on Smart Systems, Devices and 
Technologies, Stuttgart, Germany, pp. 112-118. 
[7] H. O. Nilsson “Comfort Climate Evaluation with Thermal 
Manikin Methods and Computer Simulation Models”, Indoor 
Air, Volume 13 Issue 1, March 2003, pp. 28-37. 
[8] M. C. Feldmeier, 2009, “Personalized Building Comfort 
Control”, PhD thesis, Department of Architecture and 
Planning, Massachusetts Institute of Technology, 2009. 
[9] ASHRAE handbook—fundamentals, Chap. 8, Physiological 
Principles, Comfort and Health, 1989. 
[10] R. de Dear and G. S. Brager, “Developing an adaptive model 
of thermal comfort and preference”, ASHRAE Transactions, 
104(1a), 1998, pp. 145-167. 
[11] H. Zhang, E. Arens, C. Huizenga, and H. Taeyoung, 
“Thermal sensation and comfort models for non-uniform and 
transient environments: Part I: local sensation of individual 
body parts”, Indoor Environmental Quality, UC Berkeley, 
2009. 
[12] H. Zhang, E. Arens, C. Huizenga, and H. Taeyoung, 
“Thermal sensation and comfort models for non-uniform and 
transient environments: Part II: local comfort of individual 
body parts”, Indoor Environmental Quality, UC Berkeley 
2009. 
[13] J. van Hoof, “Forty years of Fanger’s model of thermal 
comfort: comfort for all?”, Indoor Air, Volume 18, Issue 3, 
June 2008, pp. 182-201. 
[14] D. Int-Hout, 1990, “Thermal comfort calculations / A 
computer model”, ASHRAE Transactions 96 (1), 1990,  pp. 
840–844. 
[15] C. C. Federspiel, “User-adaptable and minimum-power 
thermal comfort control”, PhD thesis, Department of 
Mechanical 
Engineering, 
Massachusetts 
Institute 
of 
Technology, 1992. 
[16] A. Auliciems, “Thermobile controls for human comfort”, The 
Heating & Ventilating Engineer, April/May 1984, pp. 31–33. 
[17] D. J. Coome, G. Gan, and H. B. Awbi, “Evaluation of thermal 
comfort and indoor air quality”, Proceedings of CIB’92 
World Building Congress, Montreal, 1992, pp. 404–406. 
[18] C. H. Culp, M. L. Rhodes, B. C. Krafthefer, and M. A. 
Listvan, “Silicon infrared sensors for thermal comfort and 
control”, ASHRAE Journal, April 1993, pp. 38–42. 
[19] L. M. Chamra,W. G. Steele, and K. Huynh, “The uncertainty 
associated with thermal comfort”, ASHRAE Transactions, 
109, 2003, pp. 356–365. 
[20] L. X. Wang and J. M. Mendel, “Back-propagation fuzzy 
system as nonlinear dynamic system identification”, in 
Proceedings of IEEE International Conference on Fuzzy 
Systems, 1992, pp. 1409–1418. 
186
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

