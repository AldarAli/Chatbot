IoT-Based Secure Embedded Scheme for Insulin Pump Data Acquisition and
Monitoring
Zeyad A. Al-Odat∗, Sudarshan K. Srinivasan∗, Eman Al-qtiemat∗, Mohana Asha Latha Dubasi∗, Sana Shuja†
∗Electrical and Computer Engineering, North Dakota State University
Fargo, ND, USA
†Electrical Engineering, COMSATS Institute of Information Technology,
Islambad, Pakistan
Emails: ∗zeyad.alodat@ndsu.edu, ∗sudarshan.srinivasan@ndsu.edu, ∗eman.alqtiemat@ndsu.edu,
∗MohanaAshaLatha.Duba@ndsu.edu, †SanaShuja@comsats.edu.pk
Abstract—This paper introduces an Internet of Things (IoT)-
based data acquisition and monitoring scheme for insulin pumps.
The proposed work employs embedded system hardware (Keil
LPC1768-board) for data acquisition and monitoring. The hard-
ware is used as an abstract layer between the insulin pump and
the cloud. Diabetes data are secured before they are sent to
the cloud for storage. Each patient’s record is digitally signed
using a secure hash algorithm mechanism. The proposed work
will protect the patient’s records from being breached from
unauthorized entities, and authenticates them from improper
modiﬁcations. The design is tested and veriﬁed using µVision
studio, the Keil board mentioned above, and an ALARIS 8100
infusion pump. Moreover, a test case for a real cloud example is
presented with the help of the Center of Computationally Assisted
System and Technology. This center provided the infrastructure
service to test our work.
Keywords–IoT; Security; Embedded system.
I.
INTRODUCTION
The physical devices that are linked as Internet of Things
(IoT) are continuously increasing [1]. These devices are al-
lowed to mimic human being’s senses. For example, the use
of a smart home as an IoT-based application can turn on
the air conditioning system when sensing residents are close
[2][3]. The industrial world has moved toward the use of IoT
by adding Internet connection to small electronic boards [4].
Moreover, the connections between different primitives are
made possible through mobile communications [5].
Recent improvements in IoT design helps with the support
of some health care systems. An example is tracking patient’s
records and biomedical devices using the Internet [6]. Medical
devices for diabetic care have also joined the world of IoT
through supporting versatile design options. However, security
issues need to be addressed to ensure device security and the
patient’s privacy. A system with an authentic security mecha-
nism is required to guarantee the security of patient’s records.
One of the existing methods that can be easily implemented in
hardware is the Secure Hash Algorithm (SHA) [7]. The SHA
is an ofﬁcial hash algorithm standard that was standardized by
the National Institute of Standards and Technology (NIST).
SHA is compatible with hardware-level implementation, and
this makes it one of the more desirable methods for hardware
designers to use to secure and authenticate their designs [8].
The implementation of IoT technology in hardware has
become crucial for high performance. The beneﬁt of using
hardware to manipulate the increased size of patient’s records
is that the hardware allows for high-speed computation to
manipulate and retrieve records. Therefore, hardware designers
have moved toward the use of IoT hardware units in their
designs, these units support high-speed computation power
for IoT related functions [9]. This paper introduces an IoT-
based embedded system for insulin pump data acquisition and
monitoring. Data related to a patient’s diabetes disease along
with other health records are stored on the cloud. All these data
need to be secured and authenticated when they are retrieved
from the cloud. We use the SHA mechanism in our design to
support security and authentication.
The rest of the paper is organized as follows. Section II de-
scribes related work. The proposed methodology is presented
in Section III. Results are detailed in Section IV. Section V
concludes the paper.
II.
RELATED WORK
There is a lot of recent work in the employment of IoT
applications for health monitoring and control [6][7][10]–[12].
A novel IoT-aware smart architecture for automatic monitoring
and tracking of the patient, personnel, and biomedical devices,
was presented in [6]. The proposed work built a smart hospital
system relying on Radio Frequency Identiﬁcation (RFID),
Wireless Sensor Network (WSN), and smart mobile. The three
hardware components were incorporated together through a
local network, to collect surrounding environment and patient’s
physiology related parameters. The collected data is sent to a
control center in real-time, which makes all the data available
for monitoring and management by the specialist through the
Internet.
A smart E-health care system for ubiquitous health mon-
itoring is proposed in [10]. The proposed work exploits
ubiquitous health care gateways to provide a higher-level of
services. The Gateways are the bridging point between IoT
and applications (software or hardware). This work studied
signiﬁcant ever-growing demands that have an important in-
ﬂuence on health care systems. The proposed work suggests
an enhanced health care environment where control center
burdens are transferred to the gateways. The security of this
scheme is taken into consideration as the system deals with
substantial health care data.
A personalized health care scheme for the next generation
wellness technology has been proposed in [11]. The security of
patient’s records was addressed in case of data storage and re-
trieval over the cloud. The proposed work established a patient-
90
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-683-5
CYBER 2018 : The Third International Conference on Cyber-Technologies and Cyber-Systems

based infrastructure allowing multiple service providers includ-
ing the patient, service providers, specialists, and researchers
to access the stored data. Their work was implemented on a
cloud-based platform for testing and veriﬁcation. Liu et al. [12]
have presented a scheme for secure sharing of personal health
records in the cloud. The health records are ciphered before
they are stored in the cloud. The proposed work uses Cipher-
Text Attribute-Based Signcryption Scheme (CP-ABSC) as an
access control mechanism. Using this scheme, they are able to
get ﬁne-grained data access over the cloud.
The use of embedded micro-controllers for data monitoring
and acquisition has also been previously explored. The Keil
LPC1768 micro-controller has been used in two different
schemes for medical device control [7][9]. In [7], an online
design of patient’s data monitoring system was presented. The
proposed work employed an Advanced RISC Machine (ARM)
Cortex M3 microprocessor embedded on the Keil LPC1768
board. Pulse, temperature, and gas sensors were used to collect
the patient’s medical parameters. The LPC1768 board was used
as the hardware layer between the Internet and the medical
sensors. A data acquisition and control system using the ARM
Cortex M3 microprocessor was also presented in [9]. Moni-
tored sensor data are sent to the Internet using an Ethernet-
controlled interface. The interface was built using an Keil
LPC1768 board. The proposed work employed two sensing
devices (temperature and accelerator-meter) to collect data
from the surrounding environment. The collected readings are
sent to the Internet through the Ethernet interface. According
to the uploaded readings, a specialist can change the behavior
of the device through an Internet browser.
In the next section, we will present our proposed IoT-based
secure data acquisition and monitoring scheme. The integration
between the embedded architecture and the cloud-computing
based storage will be discussed in detail.
III.
PROPOSED METHODOLOGY
We provide some background information before getting
into the details of the proposed methodology. In the subsequent
text, we provide a brief description of the secure hash standard.
A. Background: Secure Hash Algorithm
SHA takes a message with an arbitrary size and produces
a message hash through some calculations. The process is
deﬁned in equation (1).
h = H(M)
(1)
where, M is the input message and h is the digest generated
using the hash algorithm H.
In our scheme, the SHA2/256 standard is employed for
securing the patient’s records. Data are signed with the
SHA2/256 before they are stored in the cloud. The stored
records are made available for research centers and medical
institutions. Figure 1 depicts the general procedure that is used
to compute the hash for any given message. The input message
of size less than 264 is padded ﬁrst to make its size a multiple
of 512. The full message is divided into equal size blocks
of 512-bits. The blocks are then processed sequentially using
compression function F, and Initial Hash Value (IHV0) that
are deﬁned in [8].
Padding to block boundary (N * 512)
Message || 1 || 0's || Message-length 
Message
 < 2^64
Padded 
Message
Block 0
512 bit
Block 1
512 bit
Block 2
512 bit
Block N
512 bit
IHV0
F
F
F
F
Hash
256 bits
Figure 1. SHA general architecture: Padding, dividing, compression, and
computation of SHA-256.
At the end of the process, the hash value that is generated
from the last block produces the ﬁnal 256 bits hash. A detailed
description of the secure hash algorithm can be found in [8].
B. General Architecture of the Proposed Scheme
The proposed design for the secure IoT-based embedded
system is depicted in Figure 2. A patient using the Alaris
8100 infusion pump will take preset insulin doses regularly.
The Alaris infusion pump is controlled and monitored by the
Keil Cortex M3 board through a serial connection. All dosage
related records that are given to the patient are sent to the
cloud through the Keil board using an Ethernet connection.
To secure and authenticate the recorded data, they are digitally
signed using the SHA compression function. The signature and
patient’s records are then stored in the cloud.
In the cloud, a Secure Socket Shell (SSH) is provided to
entities authorized to access the data. For instance, a physician
can follow up with a patient’s case using a mobile application
or a web browser. Furthermore, research institutions are given
the authorization to access health records upon agreements
made between patient, medical centers, and research institu-
tions.
Alaris Infusion Pump
Authorized Person
Research Centers
Research Group
Patients’ Records
Hospital
Keil Board
Cloud
Patient
SHA
Figure 2. General architecture of the proposed scheme.
The security and authenticity of the health care records
are veriﬁed using the SHA signature. The SHA value is
computed after the health records or prescription commands
are generated. Then the generated SHA is appended to the
corresponding data (health record or preset control command).
The health record and its signature are remained correlated in
all places (cloud, hospital, and patient’s side). For instance, the
91
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-683-5
CYBER 2018 : The Third International Conference on Cyber-Technologies and Cyber-Systems

physician in the hospital conﬁrms that the record is received
without altering using SHA signature. When the health record
is received at the hospital, SHA computation will be carried
out. The resultant SHA will be compared with the appended
SHA value. Once both SHA values are equal, the record will
be afﬁrmed to its corresponding patient. Otherwise, the health
record will be discarded as is does not belong to the patient.
In the case of the preset control command, this command
is generated from the hospital and appended with its corre-
sponding hash value. The preset control command and the
SHA signature are sent through the cloud to the infusion pump.
At the patient’s end, the hardware takes the responsibility to
check the genuineness of the received control command by
SHA computation and comparison. The Keil micro-controller
computes the SHA value for the received preset control com-
mand and then compares the result with the appended SHA
value. Once authorized, the preset control command is passed
to the infusion pump for a new schedule. Figure 3 shows the
connection between the Keil LPC1768 board and the Alaris
8100 infusion pump.
Figure 3. Connection of Alaris Infusion Pump 8100 with Keil 1768 PCB
board
In the case of a fault exception, all Cortex-M processors
(including Keil LPC1768) have a fault exception mechanism
embedded inside the processor. If any fault is detected, the
corresponding exception handler will be executed [13]. The
hardware setup was done at the NDSU-Electrical and Com-
puter Engineering laboratories. The infusion pump was ﬁrst
disassembled, interfaced with the Keil micro-controller, and
then programmed using a serial cable and the Keil µVision
studio 5.
IV.
RESULTS AND DISCUSSION
The proposed design has been tested and veriﬁed using
data from [14]. The sample data includes glucose levels in
the patient’s body during a 24 hour period, a patient’s proﬁle
information, and the patient’s medical information. A snipped
portion of the sample data is shown in Figures 4. Figure 5
shows the modiﬁed sample data. The data are stored in the
cloud regularly, where each copy has its designated SHA value.
Figure 4. Snipped health record from the original sample
Figure 5. Snipped health record from the modiﬁed sample
To ensure the integrity of data, SHA-256 is applied to both
sides (cloud and patient) after any query from either side.
The record is valid if its generated hash value on the
patient’s side is the same as the hash value on the cloud side.
Table I shows a valid record hash. However, two different
hash values are depicted for the same record in Table II,
because the received record on the patient’s side has been
altered. Accordingly, the corresponding hash value has also
been altered. The micro-controller will detect the alteration
and discard the received record.
TABLE I. SHA-256 HASH VALUES OF THE SAMPLE DATA ON BOTH
SIDES.
Cloud side:
14b93acf-ccdcbe40-ea3795be-c1073498-
51a96c90-6cedfc9c-49d8e2cf-a141befb
Patient side:
14b93acf-ccdcbe40-ea3795be-c1073498-
51a96c90-6cedfc9c-49d8e2cf-a141befb
TABLE II. SHA-256 HASH VALUES OF THE ORIGINAL AND
MODIFIED SAMPLE DATA ON BOTH SIDES.
Cloud side:
14b93acf-ccdcbe40-ea3795be-c1073498-
51a96c90-6cedfc9c-49d8e2cf-a141befb
Patient side:
358c4f29-f0e2bb60-8efa35d4-a88a6b3b-
58939ffd-deebf824-8065c195-b834b8cd
The patient’s intervention for the proposed design is limited
to turn on and off the infusion pump. However, the future work
of our design will upgrade the patient’s privileges, e.g., change
the infusion pump schedule according to predeﬁned levels.
92
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-683-5
CYBER 2018 : The Third International Conference on Cyber-Technologies and Cyber-Systems

V.
CONCLUSION AND FUTURE WORK
We have presented a secure IoT-based embedded data
acquisition and control scheme. The work employed three
modules: Keil micro-controller, LPC1768 board, and Alaris
8100 infusion pump. Secure Hash Algorithm standard SHA-
256 is used to ensure the authenticity of the system. The
authenticity of the proposed work was veriﬁed with a cloud
storage utility using a real sample record. The results show that
any altering in the health record is going to be identiﬁed imme-
diately, thus the patient remains safe from false prescriptions.
In future, we plan to apply the proposed scheme to hand-held
glucose devices.
ACKNOWLEDGMENT
This
publication
was
funded
by
a
grant
from
the
United States Government and the generous support of the
American people through the United States Department
of State and the United States Agency for International
Development (USAID) under the Pakistan - U.S. Science
& Technology Cooperation Program. The contents do not
necessarily reﬂect the views of the United States Government.
REFERENCES
[1]
A. Al-Fuqaha, M. Guizani, M. Mohammadi, M. Aledhari, and
M. Ayyash, “Internet of things: A survey on enabling technologies, pro-
tocols, and applications,” IEEE Communications Surveys & Tutorials,
vol. 17, no. 4, 2015, pp. 2347–2376.
[2]
L. Atzori, A. Iera, and G. Morabito, “The internet of things: A survey,”
Computer networks, vol. 54, no. 15, 2010, pp. 2787–2805.
[3]
R. Kazi and G. Tiwari, “Iot based interactive industrial home wireless
system, energy management system and embedded data acquisition
system to display on web page using gprs, sms & e-mail alert,” in
Energy Systems and Applications, 2015 International Conference on.
IEEE, 2015, pp. 290–295.
[4]
I. Ungurean, N.-C. Gaitan, and V. G. Gaitan, “An iot architecture
for things from industrial environment,” in Communications (COMM),
2014 10th International Conference on.
IEEE, 2014, pp. 1–4.
[5]
D. Hinge and S. Sawarkar, “Mobile to mobile data transfer through
human area network,” IJRCCT, vol. 2, no. 11, 2013, pp. 1181–1184.
[6]
L. Catarinucci et al., “An iot-aware architecture for smart healthcare
systems,” IEEE Internet of Things Journal, vol. 2, no. 6, 2015, pp.
515–526.
[7]
G. Harsha, “Design and implementation of online patient monitoring
system,” International Journal of Advances in Engineering & Technol-
ogy, vol. 7, no. 3, 2014, p. 1075.
[8]
F. PUB, “Secure hash standard (shs),” FIPS PUB 180, vol. 4, 2012, pp.
1–27.
[9]
L. P. Boppudi and R. Krishnaiah, “Data acquisition and controlling
system using cortex m3 core,” International Journal of Innovative
Research and Development, vol. 3, no. 1, 2014, pp. 29–33.
[10]
A.-M. Rahmani et al., “Smart e-health gateway: Bringing intelligence
to internet-of-things based ubiquitous healthcare systems,” in Consumer
Communications and Networking Conference (CCNC), 2015 12th An-
nual IEEE.
IEEE, 2015, pp. 826–834.
[11]
P.-Y. S. Hsueh, H. Chang, and S. Ramakrishnan, “Next generation well-
ness: A technology model for personalizing healthcare,” in Healthcare
Information Management Systems.
Springer, 2016, pp. 355–374.
[12]
J. Liu, X. Huang, and J. K. Liu, “Secure sharing of personal health
records in cloud computing: ciphertext-policy attribute-based signcryp-
tion,” Future Generation Computer Systems, vol. 52, 2015, pp. 67–76.
[13]
E. Alkim, P. Jakubeit, and P. Schwabe, “Newhope on arm cortex-
m,” in International Conference on Security, Privacy, and Applied
Cryptography Engineering.
Springer, 2016, pp. 332–349.
[14]
“Sample Medical Record: Monica Latte | Agency for Healthcare
Research & Quality,” Oct 2018, [accessed 1. Oct. 2018]. [Online].
Available: https://www.ahrq.gov/professionals/prevention-chronic-care/
improve/system/pfhandbook/mod8appbmonicalatte.html
93
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-683-5
CYBER 2018 : The Third International Conference on Cyber-Technologies and Cyber-Systems

