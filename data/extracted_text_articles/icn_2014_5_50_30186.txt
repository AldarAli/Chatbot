A Simplified Queueing Model to Analyze Cooperative Communication with 
Network Coding 
 
 
José Marcos C. Brito 
National Institute of Telecommunication - Inatel 
Santa Rita do Sapucaí, Brazil 
brito@inatel.br 
 
 
Abstract—Cooperative communication and network coding are 
two important techniques to improve the performance of 
telecommunications 
networks. 
Chieochan 
and 
Hossain 
proposed an interesting algorithm using these techniques, 
called BE-ONC (Buffer Equalized Opportunistic Network 
Coding), and analyzed its performance via simulation. In this 
paper, we proposed a simplified analytical queuing model to 
investigate the performance of wireless networks with 
cooperative communication and network coding. The proposed 
model was implemented and used to evaluate the performance 
of the BE-ONC algorithm. We also compared the performance 
of a system with cooperative communication and network 
coding to the performance of a system without cooperation. 
Keywords- cooperative communication; network coding; 
queueing mode; performance 
I. 
 INTRODUCTION  
The traffic in telecommunications networks has grown 
exponentially. This is a consequence of the growth of the 
Internet, the development of new multimedia applications, 
and the huge proliferation of mobile terminals. To transmit 
this enormous traffic with QoS (Quality of Service), it is 
necessary 
to 
improve 
the 
performance 
of 
current 
telecommunications networks. One approach that has been 
widely studied as a solution to improve the performance of 
telecommunications networks is to use cooperative networks 
or cooperative communication [1-6]. 
Cooperation can be defined as the process of working 
together, as opposed to working separately (in competition) 
[1]. The basic idea of cooperative communication is to 
establish an additional path, via a relay node, connecting the 
source node to the destination node [1, 5]. Some cooperation 
techniques proposed in the literature are disclosed in [2,5,7], 
and those methods are classified as follows: 
 
Amplify-and-Forward (AF) - in this case, the relay 
amplifies the signal received from the source node 
and transmits this signal to the destination node. 
 
Decode-and-Forward (DF) - in this technique, the 
relay decodes the packet and re-encodes it prior to 
forwarding the packet to the destination node. 
 
Coded Cooperation - this is a technique that 
integrates cooperation into channel coding. The 
basic idea is that each user attempts to transmit 
incremental redundancy to its partner [5]. 
 
Cooperative ARQ (Automatic Repeat reQuest) 
Protocols [7] – in this technique, the source node 
broadcasts its packets to the destination and relay 
nodes. If the destination node correctly receives the 
packet, the transmission is complete. However, if the 
packet is received incorrectly in the destination node 
but is correctly received in the relay node, re-
transmission of the packet is performed by the relay. 
Finally, if packet errors are detected by the 
destination and relay nodes, the source node re-
transmits the packet. 
Another way to establish a cooperative communication is 
to use the technique called network coding. The theory of 
network coding was introduced by Ahlswede et al. [8]. In 
this paper, we are interested in a cooperative communication 
technique using network coding called BE-ONC (buffer 
equalized opportunistic network coding), which was 
proposed by Chieochan and Hossain [9] for Wi-Fi networks. 
In that work, the performance of their algorithm has been 
analyzed using simulations only.  
The first goal of this paper is to propose a simplified 
queuing model to analyze the performance of the BE-ONC 
algorithm and subsequently compare the performance of a 
system with cooperation and network coding to that of a 
system without cooperation. The delay required for the 
successful transmission of a packet in the network is used as 
the parameter to assess system performance. 
The remainder of this paper is organized as follows: in 
Section II, we summarize the BE-ONC algorithm and 
present the queuing model used in [9] to simulate the 
performance of this algorithm. In Section III, we present a 
simplified analytical model to evaluate the performance of 
the BE-ONC algorithm and reveal some of the numerical 
results. The conclusions and a preview of future initiatives 
are presented in Section IV. 
II. 
THE BE-ONC ALGORITHM [9] 
This section summarizes the BE-ONC algorithm 
proposed in [9] as a cooperative communication algorithm 
based on network coding for Wi-Fi networks. 
The network analyzed in [9] is composed of two wireless 
users, one relay node, and one access point (AP) as 
119
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

illustrated in Figure 1. The wireless users broadcast packets 
to the relay and to the AP. After transmitting a packet, a 
wireless user waits for a positive acknowledgment (ACK) 
from the relay or the AP. If an ACK is received, the packet is 
deemed to have been successfully transmitted and is 
removed from the user’s queue. If an ACK is not received, 
the wireless user re-transmits the packet.  
The relay receives packets from wireless user 1 and 
wireless user 2. If a packet is correctly received by the relay 
but not by the AP, it is queued in the relay to be re-
transmitted to the AP. The relay tries to combine two packets 
using an XOR (eXclusive OR) operation before transmitting 
them to the AP. Although the relay is allowed to re-transmit 
packets, it does not generate traffic [9].  
 
 
Figure 1.  Wireless cooperative relay network with network coding. 
Packets transmitted by wireless users are classified as 
non-urgent and urgent. The relay maintains two buffers, and 
only packets not received (or received with error) by the AP 
are queued in the relay node. If both buffers are empty, an 
incoming packet from user j (j = 1 or 2) is queued on queue j. 
Non-urgent packets coming from user j (j = 1 or 2) are also 
queued on queue j. Urgent packets are queued in the less 
congested buffer. 
If the relay has packets in both queues (1 and 2), it 
combines the head-of-line (HOL) packets (using an XOR 
operation) and transmits the resulting packet to the AP. If the 
combined packet is correctly received by the AP, both HOL 
packets are removed from the relay’s queue. If only one 
queue has a packet, the relay transmits the HOL packet of 
this queue. Again, if the packet is correctly received by the 
AP, it is removed from the relay’s queue.  
Figure 2 illustrates the queuing model presented in [9] 
that was used to analyze the performance of the algorithm. 
Again, the analyses performed in [9] are executed via 
simulations only.   
 
XOR
to access point
to access point
to access point
Queueing
decision
BE-ONC
Queue 1
Queue 2
Wireless user 1
Wireless user 2
 
Figure 2.  Queueing model presented in [9].  
 
III. 
THE PROPOSED SIMPLIFIED QUEUEING MODEL 
 
The mathematical analysis of the queuing model used to 
accomplish the simulations performed in [9] is quite 
difficult. To overcome this problem, we propose a simplified 
queuing model of the cooperative network in this paper.  
Following [9], we assume that packets arrive randomly at 
each wireless user’s buffer according to a Poisson process.  
In addition, to model the relay’s queue as a Markovian 
process, we consider the service time to be exponentially 
distributed in all queues in the network.  
The above assumptions are important to compute the 
packet delays using the relevant theoretical results pertaining 
to networks of queues presented in the literature.  
Figure 3 illustrates the simplified queuing model 
proposed in this paper. In that figure, P1 represents the 
probability of a packet being queued in the relay and is 
computed by: 
 

ur 
uap
PER
PER
P



1
1
                      (1) 
 
where PERuap is the packet error rate in the wireless link 
between a wireless user and the AP, and PERur is the packet 
error rate in the wireless link connecting a wireless user and 
the relay. 
Queue with
bulk service
Wireless user 1
Wireless user 2
+


P1
P1
AP
r
µw
µw
µr
 
 
Figure 3.  The proposed simplified queueing model.  
The queue for each wireless user is modeled as an M/M/1 
queue. The arrival rate in each user’s queue is  
packets/second. Because the packet stays in the HOL of the 
120
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

user’s queue until it has been correctly received by the relay 
or the AP, the packet error rate in the wireless links (between 
a user and relay and between a user and AP) must be 
considered to calculate the real service time in the user’s 
queue. Defining µ, in packets/second, as the capacity of the 
output link of a user’s queue, the effective mean service time 
in the user’s queue can be computed from: 
 




P
P
k
P
t
E
k
k
w
sw














1
1
1
1
1
1
       (2) 
 
where P is the probability of a packet being received without 
error by the relay or AP. This probability can be written as a 
function of the packet error rate in the wireless links as: 
 

PERur PERuap 
P

1
                        (3) 
 
Substituting (3) in (2), we can rewrite the mean service 
time in the user’s queue as: 
 





uap 
ur
w
sw
PER
PER
t
E





1
1
1


            (4) 
 
Considering the M/M/1 model, the total time spent by a 
packet in a user’s queue is determined as: 
 
 
  

w
E Tu
1
                                (5) 
 
To account for the XOR operation on the HOL packets 
shown in Figure 2, the queue in the relay node is modeled as 
one with bulk service. The corresponding state transition 
diagram is illustrated in Figure 4. If only one packet is in the 
queue, it is immediately transmitted by relay. If two or more 
packets are in the queue, the relay executes an XOR 
operation between the two packets in the HOL and transmits 
the combined packet.  
 
0
1
2
3
4
5
r
r
r
r
r
r
µr
µr
µr
µr
µr
µr
µr
 
Figure 4.  State transition diagram of the relay’s queue.  
From Figure 3, the arrival rate in the relay’s queue is 
given by: 
 
1
2
P
r
   
                                    (6) 
 
To compute the effective mean service time in the relay’s 
queue, we need to consider the packet error rate in the link 
between the relay and the AP. Defining µ as the capacity of 
the output link in the relay node, the mean service time in the 
relay’s queue can be computed from: 
 
 

rap 
r
sr
PER
t
E




1
1
1


                   (7) 
 
where PERrap is the packet error rate in the wireless link 
between the relay and the AP. 
The total time spent in the queue with bulk service 
(illustrated in Figure 4) can be computed by [10] [11]: 
 
 


r
r
r
r
r
E T


1
1
0
0



                          (8) 
 
where r0 is the positive root of the operator equation (9) 
having a value less than 1 [10]: 
 
0
3

 
 


r
r r
r
r




                  (9) 
 
Solving (9), the only positive root with a value less than 
1 is given by: 
 




2
4
2
0


r  
                      (10) 
 
Finally, we can compute the mean time required to 
transmit a packet (without error) from the wireless user to the 
AP as: 
 
 
 
 
 


1
1)
1(
P
E T
E T
P
E T
E T
r
u
u
t






       (11) 
 
To compare the performances of systems with different 
capacities, it is advantageous to normalize equation (11) as a 
function of a packet’s transmission time (1/µ), resulting in 
the normalized delay: 
 


 
 
 



 







1
1)
1(
P
E T
E T
P
E T
E T
r
u
u
tn
    (12) 
 
Figure 5 illustrates the behavior of the normalized delay 
as a function of the utilization factor in the wireless link . 
The utilization factor is the ratio of the load for each wireless 
user  relative to the transmission capacity of its output 
wireless link µ.  
The packet error rate in a wireless link is strongly 
dependent of the link quality. For example, packet error rates 
from 0.018 to 0.738 are reported in [12]. The results 
presented in Figure 5 consider PERuap = 0.3 and PERur = 
PERrap = 0.1. 
Finally, it is interesting to compare the normalized delay 
in the cooperative system with network coding to the 
performance of a system without cooperation (without the 
relay node). To be fair in this comparison, the transmission 
capacity of the relay is equally divided between the two 
wireless users. Thus, the transmission capacity for each 
wireless user is 1.5µ. In this case, the total packet-
transmission delay from a wireless user to the AP is 
computed from: 
121
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks




 





uap
twc
PER
E T
1
5.1
1
             (13) 
 
and the normalized delay without cooperation is given 
by: 
 



 






uap
twcn
PER
E T
1
5.1
             (14) 
 
 
 
Figure 5.  Normalized delay as a function of utilization factor, , 
considering PERuap = 0.3 and PERur = PERrap = 0.1. 
 
Figures 6 and 7 compare the performance of the system 
with cooperation and network coding vis-à-vis the system 
without cooperation. In Figure 6, we consider PERuap = 0.3 
and PERur = PERrap = 0.1, and in Figure 7, PERuap = 0.4 and 
PERur = PERrap = 0.1.  
We can observe that the system with cooperation 
performs better than the system without cooperation once a 
given packet error rate threshold in the link between the 
wireless user and the AP has been exceeded. The threshold is 
a function of the following parameters: PERuap, PERur, 
PERrap and . To investigate the value of this threshold, we 
define a performance factor, , as the ratio between Equation 
12 and Equation 14. The behavior of this parameter is 
illustrated in Figure 8 and Figure 9.  
If the performance factor, , is greater than 1, the system 
without cooperation performs better than the system with 
cooperation. If  < 1, the system with cooperation performs 
better than the system without cooperation. 
Figure 8 shows the influence of the utilization factor, , 
considering PERuap = 0.4 and PERur = PERrap = 0.1.  
Figure 9 shows the influence of the packet error rate in 
the link between the wireless user and AP, PERuap, 
considering  = 0.8 and PERur = PERrap = 0.1. 
 
0
0.2
0.4
0.6
0.8
0
5
10
15
20
With cooperation
Without cooperation
Utilization Factor
Normalized delay
 
Figure 6.  Comparing the normalized delay between systems with and 
without cooperation, considering PERuap = 0.3 and PERur = PERrap = 0.1. 
 
0
0.2
0.4
0.6
0.8
0
20
40
60
80
100
With cooperation
Without cooperation
Utilization Factor
Normalized delay
 
Figure 7.  Comparing the normalized delay between systems with and 
without cooperation, considering PERuap = 0.4 and PERur = PERrap = 0.1. 
 
0
0.2
0.4
0.6
0
0.5
1
1.5
Utilization Factor
Performance Factor
 
Figure 8.  Performance Factor as a function of Utilization Factor, 
considering PERuap = 0.4 and PERur = PERrap = 0.1. 
122
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

0
0.1
0.2
0.3
0.4
2

0.5

1
2.5
4
Packet Error Rate - PERuap
Performance Factor
 
Figure 9.  Performance Factor as a function of the Packet Error Rate in the 
link between the wireless user and AP, PERuap, considering  = 0.8 and 
PERur = PERrap = 0.1. 
IV. 
CONCLUSIONS AND FUTURE WORK 
In this paper, we proposed an analytical approach based 
on a simplified queuing model to analyze the performance of 
cooperative communication with network coding, and we 
used this model to evaluate an algorithm previously 
proposed in the literature. The parameter used to evaluate the 
performance characteristics is the delay to transmit a correct 
packet from a wireless user to an AP. 
Additionally, we compare the performance of a system 
with cooperation and network coding to a system without 
cooperation. We concluded, concurrent with the literature, 
that cooperation increases the performance if the packet error 
rate in the direct link between the wireless user and AP is 
greater than a given threshold.  
The main advantage of the proposed queuing model is its 
simplicity, making it easier to investigate the influence of 
system parameters on a network’s performance. This type of 
model is very useful in that it provides valuable insight 
relative to the performance of the network. 
The weakness of the proposed model is that the 
classification of the traffic (i.e., urgent and non-urgent 
traffic) used in the algorithm proposed in [9] is not 
considered in our model. In future endeavors, we intend to 
expand the model by incorporating the traffic classification 
aspects of the algorithm proposed in [9].  
 
REFERENCES 
 
[1] W. Zhuang and M. Ismail, “Cooperation in Wireless 
Communication Networks”, IEEE Wireless Communications, 
April 2012, pp. 10-20. 
[2] Y. Hong, W. Huang, F. Chiu and C. C. J. Kuo, “Cooperative 
Communications 
in 
Resource-Constrained 
Wireless 
Networks”, IEEE Signal Processing Magazine, May 2007, pp. 
47-57. 
[3] Q. C. Li, R. Q. Hu, Y. Qian and G. Wu, “Cooperative 
Communications for Wireless Networks: Techniques and 
Applications in LTE-Advanced Systems, IEEE Wireless 
Communications, April 2012, pp. 22-29. 
[4] C. Hoymann, W. Chen, J. Montojo, A. Golitschek, C. 
Koutsimanis and X. Shen, “Relaying Operation in 3GPP LTE: 
Challenges and Solutions, IEEE Communications Magazine, 
February 2012, pp. 156-162. 
[5] A. Nosratinia, T. E. Hunter and A. Hedayat, “Cooperative 
Communications 
in 
Wireless 
Networks”, 
IEEE 
Communications Magazine, October 2004, pp. 74-80. 
[6] X. Tao, X. Xu and Q. Cui, “An Overview of Cooperative 
Communications”, IEEE Communications Magazine, June 
2012, pp. 65-71. 
[7] J. Morillo-Pozo, D. Fusté-Vilella and J. García-Vidal, “ 
Cooperative ARQ Protocols”, Chapter 12 in Cooperative 
Wireless Communications, Edited by Y. Zhang, H. Chen and 
M. Guizani, Auerbach Publications, first edition, March 2009, 
pp.259-281. 
[8] R. Ahsdwede, N. Cai, S. R. Li and R. W. Yeung, “Network 
Information Flow”, IEEE Transactions on Information 
Theory, Vol. 46, No 4, July 2000, pp. 1204-1216. 
[9] S. Chieochan and E. Hossain, “Cooperative Relaying in Wi-Fi 
Networks 
with 
Network 
Coding”, 
IEEE 
Wireless 
Communications, April 2012, pp. 57-65. 
[10] D. Gross and C. M. Harris, Fundamentals of Queueing 
Theory – second edition, John Wiley & Sons, 1985. 
[11] L. Kleinrock, Queueing Systems Volume 1: Theory, John 
Wiley & Sons, 1975. 
[12] B. Han and S. Lee, “Efficient Packet Error Rate Estimation in 
Wireless Networks”, Proceedings of the 3rd International 
Conference on Testbeds and Research Infrastructures for the 
Development of Networks and Communities, TridentCom 
2007, May 2007, pp. 21-23. 
 
 
 
 
 
 
 
123
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-318-6
ICN 2014 : The Thirteenth International Conference on Networks

