A Smart Control Strategy for a Battery Thermal Management System: Design, 
Validation and Implementation 
 
Mikel Arrinda, Gorka Vertiz 
CIDETEC, Basque Research and Technology Alliance 
(BRTA) 
Donostia, Spain 
e-mail: marrinda@cidetec.es; gvertiz@cidetec.es 
Christophe Morel, Nicolas Hascoët 
Commissariat à l’énergie atomique et aux énergies 
alternatives (CEA) 
Grenoble, France 
e-mail: christophe.morel@cea.fr; nicolas.hascoet@cea.fr 
Pierre Woltmann 
AUDI AG 
Ingolstadt, Germany 
e-mail: Pierre.Woltmann@audi.de 
Alois Sonnleitner 
Miba eMobility GmbH 
Laakirchen, Austria 
e-mail: Alois.Sonnleitner@MIBA.COM 
Abstract— A Battery Thermal Management System (BTMS) 
controller with smart features is designed, validated through 
simulations, and implemented at lab level. The bedrock of the 
developed controller consists of four Proportional-Integral-
Derivative (PID) controllers that manage independently the 
four actuators of the evaluated thermal system. The additional 
smart features respond to four different control goals: driving 
profile adaptation, energy consumption minimization, aging 
minimization, and fast-charge efficiency maximization. The 
designed controller’s stability and applicability is validated 
through simulations thanks to the provided battery pack 
model, heat exchanger model and thermal actuators models. 
Finally, the controller has been implemented on the battery 
pack of the AUDI e-tron at lab level. The results confirm that 
the designed controller is suitable to be used on a real vehicle. 
Keywords-control; battery thermal management system; 
electric vehicle; experimental. 
I. 
 INTRODUCTION 
Decarbonization and emission reduction of road transport 
are the main drivers for the electrification of vehicles. The 
envisaged European CO2 fleet emission targets for 2025 [1] 
and 2030 already require a massive market introduction of 
partially electrified vehicles or full electric vehicles. 
Furthermore, local or regional air quality regulations, such as 
potential zero emission zones, will drive demand for these 
vehicles. However, there are still some obstacles for user 
acceptance of those electric vehicles [2]: high cost, slow 
charging, limited range, unperceived added value and 
concerns of limited mobility. In order to remove these 
obstacles, it is necessary to increase the efficiency of the 
components of the battery pack system. 
One of the most critical components in an electric vehicle 
is the Battery pack Thermal Management System (BTMS). 
A BTMS is the component that adjusts and balances the 
battery temperature to an appropriate range [3]. There are 
different BTMS-related technologies, but basically all the 
technologies can be categorized into two topics: BTMS 
design and BTMS control strategies. 
The BTMS control strategy topic is addressed in this 
paper. The BTMS control strategies are the algorithms that 
manage the thermal actuators of the BTMS. They aim at 
controlling the temperature range and distribution inside the 
battery pack [3]. These control strategies have a direct effect 
on the performance rate of the thermal system [4]. There are 
many techniques available, but the most common and robust 
ones are the Proportional-Integral-Derivative (PID) and the 
state diagram control strategy. 
The PID control is a control loop mechanism employing 
feedback that applies a correction based on proportional, 
integral, and derivative term of the difference between the 
desired set point and the measured one. The PID is widely 
used in industrial applications, and it is a suitable algorithm 
to control the BTMS [5]. It provides a continuous control 
based on the observed changes in the controlled variable and 
can bring the system to a stable state.  However, this kind of 
control is far from being an optimal control method for the 
BTMS since it cannot be adjusted to different scenarios 
and/or objectives [6]. 
The state diagram control strategy is an expert control 
that defines the decision-making responses based on the 
system’s state diagram [7]. These states, which have been 
defined based on the observations of the real system, define 
the way the actuators are managed. This type of controller is 
also called macro-control or rule-based control. It is easily 
implementable and provides high rate of adaptability to a 
variety of scenarios and can respond to different objectives. 
Nonetheless, it does not pay attention to the dynamics of the 
controller variable, and it is uncommon to bring the system 
to a stable state [8]. 
Consequently, this paper proposes a controller that brings 
the controlled variable to a stable state while being adaptable 
to different scenarios and objectives. The main element of 
the controller is the PID, that can reach a stable state. Above 
it, smart features have been added based on state diagram 
concepts. These smart features have the goal of improving 
the efficiency of the heating and cooling system of the 
battery pack. 
19
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

The aim of the paper is to design, validate and implement 
at lab level this smart control that (0) has a continuous 
control that can bring the system to a stable state; (1) 
lengthens the life of the vehicle by minimizing the aging and 
adjusting the control strategy based on the driving profile; 
and (2) lengthens the use range by minimizing the total 
energy consumption and maximizing the charge events. This 
paper is structured as follows: the use case is introduced in 
Section II. The design is described in detail in Section III. 
The simulations used to validate the designed controller are 
explained in Section IV. The test at lab level is shown in 
Section V. The discussion is done in Section VI. The 
conclusions are drawn in Section VII. 
II. 
USE CASE 
The developed control strategy is designed for a 
commercial electric vehicle. The evaluated battery pack is 
the one inside the 2019 AUDI e-tron, see Figure 1.a. 
However, the thermal system used on the use case is not the 
commercial one, instead, it is the one developed in i-
HeCoBatt European project, grant agreement No. 824300 
[9]. 
 
 
(a) 
 
(b) 
Figure 1.  Evaluated use case: (a) battery pack [10]; (b) FLEXcooler [11]. 
The heat exchanger has been built using MIBA’s 
FLEXcooler® technology, see Figure 1.b. Additionally, the 
heating process is done by resistances that are in direct 
contact with the batteries instead of heating the liquid of the 
heat exchanger. 
III. 
DESIGN 
The designed TMS strategy is a mix of PID controllers 
and state diagram controller’s concepts. The result is a smart 
control strategy that brings the system to a stable state while 
adapting smartly to different scenarios and objectives, see 
Figure 3. 
Firstly, three main states are defined following the state 
diagram controller design: cool zone, optimal operation zone 
and hot zone. These zones represent the actuation 
temperature ranges of the designed controller. At the cool 
zone, heating processes will be taken. At the hot zone, 
cooling processes will be taken. Finally, at the optimal 
operation zone, there will not be any active control. These 
control zones are divided by two temperature thresholds. The 
hot zone’s temperature threshold is set up to 35ºC. The cool 
zone’s temperature threshold is set up to 10ºC.  
The base of the designed controller that provides the 
active control is the PID controller. Specifically, there are 4 
PIDs. Three of the PIDs are used to control independently 
the three independent heating resistance areas that are in 
direct contact with the batteries. The fourth PID controls the 
chiller used to cool down the liquid that goes through the 
heat exchanger. The PIDs are saturated to avoid an 
unnecessary overlapping of processes. An anti-windup 
function is added to the integral component of all the PID 
controllers to avoid undesired responses of the controller. 
The different PIDs have been parametrized using Ziegler-
Nichols method [12]. The method consists of getting the 
transfer function of the system under a step perturbation, see 
Figure 2. 
 
Figure 2.  Applied Ziegler-Nichols method (red line) for the heat 
exchanger PID to the system response under a step perturbation (blue line). 
The parameters of that transfer function are used to 
calculate the parameters of the PID controller, see Table I. 
TABLE I.  
PID TUNING VALUES. 
Parameter 
Equation 
Heat Exchanger A-sample 
P (Kp) 
1,2 x T / (L x yf) 
10.5945 
I (ki) 
Kp / (2 x L) 
0.0227 
D (kd) 
Kp x 0,5 x L 
1238.3 
N (td) 
>100 
105 
 
Once we build up the basis of the controller (the main 
state diagram with the parametrized four PID controllers), 
additional states are defined. These states provide the smart 
features of the controller and fulfil the objectives of the 
controller. 
Firstly, the states used to lengthen the life of the vehicle 
by minimizing the aging and adjusting the control strategy 
based on the driving profile are implemented. The obtained 
features on those states are the following: 
• 
Optional sport mode. The aggressivity of the 
controller is modified at the driver’s will. This is 
done by increasing the P value of the PID controller. 
For this work, the P value is increased 10 times if an 
aggressive driving is requested. The adjustment of 
the controller to the driver characteristics decreases 
the aging. 
• 
Preconditioning when parked. The heating when 
parked is set to the state of having the contact 
switched on. The controller is informed via a 
Boolean signal. The signal can come from different 
sources, such as mobile phones or PCs. It reduces 
the aging that comes from cold or hot starts 
(depending on the room temperature). 
20
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

 
Figure 3.  Design of the adaptive and smart control strategy. 
Secondly, the features used to lengthen the use range 
minimizing the total energy consumption and maximizing 
the charge events are added. These features are the following 
ones: 
• 
Conservative cooling-heating when parked (the 
contact of the vehicle is switched off). The 
temperature thresholds of the controller are modified 
to increase the optimal operation zone. The 
thresholds are modified to 45ºC and to -20ºC. 
Unnecessary energy consumption is avoided when 
parked. 
• 
Reduction of temperature set point if conditions are 
met. The detection of an imminent charge event 
leads to act accordingly. The controller is informed 
via a Boolean signal. The detection can come from 
different sources, such as GPS signals or machine 
learning 
predictive 
algorithms. 
The 
upper 
temperature threshold is reduced to 15ºC. The 
efficiency of charge events is maximized thanks to 
reducing the limitations imposed by the temperature. 
IV. 
VALIDATION 
The validation process of the designed controller is 
undergone through simulations using a modeling library 
containing the battery pack model, heat exchanger model and 
the model of the thermal actuators provided in i-HeCoBatt 
project “unpublished” [13], see Figure 6. 
The simulation environment is built up to have a current 
profile, the room temperature, the contact state, the driving 
profile selection, the preconditioning signal, and the sudden 
fast-charge event signal as inputs and have the thermal 
response of the battery pack, the thermal response of the 
liquid of the heat exchanger, the response of the controller 
and the energy consumption as outputs. 
This simulation environment is used to validate the 
different features of the controller through 4 simulations: 
• 
The first simulation is used to validate the overall 
stability of the controller, see Figure 6.a. For that, 
the whole battery pack model (heat exchanger and 
actuators included) is simulated at a standard driving 
mode with a mild vehicle driving cycle that has a 
fast-charge event at the end of the cycle, see current 
profile in Figure 3. The contact is assumed to be all 
the time on. The room temperature is set to be 
constant at 35ºC. The additional signals are set off. 
 
Figure 4.  Realistic drive cycle current profile. 
• 
The second simulation is used to validate the 
overall stability of the Sport mode used for 
aggressive drivers, see Figure 6.b. The inputs of the 
simulation are the same as in the first simulation 
except for the sport mode that is switched on. 
• 
The third simulation is used to validate the efficacy 
of the added feature that maximizes the charge 
event, see Figure 6.c. The inputs are the same as in 
the second simulation except for the sudden fast-
charge signal, see Figure 5. 
 
Figure 5.  Sudden fast-charge event signal used in the third simulation. 
21
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

 
(a) 
 
(b) 
 
(c) 
 
(d) 
Figure 6.  Results from (a) the first simulation, (b) the second simulation, (c) the third simulation and (d) the fourth simulation.There are two figures for 
each simulation: the upper figure is the thermal response of the battery and the coolant temperature; the lower figure is the response of the controller. 
• 
The fourth simulation validates the preconditioning 
features, see Figure 6.d. The inputs used in the 
second simulation are used in the fourth simulation, 
but with some modifications. The fast charge is 
eliminated from the current profile, the room 
temperature is increased to 40ºC, the contact signal 
is 
switched off 
in 
some ranges and the 
preconditioning signal is switched on 1h before the 
start 
of 
the 
driving 
cycle. 
The 
modified 
preconditioning and the contact signals are shown 
in Figure 7. 
 
Figure 7.  Contact and preconditioning signals in the fourth simulation. 
V. 
IMPLEMENTATION 
A test at lab level has been run to confirm the 
applicability of the designed and validated controller. 
The set-up has been done in CEA’s laboratory, see 
Figure 8.a. The battery pack is positioned inside a climatic 
chamber where the heat exchanger is connected to an 
external thermal regulator to ensure the cooling and heating 
strategy during the test. The BP wiring box is connected to 
the electric regulation devices of the test bench (Current 
range: +/- 0-800 A and Voltage range: 60-1000V). In order 
to avoid convection heat transfer on the lower face of the BP, 
a plasterboard is added between the battery pack and the 
metallic frame that supports the battery pack. 
Pressure and temperature sensors are positioned on the 
inlet and the outlet pipes of the heat exchanger. We have 
added 24 external temperature sensors on the battery pack 
surfaces. A small extra pressure drop is created by the non-
rigid 0.5m pipe to ensure connection between the external 
chiller pipes and the heat exchanger. The pressure sensors 
are from Danfoss (Type MBS 1700) with precision of 0.5% 
of full scale (0-8 bars). The temperature sensors are PT100 
that ware calibrated from 0 to 100°C. 
 
22
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

 
(a) 
 
(b) 
Figure 8.  Tests at lab level of the developed controller. (a) the test bench with the tested battery pack; (b) results of the test at lab level: upper graph the 
applied current profile, the lower graph the thermal response of the battery and the coolant.  
The inputs on the test at lab level are the following ones: 
• 
The current profile of an exigent driving cycle, see 
upper graph of Figure 8.b. 
• 
The room temperature is set up to a constant 30ºC 
through a climatic chamber. 
• 
The driving adjustment is done to a standard-
conservative driving profile (sport mode off). 
• 
The contact is assumed to be active all the test 
(contact switched on). 
• 
The preconditioning is not applied (preconditioning 
signal switched off). 
There is no fast-charge event and therefore, the signal 
that announces the imminence of this event is not applied 
(fast-charge event signal switched off). 
VI. 
DISCUSSION 
The results of the simulation have successfully validated 
the designed control strategy. The first simulation shows 
how the cooling process is activated once the battery 
surpasses a certain temperature and how the controller is able 
to adjust the actuator in a continuous and smooth way, 
providing at the end a stable state. 
The second simulation shows how the sport mode has a 
faster reaction to the temperature changes of the system, 
providing a faster response of the controller. The controller is 
able to adjust its response to a more aggressive driving 
pattern, hence minimizing the effect this aggressive driving 
pattern has in the aging of the battery. 
The third simulation shows how the reduction of the 
upper temperature threshold through the fast-charge event 
notifying signal reduces considerably the temperature of the 
battery before that event (the battery temperature is reduced 
3ºC), reaching lower temperatures at the peak of the fast-
charge event (1ºC lower). 
The fourth simulation shows that the preconditioning and 
energy saving features work properly. 
In conclusion, the performance of the controller itself as 
well as the added smart features have been validated through 
simulations. 
Lastly, the validated controller has been applied in a real 
battery pack with a demanding current profile. The results 
show how the controller starts working once the optimal 
operation zone is left. We can see how the controller is able 
to provide an appropriate smooth control even though the 
temperatures the battery reach are much higher than the ones 
observed in the simulations. This means that the controller is 
suitable to be used in real applications. 
VII. CONCLUSIONS 
This paper proposes a design of a smart BTMS control 
strategy that has a continuous and smooth control over the 
actuators while (1) lengthening the life of the vehicle by 
minimizing the aging and adjusting the control strategy 
based on the driving profile and (2) lengthening the use 
range by minimizing the total energy consumption and 
maximizing the charge events. 
All the smart features of the controller have been 
validated through simulations and the stability and the 
applicability of the proposal have been observed through 
simulations and through a real test of AUDI’s battery pack at 
lab level. 
To sum up, the design is simple and implementable; the 
validation has shown its viability; and the tests done at lab 
level have shown its implementability. 
ACKNOWLEDGMENT 
This work was supported by the European Union’s 
Horizon 2020 Programme for research and innovation under 
Grant Agreement No. 824300, i-HeCoBatt project [9]. 
 
 
 
23
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

REFERENCES 
[1] P. Mock, “CO2 emission standards for passenger cars and light-
commercial vehicles in the European Union,” 2018. [Online]. 
Available: 
http://www.europarl.europa.eu/news/en/press-
room/20181218IPR22101/curbing-co2-(accessed Mar. 24, 2022) 
[2] ERTRAC, 
EPoSS, 
and 
ETIP 
SNET, 
“European 
Roadmap 
Electrification of Road Transport Status: final for publication,” 2017. 
[3] H. Dai et al., “Advanced battery management strategies for a 
sustainable energy future: Multilayer design concepts and research 
trends,” Renewable and Sustainable Energy Reviews, vol. 138, no. 
August, p. 110480, 2021, doi: 10.1016/j.rser.2020.110480. 
[4] H. Liu, M. Wen, H. Yang, Z. Yue, and M. Yao, “A Review of 
Thermal Management System and Control Strategy for Automotive 
Engines,” Journal of Energy Engineering, vol. 147, no. 2, p. 
03121001, Apr. 2021, doi: 10.1061/(asce)ey.1943-7897.0000743. 
[5] J. Cen and F. Jiang, “Li-ion power battery temperature control by a 
battery thermal management and vehicle cabin air conditioning 
integrated system,” Energy for Sustainable Development, vol. 57, pp. 
141–148, 2020, doi: 10.1016/j.esd.2020.06.004. 
[6] H. Liu, M. Wen, H. Yang, Z. Yue, and M. Yao, “A Review of 
Thermal Management System and Control Strategy for Automotive 
Engines,” Journal of Energy Engineering, vol. 147, no. 2, p. 
03121001, Apr. 2021, doi: 10.1061/(asce)ey.1943-7897.0000743. 
[7] S. Yang et al. “A review of lithium-ion battery thermal management 
system strategies and the evaluate criteria,” International Journal of 
Electrochemical Science, vol. 14, no. 7, pp. 6077–6107, 2019, doi: 
10.20964/2019.07.06. 
[8] M. Arrinda, G. Vertiz, D. Snachez, A. Makibar and H. Macicior, 
“Surrogate Model of the Optimum Global Battery Pack Thermal 
Management System Control,” Energies. Vol 15(5), no 1695, 2022, 
doi: 10.3390/en15051695 
[9] CIDETEC, “Home - i-HeCoBatt.” https://ihecobatt.eu/ (accessed Feb. 
10, 2022). 
[10] “Company | audi.com.” https://www.audi.com/en/company.html 
(accessed Feb. 22, 2022). 
[11]  “Miba: Battery 
Components.” 
https://www.miba.com/en/innovation/battery-components 
(accessed 
Feb. 21, 2022). 
[12] D. Valério and J. S. da Costa, “Tuning of fractional PID controllers 
with Ziegler–Nichols-type rules,” Signal Processing, vol. 86, no. 10, 
pp. 2771–2784, Oct. 2006, doi: 10.1016/J.SIGPRO.2006.02.020. 
[13] C. Morel et al., “Numerical study of two Heat Exchangers for the 
cooling of a Battery Pack for an Electric Vehicle,” Open Research 
Europe, 2022. 
 
 
24
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-974-4
VEHICULAR 2022 : The Eleventh International Conference on Advances in Vehicular Systems, Technologies and Applications

