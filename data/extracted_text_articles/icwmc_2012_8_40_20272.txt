A Bandwidth Reservation Method for IPTV Service 
 
Yong-do Choi 
Mobile Communication Engineering 
Kyungpook National University 
Daegu, Korea 
ydchoi@mmlab.knu.ac.kr 
Zhi-Bin Yu, Jae-hyun Jun 
Electrical Engineering and Computer Science 
Kyungpook National University 
Daegu, Korea 
{zbyu, jhjun}@mmlab.knu.ac.kr 
 
Sung-ho Kim 
 
School of Computer Science and Engineering 
Kyungpook National University 
Daegu, Korea 
shkim@ knu.ac.kr 
 
Abstract— A growth of high speed Internet increases network 
traffic and applications that use voice, data, and multimedia 
services. Among those, Internet Protocol TeleVision (IPTV) 
service is rapidly proliferating all over the world. However, 
network infrastructure cannot accommodate the growth of 
IPTV. Therefore, this study suggested a bandwidth reservation 
mechanism using a traditional protocol to achieve a more 
stable IPTV service. We referenced the Multiple Stream 
Reservation Protocol (MSRP) that is a bandwidth reservation 
protocol in IEEE 802.1AVB and implemented a similar 
reservation mechanism in IPTV service environment; however, 
but our own mechanism improved the bandwidth reservation 
fail situations that are not supported by the original MSRP. 
Therefore, the proposed method is more stable for bandwidth 
reservation in the IPTV service environment. We examined the 
proposed method with network simulator, OPNET, and 
compared an end-to-end delay via the original IPTV service 
and with the end-to-end delay using our bandwidth reservation. 
Keywords - QoS; bandwidth reservation; IPTV  
I. 
 INTRODUCTION 
The growth of high speed Internet increases network 
traffic and applications that use voice, data, and multimedia 
services. Further, depending on the development of terminal 
devices capable of playing multimedia - such as Mp3 players, 
Portable Multimedia Players (PMPs), smart phones, and 
navigation etc. - many network application services have 
been created. Among those, Internet Protocol TeleVision 
(IPTV), which is highly regarded as a killer application 
service, is rapidly increasing in the world. Sufficient network 
resources are needed for supporting IPTV services [1]. 
However, the current network resource is insufficient due to 
heavy Peer-to-Peer (P2P) traffic and other traffic getting into 
network; further, there are times when average network 
service is impossible to achieve due to malicious traffic such 
as Distributed Denial of Service (DDoS). To achieve a stable 
IPTV service against harmful traffic, network bandwidth 
reservation is needed. The current IPTV service offers 
guaranteed Quality of Service (QoS) by Internet Service 
Providers (ISPs) to subscribers, but QoS is not guaranteed 
from subscriber networks to each user because the network 
transmission policy is best-effort [2]. 
The Institute of Electrical and Electronics Engineers 
802.1 Audio/Video Bridging Task Group (IEEE 802.1 AVB 
TG) is carrying out research among Ethernet-based digital 
media devices. First, high quality synchronization services 
are provided among several digital media devices in LANs. 
Second, there is a mechanism to make reservation resources 
for each service in addition to sets of default rules for 
managing resources. A third kind of research is on a traffic 
forwarding method through reserved bandwidth [3]. Our 
study is aimed to achieve Multiple Stream Reservation 
Protocol (MSRP) which is a kind of bandwidth reservation 
applied to the IPTV service using Internet Group 
Management Protocol (IGMP). However, MSRP does not 
handle some failed bandwidth reservation situations in the 
IPTV service environment. Therefore, we improved the 
original MSRP to handle failed bandwidth reservation 
situations, and our proposed mechanism can support higher 
QoS than traditional IPTV service. 
The remainder of the paper is organized as follows. In 
Section II, we introduce the existing bandwidth reservation 
methods such as Resource Reservation Protocol (RSVP), 
IEEE 802.1p, and MSRP. In Section III, we propose 
processes for various situations related to bandwidth 
reservation and reservation withdrawal with using IGMP, 
and in Section IV, we introduce the simulation and 
numerical results in. Section V presents the concluding 
remarks. 
II. 
RELATED WORK 
A. RSVP 
The Resource ReSerVation Protocol (RSVP), a kind of 
Integrated Service (IntServ), is a reservation mechanism 
executing on the transport layer. RSVP can be used by either 
hosts or routers to request or deliver specific levels of quality 
202
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

of service (QoS) for application data streams or flows. RSVP 
defines how applications place reservations and how they 
can relinquish the reserved resources once the need for them 
has ended. RSVP operation will generally result in resources 
being reserved in each node along a path. RSVP does not 
transport application data but is rather an Internet control 
protocol, like ICMP, IGMP, or the routing protocol [4]. 
RSVP also provides receiver-initiated setup of resource 
reservations for multicast or unicast data flows with scaling 
and robustness. Figure 1 shows the reservation process via 
RSVP. 
 
 
Figure 1.  Reservation mechnism with RSVP 
Although RSVP can control the QoS level for application 
data streams or flows per specific users, every device must 
support RSVP and store the reservation state in each node 
along the path [4]. The implementation of RSVP is difficult 
because the path of traffic is not constant on the Internet. For 
this reason, RSVP was little used. To solve the problem of 
RSVP, the Differentiated Service (DiffServ) was proposed. 
DiffServ provides adequate QoS via prioritizing traffic. 
B. IEEE 802.1p 
One type of DiffServ, IEEE 802.1p that is operated at the 
data link layer, processes frames according to their priority 
on the Ethernet [5]. IEEE 802.1p defines eight different 
classes of available service, usually expressed through the 3-
bit priority field. The most important is priority 7 which 
corresponds to the network control frame, and priority 0 
which corresponds to the best effort traffic that is the least 
important frame. If some frame belongs to the multimedia 
service, then its priority is 4 or 5. In this case, the multimedia 
frame has higher priority than other best effort frames, so 
multimedia frame could be guaranteed QoS. Figure 2 shows 
the structure of Ethernet frame using IEEE 802.1p. 
However, IEEE 802.1p has two problems [6]. First, when 
two or more frames having the same priority arrive at the 
switch at the same time, some of these frames are discarded 
due to the limited queue size on the switch. If the time-
sensitive frame is discarded, then large jitters occur and the 
media cannot be guaranteed QoS. Second, the more the hop 
count increases, the more the potential delay of time-
sensitive frame increases due to the time-sensitive frame of 
other applications. The reason that transmission delay 
increases is due to accumulating delay by competition with 
the same priority frames and the effects of lower priority 
frame for non-preemption. Therefore, DiffServ is inadequate 
for specific applications. 
 
 
Figure 2.  The frame structure using IEEE 802.1p 
C. MSRP 
MSRP that is being studied in IEEE 802.1 AVB TG is 
used in Ethernet and works by making a sub spanning tree 
for specific traffic [7]. MSPR reserves bandwidth on the 
Ethernet, so the reservation path is fixed. In addition, MSRP 
does not cause delays by other traffic because MSRP is a 
kind of IntServ. 
In MSRP, a Talker means that the node can serve 
multimedia streaming to other nodes on the LAN, while a 
Listener receives multimedia streaming service from a 
Talker. MSRP starts a reservation when Talker announces 
that they can serve a multimedia service, or Listener 
announces that they want to receive a multimedia streaming 
service in the LAN. MSRP uses five types of messages. Each 
type is presented in Table 1. 
TABLE I.  
MSRP MESSAGE TYPES 
Message 
Description 
Talker 
Advertise
Advertise 
for 
a 
stream 
that 
has 
not 
encountered any bandwidth or other network 
constraints along the network path from the 
Talker. 
Failed 
Advertisement for a Stream that is not 
available to the Listener due to bandwidth 
constraints or other limitations somewhere 
along the path from the Talker. 
Listener
Asking 
Failed 
One 
or 
more 
Listeners 
are 
requesting 
attachment to the Stream. None of those 
Listeners are able to receive the Stream 
because of network bandwidth or resource 
allocation problems. 
Ready 
One 
or 
more 
Listeners 
are 
requesting 
attachment to the Stream. There is sufficient 
bandwidth and resources available along the 
path(s) back to the Talker for all Listeners to 
receive the Stream 
Ready 
Failed 
Two or 
more Listeners are requesting 
attachment to the Stream. At least one of those 
Listeners 
has 
sufficient 
bandwidth 
and 
resources along the path to receive the Stream, 
but one or more other Listeners are unable to 
receive the stream due to network bandwidth 
or resource allocation problems. 
The Talker creates a Talker Advertise declaration 
message to announce to other nodes on the LAN and update 
203
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

its MSRP table. A Talker Advertise message includes the 
MAC address of the Talker, declaration type, required 
bandwidth, etc. The bridge port 0, which receives the Talker 
Advertise message, then registers it in its MSRP table and 
sends it to other ports on the bridge. The bridge port 1 that 
receives the Talker Advertise message by bridge port 0 
registers the message in its MSRP table and compares the 
requirement bandwidth of the message with its available 
bandwidth. If the available bandwidth is larger than the 
required bandwidth, then the message is forwarded to the 
other node. Otherwise, the message is changed to Talker 
Failed message and forwarded. 
When A Talker Advertise message arrives at a Listener, 
if the Listener wants to receive the Talker’s service, then the 
Listener generates a Listener Ready message and sends it to 
the Talker. A Listener Ready message has only the StreamID 
of the Talker; StreamID consists of the MAC address of the 
Talker and an integer number. Bridgeport 1, which receives 
the Listener Ready message, reserves the required bandwidth, 
if port 1 has sufficient available bandwidth. When the 
bandwidth reservation is successful at port 1, the Listener 
Ready message is forwarded to the Talker by MSRP attribute 
propagation. The Listener Ready message arrives at the 
Talker, and the Talker then compares its MSRP table with 
the streamID in the Ready message. If the Listener Ready 
message is associated with a stream that the Talker can 
supply, then the Talker can immediately start the 
transmission for this stream. Figure 3 illustrates the MSRP 
reservation success process. 
 
 
Figure 3.  Bandwidth reservation success process 
In the cases of reserved bandwidth withdrawal, the 
Talker stops streaming or the Listener declines to receive the 
stream of Talker service. If the Talker wants to stop the 
services, then the Talker generates a Talker Failed message 
and sends it to the Listener, who in turn stops transmitting 
the stream. The bridge port 0, which receives the Talker 
Failed message, sends to some ports that have already 
reserved bandwidth for the stream of the Talker. The bridge 
port 1 that receives the Talker Failed message by port 0 
returns the reserved bandwidth and forwards the Talker 
Failed message. The Listener that receives Talker Failed 
message deletes the streamID of Talker Failed message in its 
MSRP table. In the case of bandwidth reservation failure, the 
outgoing port of bridge has insufficient bandwidth than the 
required bandwidth when the Talker Advertise message is 
forwarded. In this case, the Talker Advertise message is 
changed to Talker Failed message and forwarded. Then, the 
MSRP defines a bandwidth reservation/withdrawal and 
bandwidth reservation failed in the Ethernet. 
However, the bandwidth reservation fail situation was 
able to occur in MSRP. That can happen such as the state of 
the listener and available bandwidth is insufficient when not 
only the Talker Advertise message arrives but also when the 
Listener Ready message arrives at the port. MSRP, which 
has not been researched until now, can process only a few 
situations in which bandwidth reservation failed, so it is not 
effective in a QoS guaranteed environment. When a number 
of services share limited resources, bandwidth reservation 
failure will occur; this problem must be resolved. 
III. 
IGMP-BASED BANDWIDTH RESERVATION 
The Internet Group Management Protocol (IGMP) is a 
communications protocol used by hosts and adjacent routers 
on IP networks for the purpose of establishing multicast 
group memberships. IGMP is used to join and leave 
multicast group memberships. The latest IGMP is version 3, 
but we use IGMP version 2, which is widely used. We 
suggest a bandwidth reservation using IGMP, which is a 
similar MSRP mechanism, and implemented a bandwidth 
reservation/withdrawal process on IPTV multicast group join 
and leave. 
 
In the case of terminal node send Membership 
Report message 
When a Membership Report message sent by a terminal 
node sends arrives at multicast-supported router, the router 
starts a streaming service to the node. As a result, 
intermediate device receives the Membership Report 
message, and the device needs to reserve bandwidth. When 
intermediate devices receive a Membership Report message, 
the device checks available bandwidth at incoming port. If 
the available bandwidth is can support the demanded 
multicast stream bandwidth of terminal node, then the device 
reserves the demanded bandwidth and forwards a 
Membership Report message. When available bandwidth of 
the device port is insufficient, the device discards the 
Membership Report message. In traditional IGMP, the 
intermediate device receives a Membership Report message, 
and the device broadcasts (or multicast) the message to 
restrict unnecessary traffic. However, we use a Membership 
Report message for bandwidth reservation, and the device 
does not broadcast but only sends the message to the 
multicast router side. Therefore, another terminal node sends 
a Membership Report message that is about the same 
multicast group for bandwidth reservation. We show this 
process in the Figure 4. 
204
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

 
Figure 4.  Bandwidth reservation process with IGMP Membership Report 
                  message 
Check required bandwidth through
group address
Is available bandwidth sufficient
in the ingress port?
Update a bandwidth reservation 
management table of ingress port
(Ingress port Available bandwidth -= 
requirement bandwidth,
The number of node of Group Address += 1)
IGMP Membership Report 
message discard
Update a bandwidth reservation management 
table of egress port
(Engress port Available bandwidth -= 
requirement bandwidth,
Listener of Group Address += 1)
Is available bandwidth sufficient
in egress port?
IGMP Membership Report message recieved
IGMP Membership Report message forward
Yes
Yes
No
No
Group address is already reserved in 
ingress port?
Yes (need bandwidth reservation)
No (do not need bandwidth reservation)
Group address is already reserved in 
egress port?
Yes (do not need bandwidth reservation)
No (need bandwidth reservation)
Update a bandwidth reservation 
management table of ingress port
(The number of node of Group Address += 1)
Update a bandwidth reservation management 
table of ingress port
(Egress port Available bandwidth -= 
requirement bandwidth,
The number of node of Group Address += 1)
Release the reserved bandwidth in the 
ingress port
(Ingress port Available bandwidth += 
requirement bandwidth,
The number of node of Group Address -= 1)
 
Figure 5.  Bandwidth reservation flow chart in intermediate device 
A bandwidth reservation process in the intermediate 
device is as follows. First, it checks that the group address of 
Membership Report message is reserved on the ingress port. 
When the group address is already reserved, we only update 
the number of terminal node of the group address. When the 
group address is not reserved, the device check required 
bandwidth of the group address, then check whether 
available bandwidth is sufficient or insufficient for support 
required bandwidth. If the available bandwidth is insufficient, 
then it is regarded as bandwidth reservation failure, and the 
device discards the Membership Report message and sends a 
message that notifies that the required service cannot be 
provided due to insufficient bandwidth to the terminal node. 
On the other hand, if the available bandwidth is sufficient, 
then the device updates the bandwidth reservation 
management table of ingress port and allocates the 
bandwidth. The device checks the bandwidth reservation 
management table of egress port. If the group address is not 
reserved in the egress port, then we sue the same process for 
egress port as that used for ingress port. If the group address 
is already reserved in the egress port, then the device 
forwards the message to the multicast router side. However, 
if the available bandwidth is insufficient in the egress port, 
then release the reserved bandwidth in the ingress port and 
discard the message. We show this process in Figure 5. 
 
 
Figure 6.  Bandwidth reservation process via IGMP Membership Query 
                  message 
 
In the case of multicast router sending the 
Membership Query message 
In this case, a terminal node that wants to join a multicast 
group or already has joined a specific multicast group, sends 
a Membership Report message to the multicast router for 
bandwidth reservation. This case is the same as that of the 
previous case in that the terminal node sends a Membership 
Report message. Figure 6 is shows the bandwidth reservation 
process via IGMP Membership Query message 
 
 
In the case of terminal node sending a Leave Group 
message 
In this case, the terminal node does not receive a 
multicast stream any more, and an intermediate device needs 
to release the bandwidth of multicast stream of the terminal 
node. We define this process as “bandwidth withdrawal”. 
The device forwards the Leave Group message to the 
multicast router side after bandwidth withdrawal. The router 
that receives the Leave Group message sends a Membership 
Query message with the group address of the Leave Group 
message to other terminal nodes. After this, nodes that have 
received the Membership Query message via multicast send 
a Membership Report message, and this is similar to that in 
the case of terminal node sending a Membership Report 
message. Figure 7 shows the bandwidth reservation process 
205
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

via IGMP Leave Group message, and Figure 8 shows the 
bandwidth withdrawal process in an intermediate device. 
 
Multicast router
Intermediate device with IGMP snooping
Terminal node
IGMP Report
IGMP Report
IGMP Query (Group-specific)
IGMP Query (Group-specific)
IGMP Leave Group
IGMP Leave Group
Bandwidth
Reservation
Bandwidth
Withdrawal
 
Figure 7.  Bandwidth reservation process via IGMP Leave Group message 
 
Figure 8.  Bandwidth withdrawl flow chart in intermediate device 
The bandwidth withdrawal process is as follows. When 
the ingress port of the device receives a Leave Group 
message, the device check the allocated bandwidth for group 
address in the message and then updates the bandwidth 
reservation management table of the ingress port and releases 
the bandwidth. If the number of terminal node of the group 
address specified in the Leave Group message is one, then 
the bandwidth reservation management table of the egress 
port also updates as according to the ingress port. If the 
number of terminal node of the group address in the egress 
port is more than one, then the device only subtracts the 
number of terminal node in the egress port, and forwards the 
Leave Group message. 
IV. 
SIMULATION RESULT 
To show the efficiency of the proposed bandwidth 
reservation via IGMP, we used the network simulator 
OPNET. We compared the traditional IGMP with our 
suggestion in terms of multicast streaming. We set up a 
network environment using 6 L3 switches that are 
intermediate devices, 10 terminal nodes, and the load time-
sensitive traffic, non-time-sensitive traffic at each link. 
Further, we used time-sensitive traffic with voice and video 
traffic. Therefore, each node sends the Membership Report 
message to the multicast router at different time intervals. 
Figure 9 shows our network topology. 
The traffic of each source is 100Mbps, and we set the 
outgoing stream frame size of each source to 125 Kbytes. 
For the analysis of end-to-end delay is according to network 
load. Therefore, we set different join times for each terminal 
node, as is shown in Table 2. 
TABLE II.  
JOIN TIME OF EACH TERMINAL 
Terminal node
Join time (sec)
Terminal node 
Join time (sec)
User1 
75 
User5 
85 
User2 
80 
User6 
90 
User3 
80 
User7 
90 
User4 
85 
 
 
 
 
Figure 9.  The network simulation topology 
The traffic generation rate and characteristic follow that 
voice is Expedited Forwarding (EF), video is Assured 
Forwarding (AF), and non-time-sensitive traffic is Best 
Effort (BE). The EF traffic is used to transmit voice data, and 
it is a Constant Bit Rate (CBR) in the ATM network. The AF 
traffic is video data type such as MPEG-1, MPEG-2 and 
H.264. It is used by Video on Demand (VoD), video 
conferencing, etc. The AF traffic regards bandwidth with 
great importance, but it is less sensitive to delays than EF 
traffic. The BE traffic is used by legacy Internet services 
such as web services, e-mail and FTP. The BE traffic does 
not need real time transmission. Therefore, Walter et al. 
discovered that AF and BE traffics have self-similarity 
characteristic [8]. Figure 10 and Figure 11 show an end-to-
end delay with traditional IGMP, and after bandwidth 
reservation using IGMP, respectively. 
206
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

 
 
Figure 10.  End-to-end delay with traditional IGMP 
 
 
Figure 11.  End-to-end delay after bandwidth reservation using IGMP 
In Figure 11, the traffic node is over 90%, and multicast 
traffics, except User1, do not transmit because User1 had the 
first IPTV streaming service after bandwidth reservation, 
while User5, and User6 cannot IPTV the streaming service 
because the available bandwidth is insufficient due to 
bandwidth reservation by User2 and User3. Therefore, the 
QoS of User1 is guaranteed. 
 
V. 
CONCLUSION AND FUTURE WORK 
Nowadays, as network infrastructure and device continue 
to advance, various network-based applications appear 
among those applications, IPTV is increasing rapidly 
worldwide. To support IPTV services, sufficient network 
resources are required. This paper proposed the MSRP 
mechanism to reapply to the IPTV environment. We applied 
a bandwidth reservation mechanism using IGMP message. 
The bandwidth reservation is similar to that of MSRP, and 
we improved the network resource efficiency to process the 
wasted bandwidth due to bandwidth reservation failure. We 
simulated our proposed method via OPNET, and the network 
simulator confirmed that the end-to-end delay of multicast 
traffic is shorter than that of the traditional method. 
In the following research, we expect longer channel 
zapping time than that of the traditional method because of 
the additional bandwidth process. Therefore, we need to 
improve channel zapping time to match that of traditional 
IGMP, and support suitable IPTV service. Furthermore, 
when wired/wireless devices join the same streaming service, 
a study is needed to achieve a bandwidth reservation 
mechanism to guarantee QoS among them. 
 
ACKNOWLEDGMENT 
This work was supported by the National Research 
Foundation of Korea(NRF) grant funded by the Korea 
government(MEST) (No. 2011-0004184), and Kyungpook 
National University Research Fund, 2012. 
 
 
REFERENCES 
[1] Yang Xiao, Xiaojiang Du, Jingyuan Zhang, Fei Hu, and 
Sghaier Guizani, “Internet Protocol Television (IPTV):The 
Killer Application for the Next-Generation Internet,” IEEE 
Communications Magazine, vol. 45, Issue 11, pp. 126-134, 
November 2007. 
[2] Ken Kerpez, Dave Waring, George Lapiotis, J. Bryan Lyles, 
and Ravi Vaidyanathan, "IPTV Service Assurance," IEEE 
Communications Magazine, vol. 44, Issue 9, pp. 166-172, 
September. 2006. 
[3] IEEE 802.1 Audio/Video Bridging Task Group Home Page, 
http://www.ieee802.org/1/pages/avbridges.html, 
Septermber 
2008. 
[4] Lixia Zhang, Steve Deering, Deborah Estrin, Scott Shenker 
and Daniel Zappala, “RSVP: A New Resource ReSerVation 
Protocol,” IEEE Network, vol. 7, pp. 8-18, September 1993. 
[5] IEEE Draft Standard for Local and Metropolitan Area 
Networks virtual bridged local area networks – Vertual 
Bridged Local Area Networks, IEEE std 802.1Q, March 2006. 
[6] King-Shan Lui, Whay Chiou Lee and Klara Nahrstedt, “Link 
Layer Multi-Priority Frame Forwarding,” IEEE International 
Conference on communications, vol. 3, pp. 1573-1577, May 
2003. 
[7] IEEE Draft Standard for Local and Metropolitan Area 
Networks 
virtual 
bridged 
local 
area 
networks 
– 
Amendment9 : Stream Reservation Protocol (SRP), IEEE 
802.1Qat, November 2009. 
[8] Walter Willinger, Murad S. Taqqu, Robert. Sherman and 
Daniel V. Wilson, “Self-similarity through high-variability: 
statistical analysis of Ethernet LAN traffic at the source 
level,” ACM SIGCOMM ’95, pp. 100-113, April 1995. 
 
207
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-203-5
ICWMC 2012 : The Eighth International Conference on Wireless and Mobile Communications

