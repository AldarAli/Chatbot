Mode Selection, Power Adaptation and Channel Assignment in Device-to-Device
Communication
Neeta Ann Ninan
Dept. of Electronics and Communication
National Institute of Technology Calicut, India
Email: neeta.ann93@gmail.com
Lillykutty Jacob
Dept. of Electronics and Communication
National Institute of Technology Calicut, India
Email: lilly@nitc.ac.in
Abstract- Device-to-Device (D2D) communication is a
technique that allows two devices to communicate with
each other in the licensed band without the requirement
of a base station. The major advantage of D2D commu-
nication is that it allows reuse of spectrum resources and
thereby improves spectral efﬁciency. However, it has to
deal with interference mitigation and resource allocation.
This paper focuses on mode selection, power adaptation
and channel assignment for bandwidth efﬁcient and energy
efﬁcient D2D communication. In the scheme used here,
distributed mode selection is formulated as an evolutionary
game and channel allocation uses a graph theoretical
approach such that interference is minimum, while power
control is performed using channel inversion. The simula-
tions show that the D2D communication improves capacity,
reduces power consumption and performs effective band-
width allocation.
Keywords-mode selection; evolutionary game; graph theo-
retical approach; channel inversion.
I. INTRODUCTION
Until recent years, cellular communication was having a
ﬁxed infrastructure. However, surveys show that 5 billion
devices are connected to the cellular network at present [1],
global data trafﬁc has increased to 74 % Compound Annual
Growth Rate (CAGR) in 2015 and current infrastructure is
unable to handle the huge trafﬁc. As a solution to this
problem, different methods were suggested [2] like: Device
to device (D2D) communication, densiﬁcation of Base Station
(BS), cognitive radio etc. D2D communication is one among
the most popular techniques that are used nowadays. In
the conventional cellular communication system, even when
mobile users are communicating in close proximity, they are
required to follow the ﬁxed infrastructure. This proves to
be quite complex, in addition to wastage of resources. D2D
communication is quite effective in such situations. A properly
designed D2D network can have the following advantages [2]
[3]: increase in spectral efﬁciency, reduced latency, increase
in throughput, low power consumption, resource conservation,
improved capacity etc.
The potential D2D user equipments can operate in one of
the following three communication modes [4]:
Fig. 1. System Model of D2D Communication
1) Reuse mode: In the reuse mode, the D2D users do not
need a BS, instead they communicate directly. They
share the resources of the cellular users or the D2D users
in cellular mode who have exclusive channels allocated
to them.
2) Cellular mode: In cellular mode, the D2D users use the
BS to transmit just like the cellular users. Sometimes,
even when the transmitter and receiver are in close
proximity, a reuse or dedicated mode can not be used
due to deep fades. In such cases, those D2D users use
the cellular mode.
3) Dedicated mode: The D2D users in dedicated mode can
communicate with or without BS but they cannot reuse
the spectrum resources. So, they also require dedicated
orthogonal frequency bands. This mode is preferred
when the signal quality is required to be very high with
no interference.
Figure 1 shows the system model where (D1, D2) transmitter-
receiver pair are in cellular mode, (D3, D4) are in reuse mode
and (D5, D6) are in dedicated mode.
In this paper, we propose a scheme for D2D communication
35
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-546-3
ICN 2017 : The Sixteenth International Conference on Networks (includes SOFTNETWORKING 2017)

which includes mode selection, power adaptation and channel
assignment. Initially, the users are distinguished into cellular
or potential D2D users based on the threshold distance. The
potential D2D users will have to choose a suitable mode
among the three modes, and for distributed mode selection
an evolutionary game model is developed. The utility function
used for the game by each user is a function of the rates of all
users which are computed based on their respective modes.
The transmit power used for rate calculation is a controlled
power computed by suitable power control schemes. At the
convergence of the evolutionary game, based on the number
of users in each mode, the channel allocation is done by the
BS.
The rest of this paper is organized as follows. In Section II,
we provide a brief literature review on closely related existing
works. In Section III, we describe the system model, problem
addressed and techniques adopted for mode selection, power
adaptation and channel assignment. In Section IV, we describe
the simulation setup and results, thus giving a performance
evaluation. Section V gives conclusion and future prospects
of this work.
II. RELATED WORK
Many works in the literature have addressed one or more
of the issues of mode selection, power control and channel
allocation in D2D communication. In [5] the authors discuss
a joint mode selection and power allocation scheme for D2D
communication. They employ an exhaustive search based
mode selection, and consider the number of device pairs to
be known and the utility used in this case is power efﬁciency,
which is the ratio of capacity to total power. The problem
deﬁned is to identify the mode that maximizes the utility.
However, the drawback of this model is that the D2D users
are assumed to be in reuse modes only and the other possible
modes are not considered.
The authors of [6] focus on channel allocation to D2D
users while in reuse mode. They consider a centralised al-
gorithm, i.e., the BS makes the decisions. The utility used for
channel allocation is the achievable transmission rate of the
cellular users. Ultimately, to efﬁciently allot the resources with
minimum interference, we need to maximize the utility. For
this, graph theoretical algorithms like maximum and minimum
weighted bipartite matching are used and the channels are
mapped to the cellular and D2D users in the cell. However, the
limitation here is that they consider D2D users only in reuse
mode. The cellular and dedicated mode possibilities are not
considered. Moreover, there is no power control happening.
Zhu and Hossain [4] discuss an evolutionary dynamic game
model for mode selection. The mode selection is ﬁrst randomly
done and then allowed to dynamically adapt according to the
performance (average rate) and cost (spectrum access fee). In
the real scenario, there is always limited rationality and the
evolutionary game model gives the best solution under such
situations. The payoff of each user is computed based on his
strategy and that decides whether to change or not change his
strategy. The steps are repeated until an evolutionary stable
state is reached. Wang et al. speak of a stackelberg game in
[7]. However, the limitation in these works is lack of power
control and channel assignment.
In [8], an evolutionary approach for resource allocation is
followed where utilities are formulated in terms of average
rate, interference and cost of unit bandwidth and power con-
sumption for each mode. However, multiple D2D users cannot
be allotted to the same channel. In [9], joint mode selection,
scheduling and power control are together formulated as an
optimization problem. The optimization is done using a mixed
integer linear programming formulation, which also does not
consider all three modes of D2D communication.
This work, however, considers all three possible modes of
D2D communication. A multicell scenario is considered for
the analysis. But, unlike [4], we do a power adaptation which
is lacking in most of the existing works. A channel assignment
is also done in addition to the the mode selection using
Evolutionary Game Theory (EGT). Along with guarantee on
convergence through EGT, the different performance parame-
ters like rate, transmission power, system power efﬁciency and
system spectral efﬁciency are studied in this work to clearly
emphasize the merits of the proposed scheme.
III. PROPOSED WORK
A. System Model and Problem Statement
We consider uplink communication in a multicell scenario
with focus on a single cell having a single BS at its centre.
There are ‘N’number of transmitting users whose positions
within the cell are characterized by a Poisson Point Process
(PPP) [4]. This PPP model is represented by: φ = {(Xi, yi)}
where Xi gives the spatial location of ith transmitting user
and yi gives the location of receiver of ith transmitting user
Xi. The Euclidean distance between the transmitter and the
receiver is calculated as Di=∥Xi−yi∥. Based on the distance
between transmitter and receiver, the cellular and D2D users
can be distinguished. If the Euclidean distance between the
transmitting user and its receiver is greater than a threshold
distance, then he becomes a cellular user; otherwise, he
becomes a potential D2D user. The potential D2D users have
to choose one of the three possible modes, namely, cellular
mode, reuse mode and dedicated mode. Here a distributed
mode selection is done. The populations in cellular, reuse and
dedicated modes at any instant are denoted by xc, xr and xd,
respectively; and the population state by x = (xc, xr, xd). The
density of users in each mode can be given as in [4]. We
consider a general path loss model along with Rayleigh fading.
So, the fading channel power gain is exponentially distributed.
In an attempt to enhance the spectral and energy efﬁciency,
we develop a game model for mode selection in D2D commu-
nication using evolutionary game theory and also perform a
power adaptation using a suitable scheme. This information of
population state on convergence of the game is used to model
the channel allocation using graph theoretic models. Finally,
the performance of this model in doing mode selection, power
allocation and channel allocation need to be analyzed in terms
36
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-546-3
ICN 2017 : The Sixteenth International Conference on Networks (includes SOFTNETWORKING 2017)

on transmission power, rate etc. The notations used in the
following subsections are summarized in Table 1.
TABLE I
MAJOR SYMBOLS USED IN THE PAPER
Symbol
Deﬁnition
Xi
spatial location of ith transmitting user
yi
location of receiver of the ith transmitting user
Di
Euclidean distance between transmitter and receiver of ith user
Il
c
interference experienced by a cellular user on channel ‘l ’
Pr
transmit power of potential D2D user in reuse mode
g0,i
fading gain from interferer ‘i ’to target receiver
η
path loss exponent
Pc
transmit power of cellular mode user
φl
r
set of potential D2D users in reuse mode who cause interference to cellular user on channel ‘l ’
ˆ
φlc
set of potential out of cell interferers who cause interference to cellular user on channel ‘l ’
Rc
random variable that denotes the distance between target receiver and its transmitter
hc
fading gain between target receiver and its transmitter
W
noise power
µ
parameter of exponential fading channel power gain
υ
threshold SINR
λl
r
density of users in reuse mode on channel ‘l ’
λb
density of BSs in the multicell scenario
B
amount of bandwidth for each subchannel
Fc
amount of spectrum for cellular users
E(Nc(A))
mean number of users in cellular mode
Il
r
interference experienced by a reuse mode user on channel ‘l ’
D
random variable that denotes the distance between D2D transmitter and receiver
ξ
learning rate
k
number of channels reused
p
medium access probability
Fd
amount of spectrum for dedicated users
E(Nd(A))
mean number of users in dedicated mode
x
population state
τi(x)
data rate of user using strategy ‘i ’
ci
access fee for strategy ‘i ’
B. Rate analysis for different D2D communication modes
Initially, the D2D users have all been randomly assigned
a mode and corresponding to their mode, the rate of each
D2D user needs to be computed. It is to be noted that the
D2D users in cellular mode suffer from interference due to
D2D users in reuse mode who are using the same channel
and also due to out of cell cellular interferers who are using
the same channel. Likewise, the D2D users in reuse mode
suffer interference from cellular users whose channel is being
reused and also from other reuse mode users who reuse the
same channel. However, the dedicated mode users suffer no
interference. The rate analysis for different communication
modes is done to compute the average rate achieved by users,
following the approach in [4].
In cellular mode, the net interference of a user on channel
‘l’ due to reuse mode users and out of cell interferers is given
by (1).
Il
c =
X
Xiϵφl
r
Prg0,i∥Xi∥−η +
X
Xiϵ ˆφlc
Pcg0,i∥Xi∥−η
(1)
It is to be noted that the target receiver is the BS, whose
location is assumed to be at the origin. Signal-to-interference-
plus-noise ratio (SINR) can be computed as:
SINRl
c = Pchcr−η
c
W + Ilc
(2)
The expected value of Shannons rate with respect to the
different random variables involved is given by:
¯τc = ERc,hc,g0,i,φlr, ˆφlc

log

The expected amount of spectrum resource for users in reuse
mode is given by :
Br = kpB
(15)
where, k is the number of channels reused and p is the medium
accesss probability. Hence, the rate is given by :
τr = Br¯τr
(16)
In dedicated mode, however, there is no interference since
the channel is dedicated completely for that D2D user. Hence,
SINR is reduced only due to noise and no interference. The
average spectrum efﬁciency is obtained as:
¯τd =
Z ∞
0
pd

Fig. 2. Proportion of users in each communication mode
Fig. 3. Impact of distance threshold on proportion of users in different modes
and better spectral efﬁciency than cellular mode, while using
dedicated mode can achieve the best performance. Therefore,
the reuse and dedicated modes are the dominant modes in D2D
users. Hence, the plots are increasing for reuse and dedicated
mode and decreasing for cellular mode. Soon, the population
converges to equilibrium at which no user has the incentive to
deviate.
The impact of distance threshold on proportion of users in
different modes is shown in Figure 3. The threshold distance
decides the number of users in cellular and D2D modes.
When the threshold distance increases, users who are currently
cellular users become D2D users. Since reuse and dedicated
modes are dominant, the number of users in these modes
increases initially and converges to equilibrium. Similarly,
the cellular mode is a dominated strategy and, hence, the
population of users in cellular mode decreases.
In Figure 4, we plot the average rate of the D2D users
and we see that the average rate in the proposed scheme is
Fig. 4. Average Rate of D2D users
much higher than the forced reuse scheme, clearly due to
the presence of dedicated mode users in the former. Figure 5
shows that the transmission power decreases when more D2D
users arise. This is because transmission power is higher for
cellular and dedicated mode than reuse mode according to the
power control. In case of forced reuse mode, all D2D users are
in reuse and hence the power largely decreases. If we plot the
bandwidth utilization, it is clearly a decreasing curve because
the bandwidth is consumed only by the cellular and dedicated
mode users and as the number of D2D users increase, the
population in cellular mode decreases while the population in
reuse and dedicated modes increases. However, for a forced
reuse mode, bandwidth is consumed only by the cellular users.
Likewise, in Figures 6 and 7, we observe increasing plots for
system power efﬁciency (ratio of average data rate to total
power) and spectral efﬁciency (ratio of average data rate to
total bandwidth) due to the same reasons. In both the case
of spectral efﬁciency and power efﬁciency, we see that the
proposed scheme gives a better performance.
We consider the total number of users as 40 which includes
both cellular (C) and D2D users. They are divided into
28 cellular and 12 D2D users using threshold distance. By
mode selection, we can identify the number of D2D users
in the respective modes-cellular mode (Cd), dedicated mode
(Dd) and reuse mode (Rd). We also consider out of cell
interfering cellular users (OE). On reaching the equilibrium of
the evolutionary game, all the 28 cellular users are in cellular
mode, while the D2D users do not go to cellular mode, instead
they prefer reuse and dedicated modes and split into 7 D2D
users in reuse mode and 5 D2D users in dedicated mode. The
resulting channel allocation is shown in Table 3.
V. CONCLUSION
In this paper, we have investigated some of the problems
faced when D2D communication happens in the licensed
band; in particular, the mode selection, power adaptation and
39
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-546-3
ICN 2017 : The Sixteenth International Conference on Networks (includes SOFTNETWORKING 2017)

Fig. 5. Average Transmission power of users
Fig. 6. System Power Efﬁciency of users
channel assignment. We formulated the mode selection as an
evolutionary game under a multicell scenario. The advantage
of using evolutionary game model was that it gave room
for each user to gradually adapt until it reaches the stable
strategy. To save the total transmit power, we have adopted a
channel inversion method. Channel allocation was done using
a simple graphical approach. Simulation results showed the
following. The average rate of D2D is very large for the
proposed scheme compared to a forced reuse scheme. Average
transmission power is a decreasing function for the scheme and
so the system power efﬁciency is increased for our scheme
compared to the pure reuse scheme. However, if we consider
the bandwidth usage, the proposed scheme consumes more
bandwidth due to the presence of dedicated mode users but
is less compared to the high data rate hence achieving better
spectral efﬁciency.
This work can further be improved by introducing the idea
Fig. 7. System Spectral Efﬁciency of users
TABLE III
CHANNEL ALLOCATION
Channel
User
Channel
User
1
C6
21
C3
2
C5
22
C24
3
C13
23
C26
4
C11
24
C14,Rd6
5
C21,Rd3
25
NOT USED
6
C4,Rd7
26
C9,Rd2
7
C2
27
O4
8
NOT USED
28
C15
9
O3
29
Dd4
10
Dd2
30
C17
11
C23
31
NOT USED
12
C22
32
C8,Rd1
13
C16
33
C10
14
O2
34
C1
15
C25,Rd4
35
C27
16
C19
36
C12
17
C28,Rd5
37
O1,Dd5
18
O5
38
Dd3
19
C18
39
Dd1
20
C20
40
C7
of spectrum partitioning so that we can partition the amount of
spectrum available to the cellular and dedicated users. Power
adaptation can also be done using improved algorithms rather
than channel inversion.
REFERENCES
[1] R. Alkurd, R.M. Shubair and I. Abualhaol,“Survey on Device-to-Device
Communications: Challenges and Design Issues”,in New Circuits and
Systems Conf.(NEWCAS) IEEE 12th International,October 2014,pp 361-
364.
[2] P. Mach, Z. Becvar and T. Vanek,“In-Band Device-to-Device Communi-
cation in OFDMA Cellular Networks: A Survey and Challenges”,IEEE
Commun. Surveys
Tuts, vol. 17, no. 4, pp 1885-1922,Fourth Quarter
2015.
[3] A. Asadi, Q. Wang and V. Mancuso,“Survey on Device-to-Device Com-
munication in Cellular Networks”,IEEE Commun. Surveys Tuts, vol. 16,
no. 4, pp 1801-1819,Fourth Quarter 2014.
40
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-546-3
ICN 2017 : The Sixteenth International Conference on Networks (includes SOFTNETWORKING 2017)

[4] K. Zhu and E. Hossain,“Joint Mode Selection and Spectrum Parti-
tioning for Device-to-Device Communication: A Dynamic Stackelberg
Game”,IEEE Trans. On Wireless Commun., vol. 14, no. 3, pp 1406-
1420,March 2015.
[5] M. Jung, K. Hwang, and S. Choi,“Joint Mode Selection and Power
Allocation Scheme for Power-Efﬁcient Device-to-Device (D2D) Commu-
nication”,in Proc. Vehicular Technology Conf. (VTC Spring), 2012 IEEE
75th,July 2012.
[6] S. Maghsudi and S. Stanczak,“Hybrid CentralizedDistributed Resource
Allocation for Device-to-Device Communication Underlaying Cellular
Networks”, IEEE Trans. on Vehicular Technology, vol. 65, no. 4, pp 2481-
2495,April 2016.
[7] F. Wang, L. Song, Z. Han, Q. Zhao, and X. Wang,“Joint Scheduling and
Resource Allocation for Device-to-Device Underlay Communication”, in
Proc. Wireless Communications and Networking Conf (WCNC), 2013
IEEE, pp 134-139,July 2013.
[8] P. Cheng, L. Deng, H. Yu, Y. Xu and H. Wang,“Resource Alloca-
tion for Cognitive Networks with D2D communication:An Evolutionary
Approach”, in Proc. Wireless Communications and Networking Conf.
(WCNC), 2012 IEEE, pp 2671-2676,June 2012.
[9] M. Belleschi, G. Fodor and A. Abrardo,“Performance Analysis of a Dis-
tributed Resource Allocation Scheme for D2D Communication”, in Proc.
GLOBECOM Workshops (GC Wkshps), 2011 IEEE, pp 358-362,March
2012.
[10] X. Lin, J. G.Andrews and A. Ghosh,“Spectrum Sharing for Device -to-
Device Communication in Cellular Networks”, IEEE Trans. On Wireless
Commun., vol. 13, no. 12, pp 6727-6740,December 2014.
41
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-546-3
ICN 2017 : The Sixteenth International Conference on Networks (includes SOFTNETWORKING 2017)

