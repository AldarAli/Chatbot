A Resource Management Strategy Based on the Available Bandwidth Estimation  
to Support VoIP across Ad hoc IEEE 802.11 Networks 
 
 
Janusz Romanik 
Radiocommunications Department 
Military Communications Institute 
Zegrze, Poland 
j.romanik@wil.waw.pl 
Piotr Gajewski, Jacek Jarmakiewicz 
Faculty of Electronics 
Military University of Technology 
Warsaw, Poland 
{pgajewski, jjarmakiewicz}@wel.wat.edu.pl
 
 
Abstract — This paper focuses on performance evaluation to 
study the effects of the resource management strategy in ad 
hoc networks. The presented strategy is a result of the new 
outlook on the IEEE 802.11 networks capabilities and 
performance enhancement. The proposed solution is dedicated 
to real-time services support and is based on the concept of the 
Resource Manager that organizes and controls the whole 
traffic in the network. Novel procedures were developed and 
applied in order to organize the network and manage the real-
time traffic. A method for measuring and estimating available 
bandwidth was introduced. This method provides wireless 
station 
the 
capability 
of 
measuring 
the 
bandwidth 
independently of other stations in the network. Large-scale 
simulations for different numbers of voice sources and various 
voice codecs have been carried out. They show an increase of 
channel utilization reaching over 80% and significant growth 
of the network capacity, when synchronous transmission is 
applied. 
Keywords - IEEE802.11 WLANs, ad-hoc networks, VoWiFi, 
resource management 
I. 
 INTRODUCTION 
This paper deals with the issue of the resource 
management strategy in ad hoc wireless networks to support 
real-time services [1]. 
For over ten years a permanent development of IEEE 
802.11 Wireless Local Area Networks (WLANs) is being 
observed [2]. Among the many advantages they offer, users 
appreciated the convenience and simplicity when accessing 
the network and establishing high data rate wireless 
connection. Thanks to the low-cost small-size devices, 
wireless networks seem to be ubiquitous. WLAN drivers are 
embedded in many different devices like notebooks, mobile 
phones, Personal Data Assistants (PDAs), cameras, etc. 
Despite the fact that WLANs were originally designed for 
data transport, today it is also demanded of them to be 
efficient for real-time services support. 
Another advantage of WLANs results from the ad hoc 
mode, which is a method for wireless devices to directly 
communicate with each other. Operating in ad hoc mode 
allows all wireless devices within each other’s range to 
discover and communicate in a peer-to-peer manner without 
involving the central access point. This mode offers mobility 
and communications between users in areas without 
infrastructure or in all places with damaged infrastructure. 
From this point of view, WLANs operating in ad hoc mode 
can be a very promising solution for users, such as the fire 
brigade, rescue team, police squad or small military unit 
[3][4]. The possible scenario is to use the ad hoc network for 
public-safety or search-and-rescue operations. 
An important issue for such network is the ability to 
support cooperation between two or more emergency 
services, e.g., the fire brigade, police squad, rescue team, 
medical service. On the other hand, it must be stressed that 
the performance of the network decreases as the number of 
wireless users grows. For this reason, a smart mechanism 
should be introduced, which allows topology control and 
network scalability [5]. The effect of the hidden node is one 
of the most difficult problems to solve, because it is intrinsic 
to the nature of the WLANs. The RTS/CTS mechanism is 
not recommended for the transmission of small packets, e.g., 
VoIP. A possible solution is to use an additional signaling 
channel, however it requires changes in the physical layer. 
This issue was widely discussed in [15][16]. 
When considering the hierarchical structure of the 
command system of the emergency services, different ranks 
of users should be taken into account. This will affect the 
priority of users, as well as the type of services allowed. 
Although the most common weakness of WLANs is the 
insufficient support of the real-time services [6][7], the 
authors formulated a new outlook on the IEEE 802.11b 
network capability and possible performance enhancement. 
Despite the fact that there is a wide range of WLANs 
specifications, the issue of network optimization still remains 
open. QoS mechanisms were the subject of the IEEE 802.11e 
standard [8]. However, these mechanisms cannot guarantee 
the quality of services, although they slightly improve the 
network efficiency [9]. 
This paper presents the general concept of the resource 
management 
strategy 
and 
provides 
information 
on 
introduced procedures. All proposed mechanisms are 
integrated with each other and interact within an individual 
device as well as within the whole network. 
The rest of the paper deals with the related work (Section 
2), concept and assumptions (Section 3), the description of 
the proposed mechanisms (Section 4), simulation results and 
24
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

their discussion (Section 5), conclusions (Section 6) and 
future work (Section 7). 
II. RELATED WORK 
The voice capacity of IEEE 802.11 networks is gaining 
increasing attention in the literature. Methods of voice traffic 
optimization, including voice codec negotiation, audio 
packets aggregation as well as the MAC protocol adaptation, 
can be found in many papers. In [9], the influence of the 
MAC protocol on the network performance was shown. This 
protocol operates in contention mode and thus inevitably 
introduces the PHY layer overheads, Backoff and protective 
periods, ACK frames and retransmissions in some cases. In 
[10], the authors analyzed the effect of the coding rate and 
packet size on the voice capacity of the Distributed 
Coordination Function (DCF). 
In [11], dynamic Contention Window (CW) adaptation 
was suggested in order to minimize the number of collisions. 
The idea of the voice coding bit rate adaptation to the 
available network bandwidth was described in [23]. 
Experimental results confirmed the efficiency of the new 
scheme. The impact of different configuration parameters on 
the ad hoc network performance was presented in [24]. The 
following parameters were analyzed, the type of codec, 
packetization interval and the data rate. In [25], the authors 
presented the results of the capacity measurement of the 
IEEE 802.11e network for each access category. They also 
analyzed the effect of the TCP traffic on VoIP streams. In 
conclusion, they stated that 802.11e standard can protect the 
quality of VoIP if there is TCP traffic added. However, it 
cannot improve the capacity of the network. 
Although proposed methods can improve network 
efficiency, the question as to how to guarantee the quality of 
services still remains open. In [14], the authors proposed to 
introduce additional signaling channel to inform other 
stations that the main channel is busy. This approach requires 
modification in physical and data link layers. Furthermore, 
there is still a lack of an efficient Call Admission Control 
(CAC) mechanism to protect voice traffic. In [13], a dynamic 
admission 
control 
mechanism 
was 
presented. 
This 
mechanism is based on the traffic analysis model in order to 
guarantee the QoS, however is dedicated to the network with 
infrastructure.  
III. CONCEPT AND ASSUMPTIONS 
In the case under consideration, the aim of the network 
optimization is to get as high as possible number of VoIP 
streams with guaranteed voice quality. The assumed network 
operates in ad hoc mode and consists of small group of users, 
e.g., fire brigade or rescue team. In emergency situations 
they typically use voice communication. Therefore the 
authors made an assumption that there is only one type of 
service, namely VoIP. 
Users of the network have different ranks, which enables 
to determine some differences between priorities. Thus, the 
tradeoff between the available bandwidth, the allowed 
number and the rank of users is introduced intentionally. 
 
 
 
Figure 1.  Performance enhancement of WLAN for VoIP support. [1] 
 
The network model assumes WLAN based solution. The 
authors decided to use the IEEE 802.11b standard as offering 
good throughput and modulations more resistant to 
interferences, which is a real advantage of the network 
operating in ad hoc mode. MAC QoS mechanisms defined in 
the IEEE 802.11e standard were also taken into account. 
These mechanisms are a good starting point to enable 
prioritization and bandwidth reservation in ad hoc network 
[13][14]. In particular, the authors introduced the adaptation 
of a CW size to the type of frame and the rank of the user. 
Another issue concerns the optimal balance between the 
traffic load and the services quality in ad-hoc networks. 
It is expected that the proposed range of adaptation and 
introducing of new mechanisms will not demand a high cost 
of implementation and will be feasible. 
Fig. 1 illustrates the concept of efficiency improvement 
of WLAN for VoIP support. The available bandwidth level 
is the main factor allowing assessment of the traffic load in 
the network. Cross-layer mechanisms are crucial for network 
performance improvement. They enable the real-time traffic 
shaping or MAC adaptation if the available bandwidth is too 
small or if the level of service is not satisfactory. The CAC 
mechanism prevents new VoIP calls if the available 
bandwidth level is too low. 
In the proposed solution, the network consists of different 
rank users. For the sake of simplicity, high rank users shall 
be denoted as special users while the rest shall be referred to 
as commercial users. It perfectly corresponds to the scenario 
involving humanitarian aid operations, when volunteers help 
people in service. Another example can be the situation 
when the fire brigade, police and civilians cooperate within 
small groups while strengthening an embankment during a 
flood. However, if the available bandwidth is too small, 
special users prevail over the network. Eventually, the lowest 
rank users can be completely blocked. 
A separate question is how to assess the resources of the 
network, e.g., channel utilization. Since ad-hoc networks are 
bandwidth limited, not all measurement methods can be 
applied [16][17]. From that reason, non-intrusive methods 
are proposed for ad hoc networks [18]. 
25
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Physical Layer
Data Link Layer
Medium Access Ctrl
Network Layer
Transport Layer
Application Layer
Radio parameters 
masurement
Bandwidth assessment
STD/AM switching
AM mode
on/off
RT traffic shaping
FER,
data rate
SNR, BER
AM mode initiation
Closed network 
triggering
Codec negotiation
BPCP 
BPCP 
BPCP 
BPCP 
Closed 
Network 
  Controlled 
Access
RT traffic 
queueing
VoIP call
request
NSOM initiation
NSOM – Network Self-Organizing Mechanism
AM – MAC protocol Acquisitive Mode
 
Figure 2.  BPCP alignment with protocol stack. 
 
Fig. 2 illustrates the proposed approach on the basis of 
the extended protocol stack with cross-layer interactions. 
Bandwidth Prediction Control Protocol (BPCP) allows 
monitoring of parameters in the physical layer, to measure 
the channel utilization level and also to switch MAC 
protocol states, as explained in subsequent sections. Real-
time (RT) traffic shaping relays on codec negotiation and 
audio packets aggregation. Closed Network Mode is based 
on the concept of the Resource Manager that controls traffic 
in the network. 
BPCP, MAC Acquisitive Mode (AM) and RT traffic 
shaping mechanisms do not enforce changes to IEEE 802.11 
standard. These new mechanisms only enhance functionality 
of the station that still operates in standard way. Closed 
Network Mode requires completely new procedures and set 
of extra frames exchanged in order to organize the network 
and the RT queue. Although stations operate according to 
non-standard scheme, this mode offers a real advantage of 
better channel utilization, which results in increased number 
of voice streams [26]. 
In the proposed solution, BPCP provides CAC 
mechanism with the knowledge of the current and expected 
channel utilization. These mechanisms exchange the data 
thanks to the cross-layer engineering, as the CAC operates 
outside standard WLAN sublayer. 
A. Bandwidth Estimation 
The available bandwidth is crucial for optimization of the 
Wi-Fi ad-hoc network. Therefore, the authors proposed to 
implement BPCP that enables to measure the channel 
utilization level and to estimate the available bandwidth. 
BPCP takes advantage of WLAN card drivers that enable 
the measurement of signal to noise ratio (SNR) in the PHY 
layer and bit error rate (BER) calculation, and passing these 
parameters to the Data Link Layer. If nodes operate in 
promiscuous mode, they can receive all the traffic sent across 
the network. As a result, the bandwidth utilization is assessed 
in all nodes of the network independently and continuously 
for predefined periods called Sampling Intervals. 
From the PHY layer point of view, stations can detect the 
channel state (idle - no transmission or busy - transmission) 
and if they operate in promiscuous mode, they can receive 
and process all frames. The type of received frames (RTS, 
CTS, DATA, ACK) is recognized in the data link layer. 
Knowing the bit rate and the length of received frames it 
is possible to calculate their transmission duration in the 
radio channel, denoted as tAF in (1). 
 
(
)
(
sec)
_
_
bitRate bits
AF
length bits
AF
tAF =
 
(1) 
Having knowledge of tAF parameters, it is then possible to 
determine the channel utilization coefficient for the interval, 
e.g., from t1 to t2 
 
1
2
2
1
...
t
t
n DIFS
n SIFS
n t
t
t
t
U
ACK
dn
d
d
−
⋅
+
⋅
+
⋅
+
+
+
+
=
 (2) 
where: n is a number of frames; tdn denotes the duration 
of the n-th data frames; tACK represents the ACK frame 
duration, Fig. 3. 
 
 
Figure 3.  Transmission scheme in a contention mode of WLAN. 
 
When the current and the previous channel utilization 
levels are estimated, BPCP makes forecasts for the next 
period. 
To validate the model of BPCP, enabling the 
measurement of the network throughput, theoretical analysis 
was performed and simulations were made using the 
OMNET++ v4.0 simulation tool with the INET Framework. 
Fig. 4 shows the extended WLAN sublayer of the mobile 
node. This sublayer contains Throughput Meter In and 
Throughput Meter Out components to measure all incoming 
and outgoing traffic. This information is used to assess the 
total traffic load as well as the available bandwidth. 
 
 
Figure 4.  The extended WLAN sublayer of the mobile node. 
 
26
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE I.  
MAC PARAMETERS 
Parameter  
Value 
DIFS 
50 µs 
SIFS 
10 µs 
Slot Time 
20 µs 
CWmin 
32 
CWmax 
1023 
Data Rate 
2Mbit/s 
PHY header 
192 µs 
MAC header 
34 bytes 
ACK 
304 µs 
 
For the purposes of analysis and simulation, the 
following parameters were assumed: G.711 voice codec; 
typical protocol headers (MAC header = 30B, IPv4 header 
=20B, UDP header = 8B); free space propagation model and 
lack of mobility. The issue of mobility is crucial for NRM 
determination and is the topic of further study. 
The values of the MAC and PHY parameters are listed in 
Table I. The main attributes of the G.711 codec are shown in 
Table II. 
 
TABLE II.  
G.711 CODEC CHARACTERISTICS 
Codec 
G.711 
Bit rate [kbit/s] 
64 
Framing interval [ms] 
20 
Payload [B] 
160 
Packets/sec 
50 
 
The results of the simulation are presented in Fig. 5. 
Normal distribution of a throughput estimator was assumed, 
as well as a confidence interval with α=0,1 and β=1,64 (for 
cumulative distribution function equal to 0,9).  
The period of time required for the transmission of one 
data frame and the acknowledging frame takes nearly 1,8ms. 
For that reason it is possible to send 11 acknowledged 
frames during one second. Audio packets are generated by 
codec periodically every 20ms. Assuming that stations work 
synchronously, i.e., after the first one had transmitted a 
packet, the second one generates it, then it is possible to 
obtain the network throughput equal to 1,3Mb/s, Fig. 5. 
Higher traffic load will cause an increase of the collision rate 
and a drop in network efficiency. 
 
0
200
400
600
800
1000
1200
1400
1600
1800
0
2
4
6
8
10
12
14
Number of VoIP sources
Throughtput [kbit/s]
Analytical
Simulation
 
Figure 5.  Wi-Fi network throughput - contention mode, data rate 2Mbit/s. 
B. The Network Throughput 
The purpose of the second part of the simulation was to 
assess the network throughput and then to determine the 
levels, where the BPCP triggers MAC AM and Closed 
Network Mode. After preliminary tests and analysis, the 
optimal size of the Sampling Interval was set to 1s.  
Experiments were performed under the assumption, that 
the network is dedicated to the VoIP service. Consequently, 
small size packets are transported across the network, see 
Table III. The CBR encoding was applied and the interval 
between packets was set to 20ms in the first case and to 
40ms in the second. In both cases the number of VoIP 
streams was increased until the maximum network 
throughput was achieved. The collision index was measured 
as an additional parameter. This collision index is defined as 
the number of collided frames (coming from all stations) per 
the total number of frames sent across the network during the 
Sampling Interval. 
 
TABLE III.  
SIZE OF PACKETS 
Case 
UDP payload 
Interval 
1 
40B, 80B, 160B 
20ms 
2 
160B, 240B, 320B 
40ms 
 
The results of simulations are presented below. Fig. 6 and 
Fig. 7 show the network throughput S vs. the traffic load G. 
These values were normalized to the data rate in the radio 
channel R, which was set to 2Mbit/s. The network 
throughput was measured by the BPCP component. 
Assuming the Poisson process, the traffic load was defined 
as follows:  
 
N
STA
N
STA
STA
STA
G
G
G
G
G
_
1
_
_ 2
_1
...
+
+
+
+
=
−
 
(3) 
where GSTA_N means the traffic load coming from Station 
number N.  
GSTA_N  can be calculated from the formula given below. 
 
(
OH ) n
Payload
UDP
G
STA N
⋅
+
=
_
 
(4) 
UDP_Payload is the product of the voice codec, e.g., 
160B for G.711 codec, while n denotes the number of frames 
sent per second. 
OH represents the total overhead and consists of the 
UDP, IP, MAC and PHY overheads [9]. 
 
PHY
MAC
IP
UDP
H
H
H
H
OH
+
+
+
=
 
(5) 
For the purpose of analysis, the PHY overhead is defined 
as the sum of the following elements: DIFS, average size of 
Contention Window, PLCP header and Preamble. 
 
preamble
H
CW
DIFS
H
PLCP
Avg
PHY
+
+
+
=
 
(6) 
27
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Typically, the bitrate of the G.711 voice codec is equal to 
64kbit/s. The bitrate at the PHY layer increases up to 
96,8kbit/s, when the overheads are taken into account. 
Fig. 6 and Fig. 7 shows the relation between the network 
throughput and the traffic load when packets are generated 
with the interval of 20ms and 40ms respectively. The shape 
of the curves is very characteristic. After linear growth of the 
network throughput the effect of saturation is observed for 
G/R equal to 0,5. If the traffic load exceeds 0,5 G/R, then the 
decrease of the throughput is observed, which means the 
decrease of the amount of data transferred across the network 
due to collisions and retransmissions. The delay and packet 
loss ratio exceeds the allowable level. Eventually, if the 
traffic load is still increasing, the network can be blocked 
completely. As a result, almost no data is transferred across 
the network. 
If the packets interval increases, e.g., up to 40ms, the 
effect of saturation occurs for values greater than 0,5 G/R. 
When UDP Payload is set to 320B, the network is stable up 
to 0,75 G/R. If 160B UDP Payload is considered, the 
network throughput amounts to 0,65 for the traffic load 
reaching about 0,78 G/R. 
Fig. 8 and Fig. 9 show the collision index vs. the 
normalized traffic load for the packets interval of 20ms and 
40ms respectively. The value of collision index rises when 
the traffic load increases. The change of collision index is 
more rapid for packet of smaller size. For example, for the 
packets of 40B the collision index reaches the critical level 
0,3 for 0,38 G/R. If 160B packets are considered, the critical 
level is observed for 0,6 G/R. 
 
0
0,1
0,2
0,3
0,4
0,5
0,6
0,7
0
0,2
0,4
0,6
0,8
1
Traffic load - G/R
Network throughput - S/R
UDP payload = 40B
UDP payload = 80B
UDP payload = 160B
 
Figure 6.  Normalized network throughput – packets generated with the 
interval of 20ms. 
 
0
0,1
0,2
0,3
0,4
0,5
0,6
0,7
0,8
0
0,1
0,2
0,3
0,4
0,5
0,6
0,7
0,8
0,9
1
Traffic load - G/R
Network throughput - S/R
UDP payload = 160B
UDP payload = 240B
UDP payload = 320B
 
Figure 7.  Normalized network throughput – packets generated with the 
interval of 40ms. 
0
0,02
0,04
0,06
0,08
0,1
0
0,2
0,4
0,6
0,8
1
Traffic load G/R
Collision index
UDP payload = 40B
UDP payload = 80B
UDP payload = 160B
 
Figure 8.  Collision index – packets generated with the interval of 20ms. 
0
0,01
0,02
0,03
0,04
0,05
0,06
0,07
0,08
0,09
0,1
0
0,1
0,2
0,3
0,4
0,5
0,6
0,7
0,8
0,9
1
Traffic load - G/R
Collision index
UDP payload = 160B
UDP payload = 240B
UDP payload = 320B
 
Figure 9.  Collision index – packets generated with the interval of 40ms. 
Higher traffic load causes sudden growth of collisions, 
which leads to network inefficiency. 
The results presented in Fig. 6 - Fig. 9 are very consistent 
when comparing packets of the same size and packetization 
interval. The effect of the network saturation as well as the 
critical level of collisions is observed for the same value of 
the traffic load. 
C. MAC Protocol States 
At the beginning of the operation, special stations can 
cooperate with commercial and use standard access schemes, 
until BPCP detects insufficient bandwidth and initiates the 
MAC AM.  
During AM mode, the Backoff interval is minimized 
according to the rank of the user. As a result, special stations 
prevail over the network. Only a small part of the bandwidth 
can be hard-won by remaining users. To determine the 
Backoff interval, the Contention Window parameter is used, 
however different values have been introduced, depending 
on the rank of the user and the type of frame (Control, Data, 
Broadcast or RTData). It is assumed, that the high rank users 
use special equipment with modified MAC parameters, 
while the low rank users are equipped with commercial 
devices operating with standard configuration, e.g., CW. 
If the available bandwidth is still too small, BPCP 
triggers a mechanism called the Network Self-Organizing 
Mechanism, which is responsible for creating a Closed 
Network Mode. From this moment on, Wi-Fi network 
operates in a point-coordinated mode. Fig. 10 presents the 
states of MAC protocol for the proposed protocol extension. 
 
28
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Figure 10.  MAC protocol states. 
 
An important issue is to determine the proper level of 
channel utilization for triggering between MAC AM and 
Closed Network Mode. To resolve this problem, the authors 
applied the Pareto optimization approach. Simulation results 
obtained for 2Mbit/s data rate and G.711 voice codec are 
presented below. 
Fig. 11 shows the network throughput vs. traffic load. 
Triggering levels are denoted by A, B and C. If the 
throughput reaches limit denoted by B, the station switches 
from standard mode to AM. If it reaches another limit 
denoted by C, the station switches to Closed Network Mode. 
Fig. 12 presents collisions vs. traffic load. The critical level 
of collisions is denoted by A. This information may be used 
additionally by BPCP. 
 
0
200
400
600
800
1000
1200
1400
1600
1800
2000
0
200
400
600
800
1000
1200
Traffic load [kbit/s]
Network throughput [kbit/s]
Throughput [kbit/s]
A
B
C
 
Figure 11.  Network throughput vs. traffic load (where triggering levels are 
denoted as follows: A - switch from AM Mode to std., B - switch from std. 
to AM Mode, C - switch to Closed Network Mode). 
0
1
2
3
4
5
6
7
8
9
10
0
200
400
600
800
1000
1200
Traffic load [kbit/s]
Collisions [%]
Collisions 
A
 
Figure 12.  Collisions vs. traffic load (where A denotes the critical level of 
collisions). 
Results of simulations performed in order to estimate the 
acceptable number of VoIP connections, depending on the 
type of voice codec and MAC protocol parameters in a 
contention mode, were widely discussed in literature 
[10][11][20][21]. However, the question where and how to 
implement the AC mechanism and how to manage the traffic 
still remains open. The AC mechanism is necessary to 
prevent new calls if there is not enough bandwidth. In a 
contention mode, stations are not aware of the traffic load 
and try to transmit frames every time they have a packet to 
send. For this reason, a Closed Network Mode was proposed 
with a station named the Network Resource Manager (NRM) 
that manages the network. 
IV. CLOSED NETWORK MODE 
In this section, the Closed Network Mode was described. 
This mode enables the ad hoc network to self-organize and 
to determine the Resource Manager. Comparing to the PCF 
method, the infrastructure is not required, since the standard 
ad hoc node is selected to play the Resource Manager role. A 
set of new procedures was proposed and new frames were 
introduced as presented in next subsections. 
A. Network Self-Organizing Mechanism 
Network Self-Organizing Mechanism (NSOM) enables 
nodes to recognize the neighborhood and to determine the 
Resource Manager. 
At the beginning, all stations work in a contention mode 
with standard parameters, Fig. 9. In the background, 
Neighbor Discovery Procedure is performed, which is based 
on broadcasting Neighbor Request and Neighbor Response 
frames [22]. This procedure allows recognition of the 
surroundings by collecting data from other nodes, namely: 
received signal strength and noise, battery level and rank of 
the station. Based on this information, each station 
determines its own NRM Readiness coefficient, which 
describes whether the station is ready to play a network 
manager role. This mechanism is still under implementation 
in OMNET++ v4.0. 
If BPCP again detects the insufficient bandwidth 
coincidence, a station changes the mode to AM, while 
Neighbor Discovery Procedure is still in the background, 
Fig. 13. 
 
MAC Acquisitive Mode
Neighbour Discovery Procedure
t
AM Mode Initiation
NRM Determined 
NSOM Initiation
Standard 
Access Scheme
BPCP detects lack of bandwidth
Ad-hoc
Mode
Controlled Access
NRM
Determination
Closed Network Mode
NSOM
 
Figure 13.  Network Self Organizing procedure. 
 
When a first station detects the insufficient bandwidth, it 
initiates NSOM. Only stations with a certain NRM Readiness 
coefficient are allowed to participate in this phase.  
 
29
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Figure 14.  Neighbour Discovery procedure. 
 
If necessary, information on the network topology is 
refreshed by sending Neighbour Request frame, which 
contains the last NRM Readiness coefficient of the sending 
station, Fig. 14. 
B. Real-time Traffic Management 
When the NRM station is determined, it sends a 
NRM Request broadcast frame informing that nodes are 
allowed to call for a bandwidth reservation, Fig. 15. Some 
stations respond with RT Confirm frames if they have RT 
packets to send, Fig. 16. The NRM Request frame is sent 
periodically to disseminate the list of queued stations and 
also the current queue limit. A more detailed description of 
the algorithm can be found in [19]. 
 
Request
for RT
t
NRM Determined 
RT Queue Distributed
BPCP detects
lack of bandwidth
Next Period
RT Traffic 
Queuing
Closed Network Mode
NSOM
VoWiFi 
Connections
NRM Timeout Elapsed 
NRM Req Timeout
 
Figure 15.  Channel reservation procedure. 
 
If the queue limit is reached or NRM Req Timeout has 
elapsed, the NRM station sends a RT Queue frame 
containing: 
• 
queue size: number of STAs in queue, 
• 
number of cycles: number of queue repetition, 
• 
voice codec type, 
• 
data rate, 
• 
MAC address and order of stations in the queue. 
 
 
Figure 16.  RT traffic management. 
 
After receiving the RT Queue frame, the first station on 
the list is allowed to transmit after DIFS and receives an 
ACK frame after SIFS, Fig. 17. The next station in queue 
transmits data frame after DIFS. The number of cycles 
describes how long nodes will transmit data in a given order. 
After each transmission of DATA and ACK, stations 
decrease their TransmissionIndex and are allowed to send 
after it reaches zero. After a predefined number of cycles, the 
NRM station again sends a NRM Request frame to give a 
chance to transmit for stations that were out of queue during 
the preceding period. 
t
RT 
Queue
DATA 
1
ACK
RT Queue 
Distribution
DATA 
2
ACK
DATA 
N
ACK
NRM Timeout 
Elapsed
DIFS
DIFS
SIFS
SIFS
SIFS
 1st cycle 
1st NRM Period
2nd NRM Period
New 
NRM
RT Queue 
Organizing VoWiFi
...
......
...
 
Figure 17.  RT traffic queue. 
 
An unpredictable NRM termination may occur, e.g., as a 
result of depletion of the battery, which should be taken into 
account. In such a situation nodes will detect a lack of frames 
from NRM for the assumed timeout. Since this moment on, 
the station with the second highest NRM Readiness 
coefficient starts playing this role.  
In order to organize a closed network and manage RT 
traffic, the following management frames were introduced: 
• 
Neighbor Request and Neighbor Response - for 
neighborhood discovering, 
• 
NRM Request - for initiation of the RT traffic 
queuing phase, 
• 
RT Confirm - for the bandwidth reservation, 
• 
RT Queue - distribution of RT traffic queue. 
The detailed description of the management frames 
structure can be found in [19]. Because all of these frames 
are of a broadcast type, all receiving stations are forced to 
process it in the data link layer, although acknowledgement 
is not sent. The structure of new frames is the same as 
defined in the IEEE 802.11 standard for management frames 
and consists of MAC Header and Frame Body containing 
information fields. The maximum size and capacity of 
frames are presented in Table IV. 
 
TABLE IV.  
MANAGEMENT FRAMES SIZE AND CAPACITY 
Frame Type  
Frame max size [B] 
Number of 
addresses 
NRM Request 
240 
35 
RT Confirm 
40 
1 
RT Queue 
280 
35 
 
V. VOIP CAPACITY ANALYSIS 
In order to assess the time required to organize the RT 
traffic, analytical investigations were performed. It was 
assumed that NRM is determined, avg. Backoff is equal to 
100µs and 10 nodes compete for bandwidth reservation, 
Fig. 18.  
 
t
RT 
Queue
NRM 
Request
RT
Confirm 1
RT
Confirm 2
RT
Confirm 10
NRM distributes the
RT traffic queue
NRM
STA
NRM 
Request
NRM 
Request
VoWiFi
VoWiFi
VoWiFi
VoWiFi
NRM
is determined
...
 
Figure 18.  RT traffic scheduling procedure. 
 
The size and the amount of frames exchanged in this 
procedure are presented in Table V. 
30
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE V.  
AVERAGE SIZE AND NUMBER OF EXCHANGED FRAMES 
Frame type 
Frame average size 
[B] 
Frames number 
NRM Request 
100 
5 
RT Confirm 
40 
10 
RT Queue 
100 
1 
 
If the data rate is set to 1Mbit/s, one cycle required to 
schedule the RT traffic takes approximately 14ms and this 
period reaches 10ms if the data rate increases to 2Mbit/s. 
Even if some level of collisions is assumed, this duration 
should not exceed 20ms. 
Synchronous RT data transmission in a Closed Network 
Mode can be verified by using an analytical as well as 
simulation model. For the sake of convenience, e.g., in order 
to apply different input parameters, the authors used 
COMNET 3 simulation tool.  
The aim of simulations was to assess the channel 
utilization and the number of possible simultaneous VoIP 
calls as a function of the data rate. The following 
assumptions were made: 
• 
network stations with commercial voice codec 
(G.711) with attributes defined in Table I, 
• 
MAC/PHY parameters: SIFS = 10µs, DIFS = 50µs, 
PLCP Header + Preamble = 192µs,  
• 
packets with standard protocol headers: MAC  = 
30B, IPv4 = 20B, UDP  = 8B. 
The channel utilization vs. the number of VoIP calls and 
various data rates was shown in Fig. 19 - Fig. 21. 
In the phase of synchronous RT data transmission, there 
are only two cases when the channel is idle: DIFS, which 
precedes data frame transmission and SIFS between data 
frame and ACK frame. 
An increasing number of VoIP connections leads to a 
linear growth of channel utilization, up to 90%. Better 
channel utilization is unachievable. This is a result of the fact 
that although the number of frames sent in a given period 
increases for higher data rates, there are still constant idle 
periods that separate frames. 
 
0
10
20
30
40
50
60
70
80
90
100
0
2
4
6
8
10
12
14
16
18
20
22
24
26
28
Number of VoIP sources
Channel Utilization [%]
1Mb/s
2Mb/s
5,5Mb/s
11Mb/s
 
Figure 19.  Channel utilization vs. number of VoIP streams for G.711 voice 
codec (64kbit/s). 
0
10
20
30
40
50
60
70
80
90
100
0
2
4
6
8
10
12
14
16
18
20
22
24
26
28
30
Number of VoIP sources
C h ann el u tilization  [% ]
1Mbit/s
2Mbit/s
5,5Mbit/s
11Mbit/s
 
Figure 20.  Channel utilization vs. number of VoIP streams for G.726 voice 
codec (32kbit/s). 
 
0
10
20
30
40
50
60
70
80
90
100
0
10
20
30
40
50
Number of VoIP sources
Channel Utilization [%]
1Mbit/s
2Mbit/s
5,5Mbit/s
11Mbit/s
 
Figure 21.  Channel utilization vs. number of VoIP streams for G.728A 
voice codec (16kbit/s). 
The delay of RT packets results from the data rate and 
the sequence number of a given station in the whole queue. 
Thus, this delay does not exceed two dozens of milliseconds. 
When the data rate grows, the time needed for transmission 
of one frame becomes shorter, while DIFS and SIFS remain 
on the same level. Therefore it is possible to set up more 
VoIP connections, however the channel utilization cannot 
exceed 90%.When G.711 codec is used and the data rate is 
set up to 11Mb/s, up to 27 VoIP calls are available. 
Table VI summarizes the results of experiments showing 
the maximum number of voice streams sent across the 
network when synchronous transfer is applied. 
 
TABLE VI.  
NUMBER OF VOICE STREAMS 
Codec 
Data rate [Mbit/s] 
1 
2 
5,5 
11 
G.711 
8 
13 
22 
27 
G.726 
11 
17 
25 
28 
G.728A 
20 
28 
40 
46 
 
31
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

VI. CONCLUSIONS 
We have presented the concept of the resource 
management strategy in ad-hoc networks for rescue 
operations. This strategy is a result of the new outlook on the 
802.11 WLANs capabilities and performance enhancement. 
A set of novel procedures was developed with a view of 
organizing the network and managing the real-time traffic. 
These procedures were validated analytically and by 
simulations, and results were included. The proposed method 
of the available bandwidth measurement and estimation 
works correctly. The triggering levels were determined to 
switch the MAC protocol mode operation: Standard, MAC 
Acquisitive Mode or Close Network Mode. 
The procedure of RT data synchronous transmission in a 
Closed Network Mode was verified by simulation. Results of 
tests allowed estimating the channel utilization achieving 
over 80% when synchronous transmission was applied. If the 
number of stations in a queue is set correctly, the delay of the 
RT data frame transmission is limited to two dozens of 
milliseconds and is determined mainly by the data rate. 
The proposed mechanisms were developed as a result of 
a completely new approach to the support of RT data 
transmission in 802.11 ad-hoc network. They enrich standard 
procedures and enable an efficient utilization of the channel. 
VII. FUTURE WORK 
In this article, we have only presented the resource 
management strategy to support VoIP traffic. We described 
the procedures enabling the organization of network and 
real-time traffic management. 
The presented results were obtained under the 
assumption that only UDP traffic is transferred across the 
network. For future research it would be interesting to study 
the effect of the TCP traffic on the network capacity for 
VoIP. Based on this work, we are going to investigate how to 
efficiently manage the network where VoIP streams are 
combined with the TCP flows.  
The issue of nodes mobility is crucial for NRM 
determination and will be the topic of further study. 
Furthermore, we would like to devote attention to the 
aspect of the distributed network management. This includes 
optimization of the scheme for determining the secondary 
resource manager when the first manager terminates 
unpredictably. 
ACKNOWLEDGEMENT 
This work was supported by the Polish Ministry of 
Science and Higher Education under grant number 
6266/B/T00/2010/39. 
REFERENCES 
[1] J. Romanik, P. Gajewski, and J. Jarmakiewicz “A Resource 
Management Strategy to Support VoIP across Ad hoc IEEE 802.11 
Networks,” The Fourth International Conference on Communication 
Theory, Reliability and Quality of Service - CTRQ, Budapest, 
Hungary, April 17-22.2011 
[2] A. F. da Conceicao, J. Li, D. A. Florencio, and F. Kon “Is IEEE 
802.11 ready for VoIP,” IEEE Workshop on Multimedia Singal 
Processing, October 2006, pp. 108-113 
[3] T. Maseng, “Wireless Tactical Local Area Network,” Multinational 
CDE, Pre-Symposium Workshop, Sundvollen, Oslo, Norway 2002 
[4] J. Lopatka and R. Krawczak, “Military Wireless LAN Based on IEEE 
802.11b Standard”, in Military Communications, Meeting Poceedings 
RTO-MP-IST-054, Poster 2, France 2006, pp. 21-28 
[5] S. Srivathsan, N. Balakrishnan, and S. S. Iyengar, Guide to Wireless 
Mesh Networks - Scalability in Wireless Mesh Networks,Springer 
2009 
[6] S. Choi and J. Yu, QoS Provisioning in IEEE 802.11 WLAN, John 
Wiley & Sons, Inc,2006. 
[7] H. Yoon, J. W. Kim, and D. Y. Shin, “Dynamic Admission Control in 
IEEE 802.11e EDCA-based Wireless Home Network,” IEEE 
Consumer Communication and Networking Conference, January 
2006, pp. 1-5 
[8] P802.11e – Part 11: Wireless LAN Medium Access Control (MAC) 
and Physical Layer (PHY) specifications. Amendment 8: Medium 
Access Control (MAC) Quality of Service Enhancements, Nov. 2005 
[9] W. Wang and S. C. Liew, “Solutions to Performance Problems in 
VoIP over 802.11 Wireless LAN,” IEEE Transaction on Vehicular 
Technology, 54(1), 2005, pp. 336-384 
[10] N. Hegde, A. Proutiere, and J. Roberts, “Evaluating the Voice 
Capacity of 802.11 WLAN under Distributed Control,” In Proc of 
LanMan, 2005, pp. 1-6 
[11] L. Gannoune, “A Comparative Study of Dynamic Adaptation 
Algorithms for Enhanced Services Differentiation in IEEE 802.11 
Wireless Ad-Hoc Networks,” Proc. of AICT/ICIW, February 2006 
[12] L. Cai, Y. Xiao, X. Shen, and L. Cai “VoIP over WLAN: Voice 
capacity, admission control, QoS and MAC,” International Journal of 
Communication Systems, 2006, (19) pp. 491-508 
[13] J. Liu and Z. Niu, “A Dynamic Admission Control Scheme for QoS 
Supporting in IEEE 802.11e EDCA,” Proc. WCNC 2007, pp. 3697-
3702 
[14] P. Wang, H. Jiang, and W. Zhuang, “A New MAC Scheme 
Supporting Voice/Data Traffic in Wireless Ad Hoc Networks,” IEEE 
Transactions on Mobile Computing, vol. 7, no. 12, December 2008, 
pp. 1491-1503 
[15] J. Z. Haas and J. Deng, “Dual Busy Tone Multiple Access (DBTMA) 
- A Multiple Access Control Scheme for Ad Hoc Networks,” IEEE 
Trans. Comm., vol. 50, no.6, June 2002, pp. 975-985,  
[16] R. Prasad, M. Murray, C. Dovrolis, and K. Claffy, “Bandwidth 
Estimation: Metrics, Measurement Techniques, and Tools,” IEEE 
Network, vol. 17, no. 6, pp. 27-35,  2003 
[17] G. Chelius and I. G. Lassous, “Bandwidth Estimation for IEEE 
802.11-Based Ad Hoc Networks,” IEEE Transactions on Mobile 
Computing, vol. 7, no. 10, 2008, pp. 1228-1241 
[18] C. Sarr, C. Chaudet, G. Chelius, and I. G. Lassous, “A node-based 
available bandwidth evaluation in IEEE 802.11 ad-hoc networks,” 
International Journal of Parallel, Emergent and Distributed Systems, 
vol. 21, 2006, pp. 423-440 
[19] J. Romanik, P. Gajewski, and J. Jarmakiewicz, “Performance 
enhancement of Wi-Fi ad-hoc network for VoIP support,” Proc. of 
Military Communications and Information Systems Conference, 
Wroclaw, 2010, pp. 525-535 
[20] S. Garg and M. Kappes, “An experimental study of throughput for 
UDP and VoIP traffic in IEEE 802.11b networks,” WCNC, March 
2003, pp. 1748-53,  
[21] F. Anjum, et al., “Voice performance in WLAN networks - an 
experimental study,” Proc. IEEE Globecom, 2003, pp. 3504-3508 
[22] M. Bednarczyk and M. Amanowicz, “Wireless Relay Control 
Protocol (WRCP),” Proc. of Military Communications and 
Information Systems Conference, Bonn, Germany, September 2007, 
ISBN 978-3-934401-16-7 
[23] H. Zhang, J. Zhao, and O. Yang, “Adaptive Rate Control for VoIP in 
Wireless Ad Hoc Networks,” Proc. of IEEE International Conference 
on Communications, 2008, pp. 3166-3170 
32
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

[24] J. Barcelo, B. Ballalta, and C. Cano, “VoIP Packet Delay in Single-
Hop IEEE 802.11 Networks,”WONS 2008, Barcelona, pp. 77-80 
[25] S. Sangho and H. Schulzrinne, “Measurement and Analysis of the 
VoIP Capacity in IEEE 802.11 WLAN,” IEEE Transactions on 
Mobile Computing, vol. 8, 2009, pp. 1265-1279 
[26] J. Romanik, P. Gajewski, and J. Jarmakiewicz, “An adaptive MAC 
scheme to support VoIP across ad hoc IEEE 802.11 WLANs,” 
Military Communications and Information Systems Conference, 
Amsterdam, 17-18.10.2011, in: Military Communications and 
Information Technology: A Comprehensive Approach Enabler, ISBN 
978-83-62954-20-9, pp. 496-505. 
 
33
International Journal on Advances in Networks and Services, vol 5 no 1 & 2, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

