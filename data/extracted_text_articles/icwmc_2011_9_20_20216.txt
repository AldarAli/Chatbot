Performance Improvements of Mobile SCTP during handover period
Sinh Chung Nguyen, Thi Mai Trang Nguyen and Guy Pujolle
University of Pierre and Marie Curie (UMPC - Paris 6)
Laboratoire d’Informatique de Paris 6 (LIP6)
4 Place Jussieu, 7005 Paris, France
Emails: {Sinh-Chung.Nguyen, Thi-Mai-Trang.Nguyen, Guy.Pujolle}@lip6.fr
Abstract—Handling mobility at the transport layer is an in-
teresting approach to attain seamless handover in the context of
heterogeneous access networks. To support terminal mobility,
an extension of SCTP called SCTP-DAR (SCTP Dynamic Ad-
dress Reconﬁguration) (a.k.a. mobile SCTP) has been deﬁned
allowing SCTP endpoints to update IP address and inform
the remote peer about primary address change. However,
mobile SCTP suffers from performance degradation during
handover. In this paper, we investigate two handover-related
issues: reduction of data rate immediately after handover and
packet reordering. The ﬁrst issue is caused by the congestion
control mechanism, which forces the ongoing trafﬁc to enter the
slow-start phase when moving into the new path after handover.
The second issue is caused by the asymmetric characteristics of
access networks such as the different bandwidths and delays in
heterogeneous access networks. In order to solve these issues,
we propose to use a combination of two mechanisms, congestion
control parameter update and buffer retransmission.
Keywords-SCTP; mSCTP handover; multi-homing; conges-
tion control; vertical handover.
I. INTRODUCTION
Stream Control Transmission Protocol [1] has been de-
signed by the IETF SIGTRAN (Signaling Transport) work-
ing group as a transport protocol for the delivery of packet-
based PSTN (Public Switched Telephone Network) signaling
over IP networks. Similar to TCP (Transmission Control
Protocol), SCTP offers reliable data transfer and has mech-
anisms for congestion control, data duplication detection
and data retransmission. In addition, it supports two new
features, which are multi-streaming and multi-homing. Even
though SCTP was explicitly designed for signaling transport,
the multi-homing feature of this protocol can be used for
broader applications and becomes an interesting solution
to support multi-homing in multi-interface mobile terminals
[2]. Each SCTP endpoint owns a list of IP addresses. During
the initial phase of the association, SCTP endpoints have to
exchange their lists of addresses. Among these IP addresses,
the endpoint chooses one address as primary address. The
others are secondary ones. Based on this principle, an SCTP
association has a primary path and several secondary paths.
If a failure occurs along the primary path, SCTP switches
to an alternative path to maintain the communication.
To support the mobility of a mobile terminal, an extension
of SCTP called mobile SCTP (mSCTP) [3] using SCTP
Dynamic Address Reconﬁguration [4], allows endpoints to
update the IP address lists in an SCTP association. Each
endpoint can update its address list if a new address is
received or a current address becomes obsolete. This update
procedure typically happens during the handover of a mobile
terminal. For example, an endpoint moving from one access
point to another may receive a new IP address from the new
access point and the old IP address is no longer reachable.
Thus, the endpoint needs to add a new IP address and deletes
the old one from the address list of the association [5].
Mobile SCTP also allows an endpoint to inform the remote
peer about its primary address change. For updating address
lists and changing the primary address, mSCTP deﬁnes
two new chunks: AddresS CONFiguration Change Chunk
(ASCONF) and AddresS CONFiguration ACKnowledgment
Chunk (ASCONFACK) [4].
However, in the context of heterogeneous networks
with the existing congestion control mechanism and multi-
homing feature, mSCTP has to suffer from two problems:
(i) entrance into slow-start phase of new primary path just
after handover, and (ii) packet reordering problem occurring
in handover between heterogeneous access networks. These
problems seriously cause mSCTP performance reduction
after handover.
Some existing studies have already tried to improve han-
dover performance of the mSCTP handover in the context
of heterogeneous wireless networks. To provide a better
throughput in handover procedure, [6] proposes to duplicate
data on both existing primary path and new added one. This
proposition is only useful in high loss rate environment,
but it will create redundancy in stable context. In [7], the
authors present a SCTP Efﬁcient Flow Control (SCTP EFC)
mechanism in order to minimize the change of trafﬁc rate
during handover. SCTP EFC updates new primary path with
the same information of the old one to bypass slow-start
phase. However, in heterogeneous networks environment,
access network features such as bandwidth and delay may
be different, so using the same information for new primary
path update is not efﬁcient. Another interesting approach
named Buffer retransmission, which is introduced in [8],
aims to ameliorate mSCTP handover performance but this
solution can resolve only the packet reordering problem.
In this paper, we propose to use a combination of two
193
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

mechanisms: congestion control parameter update and buffer
retransmission. The main contribution is a new congestion
control parameter update mechanism based on bandwidth
estimation to avoid the slow-start phase in the new primary
path after handover. Buffer retransmission proposed in [8]
is used to overcome the packet reordering problem.
The remainder of this paper is organized as follows.
Section II studies the two problems encountered in SCTP
handover procedure. In Section III, we present the details
of our proposition on congestion control parameter update
and the use of this mechanism in combination with buffer
retransmission. Section IV describes the simulation scenario
and results. Finally, we conclude the paper in Section V.
II. PROLEM DESCRIPTION
Two main problems that the SCTP protocol can have in
a handover between heterogeneous wireless networks are
performance degradation due to the slow-start phase and
packet reordering. These problems cause SCTP performance
reduction after handover period. This section explains the
reasons and the conditions, in which these problems can
occur.
A. Problem related to the slow-start phase
The entrance in slow-start phase can reduce throughput
after handover. Like TCP, SCTP also supports ﬂow con-
trol and congestion control mechanisms such as slow-start,
congestion avoidance, fast recovery, etc. In terms of control
variables, endpoint maintains only one receiver window
(rwnd) for the whole association. Other control variables
such as congestion window (cwnd), slow-start threshold
(ssthresh) and RTT (Round-Trip Time), are kept on a per
destination address basis. Because SCTP uses only one
address at a time for transmission, SCTP handover can be
understood as a procedure, in which an endpoint replaces the
primary address with another one and redirects data ﬂows
from the old path to the new one. Since the ssthresh variable
is controlled on a per destination address basis, the ongoing
trafﬁc must enter the slow-start phase on the new primary
path after handover. This procedure leads to an immediate
throughput reduction.
Figure 1 illustrates the effect of slow-start phase to
mSCTP handover performance. We use Cumulative Trans-
mission Sequence Number Acknowledgement (TSN Ack),
which represents the last data sequence number received
successfully, as a performance metric. As seen in Figure 1,
handover execution takes place at 41.9 seconds. After that,
ongoing trafﬁc enters slow-start phase on the new primary
path and its congestion control parameters start with initial
values. Therefore, right after handover procedure, cumula-
tive TSN Ack increases slowly, which proves a throughput
reduction.
Figure 1.
Throughput reduction after handover
B. Problem related to packet reordering
In the SCTP primary path switching operations, the
packet reordering problem may occur due to the asymmetric
characteristics of access networks such as bandwidth and
delay [8][9]. When a Mobile node (MN) moves between
heterogeneous wireless networks (e.g from 3G to WLAN),
the mSCTP endpoint should change its primary address to a
newly received IP address. It is obvious that characteristics
of heterogeneous access networks are not symmetric. If
SCTP endpoints switch the primary path into a new path
with higher bandwidth (or smaller delay), data chunks sent
over the new path can arrive at peer endpoint earlier than
those sent to the old path with lower bandwidth (or bigger
delay). Therefore, packet may arrive at peer endpoint out-
of-order, which is referred to the packet reordering problem.
Consequently, endpoint can evoke spurious fast retransmis-
sion and unnecessarily reduce congestion window, which
causes degradation of throughput in handover period.
Figure 2 shows an example of packet reordering problem
due to the asymmetric characteristics between paths in one
association. Each endpoint has two interfaces, interface 1
and interface 2. At the beginning, they use interface 1 (path
1) for their communication. When handover happens, the
trafﬁc is switched to interface 2 (path 2). We assume that
the bandwidth of path 2 via interface 2 is higher than the
one of path 1. As shown in Figure 2, endpoint S sends 4
data packets (TSNs 1-4) to endpoint R via path 1 just before
the handover operation. After the handover, endpoint S uses
the new path, path 2, to send new data packets. Because
of the different bandwidths, data packets sent via path 2
(TSNs 5-6) arrive at endpoint R earlier than ones sent via
194
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

Figure 2.
Packet reordering problem in mSCTP handover [8]
path 1. Therefore, a notiﬁcation about packet reordering is
sent to endpoint S via SACK chunk. When the accumulation
of duplicate SACKs of the same gap received at endpoint S
equals four, endpoint S triggers spurious fast retransmission
immediately.
To solve this problem, the authors of [8] propose a buffer
retransmission mechanism, which retransmits all outstanding
data over the new primary path. All outstanding data are
packets that have been transmitted over the old primary
path but have not been acknowledged. It means that, after
primary path change, endpoint will not send new data
until all outstanding data are transmitted and acknowledged.
Consequently, spurious fast retransmission and unnecessary
reduction of congestion window may be avoided.
III. PROPOSED SCHEMES
In order to deal with these problems of performance
reduction, we present a solution combining two mechanisms:
congestion control parameter update and buffer retransmis-
sion proposed in [8]. Although each mechanism helps to
solve only one problem described above, we will show in
the following of this section that the combining of both has
better results.
A. Proposal of congestion control parameter update
In order to bypass slow-start phase after the change of
primary path in handover, we propose a mechanism named
congestion control parameter update. The mechanism princi-
ple is forcing the new primary path to update its congestion
Figure 3.
Network topology
control parameters using the old ones information. Just after
the primary path switching operation, the congestion window
(cwnd) and threshold (ssthresh) parameters of new primary
path are calculated by the following formulas:
cwndnew = α × cwndold
(1)
ssthreshnew = α × ssthreshold
(2)
α = bandwidthnew
bandwidthold
(3)
in which α is the bandwidth ratio of the two networks
concerning handover.
With this mechanism, the new primary path will conserve
the old ones status. For example, if the old primary path is
in congestion avoidance status before the handover, the new
primary path will be also in congestion avoidance status after
handover. Therefore, mSCTP may avoid entering slow-start
phase and its performance can be improved.
For bandwidth estimation purpose, in the old primary
path, we use available bandwidth, which is equal to cwnd
RT T .
This estimation reﬂects real bandwidth that the old path
can support for data transfer. In the new primary path
after handover, bandwidth is estimated thanks to Packet Pair
algorithm [10]. It means that, sender sends two HeartBeat
packets back-to-back via the new primary path. The size of
probe HeartBeat packet is set to the Maximum Transfer Unit
(MTU) [9]. Therefore, the available bandwidth estimation
(ABE) of new primary path is calculated by
ABE = SHB
∆T
(4)
in which SHB is the size of probe HeartBeat packet, and
∆T is the disperse time between the probe HeartBeat acks.
IV. SIMULATION AND RESULTS
In this section, we present the performance evaluation of
the proposed solution. In order to analyze mSCTP handover
performances, we use the network simulator ns-2.33 [11].
A. Simulation scenarios
In this simulation, each endpoint has two interfaces:
one representing 3G interface, which has a bandwidth of
384Kbps and a delay time of 150 ms, and one representing
Wi-Fi interface, which has a bandwidth of 11 Mbps and
a delay time of 4 ms. Although we use wired interfaces
195
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

Figure 4.
Handover from low to high bandwidth access network
in simulation, our proposition can be applicable for general
interfaces with any technology type. In order to investigate
our proposed scheme efﬁciencies, we execute two different
scenarios. In the ﬁrst one, endpoint executes handover from
the 3G interface to the Wi-Fi interface, in which packet
reordering problem happens. In the second one, handover
is carried out, in inverse direction, from the Wi-Fi inter-
face to the 3G interface. In the both scenarios, we have
implemented bandwidth estimation mechanisms, which are
presented above, to calculate the bandwidth ratio of the two
networks α.
B. Simulation results
1) Scenario 1-Handover from low to high bandwidth
access network (from 3G to Wi-Fi interface): In this sce-
nario, SCTP primary switching operation occurs at 15.1
seconds. Figure 4 illustrates three curves corresponding to
the handover performances of three schemes: the red one
for original mSCTP, the black one for mSCTP with buffer
retransmission mechanism and the blue one for mSCTP with
the combination of both congestion control parameter up-
date and buffer retransmission. Cumulative TSN Ack value,
which represents the last Transmission Sequence Number
(TSN) of Data chunk successfully received in sequence, is
used to measure the mSCTP handover performance.
As shown in Figure 4, mSCTP including our proposed
schemes has the best handover performance as the ac-
cumulated TSN of the blue line increases most quickly.
The handover performance of the original mSCTP is the
worst among these three handover schemes, proved by the
Figure 5.
Handover from high to low bandwidth access network
fact that the accumulated TSN of the red line increases
most slowly. The performance of mSCTP integrated two
mechanisms is also better than the one of mSCTP only
including buffer retransmission mechanism. Enven though
mSCTP with buffer retransmission can overcome the packet
reordering problem, ongoing trafﬁc has to still enter into
slow-start phase in the new primary path after the primary
path switching operation, causing performance degradation.
The performance of mSCTP including buffer retransmission
mechanism is better than the one of the original mSCTP
because at least packet reordering problem is solved.
2) Scenario 2- Handover from high to low bandwidth
access network (from Wi-Fi to 3G interface): In Figure 5,
the handover performances of three schemes are presented
by three curves: the green one for original mSCTP, the red
one for mSCTP with congestion control parameter update
and the black one for mSCTP with the combination of
both mechanisms, congestion control parameter update and
buffer retransmission. The handover occurs at 15.1 seconds.
We also use the Cumulative TSN Ack value to represent
the mSCTP handover performance. As shown in Figure 5,
mSCTP integrating two proposed mechanisms has the best
handover performance. The accumulated TSN of the black
line increases most quickly. The original mSCTP gets the
worst handover performance among these three handover
schemes. The accumulated TSN of the green line increases
most slowly. The red curve and the black one are almost the
same. It means that, performance of mSCTP integrated two
mechanisms is the same as the one of mSCTP with only
update parameter congestion control mechanism. The fact is
196
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

that mSCTP does not suffer from packet reordering problem
in this handover scenario (from high to low bandwidth
access network). As described above, packet reordering
problem happens when endpoint executes handover to a
higher bandwidth (or smaller delay) network.
V. CONCLUSION
In this paper, we have presented problems, which re-
duce mSCTP performance in handover procedure: slow-start
phase and packet reordering problem. In order to solve these
problems, we have proposed to combine congestion control
parameter update and buffer retransmission mechanisms.
The ﬁrst one helps to bypass slow-start phase for a generic
handover between two interfaces with mSCTP. Its principle
is to adapt proportionally congestion control parameters
considering the available bandwidth ratio of the two paths.
The second one is used to solve packet reordering problem
for handover in heterogeneous access networks environment.
The simulations results show that the proposed solution
has a better performance in comparison with the original
mSCTP in terms of throughput and achievement of seamless
handover.
In future works, we extend our simulation with the wire-
less interfaces such as 3G and Wi-Fi in order to verify our
algorithm in a more realistic context. An implementation of
our algorithm in a real test-bed with an Openmoko terminal
[12] as well as with laptops equiped with two interfaces,
Wiﬁ and cellular (GPRS or 3G), is in progress and will be
subject to future publications.
ACKNOWLEDGMENT
Parts of this work are carried out in the framework
of the 3MING (Mobilite Multitechnologie Multi-homING)
project funded by Agence National de la Recherche (ANR-
05-RNRT-07 TCOM 001) and the FP7 Integrated project
4WARD, which is partially funded by the European Union
Commission.
REFERENCES
[1] R. Stewart, Stream Control Transmission Protocol. IETF RFC
4960, September 2007.
[2] L. Ong and J. Yoakum, An Introduction to the Stream Control
Transmission Protocol (SCTP). IETF RFC 3286, May 2002.
[3] M.
Riegel,
Q.
Xie,
and
M.
Tuexen,
Mobile
SCTP.
draft-riegeltuexen-mobile-sctp-09.txt, Internet-Draft, Novem-
ber 2007.
[4] R. Stewart,Q. Xie,M. Tuexen, S. Maruyama, and M. Kozuka,
Stream Control Transmission Protocol (SCTP) Dynamic Ad-
dress Reconﬁguration. IETF RFC 5061, September 2007.
[5] S.J. Koh, M.J. Chang, and M. Lee, mSCTP for Soft Handover
in Transport Layer. IEEE communications letters,Vol. 8, No.
3, pp. 189-191, March 2004.
[6] S.H. Kwon,T.W. Um, and W. Ryu, Mobile SCTP with Bicast-
ing for Vertical Handover. Third International Conference on
Convergence and Hybrid Information Technology (ICCIT),
Busan, Korea, November 2008.
[7] K.J. Lee, S. S. Nam, and B. I. Mun, SCTP Efﬁcient Flow
Control During Handover. Wireless Communications and
Networking Conference (WCNC), Las Vegas, United States
of America, April 2006.
[8] D.P. Kim, S. J. Koh, and V. Leung, On the Packet Reordering
of mSCTP for Vertical Handover in Heterogneous Wireless
Networks. Vehicular Technology Conference (VTC), Calgary,
Canada, September 2008.
[9] R. Fracchia, C. Casetti, C.-F. Chiasserini, and M. Meo, WiSE:
Best-path selection in wireless multihoming environments.
IEEE Transactions on Mobile Computing, Vol. 6, No. 10,pp.
1130-1141, October 2007.
[10] K. Lai and M. Baker, Measuring bandwidth. Proceedings
of the Conference on Computer Communications (IEEE
Infocom), Vol.1, pp. 235-245, New York, United States of
America, March 1999.
[11] ns-2
network
simulator
(ver.
2),
URL:
http://www.isi.edu/nsnam/ns 20.04.2011.
[12] Openmoko
terminal
,
URL:
http://wiki.openmoko.org/wiki/Main Page 20.04.2011.
197
ICWMC 2011 : The Seventh International Conference on Wireless and Mobile Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-140-3

