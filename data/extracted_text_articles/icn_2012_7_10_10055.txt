Towards Opportunistic Data Dissemination in Mobile Phone Sensor Networks
Viet-Duc Le, Hans Scholten and Paul Havinga
Pervasive Systems
University of Twente
Enschede, the Netherlands
{levietduc, hans.scholten, P.J.M.Havinga}@utwente.nl
Abstract—Recently, there has been a growing interest within
the research community in developing opportunistic routing
protocols. Many schemes have been proposed; however, they
differ greatly in assumptions and in type of network for
which they are evaluated. As a result, researchers have an
ambiguous understanding of how these schemes compare
against each other in their speciﬁc applications. To investigate
the performance of existing opportunistic routing algorithms
in realistic scenarios, we propose a heterogeneous architec-
ture including ﬁxed infrastructure, mobile infrastructure, and
mobile nodes. The proposed architecture focuses on how to
utilize the available, low cost short-range radios of mobile
phones for data gathering and dissemination. We also propose
a new realistic mobility model and metrics. Existing oppor-
tunistic routing protocols are simulated and evaluated with
the proposed heterogeneous architecture, mobility models, and
transmission interfaces. Results show that some protocols suffer
long time-to-live (TTL), while others suffer short TTL. We
show that heterogeneous sensor network architectures need
heterogeneous routing algorithms, such as a combination of
Epidemic and Spray and Wait.
Keywords-data dissemination; opportunistic network routing;
heterogeneous architecture; mobility model; delivery speed.
I. INTRODUCTION
Mobile phones are getting attention as means to collect
data. Data gathering can take place in the background,
where the mobile phone user once gave permission to do
so (e.g., location tracking), or involves continued active user
participation (e.g., friend applications, Foursquare, Crowd
sourcing, etc.). Collecting data is particularly meaningful
when performed by many phones simultaneously. In such
a way, the measurements have signiﬁcantly enhanced relia-
bility and accuracy. Thus, monitoring safety in public spaces
becomes a “natural” application for mobile phone sensor
networking.
Wireless Sensor Networks (WSNs) have been taken into
consideration to replace the existing Wired Sensor Networks,
since WSNs provide a wide range of context-awareness for
real-time applications at low costs. A variety of sensor types
with dense deployment forms a connected wireless mesh
network via low power, short-range radios, collaborating to
acquire and transmit the target data to sink nodes [1]. But
still, the cost of deploying all kinds of such required sensors
is considerably high in terms of time and money.
The next step in sensor networks is to enhance, or even re-
place, wireless sensor networks with mobile phones. Thanks
to developments in sensor technology, smart phones, such
as the iPhone or Android-based phones, are equipped with
a large number of sensors, including GPS, accelerometers,
gyroscope, proximity sensors and cameras. But, even regular
phones have sensors, although we might not realize they
have them: microphones, light sensors, and onboard radios.
Not all mobile phones can access 3G mobile internet, espe-
cially when a disaster happens, for example, an earthquake
or tsunami. But, still mobile phones have the means to
participate in the sensor network. Through WiFi or Bluetooth
radio, mobile phones can collaborate with nearby ones or the
existing infrastructure-based sensor network in the sensing
network. As requiring a connected path from source to
sink, traditional routing algorithms may perform poorly in
scenarios where the communication path is disrupted due
to damaged infrastructure or overload in the infrastructure.
Opportunistic routing algorithms in Mobile Sensor Networks
(MSN) have been proposed in a number of recent studies
to evaluate the performance of routing algorithms on sensor
data gathering [2][3][4][5]. However, these algorithms use
either basic scenarios or simple simulation architectures that
are still quite far from real-world applications.
This paper investigates the performance of existing op-
portunistic routing algorithms in a heterogeneous architec-
ture. We consider heterogeneous means of communication,
especially WiFi and Bluetooth. The proposed architecture
includes most of real-world components such as Roadside
Units (RSUs), buses, cars and pedestrians. To achieve a
realistic setting, the architecture is mapped on a real city, the
city of Enschede, Netherlands. In addition, a new mobility
model will be introduced based on available Shorted Path
Map Based model in The ONE simulator [6]. By means of
simulations, the proposed architecture and mobility model
are used for the comparison of opportunistic routing proto-
cols.
The paper has the following structure: related work is
discussed in Section 2. Section 3 presents the architecture, a
new mobility model and evaluation metrics. The simulations
and an analysis of simulation results are the subject of
Section 4. Based on the results, Section 5 gives possible
directions for current and future research.
139
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

II. RELATED WORK
In this paper, we focus on performance of message
delivery in opportunistic networks that are essentially com-
prised of the existing wireless sensor networks (intelligent
lampposts) and the mobile sensor networks (ﬂocks of mobile
phones). The network can be characterized as intermittently
connected and sparse mobility. Traditional wireless ad-hoc
networks routing protocols require end-to-end connectivity
for a data packet delivered. In other words, if the destination
is not available on the connected path, the packet delivery
will fail and no further effort is taken to secure future trans-
mission of the data. Consequently, routing protocols must
be adapted for these new networks. Numerous opportunistic
routing algorithms have been proposed in the last few years
with different mechanisms, which are generally categorized
based on either the type of network (without infrastructure
and with infrastructure) or the pre-known information of
the networks (Stochastic and Context-based) [7]. These
categorizations slightly overlap as depicted in Figure 1. If
networks are sparse and most nodes possess unpredictable
movement, the stochastic protocols are more appropriate. In
our opinion, the context-based protocols are more suitable
for our considered networks, since the global knowledge of
ﬁxed infrastructure and mobile infrastructure can be used to
improve the routing performance.
Stochastic routing protocols deliver messages by simply
disseminating them all over the network. Being passed from
node to node, messages will be gradually delivered at the
destination. Epidemic Routing [8] diffuses messages similar
to the way virus/bacteria spread in biology. When encounter-
ing others, a node will replicate and broadcast the messages
to them. These nodes that just received the messages will
move to other places and continuously replicate and transmit
messages to other nodes whenever they are in range of
communication. Though increasing the possibility of mes-
sage delivery, the method results in ﬂooding the network,
and rapidly exhausts available resources. Direct Delivery
(DD) [9] only delivers the holding messages directly to the
destination; therefore, DD saves huge amounts of resources
but decreases signiﬁcantly the delivery ratio. Spray and Wait
(SnW) [10] is a tradeoff between multi-copy scheme (Epi-
demic) and single-copy scheme (Direct Delivery) by ﬁnding
an optimal number of copies of messages and dividing the
message delivery process into 2 phases (spray phase and
wait phase). First Contact (FC) [11] is a variant of single-
copy scheme, which sends messages to the ﬁrst encountered
node or a random node if there are more than one.
Probabilistic Routing Protocol using History of Encoun-
ters and Transitivity (PRoPHET) [12] is a well-known
Context-based routing protocol. PRoPHET estimates the
delivery predictability for each known destination at each
node before passing a message. The estimation relies on the
history of encounters between nodes.
Figure 1.
Categorizations of routing protocols in opportunistic networks.
A lot of attention has been given on how to apply
above opportunistic routing algorithms in data dissemination
for public safety applications. DTF-MSN
[2] shows a
scheme to gather information in the Delay/Fault-Tolerant
Mobile Sensor Network based on an improvement of Di-
rect Delivery and Epidemic. The proposal consists of two
key components: queue management and data transmission.
Queue management decides the importance of messages,
and data transmission decides the node with high delivery
probability to send messages to. However, the scenario used
to evaluate the proposal has only one mobility model, where
both source and sink are mobiles nodes, and is far from
realistic for the public safety application domain. Camara
et al. [3] present a good mechanism for the distribution
of public safety warning messages, but the mechanism is
limited to vehicle-to-vehicle and infrastructure-to-vehicle.
The work uses only the basic Epidemic routing and there
is no comparison with other routing protocols. A variant of
Message Ferry (MF) [13] looks ahead at route information
of ferries and then schedules messages to be exchanged
based on the route information and the priority of messages.
However, MF algorithm uses a simple architecture with
only few ﬁxed nodes (gateways) and mobile nodes (ferries).
This algorithm is entirely constrained by the route and
time schedule of ferries. Without the route information, the
proposed routing algorithm will perform poorly. Recently,
Keranen et al. [14] evaluate opportunistic networks with
various mobility models and routing algorithms by using the
ONE. Nevertheless, the used architecture does not include
ﬁxed infrastructure and the results only show the simulation
speed.
This paper uses partially the ONE simulator [6] for
simulations. The ONE includes several opportunistic routing
algorithms and mobility models. The simulator also allows
researchers to import their own maps and to conﬁgure the
simulator with their own settings by many parameters, such
140
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

as speed of mobility, message size, buffer size, and etc.
III. PROPOSED OPPORTUNISTIC MOBILE SENSOR
NETWORK (OPPMSN)
Most traditional public safety applications are based on
ﬁxed and mobile wireless sensor networks and consider
nodes to be connected. However, the very recent innovation
of mobile phones with different kinds of onboard sensors
and available low power consumption radios has brought
on a new interest of using mobile phone as the main part
of sensor networks. The network becomes an opportunistic
network mainly comprised of the existing wireless sensor
network and the mobile sensor network. Our proposal fo-
cuses on opportunistic mobile sensor networks for public
safety applications.
A. Architecture
The considered opportunistic network is separated into
several regions based on communities as shown in Figure 2.
In order to link these regions, each of them has base stations
equipped with long-range interfaces such as satellite, GSM,
Internet. Each region consists of the following components: a
ﬁxed infrastructure, a mobile infrastructure (e.g., data mules)
and mobile nodes.
• Fixed infrastructure: Road side units (RSUs) are de-
ployed along main roads of the region. RSUs will
be physically integrated in or ﬁxed to the existing
infrastructure, like lamppposts, GSM base station, or
walls. RSUs form an ad-hoc wireless network, acting
as a backbone, connecting mobile nodes with central
servers or data sinks. The ﬁxed infrastructure can
also be used to disseminate information from central
servers to the regions. The distance between RSUs
is approximately 50 meters, using WiFi to build the
network. There are two types of wireless interfaces
for the RSUs, short-range Bluetooth and WiFi 802.11.
Messages are transferred among RSUs through WiFi.
The Wiﬁ interface is also used to connect to buses,
trams, cars, and smart phones. Bluetooth is designed
for communication between RSUs and regular phones.
• Mobile infrastructure: Equipped with WiFi 802.11,
busses and trams with known routes and known stops
are considered as the mobile infrastructure in OppMSN
applications. Since busses and trams move relatively
fast, Bluetooth characterized by short-range (< 10 m)
and low speed (< 2 Mbit/s) is not an appropriate option
for busses and trams.
• Mobile nodes: The last component of the heterogeneous
architecture consists of cars and mobile phones (used
by pedestrians). There is no information of possible
paths towards the sink because mobile phones and cars
move unpredictably. Mobile phones are classiﬁed into
either smart phones or regular phones. Smart phones
typically have both WiFi and Bluetooth interfaces,
Figure 2.
Architecture for Opportunistic Mobile Sensor Networks.
while regular phones have only Bluetooth. For the same
reason buses and trams use WiFi only, cars are equipped
with WiFi.
B. Architecture Performance Requirements
Depending on the physical characteristic, each of pro-
posed components has a different degree of performance
requirements such as reliability, throughput, latency, and
electric power consumption. Fixed infrastructure has unlim-
ited electric power supply, strong and stable signal strength,
and large data storages. Therefore, latency and throughput
are the most considerable performance requirements, and
reliability and power consumption can be ignored. A mes-
sage should be transferred as fast as possible via the ad-hoc
connected network based on ﬁxed infrastructure. Since the
RSU network is not a sort of mesh networks, the bottleneck
phenomenon probably decreases throughput and increases
latency.
Mobile infrastructure, such as busses and trams, has no
constraint on power supply, signal strength, and storage ca-
pacity. Thus, mobile infrastructure also has no problem with
reliability and power consumption. As busses or trams play
the role of messengers shuttling between sources and sinks
in the network, latency depends signiﬁcantly on velocity and
distance. In addition, mobile infrastructure may become a
bottleneck point because many passengers try to connect
to a bus or a tram. As a result, the throughput of mobile
infrastructure needs to improve as well.
Since mobile phones suffer limited power supply and in-
termittent connectivity, power consumption and throughput
are the most critical performance requirements. Reliability
is another considerable performance requirement because
mobile nodes are sparse and dynamic. That some people
are not willing to turn on the wireless interfaces all the
time also makes the network less reliable. Moreover, velocity
and unpredictable movement patterns of mobile nodes deter
obtaining low latency and high throughput.
141
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

C. Network Operations
When a node sends a message to the data sink (base
station) by using an opportunistic protocol, the message
is transferred towards the base station by the store-carry-
forward paradigm. The message is stored in phones or vehi-
cles, and then forwarded to other nodes during opportunistic
contacts. The node receiving the message is either the base
station, a car, a phone, or a lamppost (RSU). The nodes,
except the base station, continuously forward the message
when in communication range of other nodes. Eventually,
nodes may carry the message to the base station. If reaching
a lamppost, the message usually takes the paths based on
connected RSUs to go to the base station.
RSUs with a large storage capacity also act as a relay node
in the network. Messages are stored at lampposts for a period
of time until they expire due to a limited time-to-live (TTL).
In some cases, reliability of event detection is enhanced
by aggregating data provided by lampposts. A mobile node
perhaps receives messages from the ﬁxed infrastructure and
then forwards them to other nodes. As a result, a message
containing event information will not only be transferred to
the base station, but also disseminated to nodes in network.
Busses and trams are not only message ferries as de-
scribed in [13], but also gateways for passengers. Because
the contact durations of mobile phones carried by passengers
on a bus are quite long, messages may be fully exchanged
among the passengers. Furthermore, these messages are
stored at the bus and then disseminated to next passengers
or delivered to the base station at the last bus stop.
When moving from one region to another, a mobile
node will act as a gateway, transferring messages between
regions. The transfer will be slow compared to using the
ﬁxed infrastructure. As the anticipated application domain is
safety in public spaces, (emergency) messages should reach
their destination as fast as possible.
D. Mobility Model
To increase the realism of the mobility model, ﬁve basic
movement models are applied for different groups of nodes
in our architecture. This approach represents the heteroge-
neous nature of reality, with road side units, cars, busses and
pedestrians.
We assume that a portion of mobile nodes represents
pedestrians wandering around without any speciﬁc purpose.
The existing Map Based Movement (MBM) provided by the
ONE is likely the most suited. MBM is Random waypoint
movement with map-based constraints, in which a mobile
node moves from one map node to another by randomly se-
lecting a neighboring map node. This movement is repeated
a randomly chosen number of times.
Naturally, people do not just wander around. They want
to go somewhere for a purpose, using the shortest or fastest
path possible. The choice between walking or taking the
car or bus is often decided by the Euclidean distance to the
destination. These destinations are very diverse [15], ranging
from points of interest in the public domain (e.g., restaurants,
parks, ofﬁces) to the more private ones (e.g. friends, home,
family). The density of mobile nodes will differ accordingly.
We propose a new movement model called Random Shortest
Path Map Based Movement (RSPMBM) to model the be-
havior of human-like mobility. A node selects an arbitrary
destination within a predeﬁned range and then moves along
the shortest path. Euclidean distance ranges are conﬁgurable
in a setting ﬁle, for example, the distance ranges can be set
[50, 500] and [500, 5000] meters for pedestrians and cars,
respectively.
The new Road Side Unit Placement model deﬁnes where
RSUs are placed on a map, along side roads with a certain
distance between RSUs. The RSUs are stationary and form
a wireless ad-hoc network or wireless sensor network.
For people who always take the bus, the Bus Traveler
Movement and Bus Movement models are used for bus
travelers and busses respectively. These movement models
are provided by the ONE simulator.
E. Evaluation Metrics
To evaluate the proposed architecture and the proposed
mobility model, we use the inter-contact time, ﬁrst deﬁned
by Chaintreau et al. [16]. Inter-contact time is the time
interval between two successive contacts of a pair of nodes,
from the end of one contact to the next contact with the
same node. Inter-contact time characterizes the frequency
of opportunities for nodes to send packets to other nodes.
The distribution of inter-contact time has an impact on
the performances of different routing algorithms.   It also
shows that the inter-contact times are power-law distributed
with the power-law exponent less than one.
Four metrics are used to evaluate the aforementioned per-
formance requirements of different routing algorithms. Two
of them are metrics implemented in the ONE: delivery ratio,
and latency. Hop-count metric is no longer an informative
metric to assess the delivery cost in time and distance in
OppWSNs as it is used in connected ad-hoc WSNs. Instead,
we deﬁne Delivery Speed and Delivery Cost for a more
accurate evaluation.
• Latency: The time between the moment that a message
is sent at the source and the time it is delivered at the
destination.
• Delivery ratio: The number of successfully delivered
messages divided by the total number of unique sent
messages.
• Delivery speed: The speed of a message traveling from
origin to destination. It is deﬁned by Euclidean distance
divided by latency.
• Delivery cost: The total number of messages including
replicates divided by the number of successfully deliv-
ered messages.
142
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

IV. SIMULATION AND EVALUATION
In order to evaluate our proposed architecture and mo-
bility model, a realistic simulation environment is set up,
using a real city map. The results of running selected
routing protocols are analyzed and compared to gain a better
understanding on performances of existing routing protocols.
From that, we may attain implications for future work.
A. Environment Setup
The simulation uses the center of the city of Enschede
as a realistic setting. In the center of the map, there is the
central bus station. The map shown in Figure 3 takes up
approximately 4000 by 4000 meters and is exported from
Openstreetmap.org. To this map several layers, as submaps,
are added for lampposts, roads for cars, paths for pedestrians
and routes for busses. Lampposts are positioned at the outer
and inner ringroads, and four main roads radiating from
the center. Cars are restricted to roads, but pedestrians may
roam everywhere. Busses follow routes from the real city bus
system. Roads in the ONE simulation have zero width. To
overcome this limitation, roads are deﬁned by two parallel
routes as the lanes of a real road. In this way, communication
with vehicles or pedestrians at both sides of the road is more
realistic.
The simulation is carried out with 336 intelligent lamp-
posts manually ﬁxed on main roads, 50 cars, and 600 pedes-
trians moving around inside the city. The initial position
of cars and pedestrians is randomly distributed. There are
quite many bus lines in the city, but only four are chosen
because others have routes overlapping the lamppost lines.
Since the lampposts can transfer messages to the base station
much faster than busses do, busses that run along lamppost
lines have small contributions to the message delivery. Each
bus line has two busses shuttling their routes. Since our
basic goal is to investigate the contribution of pedestrians
in disseminating data, only a small portion of cars, 50
over 650 mobile nodes, are simulated in the simulation. We
also assume that the speed of pedestrians remains almost
constant, 0.5 − 1.5 m/s. Therefore, the mobility speed has a
minor effect on performance results.
Since our proposed architecture also aims to reduce the
use of mobile services, we only consider available short-
range interfaces, particularly Bluetooth and WiFi. All mobile
phones have Bluetooth Version 2.0 at 2 Mbit/s net data rate
with 10 m radio range, while smart phones have only WiFi
interface at net data rate of 10 Mbit/s with 60 m radio
range. We assume that ﬁfty percent of pedestrians own smart
phones and the rest uses normal phone. Lampposts have
both interfaces. The remaining nodes, cars and busses, use
WiFi only, because they move at speeds that make Bluetooth
communication unrealistic.
From the 600 pedestrians, 500 move with a purpose,
while 100 are just strolling. Because cars likely possess
predetermined routes, RSPMBM would be most suited.
Figure 3.
Inner-city of Enschede.
Busses follow ﬁxed routes with predeﬁned stops, and are
modeled with the Bus Movement mobility model. Finally,
pedestrians in busses are modeled with the Bus Traveler
Movement model.
Data dissemination in the above heterogeneous scenario
is simulated with a number of opportunistic routing pro-
tocols: Epidemic [8], Direct Delivery (DD) [9], FirstCon-
tact (FC) [11], and PRoPHET [12], and Spray and Wait
(SnW) [10] with the number of copies (n) to be 6. This
setting value is default in the ONE simulator. Since Mes-
sage Ferry (MF) [13] is only useful for busses to transfer
messages among base stations of cities, in our simulation
with a single city, busses are just considered as a vehicle to
transport passengers and do not implement MF.
Messages are generated every 25−35 seconds by random
cars and pedestrians. Lampposts do not generate messages,
but act as a communication backbone. Messages may con-
tain pictures, video and soundbites and are 500 KB to 1 MB
in size. The buffer of normal mobile phones is set to 5 MB,
and smart phones, cars, lampposts, and busses have 50 MB
buffers.
B. Architecture and Model Evaluation
Figure 4 plots the complementary cumulative distribution
(CCDF) of the inter-contact times. The graphs show that the
inter-contact time distribution of RSPMBM has a power-law
distribution with the exponent approximate 0.3 and similar
to the real iMote trace [17]. This power-law distribution
does contradict the exponential decay implied by previous
mobility models that have been used to design routing
algorithms (see [16]). Because the exponent and shape of the
distribution may vary between environments, we did not con-
ﬁgure parameters to produce the exact same exponent and
shape as the iMote trace. Note the match between the iMote
143
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

 0.001
 0.01
 0.1
 1
 100
 1000
 10000
 100000
P(X>x)
Time (s)
RSPMBM
MBM
iMote2009
PL with slope 0.3
Figure 4.
Inter-contact times for RSPMBM compared to the iMote trace.
trace and RSPMBM in the ﬁrst two thirds of the graph.
The difference in the last part of the graph is due to the
longer trace (in time) of the iMote, leading to more contacts
with low distribution probabilities. RSPMBM has shorter
contact times due to the lamppost communication backbone.
In other words, nodes in our simulation environment meet
more frequently that those in the iMote experiment.
Figure 4 also shows the inter-contact time distribution for
MBM used in the Enschede City Scenario (ECS) for com-
parison. Surprisingly, both RSPMBM and MBM produce
similar tails of distribution (exponent coefﬁcients). However,
the inter-contact time distribution of RSPMBM has higher
probability than that of MBM. This is expected, inter-contact
times usually get shorter with increasing reality [6].
C. DTN Routing Algorithm Evaluation
Time-to-live (TTL) is an important variable for data dis-
semination, and strongly inﬂuences data delivery probability,
latency, delivery speed, and delivery cost in opportunistic
networks. In safety applications, emergency messages should
be delivered with high probability, low latency, and high
speed. Setting a high value for TTL is useless, i.e., a message
that keeps a high TTL, probably would have a high latency,
low speed, and less importance. Though TTL has a huge
impact on the performance of routing protocols, it is hardly
studied in existing literature. In the remainder of this section,
we will investigate the inﬂuence of TTL on delivery ratio,
latency, speed, and costs of messages.
Figure 5 shows the delivery probability of each routing
algorithm as TTL in the scenarios increases from 10 to
300 minutes. In the graph two very different trends in
delivery probability can be observed. DD, FC and SnW
have increasing delivery probability with increasing TTL,
with a highest gain in the lower TTL values. This is as one
would expect. The longer the TTL of a message, the more
opportunities for message transferring. Counter-intuitive is
the decreasing delivery probability with increasing TTL
10
30
60
120
180
300
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Delivery Probability vs. Time−To−Live
Time−To−Live (min)
Delivery Probablity
 
 
Direct Delivery
First Contact
Spray and Wait
Epidemic
Prophet
Figure 5.
Message delivery probability.
10
30
60
120
180
300
0
500
1000
1500
2000
2500
3000
3500
4000
4500
5000
Latency vs. Time−To−Live
Time−To−Live (min)
Latency (s)
 
 
Direct Delivery
First Contact
Spray and Wait
Epidemic
Prophet
Figure 6.
Average latency of message delivery.
for Epidemic and PRoPHET. This is explained as follows.
Epidemic and PRoPHET are multi-copy, thus the number of
relayed messages increases exponentially when TTL is long.
Eventually, with a limited buffer and limited contact dura-
tion, the delivery probabilities of Epidemic and PRoPHET
will dramatically suffer. This explanation is reconﬁrmed in
Figure 8, which depicts the delivery cost for each routing
protocol.
Figure 6 plots the average latency of message delivery as
TTL increases. From the graph, one can see that increasing
TTL results in increasing delays in message delivery. This
is as expected. Since ﬂooding the network with messages,
Epidemic scores best. Although Epidemic has the lowest
delivery probability at high TTL values, when a message
reaches its destination, the message will have low latency.
Direct Delivery scores lowest with high latency. DD delivers
messages directly to the destination. So it may take some
144
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

10
30
60
120
180
300
5
10
15
20
25
30
35
40
Delivery Speed vs. Time−To−Live
Time−To−Live (min)
Delivery Speed (m/s)
 
 
Direct Delivery
First Contact
Spray and Wait
Epidemic
Prophet
Figure 7.
Average speed of message delivery.
time for this opportunity to happen.
The speed of message delivery is depicted in Figure 7.
The speed decreases sharply in the ﬁrst part of the graph
for all protocols and then remains almost constant. For 10-
min TTL, only messages near the base station or lampposts
can reach the destination. Other messages would be dropped
before arriving at the base station. Increasing TTL causes
more messages farther away from the base station to be
delivered. This explains why the average delivery speed
declines sharply. However, when TTL is greater than 60
minutes, most messages have sufﬁcient lifetime. Therefore
increasing TTL further does not affect the delivery speed.
The delivery speed of Epidemic and PRoPHET goes up
slightly when TTL is greater than 120 minutes. Due to
overhead, there are fewer messages that could be delivered.
Hence, the average delivery speed rises slightly again.
Epidemic has the highest delivery speed since it ﬂoods
messages over the network. DD has the lowest delivery
speed on account of sending messages only when mobile
nodes encounter the base station.
As PRoPHET has the second lowest latency in Figure 6,
one would expect it to have the second highest delivery
speed. On the contrary, the graph in Figure 7 shows that
PRoPHET has the lowest delivery speed. The reason lies
in the fact that PRoPHET transfers messages based on the
frequency of node encountering, called delivery predictabil-
ity. Owing to the lamppost connected network, most nodes
have almost the same delivery predictability. Consequently,
messages are wastefully transferred around before reaching
the destination. In such way, even the average delay of a
message is low, but the Euclidean distance from its source
to the base station is short too. That is why the delivery speed
of PRoPHET is low even though its latency is not high. This
behavior also proves that delay of message delivery is not
sufﬁcient enough to evaluate quality of message delivery.
10
30
60
120
180
300
10
0
10
1
10
2
10
3
10
4
10
5
10
6
Delivery Cost vs. Time−To−Live
Time−To−Live (min)
Delivery Cost
 
 
Direct Delivery
First Contact
Spray and Wait
Epidemic
Prophet
Figure 8.
Delivery cost.
Because the majority of nodes have limited power supply,
the delivery costs of opportunistic routing algorithms must
be taken into account. The delivery cost represents the ratio
between the number of total transmissions needed over that
of successfully delivered messages. Figure 8 shows that
Epidemic and PRoPHET have the highest delivery cost
because they maximize the opportunities of message delivery
by replicating copies of messages as much as possible. DD
and SnW have the least overhead, as DD has only one single
copy of a message and SnW has 6 copies of messages
at maximum. Clearly DD has the lowest delivery cost of
all routing algorithms. The delivery costs for Epidemic
and PRoPHET increase sharply with increasing TTL, but
stabilize after a while. The reason is that only a limited
number of messages can be transferred during the limited
contact duration.
V. CONCLUSION AND FUTURE WORK
In this paper, we have proposed a heterogeneous architec-
ture comprising ﬁxed infrastructure, mobile infrastructure,
and mobile nodes. In addition, we proposed the a realistic
mobility model and metrics. Several well-known oppor-
tunistic routing protocols were tested with this architecture.
Our observation shows that none of the evaluated protocols
performs well with a heterogenous scenario, such as the
one described in this paper. Since a single simple routing
algorithm does not sufﬁce to improve the overall message
delivery performance, a contribution of several algorithms
should be considered:
• Road Side Units (RSU), as used in the lamppost back-
bone network, should not only carry received informa-
tion to a central server, but also disseminate information
to nearby passing nodes. This communication shortcut
leaves the base station out of the loop and contributes a
better delivery speed and delivery cost. The Epidemic
145
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

routing protocol with a ﬂooding control mechanism is
best suitable for the RSU network.
• Busses, which act as data mules or message ferries,
have a mobility pattern based on ﬁxed routes and time
schedules. The Message Ferry routing protocol is most
appropriate.
• Pedestrians and cars are best served by stochastic and
context-based schemes. However, exchanging messages
between nodes that use different routing protocols is
a challenge. For examples, nodes running PRoPHET
fail to update the delivery predictability of nodes run-
ning Epidemic due to the unavailability of delivery
predictability in Epidemic router.
We also plan to take message priority into considera-
tion. Because designing an optimal routing protocol with
a delivery probability of 100% under all conditions is
difﬁcult, prioritizing messages becomes a necessity. Message
prioritization perhaps relies on the importance of informa-
tion, creation time, or source location. Priorities must be
deﬁned by a speciﬁc application, for instance, public safety
applications deﬁne the priority based on the source location,
creation time, and seriousness of detected events. One last
point of concern is the security and privacy of information. A
leading principle should be that the creator owns the data and
decides how the data can be used by others. However, one
may argue that in situations of emergency this principle may
be overruled by authorities. This issue will be addressed in
future research. Following this research, a testbed is planned
to implement and evaluate the proposed heterogeneous DTN
architecture.
ACKNOWLEDGMENT
This work is supported in part by the SenSafety project in
the Dutch Commit program, in part by SI4MS (NWO/STW
Grant, dossier 655.010.209), and by EIT ICT LABS, Digital
Cities of the Future.
REFERENCES
[1] I. Akyildiz, W. Su, and Y. Sankarasubramaniam, “A survey
on sensor networks,” IEEE Comm. Magazine, vol. 40, pp.
102–114, 2002.
[2] Y. Wang and H. Wu, “Delay/fault-tolerant mobile sensor
network (dft-msn): A new paradigm for pervasive information
gathering,” IEEE Trans. Mobile Computing, vol. 6, pp. 1021
– 1034, 2007.
[3] D. Camara, C. Bonnet, and F. Filali, “Propagation of public
safety warning message: A delay tolerant approach,” in Proc.
IEEE Communications Society WCNC, 2010.
[4] A. T. Erman, A. Dilo, and P. Havinga, “A fault-tolerant data
dissemination based on honeycomb architecture for mobile
multi-sink wireless sensor networks,” in Proc. of the Sixth
International Conference on Intelligent Sensors, Sensor Net-
works and Information Processing, ISSNIP 2010, 2010, pp.
97–102.
[5] R. Schwartz, R. Barbosa, N. Meratnia, G. Heijenk, and
J. Scholten, “A directional data dissemination protocol for
vehicular environments,” Computer Communications, vol. 34,
pp. 2057–2071, 2011.
[6] A. Keranen, J. Ott, and T. Karkkainen, “The one simulator
for dtn protocol evaluation,” in Proc. of the 2nd International
Conference on Simulation Tools and Techniques(SIMUTools),
2009.
[7] Newcom++, “State of the art of research on opportunistic
networks,
and
deﬁnition
of
a
common
framework
for
reference
models
and
performance
metrics,”
Downloaded
from
http://www.newcom-project.eu/public-
deliverables/research/ (Febr. 2012).
[8] A. Vahdat and D. Becker, “Epidemic routing for partially con-
nected ad hoc networks,” Department of Computer Science,
Duke Univeristy, Durham, NC, Tech. Rep., 2000.
[9] T. Spyropoulos, K. Psounis, and C. Raghavendra, “Single-
copy routing in intermittently connected mobile networks,”
in Proc. Sensor and Ad Hoc Communications and Networks
(SECON), 2004, pp. 235–244.
[10] T. Spyropoulos, K. Psounis, and C. Raghavendra, “Spray and
wait: An efﬁcient routing scheme for intermittently connected
mobile networks,” in Proc. of ACM SIGCOMM Workshop on
Delay-Tolerant Networking (WDTN), 2005.
[11] S. Jain, K. Fall, and R. Patra, “Routing in a delay tolerant
network,” in Proc. of ACM SIGCOMM on Wireless and
Delay-Tolerant Networks, 2004.
[12] A. Lindgren and A. Droia, “Probabilistic routing protocol
for intermittently connected networks,” Internet Draft draft-
lindgren-dtnrg-prophet-02, Work in Progress, 2006.
[13] Y. Xian, C. Huang, and J. Cobb, “Look-ahead routing and
message scheduling in delay-tolerant networks,” in Proc.
IEEE Conference on Local Computer Networks (LCN), 2010.
[14] A. Lindgren, T. Karkkainen, and J. Ott, “Simulating mobility
and dtns with the one,” Journal of Communications, 2010.
[15] F. Ekman, A. Keranen, J. Karvo, and J. Ott, “Working day
movement model,” in Proc. of the 1st ACM SIGMOBILE
workshop on Mobility models (MobilityModels), 2008.
[16] A. Chaintreau, P. Hui, J. Crowcroft, C. Diot, R. Gass, and
J. Scott, “Impact of human mobility on the design of op-
portunistic forwarding algorithms,” in Proc. IEEE Infocom,
2006.
[17] J.
Scott,
R.
Gass,
J.
Crowcroft,
P.
Hui,
C.
Diot,
and
A.
Chaintreau,
“CRAWDAD
trace
cam-
bridge/haggle/imote/infocom2006
(v.
2009-05-29),”
Downloaded
from
http://crawdad.cs.dartmouth.edu,   Febr.
2012.
146
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

