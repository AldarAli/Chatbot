QoS-compliant Data Aggregation for Smart Grids
Jad Nassar
HEI - Yncrea HdF, France
Inria, France
Email: jad.nassar@{yncrea,inria}.fr
Nicolas Gouvy
HEI - Yncrea HdF, France
Email: Nicolas.gouvy@yncrea.fr
Nathalie Mitton
Inria, France
Email: Nathalie.mitton@inria.fr
Abstract—The Smart Grid (SG) aims to transform the current
electric grid into a "smarter" network where the integration of
renewable energy resources, energy efﬁciency and fault tolerance
are the main beneﬁts. A Wireless Sensor Network (WSN) con-
trolling and exchanging messages across the grid is a promising
solution because of its infrastructure free and ease of deployment
characteristics. This comes at the cost of resource constrained
and unstable links for such networks. The management of
communication is then an issue: billions of messages with different
sizes and priorities are sent across the network. Data aggregation
is a potential solution to reduce loads on the communication links,
thus achieving a better utilization of the wireless channel and
reducing energy consumption. On the other hand, SG applications
require different Quality of Service (QoS) priorities. Delays
caused by data aggregation must then be controlled in order
to achieve a proper communication. In this paper, we propose a
work in progress, that consists of a QoS efﬁcient data aggregation
algorithm with two aggregation functions for the different trafﬁcs
in a SG network. We expect to reduce the energy consumption
while respecting the data delivery delays for the different SG
applications.
Keywords–Smart Grid; Data Aggregation; QoS; Wireless Sensor
Networks
I.
INTRODUCTION
Wireless Sensor Networks (WSNs) are a potential candi-
date in the transition from the actual grid to the Smart Grid
(SG), where the integration of renewable energy resources,
energy efﬁciency and fault tolerance are the main beneﬁts.
On the other hand, WSNs are resource restrained entities with
limited computing capabilities, even if in a SG electricity and
energy exists, but connecting sensors to such high voltage with
intermittent and ill-adapted energy levels is sometimes inap-
propriate. For that, battery-powered sensors must be deployed
all over the grid alongside with the main-powered ones. This
will raise a challenge in the data collection process, specially
in a SG network where billions of packets with different sizes
and priorities are frequently sent within the network. Data
aggregation is a feasible paradigm that consists of combining
data from multiple sensors across the network and sending the
aggregated data to the base station. This will reduce loads on
the communication links, thus achieving a better utilization of
the wireless channel and reducing energy consumption. In a
SG, different applications require different Quality of Service
(QoS) priorities. Consequently, data aggregation must respect
these requirements (i.e, delays caused by aggregating the
packets) in order to ensure a proper communication. Therefore,
in this paper, we propose a QoS efﬁcient data aggregation
algorithm for the different trafﬁc in a SG network. The rest
of the paper is organized as follows: Section II presents prior
work on data aggregation in WSN. Section III describes our
proposed solution. Section IV discusses some relevant issues
about our proposal and expected results. Finally, section V
concludes the paper.
II.
RELATED WORKS
Many works addressed the data aggregation in WSNs and
SGs. In [1], two aggregation methods for processing data
in smart meters were used: combining and manipulating. In
the combining method, the concentrator removes all indi-
vidual headers and includes only one single header for the
large packet with no data modiﬁcations. The manipulating
method consists of calculating the result of the messages thus
reducing considerably the total size of the messages. Data
packet concatenation in SGs was also addressed in [2], they
achieved header compression on packets and formulated an
optimization problem to optimally conﬁgure the sizes of the
aggregated packets. However, they considered only overhead
reduction, which may be insufﬁcient alone in the presence
of bigger data packets with smaller headers. Many other
researches considered energy [3], delay guarantee [4] and
other QoS requirements [5] [6] in data aggregation for SGs
and sensor networks generally. However, none of these works
addressed the challenge of having delay sensitive data trafﬁc
with different delivery priorities and sizes while reducing
energy consumption and maximizing the available bandwidth.
III.
PROPOSED SOLUTION
In our proposition, we consider a SG network consisting of
several wireless sensors collecting data with different packet
sizes and priorities. They can potentially act as aggregators, if
they have enough resources, that receive the data and aggregate
or concatenate it depending on their QoS requirements, and
ﬁnally send the aggregated data across the network. We note
that the routing process is mostly left unchanged, we only
add the aggregation functionality when it is possible. Packets
are generated with classiﬁers in their headers considering their
type and criticality, we classify them into two levels: critical
and regular. We note that these levels could be adjusted for
other applications depending on the network characteristics.
Two different queues are created on the aggregator level: Lossy
and Lossless queue. The lossy queue contains delay insensitive
data packets (regular) that are generally big in size [7], which
will allow us to aggregate the packets with the appropriate
aggregation function [8]. The lossless queue contains delay
sensitive data packets (critical) with critical priorities and with
a header which represents a signiﬁcant overhead compared to
the payload size. Header compression is thus performed on the
packets.
73
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-635-4
ENERGY 2018 : The Eighth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

Algorithm 1: Aggregator node
Update_AD() ;
// AD= Maximum allowed delay - time
from node to aggregator
if Free_Space() AND Battery_Node > Threshold1 then
Aggregate();
Send_AgPacket();
else
Send_Packet();
end
Figure 1. Aggregator node algorithm
The proposed aggregation algorithm
In the following, we will explain the main functionality
of the aggregation algorithm and its functions. The sender
node sends and receives packets from other sensor nodes
with different priorities included in their headers. Routes are
constructed according to the existing routing protocol with no
inﬂuence for the aggregation algorithm as already mentioned.
In ﬁgure 1 when an aggregator receives a packet it will ﬁrstly
update its delivery time (Update_AD()) corresponding to the
timestamp included in the header of the packet (maximum
allowed delay) minus the time the packet spent to arrive to the
aggregator. This will allow us to identify how much time the
packet can stay in the aggregator. We store the value in the
variable AD, we call it maximum allowed delay left. After that,
the function Free_Space() will check whether the node can
store more packets, and the function Battery_Node() will check
whether the node has enough energy (more than a predeﬁned
threshold) to aggregate more packets. If these two conditions
hold, we can aggregate packets and send the aggregated pack-
ets afterwards. If not, the packets are sent without aggregation.
In the aggregate function, we check the Pkt_type and send it
to the corresponding queue. If the packet is tagged regular, it
is sent to the Lossy_Queue() (ﬁgure 2), where four conditions
have to be validated in order to aggregate packets:
•
Earliest_Deadline > Delivery_Threshold: aggregating
if the packet with the earliest deadline in the aggre-
gated packet is still within its allowed delay.
•
AD > Delivery_Threshold: which means that the De-
livery threshold from the aggregator to the sink must
be smaller that the Maximum allowed delay left.
•
AggrPktSize < MTU: aggregating as long the aggre-
gated packet is smaller than the Maximum Transmis-
sion Unit (MTU) of the link.
•
TTL > 0: If the above conditions were not valid yet
and after a certain time we send the packet anyway
on the link.
As long as these above conditions are valid, an ar-
riving regular packet to the aggregator will undergo a
lossy_aggregation(), and the timers are updated. Same applies
for the Lossless_Queue() with a packet tagged critical. If not
valid, we concatenate the incoming packet with the existing
aggregated packet if possible and send it immediately. We note
that the sink node will send back with the acknowledgment the
time the packet spent from the aggregator to the sink in order
to update the delivery threshold.
Algorithm 2: Lossy_Queue()
Init: TTL
if Earliest_Deadline > Delivery_Threshold AND AD > Delivery_Threshold
AND AggrPktSize < MTU AND TTL > 0 then
Lossy_Aggregation();
Update_Earliest_Deadline() ; // Earliest deadline in the
aggregated packet
TTL - - ;
else
Concatenate();
end
Figure 2. Lossy queue algorithm
IV.
DISCUSSION AND EXPECTED RESULTS
First of all aggregating packets will lead to less packets
sent across the network and less bandwidth consumed, which
will result in reducing the load on the communication links
and achieving energy savings since the communication task
consumes most of the energy in WSNs. Moreover, packets
criticality and sizes are taken into consideration in our proposi-
tion. For that we expect that the packets will arrive within their
deadlines, thanks to the different timers and thresholds across
the network. We note that the delivery delays will be longer
than a non aggregation scenario where packets are not stored in
the queues. Packet delivery ratio might be affected also in our
proposition, since aggregating means sending bigger packets
thus resulting in more losses. We will deeply investigate this
issue in order to mitigate these potential losses. Moreover, we
will investigate in future works the impact of disaggregation
at the destination node.
V.
CONCLUSION
In this paper, we propose a work in progress solution for
data aggregation in SGs networks. QoS requirements of the
different applications are taken into consideration by storing
the packets in two different queues depending on their quality
requirements. The expected results will reduce the energy con-
sumption in a SG controlled by a WSN, while respecting the
corresponding delays and QoS requirements. Several tests and
investigations have to be performed (i.e, computer simulations)
before the completion of this work, after that we will test our
algorithm on a real test bed [9] to validate our theoretical
approach.
ACKNOWLEDGMENT
This work was partially funded by a grant from the MEL
(Métropole Européenne de Lille), the SoMel SoConnected
project (Ademe, PIA2), Yncréa Haut-de-France and CPER
Data.
REFERENCES
[1]
T. Shiobara, P. Palensky, and H. Nishi, “Effective metering data ag-
gregation for smart grid communication infrastructure,” in 41st Annual
Conference of the Industrial Electronics Society (IECON).
IEEE, 2015,
pp. 002 136–002 141.
[2]
B. Karimi, V. Namboodiri, and M. Jadliwala, “Scalable meter data collec-
tion in smart grids through message concatenation,” IEEE Transactions
on Smart Grid, vol. 6, no. 4, 2015, pp. 1697–1706.
[3]
F. Uddin, “Energy-aware optimal data aggregation in smart grid wireless
communication networks,” IEEE Transactions on Green Communications
and Networking, vol. 1, no. 3, 2017, pp. 358–371.
74
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-635-4
ENERGY 2018 : The Eighth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

[4]
T.-C. Lee and Z. Tsai, “On the capacity of smart grid wireless backhaul
with delay guarantee and packet concatenation,” IEEE Systems Journal,
pp. 2628–2639.
[5]
P. Teymoori, M. Kargahi, and N. Yazdani, “A real-time data aggregation
method for fault-tolerant wireless sensor networks,” in Proceedings of
the 27th Annual Symposium on Applied Computing.
ACM, 2012, pp.
605–612.
[6]
T. Abdelzaher, T. He, and J. Stankovic, “Feedback control of data
aggregation in sensor networks,” in 43rd Conference on Decision and
Control. CDC, vol. 2.
IEEE, 2004, pp. 1490–1495.
[7]
N. Cam-Winget, J. Hui, and D. Popa, “Applicability statement for the
routing protocol for low power and lossy networks (rpl) in ami networks,”
Working Draft, IETF, Internet-Draft. draft-ietf-roll-applicability-ami-13,
April 2016.
[8]
M. Grabisch, J.-L. Marichal, R. Mesiar, and E. Pap, “Aggregation
functions: means,” Information Sciences, vol. 181, no. 1, 2011, pp. 1–22.
[9]
C. Adjih, E. Baccelli, E. Fleury, G. Harter, N. Mitton, T. Noel, R. Pissard-
Gibollet, F. Saint-Marcel, G. Schreiner, J. Vandaele et al., “Fit iot-lab:
A large scale open experimental iot testbed,” in Internet of Things (WF-
IoT), 2015 IEEE 2nd World Forum on.
IEEE, 2015, pp. 459–464.
75
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-635-4
ENERGY 2018 : The Eighth International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

