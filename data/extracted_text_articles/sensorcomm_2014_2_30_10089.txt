Using CFD-Based Virtual Sensor Data to Study the Structure of Air Flow behind A 
Porous Fence 
 
Yizhong Xu and Mohamad Y. Mustafa 
Atmospheric Icing Research Team 
Narvik University College 
Narvik, Norway 
Yizhong.Xu@hin.no and MohamadYazidF.Mustafa@hin.no 
 
 
Abstract— Physical experiments have difficulties to thoroughly 
investigate the full structure of air flow behind a porous fence. 
Physical measurement sensors have their limitations of data 
acquisitions in turbulent air flow. Computational Fluid 
Dynamics (CFD) technique provides an infinite number of 
virtual sensors that allows producing quantitative CFD-based 
virtual sensors data for users. In this paper, a 3D CFD model is 
assessed by the physical sensors data, and the simulation has 
provided 
comprehensive 
information 
for 
studying 
the 
structure of airflow in a 3D domain. 
Keywords-physical 
sensor; 
virtual 
sensor; 
wind 
tunnel 
experiment; 3D CFD model; CFD-based virtual sensor data 
I. 
 INTRODUCTIONS  
In cold regions like Norway, the outdoor environment can 
be extremely hostile towards human activities. Porous fence 
is one of common devices widely applied in these regions. It 
serves as windbreaks to effectively mitigate the damages 
caused by strong wind and transported sediments. Therefor 
it can create an operable and habitable space for human 
needs.  
The structure of air flow behind a porous fence is complex 
due to the presence of the bleed flow passing through the 
pores in the fence and the displaced flow passing over the 
fence. Figure 1. shows a comparison of flow regimes behind 
porous fences as porosity above and under critical porosity, 
where ß is porosity of fence, and       is critical porosity of 
fence. 
 
 
Figure 1. Comparison of flow regimes behind porous fences as porosity 
approaches critical porosity 
Critical porosity       is defined as the maximum fence 
porosity below which flow separation and reversal occurs  
[1]. Above the critical porosity, the airflow in the leeward is 
dominant by bleed flow and there is no flow separation 
(Figure1, a). Below the critical porosity, the leeward airflow 
directly behind the fence reverses, resulting in a region of 
recirculating air (Figure1, b). In general, fence porosity in 
the range of 0.20-0.50 is considered to give noticeable 
changes of flow structures behind fences [2] [3] [4] [5].  
Physical experiments to investigate the structure of air flow 
behind porous fences are quite challenging, due to the 
presence of turbulence. Conventional cup-type anemometer 
is the earliest device to give a rough estimate of turbulence 
intensity in the field tests [6]. Hot-Wire anemometer (HWA) 
and Pulsed-Wire anemometer (PWA) must be positioned at 
specific measurement points to obtain results, that will 
distort the airflow field. Laser Doppler anemometer (LDA) 
and Phase Doppler anemometer (PDA) are non-intrusive to 
the measured airflow field. However, like HWA and PWA, 
LDA and PDA only provide time-averaged velocity and 
turbulence intensity values at discrete measuring points, and 
have difficulties to measure the near-wake regions behind 
fences. Particle Image Velocimetry (PIV) and Particle 
Tracking Velocimetry (PTV) as recently developed non-
intrusive measurement techniques can obtain instantaneous 
velocity measurements and are related properties in a target 
area. The air is seeded with tracer particles, which must be 
sufficiently small to be assumed to faithfully follow the air 
dynamics. In practice, PIV and PTV are costly, and usually 
are not applied in field measurements. Overall, the above 
physical sensors have their limitations, and have difficulties 
to obtain a high-resolution data set within a space of airflow 
influenced by a porous fence. 
Over the last three decades, with the rapid development of 
computer technology and Computational Fluid Dynamics 
(CFD) 
techniques, 
numerical 
simulation 
has 
been 
increasingly 
employed 
in 
porous 
fence 
researches. 
Wilson[7] introduced a momentum sink involving the fence 
resistance coefficient to simulate a porous fence solved by 
Reynolds-averaged Navier-Stokes (RANS) equation. His 
results demonstrated a promising prediction in terms of the 
flow structure around the fence. Under different fence 
porosities and different turbulence models, Packwood [8] 
39
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

examined 
numerical 
results 
against 
wind 
tunnel 
experimental results through a 2D thin fence model in a 
thick boundary layer. He found that the k-ɛ incorporated a 
Preferential Dissipation Modification (PDM) model worked 
better. Bourdin and Wilson [10] confirmed the suitability of 
CFD with regard to windbreak aerodynamics, based on the 
comparison of the numerical data (2D and 3D model 
simulation) against the experimental data. Alhajraf [9] 
introduced a CFD model for 2D and 3D simulations of 
drifting particles at porous fences. His model showed good 
agreement with the field observations and the wind tunnel 
measurements.  
Virtual sensor is a smart sensor, it can be used for 
computing estimating complex variables that otherwise 
should require very expensive equipment or laboratory tests 
[11]. Recently CFD-based virtual sensor data as alternatives 
to physical sensor data are increasingly adapted by 
researchers. Jang et al. [12] implemented CFD-based virtual 
sensor data in a micro-scale air quality management system. 
Sun and Wang [13] used CFD-based virtual sensor data to 
control indoor environment and space ventilation.  
In this paper, a porous fence with porosity of 0.23 has been 
selected for the case study that ensures recirculating air 
occurred in the flow regime behind the porous fence. 
Section 2 is the theoretical framework discussed about the 
novelty and robustness of the CFD-based virtual sensor 
data. Section 3 and Section 4 are the case study  carried out 
in physical wind tunnel and virtual wind tunnel (numerical), 
where the detailed procedures of physical test and numerical  
simulation are presented.  In Section 5, the  3D CFD model 
has been assessed against wind tunnel experiment, and the 
simulation results have been demonstrated and discussed. 
Finally, the capability of CFD-based virtual sensor data to 
study the structure of airflow behind a porous fence has 
been concluded in Section 6.  
II. 
THEORETICAL FRAMEWORK 
Blocken [14] reviewed a perspective on the past, present, 
future of Computational Wind Engineering (CWE), and 
made a statement: “CFD offers some particular advantages 
compared with on-site measurements and reduced-scale 
wind tunnel measurements. They can provide detailed 
information on the relevant flow variables in the whole 
calculation domain, under well-controlled conditions and 
without similarity constraints.”  CFD technique is an 
efficient, flexible and relatively cheap alterative to physical 
experiment that has been widely recognized in the porous 
fence research industry nowadays.  Effective application of 
CFD is the combination of knowledge in domain physics 
and numeric. When adequate physical models are selected 
and supplied with the correct data, essentially, CFD allows 
for an infinite number of virtual sensors to assess the 
performance of a unit.  
Reynolds-averaged-Navier-Stokes (RANS) equations are 
the most popular governing equations to describe turbulence 
flow behind porous fences so far, which are mathematically 
expressed as follows: 
   
      
 
 
(1) 
 
   
     
   
      
 
 
  
     
 
 
    
       
 
   (  
   
 )     
 
 
 
 
 
 
(2) 
 
where    is the j component of velocity, t is the time,    is 
the j coordinate, ρ is the air density, µ is the dynamic 
viscosity, and    is the gravitational body force. 
The RANS are time-averaged equations of motion for 
airflow that need to solve a closure problem because of the 
non-linear term from the convective acceleration, known as 
the Reynolds stress.  For the porous fence research, k-
Epsilon and k-Omega are the two most popular turbulence 
closure models used in CFD simulations [7] [8] [15] [16].  
The main difference between them is that k-Epsilon model 
solves kinetic energy and turbulence dissipation, while the 
k-Omega model solves kinetic energy and turbulence 
frequency. Although it is well acknowledged that the 
selection of turbulence models is sensitive to the accuracy of 
numerical results, the suitability of turbulence models varies 
individually.  It is still open to debate the issue of turbulence 
model selections in the research field.  
The main limitation of RANS modeling is incapable to 
simulate the inherently transient features of the airflow field 
such as separation and recirculation downstream of 
windward edges and vortex shedding in the wake. Large-
eddy simulation (LES) can explicitly resolve these large-
scale features. However, LES increases computational 
requirements and has the difficulty in specifying appropriate 
time-dependent inlet and wall boundary conditions. 
Nevertheless, mathematical model based on the RANS 
equations has been used successfully for studies of the 
structure of airflow behind porous fences. 
CFD simulation provides virtual sensor data to estimate 
product properties or process conditions based on 
mathematical models. These mathematical models use other 
physical sensor readings to calculate the estimations. Inlet 
velocity profile and boundary conditions are those of 
physical sensor data that will be introduced into the 
mathematical model as the pre-set data, which reflects to the 
real scenario. Consequently, CFD simulation creates a 
channel through which a virtual system (CFD-based virtual 
sensor data) has communicated with a natural system 
(physical sensor data and empirical knowledge) in a way 
that improves understandings for researchers. 
Care for high quality and reliability of CFD simulations is 
crucial. Numerical and physical modeling errors must be 
assessed. Without validation against physical experiments, 
the robustness of CFD-based virtual sensor data is 
questionable.  
 
40
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

III. 
CASE STUDY SETUP 
The physical experiment for this case was conducted in a 
closed return wind tunnel at Narvik University College. A 
porous fence was placed at the center of the cross section of 
the wind tunnel with a distance of 1000mm from the leading 
edge of the test section (upstream). The configuration of the 
fence is 650mm width * 200mm height * 3mm thickness, 
and it is oval holed with porosity of 0.23. The CFD 
simulation domain was configured by the exact size of the 
physical domain, which makes the 3D domain with 
dimensions: 655mm height, 4000mm length and 1160mm its 
maximum width.  Figure 2 shows the physical wind tunnel 
experiment setup. Figure 3 displays the 3D virtual wind 
tunnel domain. 
 
 
Figure 2. Physical wind tunnel experiment setup 
 
 
Figure 3. 3D virtual wind tunnel simulation domain 
 
The physical wind tunnel experiment is designed to 
investigate the structure of airflow behind the fence under 
free upstream velocities of 15m/s and 20m/s respectively. A 
Pitot static tube was placed at the entrance of the test section 
to monitor the upstream velocities, and a traverse attached 
with a Hot-Wire Anemometer (HWA) was positioned at a 
longitudinal distance of 925 mm downstream of the fence. 
Test data were taken by moving the traverse at steps of 0.2 
inch in the vertical direction. To improve the accuracy of the 
data, 50 readings have been taken for each step, and then 
time averaged data were recorded. 
The physical experiment revealed the inlet velocity profiles 
were fully developed and obeyed the power law profile: 
 
         (  
⁄ )                                   (3) 
 
Where the       is the free stream inlet velocity which is 
measured 15m/s and 20m/s here respectively.   is the 
boundary layer thickness which is equal to 10mm. The 
exponent   is 0.11. 
Equation (3) was written in program C language and was 
interpreted into the CFD model. As such, the real sensor 
data have been transferred into the numerical simulations.  
IV. 
NUMERICAL SIMULATION 
The CFD simulations were performed under ANSYS 14.0 
Fluent workbench package. To optimize resources the 
meshed domain was reduced down to half since it was 
symmetrical in the YZ plane and an air box (length * width 
* height = 3000mm * 400mm * 300mm with the upstream 
length of 500mm) was created to dense the elements around 
the fence. Figure 4 demonstrates the creation of the CFD 
domain and its meshed symmetry wall. 
 
 
Figure 4. CFD domain & its meshed symmetry wall 
 
In this paper, realizable k-Epsilon turbulence model with 
Non-Equilibrium Wall Function is employed, as it is in 
remarkable agreement with the considerable testing results 
[17]. 
Mesh sensitivity study was carried out under the same 
simulation conditions, where tetrahedral and polyhedral 
elements have been performed through 6 different meshing 
scales. The parameters selected to check the mesh 
independent condition of grid were velocity magnitudes and 
turbulent kinetic energies (TKEs).  It was examined that the 
mesh with 6.3 million tetrahedral elements was desirable. 
Turbulent intensity ratio and viscosity ration were set at 1% 
and 10% respectively after the inlet velocity profiles were 
hooked. The gauge pressure at the pressure outlet was set at 
0 Pascal with the backflow turbulent intensity ratio and 
viscosity ratio as 5% and 10%. All of the rest boundary 
conditions were treated as no-slip stationary wall with 1mm 
roughness height and 0.5 roughness constant. The solution 
method was the pressure-velocity coupling the Semi-
Implicit Method for Pressure-Linked Equation (SIMPLE) 
scheme, since the scheme has been extensively used for 
atmospheric flows [16] [17]. 
41
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

The convergence criteria were set the scaled residuals below 
1*10-4, and mass flow rates between velocity inlet and 
pressure outlet have been checked afterwards. 
V. 
RESULTS AND DISCUSSIONS 
A. Assessment of 3D CFD model 
 The comparisons of velocity magnitudes between the 
numerical and experimental results is presented in Figure 5, 
where H/h is the ratio of the measuring height to the fence 
height. The acquired data were taken along a vertical line 
925mm downstream of the fence in the symmetry wall, 
which is correspondent to the exact position of the 
experimental measurement line.  
 
 
Figure 5. Comparisons between CFD and wind tunnel results 
 
It is observed that the numerical results are in good 
agreement with the experimental results especially within 
the range of H/h = 1.2. Beyond the range of H/h = 1.8, 
velocity magnitude in the CFD grows faster than that in the 
experiment. The reason can be attributed to the fact that the 
blockage ratio of the wind tunnel in the current setting is 
9.8%. It is slight high that increases the effects of the top 
wall boundary layer on the regional velocities in the 
physical test, while for the case of CFD, the roughness 
height of the top wall is set to 1mm. 
The CFD simulation over-predicted the reduction of 
velocity when compared to the physical measured results. In 
general, it is describable. 
B. Domain structure of air flow 
The 3D CFD simulation provides an infinite number of 
virtual sensor data to form a comprehensive structure of air 
flow in the targeted domain. It allows assessing the 
performance of any unit. Figure 6 and Figure 7 display the 
contours of velocity magnitude and kinetic energy 
respectively, where the free stream velocity is at 20m/s, 
plane-1is parallel to the symmetry wall with x = 11mm, 
plane-2  is parallel to the floor with y = 0mm, and plane-3 is 
parallel to the velocity inlet with z = 1500mm. The domain 
structure of air flow is agreed to the descriptions of other 
researchers [1] [18]. 
 
 
Figure 6. Velocity magnitude contours in the 3 planes 
 
 
 
 
Figure 7. TKE contours in the 3 planes 
C. Shear stress distributions in fence porous zone 
One of advantages in 3D CFD simulation is that it allows 
scrutinizing shear stress and pressure distributions in porous 
fence zone. Unlike 2D model, 3D model can directly reflect 
this information in detail without modifying momentum and 
inertial loss within the porous zone. Figure 8 shows the 
shear distribution in the porous zone. These data are not 
possible to be obtained by the real sensors equipped in the 
current wind tunnel experiment. 
 
 
Figure 8. Contour of wall shear stress in porous zone 
0
5
10
15
20
25
30
0
0,5
1
1,5
2
2,5
Velocity (m/s) 
H/h 
Comparisons among CFD and experimental results 
15m/s
test
20m/s
test
15m/s
CFD
20m/s
CFD
42
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

D. Position of  the reattachment point 
Reattachment point is determined by examining the 
horizontal velocity component at ground level to determine 
the point, where the horizontal velocity changes sign from 
upwind (negative) to downwind (positive) [1]. It is an 
important parameter to assess the shelter distance of a 
porous fence. It is unlikely to accurately capture a 
reattachment point under the current setup of wind tunnel 
experiment, since the sensor produced time averaged data 
that it is no possible to generate negative data. 
 
 
Figure 9. Reattachment point in the domain 
 
In CFD simulation, as the time averaged bed shear stress 
reflects the velocity in the cell next to the boundary, then the 
reattachment is defined as the point where the near-wall 
velocity is zero. Therefor it can conveniently allocate the 
position of reattachment point in the domain. Figure 9 
displays the red-cross is the position of the reattachment 
point, which is at x, y, z = 3.1e-5, 0, -1668mm. 
E. Algorthmic outputs of CFD-based vritual sensor data 
A power feature of CFD simulation is to generate 
algorithmic outputs of CFD-based virtual sensor data for 
analysis. It takes CFD generated data of dynamic head as an 
example, since dynamic head is a variable commonly used 
in the fluid dynamics research. Calculating dynamic head is 
based on the following formula: 
 
     (| |)    
 
      (4) 
 
Where q is the dynamic head,   is the air density, and | | is 
the velocity magnitude. 
In ANSYS Fluent, Using the Define command by opening 
the Custom Field Functions, the formula is easily to be 
written into the model. Figure 10. shows the contours of 
dynamic head in the symmetry wall. 
CFD simulation can also generate its virtual sensor data by 
defining algorithm in its User Defined Functions. Outputs of 
data can be written to files by applying XY plot. 
 
 
 
Figure 10. Contours of dynamic head 
 
VI. 
CONCLUSIONS 
In this paper, the CFD model has been assessed and its data 
of velocity magnitudes are in desirable agreement with the 
physical sensor data. Through an infinite number of virtual 
sensors, the model provides quantitative CFD-based virtual 
sensor data to comprehensively study the structure of air 
flow behind a porous fence. Comparing with physical 
experimental test, the CFD model has shown its strength 
with regard of flexibility, efficiency, relatively low cost and 
productivity. The model can be used in evaluating and 
designing porous fences. 
It must be pointed out that CFD-based virtual sensor data 
are valid only after the model has been proved sound, which 
means that CFD modeling has to be examined and assessed 
by essential physical sensor data. 
Future work on this research will apply this model for two-
phase flow simulation (wind driven sediments like sands 
and snows).  
ACKNOWLEDGEMENT 
Norwegian Research Council financed this work under 
project number 195153 (ColdTech). The authors would also 
like to acknowledge the contribution of the industrial 
partner in this task: IKM dsc AS, Norway. 
REFERENCES 
 
 
[1]  Z. Dong, W. Luo, G. Qian, P. Lu and H. Wang, "A wind tunnel 
simulation of the mean velocity field behind upright porous wind 
fences," Agricultural and Forest Meteorology, vol. 146, pp. 82-93, 
2007.  
[2]  M. Jensen, Shelter effect: investigations into Aerodynamics of shelter 
and its effects on climate and crops, Copenhagen: Danish Tech. Press, 
1954.  
[3]  N. Tani, "On the wind tunnel test of the model shelter hedge," in 
Bulletin of the Natinal Institute for Agricultural Sciences, 1958.  
[4]  J. Raine and D. Stevenson , "Wind protection by model fences in 
simulated atmospheric boundary layer," Industrial Aerodynamics, vol. 
43
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

2, pp. 159-180, 1977.  
[5]  S. Lee and H. Kim, "Laboratory measurements of velocity and 
turbulence field behind porous fences," Wind. Eng. Ind. Aerodyn., vol. 
80, pp. 311-326, 1999.  
[6]  L. Hagen and E. Skidmore , "Turbulent velocity fluctuations and 
vertical flow as affected by windbreak porosity," in Trans.ASAE, 
1971A.  
[7]  J. Wilson, "Numerical studies of flow through a windbreak," Wind 
Eng. Ind. Aerodyn, vol. 21, pp. 119-154, 1985.  
[8]  A. Packwood, "Flow through porous fences in thick boundary layers: 
comparisons between laboratory and numerical experiments," Wind 
Eng. Ind. Aerodyn., vol. 88, pp. 75-90, 2000.  
[9]  S. Alhajraf, "Comutational fluid dynamic modelling of drifting 
particles at porous fence," Environmental Modelling and Software, 
vol. 19, pp. 163-170, 2004.  
[10]  P. Bourdin and J. Wilson, "Windbreak aerodynamics: is computatinal 
fluid dynamics reliable?," Boundary-Layer Meteorology, vol. 126, pp. 
181-208, 2008.  
[11]  E. Wilson, "Virtual sensor technology for process optimization," in 
Symposium on Computers and Controls in the Metals Industry in Iron 
and Steel Socirty, 1997.  
[12]  A. Jang, A. S. Man, J.-J. Kim, H. W. Choi, K. Hong, S. B. Lim, H. 
Kim and J.-H. Woo, "Implementation of CFD, senor network, and 
distributed data management in support of micro-scale air quality 
management," in 6th International Conference on Computer Sciences 
and Convergence Information Technology (ICCIT), Seogwipo, 2011.  
[13]  Z. Sun and S. Wang, "A CFD-based test method for control of indoor 
environment and space ventilation," Building and Environment, vol. 
45, pp. 1441-1447, 2010.  
[14]  B. Blocken, "50 years of Computational Wind Engineering: past, 
present and future," Wind Engineering and Industrial Aerodynamics, 
vol. 129, pp. 69-102, 2014.  
[15]  P. Richards and R. Hoxey, "Appropriate boundary conditions for 
computational wind engineering models using the k-e turbulence 
model," Wind Eng. Ind. Aerodyn., vol. 46 (47), pp. 145-153, 1993.  
[16]  J. Wilson and C. Mooney, "A numerical simulation of boundary-layer 
flows near shelterbelts comments," Boundary-Layer Meteorology, vol. 
85, pp. 137-149, 1997.  
[17]  J. Santiago, F. Martin, N. Bezdenejnykh and A. Sanz-Andres, 
"Experimental and numerical study of wind flow behind windbreaks," 
Atmospheric Environ., vol. 41, pp. 6406-6420, 2007.  
[18]  N. Zhang, J.-H. Kang and S.-J. Lee, "Wind tunnel observation on the 
effect of a porous wind fence on shelter of saltating sand particles," 
Geomorphology, vol. 120, pp. 224-232, 2010.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
            
                                  
 
                                                                


 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
44
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-374-2
SENSORCOMM 2014 : The Eighth International Conference on Sensor Technologies and Applications

