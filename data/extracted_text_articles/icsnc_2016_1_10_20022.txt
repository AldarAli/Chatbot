Modeling IP Telephony Call with Simple Algebraic Relations 
 
 
Ilija Basicevic and Miroslav Popovic  
Department of Computer Engineering,  
Faculty of Tech. Sciences 
University of Novi Sad 
Novi Sad, Serbia 
email: ilibas@uns.ac.rs 
Djordje Saric 
RT-RK Computer Based Systems 
Novi Sad, Serbia 
email: djordje.saric@rt-rk.com 
 
 
Abstract—During the evolution of telephony, many models 
have been proposed. However the models usually consider only 
certain aspects of the telephony network. This paper presents 
an approach to the use of algebraic relations in mathematical 
modeling of IP telephony networks. Three algebraic relations 
that represent the state of the network are defined. An 
interesting property of telephone network is demonstrated, 
that a telephony session or "call" can be interpreted as the 
class of equivalence of one of relations. Session life cycle is 
explained in the view of defined relations and the time 
dimension of events is briefly discussed. The relations 
presented here are foundations for a more comprehensive and 
usable model. The directions for future work are given.  
Keywords- IP telephony; telephone call; VoIP session; 
Session Initiation Protocol (SIP). 
I. 
 INTRODUCTION  
Traditional telephony networks have been extensively 
researched in the period of more than a century. Majority of 
researches consider formal modeling of only certain aspects 
of the network functionality. The telephone exchange has 
been modeled using queuing theory and different parameters, 
such as call waiting time, probability of blocking, etc. that 
are estimated.  
The IP telephony appeared in the last decade of the XX 
century. Two most important signaling protocols for IP 
telephony are Session Initiation Protocol (SIP) [1] and H.323 
[2]. Again, queuing theory is used for estimating parameters 
such as end-to-end Voice-over-IP (VoIP) connection delay, 
see [3] for a recent work. In this paper, the approach to 
model mathematically several most important elements of 
the functionality of the IP telephony network is presented. 
The model is proposed having in mind the SIP protocol, as it 
is dominant today. 
In the majority of available public documents in the 
telephony area, the call is not defined, but it is assumed that a 
reader already knows what the call is. Starting from the 
structure of the telephony network, and analyzing some 
aspects of network dynamics, we will try to shed new light 
on the concept of a telephone call. 
The foundation of the telephony network is the set of 
network nodes (N), which are either endpoints (EP) available 
to users, or infrastructure points (IP) that make the 
infrastructure of the network. There are several types of IP: 
- 
routing points (RP) 
- 
conference points (CP). Those are conference 
servers and media mixers used for the support of 
conference feature with respect to signaling and 
media streaming, respectively.  
Thus, 
IP = RP  CP, 
 
 
(1) 
EP P =  
N = EP  IP. 
 
Nodes are connected by links. The set of links can be defined 
as 
L={(x,y)|(x,y) EPxIP (x,y)IPxIP (x,y) IPxEP}, (2) 
 
L is a symmetric relation – we consider links that ensure 
bidirectional communication. 
The mapping of the structure of a so-called pre-IMS IP 
telephony network (still much in use today) to this model is 
straight forward. On the other hand, the IP telephony 
network with the IP multimedia Subsystem IMS [4] 
environment has richer structure with a larger number of 
different functional elements, but their mapping to RP and 
CP is possible. The fact that Call Session Control Function 
(CSCF) elements are realized as SIP servers makes the 
mapping straight forward. 
The traditional telephony is limited with the fact that calls 
cannot be routed based only on signaling information while 
call processing applications require access to media stream, 
as well. This results in so called “tromboning issue” that has 
been solved with the advent of VoIP in which the signaling 
and media stream path can be fully separated [5]. 
The section II contains an overview of some related work. 
In section III, the mathematical relations that are the 
foundation of our model are presented. In section IV, the 
session life cycle is discussed in the view of relations defined 
in section III. The section V contains concluding remarks 
and directions for future work. 
 
II. 
RELATED WORK 
There are many approaches to formal modeling of 
communication protocols (as a more general class containing 
1
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-499-2
ICSNC 2016 : The Eleventh International Conference on Systems and Networks Communications

telephony communications). The use of Petri nets dates back 
several 
decades 
ago. 
In 
the 
field 
of 
telephony 
communications, the ITU-T directed efforts for a long time 
to establish software development methods supported by 
formal models. Especially in the area of feature interaction, 
several approaches to formal modeling which provided rapid 
detection of unwanted feature interactions were proposed [6]. 
A more recent comprehensive work on feature interaction 
problem is presented in [14]. Some other recent approaches 
are in [16] and [17]. An example of the use of Petri nets in 
modeling telephony networks is given in [7]. In the packet 
based telephony, there is also work in the development of 
services supported by formal models and a segment of that 
work is presented in [8]. In [19], authors applied formal 
modeling and verification of several fixes for privacy issues 
in 3G. In [20], authors present network topologies used by 
several popular chat applications. The structural model 
presented in this paper suits the topology used by Google+, 
while it differs from peer-to-peer and hybrid topologies of 
iChat and Skype, respectively. 
With respect to modeling the structure of large IP 
telephony networks, important sources are documents 
published by IP telephony vendors. Those, usually corporate 
networks, are covered as in [12], where single and multisite 
models for corporate IP telephony are presented. The 
taxonomy in [13] is a bit more elaborate and it distinguishes 
single site, centralized and distributed call processing model, 
but it still covers only a corporate network case. On the other 
hand, an example of research in the structure of network is 
[18] where authors analyze clustering of bipartite Internet-to-
telephone network ItPBN (IP telephone calls from Internet to 
traditional telephone network) and show that it has power 
law incoming/outgoing degree distribution. The ItPBN has 
one giant component and a large number of satellite 
components. The size of satellite components follows the 
power law. 
In the first decade of XXI century, the SIP protocol 
gradually claimed dominant place as VoIP signaling 
protocol, leaving behind H.323. A proposal for a new VoIP 
signaling protocol, that overcomes some deficiencies of the 
SIP is presented in [15]. 
One of the trends in IP telephony is development of peer-
to-peer (P2P) IP telephony systems. Some existing 
commercial systems already deploy P2P or hybrid 
architectures (see [20]). P2P SIP is an open technology based 
on this concept, see [21] as an example of recent work in this 
area. Ref [22] presents a P2P IP telephony system for 
wireless ad-hoc networks. Ref [23] presents a strategy to 
form the overlay network of P2P IP system. 
It is stated [10] that one of drawbacks of traditional 
telephony models (Integrated Services Digital Network - 
ISDN, Intelligent Network - IN being good examples) is that 
they are based on the notion of a call. The call is described as 
an obscure and difficult notion [10]. Distributed Feature 
Composition architecture [9] that should solve that problem 
was proposed in late 90s, but did not enter in wide use. In 
our opinion, this property of the notion of the call stems from 
the fact that it is perceived both from the standpoint of an 
end user of telephony services and from the standpoint of an 
engineer developing services - and these two projections 
sometimes collide. This paper is, among other things, an 
attempt to say what the call is, but in terms of mathematical 
reasoning. 
 
III. 
MATHEMATICAL RELATIONS  
The state of network is described by a Connectivity State 
(CS) set. This set contains the following three most 
important relations (physically connectable 
- PhyC, 
connected - Conn, and negotiating - Nego). Nego relation 
covers both negotiation of session parameters and session 
establishment operation.  
CS = {PhyC, Conn, Nego}  
 
(3) 
The PhyC relation represents current infrastructure state. 
It is the set of available communication paths. The PhyC 
relation is the subset of the set EPxEP. We consider this 
relation to be symmetric and transitive, but we note that in 
special cases this assumption may not hold - depending on 
the configuration of routing tables and polices. If there is an 
active link between x and y, then both (x,y) and (y,x) are 
members of the PhyC. Also, if there are links that connect x 
with y, and y with z, this means that (x,z)  PhyC. It can be 
assumed that the PhyC is reflexive. In this case, the class of 
equivalence of x that is the member of EP represents the 
connectivity potential of that endpoint. The y that is the 
member of EP and the member of the class of equivalence of 
x is an endpoint that is reachable from x. In a normal 
operation, there is only one class of equivalence - any 
endpoint is reachable from any other endpoint.  
Conn and Nego relations are the subset of the set Ni, 
i=2,...,n, where n is the greatest number of users that can 
participate in one telephony session - in that network. Or, 
more strictly limited, 
Nego, Conn  {EPxEP  (EPixCP), (i=1,...,n-1)}  
(4) 
 
Neither of the relations is intrinsically reflexive. Both are 
symmetric and transitive. If x,y and x is connected to y 
by a telephony session, then y is connected to x too - because 
of characteristics of the telephony session. Also, because of 
characteristics of the telephony conference, if x,y,z and 
x is connected to y by the telephony session, and y is 
connected to z, then x is connected to z, too. In our model, 
the telephony session is a SIP session. 
Again, because of characteristics of the telephony 
session, if x is negotiating with y, then y is negotiating with 
x, too. Transitivity of the Nego relation is not so obvious, but 
if we observe x, z  EP and y  CP, it can be said that if 
both x and z are negotiating with y, then y is negotiating with 
z (because of symmetricity), and it can be said that 
implicitly, x is negotiating with z, too. For y which is not a 
conference point, this does not hold. 
It can be seen that 
(x1,...,xn-1)EPn-1,xnCP ) |(x1,...,xn)Conn)  
(x1,...,xn)ego)) =>
(xi,xj) | 1≤ i,j  ij ≤ n => (xi,xj) PhyC)   
(5) 
2
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-499-2
ICSNC 2016 : The Eleventh International Conference on Systems and Networks Communications

 
While the PhyC is a relation that represents connectivity, 
and in terms of network technology it belongs to so called 
communications oriented layers of ISO OSI [11] protocol 
stack (physical, data link, network and transport layers), 
Conn and Nego are about signaling, and belong to so called 
application oriented layers upper layers of ISO OSI stack 
(session, presentation and application layers), or the 
application layer in TCP/IP [11] stack.  
For each n-tuple that is negotiating or connected at the 
moment, there has to exist a network path connecting each of 
the members of the n-tuple (x1,...,xn). 
(x1,...,xn)Conn)  ((xi,xj), 1≤ i ≤ n, 1 ≤ j ≤ n)
(R  RP) (rk, rl R | (xi,rk) L (xj,rl) L) 
(f :N->R {xi,xj}| f(1)=xi f(|R{xi,xj}|)=xj   
ii<|R{xi,xj}| =>(f(i),f(i+1))L))    
(6) 
 
The same is true for (x1,...,xn)ego). 
Where network path is a set of links connecting nodes 
belonging to R, and it is determined by relation f. For that 
reason, for each n-tuple that is an element of Conn or Nego, 
there is an m-tuple (n<=m) containing both the elements of R 
and the elements of the n-tuple. During the session 
establishment, certain resources are allocated at each 
member of the m-tuple. Upon the successful session 
establishment, depending on the type of session (i.e. use of 
Route headers [1] in SIP), the resources allocated at the 
elements of R are freed. In certain applications (especially 
those based on use of Back-to-Back User Agents [1]) it is 
required that routing points stay in the routing path during 
the whole session duration. 
We can postulate that Conn relation is reflexive, because 
logically users at any endpoint can hear themselves during 
the session (echo functionality). In that case, Conn is a 
relation of equivalence. A telephone call in that case is an 
equivalence class of relation Conn. 
If we postulate, a bit artificially though, that Nego is 
reflexive too, in which case that relation is a relation of 
equivalence too, it can be said that a class of equivalence of 
the Nego relation is a telephony session candidate. 
The network load (in the sense of a set of ongoing 
network activities) can be projected into two functions of 
time: 
LoadConn: t→Conn;   LoadNego:t→Nego.     (7) 
 
One important characteristic of the network can be noted 
as: 
(t2)(Time(t2))(x,yEP)((x,y)LoadConn(t2)) => 
(t1)(Time(t1)) (t1<t2) ((x,y)LoadNego(t1)   
(8) 
 
Or, in other words, only those nodes that in the earlier 
moment of time belonged to the class of equivalence of x in 
relation Nego can later belong to the class of equivalence of 
x in relation Conn. 
We remark though, that not all negotiations result in session 
establishment, which means that not all members of the class 
equivalence of x in relation Nego will become members of 
the equivalence class of x in relation Conn. 
 
IV. 
SESSION LIFE-CYCLE 
Presented relations make a model of associations 
between nodes of the network during its operation. However, 
they tell little about events that occur during one session.  
 
Figure 1.  The session life-cycle. 
 
Table 1 describes the most important states in the session 
life-cycle. 
The states given in the table are additionally described 
with the following statements: 
- After the session modification, ep returns to active state. 
- During the session teardown, ep is deleted from the 
Conn relation. 
- After the session teardown, ep returns to the idle state. 
 
In this paper, we consider stable state to be the state in 
which the ep can stay unlimited time - in general case. 
Duration of transitional states is controlled by timeout 
controls specified by the telephony protocol, and this 
duration is on the average small in the sense of human 
perception, and compared to the average duration of stable 
states. The typical timeout duration in transitional states is in 
the order of seconds. 
3
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-499-2
ICSNC 2016 : The Eleventh International Conference on Systems and Networks Communications

TABLE I.  
IMPORTANT STATES OF THE SESSION LIFE-CYCLE  
State 
Membership of ep 
in relations Conn 
and Nego 
Type 
of 
the 
state 
Idle state 
ep is present neither 
in Nego nor  in 
Conn 
stable state 
Session 
negotiation 
ep is participating in 
Nego relation 
transitional 
state 
Session 
establishment 
ep is participating in 
Nego relation 
transitional 
state 
Active state 
ep is participating in 
Conn relation 
stable state 
Session 
modification 
ep is participating in 
both 
Nego 
and 
Conn relations 
transitional 
state 
Session 
teardown 
ep is participating in 
Conn relation 
transitional 
state 
 
 
The session life-cycle is presented in Fig.1. The figure 
presents the case of a successfully established call, as in a 
general case, the session can be terminated in any state (i.e. 
there can be failures in session negotiation, establishment or 
modification). It can be seen that the important operations 
that change the state of the session are: 
- 
negotiation 
- 
establishment 
- 
teardown 
Each of three listed operations is realized through 
transmission of messages between participating nodes. 
Messages are complex data structures and will not be further 
analyzed here.  
The telephony session protocol defines the state space: 
the set of states and the set of possible graphs of state 
transitions. Each realized session can be represented as a 
graph in the state space defined by the protocol. This graph 
depends also on the configuration of participating nodes and 
end user decisions.  
There is a problem when representing telephony network 
mathematically. This problem lies in the time dimension of 
events in the network. Each established connection is present 
in the network through resources that are allocated in nodes 
participating 
in 
the 
session. 
Session 
establishment, 
modification or teardown does not happen simultaneously in 
all participating nodes - because there is a finite time interval 
required for transferring messages between participating 
nodes. Thus, there are moments when the session is in 
different states at different nodes participating in the same 
session. This situation occurs during all operations. The 
following list is not comprehensive since for each operation, 
we list one example:  
- 
session establishment - one node is already in the 
session active state (stable state) while the other is 
still in the session establishing state (transitional 
state). 
- 
session modification - the same as above 
- 
session termination - one node is already in the idle 
state, while the other is still in terminating state. 
We can conclude that session is viewed from two 
viewpoints - two sides participating in the session. In the 
general case, the session state viewed from the two 
viewpoints is not the same. 
A potentially viable approach is to consider composite 
state which takes into account the states of all viewpoints. 
For example, we can say that (x1, ..., xn) Conn, when all ep 
nodes in the n-tuple consider the session to be in active state. 
We can also say that (x1, ..., xn) ego, when at least one of 
xx1, ..., xn} considers ongoing session to be in the 
negotiation or modification state. Thus, we say that (x1,...,xn) 
Conn ego, when at least one of xx1,...,xn} considers 
ongoing session to be in the modification state while all x 
consider session to be in the active state. 
 
V. 
CONCLUSION 
The relations given here model some important static and 
dynamic aspects of the telephony network. The network 
structure is a crucial static aspect and telephony sessions are 
the most important dynamic aspect.  
We have identified the following three important 
relations (physically connectable - PhyC, connected - Conn, 
and negotiating - Nego) defined over the set of network 
nodes. The call can be interpreted as an equivalence class of 
relation Conn. Some aspects of the session life-cycle are 
expressed in terms of two relations (Conn, Nego), as well as 
the nature of states in the life-cycle. 
The relations given here are far from the comprehensive 
model. However, they can be a foundation of a more 
comprehensive model that would include more sophisticated 
features and that will make the model usable for 
practitioners. Those features are related to the quality of 
service 
(QoS) 
and 
security 
(privacy 
protection, 
authentication, denial of service (DoS) prevention and/or 
mitigation) – and are directions for future work. 
 
ACKNOWLEDGMENT 
This work has been partially supported by the Ministry of 
Education and Science of the Republic of Serbia under the 
project TR32031.  
 
REFERENCES 
 
[1] J. Rosenberg, H. Schulzrinne, G. Camarillo, A. Johnston, J. 
Peterson, and R. Sparks, “SIP: Session Initiation Protocol”, 
RFC 3261, Internet Engineering Task Force, 2002. 
[2] ITU-T, “Visual Telephone Systems and Equipment for Local 
Area Networks Which Provide A Non-Guaranteed Quality Of 
Service”, H.323, 1996. 
[3] G. Vandana, S. Dharmaraja, A. Viswanathan, Stochastic 
modeling for delay analysis of a VoIP network, Annals of 
Operations Research. Vol. 233 Issue 1, p171-180, Oct.2015. 
4
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-499-2
ICSNC 2016 : The Eleventh International Conference on Systems and Networks Communications

[4] Technical Specification Group Services and System Aspects, 
IP Multimedia Subsystem (IMS), Stage 2, TS 23.228, 3rd 
Generation Partnership Project, 2006. 
[5] Olivier Hersent, IP Telephony: Deploying VoIP Protocols and 
IMS Infrastructure, 2. edition, Wiley, 2010. 
[6] D.O. Keck, P.J. Kuehn, The Feature and Service Interaction 
Problem in Telecommunications Systems: A Survey, IEEE 
Trans on SE, Vol 24, No 10, October, pp 779-796, 1998. 
[7] N. Anisimov, K. Kishinski, A. Miloslavski, Formal model, 
language and tools for design agent's scenarios in call center 
systems, Proc of the 32nd Annual Intl Conf on System 
Sciences, Hawaii, 1999. 
[8] M. Rocetti, A. Aldini, M. Bernardo, R. Gorrieri, QoS 
evaluation of IP telephony services: a specification language 
based simulation software tool, Systems Analysis Modeling 
Simulation, Vol 43 Issue 12, 2003. 
[9] M. Jackson, P. Zave, Distributed Feature Composition: A 
Virtual Architecture for Telecommunications Services, IEEE 
Trans. On Software Engineering, Vol 24, No 10, Oct 1998. 
[10] P. Zave, Calls Considered Harmful’ and Other Observations: 
A Tutorial on Telephony, ACoS '98/VISUAL '98, AIN '97 
Selected papers on Services and Visualization: Towards User-
Friendly Design, pp 8-27, 1998 
[11] A.S. Tanenbaum, D.J. Wetherall, Computer Networks, 5. 
edition, Prentice Hall, 2011 
[12] IP 
Telephony 
Deployment 
Models, 
Cisco 
Unified 
CallManager Express Solution Reference Network Design 
Guide, Cisco Press, 2009 
[13] R. Kaza, S. Asadullah, Cisco IP telephony: planning, design, 
implementation, operation, and optimization, Cisco Press, 
2005 
[14] P. A. Zimmer, Prioritizing Features Through Categorization: 
An Approach to Resolving Feature Interactions, PhD thesis, 
University of Waterloo, Canada, 2007. 
[15] P. Zave, and E. Cheung, Compositional Control of IP Media, 
IEEE Transactions on Software Engineering, vol. 35, no. 1, 
January/February 2009. 
[16] D. Lesaint, D. Mehta, B. O’Sullivan, L. Quesada, N. Wilson, 
Context-Sensitive Call Control Using Constraints and Rules, 
Principles and Practice of Constraint Programming – CP 
2010, Lecture Notes in Computer Science, Vol 6308, pp 583-
597, 2010. 
[17] A.S. Fathabadi and M. Butler, Applying Event-B Atomicity 
Decomposition to a Multi Media Protocol, F.S. de Boer et al. 
(Eds.): FMCO 2009, Lecture Notes in Computer Science 
6286, pp. 89–104, 2010. 
[18] Empirical analysis of Internet telephone network: From user 
ID to phone, Qi Xuan, Fang Du and Tie-Jun Wu, Chaos 19, 
023101, 2009. 
[19] New Privacy Issues in Mobile Telephony: Fix and 
Verification, Myrto Arapinis, Loretta Mancini, Eike Ritter, 
Mark Ryan, Nico Golde, Kevin Redon, Ravishankar 
Borgaonkar, Proceedings of the 2012 ACM Conference on 
Computer and Communications Security CCS'12, Raleigh, 
NC, USA, pp 205-216, 2012 
[20] Video Telephony for End-consumers: Measurement Study of 
Google+, iChat, and Skype, Yang Xu, Chenguang Yu, 
Jingjiang Li and Yong Liu, Proceedings of the 2012 ACM 
conference on Internet measurement conference IMC '12, 
Boston, USA, pp 371-384, 2012 
[21] A Priority Based Lookup Model for VoIP Applications in 
Unstructured P2P Networks, Mourad Amad, Djamil Aïssani, 
Ahmed Meddahi, Nouria Madi, Razika Bouiche, Proceedings 
of the International Conference on Intelligent Information 
Processing, Security and Advanced Communication IPAC 
'15, Algeria, 2015 
[22] P2P IP Telephony over wireless ad-hoc networks, Mehdi 
Mani, Winston K. G. Seah, Noel Crespi, Reza Farahbakhsh, 
Peer-to-Peer Networking and Applications, Volume 5, Issue 
4, pp 363-383, December 2012 
[23] P2P IP telephony over wireless ad-hoc networks : a smart 
approach on super node admission,  Mehdi Mani, Winston 
Seah, 
Noel 
Crespi, 
Reza 
Farahbakhsh, 
Peer-to-Peer 
Networking and Applications, Springer, 2012, 5 (4), pp.363-
383. 
 
 
 
 
 
 
 
 
5
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-499-2
ICSNC 2016 : The Eleventh International Conference on Systems and Networks Communications

