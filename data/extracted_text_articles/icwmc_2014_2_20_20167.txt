Capacity Estimation of IEEE 802.15.4 Chains of Sensor Nodes
Evaggelos Chatzistavros, George Stamatelos
Department of Electrical and Computer Engineering,
Democritus University of Thrace
Xanthi, 67100, Greece
Email: ec3526@ee.duth.gr
Abstract—In the context of an integrated water management
project, we derive an analysis based on numerical modelling
for throughput estimation in an IEEE 802.15.4 wireless sensor
network (WSN). It takes into account the number of nodes in a
cluster network, as well as transmitted packet size. We focus on
the IEEE 802.15.4 compliant slotted Carrier Sense Multiple Ac-
cess with Collision Avoidance (CSMA/CA) algorithm. Theoretical
estimations are veriﬁed using the ns-2 network simulator. The
conﬁguration examined is a chain network formed by wireless
sensor nodes where the ﬁrst node is the source of data packets
and the last is the trafﬁc sink. Simulation results show that there is
a satisfactory approximation between the theoretically estimated
and the simulated values.
Keywords–Performance Evaluation; Wireless Sensor Networks;
Analytical Model; Personal Area Network.
I.
INTRODUCTION
Wireless sensor networks are widely deployed in a variety
of applications, including home monitoring and automation
[1]–[3], environmental monitoring [4] [5] and health mon-
itoring [6]–[8]. Depending on system requirements and the
type of application, sensor nodes are usually deployed in three
different topologies, i.e., peer-to-peer (also called point to
point), star and mesh. In the peer-to-peer network, nodes can
directly communicate with each other, without the mediation of
a Personal Area Network (PAN) Coordinator. All sensor nodes
in a star topology are connected to a PAN coordinator. Node
communications are routed through the coordinator. A tree
topology is considered a hybrid of both the peer to peer and
star conﬁgurations. It consists of different hierarchical levels,
the lowest of which forms one or more star networks.
An environmental monitoring system is proposed in the
context of the CYBERSENSORS project [9]. The system
architecture under consideration employs two distinct sub-
systems: a physical /chemical parameters monitoring subsys-
tem and a visual monitoring subsystem, as shown in Fig.
1. Regarding the ﬁrst, it consists of wireless sensor probes
communicating with a PAN coordinator, forming an IEEE
802.15.4-compliant WSN [10]. In the second subsystem, Vi-
sual Sensor Nodes communicate with an IEEE 802.11n router
(forming a Wireless Local Area Network (WLAN)) [11]. Data
collected from both networks are forwarded to a remote server
through a 3G/HSPA broadband link [12]. Using a peer-to-peer
setup can extend WSN range, especially when efﬁcient self -
conﬁgurability and large area coverage are important [13].
Figure 1.
System architecture for integrated water management.
In this paper, we look into performance issues associated
with the sensors subsystem responsible for sampling and
storing of physical (i.e., suspended particles, temperature) and
chemical (i.e., conductivity, dissolved oxygen, nitrate, pH,
heavy metals) quality metrics [4]. Sensor nodes operate in
an IEEE 802.15.4/Zigbee framework for the wireless data
transmission of the collected measurements. Within this high
frequency monitoring platform, sensor nodes will be deployed
along a river bank.
In [14], authors proposed an analytical performance model
for a sensor network with speciﬁc delay and packet delivery
ratio requirements. Their model is validated using the ns-2
simulator [15] for a star-topology sensor network. A Markov
renewal process [16] is embedded for the calculation of
saturation throughput. Authors in [17] developed an analytical
model using Markov chains, for both a one-hop star topology,
as well as a multi-hop sensor network. They examine the
unslotted IEEE 802.15.4 CSMA/CA algorithm, validated by
Monte Carlo simulations. A worst-case modeling methodology
based on Network Calculus [18] [19] is described in [20].
Sensor nodes forming a cluster-tree network compete for
channel access following the slotted CSMA/CA algorithm.
In the following sections, we propose a method for cal-
culating network capacity when a number of remote sensor
nodes are employed for data acquisition and the rest for packet
forwarding to the PAN coordinator. Throughput is derived as
a function of the number of relay nodes in the network and
32
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-347-6
ICWMC 2014 : The Tenth International Conference on Wireless and Mobile Communications

packet size. These results will be used for the deployment of
an operational sensor network.
The rest of the paper is organized as follows: the analytical
model is described in Section II. Model evaluation is presented
in Section III, while conclusions are drawn in the last section.
II.
NUMERICAL ANALYSIS
Two distinct data transfer modes are supported by an IEEE
802.15.4 network, i.e., beacon enabled and non - beacon
enabled. In the beacon enabled mode, the PAN coordina-
tor transmits periodic beacons, allowing node synchroniza-
tion. This scheme employs the superframe structure. The
macBeaconOrder (BO) attribute describes the interval at
which the coordinator shall transmit beacon frames. The Bea-
con Interval (BI) is related to the macBeaconOrder as follows:
BI = aBaseSuperframeDuration* 2BO
for 0 ≤ BO ≤ 14,
where,
aBaseSuperframeDuration=
aNumSuperframeSlots*aBaseSlotDuration
The length of the active portion of the superframe is
described by the macSuperframeOrder (SO) attribute. The
Superframe Duration (SD) is related to the SO attribute as
follows:
SD = aBaseSuperframeDuration* 2SO
for 0 ≤ SO ≤ BO
The active portion of each superframe is divided into
aNumSuperframeSlots = 16 equally spaced slots and is
composed of three parts: a beacon, a Contention Access Period
(CAP) and a Contention Free Period (CFP). If SO < BO,
the active superframe portion is shorter compared to the BI,
allowing nodes to enter sleep mode.
A numerical analysis model for throughput estimation is
developed in this paper. As stated in the previous paragraph,
we assume there is no CFP period.
A. Two nodes transmission
Our analysis begins with the simplest scenario, where a
node transmits its data directly to the PAN coordinator. We
also assume equal BO and SO values greater than 4. In this
case, a node transmits its packets during a single time slot of
a superframe. If BO (and consequently SO) < 4, a node will
not complete its transmission during the current time slot and
should wait for the next superframe to complete transmission,
as indicated by the Medium Access Control (MAC) mech-
anism. Also in this analysis, there are no Guaranteed Time
Slots (GTS) during a superframe.
We assume that there are no other contending nodes to
gain channel access within the range of the sensor nodes.
The Backoff Exponent (BE) parameter is related to how many
backoff periods a device shall wait before attempting to assess
a channel. In the case of two transmitting nodes, it is limited to
its lowest value BE=3, due to low contention levels. Based on
the slotted CSMA/CA algorithm, the total duration of a frame
transmission is calculated as:
Ttot = (dBE + dfr + dLIF S + dtrn + dCW + dack) × Ts (1)
where
•
dBE : backoff period duration, in symbols
•
dfr : the duration of a frame transmission, in symbols
•
dLIF S : Interframe Spacing Time, the number of
symbols separating two successive frames,
•
dtrn : turnaround time, the number of symbols re-
quired to switch the RF transceiver from receive to
transmit mode in order to transmit an acknowledge-
ment,
•
dCW : time required for the necessary clear back-
off periods prior to the transmission. There are two
Contention Window (CW) slots, each of 20 symbols
length,
•
dack : transmission time required for an acknowledge-
ment frame, in symbols.
The 250 kbps data rate supported by the IEEE 802.15.4
standard are equivalent to 62.5
ksymbols
sec
. The duration of a
symbol, Ts equals to
1
62500 symbols
sec
= 0.016
ms
symbol
The maximum frame size is 133 bytes (102 bytes applica-
tion data + 25 bytes PHY overhead + 6 bytes MAC overhead).
dfr expressed in symbols is equal to:
dfr =
133 bytes
frame × 8 bits
byte
4
bits
symbol
= 266symbols
frame
(2)
As the number of symbols forming the basic time period
used by the CSMA/CA algorithm is 20 symbols, each time pe-
riod described below must be expressed as an integer multiple
of 20 symbols. dLIF S, dtrn, dCW and dack values are deﬁned
by the IEEE 802.15.4 standard.
Therefore,
•
dBE
=
(2BE-1)*aUnitBackoffPeriod,
where
aUnitBackoffPeriod is equal to 20 symbols
•
dack = 10 symbols. A total of 20 symbols are reserved
•
dLIF S = 40 symbols
•
dtrn = 12 symbols. As in tack 20 symbols occupied
•
dCW = 2*20=40 symbols
Based on the above estimations and (1), Ttot is equal to:
Ttot = (dBE + dfr + dack + dLIF S + dtrn + dCW ) × Ts
= 526symbols
frame × 0.016
ms
symbol = 0.008416
sec
frame
(3)
Subsequently, the chain throughput approximation is equal
to:
33
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-347-6
ICWMC 2014 : The Tenth International Conference on Wireless and Mobile Communications

S =
1
0.008416
sec
frame
= 118 frame
sec
× 133 bytes
frame × 8 bits
byte
(4)
Taking into account only the application payload, applica-
tion throughput is equal to:
Sap = 118 × 102 × 8 ≃ 96.29kbps
(5)
B. N-nodes chain analysis
When increasing chain size to three nodes, the second node
forwards packets received from the last (third), to the coordina-
tor. The absence of collisions maintains node contention low,
so the BE parameter is still limited to its lowest value BE =
3 for the ﬁrst two nodes of the chain. The PAN coordinator
is not involved in contention, as it only receives packets. The
number of symbols now required for a packet transmission is
twice the number of those involved in the two-node analysis,
i.e., 1052 symbols.
The successive packets of a single connection interfere with
each other as they move down the chain, forcing contention
in the MAC protocol. As node contention increases with
network size, the BE index increases as well. Contention
reaches maximum level when the chain consists of more than
3 sensor nodes. According to the slotted CSMA/CA algorithm
(shown in Fig. 2 [10]), the BE index reaches its maximum
value macMaxBE = 5.
Figure 2.
Slotted IEEE 802.15.4 CSMA/CA algorithm (from [10]).
An 802.15.4 node’s ability to send is affected by the
amount of competition it experiences. For example, node 3 in
a 7-node chain experiences interference from 4 other nodes,
while node 1 is interfered with by two other nodes. This means
that node 1 could actually inject more packets into the chain
than the subsequent nodes can forward. In the n-nodes chain
illustrated in Fig. 3, the last is the source and the ﬁrst is the
data sink. Packets travel along a chain of n-1 intermediate hops
until they reach their destination. For the ﬁrst transmission
between nodes n-1 and n-2 contention is low, thereby the BE
value is kept at its lowest value, i.e., 3. For the subsequent n-2
hops contention levels are higher since three or more nodes
potentially attempt to gain access to the channel at the same
time. Due to the increased contention levels, the BE index
maintains the macMaxBE value.
Subsequently, we proceed to the calculation of the through-
put equation. We assume a Constant Bit Rate (CBR) applica-
tion (to model the periodical sensor sampling) which transmits
packets of size k bytes (data payload). The frame size (send
by the PHY layer) is k + 33 (PHY + MAC overhead) bytes,
which is equal to:
(k + 33) bytes
frame ×
8 bits
byte
4
bits
symbol
= 2 × (k + 33)symbols
frame
(6)
The maximum backoff duration, dBE, depends on the
number of nodes forming the network. The remaining terms in
(1), i.e., dack, dLIF S, dtrn are constant. Based on the above
estimation and (4), data throughput can be approximated by
the following equation:
S =
1
Ttot
symbols
frame
62500 symbols
sec
×k bytes
frame ×8 bits
byte = 500× k
Ttot
kbps (7)
Figure 3.
Chain consisting of n sensor nodes.
In order to verify the accuracy of (7), we conduct a
number of simulations. Details on the simulated topologies and
corresponding results are presented in the following section.
III.
MODEL EVALUATION
Here, the ns-2 simulator is used to verify the accuracy and
scaling of the model already discussed. Nodes are conﬁgured
according to the IEEE 802.15.4 standard, operating at 2.4 GHz
with a maximum transmission rate of 250 kbps. The simulation
parameters are listed in Table I.
34
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-347-6
ICWMC 2014 : The Tenth International Conference on Wireless and Mobile Communications

TABLE I.
SIMULATION PARAMETERS
IEEE Standard
IEEE 802.15.4
MAC Protocol
Beacon Enabled CSMA - IEEE 802.15.4
Transmission range
20 m
Beacon Order - BO
7
Superframe Order - SO
7
Number of nodes
2 to 100
Application Type
Constant Bit Rate
Offered Trafﬁc Load
10 to 250 kbps
Packet Size
25, 50, 75, 100 bytes
Simulation time
200 sec
Application duration
50 sec
Bit Error Rate (BER)
perfect channel conditions (0)
The WSN topology consists of a sensor nodes chain of
increasing length from 2 to 10 nodes, forming a cluster net-
work of static nodes. Each node has an effective transmission
range of 20 meters (an interference range of 35 meters) and
is located 15 meters away from its immediate neighbors. All
nodes operate as Full Function Devices (FFDs), with the ﬁrst
one being the PAN coordinator and the last one serving as
the application client. The rest are relay nodes, forwarding
received packets from the client to the coordinator.
A CBR ﬂow is applied, running for 50 seconds, four
times for each topology, each time sending packets of different
size, i.e., 25, 50, 75 and 100 bytes. In the CYBERSENSORS
project, data wil be collected and forwarded periodically,
which makes the choise of CBR data model appropriate.
For each conﬁguration, the transmission data rate increases
from 10 to 250 kbps with steps of 10 kbps each. Prior to
the initiation of the CBR ﬂow and data collection, network
simulation runs for a time period of 150 seconds, necessary
to reach a stable state in terms of node synchronization and
association. Average throughput values are simulated for four
different packet sizes in Fig. 4.
Figure 4.
Average throughput (simulated) for a maximum chain length of 8
nodes.
Average throughput for the case of a three-nodes-chain
with payload 100 bytes per packet is 49.6 kbps. For the same
network size, when packet size is reduced to 25 bytes, the
corresponding value degrades to 21.46 kbps. Packet loss levels
not explicitly shown here follow the reverse gradient of the
curves in Fig. 4, since high throughput values correspond to
low packet losses.
Figures 5 and 6 present a comparison between throughput
calculated by the numerical analysis model in the previous
section and that obtained through simulations for different
network sizes and offered trafﬁc load. In both ﬁgures, the
deviation between corresponding lines varies from 0.023 to
3.179 kbps (minimum and maximum values, respectively),
with an average deviation value of 1.008 kbps.
2
3
4
5
6
7
8
9
10
0
10
20
30
40
50
60
70
80
90
100
Chain size (nodes)
Chain Throughput (Kbps)
 
 
Theoretical − 100 bytes
Simulation − 100 bytes
Theoretical − 75 bytes
Simulation − 75 bytes
Figure 5.
Theoretical vs simulated throughput achieved along a chain
of nodes, as a function of the chain length and packet sizes (100 and 75
bytes/packet) and a maximum chain size of 10 nodes.
2
3
4
5
6
7
8
9
10
0
10
20
30
40
50
60
70
Chain size (nodes)
Chain Throughput (Kbps)
 
 
Theoretical − 50 bytes
Simulation − 50 bytes
Theoretical − 25 bytes
Simulation − 25 bytes
Figure 6.
Theoretical vs simulated throughput for 50, 25 bytes/packet.
To evaluate the validity of (7) we also conduct simulations
on larger chains of nodes, consisting of up to 100 nodes.
Results are shown in Fig. 7 and 8.
10
20
30
40
50
60
70
80
90
100
0
1
2
3
4
5
6
7
8
Chain size (nodes)
Chain Throughput (Kbps)
 
 
Theoretical − 100 bytes
Simulation − 100 bytes
Theoretical − 75 bytes
Simulation − 75 bytes
Figure 7.
Theoretical vs simulated throughput for 100, 75 bytes/packet for
chains of up to 100 nodes.
As the number of nodes increases, the achieved throughput
tends to reach very low values. Packet size has a minimum
effect to the chain throughput. The proposed model provides
a close approximate to the simulated throughput.
To further examine the impact of conﬁguration parameters,
we conducted simulations for different BO=SO values, i.e.,
5, 6, 8 and 9. Results not presented here, show that there
35
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-347-6
ICWMC 2014 : The Tenth International Conference on Wireless and Mobile Communications

10
20
30
40
50
60
70
80
90
100
0
1
2
3
4
5
6
Chain size (nodes)
Chain Throughput (Kbps)
 
 
Theoretical − 50 bytes
Simulation − 50 bytes
Theoretical − 25 bytes
Simulation − 25 bytes
Figure 8.
Theoretical vs simulated throughput for 50, 25 bytes/packet.
are no signiﬁcant differences compared to those presented in
this paper. These conclusions further support the validity of
our model, since our analysis does not take into account the
duration of the active period of a superframe, declared by the
SO attribute. Simulation results match with theoretical values
even when SO < BO.
IV.
CONCLUSION
A key component of the integrated water management
system is the chemical sensors subsystem and its monitor-
ing capabilities. In this framework, we present a numerical
model for throughput estimation on a chain of IEEE 802.15.4-
compliant sensor nodes forming a cluster network. It provides a
useful tool within the scope of an integrated water management
project. The proposed numerical analysis and corresponding
results will be used for the design, deployment and manage-
ment of the chemical sensors module.
We evaluate our model through a series of simulations
in order to check its accuracy and scalability under differ-
ent packet and network sizes. The comparison between the
numerically estimated and simulation values shows that there
is a close match in the majority of the examined cases. This
approach scales well with respect to network and packet size.
ACKNOWLEDGMENT
This work is elaborated through an on-going THALES
project (CYBERSENSORS - High Frequency Monitoring Sys-
tem for Integrated Water Resources Management of Rivers).
The Project has been co-ﬁnanced by the European Union
(European Social Fund - ESF) and Greek national funds
through the Operational Program ”Education and Lifelong
Learning” of the National Strategic Reference Framework
(NSRF) - Research Funding Program: Thales. Investing in
knowledge society through the European Social Fund.
REFERENCES
[1]
D. N. Monekosso and P. Remagnino, “Data reconciliation in a smart
home sensor network,” Expert Syst. Appl., vol. 40, no. 8, Jun. 2013,
pp. 3248–3255.
[2]
J. Wu and H. Qin, “The design of wireless intelligent home system
base on zigbee,” in Communication Technology, 2008. ICCT 2008. 11th
IEEE International Conference on, Nov. 2008, pp. 73–76.
[3]
M. Idoudi, H. Elkhorchani, and K. Grayaa, “Performance evaluation of
wireless sensor networks based on zigbee technology in smart home,”
in Electrical Engineering and Software Applications (ICEESA), 2013
International Conference on, Mar. 2013, pp. 1–4.
[4]
D. Moraetis et al., “High-frequency monitoring for the identiﬁcation of
hydrological and bio-geochemical processes in a mediterranean river
basin,” Journal of Hydrology, vol. 389, no. 12, Jan. 2010, pp. 127 –
136.
[5]
Y. Kishino, Y. Sakurai, Y. Yanagisawa, T. Suyama, and F. Naya, “Svd-
based hierarchical data gathering for environmental monitoring,” in
Proceedings of the 2013 ACM Conference on Pervasive and Ubiquitous
Computing Adjunct Publication, ser. UbiComp ’13 Adjunct. New York,
NY, USA: ACM, Sep. 2013, pp. 9–12.
[6]
F. Fernandez-Luque, J. Zapata, and R. Ruiz, “A system for ubiquitous
fall monitoring at home via a wireless sensor network,” in Engineering
in Medicine and Biology Society (EMBC), 2010 Annual International
Conference of the IEEE, Aug. 2010, pp. 2246–2249.
[7]
J. Ko et al., “Wireless sensor networks for healthcare,” Proceedings of
the IEEE, vol. 98, no. 11, Nov. 2010, pp. 1947–1960.
[8]
H. Yan, H. Huo, Y. Xu, and M. Gidlund, “Wireless sensor network based
e-health system - implementation and experimental results,” Consumer
Electronics, IEEE Transactions on, vol. 56, no. 4, Nov. 2010, pp. 2288–
2295.
[9]
K. Moirogiorgou et al., “High frequency monitoring system for inte-
grated water resources management of rivers,” in Improving Efﬁciency
of Water Systems in a Changing natural and ﬁnancial Environment
(EWaS-MED International Conference), Thessaloniki, Greece, Apr.
2013, pp. 1–6.
[10]
“Ieee standard for local and metropolitan area networks–part 15.4: Low-
rate wireless personal area networks (lr-wpans),” IEEE Std 802.15.4-
2011 (Revision of IEEE Std 802.15.4-2006), 2011, pp. 1–314.
[11]
“Ieee standard for information technology– local and metropolitan area
networks– speciﬁc requirements– part 11: Wireless lan medium access
control (mac) and physical layer (phy) speciﬁcations amendment 8:
Ieee 802.11 wireless network management,” IEEE Std 802.11v-2011
(Amendment to IEEE Std 802.11-2007 as amended by IEEE Std
802.11k-2008, IEEE Std 802.11r-2008, IEEE Std 802.11y-2008, IEEE
Std 802.11w-2009, IEEE Std 802.11n-2009, IEEE Std 802.11p-2010,
and IEEE Std 802.11z-2010), 2011, pp. 1–433.
[12]
H. Holma and A. Toskala, HSDPA/HSUPA for UMTS.
John Wiley,
2006.
[13]
M. Kohvakka, M. Kuorilehto, M. H¨annik¨ainen, and T. D. H¨am¨al¨ainen,
“Performance analysis of ieee 802.15.4 and zigbee for large-scale
wireless sensor network applications,” in Proceedings of the 3rd ACM
International Workshop on Performance Evaluation of Wireless Ad Hoc,
Sensor and Ubiquitous Networks, ser. PE-WASUN ’06.
New York,
NY, USA: ACM, Oct. 2006, pp. 48–57.
[14]
C. K. Singh, A. Kumar, and P. M. Ameer, “Performance evaluation of
an ieee 802.15.4 sensor network with a star topology,” Wirel. Netw.,
vol. 14, no. 4, Aug. 2008, pp. 543–568.
[15]
http://www.isi.edu/nsnam/ns/.
[16]
F. Gebali, Analysis of Computer and Communication Networks.
Springer US, 2008.
[17]
P. Di Marco, P. Park, C. Fischione, and K. Johansson, “Analytical
modelling of ieee 802.15.4 for multi-hop networks with heterogeneous
trafﬁc and hidden terminals,” in Global Telecommunications Conference
(GLOBECOM 2010), 2010 IEEE, Dec. 2010, pp. 1–6.
[18]
Y. Liu and Y. Jiang, Stochastic Network Calculus.
London, UK:
Springer, 2008.
[19]
J.-Y. Le Boudec and P. Thiran, Network Calculus: A Theory of
Deterministic Queuing Systems for the Internet.
Berlin, Heidelberg:
Springer-Verlag, 2001.
[20]
A. Koubaa, M. Alves, and E. Tovar, “Modeling and worst-case dimen-
sioning of cluster-tree wireless sensor networks,” in Real-Time Systems
Symposium, 2006. RTSS ’06. 27th IEEE International, Dec. 2006, pp.
412–421.
36
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-347-6
ICWMC 2014 : The Tenth International Conference on Wireless and Mobile Communications

