Vehicle Speed Estimation using Wireless Sensor Network 
  
Muhammad Saqib, Sultan Daud Khan, Saleh Mohammad Basalamah 
                                                               Department of Computer Engineering 
Umm ul Qura University, Mecca, Saudi Arabia 
{msskhan, sgkhan, smbasalamah}@uqu.edu.sa 
 
 
Abstract—A real time locating system automatically tracks and 
localizes people and objects. We propose a model for the speed 
monitoring of vehicles using wireless sensor network-based on 
real-time localization. Our model is based on symmetric double 
sided two way ranging algorithm which has the ability to zeros 
out the effect of clock drifts between transmitter and receiver. 
In our model two anchor nodes are used as road side units at 
fixed locations and heights and moving vehicle is equipped 
with on board unit called a tag. Collected data from tag is used 
to calculate the speed of the vehicle at the base station. Several 
experiments are done to evaluate the performance of the 
proposed model at different sampling intervals of time by 
moving the vehicle at different speeds. Due to the noisy nature 
of collected data, discrete Kalman filter is used for better 
estimation of the speed of the vehicle. We have compared the 
true values of speed with measured values and estimated 
values. Experimental results show that the estimated values 
became close to the true values by applying Kalman filter. 
Keywords-SDS-TWR; Kalman filter; Traffic monitoring.   
I. 
INTRODUCTION  
      Due to advancements in electronics sensor nodes 
become smaller and cheaper, while advancements in 
communication technology made the sensor node to 
communicate in a better way; for that several efficient 
protocols and algorithms have been developed [1]. These 
tiny sensor nodes are working together to make a wireless 
sensor network. Wireless sensor networks can be used 
efficiently in several applications like home automation, 
industrial 
control, 
military 
and 
health. 
Real-time 
localization is one such important application of wireless 
sensor network to locate objects. 
       In monitoring and surveillance applications, if the 
position of the reporting node is not known, the 
information we obtained is not useful information. Several 
nodes are deployed with known locations information; 
such nodes are called anchor nodes. Other nodes, which do 
not know their position information, are called blind 
nodes. Anchor nodes are used to locate blind nodes by 
using different localization algorithms. Ranging is the 
process to determine the distance between an anchor node 
and blind node. The distance is fed to localization 
algorithm 
to 
find 
the 
resultant 
location. 
Traffic 
surveillance is an important system which monitors the 
speed and traffic density. This information is useful for 
law enforcement agencies, to have a check on an over 
speeding vehicles, and also useful for transportation 
agencies to make transportation more intelligent by 
avoiding rush conditions.  
      In our paper, a system model is proposed for traffic 
monitoring using wireless sensor network. Traditionally, 
there are several techniques for traffic monitoring like 
inductive loops detectors and speed cameras. Inductive 
loops are installed in pairs in a travel lane for direct speed 
measurement. However, most of the time single loop 
detectors are used which cannot measure speed directly; 
estimation is used for such measurements [2]. Single loop 
speed estimation can be broadly divided into two types: (1) 
g-factor approach, and (2) stochastic filtering approach [2]. 
In g-filtering measured occupancy and volume is used to 
know the speed of vehicle while in stochastic approach 
Kalman filter is used for estimation of speed. Video 
systems used for traffic monitoring generally involves two 
tasks (1) Estimation of road geometry (2) Vehicle 
detection. Measurement taken by such system is then 
matched with the assumed road or vehicle model to 
determine vehicle speed and position. Such system must 
have low processing time, cost and high reliability which 
are difficult to get because of the high computationally 
expensive process like segmentation. Wu et al. [5] present 
a new algorithm that takes advantage of the digital image 
processing and camera optics to automatically and 
accurately detect vehicle speed in real-time. In [6], the 
algorithm is based on WSNs, which work according to the 
characteristics of the actual traffic stream, an on-road 
speed estimation model and algorithm based on wireless 
magnetic sensor networks was researched. In this model, 3 
sensor nodes were working together to estimate the speed 
of passing vehicle. Totally different approach is followed 
in [8], which uses acoustic wave pattern to estimate 
vehicle speed. The acoustic wave pattern is determined 
using the vehicle’s speed, the Doppler shift factor, the 
sensor’s distance to the vehicle’s closest-point-of-
approach, and three envelope shape (ES) components, 
which approximate the shape variations of the received 
signal’s power envelope. 
      In this paper, we propose a different approach from 
vision based systems. Our proposed system is based on a 
wireless sensor network, in which a vehicle equipped with 
98
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

on-board unit tag is continuously monitored by fixed 
access points. Our system is simple and inexpensive 
system, which can be further enhanced to include many 
other functionalities. 
      The rest of the paper is organized as follows; Section II 
describes the symmetric double sided two way ranging 
algorithm. Section III gives the proposed system model and 
discrete kalman filter design. Experimental results and 
discussion are given in Section IV. Section V discusses 
conclusion and future work. 
II. 
    SYMMETRIC DOUBLE SIDED TWO WAY RANGING 
(SDS-TWR) 
      Ranging is the most fundamental technology used in 
Real 
Time 
Locating 
Systems 
(RTLS). 
Nanotron 
Technologies developed SDS-TWR, which finds the 
distance between two nodes by measuring RToF 
symmetrically from both sides [4]. In some ranging 
systems, fine quality of clock generating crystal is required 
for measuring distance between two nodes. However, a 
cheaper way is that transmitter node calculates the round 
trip time to receiver node. Similarly, the receiver node 
calculates round trip time to transmitter node, and the 
resultant is average of two round trip times. The 
symmetric and double sided nature of transmissions, zero 
out the effect of clock drifts between transmitter and 
receiver even using the cheap oscillator on both sides.  
       In SDS-TWR, measurement of time starts at node A 
by sending a ranging request to node B, as shown in Fig.1. 
Node B starts its time measurement by receiving the 
packet from node A, and stops when it sends a reply to 
node A. Node A calculates the round trip time from the 
accumulated time in the received packet from node B. The 
difference between the measured time by node A minus 
the measured time by node B, equals to the twice of the 
time of signal propagation. Similarly, in the second 
measurement at node B, which sends ranging request to 
node A and starts its time measurement. Node A starts its 
time measurement, when it receives the packet, and stops, 
when it replies with a packet to Node B. Propagation time 
tp is given by equation (1). 
 
4
roundA
replyA
roundB
replyB
p
t
t
t
t
t
−
+
−
=
                         (1) 
 
 
III. 
PROPOSED SYSTEM MODEL AND DISCRETE KALMAN 
FILTER  DESIGN 
In our proposed system for traffic monitoring, two anchor 
nodes with known locations and at known heights H, are 
used. Anchor nodes are called road-side units (Access 
Points), which are denoted by anchor1 (AP1) and anchor2 
(AP2). 
 
Figure 1.  Symmetric Double Sided Two Way Ranging 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Moving vehicle is equipped with on-board unit called tag, 
which is communicating with both anchors, and also with 
base station. The base station is used to collect data from the 
tag, and calculates its position and velocity. Total distance 
between two anchor nodes is measured manually, denoted 
by L. At any moment, the distance traveled by moving 
vehicle is denoted by L-x, where x is the traveled distance. 
Ranging distance between AP1 and tag is denoted by d1 and 
between AP2 and tag is given by d2, where d1 and  d2 are 
real distances and can be calculated as, 
 
d1  	d
  H                                                 (2) 
 
 d2  	d
  H                                                 (3) 
 
          x   


 

                                                   (4)          
        
       y  	d1    x                                           (5) 
 
 
First time reading:       (x1,y1),t1 
 
 
Figure 2. Proposed Model 
 
99
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

Second time reading:  (x2,y2),t2 
 
            	(  
) + (  
)
(  
)

 
where x and y are the coordinates of the moving vehicle and 
v is the resultant speed of the vehicle. Our proposed system 
is a linear dynamic system. Kalman filter is used to get a 
better estimation out of noisy measured data [7].  
The Kalman filtering process can be divided into the 
following steps. 
Step 1: State Equation of the linear dynamics system is 
given below. 
 X!
"AX! + Γu! + W!                                  (6) 
                        
      ()
*+!
  (
   ,
-   
+()
*+! + .,/
, 0 u! + W!         (7) 
                        
Where Position is given by 
           x!
" x! +  T. v! +
,
 u! + w!.)              (8) 
 
Velocity is given by                     
 v!
" v! +  T. u! + w! .*                             (9) 
 
w!~N (0, Q!),  where wk is process noise with zero mean 
and Qk covariance (in our experiment, it is acceleration 
uncertainty). A and Γ are transition matrices. T is sampling 
interval, and Uk is constant input to the system. 
Step 2: Measurement equation 
 
                           Y! = CX! + Z!                                           (10)   
     
Z!~N (0, R!), where Zk is the measurement noise with zero 
mean and Rk covariance. Measurement noise mainly occurs 
due to instrumentation errors, while C represents the 
transition matrix. 
Step 3: A priori error covariance and Kalman gain are given 
in “(11)” and “(12)” respectively. Where AB Cis the initial 
estimation covariance.  
 
     Pk+1
FFFFF = GABCGH + ΓICΓT                           (11) 
 
      K!
 = P!
FFFFFFC,(CP!
FFFFFFC, + R!
)
       (12) 
 
Step 4: A posteriori state estimate 
 
   (xB
vK+k+1 =  (xF
vL+k +  Kk MYk+1 − C(xF
vL+kN                      (13) 
 
Velocity and position after estimation are shown in “(13)”. 
 
 Figure 3. Redesigned module with added Power Amplifier (20mmx50mm) 
 
IV. 
EXPERIMENTAL RESULTS AND DISCUSSION 
      Performance of the proposed system model is 
evaluated using nanoLOC TRX Transceiver by Nanotron 
Technologies [4]. We have redesigned the hardware 
module by adding a power amplifier to it, as shown in 
Fig.3. The module contains ATMEGA 644 (1), NanoLOC 
(2), power amplifier (3), and chip antenna (4). NanoLOC 
TRX transceiver is used for base station, AP1, AP2, and 
tag operating in ISM 2.4 GHz frequency band. Proposed 
system model is evaluated by driving a car equipped with 
on-board 
unit 
(tag) 
at 
different 
speeds, 
e.g., 
20,40,60,80,100,120 km/hr between two APs. During 
each experiment, the vehicle was moved at a constant 
velocity. Experimental results are corrupted by noises. 
There are two noises to cater for. 
• 
Process noise: The velocity is perturbed by noise due 
to gusts of wind, potholes. 
• 
Measurement noise: Measurement noise is mainly 
due to instrumentation errors. 
      Kalman filter exploits the predictable nature of the 
uncertainty or noise in the signal to optimize the estimation, 
based on the prediction of the model as well as updates from 
the measurements. Several parameters of the model are the 
following. 
• 
Operating range of each device is (400m-700m). 
• 
Height of rod at which AP1 and AP2 are installed is 
9.5m. 
• 
Total distance between  AP1 and  AP2  is denoted by 
L=356m.  
• 
Several parameters required for kalman filter to 
work properly are process and measurement noises, 
which 
are 
obtained 
by 
carefully 
observing 
experimental and actual data. 
• 
Process 
noise= 
4m/sec2, 
and 
measurement 
noise=5m. 
 
 
100
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

 
Figure 4. Speed of the vehicle at 120 Km/hr. 
 
      In Fig.4, the speed of the vehicle moving with constant 
speed of 120 km/hr is monitored. A solid blue line indicates 
the true speed of the vehicle, which is kept constant between 
two AP’s. True speed of the vehicle is given by the vehicle 
speed meter. The experimental data obtained from the 
sensors are shown by the blue dotted line in the graphs, 
which are corrupted by noises. Deviation from the true 
speed can easily be seen in the graphs. It is difficult to 
maintain constant speed between two APs, which may also 
be the source of noise in experimental data. Noises are in 
the form of acceleration uncertainty. Kalman filter is used 
on experimental data for estimation, which is shown by the 
red line in Fig.4. Estimated results are closer to the true 
speed of the vehicle. Results show that tuning of kalman 
filter is required to obtain best results out of corrupted data. 
      Experimental data are taken at different sampling 
intervals of times, e.g., 90ms, 450ms. Performance is 
evaluated by comparing the measured data with true data 
and estimated data from a kalman  filter. 
      In Fig.6, when the vehicle is moving with the lower 
speeds, e.g., 40 km/hr, then measurement and estimated 
results are closer to the true results, but at higher speeds, 
experimental data are more prone to noise and error. 
 
 
Figure 4. Speed of  the Vehicle at 100 Km/hr. 
 
 
Figure 5. Speed of the Vehicle at 60 Km/hr. 
 
 
         Figure 6. Speed of  the Vehicle at 40 Km/hr. 
V. 
CONCLUSION AND FUTURE WORK 
 
      In this paper, model for traffic monitoring system 
using a wireless sensor network has been proposed, and 
practically evaluated using Nanotron sensor boards. In the 
proposed model, whenever the moving vehicle with tag 
appears in between two anchor nodes, its position and 
velocity are determined and displayed on the base station. 
Kalman filter is used for better estimation. The proposed 
model has several advantages over existing systems; it is 
more robust and requires less computation than existing 
systems with expensive cameras. Model is evaluated for 
single vehicle, but it can be easily extended for many 
vehicles. 
REFERENCES 
[1] Akyildiz, I. F., Su, W., Sankarasubramaniam, Y., and Cayirci, 
E., "Wireless 
Sensor 
Networks: 
A 
Survey", Computer 
Networks (Elsevier) Journal, vol. 38, no. 4, pp. 393-422, 
March 2002. 
0
50
100
150
60
80
100
120
140
160
180
No of samples
Velocity(km/hr)
Velocity Measured,Estimated and True values
 
 
Velocity(Km/hr)
Estimated velocity(Km/hr)
True speed(Km/hr)
0
50
100
150
40
60
80
100
120
140
No of samples
Velocity(km/hr)
Velocity Measured,Estimated and True values
 
 
Velocity(Km/hr)
Estimated velocity(Km/hr)
True speed(Km/hr)
0
50
100
150
20
30
40
50
60
70
80
90
100
110
No of samples
Velocity(km/hr)
Velocity Measured,Estimated and True values
 
 
Velocity(Km/hr)
Estimated velocity(Km/hr)
True speed(Km/hr)
0
50
100
150
10
20
30
40
50
60
70
80
90
No of samples
Velocity(km/hr)
Velocity Measured,Estimated and True values
 
 
Velocity(Km/hr)
Estimated velocity(Km/hr)
True speed(Km/hr)
101
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

[2] Jianhua Guo, Jingxin Xia, Brian and L.Smith, “Kalman filter 
approach to speed estimation using single loop detector 
measurement under congested conditions” J. Transp. Engrg. 
Volume 135, Issue 12, pp. 927-934, December 2009. 
[3] V. Kastrinaki, M. Zervakis, K. Kalaitzakis, “A survey of 
video processing techniques for traffic applications” Image 
and Vision Computing, Volume 21, Number 4, April 2003, 
pp. 359-381(23). 
[4] http://www.nanotron.com/EN/pdf/WP_RTLS.pdf 
[5] Jianping Wu, Zhaobin Liu, Jinxiang Li, Caidong Gu, Maoxin 
Si, “An Algorithm for Automatic Vehicle Speed Detection 
using Video Camera” Proceedings of 2009 4th International 
Conference on Computer Science & Education. 
[6] Ding Nan, Tan Guozhen, Ma Honglian, Lin Mingwen, and 
Shang 
Yao, 
“Low-power 
Vehicle 
Speed 
Estimation 
Algorithm based on WSN” Proceedings of the 11th 
International IEEE Conference on Intelligent Transportation 
Systems Beijing, China, October 12-15, 2008. 
[7] G. Welch and G. Bishop, “An Introduction to the Kalman 
filter” Technical Report TR 95-041, Computer Science, UNC 
Chapel Hill, 1995. 
[8] Volkan Cevher, Rama Chellappa and James H. McClellan, 
“Vehicle Speed Estimation Using Acoustic Wave Patterns” 
IEEE Transactions on Signal Processing, vol. 57,Jan 2009. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
102
INFOCOMP 2011 : The First International Conference on Advanced Communications and Computation
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-161-8

