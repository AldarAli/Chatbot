Lightwave Robot Positioning based on Composite Codes Acquisition and
Evolutionary Computations
Chun-Chieh Liu, Cheng Jhe-Ren, Jen-Fa Huang
Advanced Optoelectronic Technology Center,
Institute of Computer and Communications Engineering,
Department of Electrical Engineering,
National Cheng Kung University, Tainan, Taiwan.
email: {Q38021115@mail.tut.edu.tw; huajf@ee.ncku.edu.tw; Q36041402@mail.ncku.edu.tw}
Abstract—Lightwave robot positioning with composite codes
acquisition is investigated in this paper. The indoor robot
positioning
system was
previously
examined
with
single
Pseudo-Noise (PN) signal sequence. In views of correlation
acquisition, the longer the code acquisition time, the longer the
path estimation distance, and the worse the robot positioning
accuracy. Under comparable period lengths, acquisition time
for composite PN codes can be shorter than that of pure PN
codes, thus can largely enhance the robot positioning accuracy.
In
the
devised
system
configuration,
three
transmitters
continuously send out their light coding signals to the robot
receiver. The robot evaluates its current position by measuring
time difference of arrival (TDOA) among the three paths.
Memetic algorithms (MA) can then be used with the measured
TDOAs to obtain a more accurate robot location. Finally, we
provide
a
general
analysis
of
the
relationship
between
correlation value and robots position.
Keywords- M-sequences; Parallel codes acquisition; Time
difference of arrival (TDOA); Memetic algorithms (MA) .
I.
INTRODUCTION
With the mature technology, the functionality of robots is
more and more complex. For example, different service
types of robots, such as the navigation robot, the cleaning
robot, etc. need to move around when they execute their
tasks. Therefore, the accuracy of positioning is very
important, and the error of measurements between robot and
sensor
must
be
solved.
For
example,
the
multipath
propagation is caused by interference, because the light is
transmitted
in
all
directions.
As
a
result,
multipath
propagation will occur when the light collides with obstacles.
Transmitting signals may be cut by obstacles so that a longer
distance and a large time delay are produced. Time of
Arrival (TOA) [1][2] and Time Difference of Arrival
(TDOA) [3][4] in positioning are easily influenced by errors
so that the positioning accuracy is reduced.
We need to improve indoor lightwave positioning
accuracy, so the robot object can be more precisely
positioned, and capture light signals in the process. How to
confirm the capture of light signals to the correct sources and
reduce errors is the most important issue to study.
Several previous works have used the coding techniques
of the light signal to determine the robot position, using
Pseudo-Noise
sequences
(PN
sequences)
[5][6],
Gold
sequences
[7],
Loosely
Synchronous
sequences
(LS
sequences) [8], Golay codes [9] and Barker codes [10].
This paper proposes a new coding scheme of Composite
Pseudo-Noise code sequences [11], which uses composite
codes to encode the transmission signals. We constructed
indoor light positioning based on Direct Sequence Spread
Spectrum (DSSS) system, and a different orthogonal code is
assigned to every transceiver. Using composite codes, we
can determine the approximate position of a robot by
hyperbolic triangulation of the distance obtained from the
measurement of the difference in TDOA between
a
transceiver and the others. By using composite codes
acquisition [12], we analyze the accuracy of the positioning
and
expect
to
improve
the
accuracy
of
the
indoor
positioning systems. We utilize Memetic algorithm (MA) to
look for the absolute position of the object.
MA, which is similar to Genetic algorithm (GA), is also
called Genetic algorithm combined with local search. The
speed and changes of cultural evolution are more dramatic
and alarming than the biological evolution, such as the basic
structure of the genetic algorithm, generated populations
carry out crossover and mutation to produce offspring.
Differently from GA, the information of the previous
generation is passed to the next generation, and this
operation is called local search [13]. Local search finds local
optimum values among the offspring, and the value of the
global optimum is searched from all local optima. The
proposed method is a wireless communication positioning
system to reach the goal of improving positioning accuracy.
In this paper, we combine the positioning method with
MA to estimate the location of MS. The code acquisition is
described in Section II and how MA works is discussed in
Section III. The compared correlation value and the robot are
described in Section IV. Section V presents our conclusion.
II.
ROBOT POSITIONING SYSTEM ARCHITECTURE
Figure 1 depicts a conceptual schematic of the proposed
indoor robot positioning system. The reason we use light
instead of other signals is for making use of LED to realize
the positioning of the robots. Because the place is too small,
we choose suitable chips rate for indoor positioning of
11
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

robots. Take as comparative numerical figures for the high or
low modulation rates. With 21-chip lengths per code frame
and suppose 5-frames time is needed to confirm code
acquisition. On using RF chips rate of 2000-kHz (2x106
chips/sec), the estimated object distance will be 21x5/2x106
= 5x10-5m. This figure is hardly distinguishable on the robot
distance to the transceiver. We make the chips rate the same
as ultrasonic, 20-Hz (20 chips/sec), the same code length and
acquisition frame will yield an estimated object distance of
21x5/20 = 5m. This figure is something acceptable. In
practice,
acquisition
chips
period
length
in
mobile
positioning can reach up to
213-1 = 8191 chips per frame to
yield a distinguishable object distance.
Figure 1. Overview of the indoor positioning system.
In the robot receiver, so as to calculate the distance
from each transceiver, the robot needs to separate the
incoming signals from different transceivers. The robot
bears the same signal carrier wave and composite code
sequences as those of the transceiver signals, which are
called the replica signals. When correlating the received
code signals with local replica signals, the robot can
separate correlation peaks for the matched transceiver code
from correlation nulls for the unmatched ones. This
procedure for correlation detection of code signals is called
code acquisition.
A.
Code acquisition with correlation detection
In the code acquisition, we note that the correlation
characterizations of the assigned composite codes are related
to their code weights. If code vectors TiC1(X) and TjC2(X)
have the respective code weights w1 and w2, then composite
code C(i,j)(X) = TiC1(X) ⊕TjC2(X) possesses the following
code weights
ܹ(ܥ(௜,௝))= ݓଵ(݊ଶ − ݓଶ) + ݓଶ(݊ଵ − ݓଵ)
(1)
=
⎩⎪⎨
⎪⎧
௡భ(௡మାଵ)
ଶ
,                ݂݅ ݓଵ = 0,   ݓଶ = (݊ଶ + 1)/2.
௡మ(௡భାଵ)
ଶ
,               ݂݅ ݓଵ = (݊ଵ + 1)/2,   ݓଶ = 0.
(௡భ௡మିଵ)
ଶ
,   ݂݅ ݓଵ = (݊ଵ + 1)/2,   ݓଶ = (݊ଶ + 1)/2.
(2)
Here, we have taken advantage that a binary (nl =2ml-1,
kl = ml) M-sequence code has all of its nl nonzero code
vectors
the
same
code
weight
of
(nl+1)/2
=
2ml-1.
Corresponding to the weight distribution of (2), the periodic
correlation between composite codesܥ௨
(௜ೠ,௝ೠ) andܥ௩
(௜ೡ,௝ೡ)
can be derived to be
ߠ௨,௩ = ቐ
ቀ
௡భ௡మିଵ
ଶ
ቁ , ݂݅ ݑ=ݒ
ቀ
௡భ௡మି௡మିଶ
ସ
ቁ , ቀ
௡భ௡మି௡భିଶ
ସ
ቁ , ቀ
௡భ௡మିଵ
ସ
ቁ , ݂݅ ݑ≠ݒ
(3)
From the correlation distribution of (3), we see that
correlations between reference transceiver and interfering
transceivers can be separated by the correlation operation to
track the desired transceiver sequences.
The robot positioning block chart for acquiring signal
codes and estimating their flight time is shown in Figure 2.
Figure 2 depicts every transceiver performed light signal
modulation with assigned signature code, and emits this
light signal continuously. Once the signal is received by the
robot, the receiver turns the signal from analog to digital,
and demodulates it into a corresponding code sequence.
Since the receiver needs to identify the intended sequence
code among all received signals, the demodulated code
sequence is connected to three parallel correlators to
calculate each assigned code. The output correlation passes
through a peak detector to estimate the time of flight from
transceiver to the robot. The robot then evaluates its current
position by measuring TDOA from the three transceiver
paths.
Figure 2. Block chart for robot positioning system.
With regard to the block diagram of Figure 2 for robot
positioning system, we will give detailed descriptions on
codes correlation acquisition/detection,
acquisition
time
difference and time error, and relative distance/locations
determination of robot object in the following subsections.
B.
Code acquisition time difference and time error
A flow chart for the above composite codes correlation
acquisition processes is shown in Figure 3. For the purpose
of finding relative code sequences, the parallel correlator
12
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

uses a local replica code sequence to perform correlation
computations. Next, the system determines whether the
correlation results are the peak of interval ni=3 or nj=7. If the
correlation results meet the peak of interval ni=3 or nj=7, the
system will immediately determine whether the correlation
results meet the common peaks of interval nij=21, and
confirm the code sequence. These results, which do not meet
the correlation peaks. will advance chips and then perform
correlation computations again. And these results, which
meet the correlation peak will execute the two steps. One
step is estimating the time error of code acquisition, and the
other is estimating the time of flight.
Figure 3. Flow chart for PN codes’ correlation acquisition processes.
On estimating the flight time of coding signals, we note
that the distance estimation between transmitters and the
mobile robot is based on the cross-correlation method.
Through the cross-correlation method, the robot calculates
the number of frame peaks between the local replica
sequence and the transmission sequence, and then offer robot
to estimate the distance of transmitters. The information of
the distance of transmitters will further perform optimization
algorithms to obtain the absolute location of the robot.
C.
Determine the position of the robot receiver
In order to obtain the position of the robot, the range
measurement is acquired by TDOA of the light signals of
the transceivers. In the TDOA scheme, the system locates a
receiver by processing signal arrival-time measurements at
three or more transmitters. Instead of the absolute arrival
time, TDOA determines the relative difference on distance
by measuring the difference in arrival time at any two
transmitters. Each TDOA measurement can be regarded as a
hyperboloid curve, and the receiver location must lie on this
hyperbola.
Since there are more than two TDOA measurements,
at least two hyperbolas can be drawn. Hence, the receiver
location is at the intersection of the hyperbolas. Generally
speaking,
any
two
transmitters
produce
a
hyperbola.
Therefore, to get the intersection as the receiver location, it
is required that more than three transmitters be detected.
The TDOA will be biased by the time error of code
acquisition that can degrade the positioning estimate.
Therefore, the time error of code acquisition needs to be
included in the calculation.
In this paper, we determine the receiver location by
utilizing the intersection of the two hyperbolas in 2D
environments, where r1, r2 and r3 are the estimated values of
the time of flight that we obtain from the number of frame
peak between local code and received sequence. And then,
once we get these estimated values, we take these values to
subtract with each other to obtain the values ∆T12, ∆T13 and
∆T23. These values will substitute into (4) to solve the
TDOA equation.
r1 – r2 = ∆T12, r1 – r3 = ∆T13, r2 – r3 = ∆T23,
 ݀௜௝ = c ∗ ൫∆ܶ௜௝ + ݁௜௝൯, ݅ ≠ ݆
= ඥ(ݔ௜−ݔ)ଶ + (ݕ௜−ݕ)ଶ − ට൫ݔ௝−ݔ൯
ଶ + ൫ݕ௝−ݕ൯
ଶ
(4)
where (x, y) is the real position of mobile robot while (xi, yi)
and (xj, yj) are respectively the estimated position of robot
receiver to the i-th and the j-th indoor transmitter, i, j = 1, 2,
3. The term dij are the value of TDOA; c is the ultrasonic
wave speed; ∆Tij is time difference measured by code
acquisitions; and eij is the value of the time error of code
acquisition to subtract with each other. The equations above
represent hyperbolas, and
their intersection gives the
estimated positioning of the receiver. The area is enclosed
with hyperbola represented the possible position of the
receiver.
III.
EVOLUTIONARY COMPUTATION MEMETIC
ALGORITHM
MA is motivated by Dawkin’s notion of a meme. Meme
as a unit of information is processed on behalf of the
evolution of culture. Instead of genes, the elements of MA
are called memes. It is used to include an extensive class of
metaheuristics, such as combing evolutionary algorithms
13
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

with local search. In the unique viewpoint of MA, all
individuals of offspring desired the information from the
previous generation by local search [14]. MA reduces the
probability of divergence and computation complexity. It
combines the power and superiority of genetic algorithm
and local search at the same time. Similar to the GAs, MA
also needs the evolution mechanisms such as reproduction,
crossover and mutation, as shown in Figure 4. The
following steps describe the processes of MA approach.
Figure 4. The flow diagram of Memetic Algorithm.
Step 1: Encoding:
To make evolution more convenient, the optimization
parameters are always transformed to the binary sequences.
The straight binary algorithm transforms the real numbers to
the binary bits in this step. The range of real number and the
bit length should be defined. For example, a variable is
ranging from 0 to 10, and the bit length is 3. The range of
real numbers is assigned to each code uniformly. By
utilizing the coding schemes, the real numbers of horizontal
coordinate is transformed to the binary sequence. Each
binary sequence represents as a different individual.
Step 2: Initial Population:
After encoding, the individual is represented as a bit
sequence. The first generation is generated through the
random bit string generator from the overlap of three circles.
Step 3: Reproduction:
Based on comparing the object function value, a new
population of individuals is generated by the selecting
schemes. Individuals with better performance based on
object function have a higher chance of being selected for
the next generation.
Step 4: Crossover and Mutation:
Crossover and mutation operators are applied, similar
to GA. These schemes are designed to promote the
performance
of
individual’s
multiplicity.
Especially,
individuals avoid trapping in the local optimum of the
object function by mutation in MA.
Step 5: Local Search:
In MA, local search is an important step. The mission
of local search in MA is to search the optimum solution
efficiently. By searching the neighbor individuals, the initial
coordinate is changed to the neighbor coordinate with better
performance. In local search, each individual is tuned by
changing bits near the tail of the sequence to constrain the
local
search
range.
It
ensures
that
the
local
search
individuals are close to the original one, as shown in Fig. 5.
Most of existing MA uses some local search procedures to
generate
solutions
discovered
from
the
neighbors
of
offspring individuals [15]. It helps to generate a better
individual with lower object function value. Local search is
applied on all the offspring individuals in every generation.
A local search procedure is implemented on top K neighbor
individuals, where K is the number of individuals that we
will search.
The number of neighbor individuals is also affected by
the local search range d, whose units depend on the number
of bits. Local search range means the number of tuned bits.
The end of bits is changed preferentially. Different searched
bits are also discussed, and the searched bits are less than
two in this paper. With increasing the local search bits d, the
number of searching neighborhoods K is also increasing.
Figure 5. The local search procedure by comparing with
neighborhoods.
Local
search
is
applied
for
searching
a
better
individual near each offspring individual. S is defined as the
old individual, which is the offspring individual after the
crossover and mutation step in Figure 5. We apply and
discuss three different methods of local search sequentially.
14
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

IV.
SIMULATION
We consider the problem of indoor positioning using
TDOA measurements and utilize MA algorithm to improve
the
positioning
accuracy
in
2D
environment.
In
the
following, we analyze how the correlation value will be
affected by the position of the robot.
(a)
(b)
Figure 6. The possible position of robot. (a). Possible position #1. (b).
Possible position #2.
(a).
(b).
Figure 7. The correlation value. (a). for the possible position #1; (b).
for the possible position #2.
Figure 6 (a) is a possible robot position and the matched
correlation value is base station 1 in Figure 7 (a). The same
discussion applies for the possible position #2 in Figure 8
(b). Figures 6 and 7 represent robot position makes the
correlation value difference. Also, we describe the situation
of correlation value and illustrate the different between two
possible positions of robot.
IV.
CONCLUSIONS AND FUTURE WORK
We have proposed a composite code acquisition to
implement indoor lightwave robot positioning based on
DSSS system. Each transceiver is modulated the light signal
with a 3×7 bits composite code, which has a particular
auto-correlation and cross-correlation in a cycle. By using
code acquisition, the robot receiver detects the arrival time of
codes and the error time of code acquisition, and the robot
will use information to determine its absolute location.
Through comparing with traditional M-sequence code,
we find that composite codes have more advantages. First,
the code length is more flexible, it is not limited by 2m-1.
Second, other robot users are difficult to acquire the location
of the designated robot because the code combination is
more complex. Third, with the same location distance, the
positioning accuracy and the error time of code acquisition
of composite coding is more precise than the conventional
M-sequence coding. In this paper, we used a location
algorithm based on MA to determine the location of MS. We
also improve the positioning accuracy by memetic algorithm.
V.
REFERENCE
[1]
P. C. Chen, “A non-line-of-sight error mitigation algorithm
in
location
estimation,”
Proc.
IEEE
Wireless
Communications and Networking Conference, vol. 1, pp.
316-320, Sept. 1999.
[2]
S. Al-Jazzar, J. Caffery, and H.-R. You, “A scattering model
based approach to NLOS mitigation in TOA location
systems,” Proc. IEEE Vehicular Technology Conference,
vol. 2, pp. 861-865, May 2002.
[3]
M. Aatique, “Evaluation of TDOA Techniques for Position
Location in CDMA Systems,” Thesis,
Available:http://scholar.lib.vt.edu/theses/available/etd-8259
7-03345/ unrestricted/aatique.pdf.
[4]
S.
Kim;
J.
Lee;
M.
Yoo;
Y.
Shin,
“An
improved
TDoA-based
tracking
algorithm
in
mobile-WiMAX
systems,” 20th IEEE International Symposium on Personal,
Indoor and Mobile Radio Communications, pp. 561-565,
Sept. 13-16, 2009.
[5]
J. Klaus-Werner, B. Markus, “Using Pseudo-random Codes
for Mobile Robot Sonar Sensing,” IAV'98, Madrid, Spain;
pp. 231-236, March 25-27, 1998.
[6]
H. Andrew, K. Lindsay, “A Sonar Sensing with Random
Double Pulse Coding,” Australian Conference on Robotics
and Automation,” pp. 81-86, Melbourne, Australia, Aug. 30
– Sept. 1, 2000.
[7]
J.M. Villadangos, J. Urena, M. Mazo, A. Hernandez, F.
Alvarez,
J.J.
Garcia,
C.
de
Marziani,
D.
Alonso,
“Improvement of ultrasonic beacon-based local position
system using multi-access techniques,” IEEE International
Symposium on Intelligent Signal Processing (WISP 2005),
pp. 352-357, Algarve, Portugal, 2005.
[8]
M.C. Pérez, J. Urena, A. Hernández, C. De Marziani, A.
Jimenez,
J.M.
Villadangos,
F.
Alvarez,
“Ultrasonic
15
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

beacon-based Local Positioning System using Loosely
Synchronous codes,” IEEE International Symposium on
Intelligent Signal Processing, (WISP 2007), vol. 1, no. 6, pp.
3-5, Oct. 2007.
[9]
A. Hernández, J. Ureña, J. J. García, V. Díaz, M. Mazo, D.
Hernanz,
J.
P.
Dérutin,
J.
Serot,
“Ultrasonic
signal
processing using configurable computing,” 15th Triennial
World
Congress
of
the
International
Federation
of
Automatic Control (IFAC'02), Barcelona, 2002.
[10]
J. Ureña, ”Contribución al Diseño e Implementación de un
Sistema Sonar para la Automatización de un a Carretilla
Industrial,
”.
PhD.
Thesis,
Electronics
Department,
University of Alcalá, 1998.
[11]
H. Jen-Fa, C. Kai-Sheng, L. Ying-Chen, L. Chung-Yu,
“Reconfiguring Waveguide-Gratings-based M-Signature
Codecs to Enhance OCDMA Network Confidentiality,”
Optics Communications, vol. 313C, pp. 223-230, February
2014.
[12]
G. De Angelis, G. Baruffa, S. Cacopardi, "Parallel PN code
acquisition for wireless positioning in CDMA handsets," the
5th Advanced satellite multimedia systems conference
(asma)
and
the
11th
signal
processing
for
space
communications workshop , pp.343-348, Sept. 13-15, 2010.
[13]
P. Moscato, M. G. Norman, “A memetic approach for the
travelling,
salesman
problem
–
implementation
of
a
computational ecology for combinatorial optimization on
message-passing systems,” Proc. of International conference
on parallel computing and transputer application, pp. 177–
186, 1992.
[14]
P. Merz and B. Freisleben, “A Genetic Local Search
Ap-proach to the Quadratic Assignment Problem,” Proc. of
the 7th International Conference on Genetic Algorithms, pp.
465-472, 1997.
[15]
K.
Ghoseiri,
H.
Sarhadi,
“A
memetic
algorithm
for
symmetric
travelling
salesman
problem,”
International
Journal
of
Management
Science
and
Engineering
Management, Vol. 3, pp. 275-283 , Feb. 2008
16
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-509-8
EMERGING 2016 : The Eighth International Conference on Emerging Networks and Systems Intelligence

