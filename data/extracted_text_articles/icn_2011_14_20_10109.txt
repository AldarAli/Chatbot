1 
 
Abstract – In orthogonal frequency division multiple access 
(OFDMA) systems, the delay of packets has a great impact on 
quality of service (QoS), especially for real-time transmission. 
The basic concept of resource allocation in an OFDMA system is 
to allocate a subcarrier to the user with the best channel 
condition in that subcarrier. However, when a retransmission 
technique is used, the packet delay of successfully transmitting 
failed packets may be quite large in conventional retransmission 
schemes. In this paper, the packet combining technique in the 
downlink OFDMA system is introduced in conjunction with 
frequency diversity to enhance the reliability of retransmissions 
and thus reduce the large time delay caused by retransmissions. 
The novel retransmission technique aims to reduce the maximum 
number of retransmissions for failed packets, while maximizing 
the throughput. Bit error rate (BER) and transmit power are 
constraints in the throughput maximization formulation. A 
suboptimal algorithm is proposed, in which the retransmitted 
packets have higher priorities to be given resources than new 
packets. At the receiver, failed and retransmitted packets are 
combined before detection by using maximal ratio combining 
(MRC). It is shown that the proposed retransmission scheme can 
reduce 
the 
maximum 
packet 
delay 
significantly, 
while 
maintaining the maximum throughput of the conventional 
retransmission schemes. 
 
Index Terms – Orthogonal frequency division multiple access 
(OFDMA), 
real-time 
transmission, 
resource 
allocation, 
retransmission techniques, maximal ratio combining (MRC). 
 
 
I. INTRODUCTION 
 
Future wireless communication services need to be 
provided with high data rate as well as guaranteed quality of 
service (QoS) such as delay and packet error rate (PER). 
Orthogonal frequency division multiple access (OFDMA) is a 
promising technique achieving high data rates for the next 
generation wireless systems. Adaptive resource allocation, 
which allocates resources such as modulation, power and 
number of subcarriers etc., adaptively to different users 
according to channel conditions, can utilize the radio resource 
efficiently due to the time-varying nature of the wireless 
channel. The nature of multiple subcarriers in OFDMA system 
leads to the possibility of adaptively choosing which 
subcarriers to be used among users, and at what rate and 
power to transmit on each subcarrier in each time slot. 
Unlike packets in non-real-time applications (e.g. file 
transfer), which is considered delay-tolerant, packets in real-
time applications are required to be constantly and correctly 
received by an end user. In real-time services, packets are 
often generated at regular intervals and required to be received 
with a delay constraint. Each packet has a delay deadline by 
which it must reach its destination; otherwise, it will be 
discarded. For example, in a full- motion video application [1], 
30 frames are generated every second, and each frame must be 
delivered to the destination within a time delay to avoid any 
observable jitter. Therefore, transmission delay is an important 
problem in high data rate wireless communications especially 
for real-time traffic. When retransmission techniques are used, 
the maximum number of retransmissions for failed packets 
determines transmission delay. As known, automatic repeat 
request (ARQ) schemes are effective to recover non-real-time 
data corrupted by channel errors. However, with the high data 
rate in modern wireless networks, ARQ schemes are also 
favoured in real-time traffic [2]. Due to the QoS requirement 
of maximum packet delay caused by retransmissions of failed 
packets, in this paper a novel retransmission mechanism is 
proposed to reduce the delay introduced by retransmissions by 
allocating resources to retransmitted packets with higher 
priority than new packets. 
In conventional resource allocation [3]−[5] in the OFDMA, 
retransmission techniques have not been considered for real-
time traffic. Even if all retransmitted packets are guaranteed to 
be allocated subcarriers not being the best subcarriers, there is 
still a possibility that the retransmitted packets are received 
incorrectly. Thus, the maximum transmission delay in 
traditional resource allocation is long. In this paper, effective 
resource allocation is investigated when retransmission 
techniques are considered. The aim is to reduce the maximum 
number of retransmissions, so that the maximum transmission 
delay will be reduced. In other words, a new optimization 
problem is formulated to reduce the maximum packet delay by 
giving resources with a priority to retransmitted packets for 
transmission while maximizing the throughput in the downlink 
OFDMA system. In order to achieve high retransmission 
reliability, low density parity check (LDPC) [6]–[7], an 
advanced channel coding, is adopted since the constituent 
codes in the LDPC have parity check relationships and 
extremely good performance. Packet combining technique 
using maximal ratio combining (MRC) has also been adopted. 
In addition, the retransmitted packet will be transmitted 
through a subchannel which is different from the failed 
transmission to achieve frequency diversity. 
The rest of the paper is organized as follows. The next 
section represents system model and is followed by Section III 
about the description of problem formulation. In Section IV, a 
suboptimal solution is proposed. Simulation results for 
different retransmission schemes and comparison among 
different allocation algorithms are given in Section V. Finally, 
this paper is concluded in Section VI. 
By Use of Frequency Diversity and High Priority 
in Wireless Packet Retransmissions 
Xiaoyan Liu, and Huiling Zhu 
School of Engineering and Digital Arts, University of Kent, Canterbury, Kent, CT2 7NT, United Kingdom 
{xl36, h.zhu}@kent.ac.uk 
291
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

2 
 
II. SYSTEM MODEL 
 
The downlink OFDMA system with Ntotal subcarriers and K 
users is shown in Fig. 1. In the base station (BS), resource is 
allocated periodically. An allocation period, denoted by τ, is 
equivalent to a downlink frame which includes several OFDM 
symbols. It is assumed that the channel condition is unchanged 
during one allocation period, i.e. one frame, so that the 
channel condition is the same for all the τ/Ts OFDM symbols 
in the frame, where Ts is the symbol duration and τ/Ts is 
assumed to be an integer. The time interval (s−1, s]τ, where s 
is an integer, denotes the sth allocation period. 
At the receiver of user k, the received signal in period s is 
expressed as 
 
K
k
s
v
s
s x
s
y
k
k
k
k
,
,2,1
( ),
( )
( )
( )




 
(1) 
where αk(s), called channel fading factor, is the magnitude of 
the frequency response of the channel fading of user k, which 
is independent from that of other users, xk(s) is the transmitted 
signal of user k, and vk(s) is a zero-mean additive white 
Gaussian noise (AWGN) of user k with bandwidth B and 
double-sided power spectral density N0/2. 
 
II A. Transmitter 
The dynamic channel allocation is carried out on a packet-
by-packet basis. As shown in Fig. 1, when a packet is ready 
for downlink transmission, it is numbered and stored in the 
input queue of the transmitter. After its transmission, the 
packet is saved in the retransmission buffer of the transmitter. 
When a positive acknowledgement (ACK) for a packet in the 
retransmission buffer is received, the packet is released from 
the retransmission buffer. If the receiver detects any error and 
feedbacks 
a 
negative 
acknowledgement 
(NAK), 
the 
transmitter will resend the failed packet. Any new packets 
from all users are encoded by the LDPC encoders, are 
allocated subcarriers and power, and transmitted together with 
packets to be retransmitted. The process is repeated until the 
packets are correctly received. 
In the BS, the traffic source is considered greedy, which 
means that the system transmits as many packets as it can and 
there are always packets waiting to be transmitted. The BS 
allocates subcarriers and power to packets from all users 
according to their channel qualities, which may vary from 
frame to frame. 
With the objective of minimizing the delay of retransmitted 
packets, all the retransmitted packets in queue, which are 
received incorrectly, will be guaranteed to be sent out during 
each allocation period (i.e. a frame). If a newly arrived packet 
is allocated with resources for its transmission, the packet will 
be encoded by the LDPC encoder before being sent to the 
transmitter block. By denoting the number of retransmitted 
packets failed in the (s−1)th period from user k as Qk(s−1), the 
number of newly arrived packets to be transmitted in the sth 
period from user k as λk(s) and the number of acknowledged 
packets from user k in the sth period as qk(s), at the end of the 
sth period, the number of failed packets to be retransmitted for 
user k in the next transmission is given by 
 
K
k
s
q
s
Q s
s
Q
k
k
k
k
,
,2,1
( ),
( )
)1
(
( )







. 
(2) 
 
1) Subchannel Grouping 
In this paper, the chunk allocation method 1  is used in 
allocating resources, where the number of bits and power are 
assumed to be the same for all the subcarriers within one 
chunk. In each allocation period, if a chunk is allocated to a 
                                                 
1 In order to reduce the overhead and complexity of subcarrier allocation, the 
correlation between adjacent subchannels in the OFDMA system can be 
considered. Since the condition of a subchannel and its adjacent subchannels 
are quite similar, properly grouping a set of contiguous OFDM subchannels 
into one chunk and allocating the downlink resource chunk by chunk to users 
can make the subcarrier allocation simple while approaching the downlink 
throughput close to that of subcarrier-based allocation which allocates 
spectrum to users subcarrier by subcarrier [8]. 
Fig. 1 Downlink multiuser OFDMA block diagram 
 
292
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

3 
 
user to transmit its newly arrived data, channel coding is 
exploited across the subcarriers in each chunk and the length 
of the new packet to be transmitted is adapted in order to be 
filled into one entire chunk. It is assumed that every m 
neighbouring subcarriers are grouped into one chunk. By 
grouping all subcarriers into N chunks, the computational 
complexity 
of 
resource 
allocation 
can 
be 
reduced 
approximately by m = Ntotal/N times. To maintain transmission 
reliability while achieving high system throughput, the bit 
error rate (BER) constraint is given. Adaptive multi-level 
quadrature amplitude modulation (M−QAM) is adopted under 
this BER constraint. The adaptive modulation level M takes 
values from the set M = {0, 4, 16, 64, 256} and the 
corresponding data rate (bits per symbol) b takes values from 
the set b = {0, 2, 4, 6, 8}. If the allocated bits of user k on each 
subcarrier over chunk n is bk,n, the total bits for user k 
transmitted on this chunk is mbk,n, and the bits of the new 
packet equals 
 
s
k n
k n
T
mb
L

,
,

. 
(3) 
On the other hand, for a failed packet, the retransmitted 
signal will be combined at the receiver with that in the first 
transmission to achieve frequency diversity. In order to 
explore the frequency diversity, the retransmitted packet will 
be allocated by a chunk which is different from the previous 
one for transmission, and the bits of the retransmitted packet is 
the same as the original transmitted packet. Therefore, the bits 
allocated for retransmitted packets are set by the bits of the 
original transmission, and accordingly the power is allocated 
adaptively for the retransmission to guarantee the bits 
allocation. 
 
2) Rate-Adaptive LDPC-Coded Modulation 
In this system, similar to [9]−[12], the traffic source is 
encoded with Μ  LDPC codes, where Μ  denotes the size of 
M, followed by Gray code mappings to Μ  M−QAM 
constellations. When the M−QAM constellation is derived by 
the resource allocation in a frame, an LDPC code is 
constructed such that the bits of all coded packets can be fitted 
into τ/Ts OFDM symbols in the corresponding constellation. 
The length is calculated according to (3). The encoder and 
decoder hence have a given set of Μ  LDPC generator 
matrices and corresponding parity check matrices, respectively. 
If chunk n is allocated to user k with code rate Rk,n, a source 
vector consisting of Rk,nLk,n information bits and (1−Rk,n)Lk,n 
parity check bits are encoded into the binary codeword of size 
Lk,n. The number of parity check bits to be transmitted in one 
of OFDM symbols in the frame is then equal to (1−Rk,n)mbk,n, 
whereas the number of information bits in each OFDM 
symbol is Rk,nmbk,n. The number of information bits in all 
subchannels, which equals the system throughput (bits per 
OFDM symbol), is Rk,nmbk,nN. This is carried out by letting the 
QAM modulator map to a transmitted signal vector of length 
τ/Ts, by taking τ/Ts distinct sets of mbk,n bits and mapping each 
such set into a complex OFDM symbol. 
As greedy traffic is assumed, one packet occupies one 
chunk for its transmission and from (3), the packet length is 
determined by bits allocated to that chunk. In another word, 
the number of bits carried on the chunk is determined by the 
modulation level employed for that chunk. For simple 
implementation, chase combining technique [13] is used, in 
which exactly the same information bits and parity bits are 
contained in every retransmission. Because all transmissions 
are identical, chase combining can be seen as additional 
repetition coding. One retransmitted packet is only allowed to 
be transmitted over one chunk rather than over many. Thus, in 
order to fill a retransmitted packet within a chunk, the number 
of bits on the chunk is predetermined by the failed packet‟s 
length or its previous modulation level, only if it is known that 
this chunk is assigned to retransmitted packets. Except for 
chunks allocated to retransmitted packets, the sizes of the 
other chunks are still determined by their bits allocation as in 
(3). In another word, same modulation level is employed for 
each retransmitted packet as in its previous transmission since 
they have the same packet length. 
 
II B. Receiver 
The modulated M−QAM symbol vector is then transmitted 
through a slowly varying flat fading channel. Such a vector 
will then be subjected to (almost) constant fading and the 
added channel noise v. As shown in Fig. 1, the data stream 
from the allocated chunks of user k is split through a chunk 
selection block. The demodulator uses maximum likelihood 
soft decision detection on the received data stream, while the 
subsequent decoder uses an iterative belief propagation 
decoding algorithm [14]. 
In the recovered data stream, if a packet is received 
incorrectly, it will be stored in the receiver buffer, and this 
packet must be retransmitted immediately in the next frame to 
guarantee the delay constraint of real-time services. Along 
with the previous received incorrect packet stored in the 
receiver buffer, the retransmitted signals could be combined 
by implementing MRC. One major issue is that sufficient 
chunks are assumed to guarantee the transmission of failed 
packets, and retransmitted packets may be transmitted in 
different chunks from previous transmission, which depends 
on the chunk condition. In our proposed allocation scheme, 
failed packets have higher priority to be allocated the best 
chunks of their users. By implementing this sort of frequency 
diversity technique, high transmission success could be 
achieved. 
The buffers in the receiver are used to save failed packets 
together with the channel state information from the user.  The 
received signals from different transmission slots of the same 
packet are saved separately in buffers for the corresponding 
transmission slot, as in Fig. 1. Suppose a packet is received 
correctly after η retransmissions, then at the receiver side η 
buffers are used to save this packet from allocated chunks of 
user k in transmission slot s−η, s−1, …, and s. Along with the 
weights, proportional to channel state information, of these 
transmissions, the receiver uses the MRC to combine the 
293
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

4 
 
received signal with the signals received from previous 
transmissions. The detector is the demodulator with log-
likelihood ratio (LLR) output and is followed by a LDPC 
decoder with hard decision, where the number of iterations to 
be performed for decoding one codeword is given. 
 
III. PROBLEM FORMULATION FOR RESOURCE ALLOCATION 
 
Here, optimizing the chunk and power allocation is 
considered under the power constraint with rate discretization, 
so as to reduce the maximum packet delay caused by 
retransmission while maximizing the throughput of new 
packets of all users. The retransmitted packets and new 
packets are treated differently in resource allocation by taking 
into account of the trade-off between maximizing system 
throughput and reducing packet delay. The optimal chunk 
assignment is considered for a given set of total available 
chunks defined as 

, N
,2,1

Ι 
. The current allocation period 
index s is omitted for some variables in the following for 
simple 
notation. 
The 
optimization 
problem 
can 
be 
mathematically formulated as 
 
 



K
k
n
k n
p
k
k n
k
b
1
,
}
,
{
,
max
 
(4) 
 
subject to  
 
 









K
k
n
n
k
K
k
n
T
n
k
k
k
mp
P
mp
1
,
1
,
 
(4.1)  
 
,  0
pk n
 for all k, n 
(4.2)  
 
)1
(
,
1),
, (
,





 
s
n
n
s
b
b
k
k n
k n
Α
Ω
 for all k 
(4.3)  
 
Ι
Ω
Ω
 





















K
k
k
K
k
k
1
1
 
(4.4)  
 
(  )1
 
s
Qk
Ωk
 for all k 
(4.5)  
where the prime, (‟), denotes notation on retransmissions. pk,n 
is the power allocated to user k on each subcarrier in chunk n, 
and it is constant across the subcarriers in each chunk. 
Constraints (4.1) and (4.2) guarantee that allocated power on 
all chunks is non-negative and the total power does not exceed 
the total power constraint PT. Ωk and Ω’k are the sets of 
chunks assigned to user k for its packets on first-time 
transmissions and retransmissions, respectively. In constraint 
(4.3), the assigned transmit bits per symbol of allocating one 
retransmitted packet of user k, equals its previous allocated 
bits 
)1
, (
b n s 
k
, which is an integer, if the allocated chunk in 
previous allocation period is 
(  )1

s
n
Α
, where A(s−1) is the 
set of previous chunk allocation.2 Its assigned transmit bits per 
symbol in this allocation period is
k
kb n
, Ω
. (4.3) also shows 
that the modulation level of the retransmitted packet must be 
the same as that in the previous transmission in order to 
combine retransmitted packet with previous failed transmitted 
packet(s) to achieve frequency diversity. Both new and 
                                                 
2 The value of each element An in A is the user index on subcarrier n. 
retransmitted packets for all users are allocated by chunks 
from the set of total available chunks, I, as in (4.4). (4.5) 
assures that all retransmitted packets Qk(s−1) can be sent out 
by assigning sufficient number of chunks, 
k
Ω  is the number 
of chunks for the retransmitted packets of user k. 
Assuming that the retransmitted packets from every user 
have high priority to be transmitted, they are allocated 
sufficient chunks within the allocation period in order to 
guarantee the transmission of all the retransmitted packets. 
From (4.1), the remaining power from the consumption by 
retransmitted packets is allocated to new packets with the 
objective 
of 
maximizing 
the 
throughput. 
Thus, 
the 
optimization problem in (4) can be split into 2 steps. For the 
retransmitted packets of all users, since the bits to be 
transmitted are given, the problem turns to minimize the 
overall power consumption on retransmission. 
After solving the above problem with all these constraints, a 
set of chunks occupied by retransmitted packets Ω‟k for all k, 

1
'
, '


 
k n
k
n 
Ω
 can be obtained. The set of chunks available 
for new packets Ωk is thus obtained as the rest of I. By 
assuming all new packets have the same BER requirement, 
k
bk n
, Ω
 could be chosen for any user k according to the 
required received signal to noise ratio (SNR) and the SNR gap 
Γ [9], which is a constant related to this given BER 
requirement if the same modulation scheme is used. 3 The 
value of Γ depends on the capacity difference between 
practical system using adaptive modulation and Shannon 
capacity (Γ=1 (0dB)). bk,n can be expressed approximately as 
 








 

B N
N
p
b
k n
n
k
k n
/
1
log
0
2
,
,
2
,

 , integer for all k, n  
(5) 
where αk,n is the channel fading factor for user k in chunk n. 
bk,n can be determined through the received SNR region given 
in Table I, conditioned on different values of BER constraint. 
 
IV. PROPOSED ALLOCATION ALGORITHM 
 
Firstly, let An, bn and pn denote the user index, number of 
bits and power allocated on chunk n, respectively. Hk,n = 
|αk,n|2/N0(B/N) is defined as the channel to noise ratio for user k 
in chunk n. With the bits allocation {bn(s−1)} and chunk 
allocation {An(s−1)} of retransmitted packets in previous 
resource allocation 
(  )1

s
n
Α
, which are registered in two 
separate registers embedded in the BS‟s resource allocation 
block. In order to guarantee the success of retransmitted 
packets, each packet on retransmission has higher priority to 
choose its best chunk. The proposed allocation determines the 
number of bits and chooses „better‟ chunks, which has higher 
channel to noise ratio, for retransmitted packets according to 
the algorithm shown below. Given the BER constraint, the 
number of bits {bn’} and chunk conditions {αn’}on allocated 
                                                 
3 If no coding is considered, for M−QAM 
6.1
/)
5
  ln( BER
, where BER 
is the BER requirement [11]. 
294
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

5 
 
chunks for retransmitted packets, the power distribution {pn’} 
thus can be obtained from the transformation of (5). The rest 
of available chunks will be allocated to new packets according 
to the Maximum-Capacity allocation algorithm which is 
explained in the following paragraph. 
In order to maximize system throughput for new packets, 
multiuser diversity is explored by allocating chunks to the user 
with the best channel condition on that chunk. In this 
algorithm, the transmit power is firstly assumed to be the same 
for subcarriers in one chunk and then an optimal power 
allocation algorithm is carried out among chunks to maximize 
throughput. The optimal transmit power adaptation is the well-
known water-filling procedure [15]. In water-filling, more 
power is allocated to “better”chunks with higher SNR, so as 
to maximize the sum of data rates in all chunks. 
The new packets are firstly allocated with chunks within the 
rest of available chunks according to their channel to noise 
ratio. The initial power distribution is then obtained by water-
filling algorithm, so that corresponding initial bit rate can be 
calculated according to (5), which can be a continuous value. 
Because of the integer nature of bits per subcarrier per symbol, 
data rate calibration (as described in step 3-c below) has to be 
carried out to fit the existing modulation scheme. Finally, the 
transmit power allocated over its assigned chunk is 
recalculated accordingly. The algorithm can be described as: 
 
1) 
Initialization 
a) 
Set bn = 0, An = 0, pn = 0 for n = 1, 2, ···, N. 
2) 
For Retransmitted Packets: 
for  i = 1 to number of retransmitted packets 
a) 
find n’ satisfying |Hk,n’| ≥ |Hk,n| for all n; 
b) 
let bn’ = bn(s−1), An’ = An(s−1); 
c) 
calculate pn’ according to (5). 
end 
3) 
For New Packets on 
0}
{


An
n
: 
for  i = 1 to N – number of retransmitted packets 
a) 
find k’ satisfying |Hk’,n| ≥ |Hk,n| for all k; 
b) 
let An = k’, use water-filling algorithm to obtain pk’,n among 
the rest power PT − Σ pn’; 
c) 
calculate bk’,n according to (5), let 

k n Μ
n
b
b
,'

, 
where  Μ
x
 denotes the largest number in the set of M less 
than or equal to x. 
d) 
calculate pn according to (5). 
end 
 
Then, A = {An’}∪{An} is the chunk allocation, B = 
{bn’}∪{bn} is the bit allocation, P = {pn’}∪{pn} is the power 
allocation. 
 
V. SIMULATION RESULTS 
 
In this section, the performance of the OFDMA system with 
the proposed resource allocation algorithm is investigated. It is 
assumed that an OFDMA system has 512 subcarriers (Ntotal = 
512), the number of subcarriers per chunk is 16 (m = 16), the 
number of users is eight (K = 8) and symbol duration Ts = 
20μs. A frequency-selective Rayleigh fading channel is 
assumed, which is a 17-path channel with exponential power 
delay profile and root mean square (RMS) delay spread of 
0.5μs for each path. Doppler frequency is 1Hz. The channel 
fading factor {α
2 
k,n}n = 1, 2, …, N of each chunk is Rayleigh 
distributed with E{|α
 
k,n|2} = 1. The BER constraint is 10-3 with 
1/2 rate LDPC coding, where the parity check matrix is even 
in both rows and columns, length-four cycle is eliminated, and 
number of ones per column is 3. Greedy traffic source is 
assumed. That is, the traffic source of user k generates packets 
at the rate depending on allocated bits per symbol {bk,n}; and 
each packet contains flexible length of information bits 
accordingly. Each frame consists of 6 OFDM symbols. The 
number of packets the system could allocate within one frame 
is N = 32, since each chunk carries only one packet. 100 
frames are chosen for each simulation run. 
Given the target BER, two allocation schemes are 
investigated by taking packet retransmissions into account. 
One is the conventional Maximum-Capacity scheme, by 
allocating each chunk to the user with the best chunk 
condition for that chunk. The other one is our proposed 
allocation scheme with packet combining, where all the 
packets on retransmissions are allocated with their best chunks, 
and assigned same modulation as in original transmission; 
new packets are allocated among the remaining chunks based 
on the conventional Maximum-Capacity allocation scheme. 
Packet combining is also adopted at the receiver to improve 
the performance. Each retransmitted packet is sent out 
immediately for both schemes as long as its user is allocated 
sufficient chunks, otherwise it will wait in the retransmission 
buffer until the next frame. The following metrics are used to 
evaluate the performance through the simulation: 
 
Packet Error Rate, defined as the total number of error 
packets divided by the total number of packets sent. 
 
Average Packet Delay, defined as the average number of 
retransmissions of each successful packet. 
 
Cumulative Distribution Function of Number of 
Retransmissions, where the probability distribution of 
each number of retransmissions is defined as the ratio of 
amount of each number of retransmissions to total 
number of successful packets within the simulation run. 
 
Fig. 2 BER versus total transmit SNR 
0
2
4
6
8
10
12
14
16
18
20
10
-4
10
-3
10
-2
10
-1
Total SNR (dB)
Bit Error Rate
 
 
Proposed
no ReTx
Conventional
uncoded
coded
295
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

6 
 
Fig. 2 shows the BER performance for both the uncoded 
and coded systems when SNR takes values from 0dB to 25dB. 
In this figure, Proposed denotes the proposed allocation 
scheme, Conventional denotes the conventional Maximum-
Capacity allocation scheme, and noReTx denotes the 
conventional allocation scheme without retransmission. The 
notations are also used in the following simulation results. 
Given the target BER of the LDPC coded to be 10-3, due to the 
discrete rate adaptation and constant power restriction, the 
instantaneous BER fluctuates very slightly around the target 
BER, i.e. 10-3, as SNR varies. The average BER ranges from 
0.9594*10-3 to 1.913*10-3 at the target BER 10-3. The BER 
performance is almost the same for the proposed scheme and 
conventional one when the same BER constraint is given. The 
corresponding uncoded average BER increases monotonically 
as the SNR increases and is within an order of magnitude for 
all the SNR values. The uncoded BER results of the proposed 
and the conventional schemes are quite close, while both go 
up slightly as SNR increases due to the impact of the PER. It 
shows BER constraint is guaranteed under both schemes. 
 
Fig. 3 Average packet delay versus total transmit SNR 
 
The average packet delay is shown for the two allocation 
schemes in Fig. 3. It is assumed that the transmission of a 
packet will not be completed until the end of a frame, i.e. each 
transmission period is a frame. Therefore, the time delay 
equals the value of delay multiplied by the frame period τ. The 
number of retransmissions equals packet errors because once a 
packet is received in error, a retransmission will be initiated; 
and the total number of packets sent approximates to that of 
the successful packets when PER is low. Thus, average packet 
delay has the similar trend as PER according to their 
definitions. 
 
VI. CONCLUSION 
 
In this paper, a novel adaptive chunk and power allocation 
scheme with packet retransmissions in the downlink OFDMA 
system is proposed, which supports ARQ. In order to reduce 
the maximum number of retransmissions for failed packets 
while maximizing the throughput of new packets in the system, 
a new optimization is formulated under a target BER and a 
total transmission power constraint. Based on that the 
retransmitted packets have higher priorities to be allocated 
with resources, the proposed allocation scheme with the use of 
packet combining technique has better performances than the 
conventional scheme in terms of the maximum packet delay. 
 
 
REFERENCES 
 
[1] 
B. Melamed, “Modeling compressed full-motion video”, Proceedings 
of the 29th Conference on Winter Simulation, pp. 1368−1374, 1997. 
[2] 
J. Neckebroek, H. Bruneel, and M. Moeneclaey, “Application layer 
ARQ for protecting video packets over an indoor MIMO-OFDM link 
with correlated block fading,” IEEE J. Sel. Areas Commun., vol. 28, no. 
3, pp. 467–475, Apr. 2010. 
[3] 
C. Y. Wong, R. S. Cheng, K. B. Letaief, and R. D. Murch, “Multiuser 
OFDM with adaptive subcarrier, bit, and power allocation,” IEEE J. Sel. 
Areas Commun., vol. 17, no. 10, pp. 1747–1758, Oct. 1999. 
[4] 
Z. Shen, J. G. Andrews, and B. L. Evans, “Adaptive resource allocation 
in multiuser OFDM systems with proportional rate constraints,” IEEE 
Trans. Wireless Commun., vol. 4, no. 6, pp. 2726–2737, Nov. 2005. 
[5] 
Y. J. Zhang, and K. B. Letaief, “Cross-layer adaptive resource 
management for wirless packet networks with OFDM signalling,” 
IEEE Trans. Wireless Commun., vol. 5, no. 11, pp. 3244–3254, Nov. 
2006. 
[6] 
S. Lin and D. J. Costello, Jr., Error Control Coding: Fundamentals and 
Applications, 2nd ed., Prentice Hall: Englewood Cliffs, NJ, 2004, Ch. 17, 
Ch. 22. 
[7] 
M. Yang, W. E. Ryan, and Y. Li, “Design of efficiently encodable 
moderate-length high-rate irregular LDPC codes,” IEEE Trans. 
Commun., vol. 52, no. 4, pp. 564–571, Apr. 2004. 
[8] 
H. Zhu, and J. Wang, “Chunk-based subcarrier allocation in OFDMA 
systems: part I: chunk allocation,” IEEE Trans. Commun., vol. 57, no. 9, 
pp. 2734–2744, Sept. 2009. 
[9] 
J. G. Proakis, Digital Communications, 4th ed., New York: McGraw-
Hill, 2001. 
[10] 
M.-S. Alouini, and A. J. Goldsmith, “Adaptive modulation over 
Nakagami fading channels,” Kluwer J. Wireless Commun. vol. 13, pp. 
119−143, May 2000. 
[11] 
S. T. Chung, and A. J. Goldsmith, “Degrees of Freedom in Adaptive 
Modulation: A Unified View,” IEEE Trans. Wireless Commun., vol. 49, 
no. 9, pp. 1561–1571, Sept. 2001. 
[12] 
B. Xia and J. Wang, “Effect of channel estimation error on QAM 
systems with antenna diversity,” IEEE Trans. Commun., vol. 53, no. 3, 
pp. 481–488, Mar. 2005.  
[13] 
N. Miki, H. Atarashi, K. Hiquchi, S. Abeta, and M. Sawahashi, 
“Experimental evaluation on effect of hybrid ARQ with packet 
combining in forward link for VSF-OFCDM broadband wireless 
access,” IEEE Proceedings on Personal, Indoor and Mobile Radio 
Commun., PIMRC 2003, vol. 1, pp. 360–365, Sept. 2003. 
[14] 
R. Lucas, M. Fossorier, Y. Kou, and S. Lin, “Iterative Decoding of 
One-Step Majority Logic Decodable Codes Based on Belief 
Propagation,” IEEE Trans. Commun., 48 (6): 931–37, Jun. 2000. 
[15] 
W. Yu, and J. M. Cioffi, “On constant power water-filling,” IEEE 
International Conference on Commun., ICC 2001, vol. 6, pp. 1665–
1669, Jun. 2001. 
0
2
4
6
8
10
12
14
16
18
20
0.06
0.08
0.1
0.12
0.14
0.16
0.18
0.2
0.22
Total SNR (dB)
Average Packet Delay
 
 
Proposed
Conventional
296
ICN 2011 : The Tenth International Conference on Networks
Copyright (c) IARIA, 2011              ISBN:978-1-61208-113-7

