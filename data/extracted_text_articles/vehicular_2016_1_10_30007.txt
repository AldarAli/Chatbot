VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
1
The Problem of Comparable GNSS Results –
An Approach for a Uniform Dataset with Low-Cost and Reference Data
Pierre Reisdorf, Tim Pfeifer, *Julia Breßler, Sven Bauer, Peter Weissig, Sven Lange,
Gerd Wanielik, Peter Protzel
Technische Universität Chemnitz
Reichenhainer Str. 70, 09126, Chemnitz, Germany
Email: firstname.lastname@etit.tu-chemnitz.de,
*julia.bressler@wirtschaft.tu-chemnitz.de
Abstract—Localization and navigation are two key factors for
our globalized world. Driven by cost-effective end-user devices,
position estimation using Global Navigation Satellite Systems
(GNSS) is common sense. Using the pseudorange measurements
as input, many research groups developed their own approaches
for estimating position information and evaluated it in simulation
or real-world scenarios. Surprisingly, a common publicly avail-
able dataset for comparing such algorithms against each other
has not been established. We pursue the idea of a uniform, free
to use dataset collected by a low-cost receiver in conjunction with
associated reference data originating from a high-precision device.
For creating representative datasets, we chose four challenging
scenarios within two different cities with various inﬂuences of
urban canyons and surroundings. Based on this, we present
ﬁrst preliminary results from our Factor Graph approach. Our
datasets are associated with the smartLoc project and are
available online at: www.mytuc.org/GNSS
Keywords–GNSS; Low-cost Sensor; NLOS; Reference Data;
Urban Canyon
I.
INTRODUCTION
Localization around the globe and in real time with
satellites is a big accelerator to a globalized trafﬁc and trade.
The technique behind is called Global Navigation Satellite
System (GNSS). In more detail, different satellite systems
like the North American Global Positioning System (GPS),
the Russian Glonass, the European Galileo or the Chinese
BeiDou could be used for the localization process already. All
these global systems and other local systems, like the Japanese
QZSS (to mention just one), enable a fast localization under
an open sky. However, satellite navigation is based on the
transmission of electronic waves with its typical characteristics
and drawbacks. That is, if we have a limited view to the
sky, the localization process is faulty. Well-known examples
are places in the proximity of high buildings or with dense
and high vegetation. Hence, the localization process in urban
scenarios was addressed by many research activities. Within
urban areas, Non-line-of-sight (NLOS) and multipath are the
largest challenges for an accurate and available position ﬁx.
Existing research activities (see Table I) encounter these
challenges in different ways with various approaches. All these
activities base on simulated or real world data in static or
dynamic scenarios [1]. Unfortunately, a major restriction of
all published and founded work is the incomparability of the
results. Thus, all existing works are only comparable with itself.
It should be noted that the reasons for this fact could be diverse.
That starts with additional sensors like cameras, light detection
and ranging (LiDAR), radio detection and ranging (Radar),
etc., special prepared maps with different content and ends
with cooperative approaches to improve the position quality. To
cover all the various approaches is impossible with one dataset.
All approaches in context of GNSS use calculated position ﬁxes
or raw measurements (more known as pseudoranges) delivered
by a receiver. At this point, we would like to publish a common
dataset in typical scenarios, which addresses the mentioned
challenges. We provide within this paper complete datasets
with low-cost GNSS data, reference GNSS data, associated
broadcasted ephemeris data, as well as ego motion data like
yaw-rate and velocity. These datasets enable the user to calculate
a position ﬁx, compare with the reference data and fuse the
data with ego motion output.
This paper is categorized in four main parts. After a brief
introduction in the ﬁeld of GNSS and a motivation to the
question—Why do we need a uniform dataset for GNSS data?—
a short state of the art overview regarding available datasets is
shown. In the subsequent section, the methodology is introduced
in detail. The following section presents the output data and
explains each data type. In Section VI, we present ﬁrst results
from the project smartLoc [2]. The paper will end with a
conclusion as well as an outlook. After all, the license terms
for the given datasets will end the paper.
II.
MOTIVATION
A major challenge of GNSS based systems in urban
environments are NLOS measurements. These result from
reﬂections of the received signals, which especially can occur in
narrow streets between tall buildings, so-called urban canyons.
Figure 1 shows such an urban canyon with the negative effects
on the availability of satellites. For a better understanding of
the challenges in the scene at hand, we added a sky plot (left
side) with GPS (green) and Glonass (red) showing the reduced
availability of satellites (in ideal view 16 satellites).
The common Kalman ﬁlter-based approach to fuse the
measured pseudoranges uses a Gaussian distributed noise as
error model. Through the geometrical elongation case of NLOS
measurements, this error model becomes invalid, which leads
to a large distortion of the position estimator. To prevent these
distortions, the common ﬁlter approach has to be replaced with
an algorithm that is better suited for non-Gaussian errors. For
the simultaneous localization and mapping (SLAM) problem
in robotics, a variety of robust optimization back-ends have
been proposed in the recent past [3]–[10]. These back-ends can
be applied to solve generic estimation problems like in GNSS

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
2
Figure 1.
Birds eye view of an urban canyon including a front and rear view
example (right side) from the scenario Potsdamer Platz in Berlin.
TABLE I.
NUMBER OF PUBLICATIONS GROUPED BY ITS DATASET
CHRACTERISTIC BASED ON [1]
Real Data
collection
Static measurement
Dynamic measurement
Via vehicle
7
19
Via person
2
4
(No information)
11
—
Simulation
Static measurement
Dynamic measurement
Via vehicle
1
6
Via person
—
—
(No information)
4
if they are formulated as factor graphs, a kind of Bayesian
network. While for SLAM scenarios, multiple comparisons of
robust graph optimization approaches like [11] and [12] exist,
there are none for GNSS-related applications. For this reason,
our ﬁrst comparison in [13] was limited to synthetic data, but
already showed the potential of this class of algorithms. To
create a ﬁrst foundation for a comparison under real world
conditions, we decided to share the required data in form
of a public available dataset, because none of the examined
datasets (see Table I) fulﬁlled all our requirements in terms of
surroundings and the necessary measurement data.
III.
STATE OF THE ART
In science, it is necessary to compare various results
against each other or to have a same base to build comparable
conclusions. In the ﬁeld of vision systems like training sets
for different classiﬁers, there are serious datasets. For vision
systems exist some databases, e.g., the Daimler Database for
pedestrians [14] or the Nordland dataset [15] from a drive in
a train over different seasons. In the ﬁeld of mobile robotics,
speciﬁcally SLAM, many real and synthetic datasets exist, like
the well-known dataset of the Intel Research Lab. The spirit of
providing datasets for competing algorithms is present in the
community and online resources like [16], [17] or [18] provide
collections of datasets and sometimes speciﬁc benchmarks for
scoring results or more generic evaluations. Other datasets
contain data about Naturalistic Driving Studies (NDS) from the
project UDRIVE [19] and Strategic Highway Research Program
2 [20]. Another well-known source in the ﬁeld of autonomous
driving, including datasets and benchmarks, is the Kitti Vision
Benchmark Suite [21] with focus on stereo processing, optical
ﬂow, visual odometry, object and lane detection and tracking.
Still others focus on semantic understanding of urban street
scenes like Cityscapes Dataset [22], different kind of published
data from the INRIA Grenoble Rhône-Alpes team [23] or
synthetic images of urban scenes [24]. The focus of all these
datasets are different from a dataset addressed for the GNSS
ﬁeld (raw measurements and reference data). In our view the
conditions of a uniform dataset are:
•
Low-cost GNSS position
•
Smoothed Reference GNSS position
•
Odometry data (yaw-rate and velocity)
•
Ephemeris data
Some datasets contain localization information, but neither
includes precise data as well as low-cost data. The focus of the
majority of the introduced datasets are vision systems. At this
point, we would like to ﬁll the gap with real data from urban
scenarios including low-cost GNSS data and an associated
reference data.
IV.
METHODOLOGY
In this section, we describe in detail all conditions to the
data recording procedure used to create the four proposed
datasets located in Frankfurt/Main and Berlin. Ground-truth
information is generated in post-processing mode, as described
later on. It is based on the high-precision reference system’s
measurements.
A. Precondition on Data
After the taxonomy of the multipath/NLOS problem by
[25] there are some preconditions to the kind of data. Different
approaches use external map data as an additional sensor. Other
approaches use Quality parameters like Signal-noise-ratio,
Doppler frequency or Carrier phase. Still others use additional
sensors like camera, laser or radar for data fusion approaches.
No dataset is able to cover all possible setups. Hence, we focus
on a good selection of the measurement tracks, where data for
buildings and environments are available. For Berlin, there is
public data in the project Berlin 3D [26] available. For the city
of Frankfurt am Main, the Stadtvermessungsamt [27] published
some inner city data. Likewise, the open project osm-3D [28]
provides city data, but for many cities. The above mentioned
quality parameters are supported by our low-cost receiver. They
are included within our data accordingly. However, as the
current work has its focus on GNSS-based position estimation,
we neglect camera data for now, even if we have recorded
some. The dataset is recorded with our test vehicle Carai1,
which will be described later on.
B. Measurement Tracks
Based on the aspects detailed above, we examined possible
environments suiting our demands for a challenging dataset.
Especially, we focused on Urban Canyons, where NLOS
and multipath are present to a large extend. Looking for a
suitable route, we ﬁrst extracted the cities, which have a large
amount of high-rise buildings. Thus, we identiﬁed the cities of
Frankfurt/Main and Berlin. We designed our test tracks to lie
preferably within areas with high-rise and densely populated
buildings as well as narrow streets. Naturally, these properties
are met more or less during one scenario. An overview of all
four scenarios with its tracks is given in Figure 4.
Within the city of Berlin, we located one track around the
Potsdamer Platz (Scenario 1). It has a length of about 1.6 km

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
3
Figure 2.
Schematic view in all dimensions of our test vehicle Carai1.
and is accompanied with 70 m to 100 m high buildings (Forum
Tower, Kollhoff Tower, etc.). The road width varies between
13 m to 17 m and according to the approach in Sec. IV-F, we
got 49 % NLOS measurements. The example view of an Urban
Canyon in Fig. 1 originates from this scenario. The second
track within Berlin is centered around the Friedrichstrasse and
is referred to as Gendarmenmarkt (Scenario 2). The track is
roughly 5 km long and includes 13 blocks. The streets are
framed by 20 m to 60 m high buildings and the road width is
about 20 m to 23 m. Here we have an NLOS ratio of about
37 %.
Within the city Frankfurt am Main, the ﬁrst track is referred
to as Main Tower (Scenario 3), which includes the highest
tower of Germany. Here, the Urban Canyon is characterized
by 110 m to 259 m high buildings. The route is about 3 km
long with 46 % NLOS measurements. The second track within
Frankfurt is called Westend Tower (Scenario 4), which includes
three high-rise buildings (208 m, 200 m, 142 m). The track is
measured to 2.3 km and the road width varies between 10 m
to 70 m while the NLOS ratio is about 32 %.
C. Sensor Setup
We use both a high-cost GNSS sensor (for reference
or ground truth position) and a low-cost GNSS sensor for
localization. Additionally, we recorded odometry data (yaw-
rate and velocity) from the test vehicle Carai1 [29]. The low-
cost data can be divided in two categories. On the one hand
side calculated position ﬁxes and on the other hand side raw
measurements. We get the reference position as a calculated
position ﬁx from the NovAtel sensor. Table II describes the
sensors, which were used during the recording process. All
GNSS sensors are market products without any adaption from
our side.
TABLE II.
SENSORS FOR RECORDING
Sensor
Description
1) Low-cost GNSS sensor
u-blox EVK-M8T (u-blox M8 GNSS Evaluation
Kit *Precision Timing*) with ANN-MS antenna
2) Reference GNSS sensor
NovAtel SPAN Differential (Model CDJRPRT-
TNS2) GPS, GLO, BeiDou with RTK and IGM-S1
Inertial Measurement Unit (IMU) and Pinwheel-
Antenna (Model GPS-703-GGG [30])
3) Odometry
For obtaining ego motion data over the CAN
gateway.
4) Carai1
One of our three test vehicle equipped with differ-
ent sensors [29]. This test vehicle is a VW Touran.
The positions of the antennas on top of the roof of our test
vehicle Carai1 [29] are shown in Figure 2. The ﬁgure illustrates
TABLE III.
SATELLITE SYSTEMS IN SCENARIOS AT GLANCE
Satellite system
GPS
GLO
GAL
Potsdamer Platz
x
x
Gendarmenmarkt
x
x
Main Tower
x
x
x
Westend Tower
x
x
x
the schematic view of all antennas. The Pinwheel antenna is
mounted 1.497 m above the origin of the vehicle coordinate
system. The centers of antenna one and antenna two are on
the same height. All units in this ﬁgure are in meter. By virtue
of a ﬁrmware update of the u-blox sensor during the both
measurement campaigns, we have a different availability of
satellite systems in the scenarios. Table III shows the different
constellation for each scenario in Berlin and Frankfurt.
D. Procedure of Sensor Data
Our software base for recording, processing and analysis of
the data are the system development framework vADASdevel-
oper by Vector [31] and the sensor fusion development library
BASELABS Create [32]. We divide our procedure to handle
and processing the data in three steps. Figure 3 illustrates these
three steps, which are necessary to get a complete comparable
dataset.
1)
Record real data during a measurement campaign
2)
Post processing the data for generating of ground truth
3)
Generation of export data
Step one consists of both recording the data and check the
data for consistency of the desired recording setup. Step two
contains the processing of all data and create a ground truth
for each position related data to export. The last step generates
the export data in form of different Character Separated File
(CSV) ﬁles.
(a) Recording
(b) Post processing
and export
Figure 3.
Schematic representation of the procedure for recording, post
processing and generation of export data.
Which messages from the sensors did we recorded? Table IV
gives an overview about the messages with the associated
frequency for each sensor. For more details, take a look into
the manuals of the sensor (u-blox [33] and [34], NovAtel
without IMU [35] and with IMU [36]). The log type indicates
the type of a messages, continuous or when a new message
available. The messages BestPos and BestVel from NovAtel
can used for the generation of ground truth and is also a part
of the exported data.
A worldwide common coordinate system for localization
is the World Geodetic System 1984 (WGS 84). A deﬁnition

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
4
(a) Berlin 1 - Potsdamer Platz
(b) Berlin 2 - Gendarmenmarkt
(c) Frankfurt 1 - Main Tower
(d) Frankfurt 2 - Westend Tower
Figure 4.
Aerial view of the selected scenarios. We chose two different tracks (visualized as green line) in the city of Berlin and Frankfurt am Main (Germany).
They are representative examples for a so called Urban Canyon.
TABLE IV.
DATA FROM SENSORS
Sensor
Data type
Log type
Frequency (Hz)
Low-cost GNSS sensor
NAV-POSLLH
Sync
5
RXM-RAWX
Sync
5
High-cost GNSS sensor
BESTPOS
Sync
20
BESTVEL
Sync
20
Odometry
YAWRATE
Sync
50
VELOCITY
Sync
50
of the WGS 84 system is done by the National Imagery and
Mapping Agency [37] or in the Global Positioning System
Standard Positioning Service Signal Speciﬁcation [38]. This
coordinate system can be called as the standard coordinate
system and all our position information refer to it.
E. Parameters for Data
This section includes some explanations and details about
the exported data. In detail, some hints about the time format,
the ground truth format as well as both ephemeris data formats
for GPS and Glonass.
GPS time: The ﬁrst and second column of each exported
data ﬁle describe the GPS time. This time is the measurement
time on the sensor side. The GPS time is divided into the GPS
week (ﬁrst column) and the GPS seconds of week (second
column). More explanations to GPS time in section V-C.
Ground truth: The base of our provided ground truth is
BestPos message from NovAtel sensor [35] and odometry data
(velocity and yaw-rate). Hence, the coordinate system is WGS
84 in the format of Longitude, Latitude and Height (above
mean sea level) too. In subsection V-C there are more details
and explanations about the ground truth.
Ephemeris data: For a complete set of data, we use
the ephemeris data from the German Research Centre for
Geosciences (GFZ) [39], which provide data to the Multi-
GNSS EXperiment (MGEX) of the International GNSS Service
(IGS). This service provides orbit data in the Extended Standard
Product 3 Orbit Format (SP3) for the most common satellite
systems in Europe. SP3 format is a standard format in GNSS
ﬁeld and gives a fast access to this data without any special
adaptions.
F. Label for LOS/NLOS
The NovAtel receiver is also able to provide raw measure-
ment (pseudorange) information like the u-blox receiver. The
u-blox receiver provide information about all received satellite
signals. The NovAtel receiver seems to exclude some satellites
in harsh environments, which might be affected by NLOS.
NovAtel used for receiving a Pinwheel antenna and internally
different algorithms. Hence, we use this information to build a
NLOS detection based on different satellites availabilities in
both receivers. Therefore, we remember the last received set
of satellites from NovAtel and time of data. When we receive
in next step a set of satellites from u-blox, we compare the
availability of each satellite and time span since the last update
from the NovAtel. If the time span is too high or the satellite
was never seen before, the pseudorange measurement or satellite
marked as NLOS. In the other case, the measurement marked
as LOS. This approach gives a hint for the type of LOS or
NLOS of a given measurement and we export this information
to complete the datasets.
V.
OUTPUT OF DATA
This section describes in the ﬁrst part the structure of the
data and gives some comments for a fast implementation of an
importer for the data. The second part explains in more detail
the creation of the ground truth data, which is the base for a
comparison of each algorithm based on the low-cost data.
A. Structure of Exports
There are six message types, which are exported in separate
ﬁles. The name of the messages and the log type as well as
the frequency are described in Table IV. Additionally, the SP3
ﬁle is provided by the GFZ and we add this to our exports. All
exports have the same structure and the delimiter used in the
CSV-ﬁles are semicolons. Each line starts with the measurement
GPS time of the sensor, followed by the structure described in
the data manuals. Additionally, the exports for the messages
NAV-POSLLH and RXM-RAWX have information about the
ground truth included – more details are described in Section
V-C. That means, the structure of both ﬁle types follows this
structure:
NAV-POSLLH and RXM-RAWX: GPSWeek; GPSSeconds;
GTLongitude; GTLongitude Cov; GTLatitude; GTLatitude
Cov; GTHeight; GTHeight Cov; GTHeading; GTHeading Cov;

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
5
GTAcceleration; GTAcceleration Cov; GTVelocity; GTVelocity
Cov; GTYawRate; GTYawRate Cov; next entries followed by
manual for each message. . . GT means in this context ground
truth.
Other exports: GPSWeek; GPSSeconds; next entries fol-
lowed by manual for each message. . .
One full export of a scenario consists of the following data
ﬁles (same order like in Table IV):
1)
NAV-POSLLH.csv
A Geodetic Position Solution calculated by the low-
cost receiver.
2)
RXM-RAWX.csv
Multi-GNSS raw measurements for GPS and Glonass
from the low-cost receiver.
3)
YAWRATE.csv
Yaw-rate data from the ego motion sensor of the test
vehicle Carai1.
4)
VELOCITY.csv
Velocity data from the ego motion sensor of the test
vehicle Carai1.
5)
SP3 ﬁle
Includes the post-processed ephemeris data for all
relevant satellite systems.
6)
BESTPOS.csv and BESTVEL.csv
The BestPos is the raw ground truth message from
the reference system. We use this message for our
smoothing process to build the post-processed ground
truth. The BestVel includes best available velocity
data from the reference system.
All datasets are published under Creative Commons
Attribution-NonCommercial-ShareAlike 4.0 license on the
project website of smartLoc – http://mytuc.org/GNSS. A
complete package of each message types for all scenarios
is available there.
B. Challenges of selected scenarios
As described in section IV-B, we have decided us for urban
scenarios with harsh environments for satellite reception. The
challenges are the ever changing satellite availabilities. To
get a better understanding of NLOS inﬂuence in urban areas,
we chose the fourth scenario (Westend Tower) to show some
details. In Figure 5, two diagrams are shown to visualize the
challenge within this urban canyon. The lower diagram shows
the theoretically possible number of satellites currently visible
in relation to the satellites classiﬁed as NLOS. Accordingly,
the upper diagram shows the NovAtel receiver’s estimated
standard deviation. It is easy to see, that if the number of
NLOS measurements is increasing, the estimated accuracy is
decreasing in consequence. Indeed, we have situations with less
than four LOS satellites. Thus, the IMU supports the reference
system to stabilize the localization. This is important to note
and restricts the quality of the assumed ground truth originating
from the receivers BestPos messages. Later on, we describe
how to support the ground truth by post-processing it with
a smoother and additional odometry information. All other
recorded scenarios show the same effects between NLOS and
standard deviation of the reference system.
C. Merge all Data - Smoothing
During the measurement campaigns multiple sensors were
used. In detail, the sensor output of a u-blox EVK-M8T low-
0
100
200
300
400
500
600
700
Time [s]
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
Error [m]
Standard Deviation - Westend Tower
Standard Deviation BestPos (2D)
0
100
200
300
400
500
600
700
Time [s]
0
5
10
15
20
25
30
Number of satellites
LOS/NLOS GPS+GLO - Westend Tower
NLOS GPS+GLO
NovAtel GPS+GLO
All GPS+GLO+GAL (Elev > 15°)
Figure 5.
Inﬂuence of satellite numbers and NLOS to standard deviation of
BestPos message from reference system. The number of NLOS was created
after the strategy described in section IV-F. Both diagrams show the Frankfurt
Westend Tower scenario.
cost GNSS receiver, a NovAtel INS SPAN reference GNSS
system and the vehicle’s odometry has been recorded. As the
sensors are not synchronized, we have to align them ﬁrst to a
common timescale, before using them as input to our smoothing
algorithm.
The given system timestamp of each measurement denotes
the time of arrival according to the computer’s system clock.
The NovAtel and u-blox measurements also include the actual
time of measurement in GPS time. As the computer clock
is quite unstable in general and the timestamping is also
inﬂuenced by variable delays due to the operating system’s
thread scheduling, the time of arrival jitters a lot. To get the
highest quality ground truth, the data fusion has been performed
using GPS time as the reference. As the vehicles odometry
sensor lacks a GPS timestamp, it has been estimated as follows:
•
Estimate the relation between NovAtels GPS time of
measurement and time of arrival.
•
Estimate the relation between an idealized odometry
time of measurement and time of arrival.
•
Combine the two relations to transform the idealized
time of measurement to GPS time.
•
Correct the time offset to account for different process-
ing delays.
In the ﬁrst step the NovAtels GPS time of measurement was
compared to the time of arrival, estimating the bias and drift
between both clocks using a ﬁrst order polynomial curve ﬁt.
Following this, a stable internal clock that triggers odometry
measurements every 20 ms was assumed for the odometry
sensor. An idealized hardware timestamp was computed for
each odometry measurement as the product of the measure-
ments successive number and this period time. This hardware
timestamp was then related to the time of arrival the same
way as the NovAtels GPS time before. This yielded the bias
and drift between the idealized measurement time and the
computers system time.
Combining these two relations allowed then the computation
of the odometries apparent period time within the GPS timescale
and its time offset, so suitable GPS timestamps could be derived.

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
6
At last, the time offset needed to be adjusted as the previous
steps implicitly assumed that both sensors have the same time
delay between taking the measurement and applying the system
timestamp. An optimizer was used to tune the time offset
minimizing the average error between the odometries and
NovAtels velocity measurements. As a second optimization
parameter, the odometries velocity scaling error was determined
too. This scaling error is caused by a changed wheel diameter
due to tire wear in respect to the wheel diameter that the
revolution counter assumes.
Finally, a Rauch-Tung-Striebel smoothing ﬁlter is applied,
which uses an unscented Kalman ﬁlter in a two-way-smoothing
fashion. It used a constant turn-rate and acceleration (CTRA)
motion model to estimate the vehicle movement. This motion
model was chosen as it is one of the most advanced curvilinear
motion models commonly used for vehicle state estimation.
Further improvements – like the constant curvature and accel-
eration model (CCA) – offer only minor beneﬁts but lead to
fresnel integrals requiring numerical approximations increasing
the implementation complexity and computational cost. More
commonly, even simpler motion models like a constant turn-
rate and velocity (CTRV) or even constant velocity (CV) are
used. As their respective state spaces are subsets of the CTRA
state space, smoothing using the CTRA model creates a ground
truth that allows the evaluation of those as well.
TABLE V.
PROCESS NOISE PARAMETERS USED BY THE CTRA MODEL
BASED FILTERS
Parameter
Value
Angular acceleration
0.2 rad/s
Jerk
2.0 m/s3
Altitude acceleration
0.04 m/s2
Yaw-rate bias drift
0.0001 rad/s
A comparison of the mentioned motion models including
their basic state space deﬁnitions and state transition equations
can be found in [40]. Extending this, the CTRA model has
been augmented to use 3D coordinates. While the original
horizontal position estimation was left unchanged, the positions
Z component was added as well as an additional altitude
velocity to model the altitude assuming a constant climb rate.
To optimally include the odometry measurements, the scaling
error that had been estimated by the optimizer during the time
synchronization process is applied within the odometry velocity
measurement model. The odometry yaw-rate bias, however, was
estimated online by the ﬁlter assuming it to be constant. The
used noise parameters for the resulting process model are shown
in Table V. The angular acceleration and jerk being noises for
the otherwise constant turn-rate and acceleration, the altitude
acceleration for the constant altitude velocity and drift for the
estimated yaw-rate bias.
VI.
FACTOR GRAPH OPTIMIZATION
In the following section we want to give an example
of the result of state-of-the-art algorithms with the provided
dataset. For the estimation of a trajectory based on a set of
pseudo-ranges, a sensor fusion algorithm has to be applied.
Similar to our former benchmark [13], we use a factor
graph as graphical representation of a non-linear least squares
minimization problem. In its general topology the same graph
as proposed in [41] is used, including atmospheric (Ionosphere
and Troposphere) and satellite clock corrections. The robust
-700
-600
-500
-400
-300
-200
-100
0
UTM-X [m]
-100
0
100
200
300
400
500
UTM-Y [m]
Gaussian
Switchable Contraints
Dynamic Covariance Scaling
Ground Truth
Figure 6.
Resulting trajectory of an online factor graph optimization with
the GTSAM library for the Berlin Gendarmenmarkt dataset.
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
switch value
0
0.1
0.2
0.3
0.4
0.5
0.6
LOS Measurements
NLOS Measurements
Figure 7.
Normalized distribution of the switch variables of the switchable
constraints algorithm for the Berlin Gendarmenmarkt dataset. These weights
should be 1 for LOS measurements an 0 for NLOS, if the algorithms works
perfect.
algorithms Switchable Constraints (SC) [3] and Dynamic
Covariance Scaling (DCS) [4] were implemented within the
GTSAM framework [42] and solved online with the provided
iSAM2 algorithm [43]. For further algorithmic details, we refer
to our earlier descriptions in [13] or the original papers of
each algorithm. A constant position model is used to avoid the
more complex handling of the odometry, which has a different
measurement rate than the satellite system.
The estimated trajectory of the Berlin Gendarmenmarkt
data stream at Figure 6 shows the strong distortion that is most
likely caused by NLOS Observations. Table VI summarizes the
2-dimensional UTM-X/Y position error for all data streams.
This error can be described as the Euclidean distance between
the estimated position and the ground truth. Similar to our
former comparison at high NLOS ratios, the DCS algorithm
shows bad results. The high NLOS amount over 30% in
combination with the lack of odometry could be the reason for
the insufﬁcient performance of this algorithm. Especially with
the missing odometry and the simpliﬁed motion model, there
is no possibility to set the new initial position values different
from the previous ones. Such a suboptimal initialization can
be a problem for robust algorithms, like shown in [44] or [45].
Switchable Constraints on the other side is able to improve
the position estimate over the results of the pure Gaussian
factor graph. Nevertheless, is the improvement smaller than
we would expect based on our former work. To investigate the
problem of the SC algorithm, we visualized the switch values, a
kind of continuous weights for each measurement, with Figure

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
7
TABLE VI.
RESULT OF THE FACTOR GRAPH BASED POSITION ESTIMATION
Gaussian
Switchable Constraints
Dynamic Covariance Scaling
Absolute Position Error [m]
Dataset
mean
median
max
mean
median
max
mean
median
max
Berlin Potsdamer Platz
23.70
21.16
72.24
25.11
19.89
78.17
32.92
25.05
111.4
Berlin Gendarmenmarkt
17.04
15.86
62.90
15.32
13.06
54.21
22.84
19.26
118.5
Frankfurt Main Tower
19.68
12.74
158.1
18.02
10.32
137.9
61.95
29.50
763.1
Frankfurt Westend Tower
16.10
11.86
105.2
14.57
10.43
90.41
32.30
11.68
284.0
7. A perfect distribution would show all LOS values on the
right side around 1 and all NLOS values around 0 at the left.
Although the NLOS values are more on the left side than the
LOS one, the histogram is far from ideal. So, a high amount
of NLOS pseudoranges is included in the optimization process,
which explains the results. However, for ﬁnal conclusions about
the performance of robust algorithms on these datasets there is
still a lot to do.
VII.
CONCLUSION & OUTLOOK
Challenging datasets for the evaluation and application of
GNSS based position estimation algorithms have been presented
in this work. The selected tracks cover ordinary situations
typically encountered in urban environments, such as limited
satellite visibility, uncounted reﬂections and satellite signal
outages caused by buildings. As our aim is the reusability
of our dataset for the evaluation of competing algorithms
within the GNSS ﬁeld, we gave detailed information about
our experimental setup as well as an analysis of our datasets
including a description of the provided ﬁle types.
The included results of a factor graph based position
estimation provide a ﬁrst baseline to compare future imple-
mentations. For further improvements, the online estimation
of the underlying error distribution seems to be an important
next step. With a good representation of this distribution, we
will be able to apply other robust sensor fusion algorithms like
Max-Mixture [9] or generalized iSAM [46]. Also, we have to
invest more efforts to characterize the error distribution of this
dataset and the differences to our previous synthetic test.
Another point is the handling of information inside the
datasets. Currently, some expert knowledge is needed for
extracting the satellite positions from the SP3 ﬁle or to estimate
different errors, e.g., ionospheric or tropospheric delays, which
inﬂuence the accuracy of the ego position result. The extension
of our datasets for such information facilitate the access to the
information inside the dataset.
Within varying published work, some approaches use
camera information for NLOS detection [47], trafﬁc sign
recognition for additionally landmarks [48] or lane mark
recognition to stabilize the localization [49], to address just
some examples. Due to publishing camera information, the
dataset could be more interesting for variety of other approaches
using camera information.
ACKNOWLEDGMENT
This evaluation was done as part of the smartLoc project,
which is funded by the "Bundesministerium für Wirtschaft und
Energie" (German Federal Ministry for Economic Affairs and
Energy). For this evaluation and generation of ground truth
data, precise real-time corrections provided by the AXIO-NET
service (www.axio-net.eu) were used.
REFERENCES
[1]
J. Breßler, P. Reisdorf, M. Obst, and G. Wanielik, “Gnss positioning
in non-line-of-sight context - a survey,” 2016, manuscript submitted
for publication at 19th International IEEE Conference on Intelligent
Transportation Systems (ITSC).
[2]
Retrieved: Sept. 2016. [Online]. Available: https://www.smartLoc.eu/
[3]
N. Sünderhauf, “Robust optimization for simultaneous localization and
mapping,” Ph.D. dissertation, Technischen Universität Chemnitz, 2012.
[4]
P. Agarwal, G. D. Tipaldi, L. Spinello, C. Stachniss, and W. Burgard,
“Robust map optimization using dynamic covariance scaling,” in Proc.
of Intl. Conf. on Robotics and Automation (ICRA), 2013, pp. 62 – 69.
[5]
P. Agarwal, G. Grisetti, G. Diego Tipaldi, L. Spinello, W. Burgard, and
C. Stachniss, “Experimental analysis of dynamic covariance scaling for
robust map optimization under bad initial estimates,” in Proc. of Intl.
Conf. on Robotics and Automation (ICRA), 2014, pp. 3626 – 3631.
[6]
P. Agarwal, “Robust graph-based localization and mapping,” Ph.D.
dissertation, PhD thesis, University of Freiburg, Germany, 2015.
[7]
Y. Latif, C. Cadena, and J. Neira, “Robust loop closing over time for pose
graph slam,” The International Journal of Robotics Research, vol. 32,
no. 14, 2013.
[8]
G. H. Lee, F. Fraundorfer, and M. Pollefeys, “Robust pose-graph loop-
closures with expectation-maximization,” in Proc. of Intl. Conf. on
Intelligent Robots and Systems (IROS), 2013, pp. 556 – 563.
[9]
E. Olson and P. Agarwal, “Inference on networks of mixtures for robust
robot mapping,” The International Journal of Robotics Research, vol. 32,
no. 7, 2013, pp. 826–840.
[10]
D. M. Rosen, M. Kaess, and J. J. Leonard, “Robust incremental online
inference over sparse factor graphs: Beyond the gaussian case,” in Proc.
of Intl. Conf. on Robotics and Automation (ICRA), 2013, pp. 1025 –
1032.
[11]
N. Sünderhauf and P. Protzel, “Switchable constraints vs. max-mixture
models vs. rrr – a comparison of three approaches to robust pose graph
slam,” in Proc. of Intl. Conf. on Robotics and Automation (ICRA), 2013,
pp. 5198 – 5203.
[12]
Y. Latif, C. Cadena, and J. Neira, “Robust graph SLAM back-ends: A
comparative analysis,” in Proc. of Intl. Conf. on Intelligent Robots and
Systems (IROS), 2014, pp. 2683 – 2690.
[13]
T. Pfeifer, P. Weissig, S. Lange, and P. Protzel, “Robust factor graph
optimization – a comparison for sensor fusion applications,” in Proc. of
Intl. Conf. on Emerging Technologies and Factory Automation (ETFA),
2016.
[14]
Retrieved: Sept. 2016. [Online]. Available: http://www.gavrila.net/
Datasets/datasets.html
[15]
Retrieved: Sept. 2016. [Online]. Available: http://www.nrkbeta.no/2013/
01/15/nordlandsbanen-minute-by-minute-season-by-season/
[16]
Retrieved: Sept. 2016. [Online]. Available: http://radish.sourceforge.net
[17]
S. Ceriani, G. Fontana, A. Giusti, D. Marzorati, M. Matteucci,
D. Migliore, D. Rizzi, D. G. Sorrenti, and P. Taddei, “Rawseeds
ground truth collection systems for indoor self-localization and mapping,”
Autonomous Robots, vol. 27, no. 4, 2009, pp. 353–371.
[18]
Retrieved: Sept. 2016. [Online]. Available: http://projects.asl.ethz.ch/
datasets
[19]
Retrieved: Sept. 2016. [Online]. Available: http://www.udrive.eu/
[20]
Retrieved: Sept. 2016. [Online]. Available: https://insight.shrp2nds.us/
[21]
Retrieved: Sept. 2016. [Online]. Available: http://www.cvlibs.net/
datasets/kitti/
[22]
Retrieved: Sept. 2016. [Online]. Available: https://www.cityscapes-
dataset.com/

VEHICULAR 2016 : The Fifth International Conference on Advances in Vehicular Systems, Technologies and Applications
Copyright (c) IARIA, 2016. ISBN: 978-1-61208-515-9
8
[23]
Retrieved: Sept. 2016. [Online]. Available: http://lear.inrialpes.fr/data
[24]
G. Ros, L. Sellart, J. Materzynska, D. Vazquez, and A. Lopez, “The
synthia dataset: A large collection of synthetic images for semantic
segmentation of urban scenes,” in IEEE Conference on Computer Vision
and Pattern Recognition, 2016.
[25]
M. Obst, “Bayesian Approach for Reliable GNSS-based Vehicle Lo-
calization in Urban Areas,” Ph.D. dissertation, Technische Universität
Chemnitz, 2015.
[26]
Retrieved:
Sept.
2016.
[Online].
Available:
http://www.
businesslocationcenter.de/en/downloadportal
[27]
Retrieved: Sept. 2016. [Online]. Available: https://www.frankfurt.de/
sixcms/detail.php?id=3027
[28]
Retrieved: Sept. 2016. [Online]. Available: http://www.osm-3d.org/
[29]
R. Schubert, E. Richter, N. Mattern, P. Lindner, and G. Wanielik,
Advanced Microsystems for Automotive Applications 2010 - Smart
Systems for Green Cars and Safe Mobility.
Springer, 2010, ch. A
Concept Vehicle for Rapid Prototyping of Advanced Driver Assistance
Systems, pp. 211 – 219.
[30]
GPS-703-GGG and GPS-703-GGG-N User Guide, 4th ed., NovAtel,
April 2014.
[31]
Retrieved: Sept. 2016. [Online]. Available: http://www.vector.com/vi_
vadasdeveloper_en.html
[32]
Retrieved: Sept. 2016. [Online]. Available: https://www.baselabs.de/data-
fusion-algorithm-design/
[33]
U-blox 6 Receiver Description, GPS.G6-SW-10018-F ed., u-blox, April
2013.
[34]
U-blox 8 / u-blox M8; Receiver Description; Including Protocol
Speciﬁcation, R10 (111670) ed., u-blox, February 2016.
[35]
OEM6 Family of Receivers - Firmware Reference Manual, 9th ed.,
NovAtel, March 2016.
[36]
SPAN R
⃝ on OEM6 R
⃝ Firmware Reference Manual, 7th ed., NovAtel,
January 2015.
[37]
National Imagery and Mapping Agency, “Department of Defense
World Geodetic System 1984: its deﬁnition and relationships with local
geodetic systems,” National Imagery and Mapping Agency, St. Louis,
MO, USA, Tech. Rep. TR8350.2, January 2000. [Online]. Available:
http://earth-info.nga.mil/GandG/publications/tr8350.2/tr8350\_2.html
[38]
Global Positioning System Standard Positioning Service Signal
Speciﬁcation, 2nd ed., United States Coast Guard Navigation Center,
Juni 1995. [Online]. Available: http://www.navcen.uscg.gov/pubs/gps/
sigspec/gpssps1.pdf
[39]
M. Uhlemann, G. Gendt, M. Ramatschi, and Z. Deng, GFZ Global
Multi-GNSS Network and Data Processing Results.
Cham: Springer
International Publishing, 2016, pp. 673–679. [Online]. Available:
http://dx.doi.org/10.1007/1345_2015_120
[40]
R. Schubert, E. Richter, and G. Wanielik, “Comparison and evaluation
of advanced motion models for vehicle tracking,” in Information Fusion,
2008 11th International Conference on, June 2008, pp. 1–6.
[41]
N. Sünderhauf, M. Obst, S. Lange, G. Wanielik, and P. Protzel,
“Switchable constraints and incremental smoothing for online mitigation
of non-line-of-sight and multipath effects,” in Proc. of Intelligent Vehicles
Symposium (IV), 2013.
[42]
Retrieved: Sept. 2016. [Online]. Available: https://collab.cc.gatech.edu/
borg/gtsam
[43]
M. Kaess, H. Johannsson, R. Roberts, V. Ila, J. J. Leonard, and F. Dellaert,
“isam2: Incremental smoothing and mapping using the Bayes tree,” Intl.
Journal of Robotics Research, vol. 31, no. 2, Dec. 2012, pp. 216–235.
[44]
D. M. Rosen, C. DuHadway, and J. J. Leonard, “A convex relaxation
for approximate global optimization in simultaneous localization and
mapping,” in 2015 IEEE International Conference on Robotics and
Automation (ICRA), May 2015, pp. 5822–5829.
[45]
J. Wang and E. Olson, “Robust pose graph optimization using stochastic
gradient descent,” in 2014 IEEE International Conference on Robotics
and Automation (ICRA), May 2014, pp. 4284–4289.
[46]
D. M. Rosen and J. J. Leonard, “Nonparametric Density Estimation
for Learning Noise Distributions in Mobile Robotics,” in Workshop on
Robust and Multimodal Inference in Factor Graphs, ICRA, 2013.
[47]
P. D. Groves, Z. Jiang, M. Rudi, and P. Strode, “A Portfolio Approach to
NLOS and Multipath Mitigation in Dense Urban Areas,” in Proceedings
of the 26th International Technical Meeting of The Satellite Division of
the Institute of Navigation (ION GNSS 2013), 2013, pp. 3231 – 3247.
[48]
A. Welzel, P. Reisdorf, and G. Wanielik, “Improving urban vehicle
localization with trafﬁc sign recognition,” in 2015 IEEE 18th Interna-
tional Conference on Intelligent Transportation Systems, Sept 2015, pp.
2728–2732.
[49]
N. Mattern, M. Obst, R. Schubert, and G. Wanielik, “Simulative analysis
of accuracy demands of co-operative localization in the COVEL project,”
in Intelligent Vehicles Symposium (IV), 2011 IEEE, June 2011, pp. 516
– 521.

