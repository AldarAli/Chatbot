Node Pair Selection Scheme for MIMO Multiuser System
Using Repeated Application of Stable Matching Algorithm
Testuki Taniguchi and Yoshio Karasawa
The Department of Communication Engineering and Informatics
Advanced Wireless Communication research Center (AWCC)
The University of Electro-Communications (UEC)
Tokyo, 182-8585 Japan
Email: taniguch@ee.uec.ac.jp, karasawa@radio3.ee.uec.ac.jp
Abstract—This study attempts an extension of previously pro-
posed node pair selection scheme in multiuser Multiple Input
Multiple Output (MIMO) communication network based on
stable matching problem to the case in which one node can be
a candidate of plural pair nodes. To cope with such a situation,
repeated application of stable matching algorithm is considered,
where total pairs are determined through some stages, each of
which selects subset of pair nodes. Thanks to the polynomial
complexity of matching algorithm, the proposed procedure still
keeps low computational cost. Applications considered here are
multiple point to multiple point multiuser system and the si-
multaneous selection of source-relay-destination pairs. Computer
simulations are carried out to investigate the possibility of the
effectiveness of the proposed concept. It has been shown that the
proposed method is useful for the efﬁcient node pair selection in
multiple point system where one source node can transact plural
destinations.
Keywords–Node
selection;
Multiple
Input
Multiple
Out-
put (MIMO) network; multiuser; interference channel; stable
matching.
I.
INTRODUCTION
Recently, MIMO interference channel [1] got attention
since its utilization is widely found in many applications in
communication networks [2]-[4]. Different from conventional
multiuser MIMO, this system consists of plural nodes, as the
source and destination, and the total performance depends on
the node pair selection. The best way is the exhaustive search
of the pairs with the best performance (since the number
of node pairs is limited, the best solution could be always
found at the expense of heavy computational burden), but it
normally requires a considerable computation. On the contrary,
ﬁxed pair selection needs no computation and sometimes it
could be a reasonable choice; but, under the channel variation,
performance of this scheme is degraded.
In a previous work [5], we have presented a node pair
selection scheme in relay-aided multi-point MIMO commu-
nication system based on stable matching theory (so called
“stable marriage problem”). The preference of target node is
ﬁrst determined based on some kinds of metrics like the max-
imum eigenvalue, norm; it has been shown that the solution
using Gale-Shapley algorithm [6] can improve the performance
compared with the ﬁxed pair case with low computational cost.
This method is putting the importance on the simpleness of the
procedure; the node pair selection is simply applied to each of
two hops separately. But, we still have many applications in the
area of communication engineering in which the conventional
approach cannot be directly utilized. The typical example is
the case where the source nodes can communicate with plural
destinations which is found in multi-cellular communication.
As one of such cases, this study attempts the extension of node
pair selection scheme presented in [5] to the case in which one
candidate can conform node pair with plural pair nodes. For
this aim, repeated application of the stable matching algorithm
is considered, where total pairs are determined through some
stages, each of which selects subset of pair nodes. Here, we
inspect the possibility of such algorithms through two types
of problems including the above-mentioned typical example
of MIMO interference channel.
The organization of the rest of this paper is as follows: in
Section II, the system model of two types of communication
scenario is shortly given. In Section III, the detail of the
proposed node pair selection scheme is described. Section IV
evaluates the possibility of the effectiveness of the proposed
approach through computer simulations. Finally, Section V
provides the concluding remarks of this study and the future
works.
II.
SYSTEM MODEL
This section describes the two models of communication
systems considered in this work.
A. Fundamental System
This fundamental system has the typical structure of
multiple point to multiple point multiuser system, as shown
in Figure 1 (a), consisting of M-sources ({Sm;
m
=
0, · · · .M − 1}, Sm is equipped with Ns,m antennas) and
Md-destination ({Dmd; md = 0, · · · .Md − 1}, Dmd has
Nd,m antennas) nodes (this study assumes M
≤
Md).
The channel between Sm and Dmd is represented by Nd,m-
by-Ns,m matrix Hd,md,s,m whose (nd, ns)-th element is a
complex-valued response between ns-th and nd-th antennas
of source and destination. Source Sm transmits Lm data
streams {sm,ℓ(t); ℓ = 0, · · · , Lm − 1} to destination
Ddm (dm ∈ Z[0, Md − 1]) which forms node pair with
Sm through MIMO channel Hd,dm,s,m, where weight vector
ws,m,ℓ with Ns,m-dimension is used for the transmission
of the ℓ-th data stream sm,ℓ(t), and weight vector wd,dm,ℓ
with Nd,dm-dimension is used for the production of ourput
ˆsm,ℓ(t). If the relation of source and destination is one-to-
one, stable matching procedure can be directly applied for the
determination of the node pairs. But here, we assume that Sm
can transact plural destinations (Ddm,0, · · · , Ddm,Md,m−1).
The modiﬁcation in such a case is described in the following
section.
60
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-368-1
ICSNC 2014 : The Ninth International Conference on Systems and Networks Communications

(a) Fundamental system. Souce Sm can communicate with plural (Md,m)
destinations, while every destinations have only one pair source.
(b) Relay-aided system. Each of source, relay, and destination have one-to-one
relation.
Figure 1.
Model of multiple point to multiple point communication system.
B. Relay-Aided System
The construction of relay-aided system in this study is
shown in Figure 1 (b). The difference from the previous
model is in two points; (i) the system has Amplify and
Forward (AF) relays {Rmr; mr = 0, · · · , Mr−1} with Nr,mr
antennas (M ≤ Mr ≤ Md), and (ii) one-to-one connection
among nodes (this is not mandatory, but here, we use this
assumption to measure the effect of each scenario separately).
Relay Rrm receives signal from source Sm, produces output
sr,m,ℓ(t) (it is the estimate of sm,ℓ(t) corrupted by noise) using
weight vector wr,r,m,ℓ and retransmits it to destination Ddm
using weight vector wr,t,m,ℓ. Hence, we need to determine M
node pairs of source, relay, and destination; one method has
been presented in [5] and another one is described in the next
section.
C. System Design
In this study, weight vectors which appear in the two
previous subsections are derived by channel inversion tech-
nique [7] (but it is applied to the product of the channel
and destination weight, where destination weight is designed
by singular value decomposition of the target channel as
follows). Namely, the receiver vector of Rrm detecting the
ℓ-th data stream is derived as the right singular vector of
Hx,m,y,n (((x, y) = (s, r) or (r, d)) for the fundamental
system, and ((x, y) = (s, d) for the relay-aided system)
corresponding to the ℓ-th largest singular value. Then transmit
weight matrix is calculated by wx,m = (Hy,n,x,mV0,m)−,
where ((x, y) = (s, r) or (r, d)) or (s, d) and A− denotes
the pseudo-inverse of matrix A. The columns of V0,m spans
kernel of Hy,−m,x,m, where Hy,−m,x,m is given by removing
Hy,m,x,m from [Hy,0,x,m, · · · , Hy,M−1,x,m. This design
method is adopted because (i) the design method with the best
performance is not the main topic of this study, and (ii) it can
avoid the problem of energy allocation, and suitable for the
evaluatin of the pure effect of node selection.
III.
NODE PAIR SELECTION
This section describes node pair selection schemes corre-
sponding to each of two models shown in Section II.
A. Fundamental System
The total procedure consists of four steps, namely,
(i)
calculation
of
preference
function
fx,n,y,m,
(ii)
determination
of
preference
order
list
Px,m
from
fx,n,y,m, (iii) node pair selection based on Px,m, and
(iv) removal of nodes which already have maximum number
of pair nodes. The difference from the conventional approach
is in that those steps are repeated to cope with the support of
plural target nodes. The detailed manipulations are as follows:
(i) First, preference function fx,n,y,m = fy,m,x,n, (x, y =
s, d, x ̸= y) is deﬁned as a metric which shows how node
x prefers node y. In this study, it is calculated based on the
channel condition, since it is considered as an adequate index
of the internode connection.
Here, we consider ﬁve types of metrics in the below.
(a) Fixed: Node pairs are ﬁxed (e.g., dm = m), which is
equivalent to the case without node pair selection.
(b) Largest Eigenvalue: Preference function is fd,n,s,m = λ0,
where λ0 is the largest eigenvalue of Hd,n,s,m.
(c) Approximated Sum Capacity: Preference function is
fd,n,s,m = ∑ log2 (1 + λk), where λk is the k-th largest
eigenvalue of Hd,n,s,m.
(d)
Norm:
Preference
function
is
fd,n,s,m
=
∥Hd,n,s,m∥F (approximation of sum capacity).
(e)
Absolute
Sum:
Preference
function
is
fd,n,s,m =
∑
p,q
|Hd,n,s,m,p,q|, where Ap,q
is the (p, q)-
th element of matrix A (simple approximation of sum
capacity).
Among those, (b), (c) are based on eigenanalysis, (d)
needs multiplication, and (e) does not require either, hence
the computational burden of (e) becomes much lower.
2
(ii) Second, the preference order list Px,m = {ps,m,0 ≻ · · · ≻
ps,m,N−1} (N = M, Md) is obtained, where x ≻ y denotes
that x is preferred to y. The list is made simply by the relation
if fx,p,y,m > fx,q,y,m, then ps,m,p ≻ ps,m,q.
2
(iii) Third, the Gale-Shapley algorithm (for the detail of this
algorithm, see [5] or [6]) is utilized to determine the node pairs
based on preference order list. It is assured that the algorithm
converges to stable pairs within polynomial time. Then, if
Sm is connected to a destination with the largest preference
61
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-368-1
ICSNC 2014 : The Ninth International Conference on Systems and Networks Communications

function, they are recognized as a pair. If not, this source node
proceeds to next iteration to search for a better candidate of
the pair node.
2
(iv) Fourth, if the number of pair nodes for node xm has
reached its maximum (here, Md,m for Sm, and 1 for all
destinations), then xm is removed from active nodes (active
node means a node which has pair nodes less than its maximum
and further looking for its next pair) and the preference order
list of all active nodes. Then the procedure goes back to step
(i), and repeats steps until no active source node is left.
2
The above procedure requires repetition of original al-
gorithm, but still keeps the polynomial computational time.
Together with the fact that the node pair selection itself
demandes just changing list elements several times without any
multiplication, once the metric is given, the computational cost
is very low.
B. Relay-Aided System Design
In the previous work [5], we have considered separate node
pair selection in each of source-relay and relay-destination
links, but another idea is to choose both link simultaneously.
This scheme can be achieved by a similar procedure, as
shown in Section III-A; this is the reason we consider this
application here. The aim dealing with relay-aided system
is to inspect which is better choice. In addition, the above
idea has a possibility to be extended to multihop multinode
systems, where method of [5] is not used; since it can include
different number of hops depending on the routing. But here,
we concentrate on the inspection of the effect in one-to-one
relaying application.
The pair selection steps are shown below (for the
discrimination
from
the
step
number
(i),
(ii),
etc.,
in
Subsection III-A, here, we use (1), (2), etc.).
(1)
Consider
a
set
of
channels
{Hd,n,r,k,s,m
=
Hd,n,r,kHr,k,s,m}
and
deﬁne
preference
function
fx,n,y,m,k
=
fy,m,k,x,n, which can be regarded as a
fundamental
system
of
MMr
source
nodes
and
Md
destinations.
2
(2) Preference order list Px,m
=
{py,m,0
≻
· · ·
≻
py,m,N−1} (N
=
MMr, Md) is made, and node pair
selection is carried out in the same manner as step (ii) of the
previous section.
2
(3) If the pairs of different destinations contain same source
or relay, then the destination with larger preference function
is chosen. After that, the source, relay, and destinations which
already have pair nodes are removed from active nodes. The
elements concerning those removed nodes are concurrently
removed from preference list of all active nodes, and steps
(1)∼(3) are repeated until no active source node is left.
2
This procedure is assured to converge since that of each
iteration is guaranteed. The comparison with the conventional
approach is made in the next section.
IV.
COMPUTER SIMULATION
Default simulation conditions are enumerated in Table I. In
this section, computer simulations are carried out to investigate
the effectiveness of the procedures described in Section III.
TABLE I.
DEFAULT SIMULATION CONDITIONS.
User Number
M = 3
Node Number
Source
M = 3
Relay
Mr = 5
Destination
Md = 8
Antenna Number
Source
Ns,m =
{
6
(Lm = 1)
12
(Lm = 2)
Relay
Nr,m = 6
Destination
Nd,m = 2
Data Stream Number
Lm = 2
Modulation
QPSK
Relaying Scheme
Amplify and Forward (AF)
half-duplex
Relay SNR
SNRr,m = 5 ∼ 30 dB
(default : 20dB)
Destination SNR
SNRd,m = 5 ∼ 30 dB
(default : 20dB)
Fading
(fundamental)
Hd,n,s,m
i.i.d. Quasistatic
Rayleigh
Fading
(relay-aided)
Hd,n,s,m
ignored
Hr,n,s,m
Hd,n,r,m
}
i.i.d. Quasistatic
Rayleigh
The
evaluation
is
by
sum
capacity
represented
by
Cm =
∑
ℓ
log2(1 + γm,ℓ) for the m-th user, where γm,ℓ is the
Signal to Interference plus Noise Ratio (SINR) of the ℓ-th data
stream of the m-th user, which should be discriminated from
Signal to Noise Ratio (SNR) SNRx,m (x = r, d) deﬁned as
energy ratio of transmitted signal and the receiver noise. The
modulation scheme is QPSK (a fundamental scheme with PAM
in both of real and imaginary axes), but the effectiveness of the
proposed scheme is not affected by the choice of modulation.
In the fundamental system (Section III-A), the number of
users is M = 3, while that of destination is Md = 8, where all
of them are equipped with Ns,m = 6 (singlestream) or Ns,m =
12 (multistream) and Nd,m = 2 antennas, respectively. The
number of data streams is Lm = 1 or 2, and one source
node supports two users, hence Md,m = 2. In the relay-aided
system (Section II-B), where Nr,m = 6 and other conditions
are same as multistream transmission in the fundamental case,
the ﬁrst hop is assumed not Ricean (LOS: Line Of Sight),
but Rayleigh fading with unit variance since (i) there are
applications this assumption applies [8], and (ii) in case of
LOS, it is clear that the effect of node pair selection in the
ﬁrst hop is small when direct path is dominant.
Under those simulation conditions, the mean statistics are
calculated using 2,000 samples of fading channels.
Figure 2 shows empirical distribution functions of sum
capacity in fundamental system. Here, because of the sym-
metry of the channels among nodes, the curves of mean
value over ∑ Md,m users are considered. In both subplots for
(a) singlestream (Lm = 1) and (b) multistream (Lm = 2), the
curves of node pair selection (four solid lines corresponding to
the metrics (b)sim(e)) overcome that of ﬁxed case (broken line
corresponding to the metric (a)), which shows the proposed
approach in Section II-A has certain effectiveness. (Since the
curves of (b)∼(e) overlap and not identiﬁable, all of them
are written by solid line. For the comparison of (b)∼(e),
see Figure 3.) The amount of improvement seems not so
large, but we should remark that this is achieved only by the
exchange of node pairs, and in particular adopting absolute
sum preference function, no multiplications are required. In
both ﬁgures, one of preference functions (in (a) absolute sum,
62
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-368-1
ICSNC 2014 : The Ninth International Conference on Systems and Networks Communications

0
2
4
6
8
10
12
0
0.2
0.4
0.6
0.8
1
Capacity [bit/s/Hz]
Cumulative Probability
(a) Singlestream (Lm = 1).
0
5
10
15
20
0
0.2
0.4
0.6
0.8
1
Capacity [bit/s/Hz]
Cumulative Probability
(b) Multistream (Lm = 2).
Figure 2.
Distribution function of capacity in fundamental system shown in
Figure 1 (a).
and in (b) maximum eigenvalue) is inferior to others, but only
quite small difference can be observed.
The difference among ﬁve preference functions more
clearly can be seen in Figure 3, which depicts the relation
between the destination number Md versus capacity in multi-
stream case. Though small perturbation by the randomness of
the sample appears, we can observe the trend of the curves; as
Md increases, the effect of node pair selection becomes larger.
From this ﬁgure, it can be seen that the performance of
capacity improvement is the largest using capacity preference
function, but absolute sum without multiplication attains ca-
pacity close to it, which is good nature from the viewpoint
of computational cost. In this multistream case, the maximum
eigenvalue is not a suitable function.
The relation between user number M = 1 ∼ 5 and capacity
(per user) is depicted in Figure 4. In this ﬁgure, every source
again supports two users (Nd,m = 2), hence each of them
should deal with Nd,mLm streams (for example, in case of
8
10
12
14
16
18
20
9
9.5
10
10.5
11
Destination Number M d
Capacity [bit/s/Hz]
 
 
Fixed
Max. EV
Capacity
Norm
Absolute Sum
Figure 3.
Destination number versus capacity in fundamental system (Lm =
2).
1
2
3
4
5
8
10
12
14
16
18
20
22
User Number M
Capacity [bit/s/Hz]
Figure 4.
User number versus capacity in fundamental system (Ns, m =
20, Lm = 2).
M = 5 and Lm = 2,, totally 20 streams). Therefore, the
number of source antenna is changed to Ns,m = 20. We can
observe from the graph that the capacity decreases as the user
number increase, but what is important is the effectiveness of
the node pair selection is not decreased.
Turning to the target to the relay-aided system, distribution
functions of capacity for ﬁxed (broken line, preference function
(a) in Section III) and node pair selection (two solid lines)
adopting absolute sum preference function ((e) in Section
III) are drawn in Figure 5. The latter represented by two
solid curves correspond to two methods, namely, separate
selection in two hops [5] and the approach shown in Section
III-B. From this ﬁgure, what can be observed is they have
quite similar characteristics. Therefore, in this situation, the
proposed method does not have advantage against the previous
one in [5] which has simpler procedure, so we need to search
another application in multihop network where method [5]
cannot be directly used.
63
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-368-1
ICSNC 2014 : The Ninth International Conference on Systems and Networks Communications

0
5
10
15
20
0
0.2
0.4
0.6
0.8
1
Capacity [bit/s/Hz]
Cumulative Probability
Figure 5.
Distribution function of capacity in relay-aided system shown in
Figure 1 (b) (Lm = 2).
V.
CONCLUSION AND FUTURE WORK
This study has presented the extension of node pair se-
lection scheme for multiuser MIMO communication based on
stable matching problem to the case where one node can be
a candidate of plural pair nodes. The repeated application of
stable matching algorithm with the polynomial complexity is
considered, which consists of some stages in each of which
a subset of pair nodes is determined. Computer simulations
have been carried out to investigate the possibility of the
effectiveness of the proposed concept. The proposed method
is useful for the node pair selection in multiple point system
in which one source node can transact plural destinations.
A future work is the extension of the proposed method
to efﬁcient multihop rooting in multinode communication
system, where the paths with different number of hops become
candidates of the selection.
ACKNOWLEDGMENT
This research was supported in part by the Grant-in-Aid for
Scientiﬁc Research (No. 25249056) from Japan Society for the
Promotion of Science (JSPS). Authors will thank to Dr. Nobuo
Nakajima, UEC, for his helpful discussion about the initial idea
of this work.
REFERENCES
[1]
M. Maddah-Ali, A. Motahari, and A. Khandani, “Communication
over MIMO X Channels: Interference Alignment, Decomposition, and
Performance Analysis,” IEEE Trans. Inf. Theory, vol. 54, no. 8, Aug.
2008, pp. 3457-3470.
[2]
T. Q. S. Quek, G. de la Roche, I. Gueven, and M. Kountouris (Eds).,
Small Cell Networks: Deployment, PHY Techniques, and Resource
Management, Cambridge University Press, Cambridge, UK, 2013.
[3]
F. Monsees, C. Bockelmann, D. Wubben, and A. Dekorsy, “A sparsity
aware multiuser detection for machine to machine communication,”
2012 IEEE Global Commun. Conf. Workshops (Globecom Workshops),
Dec. 2012.
[4]
M. Barbeau and E. Kranakis, Principles of Ad-hoc Networking, Wiley,
Sussex, UK, 2007.
[5]
T. Taniguchi and Y. Karasawa, “An elementary study on node pair
selection in relay-aided communication system based on stable marriage
problem,” Tech. Rep. IEICE, RCS2014-50, June. 2014.
[6]
A. E. Roth and M. A. O. Sotomayor, Two-sided matching: A study
in game-theoretic modeling and analysis, Cambridge University Press,
Cambridge, UK, 1990.
[7]
Q. H. Spencer, C. B. Peel, A. L. Swindlehurst, and M. Haardt, “An
introduction to the multi-user MIMO downlink,” IEEE Commun. Mag.,
vol. 42, no. 10, Oct. 2004, pp. 60-67.
[8]
S. Loyka and G. Levin, “On outage probability and diversity-
multiplexing tradeoff in MIMO relay channels,” IEEE Trans. Commun.,
vol. 59, no. 6, pp. 1731-1741, June 2011.
64
Copyright (c) IARIA, 2014.     ISBN:  978-1-61208-368-1
ICSNC 2014 : The Ninth International Conference on Systems and Networks Communications

