Investigating the Effect of Bit Depth Rescaling on Spectral Bands Cross-Correlation 
in Hyperspectral DataCube 
Ayman Mahmoud Ahmed 
Egyptian Space Program 
National Authorty for Remote Sensing and Space 
science 
Cairo, Egypt 
ayman.mahmoud@narss.sci.eg 
 
  
Salwa ElRamly 
Department of Electronics and Communication 
Engineering 
Ain-Shams University 
Cairo, Egypt 
sramlye@netscape.net 
Abstract— Hyperspectral data analysis nowadays is one of 
the most common activities in the scientific community 
regarding data fusion and processing; most available free data 
through NASA websites are very helpful for researchers and 
postgraduate studies; Data has different formats band 
interleaved by pixel (BIP), Band sequential (BSQ) and  Band-
Interleaved-by-Line (BIL); also, it differs in bit depth from 12 
to 16; as well as processed or raw format, headers included or 
without header; many researchers have to reformat the data 
for further use with either standard software like Environment 
for Visualizing Images software (ENVI), or custom developed 
software. This paper investigates the effect of rescaling pixel 
bit depth of hyperspectral data, on the spectral correlation 
between successive bands of the datacube. On the other hand, 
all other reformatting processes like band reordering and 
headers removal will not affect the spirit of the hyperspectral 
cube itself.  
Keyword - Hyperspectral Datacube; Spectral correlation; Bit 
depth; Spectral Analysis.  
I. 
INTRODUCTION 
Hyperspectral images typically have a high degree of 
spectral 
and 
spatial 
correlation. 
Consequently, 
data 
compression can significantly reduce hyperspectral data 
volumes to more manageable size for storage and 
communication. 
Compressing hyperspectral data cube with Component 
Of The Shelf (COTS) coders has became an interesting area 
of research. A standard video coder has been used to 
compress hyperspectral data in many researches. A video is a 
sequence of still images, a hybrid video coder use the 
correlation in time by doing block based motion 
compensated prediction between images. In principle only 
the differences are transmitted. This method of coding is 
used on hyperspectral data if we consider one of the three 
dimensions as the time axis  [1]. 
Hyperspectral data is distinguished by its unique spatial-
temporal and spectral correlation for data in three 
dimensions, manipulating the data may affect one of its 
exclusive properties. 
Investigating 
the 
spectral 
correlation 
between 
hyperspectral bands showed that, on one sample, there is a 
strong spectral correlation between different bands that are 
up to 40 − 50 bands away  [2]. 
Bit depth is the number of bits used to represent a pixel; 
dynamic range is closely related with bit depth which gives 
more accurate representation of the point being imaged. 
For most free available hyperspectral data samples from 
airborne or space-borne, large bit depth is used (10-16 bit per 
pixel); on the other hand, many researchers have carried out 
their research using COTS program for the hyperspectral 
data; while COTS software available more likely to operate 
in 8 bits per pixel. 
This paper begins with an introduction about the need of 
bit depth rescaling in hyperspectral data compression using 
video codec in the first section; while in the second section, 
bit depth rescaling is defined and explained; section three 
discusses the cross-correlation and equation to estimate it; 
fourth section shows how the experiment was carried out and 
data samples parameters; finally, results are shown and 
discussed.  
 
II. 
BIT DEPTH RESCALING 
Bit depth is one of the main attributes of any image. The 
more bits assigned to each pixel, the more possible 
intensities states the pixel can take. Conventional bit-depth 
scaling methods such as spatial 2D filtering and dithering 
algorithms  [4] suffer from false contours or dithered pattern 
artifacts, which significantly deteriorate image quality in 
display devices. 
Based on linear bit depth rescaling  [5]; this experiment 
has been carried out, converting the bit depth from 12-16 bit/ 
pixel to 8bit/pixel. 
Linear rescaling sets a minimum and maximum input 
value to 0 and 255 respectively and all other values in 
between are linearly aligned to intermediate output values. 
In digital grayscale images one has a finite number of 
different intensities available, usually between 256 and 4096 
levels, depending on the application. The number of 
uncompressed bits per pixel is the bit depth of the image. 
Bit depth 8 allows 256 intensity levels; bit depth 12 
allows 4096 intensity levels. 
Downscaling of bit depth are investigated by researcher 
in order to enhance the process of rescaling and minimize the 
losses  [6]; rescaling process makes each pixel intensity down 
scaled to another value while this should not affect visual 
sense of the human eye; in the field of hyperspectral imaging 
rescaling may affect the spectral correlation between 
82
Copyright (c) The Government of Egypt, 2012. Used by permission to IARIA.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

successive bands negatively, which may consequently result 
in different behavior when using a compression algorithm 
depend on inter-band correlation.  
III. 
SPECTRAL CROSS-CORRELATION  
A correlation is a number between -1 and +1 that 
measures the degree of similarity between two variables in 
our case it is bands or images. A positive value for the 
correlation implies a positive association (large values of X 
tend to be associated with large values of Y and small values 
of X tend to be associated with small values of Y). A 
negative value for the correlation implies a negative or 
inverse association (large values of X tend to be associated 
with small values of Y and vice versa). 
Cross-correlation is used usually to describe the relation 
between two probably similar signals, hyperspectral 
datacube is distinguished with the significant highly 
correlated bands; since the same image is taken in different 
spectral bands; there is a high probability of having many 
regions within the image that reflects the light with the same 
intensity. 
Measuring the inter band similarity with Cross-
correlation  using "(1)" indicated how these bands can be 
predicted, or generated from each other, this concept is used 
in hyperspectral data compression. 
Cross-correlation is estimated using the following 
formula: 
cori,j =cov(xi,xj)/√(var(xi)∗var(xj))    
(1) 
where cori,j is the correlation value between bands i and j; 
cov(xi,xj) is the covariance between bands i and j; var(xi) and 
var(xj) is the variance of the individual bands, i and j,  
respectively.  
The normalization and mean values of the correlation 
between bands are implemented according to Fast 
Normalized Cross-Correlation  [7]. 
The proposed algorithm assumes a template of one image 
then represents the template as sum of rectangular basis 
function, the correlation is then implemented to each basis 
function instead of the whole template, and the result is 
weighted sum of the correlation function of the basic 
functions. 
 
IV. 
IMPLEMENTATION 
The implementation was carried out by using ENVI  [9] 
for rescaling of hyperspectral data down to 8-bits per pixel; 
bands 
Cross-correlation 
has 
been 
estimated 
using 
MATLAB  [8] program, to generate Cross-correlation  curves 
for both the original data and the downscaled data. 
In Figures 1, 2, 3, 4, 5, 6 and 7, x-axis is the bands 
number starting from 0 till 224, while Y-axis is the Cross-
correlation values with maximum of 1 represents identical 
highly correlated successive bands, while zero indicates no 
correlation between the two successive bands. 
Cross-correlation between bands is estimated for the 
original data cube; the hyperspectral datacube is then linearly 
rescaled and the inter-band Cross-correlation is estimated for 
the new datacube with the same way and same order.   
Hyperspectral data used is downloaded from Airborne 
Visible 
Infrared 
Imaging 
Spectrometer 
(AVIRIS) 
website  [10]; the hyperspectral data cube has the following 
characteristics: 
The files are in raw format (no header).  All data samples 
are stored as: 2-byte integers, big-endian byte order, band-
interleaved-pixel (BIP). 
Each file is a 512-line with 224 bands. 
- "hawaii_sc01.raw" is 512 lines x 614 samples x 224 
bands, instrument bit depth = 12 bits 
- "maine_sc10.raw" is 512 lines x 680 samples x 224 
bands, instrument bit depth = 12 bits 
- "Aviris_sc0" is 512 lines x 680 samples x 224 bands, 
instrument bit depth = 16 bits. 
- "Aviris_sc3" is 512 lines x 680 samples x 224 bands, 
instrument bit depth = 16 bits. 
- "Aviris_sc10" is 512 lines x 680 samples x 224 bands, 
instrument bit depth = 16 bits. 
- "Aviris_sc18" is 512 lines x 680 samples x 224 bands, 
instrument bit depth = 16 bits. 
- "f960705t01" is 512 lines x 680 samples x 224 bands, 
instrument bit depth = 16 bits. 
 
In all the figures, solid RED line represents the inter-band 
correlation in the original data; while dotted Blue line is the 
downscaled data. 
V. 
RESULTS 
Seven files downloaded from the AVIRIS website, each 
figure below indicates the name of each file; in Figures 1, 2, 
3 and 4, it can be seen that the highly correlated bands have 
lost their correlation after the downscaling process. 
 
 
Figure 1, "Aviris_sc0".  
In Figure 1, Inter band Cross-correlation has been lost after 
the process of bit depth rescaling. 
83
Copyright (c) The Government of Egypt, 2012. Used by permission to IARIA.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

 
Figure 2, "aviris_sc3".  
In Figure 2, Inter band Cross-correlation has been lost after 
the process of bit depth rescaling. 
Figure 3, "f960705t01".  
In Figure 3, Inter band Cross-correlation has been lost after 
the process of bit depth rescaling. 
 
Figure 4, aviris_sc18. 
In Figure 4, Inter band Cross-correlation has been lost after 
the process of bit depth rescaling. 
On the other hand, in Figures 5, 6 and 7, bands kept their 
property in different -uncontinuous- manner. 
 
Figure 5, "aviris_sc10". 
In Figure 5, Inter band Cross-correlation has been preserved 
after the process of bit depth rescaling, but in a difference 
discrete manner.  
 
Figure 6, hawaii. 
In Figure 6, Inter band Cross-correlation has been preserved 
after the process of bit depth rescaling, but in a difference 
discrete manner. 
 
Figure 7, maine_sc10. 
In Figure 7, inter band Cross-correlation has been preserved 
after the process of bit depth rescaling, but in a difference 
discrete manner. 
Losing about 50% of pixel`s value, even in with a linear 
relative manner, have shown that, this is not a linear process; 
84
Copyright (c) The Government of Egypt, 2012. Used by permission to IARIA.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

and correlation cannot be kept even if the ratio between 
values across bands is preserved. 
Losing Cross-correlation is significantly observed in the 
results, which gives a conclusion about the similarity 
behavior between bands. 
A significant point can be noted in almost all curves; that 
the downscaling process reverses the correlation behavior 
between bands.   
CONCLUSION 
The process of bit depth rescaling for hyperspectral data 
cube takes a significant time of processing, as well as 
estimating the Cross-correlation between successive bands in 
the datacube. 
Processing one datacube takes about 420-460 second 
using Matlab 2010 running in Intel core2 due Quad (3 GHz) 
processor. 
Surprisingly, inter-bands Cross-correlation  has been lost 
in the downscaling process; From the graphs, it can be 
concluded  that the process of bit depth rescaling for the 
hyperspectral datacube significantly affects the cross- 
correlation between hyperspectral data bands, in most cases 
the Cross-correlation  is missed during the process of linear 
rescaling. 
It is not recommended to downscale the bit depth of 
hyperspectral data cube if further data fusion or spectral 
profile analysis is needed. 
Many researches that used a COTS decoder  [1] have to 
reconsider this issue and indicated whether this process can 
affect their results or not. 
However; COTS codec should be modified -if it is an 
open source- to handle data with more intensity ranges, i.e., 
10-12-16 bit per pixel. 
One important issue explains why the using video codec 
that depend on successive bands similarities, usually gives a 
non satisfactory results in compressing hyperspectral data. 
Losing these similarities-correlation- between bands has a 
great influence on the performance of the Video codec.  
Further studies can be carried out in different types of bit 
depth rescaling methods such as Gaussian and square root; 
which may have a significant improvement on inter band 
Cross-correlation.  
REFERENCES 
[1] 
A. Linderheda, N. Wadströmera, K. Stenborga, and H. Nautschb, 
“Compression of Hyperspectral Data for Automated Analysis” Image 
and Signal Processing for Remote Sensing  Berlin, Germany, Proc. of 
SPIE Vol. 7477 74770P-1, April 2009. 
[2] 
D. Manolakis R. Lockwood, and T. Cooley "On The Spectral 
correlation  structure of Hyperspectral Imaging Data" Geoscience and 
Remote 
Sensing 
Symposium, 
2008, 
pp. 
908-925, 
doi:  
10.1147/rd.523.0275 
[3] 
M. Chiarella, D. Fay, A. Waxman, and R. Bomberger, "Multisensor 
image fusion and mining: from neural systems to COTS software 
with application to remote sensing AFE " Advances in Techniques for 
Analysis of Remotely Sensed Data, IEEE Workshop, 2003, pp. 100 - 
107, doi: 10.1109/WARSD.2003.1295180  
[4] 
Y. Kihyun and H. Kim "An adaptive image bit-depth scaling method 
for image displays " Consumer Electronics, IEEE Transactions 
February 2010, pp. 141 - 146, doi: 10.1109/TCE.2010.5439137 
[5] 
M. Winken, D. Marpe, H. Schwarz, and T. Wiegand "Bit Depth 
Scaleble Video coding"  Image Processing IEEE International 
Conference 2007, pp. I - 5 - I - 8  doi :  10.1109/ICIP.2007.4378877   
[6] 
A. Sevcenco and W. Lu "Adaptive Down-Scaling Techniques for 
JPEG-Based Low Bit-Rate Image Coding "  IEE Signal Processing 
and Information Technology 2006, pp 349 – 354, doi: 10.1109/ 
ISSPIT.2006.270824  
[7] 
J. Lewis, ``Fast Template Matching'', Vision Interface,  Image 
Processing, IEEE  Volume: 16 Issue:8  1995, pp. 2139 - 2149, doi: 
10.1109/TIP.2007.901243 
[8] 
http://www.mathworks.com/index.htm  [retrieved: Jan. 2011] 
[9] 
http://www.exelisvis.com/language/en-us/productsservices/envi.aspx 
[retrieved: Jan. 2011] 
[10] http://compression.jpl.nasa.gov/hyperspectral  [retrieved: Dec. 2011] 
 
85
Copyright (c) The Government of Egypt, 2012. Used by permission to IARIA.     ISBN:  978-1-61208-194-6
SPACOMM 2012 : The Fourth International Conference on Advances in Satellite and Space Communications

