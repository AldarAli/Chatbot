Development of a System for Detection and Monitoring of Heart Diseases
based on ECG and Activity Recognition
Pinar Bisgin, M.Sc.
HealthCare, Fraunhofer Institute for Software and System Engineering, Dortmund, Germany
Email: pinar.bisgin@isst.fraunhofer.de
Abstract—Patients with suspected chronic heart failure or symp-
tomatic arrhythmias receive long-term Electrocardiogram ECG.
The ECG device records the electrical activity of the heart in
a variety of activities in everyday life. The patient must record
a protocol during the measurement to demonstrate the various
activities of daily life and at different times of the day. The
protocol to be made is usually inaccurate because the patient
has not usually logged every single activity. Through the fusion
of activity detection and ECG, this information is passed on
to the physician to aid in the assessment of the diagnosis.
Furthermore, the method can be used for therapeutic purposes
to consider cardiac activity in speciﬁc activities. Human daily
activity recognition has gained much attention since it has a
wide range of applications. In the preliminary work was a Body
Sensor Network (BSN) developed consisting of accelerometer,
gyroscope, and barometer. For that purpose 20 subjects are
participated. This collected sensor data was evaluated using
Machine-Learning algorithms. Finally, the averaged classiﬁcation
results could be obtained: achieving F1 score of (89.22±3.18) %
with the SVM algorithm. In upcoming work, the proposed activity
classiﬁcation module will be combined with a mobile ECG sensor.
This combination can be provided with a possible and correct
protocol, but also relieve the patient. In further steps, the data
can be identiﬁed using the combined sensor data which have
pathological patterns. For this purpose, classiﬁcation algorithms
will be used.
Keywords–Human-activity
recognition;
activity
recognition;
wearable sensors; mobile healthcare system; ECG; fusion.
I.
INTRODUCTION
Patients with chronic heart failure or symptomatic ar-
rhythmias, a long-term Electrocardiogram (ECG) is usually
performed. Long-term ECG is an important tool for diagnosing
cardiovascular diseases and assessing the involvement of the
cardiovascular system in primary extracardiac disorders. The
long-term ECG and the accompanying activity measurement
can be used to monitor the state of health. The vital parameters
of the patient can be recorded at a deﬁned load. The resting
pulse, pulse during exercise and the respiratory rate can be
recorded - especially in the larger efforts, such as climbing
stairs. The recording of activities with a longer period of time
is very important. With the pacemaker already the activity can
be measured. Thus, the health condition of the patient can
be observed and deteriorations can be detected. Furthermore,
it is suitable for controlling antiarrhythmic pharmacotherapies
[1], i.e. Congestive Heart Failure (CHF). To diagnose these
arrhythmias, patients are medically monitored in their everyday
life. The monitoring can take several hours to several days.
The measurement takes place at the home of the patients.
The ECG device records the electrical activity of the heart
in a variety of activities in everyday life. The patient must
protocol the various activities they are performing during
the measurement using a long-term ECG [2], because the
doctor wants to evaluate the heart activity of the patient. The
patient protocols his activities so that the doctor can look at
each recorded heart activity, what the patient was doing, and
whether the heart activity is in the normal range. After the data
has been recorded, it is evaluated by a physician. However, the
protocol to be made is usually inaccurate because the patient
usually has not logged every single activity. If irregularities
are identiﬁed by the doctor, it cannot be understood exactly
what the patient was doing at a given time. This combination
can be provided with a possible and correct protocol, but also
relieve the patient. Furthermore, pathological patterns can be
identiﬁed from the data by using classiﬁcation algorithms.
The paper addresses past work, and aims to unveil future
work as part of a PhD. The paper is organized as follows: Sec-
tion 2 describes the preliminary work for activity recognition.
Finally, section 3 describes some thoughts of the dissertation.
II.
PRELIMINARY WORK
A. Body Sensor Network
In order to achieve therapeutic success, an attempt is made
to recognize the activity by means of a BSN. A BSN includes a
number of implanted, portable (near-the-body) or near-remote
sensors and low power actuators. The purpose of BSNs is
not only to monitor the patient’s illness, but also to make
predictions about the course of the disease. For long-term
patient monitoring, daily activities must be detected with high
accuracy. The focus is on activities in daily life such as rest,
walking, jogging, and climbing stairs.
Figure 1. Wearable sensor platform ﬁxed at a test subject’s upper body.
47
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-759-7
HEALTHINFO 2019 : The Fourth International Conference on Informatics and Assistive Technologies for Health-Care, Medical Support and Wellbeing

The BSN is based on an Arduino Micro, which contains a
ATmega32U4 microcontroller. The data is provided via I2C
by the 10DOF sensor module GY86, which comprises the
barometric pressure sensor MS5611, as well as the MPU6050
3D accelerometer and 3D gyroscope. A MicroSD breakout
board+ was used for data storage. The entire platform is
ﬁxed at the test subject’s upper body by use of a chest band
(see Figure 1) [3]. The study was conducted with 20 healthy
volunteers (45/55 % male/female) with age (24 ± 4) years
(range 21–38 years). The study protocol was divided into two
parts, which provided the training and test data and had an
approximate duration of 20 min and 30 min, respectively.
Both protocol stages comprised several phases of the activities
standing, walking, jogging, upstairs and downstairs.
B. Activity Classiﬁcation
Activity classiﬁcation can aid in the evaluation of the
medical data. The classiﬁcation task is usually used to provide
medical sensor systems with context information such as the
ECG. For this purpose, positioned a sensor platform on the
back of the subjects. Subsequently, a study was carried out with
the sensor platform. The platform recorded sensor data stored
on an integrated SD card. For evaluating the sensor platform
with efﬁcacy the conducted study was divided into two parts. In
the two parts, the algorithm’s training and evaluation data were
collected on the classes walking, standing, running, ascending
stairs and descending stairs. The goal was to evaluate daily
activities with the algorithm.
This sensor data were evaluated using Machine-Learning al-
gorithms like k-Nearest-Neighbors (KNN), Support Vector
Machines (SVM), Neural Networks, Random Forest and Ad-
aBoost. The process caused the calculation of various features
and several feature selection techniques used to reduce dimen-
sionality. It helped to improve the classiﬁcation quality. Finally,
parameter optimization was carried out for each classiﬁer. The
hyperparameter was optimized with respect to the F1 score [4]
F1 = 2 · P · S
P + S ,
(1)
which combines the two common measures of classiﬁcation
accuracy, sensitivity S and precision P
S =
TP
TP + FN
P =
TP
TP + FP,
(2)
where TP, FP, and FN denote true positives, false positives,
false negatives, respectively. As a result, an optimal combina-
tion was obtained of parameters for the respective classiﬁers.
After completion of optimization, the second part of the study
was evaluated using a grid search. Then, averaging of the
optimized parameters over all the subjects was done.
TABLE I. SVM CLASSIFICATION RESULTS.
Activity
Sensitivity [%]
Precision[%]
F1-Score [%]
idle
97.69 ± 1.76
99.02 ± 1.71
98.33 ± 1.04
walk
85.80 ± 7.11
94.88 ± 3.74
89.88 ± 3.79
run
95.11 ± 6.29
99.79 ± 0.94
(7.28 ± 3.60)
up
91.51 ± 11.81
76.85 ± 11.55
82.35 ± 7.55
down
85.91 ± 8.81
73.69 ± 13.38
78.26 ± 8.57
total
91.21 ± 3.39
88.85 ± 2.51
89.22 ± 3.18
With these values, ﬁnally, the averaged classiﬁcation results
could be obtained: F1-score of the SVM (89.22 ± 3.18)%,
which achieved the best results. While KNN, Random Forest
and AdaBoost had promising results, too, Neural Networks
did not work on the data. The results of the classiﬁcation
using SVM of the activities idle, walk, run, up and down are
summarized in TABLE I.
III.
UPCOMING WORK
With the accelerometer, gyroscope and the barometer, it is
possible to recognize the activities standing, walking, jogging,
upstairs and downstairs. There were no motion artifacts de-
tected by positioning the BSN on the back. The portable device
activity classiﬁcation module is developed on a continuous
basis because of the following requirements: classiﬁcation
accuracy, energy consumption and computation time.
In my dissertation, I would like to expand the activity
recognition by adapting the sensor system to real-time mea-
surement. The research question is: the combination of heart
data and activity helps to better differentiate physiological
states. Furthermore, the proposed scheme has great potential
in real-time applications due to its inability to dimensionality
reduction, simple classiﬁer structure, and good recognition
performance.
In addition to the activity, a continuous ECG measurement
should take place in order to detect direct changes. This
component should also be integrated into the sensor network.
With the combination of the ECG and activity detection, on
the one hand, the physician can receive the assignment of
heart activities during daily activities. On the other hand, an
evaluation can be made by the algorithm, so that a home
monitoring system can detect pathological patterns from the
data without going to a doctor. For this reason, I have to
involve clinical partners to consider patients with CHF. The
CHF is a chronic progressive disease that affects the pumping
capacity of the heart muscle. The heart is unable, despite
sufﬁcient blood supply, to promote sufﬁcient cardiac output.
Cardiac output refers to the volume that the heart spills into the
circulation per minute [5]. Patients and clinical partners will
be involved during these projects from the University Hospital
Aachen and Bonn, Germany.
REFERENCES
[1]
G. e. a. Sauer, “Position paper for performing quality checks on resting,
exercise and long-term ecg,” Journal of Cardiology, vol. 94, no. 12, 2005,
pp. 844–857.
[2]
R. Klinge, The Electrocardiogram: Guide to Education and Practice.
Georg Thieme publishing company, 2015.
[3]
J. Kirchner, S. Faghih-Naini, P. Bisgin, and G. Fischer, “Sensor selection
for classiﬁcation of physical activity in long-term wearable devices,” in
2018 IEEE SENSORS, pp. 1709–1712.
[4]
A. Bulling, U. Blanke, and B. Schiele, “A tutorial on human activity
recognition using body-worn inertial sensors,” ACM Computing Surveys
(CSUR), vol. 46, no. 3, 2014, p. 33.
[5]
C. Prinz, Basic Knowledge of Internal Medicine.
Springer publishing
company, 2012.
48
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-759-7
HEALTHINFO 2019 : The Fourth International Conference on Informatics and Assistive Technologies for Health-Care, Medical Support and Wellbeing

