Exploring the Impact of Node Cooperation Level on Routing in Cognitive Radio 
Networks 
 
Ling Hou, Angus K. Y. Wong 
School of Science and Technology 
The Open University of Hong Kong (OUHK) 
HKSAR, China 
e-mail: lhou@ouhk.edu.hk, akywong@ouhk.edu.hk  
Alan K. H. Yeung 
Department of Electronic Engineering 
City University of Hong Kong 
HKSAR, China 
e-mail: eeayeung@cityu.edu.hk 
 
 
Abstract‚ÄîIn this paper, we analyze the effect of different 
degrees of node cooperation on the performance of routing 
protocols for cognitive radio networks. We first present an 
analytical model of the routing performance in terms of 
expected end-to-end packet delivery ratio (PDR) for cognitive 
radio networks with uncooperative node behaviors. We also 
performed extensive simulations to evaluate the analytical 
model. The simulation results show that Optimal Primary-
Aware Route Quality Protocol (OPERA) could provide better 
PDR 
performance 
under 
higher 
degrees 
of 
network 
cooperation and Shortest Path First routing protocol (SPF) 
works better under lower cooperation degrees. Finally, our 
results suggest that even a modest level of node cooperation is 
sufficient to achieve significant performance improvement with 
respect to the fully non-cooperative network in which all 
secondary users are selfish.  
Keywords- node selfishness; cognitive radio; routing. 
I. 
 INTRODUCTION 
The cognitive radio paradigm [1][2] has attracted much 
attention in the research and industrial community in recent 
years. Different from conventional spectrum regulation 
paradigms in which the spectrum is allocated to fixed 
licensed users (or primary users) for exclusive use, a 
cognitive radio system permits unlicensed users (or 
secondary users) to utilize idle spectrum in a dynamic 
manner. In cognitive radio networks (CRNs), the secondary 
users (SUs) should sense the spectrum environment, find 
available spectrum channels and utilize them without 
interfering the transmission of primary users (PUs) [3]. 
Communication is opportunistic in CRNs because SUs 
can transmit in the spectrum channels if PUs are not using 
them. Meanwhile, connectivity is intermittent due to the 
unpredictable node mobility. Therefore, to ensure routing 
services, nodes are requested not only to act as packet 
forwarders but also to perform spectrum sensing. That means, 
both energy and computing resources, which are very limited 
in a typical mobile node, have to be sacrificed for the other 
nodes‚Äô good. Hence, some SUs show lower degree of node 
cooperation with a selfish motivation to save their own 
resources [4][5][6]. It will lead to the failure of most existing 
routing protocols. This is because most existing routing 
protocols operate under the assumption that all SUs are fully 
cooperative in the routing operations [6].  
Since routing is the most important network functionality 
in CRNs, in this paper we focus our attention on evaluating 
the impact of node cooperation level on routing performance 
in terms of end-to-end packet delivery ratio (PDR). First, we 
present a theoretical framework for studying the effects of 
different node cooperation levels for proactive routing 
protocols. Then, we perform extensive simulations to 
evaluate the theoretical analysis model. More specifically, 
we consider three common CRN routing protocols, including 
Shortest Path First (SPF) [7], Spectrum Aware Mesh Routing 
Protocol (SAMER) [8], and Optimal Primary-Aware Route 
Quality Protocol (OPERA) [9]. The main findings of this 
evaluation are: i) OPERA has the potential to provide the 
best packet delivery ratio in presence of reduced node 
cooperation levels; and ii) even a modest level of node 
cooperation is sufficient to achieve a considerable 
performance improvement over the fully non-cooperative 
scenarios.  
The rest of this paper is organized as follows. Section II 
describes the system model. In Section III, we give the 
analysis framework, and derive the expected Packet Delivery 
Ratio (PDR) of routing under different degrees of 
cooperation. In Section IV, we validate the accuracy of our 
system model by simulation. Finally, we conclude this paper 
in Section V. 
II. 
SYSTEM MODEL 
We consider a CRN with a set of SUs, which is denoted 
by V. There exist M primary users, which are indexed by 1, 
2, ‚Ä¶ , M. Each PU n holds a licensed frequency channel n 
and the probability that PU n is active on its channel is 
denoted by Œªn. And each PU n has a interference range Rn. A 
SU could utilize channel n, if the SU is not in the 
interference boundary of PU n or PU n is not active. Then, 
the CRN could be modeled as a direct graph: 
 
G(t) = (V, E), 
(1) 
where a vertex vi ‚àà V denotes a SU, and an edge eij ‚àà E 
denotes the presence of at least one communication link ùëí!"
! 
from SU vi to SU vj through the channel n: 
. 
6
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-456-5
COCORA 2016 : The Sixth International Conference on Advances in Cognitive Radio

Considering the uncooperative behaviors we study in this 
paper, we cluster the SUs into two groups respectively 
denoted by V1 and V2, where V1 denote the selfish SUs and 
V2 denote the selfless SUs. Let Œ≥ = |V1| / |V| denote selfish 
SU intensity in the CRN where |V1| means the number of 
SUs in V1 and |V| means the total number of nodes in the 
network.  
To model cooperation level of SUs in this paper, we 
define a cooperation value for each SU by the probability 
with which it would forward packets from other SUs. Let œÅi 
denote the cooperation value of a SU vi, where vi ‚àà V. In this 
paper, we assume that SUs in V2 will always forward packets 
from other nodes. Therefore, for vi ‚àà V2, œÅi =1. 
III. 
PERFORMANCE ANALYSIS 
In this section, we characterize the expected Packet 
Delivery Ratio (PDR) of routing under different degrees of 
cooperation. For mathematical tractability, we only consider 
the routing protocols with which routes are determined in 
proactive manner. Let Di,j denote the event that a packet is 
generated for a source-destination (vi, vj). Denote the route 
determined for the source-destination (vi, vj) by the ordered 
set L = {l1, l2, ‚Ä¶ , l|L|}, where lk‚àà L denote the index of the 
kth SU along the route, l1=i, and l|L|=j. For simplicity, we 
also use lk to denote the SU ùë£!!. 
In the CRN, whether a packet could be successfully 
delivered to the destination is dependent on the effect of the 
PU, SU mobility and/or SU cooperation level. Therefore, 
we measure the expected end-to-end PDR by explicitly 
accounting for the effect of the relative movement between 
two SUs, the relative movement between SU and PU, and 
the cooperation value of SU. 
A. Packet Delivery Ratio over a Link 
Let ùê∑!! denote the event that a packet sucessfully arrives 
at SU lk. Now we consider the next hop from SU lk to SU 
lk+1. Evaluating the expected PDR over the link from SU lk 
to SU lk+1 is equivalent to computing the conditional 
probability of the event ‚Äúthe packet is sucessfully received 
at SU lk+1‚Äù. Given ùê∑!!, then whether the packet could be 
successfully transmitted to SU lk+1 is totally dependent on 
the state of the communication link between SU lk to SU 
lk+1. If the link is connected and not affected by PU activity, 
then the packet could be transmitted to SU lk+1. But whether 
SU lk+1 would like to accept the packet and forward it to the 
next hop is totally dependent on its cooperation value. 
We denote the probability that the link between SU lk 
and SU lk+1 being connected by Œ±k,k+1. The calculation of 
Œ±k,k+1 is similar to that in wireless networks, which has been 
extensively studied by considering the relative movement 
between two mobile nodes. In this paper, we adopt the 
approach introduced in [10] to calculate Œ±k,k+1. Since the 
calculation procedure is complex, we do not give an explicit 
expression of Œ±k,k+1. Please refer to [10] to learn more.  
Let ùõø!
! denote the probability that a SU lk enters into the 
 
interference boundary of PU n. A SU entering into the 
interference boundary of a PU means that the relative 
distance between the SU and the PU is less than the 
interference range of the PU. Similarly to the calculation of 
Œ±k,k+1, we can obtain the probability ùõø!
!. The activity of PU 
n can interfere with the communications between SU lk and 
SU lk+1 if either SU lk or SU lk+1 enters into the interference 
boundary of PU n. We use ùõø!,!!!
!
 to denote the probablity 
that the activity of PU n can interfere with the 
communications between SU lk and SU lk+1. Then, the 
probability ùõø!,!!!
!
 can be calculated by: 
 
. 
(2) 
Channel n is not available for communication between SU lk 
and SU lk+1, if the activity of PU n can interfere with the 
communications between them and PU is active on channel 
n. We use spectrum availability ùõΩ!,!!!
!
to denote the 
probability that channel n is available for communication 
link between SU lk and SU lk+1 to use. Therefore, spectrum 
availability  ùõΩ!,!!!
!
could be given as: 
 
, 
(3) 
where, ùõø!,!!!
!
 is given in (2), and Œªn is the activity 
probablity of PU n on channel n. And if no channel is 
avaialble for communication between SU lk and SU lk+1, 
then the transmission would be blocked. Let ùõΩ!,!!! denote 
the block probability due to spectrum unavailability. Then, 
the block probability ùõΩ!,!!! can be calculated by: 
 
. 
(4) 
For simplicity, we assume that the relative movement 
between SU lk to SU lk+1, the spectrum availability and the 
cooperative levels of SU lk+1 are independent. Therefore, the 
expected packet delivery ratio over a link from SU lk to SU 
lk+1 is given by (5), where  ùúå!!!! is the cooperation value of 
SU lk+1.  
Remark. The expected packet delivery ratio (5) allows us to 
estimate the packet delivery ratio sent over a link by 
accounting for three main factors that affect the 
transmission of this link: (1) the SU movement, via the 
probability Œ±k,k+1; (2) the PU characteristics, via the 
probability ùõΩ!,!!!; (3) the cooperation level of next hop, via 
cooperation value ùúå!!!!. Notice that at the last hop, since the 
receiver of the last hop is the destination, it will always be 
willing to receive the packet. From (5), we can notice that 
the smaller is  ùúå!!!!, the smaller is the packet delivery ratio. 
Thus, the coopeartion value of the SUs should be considered 
into the route selection. 
 
7
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-456-5
COCORA 2016 : The Sixth International Conference on Advances in Cognitive Radio

 
. 
(5)
 
B. End-to-End Packet Delivery Ratio 
Based on the aforementioned work, we now derive the 
analytical expression of end-to-end packet delivery ratio. 
Evaluating the end-to-end PDR for the source-destination 
(vi, vj) is equivalent to computing the probability of the 
event ‚Äúa packet generated at an SU vi is successfully 
delivered to destination vj‚Äù. Thus, we have 
 
 
. 
(6) 
Then the expected end-to-end delay over the whole 
network is calculated as: 
 
, 
(7) 
where P(Di,j) is the probability that a message is generated 
for the source-destination (vi, vj). It could be estimated 
based on the number of packets generated between vi and 
vj in the past. In this paper, we assume that the source-
destination pairs are randomly selected among all SUs. 
Then, P(Di,j) = 1/|V|(|V|-1).  
IV. 
MODEL VALIDATION 
In this section, we evaluate our analysis by comparing 
the theoretical results obtained based on our model with 
the simulation results, which are obtained by simulating 
the packet dissemination under three different routing 
protocols for CRNs (i.e., SPF, SAMER, and OPERA) with 
different cooperation levels.  
A. Simulaiton Setting 
In our simulation, the network topology consists of 50 
SUs randomly distributed in a square area of the side of 
500 m. All the SUs are mobile and follow the random 
walk mobility (RWM) model [11], in which each SU‚Äôs 
movement consists of a sequence of random length 
intervals called mobility epochs. During an epoch, a SU 
moves in a constant direction at a constant speed. The 
speed and direction of mobile during each epoch is 
uniformly distributed over (0, 20m/s) and (0, 2œÄ) 
respectively. The transmission ranges of SUs are set to be 
30m. 
In the simulated area, there are 10 PUs and each PU 
possesses a licensed channel. Each channel n is utilized by 
a PU with a probability Œªn‚àà [0.05, 0.95]. And the 
interference ranges of PUs are all set to be 50m.   
We vary the selfish SU intensity Œ≥ from 0.0 to 1.0 with 
step of 0.1. We will also vary the cooperation value œÅi of 
selfish SUs with two different values: 0 and 0.5. For each 
value of Œ≥ and œÅi, we run the simulation for 1000 times. 
B. Simulation Results 
Simulation results are shown as below. Figure 1 shows 
the expected end-to-end packet delivery ratio vs. Œ≥ for SPF 
protocol with values of Œ≥ from 0.0 to 1.0. Figure 2 shows 
the results for SAMER protocol and Figure 3 shows the 
results for OPERA protocol. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 1.  End-to-end PDR with SPF routing v.s. selfish user intensity. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 2.  End-to-end PDR with SAMER routing v.s. selfish user 
intensity. 
From the results, we first note that there is a very good 
agreement between the theoretical and the experimental 
results for two different cooperation values under SPF, 
SAMER and OPERA protocols.  
 
8
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-456-5
COCORA 2016 : The Sixth International Conference on Advances in Cognitive Radio

Second, we could find that for all three protocols, the 
expected end-to-end PDR decreases as the number of 
selfish nodes increases. Thus, to provide efficient routing 
performance for CRNs, it is necessary to incorporate 
selfish node detection mechanisms into routing protocol.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 3.  End-to-end PDR with OPERA routing v.s. selfish user 
intensity. 
Moreover, through comparison between results of 
different routing protocols, we can find that OPERA is 
able to provide the best packet delivery ratio in cases with 
higher cooperative level (lower selfish SU intensity Œ≥ and 
higher cooperation value). But when the selfish SU 
intensity Œ≥ increase to almost 1 and the cooperation value 
becomes 0, SPF protocol performs better than OPERA. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 4.  End-to-end PDR with OPERA routing v.s. coperation value.  
We also give the results for SPF protocol with different 
values of  œÅi from 0.0 to 1.0 in Figure 4. From Figure 4, 
we also find that a modest level of increase in node 
cooperation is sufficient to achieve a considerable 
performance improvement in packet delivery ratio. Thus, 
it is essential to enhance the cooperation willingness of 
SUs in order to provide efficient routing performance, 
such as introduce some reward-and-penalty mechanism. 
V. 
CONCLUSISON 
In this paper, we characterized the performance of 
proactive routing protocols for CRNs under different 
levels of node cooperation. We also perform extensive 
simulations to validate our analysis. The simulation 
results give some insights into future routing protocol 
designs for CRNs, such as incorporate selfish node 
detection 
mechanisms 
and 
reward-and-penalty 
mechanism into routing protocols. In the future work, we 
will focus on applying our conclusions to CRNs. 
ACKNOWLEDGMENT 
The work described in this paper was fully supported 
by a grant from the Research Grants Council of the Hong 
Kong SAR, China (UGC/FDS16/E05/14). 
REFERENCES 
[1] S. Haykin, ‚ÄúCognitive radio: brain-empowered wireless 
communications,‚Äù, IEEE Journal on Selected Areas in 
Communications, vol. 23, iss. 2, 2005, pp. 201‚Äì220. 
[2] J. Mitola III and G. Q. Maguire, Jr., ‚ÄúCognitive Radio: 
Making Software Radios More Personal,‚Äù IEEE Personal 
Commun., vol. 6, no. 4, Aug. 1999, pp. 13‚Äì18. 
[3] M. Cesana, F. Cuomo, and E. Ekici, ‚ÄúRouting in cognitive 
radio networks: challenges and solutions,‚Äù Elsevier Ad Hoc 
Network Journal, vol. 9, no. 3, 2011, pp. 228‚Äì248.  
[4] S. Bayhan and J. Kangasharju, ‚ÄúExtending cognitive radios 
with 
new 
perspectives,‚Äù 
Proc. 
Sixth 
International 
Conference 
on 
Ubiquitous 
and 
Future 
Networks 
(ICUFN‚Äô2014), July 2014, pp. 363-368. 
[5] Y. Xing and R. Chandramouli, ‚ÄúHuman behavior inspired 
cognitive radio network design,‚Äù IEEE Communications 
Magazine, vol. 46, iss. 12, 2008, pp. 122‚Äì127. 
[6] K. C. How, M. Ma, and Y. Qin, ‚ÄúAn altruistic 
differentiated service protocol in dynamic cognitive radio 
networks against selfish behaviors,‚Äù Elsevier Computer 
Networks, vol. 56, iss. 7, 2012, pp. 2068‚Äì2079. 
[7] X. W. Zhou, L. Lin, J. P. Wang, and X. S. Zhang,   ‚ÄúCross-
layer Routing Design in Cognitive Radio Networks by 
Colored 
Multigraph 
Model,‚Äù 
Wireless 
Personal 
Communications,  vol. 49,  no. 1, 2009,  pp.123‚Äì131. 
[8] I. Pefkianakis, et al., ‚ÄúSAMER: spectrum aware mesh 
routing in cognitive radio networks,‚Äù 3rd IEEE Symposium 
on New Frontiers in Dynamic Spectrum Access Networks 
(DySPAN 2008)., Chicago, IL, 14-17 Oct. 2008, pp.  1‚Äì5. 
[9] M. Caleffi, I.F. Akyildiz, and L. Paura, ‚ÄúOPERA: Optimal 
Routing Metric for Cognitive Radio Ad Hoc Networks,‚Äù 
IEEE Transactions on  Wireless Communications, vo1. 1,  
iss. 8, 2012, pp. 2884‚Äì2894. 
[10] Y. B. Bai and L. Gong, ‚ÄúLink availability prediction with 
radio irregularity coverage for mobile multi-hop networks,‚Äù 
IEEE Communications Letters, vol. 14, iss. 1, 2010, pp. 
518‚Äì520. 
[11] T. Camp, J. Boleng, and V. Davies, ‚ÄúA survey of mobility 
models 
for 
ad 
hoc 
network 
research,‚Äù 
Wireless 
Communications Mobile Computing , vol. 25, 2002, pp. 
483‚Äì502.  
 
 
9
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-456-5
COCORA 2016 : The Sixth International Conference on Advances in Cognitive Radio

