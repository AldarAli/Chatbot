Design and Implementation of Candlestick Chart Retrieval Algorithm  
for Predicting Stock Price Trend 
Yoshihisa Udagawa  
Computer Science Department, Faculty of Engineering,  
Tokyo Polytechnic University 
Atsugi-city, Kanagawa, Japan 
e-mail: udagawa@cs.t-kougei.ac.jp 
 
 
Abstract—Advances in data mining techniques are now making 
it possible to analyze a large amount of stock data for 
predicting future price trends. The candlestick charting is one 
of the most popular techniques used to predict short-term 
stock price trends, i.e., bullish, bearish, continuation. While the 
charting technique is popular among traders and has long 
history, there is still no consistent conclusion for the 
predictability of the technique. The trend of stock prices often 
continues after intervals of several days because stock prices 
tend to fluctuate according to announcements of important 
economic indicators, economic and political news, etc. To cope 
with this kind of stock price characteristics, this paper focuses 
on a dynamic programming algorithm for retrieving similar 
numerical sequences. To be specific, the well-known Longest 
Common Subsequence (LCS) algorithm is revised to retrieve 
numerical sequences that partially match. The proposed 
algorithm also handles a relative position among a stock price, 
5-day moving average, and 25-day moving average to take into 
account where the price occurs in price zones. Experimental 
results on the daily data of the Nikkei stock average show that 
the proposed algorithm is effective to forecast short-term 
trends of stock prices. 
 
Keywords— Stock price prediction; Technical analysis; 
Candlestick charts; Longest common subsequence algorithm for 
numbers; Multi numerical attributes; Nikkei stock average. 
I. 
 INTRODUCTION 
Stock market prediction techniques play a crucial role to 
bring more people into market and encourage markets as a 
whole. Fundamental analysis and technical analysis are two 
popular approaches to successful stock trading [1]. 
Fundamental analysis combines economic, industry, and 
company analysis to derive a stock’s current fair value and 
forecast future value. Traders apply this approach over a long 
period of time, e.g., months, quarters. Because of this 
analyzing processes, most investors believe that fundamental 
analysis is mainly suitable for long-term prediction. 
Technical analysis is a study of market action, primarily 
through the use of charts for the purpose of forecasting future 
price trends [2]. Technical analysis is based on the following 
three premises: 
 1. Market action discounts everything: a stock’s price 
reflects all relevant information such as economic, 
fundamental and news events, 
 2. Prices move in trends: prices trend keep directionally, i.e., 
up, down, or sideways, for a certain period, 
 3. History repeats itself: the repetitive nature of price 
movements is mainly attributed to market emotions like 
fear or excitement that often repeat themselves. 
One of the important types of technical analysis is 
candlestick chart patterns [2]. The candlestick chart patterns 
provide short-term predictions for traders to make buy or sell 
decisions. While most of techniques use statistics of stock 
prices, the candlestick charting technique focuses on patterns 
among several days of candlesticks formulated by opening, 
high, low, and closing prices within a specific time frame, 
such as minute, hour, day or week. Dozens of candlestick 
chart patterns are identified to be signals of bullish/bearish 
reversals and continuations. These patterns consist of a 
single candlestick or a combination of multiple candlesticks. 
In fact, the technique acts as a leading indicator with its 
capability to provide trading signals earlier than other 
technical indicators based on statistics. It is also used by 
some real time technical service providers [3] to provide 
quick signals for market’s sentiments. 
The candlestick charting technique probably began 
sometime after 1850 [2]. Despite of its long history and 
popularity, mixed results are obtained in the studies on 
candlestick 
charting. 
Negative 
conclusions 
to 
the 
predictability of candlesticks are reported [4]-[6], while 
positive evidences are provided for several candlestick chart 
patterns in experiments using the U.S. and the Asian stock 
markets [7]-[10]. 
It is also pointed out that candlestick chart pattern 
recognition is subjective [2][7][11]. The candlestick chart 
patterns are often qualitatively described using words and 
illustrations. The studies [6][7] adopt definitions using a 
series of inequalities with different parameters that specify 
candlestick patterns. Numerical definitions of candlestick 
patterns are still controversial issues. 
In addition, they don’t occur in time series in a strict sense 
because stock price fluctuation continues after intervals of 
several days depending on announcements of important 
economic indicators, economic and political news, etc. 
Because of these characteristics, the candlestick chart 
patterns are deemed to bring controversial results on 
predictability regarding future market trends even sort-term 
prediction. 
19
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

The aim of the study is to estimate the predictability of 
candlestick patterns for future stock price trends. The 
proposed algorithm is applied to the daily Nikkei stock 
average (Nikkei 225) in the experiments. Daily historical 
stock prices are used because we plan to relate chart patterns 
to economic and political news in the future study. 
The contributions of this paper are as follows: 
(I) 
The Longest Common Substring (LCS) algorithm [12], 
which is a kind of dynamic programming algorithms, is 
improved to cope with candlestick patterns containing 
several intervals, 
(II) The proposed model utilizes tolerances for multiple 
attributes that specify candlestick charts, so it can 
retrieve similar candlestick charts in terms of upper and 
lower tolerance bounds, 
(III) The proposed model uses relative position among a 
stock price, 5-day moving average, and 25-day moving 
average to decide whether the price occurs in high or 
low price zones, 
(IV) The proposed model uses slopes of the moving 
averages to identify their trends, 
(V) The proposed model devises a graphical representation 
to make evaluation of the retrieval results easy to depict 
the predictability for short-term trends. 
The remainder of the paper is organized as follows. 
Section II gives backgrounds of the candlestick chart. 
Section III describes a model for retrieving similar 
candlestick charts. An augmented dynamic programing 
technique is used to implement the proposed model. Section 
VI presents experimental results on both the uptrend and 
downtrend of stock prices. Section V gives some of the most 
related work. Section VI concludes the paper with our plans 
for future work. 
II. 
CANDLESTICK CHART AND PATTERNS 
This section introduces the formation of a candlestick. 
Candlestick patterns are a combination of one or more 
candlesticks [2]. Samples of well-known candlestick chart 
patterns are shown. Because the candlestick patterns are 
described in natural language and illustrations, there are 
criticisms on their use for trend prediction by a computer. 
A. Formation of Candlestick  
A daily candlestick line is formed with the market’s 
opening, high, low, and closing prices of a specific trading 
day. Figure 1 represents the image of a typical candlestick. 
The candlestick has a wide part, which is called the “real 
body” representing the range between the opening and 
closing prices of that day’s trading. 
If the closing price is above the opening price, then a 
white candlestick with black border is drawn to represent a 
bullish candlestick. If the opening price is above the closing 
price, then a filled candlestick is drawn. Normally, black 
color is used for filling the candle to represent a bearish 
candlestick. 
The thin lines above and below the body represent the 
high/low ranges. These lines and are called “shadows” and 
also referred to as “wicks” and “tails.” The high is marked 
by the top of the upper shadow and the low by the bottom of 
the lower shadow. 
 
 
Figure 1. Candlestick formation 
 
B. Samples of Candlestick Patterns 
Dozens of candlestick patterns are identified and become 
popular among stock traders [2][3]. These patterns have 
colorful names like morning star, evening star, three white 
soldiers, and three black crows. 
Figure 2 shows the morning star pattern which is 
considered as a major reversal signal when it appears in a 
low price zone or at a bottom. It consists of three candles, 
i.e., one short-bodied candle (black or white) between a 
preceding long black candle and a succeeding long white 
one. The pattern shows that the selling pressure that was 
there the day before is now subsiding. The third white 
candle overlaps with the body of the black candle showing a 
start of a bullish reversal. The larger the white and black 
candle, and the higher the white candle moves, the larger the 
potential reversal. The opposite version of the morning star 
pattern is known as the evening star pattern which is a 
reversal signal when it appears in a high price zone or at the 
end of an uptrend. 
 
 
 
 
 
 
 
 
Figure 2. Morning star pattern 
 
Figure 3 shows the three white soldiers pattern which is 
interpreted as a strong indication of a bullish market reversal 
when it appears in a low price zone. It consists of three long 
white candles that close progressively higher on each 
subsequent trading day. Each candle opens higher than the 
previous opening price and closes near the high price of the 
day, showing a steady advance of buying pressure. The 
opposite of the three white soldiers pattern is known as the 
three black crows pattern which is interpreted as a bearish 
signal of market trend. 
 
 
20
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

 
 
 
 
 
 
 
 
 
 
 
Figure 3. Three white soldiers pattern 
 
C. Criticism of Candlestick Patterns 
The major criticism of the candlestick chart patterns is 
that the patterns are qualitatively described with words, such 
as 
“long/short 
candlesticks,” 
“higher/lower 
trading,” 
“strong/weak signal,” supported by some illustrations [2]. 
What percentage of price change does “long/short” mean? 
Without modeling the candlestick patterns in a way that a 
computer 
can 
process 
and 
performing 
experiments 
comprehensively, arguments on the effectiveness of chart 
patterns would not come to an end. 
Since it is highly possible that the existence and 
predictability of candlestick patterns depends on stock 
markets, this study focuses on the Nikkei stock average 
(Nikkei 225) as the first stage of study. This paper proposes 
a model for retrieving similar candlestick charts based on a 
data mining algorithm using dynamic programing technique 
to handle candlestick patterns including several intervals 
that suggest unpredictable price trends. 
III. 
PROPOSED MODEL FOR RETRIEVING  
CANDLESTICK PATTERNS 
This section describes a model for retrieving similar 
candlestick charts. A dynamic programing technique is used 
to implement the proposed model. 
A. Parameters Featuring Candlestick Patterns 
As a preliminary stage of study, experiments only using the 
closing prices and the length of real bodies are conducted. 
The experiments simply correspond to the conditions of the 
candlestick chart patterns [2]. The results are discouraging. 
Although mined stock price sequences are similar before the 
specified period of the reference date, trends of the 
sequences after the reference date are seemed to be random. 
Analyses of the results show that the randomness occurs due 
to the relative position among the stock price, the 5-day 
moving averages, and the 25-day moving averages.  
Based on the results of the preliminary experiments, we 
propose the model for retrieving similar candlestick charts. 
Figure 4 depicts the model that consists of the six parameters 
as follows: 
(1) Change of prices w.r.t previous closing price, 
(2) Length of candlestick body, 
(3) Difference from 5-day moving average, 
(4) Difference from 25-day moving average, 
(5) Slope of 5-day moving average,  
(6) Slope of 25-day moving average. 
The proposed model is unique because it uses two moving 
averages and their slopes, while the previous studies [4]-[12] 
do not deal with them. Relative position among a stock price, 
5-day moving average, and 25-day moving average is 
significant to identify the zone where the candlestick pattern 
under consideration occurs, which is vital information for 
applying the candlestick pattern. The slopes of the moving 
averages are also important to identify their trends, e.g., an 
uptrend, a downtrend or a sideway (flat). 
 
Figure 4. Candlestick pattern retrieval model 
 
B. nLCS: LCS for Numerical Subsequences 
Another issue of retrieving candlestick chart patterns is 
that stock prices can move continued after a few days of 
intervals because stock prices can vary according to 
important economic indicators, political news and actions, 
etc. The detection of similar candlestick chart patterns is 
essentially the detection of a set of numerical sequences that 
partially match the numerical sequences corresponding to a 
chart pattern under consideration. 
The Longest Common Subsequence (LCS) algorithm is 
originally developed for character strings [12]. Finding the 
LCS between two strings is described as follows. Given two 
strings, find the longest character subsequence that presents 
in both of them. Characters of the subsequence appear in the 
same relative order, but not necessarily contiguous. Figure 5 
depicts the LCS of the two strings “246612” and “3651.” 
Since elements of sequences are interpreted as characters that 
require an exact match, the LCS is “61.” 
 
Figure 5. The LCS of two character sequences,  
“246612” and “3651” 
 
It is rather easy to improve the LCS algorithm to deal 
with numerical sequences (nLCS) by interpreting each 
element as a number and using a tolerance given by a user. If 
the difference of two numbers is not greater than the given 
tolerance, then the two numbers are regarded as the same. 
For example, let the tolerance be set to one, and the two 
number sequences be “246612” and “3651.” The nLCS are 
“2661” and “3651” as shown in Figure 6. 
 
 
 
21
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

 
Figure 6. The nLCS of the two number sequences  
“246612” and “3651” for the tolerance of one 
 
The LCS and nLCS are formally defined as follows. 
LCS algorithm: Let the input sequences be X[1 … m] of 
length m and Y[1 … n] of length n. Let D[i, j] denote the 
length of the longest common subsequence of X[i] and Y[j] 
for 0≦i≦m and 0≦j≦n. 
A) If either sequence or both sequences are empty, then the 
LCS is empty, i.e., D[i, 0] = 0 and D[0, j] = 0. 
B) If X[i] and Y[j] match (X[i] = Y[j]), then the LCS is 
become longer than the previous sequences by one, i.e., 
D[i, j] = D[i−1, j−1] + 1. 
C) If X[i] and Y[j] do not match (X[i] ≠Y[j]), then the LCS 
is the maximum of the previous sequences, i.e., 
max(D[i−1, j], D[i, j−1]). 
The value of D[m, n] is the LCS of the sequences X[1 … 
m] and Y[1 … n]. The actual LCS sequence can be extracted 
by following the matrix D[i, j]. 
nLCS algorithm: The nLCS algorithm is derived from the 
LCS algorithm by replacing the match condition (X[i] = 
Y[j]) with ((X[i] − Y[j]) ≦ diff) where diff is a tolerance 
given by a user. 
C. nLCSm: LCS for Subsequences with Multi Numerical 
Attributes 
The idea of deriving the nLCS from the LCS can be 
further extend to the multi numerical attributes to obtain the 
nLCS for subsequences with multi numerical attributes 
(nLCSm). 
nLCSm algorithm: Let p (1≦p) denote the number of 
numerical attributes. Let Cq (1≦q≦p) denote the match 
conditions for the qth numerical attribute. The nLCSm is 
derived by replacing the match condition of the nLCS, i.e., 
((X[i] − Y[j]) ≦ diff), with (C1∧...∧Cq∧...∧Cp). 
D. nLCSm and candlestick pattern retrieval 
Given the candlestick pattern model with six parameters 
as depicted in Figure 4, the nLCSm algorithm can be applied 
to implementing the model by assigning match conditions C1 
to C6 for each candlestick as follows. 
C1: if a difference between closing price change of a given 
candlestick and that of a candidate candlestick is within 
the change tolerance (change_tol), then C1 is true. 
C2: if a difference between body length of a given 
candlestick and that of a candidate candlestick is within 
the body tolerance (body_tol), then C2 is true. 
C3: if a difference between a closing price and a 5-day 
moving average is within the tolerance (av5diff_tol), then 
C3 is true. 
C4: if a difference between a closing price and a 25-day 
moving average is within the tolerance (av25diff_tol), 
then C4 is true. 
C5: if a slope of a 5-day moving average is within the given 
tolerance (slope5_tol), then C5 is true. 
C6: if a slope of a 25-day moving average is within the given 
tolerance (slope25_tol), then C6 is true. 
The 5-day moving average is calculated by the latest five 
days’ closing prices. Because these prices are just a sample 
of larger population of closing prices, the sample standard 
deviation or Bessel's correction [2] is adopted as a measure 
of threshold to decide whether a given 5-day moving 
average is within an expected distribution. 
The tolerance of 5-day moving average av5diff_tol is 
statistically dependent on the change tolerance change_tol. 
In the proposed retrieval model, av5diff_tol and av25diff_tol 
are calculated by the following formulas as defaults 
according to the definition of the sample standard deviation. 
av5diff_tol = change_tol / SQRT(4)= change_tol / 2  
   (1) 
av25diff_tol = change_tol / SQRT(24)= change_tol / 4.899    (2) 
Thus, there are essentially four independent parameters in 
the proposed model, which still causes difficulties in setting 
parameters. Assuming that each parameter has 5 ranges of 
values representing, for instance, very high, high, the same 
level, low, and very low. The candlestick patterns of one 
candlestick have 5 to the power 4, i.e., 5^4= 625 cases of 
parameters. The patterns composed of two candlesticks have 
5^(4*2)= 625*625= 390,625 cases. The patterns of tree 
candlesticks have 244,140,625 cases. These cases mean very 
wide varieties of candlestick charts leading difficulties even 
in setting parameters for retrieving a specific candlestick 
chart pattern. 
IV. 
EXPERIMENTAL RESULTS 
The predictabilities of the morning star pattern and the 
evening star pattern are evaluated through experiments. The 
experiments are conducted on the daily historical stock 
prices of Nikkei stock average (Nikkei 225) of 2,420 
business days from Jan. 4, 2008 to Nov. 15, 2017. 
A. Data Conversion 
The stock prices are converted to the ratio of closing 
prices to reduce the effects of highness or lowness of the 
stock prices. The formula below is used for calculating the 
ratio of prices in a percentage. 
Ri = (CPi – CP i+1)*100 / CP i  (1≦i≦n) 
 
(3) 
CPi indicates the closing price of the i-th business date. 
CP1 means the closing price of the current date. R1 is the 
ratio of the closing price of the current date CP1 and the 
difference between CP1 and CP2, i.e., the closing price of the 
date before the current date. The similar calculations are 
performed to opening, high, and low prices. In addition, the 
5-day and 25 day moving averages, and their slopes are 
calculated before the experiments. The number of data valid, 
i.e., n in effect is 2,396 (=2,420−24) because the 25-day 
averages can’t be calculated to the last 24 days. 
 
22
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

B. Experiments on Morning Star Pattern 
Figure 7 shows the candlestick chart of the Nikkei 225 in 
which a strong uptrend starts on Sept. 11, 2017. The 
candlesticks ending on Sept. 11, 2017 form a morning star 
pattern. The first experiment is performed on the three 
candlesticks surrounded by a dotted rectangle in Figure 7. 
 
 
Figure 7. Candlestick chart around Sept. 11, 2017 
 
Table I shows a list of the retrieved business dates, the 
number of matched days or nLCSm. The ratio of nLCSm is 
calculated by dividing the nLCSm by the period of three. 
The parameters used for the experiment are as follows: 
change_tol=1.600, body_tol=1.600, av5diff_tol=0.800, 
av25diff_tol=0.327, slope5_tol=0.050, lope25_tol=0.020. 
 
TABLE I. RESULTS CONCERNING MORNING STAR PATTERN 
ON SEPT. 11, 2017 
 
 
The three candlesticks that end on Nov. 11, 2013 totally 
match those on Sept. 11, 2017. It is not surprising that the 
chart pattern on Nov. 11, 2013 in Figure 8 draws a similar 
trend as Sept. 11, 2017 in Figure 7. 
 
 
Figure 8. Candlestick chart around Nov. 11, 2013 
Figure 9 shows overlapped closing prices whose business 
dates are listed in Table I for graphically representing the 
future stock trend. All reference dates are aligned on the 
origin to make the comparison easy. The thick black line 
represents the closing price sequences of the reference date, 
i.e., Sept. 11, 2017. Thin solid lines represent the closing 
price sequences of business dates listed in Table I except for 
the reference date. The thick light blue line indicates the 
average of the candlestick charts plotted by thin solid lines. 
Three out of the seven closing price sequences suggest an 
uptrend, while two out of the seven suggest downtrend. The 
others suggest sideways. It can be reasonable to say that no 
trade judgments, i.e., indecision, should be made based on 
the results of retrieval. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 9. Overlapped closing prices representing for future stock trend 
 
C. Experiments on Morning Star Pattern with Confirmation 
Four candlesticks enclosed by a solid rectangle in Figure 7 
show the morning star pattern plus one confirmation day. 
Table II summarizes the result of the experiment on four 
candlesticks ending on Sept. 12, 2017. 
 
TABLE II. RESULTS CONCERNING MORNING STAR PATTERN 
ON SEPT. 11, 2017 PLUS ONE CONFIRMATION DAY 
 
 
Figure 10 shows overlapped closing prices whose business 
dates are listed in Table II for representing the future stock 
trend. Five out of seven closing price sequences suggest an 
uptrend, while the other two out of seven ones suggest 
keeping the same price level. This result may well be 
noteworthy for traders to identify buying opportunities with 
expectation of approximately 2.5% profits on average in the 
next five days. 
 
23
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 10. Overlapped closing prices for representing future stock trend 
 
D. Experiments on Evening Star Pattern  
Figure 11 shows the candlestick charts with respect to an 
evening star pattern ending on June 6, 2017. The patterns 
consist of four candlesticks enclosed by a solid rectangle in 
Figure 11. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 11. Candlestick chart around June 6, 2017 
 
Table III summarizes the result of the experiment on the 
pattern. The parameters used for the experiment are as 
follows: 
change_tol=1.320, body_tol=1.3200, av5diff_tol=0.660, 
av25diff_tol=0.269, slope5_tol=0.050, slope25_tol=0.020. 
 
TABLE III. RESULTS CONCERNING EVENING STAR CHART PATTERN 
ON JUNE 6, 2017 
 
 
Figure 12 shows overlapped closing prices whose 
business dates are listed in Table III. Figure 12 generally 
suggests a downtrend of the future stock price. However, two 
closing price sequences and that of June 6, 2017 predict a dip 
in stock prices of approximately 1%. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 12. Overlapped closing prices concerning June 6, 2017 
 
The closing price on June 6, 2017 (Figure 11) shows 
sudden drop, but is still above the 5-day and 25-day moving 
averages. Many traders know that there are two possible 
price trends at this position of prices, i.e., continuing 
downtrends and/or bargain-hunting after several days of 
stock price decline. The proposed algorithm seems to be 
successful in retrieving both possible price trends. 
V. 
RELATED WORK 
Some studies [4]-[6] find that the candlestick charting is 
useless based on the experiments using the stock exchange 
markets’ data in the U.S., Japan and Thailand. Tharavanij, 
Siraprapasiri, 
and 
Rajchamaha 
[6] 
investigate 
the 
profitability of bullish and bearish candlestick patterns 
consisted of one-day, two-day, and three-day candle sticks. 
The candlestick patterns are defined by a set of inequalities 
defined by opening, high, low, and closing prices. These 
inequalities are originally proposed by Goo, Chen, and 
Chang [7] who report positive results in Taiwan markets. 
Based on experiments using stock data in the Stock 
Exchange of Thailand, they conclude that any candlestick 
patterns cannot reliably predict market directions even with 
filtering by well-known stochastic oscillators [2]. 
Other studies conclude that applying certain candlestick 
patterns is profitable at least for short-term trading [8]-[11]. 
Chootong and Sornil [8] propose a trading strategy 
combining price movement patterns, candlestick chart 
patterns, and trading indicators. A neural network is 
employed to determine buy and sell signals. Experimental 
results using stock data in the Stock Exchange of Thailand 
show that the proposed strategy generally outperforms the 
use of traditional trading methods based on indicators. Zhu, 
Atri, and Yegen [9] examine the effectiveness of five 
different candlestick reversal patterns in predicting short-
 
 
 
24
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

term stock movements using two Chinese stock data. The 
results of statistical analysis suggest that the patterns 
perform well in predicting price trend reversals. 
Lu, Chen, and Hsu [10] apply candlestick trading 
strategies to the U.S. market data with several trend 
definitions. They find three-day reversal patterns are 
profitable when the transaction cost is set at 0.5%. 
One of the obstacles of candlestick charting is the highly 
subjective nature of candlestick pattern [2] since the 
candlestick 
patterns 
are 
defined 
using 
words 
and 
illustrations. Tsai and Quan [11] propose an image 
processing technique to analyze the similarities of the 
candlestick charts for stock prediction instead of using 
numerical inequality formulas. The experimental results 
using the Dow Jones Industrial Average (DJIA) show that 
visual extraction of contents and similarity matching of 
candlestick charts are suitable for predicting stock 
movements. 
The studies [4]-[10] translate these candlestick verbal and 
visual descriptions into numeric formulas in order to be 
used in an algorithm. However, they fail to consider zones 
where the candlestick patterns in focus occur. The 
interpretation of candlestick patterns depends on the price 
zone, e.g., high, low, neutral. For example, the morning star 
pattern generally suggests a bullish trend when it occurs in a 
low price zone. However, the morning star pattern is 
deemed to be less bullish when it occurs in a high price zone 
than it occurs in a low price zone. 
Most importantly, the studies [4]-[10] do not discuss 
neutral candlesticks or intervals that often take place in 
charts because stock prices depend on important economic 
and political news and events. 
VI. 
CONCLUSIONS AND FUTURE WORK 
This paper proposes a model for retrieving similar 
candlestick charts with six parameters that feature 
candlestick charts. A numerical sequence version of the 
Longest Common Substring (LCS) algorithm is devised to 
implement the proposed model because partial matching of 
candlesticks plays a significant role to retrieve similar 
candlestick patterns. Results of experiments using the Nikkei 
stock average show some positive evidences regarding the 
prediction of future market trends. 
As for the future work, we are planning to improve the 
proposed model by augmenting available parameters 
including the upper and lower shadows. The augmentation 
allows the model to examine various shadow sensitive 
patterns known as the hammer, dragon fly patterns [2]. As 
the current study is limited to a Japanese stock market, it is 
suggested that future researches may focus on different stock 
markets from other countries for further analyses of candle 
stick patterns. 
ACKNOWLEDGMENT 
This research is supported by the JSPS KAKENHI under 
grant number 16K00161. 
REFERENCES 
[1] V. Drakopoulou, “A Review of Fundamental and Technical 
Stock Analysis Techniques,” Journal of Stock & Forex 
Trading vol. 5, pp. 1–8, Nov. 2015. 
[2] “Technical Analysis,” Cambridge Univ. pp. 1–179, Available 
from: 
http://www.mrao.cam.ac.uk/~mph/TechnicalAnalysis. 
pdf, Feb. 2011. 
[3] Fusion 
Media 
Limited., 
“Nikkei 
225 
Futures,” 
https://www.investing.com/indices/japan-225-futures-
candlestick, April, 2018. 
[4] J. M. Horton, “Stars, crows, and doji: The use of candlesticks 
in stock selection,” Quarterly Review of Economics and 
Finance, vol. 49, pp. 283–294, Nov. 2007. 
[5] R. B. Marshall, R. M. Young, and  R. Cahan, “Are 
candlestick technical trading strategies profitable in the 
Japanese equity market?” Review of Quantitative Finance and 
Accounting, vol. 31, pp. 191–207, August 2008. 
[6] P. Tharavanij, V. Siraprapasiri, and K. Rajchamaha, 
“Profitability of Candlestick Charting Patterns in the Stock 
Exchange of Thailand,” SAGE journals, pp. 1–18, Oct. 2017. 
[7] Y.-J. Goo, D.-H. Chen, and Y.-W. Chang, “The application of 
Japanese 
candlestick 
trading 
strategies 
in 
Taiwan,” 
Investment Management and Financial Innovations, vol. 4, 
pp. 49–79, Jan. 2007. 
[8] C. Chootong and O. Sornil, “Trading Signal Generation Using 
A 
Combination 
of 
Chart 
Patterns 
and 
Indicators,” 
International Journal of Computer Science Issues, vol. 9, pp 
202–209, Nov. 2012. 
[9] M. Zhu, S. Atri, and E. Yegen, “Are candlestick trading 
strategies effective in certain stocks with distinct features?” 
Pacific Basin Finance Journal, vol. 37, pp. 116–127, April 
2016. 
[10] T.-H. Lu, Y.-. Chen, and Y.-C. Hsu, “Trend definition or 
holding strategy: What determines the profitability of 
candlestick charting?” Journal of Banking & Finance, vol. 61, 
Dec. 2015, pp. 172–183. 
[11] C.-F. Tsai and Z.-Y. Quan, “Stock Prediction by Searching 
for Similarities in Candlestick Charts,” Journal ACM 
Transactions on Management Information Systems (TMIS), 
vol. 5, Article No. 9, July 2014. 
[12] D. Mount, “Dynamic Programming Longest Common 
Subsequence,” CMSC 451, Maryland Univ., pp. 1–5, 
Available 
from: 
https://www.cs.umd.edu/class/fall2010/ 
cmsc451/lect451.pdf, Sept. 2010. 
 
 
25
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-631-6
ALLDATA 2018 : The Fourth International Conference on Big Data, Small Data, Linked Data and Open Data

