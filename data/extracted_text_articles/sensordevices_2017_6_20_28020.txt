Development of a Blood Type Analyzer using Computer Vision and Machine 
Learning Techniques: A Review 
 
1,3Ana Ferraz, 1,2Vítor Carvalho 
1Algoritmi Research Centre, University of Minho 
2IPCA-EST 
1Guimarães, 2Barcelos, Portugal 
aps_ferraz@hotmail.com; vcarvalho@ipca.pt 
3José Machado 
3MetRICs Research Centre 
University of Minho 
Guimarães, Portugal 
jmachado@dem.uminho.pt
 
 
Abstract—In emergency cases, when the available time for 
blood transfusions is limited, blood type O (universal donor) is 
administered. 
However, 
sometimes, 
this 
can 
cause 
a 
transfusion reaction that can lead to the death of the patient 
receiving the transfusion. The equipment available on the 
market is not adequate for emergency scenarios (not portable 
and slow results). This paper presents the steps taken into 
consideration in the development of a blood type analyzer 
using computer vision and machine learning algorithms 
suitable for emergency situations (small size, lightweight, easy 
transportation, ease of use, fast results, high reliability and low 
cost). Several prototypes have been developed with the final 
version performing real world scenario experiments in 
hospitals for validation. With this system, it will be possible to 
contribute to the reduction of casualties in blood transfusions 
associated to human error or blood incompatibilities. 
Keywords-blood types; computer vision; machine learning; 
prototype. 
I. 
 INTRODUCTION  
Blood transfusions are a daily necessity in hospitals and 
their success depends on various procedures and their 
execution without errors. A key procedure is the correct 
identification of the blood type of the patient requiring the 
blood transfusion, since an error in this procedure leads to 
incorrect administration of the required blood unit. This 
procedure becomes more complicated when it comes to 
emergency situations due to the lack of time and the need to 
perform the tests in the laboratory. This scenario occurs 
because automated systems available on the market are 
bulky and cannot be transported. Additional time is needed 
for laboratory trips and manual solutions have the possibility 
of human error in the procedure, while reading and 
interpreting the results. In urgent situations, the procedure 
calls for the use of a blood type considered the universal 
donor (O negative) for the transfusion to be performed. 
However, because the universal donor is scarce and can 
induce transfusion reactions, blood transfusions based on the 
universal blood donor principle should be reserved for 
emergency situations only. In this sense, the ideal scenario 
would be to administer the compatible and corresponding 
blood even in emergency situations and it is necessary to 
develop a new solution that enables it [1]-[5]. 
To make it possible even in emergency situations to 
perform the tests and identify the patient's blood type, 
avoiding the use of the universal donor, some prototypes 
were developed that aim to automate the tests and obtain fast 
results in a portable way. The different prototypes developed 
are based on the automation of the procedures of an already 
validated manual test, the slide test, and the use of a camera 
that captures the images after performing the procedures to 
obtain test results. The plate test consists of mixing one drop 
of four different reagents with the blood, separately. Each of 
the reagents, Anti-A, Anti-B, Anti-AB and Anti-D will 
identify the presence or absence of a specific antigen found 
in red blood cells. The identification of the antigens is done 
through the occurrence of an agglutination reaction that 
causes the development of agglomerates in the blood [6][7]. 
These agglomerates are visible to the naked eye, but in this 
case, they will be detected automatically using the test image 
and the use of Computer Vision and Machine Learning 
algorithms. This will allow to reduce or even eliminate the 
human errors occurrence in blood type identification, 
enabling to administrate a compatible blood type since the 
first blood unit, avoiding causalities. 
This paper is organized in 5 sections. Section II, 
describes the functions used to classify the human blood 
type. Section III shows some results obtained for 40 tests. 
Section IV presents several prototypes developed in this 
project and finally, Section V, presents some remarks 
obtained in this project and indicates some future work 
considerations.  
II. 
BLOOD TYPE DETECTION ALGORITHMS 
As described in [8] several algorithms of Computer Vision 
were used (below sequence of actions 1-5), to identify the 
occurrence of the agglutination reaction from the analyzed 
images. An example of an analyzed image is presented in 
Figure 1. 
 
Figure 1.  Example of an image of  the test of type of blood with an HDD 
camera (O+ type) [edited from [8]) 
74
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

However, to make the identification of the reaction even 
more robust, Support Vector Machines (SVMs) (sequence of 
action number 6 above), were introduced so that, based on 
experience 
and 
consequent 
learning, 
blood 
type 
identification could be obtained even in the weakest 
reactions [8]. The following sequence of actions was 
considered: 1 - Image Acquisition; 2 - Color Plane 
Extraction; 3 - Pattern Matching; 4 - Geometric Matching; 5 
- Features Extraction; and 6 - Support Vector Machines. The 
5th action (features extraction) considers obtaining from the 
analyzed images the Standard Deviation, the Histogram, 
Histogram of Gradients (HoG) and  Fast Fourier Transform 
(FFT) results, which are presented in the next section (Table 
I). 
III. 
RESULTS 
The different characteristics extracted allowed to obtain 
better or worse effectiveness. The effectiveness of each of 
them is represented in Table I for 40 tests carried out, 
corresponding to 124 samples (4 samples per test) [8]. 
TABLE I.  
 RESULTS OF SVMS WITH THE DIFFERENT FEATURES 
EXTRACTED FROM THE IMAGE [8] 
Features 
Support Vector Machines Results 
Standard Deviation 
1 
Histogram 
1 
HoG 
0.7917 
FFT 
0.8718 
IV. 
DEVELOPED PROTOTYPES 
The development of the different prototypes and plates 
test (where the reagents were placed with the blood) allowed 
to improve their capabilities, including speed of test, 
visualization of the reactions, efficacy of detection and the 
diminution of its dimensions facilitating the portability of the 
future product [9] [10], Figure 2. 
 
 
Figure 2.  Prototypes and plate tests. (1):  with recycled material [9]. (2) 
with electronics included [10]. (3) with a screen and small dimensions. 
As can be seen in Figure 2, throughout the development 
of the different prototypes, changes were made, which 
resulted in a final prototype much closer to the intended final 
device in which the test plate is sealed and there is only a 
single blood insertion site. This last prototype carries out 
tests between 3 to 5 minutes, in an efficient and portable 
way, and ready to be tested in a hospital setting.  
V. 
FINAL COMMENTS 
This project describes a solution developed for detecting 
human blood types using computer vision and machine 
learning algorithms. The success of this solution will allow 
to reduce human errors, minimize the necessity of using the 
universal donor in blood transfusions being able to be used in 
emergency scenarios. Several prototypes have been 
developed, with the last one currently being subject to real 
world tests in hospitals for validation. 
ACKNOWLEDGMENT 
Thanks to the Portuguese Foundation for Science and 
Technology (FCT) for funding this work through the PhD 
scholarship SFHR/BD/81094/2011. 
 
REFERENCES 
[1] S. R. Rod, P. Tate, and D. S. Trent, Anatomia & Fisiologia, 
6th ed., Loures: Lusociência, 2005. (in portuguese) 
[2] V. A. Hoffbrand, E. J. Petit, and H. A. P. Moss, Fundamentos 
em Hematologia, 4ª Edição, Artmed, Porto Alegre, 2004. (in 
portuguese) 
[3] R. Caquet, Guia Prático Climepsi de Análises Clínicas, 1st ed. 
Climepsi Editores, 2004. (in portuguese) 
[4] J. Merck, S. Dohme, Manual de Merck de Saúde para a 
Família, 2nd ed., Merck Sharp & Dohme, Lisboa, 2004. ( in 
portuguese) 
[5] Manual Merck: Biblioteca Médica Online, Merck & Co., Inc. 
(2009) 
[online]. 
Available: 
http://www.manualmerck.net/?id=179&cn=2100/> 
(in 
portuguese) 
[6] J. D. Roback, M. R. Combs, B. J. Grossman, and C. D. 
Hillyer, Technical Manual, AABB, American Association of 
Blood Banks, Maryland, 2008. 
[7] D. M. Hammering, Modern Blood banking & Transfusion 
Practices, DavidPlus, 6th ed., 2012.  
[8] A. Ferraz, J. Brito, V. Carvalho, and J. Machado, “Blood type 
classification using computer vision and machine learning”, 
Neural Comput & Applic, Vol. 28, Nº 8, pp.2029-2040, 2017. 
[9] A. Ferraz, V. Carvalho, and José Machado, “Determination of 
Human Blood Type Using Image Processing Techniques”, 
Measurement, Vol. 97, pp.165-173, 2017. 
[10] A. Ferraz, V. Carvalho, J. Machado, and J. Brito, 
“Mechatronic system for performing blood pre-transfusion 
tests”, Sensor and Actuators A: Physical, Vol. 246, pp.81-90, 
2016.
 
 
 
75
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-581-4
SENSORDEVICES 2017 : The Eighth International Conference on Sensor Device Technologies and Applications

