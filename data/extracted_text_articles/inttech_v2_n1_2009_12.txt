Analyzing and Improving Reliability
in Multi-hop Body Sensor Networks
Bart Braem, Benoˆıt Latr´e, Chris Blondia, Ingrid Moerman, Piet Demeester
Abstract— Body Sensor Networks are an interesting emerging
application of wireless sensor networks to improve health-
care and the Quality of Life. Current research has mainly
focused on single-hop networks, although some works clearly
show advantages of multi-hop architectures. In this paper, we
model probabilistic connectivity in such multi-hop body sensor
networks. Instead of using a circular coverage area, a more
accurate model is deﬁned based on the path loss along the
human body. Further, we propose improvements to CICADA, a
cross-layer multi-hop protocol that handles both medium access
and the routing of data in BSNs. CICADA is slot-based and
uses schemes to allocate these slots. Results for two reliability
improvements are given: randomization of the schemes and
repeating the schemes received from a parent node. We show
that these improvements positively affect the throughput of the
network and lead to fewer retransmissions while the energy
consumption of the nodes is hardly inﬂuenced.
Index Terms— health care, routing protocols, network reli-
ability, wireless sensor networks, BSN, CICADA, cross-layer
multi-hop protocol, medium access protocol, path loss model
I. INTRODUCTION
The recent development of intelligent (bio-) medical sen-
sors and the tendency of miniaturization has lead to devices
that can be worn on or implanted in the human body. The
sensors are equipped with a wireless interface, enabling an
easier application. These sensors send their data to a personal
device (e.g. a PDA or a smartphone) which acts as a sink
or as a gateway to health care. This type of network is
called a Wireless Body Sensor Network or BSN [1]. These
systems reduce the enormous costs of patients in hospitals
as monitoring can occur real-time and over a longer period
of time, even at home.
Recent studies have spoken out for the use of multi-
hop routing in wireless on-body networks, where interme-
diate sensors may be used as relay devices in order to
reach the personal device [2], [3]. This is needed as the
path loss around the body is very high [4], [5]. Multi-
hop networking leads to an increased connectivity of the
network and lowers the energy consumption even further.
Current protocols mainly address the energy consumption or
lifetime of the network and to a lesser extent the reliability.
In this paper we will discuss techniques to enhance the
reliability in a BSN. Due to the lack of an existing reliability
model for a BSN, a framework is proposed that determines
B. Braem and C. Blondia are with the PATS research group, Dept. of
Mathematics and Computer Science, University of Antwerp — IBBT, Mid-
delheimlaan 1, B-2020, Antwerp, Belgium, ﬁrstname.lastname@ua.ac.be
B. Latr´e, I. Moerman and P. Demeester are with the Broadband Com-
munication Networks group, Dept of Information Technology, Ghent Uni-
versity — IBBT, Gaston Crommenlaan 8, bus 201, 9050 Gent, Belgium,
ﬁrstname.lastname@intec.ugent.be
the link probability based on a lognormal distribution instead
of assuming a circular coverage area. Doing so, a more
accurate model of the network is obtained. The CICADA
multi-hop protocol [6] is used as base protocol. This is a
cross-layer protocol that sets up a data gathering tree and
offers low delay and high energy efﬁciency. The reliability
of this protocol is analyzed and modiﬁcations are proposed
to increase the reliability. It is shown that the reliability can
be improved without affecting the energy consumption of
lifetime of the network. In addition, the combined effect of
the solutions is analyzed. This paper is an extension of [14]
where we brieﬂy discussed the advantages of the proposed
modiﬁcations. In this paper, a more comprehensive analysis
is performed, both by simulations and analytically.
The remainder of this paper is as follows. Section II
gives an overview of the related work and Section III
explains the current design of CICADA. Section IV gives
a method to model the reliability and discusses the impact
on the protocol design. We use this reliability model in
our simulations, to evaluate two proposed techniques to
improve reliability: scheme randomization and repeating the
schemes (overhearing). The simulation set up is discussed in
Section V and the techniques are the topics of respectively
Sections VI and VII. In Section VIII the combined effect of
the solutions is analyzed. Finally, Section IX discusses the
general applicability of our results and Section X concludes
the paper and describes future work.
II. RELATED WORK
Although a lot of projects currently try to implement
BSNs, few protocols have been developed. Focus lies either
on single-hop communication [7] or on multi-hop routing for
embedded devices where the prime criterion is the reduction
of heat produced in the devices [8], [9]. These protocols only
try to improve the energy efﬁciency as a second criterion,
while the reliability or quality of service is overlooked. The
issue of tissue heating is less important with body mounted
devices as these can emit their heat to the air. Only a few
protocols have been proposed for multi-hop routing in BSNs
that improve the lifetime of the network. Both [10] and [11]
propose a data gathering protocol that uses clustering to
reduce the number of direct transmissions. They do not
consider the delay of their protocol and are not optimized for
BSNs as they where developed for regular sensor networks.
CICADA [6] and its predecessor WASP [12] are tree based
protocols that aim for high network lifetime and low delay.
To the knowledge of the authors, currently only two
protocols exist that take into account reliability and QoS.
151
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

BodyQoS [13] addresses three unique challenges introduced
by BSN applications. It uses an asymmetric architecture
where most of the processing is done at the central device.
Second, the authors have developed a virtual MAC (V-
MAC) that can support a wide variety of different MACs.
Third, an adaptive resource scheduling strategy is used in
order to make it possible to provide statistical bandwidth
guarantees as well as reliable data communication in BSNs.
The protocol has been implemented in NesC on top of
TinyOS.
In [14] the reliability of CICADA was evaluated and
additional mechanisms were proposed in order to improve
the reliability, such as the randomization of schemes and
overhearing the control messages sent by siblings. In this
paper, the concepts presented in [14] are investigated more
thoroughly. The simulations are more elaborated and the
efﬁciency is considered analytically.
III. CICADA
A. General Overview
CICADA is a cross-layer protocol as it handles both
medium access and the routing of data. The protocol sets up a
spanning tree in a distributed manner, which is subsequently
used to guarantee collision free access to the medium and
to route data toward the sink. The time axis is divided in
slots grouped in cycles, to lower the interference and avoid
idle listening. Slot assignment is done in a distributed way
where each node informs its children when they are allowed
to send their data by using a scheme. Slot synchronization
is possible because a node knows the length of each cycle.
In each cycle, a node is allowed to send all of its data to its
parent node. CICADA is designed in such a way that all the
packets arrive at the source in only one cycle. Routing itself
is not complicated in CICADA as data packets are routed
up the tree which is set up to control the medium access, no
special control packets are needed.
A cycle is divided in a control and a data subcycle. The
former is used to broadcast a scheme from parent to child, to
let the children know when they are allowed to send in the
data cycle. In the data subcycle, data is forwarded from the
nodes to the sink. In each data subcycle, a contention slot is
included to allow nodes to join the tree. New children hear
the scheme of the desired parent and send a JOIN-REQUEST
message in the contention slot. When the parent hears the
join message, it will include the node in the next cycle. Each
node will send at least two packets per cycle: a data packet or
a HELLO packet and a scheme. If a parent does not receive
a packet from a child for N or more consecutive cycles, the
parent will assume that the child is lost. If a child does not
receive packets from its parent for N or more consecutive
cycles, the child will assume that the parent is gone and will
try to join another node.
An example of communication in CICADA is given in
Figure 2 for a network of 5 nodes as shown in Figure 1. The
control and data subcycles can be seen clearly: the commu-
nication goes from sink to node in the control subcycle and
from node to sink in the data subcycle. As only schemes
S
A
B
C
Level 0
Level 1
Level 2
E
D
Fig. 1.
Tree topology for a network of 5 nodes
S
A
B
C
D
E
 0
 20
 40
 60
 80
 100
 120
Node
time (ms)
Control subcycle
Data subcycle
Fig. 2.
Communication streams for the network in Figure 1. Notice the
downstream and upstream cycles
are sent in the control subcycle, the slot length can be up
to 10 times smaller in the control subcycle compared to the
slot length in the data subcycle. This improves the energy
efﬁciency of the protocol as the node switches its radio off
after the control subcycle.
B. Algorithm
In order to inform its parent node of the number of slots
a node needs, to send its own data and forward data coming
from children, two parameters are calculated: αn and βn.
The former gives the number of slots needed for sending
data (including forwarded data), the latter gives the number
of slots the node has to wait until it has received all data
from its children. Based on the αn and βn from its children,
a node can calculate the slot allocation for the next cycle.
CICADA initially did not include reliability support. Two
adaptations to add this are envisioned: scheme randomization
and repeating the schemes received from a parent (also
referred to as overhearing).
C. Packet Formats
In order to be able to estimate the overhead of the solu-
tions proposed below, the packet formats used in CICADA
are described. In general, three types can be distinguished
152
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

TABLE I
PARAMETER VALUES FOR THE PATH LOSS MODEL (1)
parameter
value LOS [4]
value NLOS [5]
d0
10 cm
10 cm
P0,dB
35.7 dB
48.8 dB
σ
6.2 dB
5.0 dB
n
3.38
5.9
depending on the type of message sent: a control packet, a
routing packet and a JOIN-REQUEST-message. The length
of the node ID’s is limited to 8 bits, allowing a network of
255 nodes. This is sufﬁcient for a BSN.
Figure 3 shows the packet format for the different mes-
sages.
The routing packet is used for sending data to the next hop
in the data subcycle. It contains the ID of the sending node
(say node n) and the ID of the parent supposed to receive the
message. Further, the node sends its αn and βn to the parent
followed by the data. This packet contains the ID where the
data was originated, a message ID and the payload of the
data. The length of the payload is variable and limited by
the maximum packet size.
The control packet contains the ID of the sending node,
followed by the control scheme and the data scheme. If
bidirectional trafﬁc is supported and data is sent during the
control cycle, the settings-bit is set to 1. The data is then
added after the data scheme.
The JOIN-REQUEST message only contains the ID of the
sending node, the ID of the desired parent (Nexthop ID) and
its αn and βn.
The HELLO-message is similar to a routing packet, without
the data part. It is sent to ensure connectivity and buffer
information propagation.
IV. MODELING RELIABILITY
The path loss between the transmitting and receiving
antenna for a BSN is subject of several studies. The line of
sight (LOS) propagation was investigated in [4]. However,
this model does not consider the communication between
the back and torso for example nor does it take into account
the curvature effects of the body. In [5] a higher path loss
was found in non-line of sight (NLOS) situations around the
torso. For our simulations, we will combine these models.
Both models use the following semi-empirical formula for
the path loss:
PdB = P0,dB + 10 · n · log(d/d0)
(1)
where P0,dB is the path loss at a reference distance d0 and n
is the path loss exponent, which equals 2 in free space. The
parameter values for both models can be found in Table I.
In practice the average received power varies from location
to location in an apparently random manner. This variation
is well described by a lognormal distribution with standard
deviation σ and is called shadowing [15]. The magnitude
of the standard deviation indicates the severity of signal
ﬂuctuations caused by irregularities in the surroundings of
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
0
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
distance (m)
link probability (%)
 
 
n = 5.9, Ps = 0 dBm
n = 3.38, Ps = 0 dBm
n = 3.38, Ps = −5 dBm
n = 3.38, Ps = −20 dBm
Fig. 4.
Link probability for different path loss models and varying
transmission power.
the receiving and transmitting antennas. It is crucial to
account for this in order to provide a certain reliability of
communication. This can be done by adding the shadowing
component, represented by a zero-mean Gaussian random
variable with standard deviation σ, Xσ,dB to (1).
The received signal strength P j
r,dB at a node j from a node
i sending with transmitting power P i
s,dB over a distance dij
can thus be written as:
P j
r,dB(dij) = P i
s,dB − PLdB(dij) − Xσ,dB
(2)
The condition for connectivity at the receiver is that P j
r,dB
is higher than a certain threshold Pth at the receiver. As
a result, the probability p(dij) that two nodes i and j are
connected can be formulated as [16]:
p(dij)
=
Pr
h
P j
r,dB(dij) > Pth
i
(3)
=
Pr [Xσ,dB + µ(dij) < 0]
(4)
The left part can be seen as normally distributed with
standard deviation σ around the mean µ(dij) where:
µ(dij) = −P i
s,dB +PL0,dB +10n log10(dij/d0)+Pth (5)
Consequently, (4) can be rewritten as
p(dij)
=
1
√
2πσ
Z 0
−∞
exp

−(t − µ(dij))2
2σ2

dt (6)
=
1
2 − 1
2 erf
µ(dij)
√
2πσ

(7)
The link probability for different path loss exponents is
given in Figure 4. It is clear that the link probability also
depends on the transmitting power (P i
s,dB) and the receiving
threshold. The latter can be deﬁned using the parameters of
the receiver. If its noise ﬂoor is -90 dBm and the desired
signal-to-noise ratio is at least 20 dB, we can say that Pth
= -90 dBm + 20 dB = -70 dBm. The ﬁgure shows that if
one wants a minimal link probability to ensure a certain
reliability, the distance that can be covered is really small.
153
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

Source  ID
Msg ID
payload
8
8
Source  ID
Nexthop ID
Data Packet
8
8
α source
βsource
8
8
variable
Msg Length
8
(a) Routing packet
Source ID
8
Control scheme
Data scheme
n * 8
Scheme
length
8
Waiting period
8
ID node 1
ID node 2
ID node α
α * 8
TCC
4
Data Packet (optional)
Settings
4
(b) Control packet (SCHEME-message)
Source  ID
Nexthop ID
8
8
α source
βsource
8
8
(c) JOIN-REQUEST-message
Fig. 3.
Packet format in CICADA. The numbers indicate the length in bits. αsource is the αn of node n sending the packet.
A
D
C
0.65
0.65
0.10
B
0.99
0.99
Fig. 5.
Example of a connection probability in a single-hop and a multi-
hop scenario. The distance between node A and B is 10 cm and between
node C and D 20 cm
Due to the probabilistic connectivity, the boundaries of
the area where the signals are received can no longer be
represented by a circle with the sender in the middle. The
boundaries ﬂuctuate. This also means that bidirectionality is
no longer guaranteed, which will complicate protocol design.
Figure 4 shows that for reliable communication, the cov-
ered distance is rather low in BSNs. From (7) we can derive
the communication reliability when using a single-hop or
a multi-hop architecture. In order to develop an intuition
for why there might be room for improvement in multi-
hoprouting, it is helpful to consider Figure 5. Different nodes
are placed on one line and different routes are shown for
communication between nodes A and D. The numbers above
the communication links show the link probability between
the two nodes using (3) and the variables of Table I. At
one extreme, node A could send directly to D in one hop
and at the other extreme, A could use the 3-hop route
through B and C. In the example, it is clear that the 3-hop
communication has a communication probability of 63.7%
whereas the single-hopcommunication only is 10%. On the
other hand, in multi-hopcommunication nodes C and D will
hear many of the packets sent from A to B and it is wasteful
that node B forwards these packets. In this example, the
single-hop communication is more energy efﬁcient but less
reliable than the multi-hop communication and vice versa.
This shows the trade-off between the reliability and the
energy efﬁciency.
Using the formula for link probability, the condition to
determine whether or not multi-hop communication should
be used in terms of reliability if there are n intermediate hops
can be written as p

d
n+1
n+1
> p(d). When applying this
inequality, it turns out that the multi-hop path has the highest
reliability. This is due to the fact that p(d) is a monotonically
decreasing function, as can be seen in Figure 4. One has to
keep in mind that this holds as long as the intermediate hops
are placed on the path between the sender and destination.
Further, as the probability is a statistical value this will not
always be the case. At a given moment in time, the reliability
over the multi-hop path can be lower as for example the path
between node C and D may experience high packet loss
temporarily. Of course, when nodes A and D are sufﬁciently
close to each other, the reliability of direct communication
will be high enough to use it and the gain of using multi-hop
communication will be negligible.
Based on the previous, it can be concluded that, in order
to increase the reliablity, it is a good design choice to
use a multi-hop architecture when developing a protocol
for wireless BSNs. This view is also supported by [3]
where the reliability was experimentally validated. However,
154
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

the energy efﬁciency also needs to be taken into account.
Preliminary studies in
[2] have shown that lifetime of
the network can be increased considerably by letting nodes
cooperate intelligently and by introducing extra intermediate
relay devices. A more detailed analysis is subject of future
research. Summarizing, new protocols for WBANs should
take both transmission reliability and the energy efﬁciency
of the nodes into account. The rest of this paper we will
focus on improving CICADA’s reliability.
V. SIMULATION SET UP
Our simulations were performed in a newly developed
simulator written in Ruby [17], in order to have complete
control of the simulation environment and to avoid overhead
of classical simulators that are more tailored toward testing
of routing protocols or mac protocols in large scale networks
with speciﬁc data sources. The simulator correctness is
veriﬁed by a large set of unit tests with a test coverage of
99.8%, as calculated by the Ruby rcov coverage tool, and
a set of algorithm tests in a number of scenarios. The code
has a number of built-in triggers that signal erroneous states,
combined with the high number of random tests performed
this gives us conﬁdence in the simulator. Future work will
include comparing results with the performance of classical
sensor network MAC protocols in order to have even more
conﬁdence.
The path loss model (2), the link probability (7) and
the improvements are implemented. The simulator was used
to analyze the changes to the protocol. The nodes were
randomly placed in a 2 by 2 meter area where the sink is
positioned in the center. The distances between the nodes is
at most 40 cm in a connected topology, i.e. every node is
within transmission range of at least one other node so there
is always a path to the sink. Nodes start randomly, they do not
join the network all at once. All simulations were run during
10.000 slots for 1000 randomly generated topologies, while
making sure the same topologies are used in comparisons.
Each node generates one packet after a ﬁxed number of data
intervals. This data interval is equal to the number of nodes
in the network. Thus, when one data interval is chosen, all
nodes will generate data packets, at least one per cycle. The
more data intervals are chosen between each data generation,
the fewer the number of packets that will be sent.
VI. SCHEME RANDOMIZATION
A. Concept and Algorithm
In order to understand the beneﬁts of using randomization,
consider Figure 6 where a part of a topology is shown
when the tree is set up. As can be seen, it might occur
that two nodes a and b can hear each other, but actually
have different parents, c and d respectively. This can happen
when the link between a and c is more reliable than the
link between a and d. When the schemes are not variable,
i.e. the node that joins ﬁrst always sends ﬁrst in each cycle
and so on, it might well happen that nodes a and b will
always interfere while sending their data. In order to try to
decrease the overall interference, schemes are randomized.
"#$%&'()
*#+,-#
.
/
<
1
=
*
"
>?@A
>?@A
>?1>
B
>?CC
>?CC
95!#)1
95!#).
D
EF$)!'%'
95!#)1
95!#).
EF$)!'%'
=
B
"
*
Fig. 6.
Example of a topology where randomization can be useful. The
dashed circles represent the node’s send range. The straight line shows the
established parent-child relation. It is clear that nodes A and B will interfere.
I.e. the sequence in which the children are allowed to send is
randomized, while still respecting the rules of the CICADA
protocol. The implementation is straightforward.
B. Simulation Results
Results of the simulations are shown in Figures 7, 8 and 9
where the size of the network is varied from 5 to 30 nodes.
The values represent the improvement in percentage between
the results without and with randomization. We compare the
number of packets received by the sink and the number of
retransmissions. We also look at the number of slots the radio
was on, averaged out over the number of runs, to study the
impact on network lifetime. In order to take into account
network saturation effects, we also vary the data generation
interval to 1, 5 and 9 times the number of nodes in the
network. E.g., for 7 nodes and a data interval 5, every 35
slots a data packet is generated at each node.
It can be seen that scheme randomization has a minor
impact on the performance of the system. The number of
packets that can be received by the sink stays constant for
almost all network sites and data intervals. Yet, it can be seen
that the number of retransmissions is larger. We do currently
not understand why this behaviour arises, as there are no
dependencies on node order in the system. In case of bad
links, we would expect these effects to be cancelled by the
number of simulations. For larger networks and larger data
intervals, the absolute increase can be explained by the higher
number of transmissions in the network when randomization
is used. For small networks, little effect was found as the
parent nodes have few child nodes to randomize.
It is important to notice that the ﬁgure also shows that
the average time a radio is on, is slightly larger with
randomization. This is to be expected as more packets are
sent.
Overall, we think scheme randomization should be used
to avoid ﬁxed bad links, but we believe the protocol should
be studied more to look into the retransmission increase.
155
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

5
10
15
20
25
30
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 7.
Difference between whether the scheme randomization was used
or not. Data interval: 1.
5
10
15
20
25
30
0
5
10
15
20
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 8.
Difference between whether the scheme randomization was used
or not. Data interval: 5.
VII. OVERHEARING
During our simulations we noticed that, from time to time,
nodes miss a scheme packet from their parent, because of a
link that is not very stable. The result is that this node and
all nodes below it cannot do anything and must have their
radio on until the next cycle. In order to tackle this problem,
a child node repeats the scheme of its parent when it sends
its own scheme, so siblings can exploit this information if
they missed their parent’s scheme. It is a way of avoiding
the dependency on just one packet. Nodes now have multiple
opportunities to synchronize their state on the network. This
increases the reliability and the energy efﬁciency, as nodes
that were not synchronized because of packet loss before
now can overcome those inefﬁciencies.
5
10
15
20
25
30
0
5
10
15
20
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 9.
Difference between whether the scheme randomization was used
or not. Data interval: 9.
A. Algorithm
In order to do overhearing, a node will not power down
its radio when it has heard nothing within an expected
number of slots. When receiving scheme packets, it will
overhear packets from all nodes instead of dropping packets
not coming from its parent. When receiving a packet, it
will check whether the node transmitting the packet has the
same parent. It will record the new control scheme with the
control subcycle and data subcycle length and the current slot
number. After correcting some offsets in the original control
scheme packet, it can be passed to the routines responsible
for doing regular processing of parent schemes.
B. Analysis
A critical phase in the CICADA protocol is the control
subcycle. If a node misses packets in this phase, i.e. it misses
scheme messages, energy will be wasted as the node will
keep its radio on until the next cycle. The impact of loss of
other packet types is less critical. As a result, the overhearing
algorithm only focuses on scheme packets.
When a node overhears a scheme packet, it can perform a
recovery. Two types of recovery can be deﬁned. In the ﬁrst
one, a node is not capable of transmitting its own scheme
packet but it is aware of the current scheme. This means
that the node can turn its radio off according to the scheme,
but its children will not receive a scheme and cannot go to
sleep mode. This state is referred to as partial recovery. In
the second type of recovery, the node can transmit its scheme
to its children. The children then know when to sleep. This
is called full recovery.
In the following analysis, we will calculate the probability
that a node n is capable of sending its scheme by performing
a full recovery and the probability that the node can do a
partial recovery.
The packet reception probability between two nodes x and
y is represented as Px,y. In this analysis, it is assumed that
all links are identical and that all the reception probabilities
156
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

0.3
0.4
0.5
0.5
0.6
0.6
0.6
0.7
0.7
0.7
0.7
0.8
0.8
0.8
0.8
0.9
0.9
0.9
0.9
1
1
1
1
Position of node n [−]
Packet reception probability [−]
2
3
4
5
6
7
8
9
10
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Fig. 10.
Probability that node n is capable of hearing its parent’s scheme
or to do a full recovery, calculated with (9). The curves connect the points
with the same probability. The x-axis is the position of node n in the control
sub cycle, the y-axis is the packet reception probability. It can be seen that
overhearing is useful.
are independent and identically distributed. Hence, Px,y can
be written as P. Further, it is assumed that node n’s parent
node has N + 1 children.
The probability that no recovery is needed simply is
P, namely the probability that the scheme packet from
the parent is received. This means that for a good link,
overhearing will not even start in many cases. Similar, the
probability that the node does not receive its parent’s packet,
is 1 − P.
The probability that no scheme packet is received and that
neither full nor partial recovery is possible, given N siblings,
is then
(1 − P) × (1 − P)N
(8)
This means that the node does not receive the scheme packet
from its parent or from any of its sibling. Thus, when a link
is very bad, the overhearing success probabilities depend on
the number of siblings. When a node has more siblings, they
can help cooperate and recover the state.
Let’s deﬁne the position of a node in the control subcycle
as C, where 0 < C ≤ N + 1. Further assume that the
node is able to perform partial recovery, thus the node has
overheard the retransmitted scheme of one of its siblings that
is positioned before the node in the control subcycle. Then,
the probability that a node is able to send its scheme to its
children is given by
P + (1 − P) × (1 − (1 − P)C−1)
(9)
This is shown in Figure 10 where the avantage of using
overhearing can be clearly seen. For example, when node
n is on position 5, the probability that the node can send
its own scheme rises to more than 90%, even when the
packet reception probability is a little bit less than 50%.
Further we can see that if the node’s position is early in the
control subcycle, the probability of being able to perform
full recovery is smaller.
0.5
0.5
0.6
0.6
0.6
0.7
0.7
0.7
0.8
0.8
0.8
0.9
0.9
0.9
1
1
1
1
Number of siblings of node n [−]
Packet reception probability [−]
2
3
4
5
6
7
8
9
10
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
Fig. 11.
Probability that node n is capable of hearing its parent’s scheme
or to do a full recovery, calculated with (12). The curves connect the points
with the same probability. The x-axis is the number of siblings of node n,
the y-axis is the packet reception probability. It can be seen that overhearing
is useful when more nodes have the same parent.
Given a uniform distribution of the position of a node in
the control subcycle, the average full recovery probability is
given as
1
N + 1
N+1
X
C=1
P + ((1 − P) × (1 − (1 − P)C−1))
(10)
= P + (1 − P) × (1 −
PN+1
C=1(1 − P)C−1
N + 1
)
(11)
= P + (1 − P) × (1 − 1 − (1 − P)N+1
(N + 1)P
)
(12)
This is shown in Figure 11. The more siblings a node has,
the higher the probability of doing a full recovery.
The probability that a node at position C can do partial
recovery, is then given as
(1 − (1 − P)N+1−C)
(13)
Thus, the probability that node n receives its parent’s
scheme and can turn its radio off when possible in the data
cycle is given by
P + (1 − P) × [(1 − (1 − P)C−1) +
. . . + (1 − P)C−1 × (1 − (1 − P)N+1−C)]
(14)
For partial recovery, once again the number of siblings is
important. When this is high, the number of nodes behind
the node will generate a high probability that partial recovery
is still possible.
C. Overhead
This solution seems very easy but also increases the
overhead. In order to analyze the overhead, we need to know
the size of a control packet. It is assumed that the length of
an address is 8 bits. This allows us to identify 255 nodes
in the network, which is sufﬁcient for a BSN. Further, it is
assumed that a node has x children. In a control packet, a
parent nodes sends the scheme for the control subcycle as
157
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

well as for the data subcycle. A control packet is made up
from the following elements, as can be seen in Figure 3 :
1) ID sender: 8 bits
2) Control Scheme: x * 8 + waiting period (8 bits)
3) Control subcycle length (settings) + tree depth (8 bits
together)
4) Data scheme: x * 8 + waiting period (8 bits) + length
ﬁeld (8 bits)
This gives a total of 40 + 2 · x · 8 bits or 5 + 2 · x bytes.
When the scheme of the parent is included, an additional of
4 + 2·xp bytes are added, where xp indicates the number of
children of the parent. If we assume that in a network each
node has a maximum of 10 children, the length of the control
packet will change from 25 bytes to 49 bytes. This means
that the length of the slot size in the control cycle needs
to be increased, which will have an impact on the energy
efﬁciency. However, these inﬂuences are minor as long as
the length of the control slots is more than ten times smaller
than the length of the data slots (proof omitted due to reasons
of brevity). Hence, if a data slot can hold a message of 500
bytes, the inﬂuence of adding your parent’s scheme is minor.
D. Simulation Results
Again, simulations were performed in our own simulator,
with the same settings. This time, the data interval was
set to 1, 3, 5, 7 and 9 times the node count to take into
account possible network saturation effects. The results are
shown in Figures 12,13,14,15 and 16. We see that the sink
receives about the same amount of data, regardless of the
data interval. The number of sent packets increases slightly
with the data interval, as there is more room to use the
recovered slots. But while sending more packets, nodes
clearly have their radio switched off more, especially when
the number of nodes in the network is large. In that case, the
number of siblings to overhear control packets is larger, thus
increasing the probability of recovery. This clearly shows
that overhearing to do recovery works very well.
In order to evaluate the overhead, Figure 17 shows the
ratio of the number of nodes in the schemes. As expected, the
number of nodes in the schemes increases with the number
of nodes in the network.
VIII. COMBINED SOLUTIONS
In this section, the two mechanisms are combined and it
is investigated how they inﬂuence each other. The results
are shown in Figures 18, 19 20, 21 and 22. In saturated
networks, where the data interval is small, the combined
solution suffers from the retransmissions and advantages are
not clear. In non-saturated networks, the combination of both
solutions clearly works: the number of retransmissions and
the use of the radio decreases. For larger networks, the
number of retransmissions once again increases due to the
large number of links.
In Figure 17 it can be seen that the combined solution
has little inﬂuence on the overhead caused by repeating the
parent’s scheme. This is expected as the tree structure is not
fundamentally changed by any of the mechanisms.
5
10
15
20
25
30
0
5
10
15
Number of nodes
Difference (%)
Received
Avg Max Radio on
Sent Packets
Fig. 12.
Difference between whether or not overhearing was used. Data
interval: 1.
5
10
15
20
25
30
−10
0
10
Number of nodes
Difference (%)
Received
Avg Max Radio on
Sent Packets
Fig. 13.
Difference between whether or not overhearing was used. Data
interval: 3.
IX. APPLICABILITY OF RESULTS
One should notice that although both approaches are
implemented for the CICADA protocol, they are applicable
to other sensor network protocols as well. Scheme random-
ization comes down to avoiding ﬁxed allocation of slots, as
this can become a ﬁxed source of interference. Especially
distributed TDMA schemes should avoid this.
The idea of overhearing is also interesting for other
protocols. Depending on just one packet to synchronize one
or more nodes is dangerous because of packet loss. Re-
transmitting the required protocol information does include
an overhead, but it ensures better reliability. Nodes really
collaborate to make sure all nodes in the network can send
their data properly.
158
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

5
10
15
20
25
30
−10
0
10
20
Number of nodes
Difference (%)
Received
Avg Max Radio on
Sent Packets
Fig. 14.
Difference between whether or not overhearing was used. Data
interval: 5.
5
10
15
20
25
30
−10
0
10
20
Number of nodes
Difference (%)
Received
Avg Max Radio on
Sent Packets
Fig. 15.
Difference between whether or not overhearing was used. Data
interval: 7.
X. CONCLUSIONS AND FUTURE WORK
In this paper, we have presented two mechanisms to
improve the reliability of CICADA, a multi-hop protocol for
BSNs.
First, we have modeled the reliability of a link in a
BSN. This was done based on path loss models available
in literature. The proposed model uses a lognormal dis-
tribution for determining the range of a node instead of
a circular coverage area. Doing so, a more realistic view
of the network is obtained. This model was subsequently
used for evaluating the proposed reliability mechanisms. The
scheme randomization does lead to better results, although
the number of retransmissions increases for reasons that are
not clear. Adding the parent’s scheme to the control message
increases the reliability even further.
In the future we will further look into the randomization
5
10
15
20
25
30
−10
0
10
20
Number of nodes
Difference (%)
Received
Avg Max Radio on
Sent Packets
Fig. 16.
Difference between whether or not overhearing was used. Data
interval: 9.
5
10
15
20
25
30
2
4
6
8
10
12
Number of nodes in schemes
Ratio
Overhearing overhead
Combined overhearing overhead
Fig. 17.
Evaluation of overhearing overhead (with/without)
effects, an explanation for the increase in the number of
retransmissions has to be found.
We will also test our simulator for more protocols, to be
able to validate it completely. We then will try incorporating
the improvements into those protocols as well, to study
effects there. We also consider releasing the simulator as
a fast, open source alternative to existing general simulators.
ACKNOWLEDGMENTS
This research is partially funded by the Fund for Scientiﬁc Research –
Flanders (F.W.O.-V.,Belgium) project G.0531.05 (FWO-BAN) and by the
Flemish IBBT project IM3.
REFERENCES
[1] C. Otto, A. Milenkovic, C. Sanders, and E. Jovanov, “System archi-
tecture of a wireless body area sensor network for ubiquitous health
monitoring,” Journal of Mobile Multimedia, vol. 1, no. 4, pp. 307–326,
2006.
159
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

5
10
15
20
25
30
−10
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 18.
Evaluation of combination of scheme randomization and over-
hearing (with/without), data interval: 1
5
10
15
20
25
30
−20
−10
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 19.
Evaluation of combination of scheme randomization and over-
hearing (with/without), data interval: 3
[2] B. Braem, B. Latr´e, I. Moerman, C. Blondia, E. Reusens, W. Joseph,
L. Martens, and P. Demeester, “The need for cooperation and relaying
in short-range high path loss sensor networks,” in Accepted at 2007
International Conference on Sensor Technologies and Applications
(SENSORCOMM 2007), OCT 2007.
[3] A. Natarajan, M. Motani, B. de Silva, K.-K. Yap, and K. C. Chua,
“Investigating network architectures for body sensor networks,” in
HealthNet ’07: Proceedings of the 1st ACM SIGMOBILE international
workshop on Systems and networking support for healthcare and
assisted living environments.
New York, NY, USA: ACM, 2007,
pp. 19–24.
[4] E. Reusens, W. Joseph, G. Vermeeren, and L. Martens, “On-body
measurements and characterization of wireless communication channel
for arm and torso of human,” in 4th Internation Workshop on Wearable
and Implantable Body Sensor Networks (BSN 2007), March 2007, pp.
264–269.
[5] A. Fort, C. Desset, P. De Doncker, P. Wambacq, and L. Van Biesen,
“An ultra-wideband body area propagation channel model - from
statistics to implementation,” IEEE Trans. Microwave Theory and
Tech., vol. 54, no. 4, pp. 1820–1826, Apr. 2006.
[6] B. Latr´e, B. Braem, I. Moerman, C. Blondia, E. Reusens, W. Joseph,
and P. Demeester, “A low-delay protocol for multihop wireless body
5
10
15
20
25
30
−20
−10
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 20.
Evaluation of combination of scheme randomization and over-
hearing (with/without), data interval: 5
5
10
15
20
25
30
−20
−10
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 21.
Evaluation of combination of scheme randomization and over-
hearing (with/without), data interval: 7
area networks,” in Mobile and Ubiquitous Systems: Networking &
Services, 2007 4th Annual International Conference on, Philadelphia,
PA, USA, August 2007.
[7] H. Li and J. Tan, “Heartbeat driven medium access control for
body sensor networks,” in HealthNet ’07: Proceedings of the 1st
ACM SIGMOBILE international workshop on Systems and networking
support for healthcare and assisted living environments.
New York,
NY, USA: ACM, 2007, pp. 25–30.
[8] A. Bag and M. A. Bassiouni, “Energy efﬁcient thermal aware routing
algorithms for embedded biomedical sensor networks,” in Mobile Ad-
hoc and Sensor Systems (MASS), 2006 IEEE International Conference
on, Vancouver, BC,, Oct. 2006, pp. 604–609.
[9] D. Takahashi, Y. Xiao, and F. Hu, “Ltrt: Least total-route temperature
routing for embedded biomedical sensor networks,” in IEEE Globecom
2007, November 2007.
[10] T. Watteyne, . Aug´e-Blum, M. Dohler, and D. Barthel, “Anybody: a
self-organization protocol for body area networks,” in Second Interna-
tional Conference on Body Area Networks (BodyNets), Florence, Italy,
11-13 June 2007. 2007.
[11] M. Moh, B. J. Culpepper, L. Dung, T.-S. Moh, T. Hamada, and C.-
F. Su, “On data gathering protocols for in-body biomedical sensor
160
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

5
10
15
20
25
30
−20
−10
0
10
20
30
Number of nodes
Difference (%)
Received
Retransmissions
Avg Max Radio on
Sent Packets
Fig. 22.
Evaluation of combination of scheme randomization and over-
hearing (with/without), data interval: 9
networks,” in Global Telecommunications Conference, 2005. GLOBE-
COM ’05. IEEE, vol. 5, Nov./Dec. 2005.
[12] B. Braem, B. Latr´e, I. Moerman, C. Blondia, and P. Demeester,
“The Wireless Autonomous Spanning tree Protocol for multihop
wireless body area networks,” in Proceedings of the First International
Workshop on Personalized Networks.
San Jose, California, USA:
ICST, 2006.
[13] G. Zhou, J. Lu, C.-Y. Wan, M. Yarvis, and J. Stankovic, “Bodyqos:
Adaptive and radio-agnostic qos for body sensor networks,” April
2008, pp. 565–573.
[14] B. Braem, B. Latre, C. Blondia, I. Moerman, and P. Demeester,
“Improving reliability in multi-hop body sensor networks,” Aug. 2008,
pp. 342–347.
[15] Saunders, Antennas and propagation for wireless communication
systems.
West Sussex, England: Wiley, 1999.
[16] R. Hekmat and P. V. Mieghem, “Connectivity in wireless ad-hoc
networks with a log-normal radio model,” Mobile Networks and
Applications, vol. 11, no. 3, pp. 351–360, 2006.
[17] Ruby Programming Language [online] http://www.ruby-lang.org/.
161
International Journal On Advances in Internet Technology, vol 2 no 1, year 2009, http://www.iariajournals.org/internet_technology/

