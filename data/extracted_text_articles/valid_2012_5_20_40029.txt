Optical Link Testing and Parameters Tuning with
a Test System Fully Integrated into FPGA
Anton Kuzmin, Dietmar Fey
Department of Computer Science,
Chair of Computer Architecture
Friedrich-Alexander-University Erlangen-Nuremberg, Germany
{anton.kuzmin,dietmar.fey}@informatik.uni-erlangen.de
Abstract—Development, characterization and performance op-
timization of systems utilizing FPGAs with high-speed serial
transceivers to implement optical links with 1 to 10 Gbps
data rate is a complex task and it poses several challenges
for design engineers. In this paper, an effective approach is
presented designed to address these challenges based on the use
of diagnostic features implemented in the transceivers and a
soft-IP microcontroller system instantiated in the FPGA. The
use of the soft-IP controller allows a single-point access to the
control and diagnostic interfaces of all components forming the
link. Combined with computational capabilities and a high-level
programming language interpreter running on the soft-IP CPU
inside the FPGA, it enables extensive optical link performance
evaluation without relying on any additional test and mea-
surement equipment and signiﬁcantly shortens debugging and
testing times. The implementation demonstrates the feasibility
and effectiveness of the proposed approach to utilization of on-
chip diagnostic capabilities.
Index Terms—Optical ﬁber communication; Transceivers;
FPGA; Microcontrollers; Embedded software
I. INTRODUCTION
Modern applications including rich media content transport,
on-the-ﬂy image processing, high bandwidth data acquisition
for experimental physics, and high performance computing,
require ever increasing serial communication data rates. At
the same time, latency requirements remain strict and sig-
niﬁcantly limit possibilities for error correction and there-
fore call for a lower number of acceptable errors in the
communication channel. FPGA devices with integrated high-
speed serial transceivers and optical interconnects provide a
very efﬁcient and ﬂexible platform for implementing such
demanding applications and can be found in an increasing
number of systems. Various examples and applications of
optical interconnects could be found in [1]–[5].
One of the major challenges is a parameter tuning of the
various components forming an interconnect to achieve the
lowest possible probability of bit errors. The problem is that
accurate measurements at low error probabilities require very
long times even at high data rates to accumulate statistics
for a given conﬁdence level while the parameter optimization
space is relatively big. Additional complications arise from the
fact that various components of the link have very different
interfaces for setting parameters. In most cases, they are
supported by proprietary tools with limited functionality for
automatically tuning link parameters. The application of these
tools often requires a connection of the system to external
test and measurement equipment. The limitations associated
with its usage become increasingly severe with a tighter
integration between the FPGA and the optical transceiver
blocks as recently proposed by Li et al. [6]. This level of
integration makes electrical signals between the FPGA and
optical transceiver practically inaccessible for external test
equipment.
This paper presents an effective approach designed to ad-
dress challenges associated with the testing, parameter tun-
ing and performance monitoring of optical interconnects in
FPGA-based systems. The approach is based on the use of
a soft-IP controller embedded into the FPGA to perform two
major tasks: link performance measurements and control of
parameters of the different components forming the link.
The paper has the following structure. In the ﬁrst sec-
tion, an example of utilization of FPGA built-in transceiver
diagnostic capabilities is presented and the key differences
in the approach chosen by the authors are outlined. In the
subsequent section an overall inter-FPGA transceiver-based
serial link structure is shown followed by brief description of
its components and their respective conﬁgurable and tunable
parameters. Then, a Bit Error Ratio (BER) [7] is introduced as
an integral characteristic of link performance. An optimized
algorithm for obtaining an accurate BER scan plot (bath-tub
curve) is described. It can be used for indirect eye diagram
width measurement by introducing a phase shift into a signal
sampling point inside the receiver. The eye diagram width may
serve as an indicator of the link performance and is used as a
target function for the link parameter optimization.
Implementation aspects of the FPGA-based optical link test
system are then discussed in the next parts of the paper
along with the obtained link performance measurement results.
Comparison of the measured BER levels for different optical
modules conﬁrms the validity of the implemented test system.
The factors limiting a wider adoption of the approach
presented, possible ways to address them and directions for
further research and development work are discussed in the
concluding section.
II. RELATED WORK
Usage of FPGA for testing communication channels has
been previously described. For instance, in [5] an implementa-
121
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

CM PLL
Serializer
N−to−1
Serializer
8B/10B
Encoder
Tx Phase
FIFO
Byte
User’s
logic
User’s
logic
Optical Transmitter
Optical Receiver
TIA
Driver
VCSEL
PIN Diode
FPGA
Integrated Transceiver (Receiver part)
FPGA
Integrated Transceiver (Transmitter part)
PMA
PCS
Clock
N−bit Data
CDR
PCS
PMA
Deserializer
1−to−N
Word
Aligner
Deskew
Decoder
8B/10B
Deserializer
Byte
FIFO
FIFO
Rx Phase
1/N
N−bit Data
Rx PLL
Clock
Fig. 1.
Simpliﬁed inter-FPGA serial optical link structure.
tion of the Bit Error Ratio Tester (BERT) based on the Alera’s
Stratix II GX transceivers is presented and compared with a
commercial stand alone tester. It is shown that the results
obtained with the FPGA implementation comply with the
results of the stand alone tester. However, the implementation
still utilizes external equipment to control the test system and
to collect the measurement results.
This paper, while similar in overall approach to the one
proposed by Xiang et al. [5], presents notable improvements
in several areas. The most important of these is the implemen-
tation of a functionally complete test system inside the FPGA.
Additionally the ﬂexibility of the implemented system allows
extension of its hardware and software components to support
interfaces for monitoring and controlling the parameters of the
various components of the link without external equipment.
Another improvement presented in this paper is an adaptation
of eye-width as a link performance indicator instead of a raw
BER. The eye-width can be measured signiﬁcantly faster at
low bit error probabilities with the aid of diagnostic circuitries
integrated into the transceivers and therefore is more efﬁcient
as a target function for the parameter space exploration and
link performance optimization.
III. OPTICAL LINK STRUCTURE
A block diagram of an optical digital communication link
is shown in Figure 1. The link data path consists of a trans-
mitter, an electro-optical converter (VCSEL with its driving
circuits), an optical ﬁber, a photo detector (PIN diode and
transimpedance ampliﬁer) and a receiver. The transmitter and
receiver are further divided into a Physical Coding Sublayer
(PCS) and a Physical Medium Attachment (PMA) sublayer.
The
PCS
blocks
are
responsible
for
byte
serializa-
tion/deserialization, byte ordering, rate matching, and 8B/10B
encoding/decoding. All these functions are essential for the
implementation of a reliable digital data channel. However, in
this work, we concentrate on the physical layer performance
measurements leaving the problems related to the coding
sublayer out of the scope of the research.
The transmitter part of the transceivers integrated into the
FPGA allows the tuning and run-time changes of several pa-
rameters. Among them are clock multiplication phase-locked
loop (PLL) dividers and bandwidth, output driver common
mode voltage, differential voltage output swing and preem-
phasis aimed at reducing the negative effects of inter-symbol
interference. The receiver part, in turn, has the following
tunable blocks and parameters: on-chip termination, adaptive
equalization, decision feedback equalization, receiver input
common mode voltage and gain. These blocks have a crucial
impact on the signal quality on the input of the Clock and
Data Recovery (CDR) circuitry, but their inﬂuence cannot be
measured directly because the signal after these stages is not
physically available outside the chip and cannot be connected
to external measurement equipment. The CDR block provides
a built-in diagnostic support circuitry to facilitate assessment
of the signal quality on its input.
The hardware interfaces, which are necessary to change
all the transceiver’s parameters and to access the diagnostic
circuits, are available to the logic programmed into the FPGA.
Chip and design software vendors provide tools to access these
interfaces, however their use requires a connection between the
development workstation with CAD software and the FPGA.
The electro-optical components of the link have their own
sets of tunable and monitoring parameters, such as driver
and receiver power levels, VCSEL modulation and offset
currents, temperatures and thermal compensation coefﬁcients,
signal power detected at the receiver input, etc. Access to
these features is implemented through another set of vendor-
speciﬁc interfaces and also requires a development workstation
with a connection to the target system. Such connections
may be not feasible in the embedded system while access to
the interfaces is still highly desirable or even required. This
problem may be addressed by integration of IP cores for all
required management interfaces into the system instantiated in
the FPGA.
The ﬂexibility of a soft-IP microcontroller system inside
the FPGA allows the implementation of a single-point access
to the management interfaces of all the components forming
the link. Combined with built-in link diagnostic capabilities
controlled by the same microcontroller system it results in a
complete test system that enables link performance testing and
parameter tuning without relying on any external equipment.
Additionally it is available not only during development and
testing of the system but also after its deployment.
IV. LINK PERFORMANCE INDICATORS
Two link operation quality indicators are introduced in this
section along with a description of an algorithm used by the
authors to measure “eye-width” with the transceiver’s built-in
diagnostic circuits.
A. Bit Error Ratio
The integral quality of operation of a serial link is charac-
terized by its Bit Error Ratio (BER): a ratio of the number
of bits received with errors to the total number of bits
122
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

transmitted through the link: BER = Nerr/N. This ratio is
used for both measured and actual values. A BER is usually
measured with a special piece of test equipment, so called Bit
Error Ratio Tester. It consists of a data pattern generator, a
reference quality receiver, a digital comparator and counters
for transmitted bits and errors. The ﬂexibility of an FPGA
allows to implement all blocks of a bit error ratio tester in
programmable logic in the FPGA itself.
The measured value approaches the actual BER in the
limit: limN→∞ Nerr/N = pe. It is not possible for BER
measurement to transmit an inﬁnite number of bits since it
would require an inﬁnite measurement time and a way to
measure the BER with a given accuracy is required. For
practical application it is often enough to know that the BER is
below some threshold with a given conﬁdence while its actual
value is irrelevant. As the literature shows (for instance, in [8]),
if more than N0 bits were transfered during the test with no
errors detected, then with probability α the actual BER is less
than pe:
N ≥ N0 = 1
pe
ln
1
1 − α
This number of bits (N0) sets a lower limit on the test
duration when no errors are observed. At a data rate of 5 Gbps
it takes approximately 10 minutes to reach a 95% conﬁdence
that BER is lower than 10−12, for the BER level of 10−15 it
would require almost a week. The long runtime required makes
it impractical to use the BER directly as a target function
for the link parameters optimization. It would take enormous
amount of time to ﬁnd an optimum in the parameter space even
if only a small fraction of all possible parameter combinations
yielded a bit error ratio lower than 10−12.
B. Eye-Width and its Measurement
The quality of a signal may be analyzed by evaluating its eye
diagram: a picture on an oscilloscope display resulting from
observing a transmission of a pseudo-random binary sequence
with properties representative of the physical layer encoding
used in the link. The width and height of an opening of the
central part of the diagram (“eye”) serve as indicators of the
signal quality and may be used as target functions for the
link parameter tuning. However, the signal on the input of the
receiver CDR unit is not available for direct measurements.
Therefore built-in diagnostic circuitries of the receiver should
be utilized.
Serial transceivers integrated into the Altera Stratix IV GX
FPGAs include special circuitry that facilitates measurements
of the eye opening on the input of the CDR block [9]. The
circuitry allows shifting of a sampling point of the signal
from its optimal position in the center of the unit interval
(UI) under external control. Then bit error ratio is measured
for each phase offset. For sampling points close to the center
of the eye opening, there will be no signiﬁcant increase in
the bit error ratio. For sampling points closer to the signal
slopes the number of observed errors will gradually increase.
Finally, in the area of the signal edge crossing widened by a
10
10-12
10-11
-10
10
10-9
10-8
10-7
10-6
10-5
10-4
10-3
10-2
-1
10
0
BER
1
2
3
3
0.4
0.2
0.0
0.2
0.4
Relative phase offset (UI)
0.4
0.2
0.0
0.2
0.4
Signal Voltage (Vdiff)
Fig. 2.
“Bath-tub” curve scan algorithm and reconstructed eye diagram.
jitter, a receiver will not be able to achieve synchronization
with its input signal resulting in the observed bit error ratio of
0.5. From these measurements of the BER at signal sampling
points distributed through the UI the eye opening and jitter
characteristics of the signal may be deduced [8].
The key beneﬁt of this approach is that the conclusion re-
garding the signal quality and, therefore, link parameters, may
be reached by a number of BER measurements with different
phase offsets through the UI instead of one at the optimal
sampling point. However, each of these measurements needs
to achieve a given conﬁdence level at a much higher target
BER and, therefore, requires signiﬁcantly shorter runtime.
An algorithm implementing this approach can be further op-
timized to reduce the number of required BER measurements
at the center of the eye opening, where the bit error ratio
is low. These measurements take up most of the time and
effectively provide no useful information. Several approaches
to such optimization are described in [8].
Figure 2 illustrates the behavior of the modiﬁed algorithm
implemented by the authors and shows an eye-diagram re-
constructed from the measurements. As a ﬁrst step (marked
with 1 in the ﬁgure) an initial scan through the entire unit
interval is performed with high target BER (10−7). From these
measurements, an approximate location of the eye boundaries
is determined. At the second stage the BER is measured at the
center of the eye opening to make sure that the target BER
level (10−12) is achievable at the close-to-optimal sampling
point (2). Then, the BER is measured at sample points from the
eye opening boundaries detected during the ﬁrst scan towards
the center to determine points where the target BER level is
achieved (3). The distance between these points (eye-width)
serves as a measure of the signal quality at the input of the
receiver CDR unit and may be used as a target function for
the link parameters’ tuning.
The described algorithm for eye-width measurements re-
duces the number of BER samplings within the eye opening.
For the diagram shown in Figure 2, it took only 55 minutes
123
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

3
2
...
SFP+
1
FPGA
SFP+
Coax cables
Coax cables
MMF
Fig. 3.
Experimental system and loopback conﬁgurations.
to collect all the data. An exhaustive UI scan under the
same conditions takes 150 minutes but provides no additional
information on the link operation.
V. TEST SYSTEM IMPLEMENTATION
To conﬁrm the usefulness of the approach described to the
optical link testing and parameter tuning and to create a base
set of tools to be used in future projects, e.g., in an FPGA-
based HPC system exploiting high speed optical interconnects,
the authors implemented a prototype system. The system
consists of hardware, a set of IP blocks, embedded software
and development tools and facilitates debugging, testing and
evaluation of the components. A photo of the assembled
system hardware is shown in Figure 3 and components of the
system are described in the following sections.
A. Hardware Platform
The system is based on the Altera Stratix IV GX FPGA
(EP4SGX230KF40C2) installed on a TerasIC DE4 board.
Through an adapter board with SMA connectors and a set of
coaxial cables the DE4 board is connected to SFP+ evaluation
boards hosting optical transceiver modules. Hot-pluggable
SFP+ transceivers used in the system provide duplex LC-
type optical connectors for the Multi-Mode Fiber. Management
interface of the transceiver modules (I2C) is accessible from
the FPGA and is used for the monitoring of their parameters.
The highly modular construction of the hardware platform
enables experimentation with different components and link
conﬁgurations. During development and validation of the
system several loopback conﬁgurations were used as shown
in the diagram on Figure 3. The shortest possible one is an
electrical loopback connecting the FPGA transmitter output
signals directly to the input of the receiver (1). The second
tested conﬁguration uses a single optical transceiver with its
input and output connected via a Multi-Mode Fiber (MMF)
loopback (2). The length of the ﬁber loop used in the tests
ranged from 15 cm to 15 meters. This loopback conﬁguration
is the closest to an actual optical link where the signal passes
through one electro-optical and one opto-electrical conversion
and a single ﬁber segment.
The most elaborate loopback conﬁguration tested utilizes
two transceiver modules and an electrical loopback on the
“remote” side of a duplex ﬁber link (3). While this link exceeds
conﬁgurations, which would be found in practical applications
it is still interesting as it allows an easier separation of
inﬂuence on the signal quality from different components of
the link and serves as a model of a less favorable environment
with longer links and a higher number of interconnects along
the signal path.
The transceivers available in Stratix IV GX FPGA provide
an on-die scope capable of 1/32 unit interval resolution at
data rates up to 6.5 Gbps [9]. Comparable technology is
available in the transceivers integrated into the Xilinx Virtex-6
FPGA family. As an additional feature these transceivers are
capable of a vertical scan of an eye-diagram [10], however
this functionality has not yet been explored by the authors so
far.
B. System-on-Programmable Chip and IP Cores
The architecture of a soft-IP microcontroller system in-
stantiated in the FPGA is shown in Figure 4. The system
consists of the following main blocks: NIOS II CPU core
with a small on-chip ROM containing boot code, a controller
for external SRAM and FLASH, UART for communication
with a control terminal, cores for the test pattern generator
and checker, interfaces to access the transceiver conﬁguration
and diagnostic features, I2C master cores for connection to
the management interface of the SFP+ modules. The entire
system utilizes only a small fraction of the available FPGA
resources: the logic utilization is 3%, and available memory
and DSP blocks are used for less than 1%.
The IP cores forming the system were taken from three
sources. The ﬁrst one is the library supplied by the FPGA
vendor (Altera in this case). The cores are optimized for a
speciﬁc FPGA architecture, but no source code is provided
and the cores are not available on FPGAs from other vendors.
The second source of IP cores for the system is a collection of
free and open cores hosted on the OpenCores site [11]. These
cores are provided under free licenses and their source code is
available. This makes it possible to implement these cores in
systems on different FPGA architectures. The price for such
ﬂexibility is the time and effort required for integration and
adaptation, and the required time and effort is generally greater
than for FPGA vendor supplied IP cores.
These two sources of IP cores, while covering most of the
functionality, still do not provide several crucial interfaces
required in order to access transceiver conﬁguration and di-
agnostic interfaces. These missing parts were created by the
authors by means of custom HDL development as the third
source of IP blocks, and this required most effort.
Since the IP cores from different sources have different
interfaces their integration into a working system is a technical
problem in itself and required the development of “adapter”
124
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

...
Lua interpreter
Low level h/w drivers
...
H/w init and code loader
Control & Test Modules
Lua
C
On−chip
ROM
SRAM
On−chip
UART
Memory
controller
FLASH
SRAM
Test pattern
Checker
Test pattern
Generator
Transceiver
Av−to−WB
bridge
IIC
SPI
Configuration
controller
NIOS II
Avalon bus
Wishbone bus
Control
Terminal
Fig. 4.
Test System-on-Programmable Chip (SoPC) architecture.
modules. The two primary on-chip interconnects used in the
system are Avalon [12] and WISHBONE [13].
Overall, a combination of the readily available blocks (both
proprietary and free) and those developed in-house proved to
provide a reasonable and time efﬁcient way of implementing
the prototype system.
C. Embedded Software
The monitoring and control of all blocks forming the optical
link, BER testing and processing of the test results are handled
by an embedded software running on the NIOS II soft-IP CPU
instantiated in the FPGA.
Low level software to access all hardware interfaces is
implemented in the C programming language and its func-
tionality is made available to the Lua interpreter. Lua, as is
stated on its web-site [14], “is a powerful, fast, lightweight,
embeddable scripting language”. These properties make it very
attractive for a wide range of applications including game
development, mobile devices and embedded software [15]. A
tight integration with C and an interactive interpreter facilitate
an efﬁcient development of diagnostic, testing and debugging
software for embedded hardware systems.
Availability of an ANSI C compiler and a basic C run-time
library are the only requirements to port Lua to a new platform
and it was extremely easy to get an early prototype running
on NIOS II. The efforts invested in the porting and support
of Lua interpreter on the soft-IP microcontroller system in the
FPGA were rewarded in the ﬂexibility of the resulting system
and increased development productivity.
Access to the interactive environment is very useful during
embedded hardware development and debugging as it saves
a lot of time in the edit-compile-load-run development cycle.
Since the “hardware” itself is a soft-IP system instantiated in
the FPGA this time saving becomes even more important: on
the one hand, the system is malleable and experimental and
includes design errors, on the other hand traditional software
development cycle is complicated by a separate FPGA design
ﬂow with longer iterations. With this additional complexity
an availability of tools facilitating quick experiments and tests
running directly on the target platform is a key factor for
effective development. Our experience shows that Lua ﬁts
this role perfectly and allows rapid localization of the design
errors both on the hardware and software levels. All the link
conﬁguration and BER measurement software in the system
are implemented as a set of Lua modules.
VI. MEASUREMENT RESULTS
Measurements on the test system were performed for data
rates in a range from 1 to 5 Gbps with various loopback
conﬁgurations. The SPF+ module used in most experiments
is the Avago AFBR-703SDDZ. The module is capable of data
rates up to 10 Gbps and, as expected, performs excellently
in the tested data rate range. Even with the most demanding
loopback conﬁguration the eye diagram opening for the 10−12
BER level is approximately 40% (80 ps) of the unit interval
(200 ps at 5 Gbps).
Several data patterns with different spectral characteristics
were used in the experiments. Two test patterns that speciﬁ-
cally check the link performance at the edges of its frequency
band are the Low Frequency (LF) and High Frequency (HF)
patterns. The other test patterns are Pseudo-Random Binary
Sequences (PRBSx) generated by a linear feedback shift
register with the length x. The lengths of 7, 15, 23, and 31 bit
were used. The test results show slight dependency on the data
pattern used, however detailed analyses of this dependency
have not yet been yet performed.
To validate the test system and conﬁrm that the measure-
ment results adequately represent link quality an SFP module
with a lower maximum data rate has been used: Finisar
FTLF8524P2BNL. According to its documentation the module
is capable of data rates up to 4.25 Gbps. Experiments show
that up to this limit it demonstrates BER ≤ 10−12, also the
eye width is smaller than that with the Avago module. The
bathtub scan results for both modules at 5 Gbps are shown in
the Figure 5. This data rate is outside of the speciﬁed range for
the Finisar module and this is clearly visible from the diagram:
even in the vicinity of the ideal sampling point BER does not
achieve 10−7 level.
The results obtained allow the conclusion that the developed
test system provides reliable data on the optical link perfor-
mance and may be used to compare different link implemen-
tations and to tune parameters of the link. The comparison of
125
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

0.4
0.2
0.0
0.2
0.4
Relative phase offset (UI)
10
-12
10
-11
10
-10
10
-9
10
-8
10
-7
10
-6
10
-5
10
-4
10
-3
10
-2
10
-1
10
0
BER
Module
pilot scan at 1e-9
Finisar FTLF8524P2BNL
Avago AFBR-703SDDZ
Fig. 5.
Comparison of “bath-tub” curves for two SFP modules at 5 Gbps.
the measurement results obtained with different data patterns
may provide additional information that could be useful for
optimizing link performance.
VII. CONCLUSION AND FUTURE WORK
The implementation clearly demonstrated the feasibility and
effectiveness of the proposed approach to utilization of the on-
chip diagnostic capabilities of FPGAs with high-speed serial
transceivers. The use of the soft-IP controller instantiated in
the FPGA allows a single-point access to the control and
diagnostic interfaces of all components forming the link.
Combined with computational capabilities and a high-level
programming language interpreter running inside the FPGA, it
enables extensive optical link performance evaluation without
relying on any additional test and measurement equipment and
signiﬁcantly shortens the system debugging and testing times.
As an additional beneﬁt all the implemented functionality is
still available in the deployed system and may be used for
remote monitoring and diagnostics.
Several factors limit a wider application of this approach.
One of the most critical is the utilization of FPGA vendor
speciﬁc IP cores. To use the test system on an FPGA from
a different vendor these blocks should be replaced with
their functional equivalents available on the other platform,
but supporting different system variants would increase the
effort required. A more efﬁcient approach is to replace the
vendor speciﬁc IP cores with free and open-source equivalents
available on all target platforms.
The most complex and important block in the system
speciﬁc to the Altera platform is the NIOS II CPU core and its
replacement with one of the free CPU cores is considered by
the authors to be the next step in the project. The remaining
proprietary cores (test data pattern generator and checker,
external bus controller, UART) are expected to be easier to
replace and do not require toolchain and embedded software
porting effort. The replacement of the IP blocks available only
on one FPGA architecture with portable ones will make it
possible to reuse the test system on different FPGAs and
boards and will facilitate direct comparison of the optical
modules and built in FPGA transceivers across them.
Another area for improvement is the automated integration
of separate IP blocks from different sources into a system.
Vendor speciﬁc tools have progressed notably in this area in
recent years, however they are still limited with regard to
support of “foreign” IP cores. On the other hand, while efforts
have being made to provide similar functionality for free and
open-source cores, the tools that have emerged so far are not
well integrated in the FPGA and embedded software design
ﬂows.
Detailed analysis of the dependencies between the test
loopback conﬁgurations, data patterns, transceiver parameters
and observed eye-diagram is required to develop effective
algorithms for link parameters tuning. This work provides
efﬁcient tools for these researches and demonstrates their
feasibility.
The listed tasks are aimed at improving the implemented test
system itself. The other step planned is to apply the system
to the characterization and parameter optimization of the 12-
channel parallel optical links built with IPtronics low-power
VCSEL driver and TIA arrays or emerging MiniPOD optical
modules. The developed blocks are planned to be used in a
reconﬁgurable research HPC system with optical interconnects
currently under development.
REFERENCES
[1] A. F. Benner, M. Ignatowski, J. A. Kash, D. M. Kuchta, and M. B. Ritter,
“Exploitation of optical interconnects in future server architectures,”
IBM Journal of Research & Development, vol. 49, no. 4/5, p. 755,
July/September 2005.
[2] S. Nakagawa, Y. Taira, H. Numata, K. Kobayashi, K. Terada, and
M. Fukui, “High-Bandwidth, Chip-Based Optical Interconnects on
Waveguide-Integrated SLC for Optical Off-Chip I/O,” in Electronic
Components and Technology Conference, 2009, pp. 2086–2091.
[3] B. E. Lemoff, M. E. Ali, G. Panotopoulos, E. de Groot, G. M. Flower,
G. H. Rankin, A. J. Schmit, K. D. Djordjev, M. R. T. Tan, W. Gong,
R. P. Tella, B. Law, and D. W. Dolﬁ, “Parallel-WDM for multi-Tb/s
optical interconnects,” in Lasers and Electro-Optics Society (LEOS)
IEEE Meeting.
Agilent Technologies Laboratories, 2005, pp. 359–360.
[4] O. Liboiron-Ladouceur, H. Wang, A. S. Garg, and K. Bergman, “Low-
Power, Transparent Optical Network Interface for High Bandwidth Off-
Chip Interconnects,” Optics Express, vol. 17, pp. 6550–6561, 2009.
[5] A. C. Xiang, T. Cao, D. Gong, S. Hou, C. Liu, T. Liu, D.-S. Su,
P.-K. Teng, and J. Ye, “High-Speed Serial Optical Link Test Bench
Using FPGA with Embedded Transceivers,” in Topical Workshop on
Electronics for Particle Physics (TWEPP), 2009, pp. 471–475.
[6] M. P. Li, J. Martinez, and D. Vaughan. Transferring High-Speed
Data over Long Distances with Combined FPGA and Multichannel
Optical Modules. [Online]. Available: http://www.altera.com/literature/
wp/wp-01177-AV02-3383EN-optical-module.pdf
[retrieved:
March,
2012].
[7] G. Breed, “Bit Error Rate: Fundamental Concepts and Measurement
Issues,” High Frequency Electronics, pp. 46,48, January 2003.
[8] M. M¨uller, R. Stephens, and R. McHugh, “Total Jitter Measurement
at Low Probability Levels, Using Optimized BERT Scan Method,” in
DesignCon.
Agilent Technologies, 2005.
[9] W. Ding, M. Pan, T. Tran, W. Wong, S. Shumarayev, M. Peng Li,
and D. Chow, “An On-Die Scope Based on a 40-nm Process FPGA
Transceiver,” in DesignCon.
Altera Corporation, 2010.
[10] RocketIO Transceiver User Guide, Xilinx, Inc., 2007.
[11] [Online]. Available: http://opencores.org/ [retrieved: October, 2012].
[12] Avalon interface speciﬁcations. [Online]. Available: http://www.altera.
com/literature/manual/mnl avalon spec.pdf [retrieved: May, 2011].
[13] Wishbone B4. WISHBONE System-on-Chip (SoC) Interconnection
Architecture for Portable IP Cores. [Online]. Available: http://cdn.
opencores.org/downloads/wbspec b4.pdf [retrieved: October, 2012].
[14] [Online]. Available: http://www.lua.org/ [retrieved: October, 2012].
[15] R. Ierusalimschy, Programming in Lua.
Lua.org, 2006.
126
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-233-2
VALID 2012 : The Fourth International Conference on Advances in System Testing and Validation Lifecycle

