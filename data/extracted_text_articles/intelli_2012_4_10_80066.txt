Semantic Analysis of Medical Images Using Fuzzy 
Inference Systems 
 
 
 
 
 
 
 
Abstract— Medical images carry information in a special data 
format about an organ and the related pathologies. Physicians 
must decipher this information from the image. This paper 
suggests a framework for analyzing the image on the semantic 
level using linguistic data. The framework implements several 
numerical algorithms to extract the physical features of the 
existing objects. The semantic interpretation for identifying the 
organs and possible pathologies from the found physical 
features is done using fuzzy inference systems. The clinical 
testing of the framework is a work in progress but the 
laboratory results are promising. 
Keywords-medical 
image 
processing; 
fuzzy 
systems; 
linguistic interpretation 
I. 
 INTRODUCTION  
Medical images are one of the most basic and common 
medical diagnosis tools. The most common medical image 
formats are the X-ray images, the computer tomography 
images (CT), magnetic resonance images (MRI), the 
ultrasound images, angio CT, PET (Positron emission 
tomography) scan, and so on.  For a trained eye they can 
describe accurately the internal organs of a human being and 
indicate the presence of pathologies. The first step in any 
medical image interpretation is the segmentation of the 
image. The trained eye can segment and analyze the image 
on the cognitive level. In contrast computers need specific 
algorithms for this task from the first step down to the last. 
The first step generally in image analysis is the segmentation 
process. By segmenting the image, the interested areas are 
separated from the background of the image. The next step is 
the feature extraction from the found objects. The interested 
physical features are the shape descriptors, the size of the 
object, its histogram and the location of the object. These 
concepts are used in medical image analysis where the 
objects in the medical image represent different organs and 
associated pathologies. 
In the past years, several medical image analysis 
frameworks 
were 
developed 
[1]-[3]. 
One 
of 
the 
shortcomings of the frameworks is the lack of possibility to 
interpret the segmented object on the cognitive level. This 
paper proposes a framework that can analyze the object from 
the image on the semantic level. The physical features of the 
objects which are recorded using numerical values are 
transformed into “spoken language”. For this process, fuzzy 
algorithms are implemented [4].  By using fuzzy inference 
systems coded in XML files [5], the framework can be 
adapted for different situations.  Section two describes the 
methods which were used to extract numerical and semantic 
data from the medical image as well as several of the 
inference rules. Section three presents the case study of the 
pilot experiment and the first results.  
II. 
USED METHODS 
The coding of the information in medical images varies 
from one image type to another. The majority of the images 
use shades of gray to represent the reflectivity of the scanned 
object.  For a computer to decode the information, specific 
methods must be used. The first step is to separate the 
objects found in the image from the background. The second 
step is to extract the numerical data from the image 
segments. These numerical data represent the physical 
features of the object. For analyzing the image on the 
semantic, level the numerical data must be converted in to 
linguistic data. This is done using a fuzzy inference system. 
This part will present the methods used by the framework to 
create linguistic results from regarding the data found in the 
image.  
 
Figure 1.  Segmentation workflow 
Norbert Gal1, Vasile Stoicu-Tivadar2 
Department of Automation and Applied Informatics, 
“Politehnica” University of Timisoara, 
 Timisoara, Romania 
E-mail1: norbert.gal@aut.upt.ro 
E-mail2: vasile.stoicu-tivadar@aut.upt.ro 
 
66
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-224-0
INTELLI 2012 : The First International Conference on Intelligent Systems and Applications

A. Segmentation Process 
The segmentation process is a mixed segmentation 
process. Figure 1 shows the diagram of the segmentation 
process. First, the image is segmented using a manual 
segmentation which selects the area of interest. To the 
selected zone of interest, first the Otsu thresholding 
algorithm is applied [6]. Statistics are calculated for the two 
classes of intensity values (foreground and background) that 
are separated by an intensity threshold.  
The criterion function is 
σ
σ
2
2 /
T
Bi
  for every intensity, i = 
0,..,I-1, where σ
2
Bi  is the between-class variance, σ
2
T  is the 
total variance and I = 256, the maximum of the intensity 
gray level. The intensity that maximizes this function is the 
optimal threshold.  By using this technique a mask image is 
created and is applied to the selected zone of interest.  
The masked image is subjected to the second part of the 
segmentation process. 
The first step in the interpretation process was to identify 
the threshold value for the segmentation. The formula for 
computing the threshold value is: 
 
                                      
sg k
T
sh = H +
                          (1) 
 
Tsh is the threshold value for which the segmentation 
process takes place. Hsg is the global histogram of the 
medical image, and k is a factor to control the threshold 
value. k is defined empirically. The best results are obtained 
for k = 8-10.  These values were determined empirically 
using several test images. 
The second part of the segmentation process is an 
automatic segmentation which records the existing objects 
from the masked image. The found objects are called 
“blobs” shown on Figure 2. These blobs have several 
physical features. These features are the area recorded in 
pixels, the location recorded by the center of gravity, the 
histogram on 3 channels and the bounding rectangle.  
The shape of the blob is recorded using the Fourier 
transformation which provides the frequency components of 
the contour. These frequency components can be used to 
identify the shape of the organ. 
B. Feature Extraction 
The characteristics that are useful for the interpretation of 
the object are the shape of the object, the histogram value, 
the size of the object and the location of the object in the 
image. 
For classifying the shape of the object, the Fourier 
transform can be used [7]. Each pixel from the contour of 
the object can be located by its Cartesian coordinates. These 
two coordinates are used to write the complex function of 
the object: 
                               
y
x
r
r
j
f r
+
( ) =
                            (2) 
where r = 1… N-1 pixels. Fourier transform gives us the 
frequency components that make up the outline. This 
representation reduces the problem of analyzing the shape 
outline from 2D to 1D. The one-dimensional discrete Fourier 
transform of the function f (r) is: 
 
                           
∑ =
−
-1
N
0
r
j2π2πr
f(r)* e
F(n)= 1/N
             (3) 
 
Excluding F (0), Fourier components do not depend on 
location of the analyzed shape, thus providing an efficient 
way to classify contours. To produce a more reliable shape, 
you can use a 'low pass' filter on the Fourier components, to 
remove the fine special structures. By computing the Fourier 
components of a closed contour and by ignoring the first 
component, the remaining components can be used for 
contour identification.  
The size of the object is represented by the pixels found 
inside the blob. At this step, the physical size of the blob is 
measured in units of pixels. For a correct size determination 
the pixel size must be known.   
In the case of DICOM (Digital Imaging and 
Communications in Medicine standard), images the pixel 
size can be computed from: 
 
                                          
512
PixelSize = DOFV
                                (4) 
 
The DFOV (display field of view) settings are 16, 20 and 
50 for pediatric, head and whole body acquisition, 
respectively. The typical size of a CT image is 512 x 512 [8]. 
In case of non-DICOM medical images a segmented fuzzy 
inference system is proposed which is presented in section 3. 
The color detection algorithm is based on determining 
the mean and variance of the pixel [9]. These methods were 
modified to take in account only one color plane as the 
majority of the medical images are in gray scale. The 
interesting features are the mean or average level of the gray 
level in the image and the variance or the contrast of the 
colors. 
First, the image is converted into a gray scale image. For 
each pixel in the image the following algorithm is used: 
 
            
.0 114 ( , )
.0 587 ( , )
.0 2989 ( , )
( , )
B x y
G x y
R x y
G x y
+
+
=
  (5) 
 
   The coordinates of the pixels are noted using (x, y) is a 
sub-image of a specific size centered in (x, y). The mean 
value of the sub-image can be computed using: 
 
Figure 2.  The segmented blob, the contour and the masked image 
67
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-224-0
INTELLI 2012 : The First International Conference on Intelligent Systems and Applications

 
                                    
∑
=
Sxy
s t
ms
G s t
N
G
( , )ε
( , )
1
                         (6) 
 
The variance is: 
 
                                    
∑
−
=
Sxy
s t
ms
vs
G s t
G
N
G
( , )ε
( , )
1
            (7) 
The N is the total number of pixels in the sub-image. When 
all the values were calculated a color descriptor vector can 
be computed: 
                                   
]
,
,
,
[
V = L W Gms Gvs
                   (8) 
 
L and W represent the length and width of the sub-image. 
This color descriptor contains enough information for 
suitable color recognition. 
The shades of gray represent solid and fluid objects. Than 
the black objects have a higher absorbance ratio then the 
white objects. This means that black objects are soft objects 
and the white spots represent solid objects like bones or 
calcifications. 
The location of the object is recorded using the Cartesian 
coordinate system in pixels of the center. If the position of 
the object related to other objects (if it is vital e.g., in case of 
a tumor) it must be verified if the center of the second object 
is inside or not of the boundary of first objects and if the 
boundaries overlap each other or one boundary is inside or 
not of the other. 
C. The Interpretation Process 
The found physical features are converted to linguistic 
features using the fuzzification process. The linguistic 
features or fuzzy variables are used to identify the selected 
object. The selected object can be an organ or a 
malformation of the organ. The object can represent other 
malformations caused by other malformations or they can 
indicate other pathologies. The fuzzy variable is a collection 
of several linguistic features of the same type.  
By using several fuzzy variables, which cover all the 
physical feature types, an inference engine is created. The 
suggested framework implements a rule based expert system. 
The rules are created in such a manner that they will cover as 
many possible options as they can.  
These rules are very similar to the natural language 
communication. They can be compared with some clear 
instructions coming from one person to another. In their 
general form they have an antecedent and a consequence 
separated by the "THEN" statement. The antecedent is a 
conjunction of several fuzzy terms (using the statement IS) 
and several logical operators (AND, OR, NOT) between 
them.  
For example: “IF Size IS Long AND Histogram IS Black 
AND Size IS Small AND Location IS Head THEN Diagnosis 
IS Normal-Ventricle” 
The software implementation of the framework is done 
using visual C# programming language and AForge open 
source programming framework [10]. The framework was 
modified to load the fuzzy inference system from an XML 
(eXtensible Markup Language) file. This permits an easy and 
fast reconfiguring of the inference system. 
III. 
TESTS AND RESULTS 
The proposed architecture of the framework, shown on 
figure 4, is constructed to allow the interpretation of any 
type of medical image which is in the DICOM format [11], 
by applying minimal changes to the major parts of the 
interpretation system.  
The framework is constructed from the combination of 
two open source software. The first open source software 
decodes the DICOM files and separates the DICOM TAGs 
(metadata referring to the patient and to the imaging device) 
from the image itself. The second open source software 
implements the segmentation and feature extraction process, 
as well as the interpretation software. The UML Class 
diagram of the interpretation process is presented in the 
figure 3. The interpretation software was modified to permit 
the loading of the fuzzy inference system from an XML file 
and the editing of the inference system as well. New rules 
and linguistic variables can be created. This permits an easy 
change and adaptation of the inference system, without 
stopping or decompiling the framework. 
 
Figure 3.   UML  Class diagram of the fuzzy inference system 
 
Figure 4.    Framework Arhitecture 
68
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-224-0
INTELLI 2012 : The First International Conference on Intelligent Systems and Applications

For the initial testing of the framework and the fuzzy 
inference system, we have considered the case of a 74 year 
old male with a confirmed malignant brain tumor.  
For the initial numerical data acquisition, magnetic 
resonance image sets were chosen in the axial plane from the 
head section. Each image slice has a thickness of 5 and the 
space between the slices is 6.5.  For testing the framework 
and the inference engine, the middle slices of the acquisition 
set were selected, slice 6 to slice 9. These slices contain the 
most useful data for building an inference system and a rule 
base.   
The physical features of the found objects are presented 
in the table below: 
TABLE I.  
OBJECT FEATURES 
Object 
Name 
Slice nr 
Histogram 
Size 
mm2 
Location 
( x , y ) 
Damaged 
ventricle 
6,7,8,9, 
132,150, 
144, 112 
6.14, 
6.8,  6.8, 
5, 
250-118, 
Normal 
Ventricle 
6,7,8,9, 
27, 29,- 
2.5, 
2.9,- 
162-228 and 
262-228 
Brainmater 
6,7,8,9, 
76, 85, 82, 
75 
5.4, 4.8, 
7, 3,15 
Inside 
the 
cranium 
Fragments 
6,7,8,9, 
54, 
53, 
49,43 
0.5, 
1, 
0.9  
Inside 
the 
cranium 
Bones 
6,7,8,9, 
150, 155, 
1.92 
4.5, 3.6, 
1,25 
Inside 
the 
cranium 
 
Using these numerical values the following linguistic 
variables and fuzzy rules were created: 
a)  Histogram: has a range from 0 to 255, where 0 
from 50 is for the Black  label, 40-70 stands for Dark, 70-90 
DarkGray, 90-150 is Gray, 150-200 LightGray and 180 to 
200 stands for White. 
b) Size: has a range from 0 to 10, where 0 from to 1 is 
for the VerySmall label, 1-5 stands for Small, 4-7 Normal 
and 6 to 10 stands for Big. 
c) Location: has a range from 0 to 512 on two axes 
(horizontal and vertical) to position the investigated objects 
center of gravity. 
d) Shape: describes the shape of the invetigated object 
making use of the Fourier descriptors.  
e) The Fuzzy Rules: in total 13 fuzzy rules were 
created to correctly identify the malformations and the 
soraunding tissues.  Several rules that recognize the 
ventricular malformation are presented below:  
<Rule12>IF Size IS Long AND Histogram IS Black AND 
Size IS Small AND Location IS Head THEN Diagnosis IS 
Normal-Ventricle</Rule12> 
<Rule13>IF Size IS Round Histogram IS Gray AND Size 
IS Big AND Location IS Head THEN Diagnosis IS 
Abnormal-Ventricle</Rule13> 
The first results are promising. Because the testing of the 
framework is a work in progress, the case of only one patient 
was tested. For the image set from which the numerical data 
was collected to build the inference system and the 
fuzzification process had a success rate of 100%. For the 
other image sets from the same patient but from the other 
image acquisition planes, coronal and sagittal the success 
rate dropped by 10%. New unforeseen situations had 
appeared for which new rules hade to be made.   
IV. 
CONCLUSIONS 
The clinical testing of the framework is a work in 
progress. The numerical and the semantic level of the 
framework are completed. The used software architecture 
offers a high level modularity and adaptability to the 
framework. The framework can be adapted to new and 
different situations, new ideas and new conditions associated 
to a diagnosis. Unlike neural networks, where the learning 
mechanism is based on training data sets, this system permits 
the medical staff to create the inference rules and to debug 
the system in case of an error. 
The first tests have promising results. For the image sets 
from the axial data acquisition plane the inference system 
had a 100% rate of success for identifying the tissue types, 
the organs and the malformation produced by the brain 
tumor. When testing the inference system for the other data 
acquisition planes the accuracy has dropped due to minor 
differences between the numerical data obtained from the 
axial plane and the other planes. However these tests were 
done in laboratory conditions to test the primary functions of 
the framework. The next step is to test the framework in real 
life clinical conditions using heterogeneous image sets from 
different clinical domains. A more complex testing of the 
framework to build the rules for the other body sections is 
scheduled for April 2012.  
The described method has the advantage to decrease the 
number of clinical errors in imagistic interpretation. The 
medical staff will have a suggestion about the diagnostic, in 
this way reducing the stress level for patients and for the 
medical staff too. 
 
 
Figure5.   A normal ventricle and a ventricular deformation 
69
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-224-0
INTELLI 2012 : The First International Conference on Intelligent Systems and Applications

ACKNOWLEDGMENT 
This work was partially supported by the strategic grant 
POSDRU/88/1.5/S/50783 (2009) of the Ministry of Labor, 
Family and Social Protection, Romania, co-financed by the 
European Social Fund – Investing in People. 
REFERENCES 
[1] S. Li, T. Fevens, and A. Krzyzak, "A SVM-based framework for 
autonomous 
volumetric 
medical 
image 
segmentation 
using 
hierarchical and coupled level sets," International Congress Series 
1268, doi:10.1016/j.ics.2004.03.349, pp. 207– 212, 2004 
[2] J. Rivera-Rovelo and E. Bayro-Corrochano, "Medical image 
segmentation, volume representation and registration using spheres in 
the geometric algebra framework," Pattern Recognition 40, pp. 171 – 
188, 2006. 
[3] Y.M. Zhu and S.M. Cochoff, "An object-oriented framework for 
medical image registration, fusion, and visualization," Computer 
Methods and Programs in Biomedicine 82, pp. 258–267, April 2006. 
[4] L.A. Zadeh, “Fuzzy sets”, Information and Control, 8 pp. .338-
353,1965. 
[5] N. Gal and V. Stoicu-Tivadar, "XML as a Cross-Platform 
Representation for Medical Imaging with Fuzzy Algorithms," EFMI 
Special Topic Conference, EFMI STC, Lasko, Slovenia, April 2011, 
pp. 83-86. 
[6] X. Xu, S. Xu, Lianghai Jin, and E. Song, “Characteristic analysis of 
Otsu threshold and its applications”, Pattern Recognition Letters, 
Volume 32, 7, 1 May 2011, pp. 956-961. 
[7] W. Duan, F. Kuester, Jean-L. Gaudiot, and O. Hammami, “Automatic 
object and image alignment using Fourier Descriptors”, Image and 
Vision Computing, Volume 26, Issue 9, 1 September 2008, pp. 1196-
1206. 
[8] V.S. Smith, L.G. Shapiro, D. Hanlon, R.F. Martin, J.F. Brinkley, A.V. 
Poliakov, G.A. Ojemann, and D.P. Corina, "Evaluating Spatial 
Normalization Methods for the Human Brain," 27th Annual 
International Conference of the Engineering in Medicine and Biology 
Society, 2005. IEEE-EMBS 2005, April 2006, pp. 5331-5334. 
[9] N. Wang, and G. Wang,  “Shape Descriptor with Morphology 
Method for Color-based Tracking” International Journal of 
Automation and Computing 04(1),  pp. 101-108, 2007. 
[10] http://www.aforgenet.com/  <retrieved: 01, 2012> 
[11] O. S. Pianykh, “Digital Imaging and Communications in Medicine 
(DICOM)”, 2008 Springer-Verlag Berlin Heidelberg, ISBN 978-3-
540-74570-9.
 
70
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-224-0
INTELLI 2012 : The First International Conference on Intelligent Systems and Applications

