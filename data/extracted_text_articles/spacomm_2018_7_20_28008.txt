Reliable Routing and Spectrum Allocation over Network Coding enabled Elastic 
Optical Networks 
 
Xin Wang, Yuefeng Ji, Lin Bai 
Beijing University of Posts and Telecommunications 
Beijing, China 
e-mail: xinwang@bupt.edu.cn; jyf@bupt.edu.cn; bailin@bupt.edu.cn 
 
Abstract—As each optical link carries a huge amount of hybrid 
traffic requests, failure of any link may cause huge data loss. In 
this paper, we mainly discuss the reliable Routing and 
Spectrum Allocation (RSA) problem over network coding 
enabled Elastic Optical Network (EON) for hybrid types of 
traffic requests. As the link fails, a new routing will reconfigure 
to establish the backup-protection connection for the traffic 
request. The nodes capable of network coding over network 
coding enabled EON change the traditional RSA mechanism, 
which makes the routing processes more complex. To address 
this problem, we propose a mathematical model to formulate 
such problem, with the purpose of utilizing the minimal 
spectrum slots to serve the traffic requests. Besides, a heuristic 
algorithm called “Reliable Multipath RSA (RM-RSA)” is 
proposed to solve the model with multipath strategy. For 
different types of traffic requests, unicast or multicast requests, 
RM-RSA could provide different routing strategies. The 
simulation is conducted to verify the efficiency of the proposed 
RM-RSA, as the changes of average number of multicast 
receiver, network size, and number of traffic requests. 
Compared with the benchmark algorithm, the proposed RM-
RSA shows more efficient in the spectrum utilization. 
Keywords-reliable RSA; hybrid services;multipath; network 
coding; EON. 
I. 
 INTRODUCTION  
The tremendous bandwidth demand triggered by the new 
emerging high bandwidth services over the optical networks 
calls for a flexible and reliable network architecture [1]. Each 
spectrum link carries a large amount of data, and any link 
failure may cause data loss of 1Gb/s or 1 Tbit/s. How to 
guarantee the reliable and efficient transmission of service 
requests becomes urgent to solve, when the network breaks 
down. Network coding has the natural characteristic of 
reliable 
transmission 
by 
encoding 
and 
encrypting 
information. Network coding enabled Elastic Optical 
Network (EON) is the ideal support to accommodate the 
hybrid requests in the real optical networks [2][3].  
We review recent research on the area of reliable and 
efficient RSA. A new survivable multipath provisioning 
scheme for unicast services is proposed in EON [4][5]. An 
Integer Linear Programming (ILP) model and a shared 
protection virtual optical network mapping algorithm based 
on different dynamic cost model is also proposed [6]. Single 
transmission type of service is considered in the research of 
reliable Routing and Spectrum Allocation (RSA) above. 
However, various types of services exist in the real optical 
networks. Survivable multipath routing of two types of 
traffic demands, anycast and unicast, is studied in EONs [7]. 
However, none of the research above is to accommodate 
hybrid services reliable and efficient in network coding 
enabled EON. The routing becomes more complex as the 
nodes capable of network coding, and narrow granularity of 
spectrum resource poses more challenge on spectrum 
allocation over network coding enable EON.  
This paper mainly investigates the reliable RSA problem 
over network coding enabled EON for hybrid services. The 
rest of this paper is organized as follows. Section II describes 
the reliable RSA problem and presents the mathematical 
model for the problem. Section III proposes an efficient 
heuristic algorithm to solve the model. Section IV shows the 
simulation 
results 
and 
makes 
comparisons 
of 
the 
performances of different algorithms. Section V concludes 
the 
paper 
and 
presents 
the 
future 
work. 
 
The 
acknowledgement closes the article. 
II. 
RELIABLE RSA PROBLEM 
Network coding enabled EON could be a strong support 
network to provision the hybrid services of multicast and 
unicast reliable and efficient. This section mainly discusses 
the reliable RSA problem over network coding enabled 
EON. A mathematical model is proposed to formulate the 
problem. Table I shows the parameter definitions of the 
model. The network coding enabled EON is represented 
by
)
( ,
G V E
. Given a set of hybrid services, multicast 
services


M
i
i
i
i
M
nR
i
s D n
R


,
,
,
 and 
unicast 
services


U
i
i
i
i
U
nR
i
s d n
R


,
,
,
, the object of the 
mathematical model is to accommodate the hybrid services 
in a reliable way with the minimal spectrum resources, 
considering the constraints. 
In the routing stage, the nodes capable of network coding 
change the routing process for multicast service. Compared 
with routing in EON of establishing one end-to-end path for 
each source and destination node pair, at least two link-
disjoint paths should be established from the source node to 
each destination node in multicast group [8]. Figure 1 shows 
the topology of reliable routing for multicast over network 
coding enabled EON, and multipath transmission strategy is 
adopted to accommodate multicast services. For each source 
and destination node pair 
si di k 
,
,
,
2)
(
w w 
link-disjoint 
parallel paths are established as the working path
k
idP
, , 
representing as the solid lines. Each working path should be 
provided with a link-disjoint backup protection path, 
71
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-624-8
SPACOMM 2018 : The Tenth International Conference on Advances in Satellite and Space Communications

representing as the dotted lines.  Note that it has been proved 
that the best spectrum utilization can be realized only as the 
number of link-disjoint parallel paths for each source and 
destination node pair is less than 3 [5]. Thus, w is set as 2 in 
the proposed model. Besides, it is reasonable to limit the 
value of w , so as to establish the network coding based 
multicast tree in the topology. Figure 2 shows the reliable 
routing topology of unicast over network coding enabled 
EON. The unicast service is transmitted through multiple 
paths
idP
and 
idP
is provided a link-disjoint backup 
protection path set
idP .  
In the spectrum allocation stage, narrow granularity of 
spectrum resources requires spectrum contiguity constraint 
and non-overlapping spectrum constraint. Note that we 
consider the guard band as a default in the spectrum 
requirement of service request, and guard band constraint is 
not constrained in the model. 
 
 
Figure 1. The topology of reliable routing for multicast over network coding 
enabled EON. 
 
 
Figure 2. The topology of reliable routing for unicast over network coding 
enabled EON. 
TABLE I.  
THE PARAMETER DEFINATION OF THE MATHEMATICAL 
MODEL 
Parameter 
Description 
)
( ,
G V E
 
The physical topology of EON. 
V  
The node set of EON. 
E  
The edge set of EON. 
nRM
 
The index set of multicast requests. 
nRU
 
The index set of unicast requests. 

i
i
i
i
M
s D n
R
,
,

 
The i-th multicast request set.  

i 
i
i
i
U
s d n
R
,
,

 
The i-th unicast request set. 
is  
The source node of the i-th request. 
id , j
 
The j-th destination node of multicast
i
D . 
j
idP
,  
The working path set from
is to
j
id , . 
j
idP
,
 
The backup protection path set 
from
is to
j
id , . 
k
d
i j
p
,
 
The k-th path in path set. 
 
 
Minimize: 







   





p
i
e
p
nR
i
D
j
p P
e E
F
f
f
p
M
i
i j
d
O


,1
,1
,
 
               




p
i
e
p
nR
i
D
j
p P
e E
F
f
f
p
M
i
i j
d
O




   





,1
,1
,
+            (1) 


p
i
e
p
i nR
p P
e E
F
f
f
p
U
i
d
O




   



 ,1
+ 
                        


p
i
e
p
i nR
p P
e E
F
f
f
p
U
i
d
O
 
   



 ,1
 
Equation (1) represents the objective function of the 
mathematical model, aiming to minimize total spectrum slots 
of hybrid services occupied on both working paths and 
backup protection paths. There are some variables needed to 
be defined. Where
f
p
O is the boolean variable, and if the f -
th spectrum slot is occupied by path p , 
f
p
O =1; otherwise, 
f
p
O =0. 
e
p
 is the boolean variable, and if the link e is used 
by the path p ,
e
 p
=1; otherwise, 
e
 p
=0. 
i p
is the boolean 
variable, and if the path p is used to serve the 
reqeust
iR ,
i p
=1; otherwise, 
i p
=0. 
 
Constraints: 
Equations (2) and (3) ensure the establishment 
constraints of network coding based multicast tree (NCMT) 
for multicast request
i
RM
. Note that, the number of link-
72
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-624-8
SPACOMM 2018 : The Tenth International Conference on Advances in Satellite and Space Communications

disjoint parallel paths for
si di j 
,
,
should be less than 3 so as 
to achieve the most optimal resource utilization [5]. The 
number of multiple link-disjoint parallel paths w is set to 2 in 
this paper, represented as (2).  
                     
M
P
P
p
ip
nR
i
w
di j
i j
d
 



,
,
, ,

                   (2) 
  
E
e
P
P
p
p
i j
i j
n
m
d
d
n
m
e
p
e
p
 





,
,
,0
,
,


  (3) 
Equations (4) and (5) ensure the routing constraints for 
unicast request
i
RU
, and the source node and destination 
node is connected with w link-disjoint paths. Here, w is set 
to 2.  
                          
U
P
P
p
ip
nR
i
w
di
i
d
  


,
,

                   (4) 
     
E
e
P
P
p
p
i
i
n
m
d
d
n
m
e
p
e
p
 





,
,
,0


    (5) 
Equations (6) and (7) ensure that the spectrum contiguity 
constraint [4] on the working paths and backup protection 
paths for the multicast and unicast requests, respectively. 



,
1
1
,2
,
,
,
F
O
O
O
f
p
f
p
F
f
f
f
p
k
i j
d
k
i j
d
k
di j














 
                 


f
D
j
P
P
p
i
d
d
k
d
i j
i j
i j




,
,1
,
,
,
,
,
                (6) 



,
1
1
,2
F
O
O
O
f
p
f
p
F
f
f
f
p
k
i
d
k
i
d
k
di














 
                               
f
P
P
p
i
i
i
d
d
k
d



,
,
                           (7) 
Equations (8) and (9) ensure the non-overlapping 
spectrum constraint [4] on the working paths and backup 
protection paths for the multicast requests and the unicast 
requests, respectively. Where
f
p
 is the boolean parameter, 
and if the f -th spectrum slot is occupied on every link of 
path p ,
f
p
 =1; otherwise, 
f
p
 =0. 
 
 

i 
d
d
k
d
f
p
f
p
D
j
P
P
p
f
O
i j
i j
i j
k
i j
d
k
di j
,1
,
,
,
,0
,
,
,
,
,


 



  (8) 
                 
i
i
i
k
di
k
id
d
d
k
d
f
p
f
p
P
P
p
f
O
,
,
,0

 



               (9) 
       As we research some related references, most 
mathematic models of RSA problem are formulated over the 
EON [4][7]. A new survivable multipath provisioning 
scheme is proposed and an ILP model is developed for the 
scheme in [7]. However, the proposed model just considers 
one type of service, unicast. Although an ILP model of 
survivable multipath routing is proposed for hybrid services 
of anycast and unicast traffic, multicast services are not 
served over the EON. Due to that the routing process is quite 
different in network coding enabled EON, as demonstrated 
in Equations (2)-(5), these models can not be applied into our 
problems. Although the model of hybrid services efficient 
provision problem in [2] is proposed in network coding 
enabled EON, reliable connection is not guaranteed as link 
failure occurs. In our proposed model, reliable of RSA over 
network coding enabled EON is formulated for hybrid 
services of unicast and multicast services. 
III. 
PROPOSED ALGORITHMS 
A. Reliable Multipath RSA 
Due to that the mathematical model is not efficient to 
solve the reliable RSA in large networks, an efficient 
heuristic algorithm, called “Reliable Multipath Routing and 
Spectrum Allocation (RM-RSA)”, is proposed. The detailed 
procedures of RM-RSA are shown below. 
Step 1: To initialize the NCMT set
i
TNCMT
, the backup 
protected NCMT set
i
NCMT
T
for multicast service
i
RM
, unicast 
routing set
i
U
T , backup protected unicast routing set
i
U
T for 
unicast service
i
RU
, layered graph set
)
,
(
p
p
p
E
V
U
, and 
total occupied spectrum slots Nfstotal . 
Step 2: According to transmission types of unicast or 
multicast, clarifying the hybrid services into
U
i
U
nR
i
R
, 
 
and
M
i
M
nR
i
R
, 
; 
Step 3: Adopting multicast priority strategy, to process 
the service request one by one; 
Step 4: Subject to the spectrum contiguity constraint of 
(6), and non-overlapping spectrum constraint of (8), adopting 
the layered graph approach [9] to establish
)
,
(
p
p
p
E
V
U
, 
which meets with the spectrum requirement of
i
RM
; 
Step 5: Based on
)
,
(
p
p
p
E
V
U
obtained in Step 4, 
utilizing the Warshall-Floyd algorithm [10] to establish 
w(w=2) 
link-disjoint 
parallel 
paths 
for 
each 
si di j 
,
,
of
i
RM
as the working paths, subject to the 
constraints of (2) and (3); 
Step 6: To mark the usage status of occupied spectrum 
slots in B0 as used, and set the weight of occupied link as 
Inf; 
Step 7: To establish the backup protection structure of 
each working path for each
si di j 
,
,
of
i
RM
as Step 5, and set 
the spectrum usage status in B0 as reserved; 
Step 8: To calculate total occupied number of spectrum 
slots saved as Nfstotal , and initialize the weight matrix 
of 
G V E
,
; 
Step 9: Repeating from Step 4 to Step 8, establishing the 
reliable 
NCMT 
until 
all 
the 
destination 
nodes
j
id , ,

Di 
j
 ,1
are connected to
is ;  
Step 10: To save the established NCMT as
i
TNCMT
and 
backup protected NCMT as
i
NCMT
T
and calculate total 
spectrum utilization saved as Nfstotal ; 
73
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-624-8
SPACOMM 2018 : The Tenth International Conference on Advances in Satellite and Space Communications

Step 11: Repeat from Step 4 to Step 10, until 
all
M
i
M
nR
i
R
, 
are processed; 
Step 12: Subject to the spectrum contiguity constraint of 
(7), and non-overlapping spectrum constraint of (9), adopting 
the layered graph approach [9] to establish
)
,
(
p
p
p
E
V
U
, 
which meets with the spectrum requirement of
i
U
R ; 
Step 13: Based on the obtained
)
,
(
p
p
p
E
V
U
in Step 12, 
utilizing the Warshall-Floyd algorithm [10] to establish 
w(w=2) link-disjoint parallel paths for 
i di 
s ,
of
i
RU
as the 
working paths, subject to the constraints of (4) and (5); 
Step 14: To mark the usage status of occupied spectrum 
slots in B0 as used, and set the weight of occupied link as 
Inf; 
Step 15: To establish the backup protection path for the 
working path of
i di 
s ,
 according to the method in Step 13; 
Step 16: To calculate total occupied number of spectrum 
slots saved as Nfstotal , and initialize the weight matrix 
of 
G V E
,
; 
Step 
17: 
To 
obtain
i
TU
and 
backup 
protected 
structure
i
U
T and calculate total spectrum utilization saved 
as Nfstotal ; 
Step 18: Repeat from Step 12 to Step 17, until 
all
U
i
U
nR
i
R
, 
are processed; 
IV. 
SIMMULATION RESULTS 
In this section, we conducted simulations to evaluate the 
performance of the proposed algorithms. Two commonly 
used algorithms select as the benchmark algorithms, which 
are K shortest paths-first fit algorithm (KSP-FF) and K 
shortest paths-random fit (KSP-RF). Note that, we 
considered the reliable routing path for each working path, 
and the benchmark algorithms become Reliable-KSP-FF 
(RKSP-FF) and Reliable-KSP-RF (RKSP-RF).  
We use the tools of MATLAB to realize the simulation. 
The spectrum resources over the network coding enabled 
EON are deployed on the C band, and the total capacity of 
spectrum link is 4.475THz. The spectrum granularity is 
assumed as 12.5GHz, and the corresponding number of 
spectrum slots on each spectrum link provides 358 at most. 
The index number of source and destination nodes are 
random selected in the range of
,1[ N]
. The number of 
parallel link-disjoint paths are set as 2. The total occupied 
number of spectrum slots Nfstotal consider as only 
parameter to evaluate the spectrum utilization of the 
proposed algorithm. The performance of the proposed 
algorithm is evaluated in the test networks of random 
networks. The impacts of different parameters of average 
receiver number, network size, and number of hybrid 
requests are evaluated on the performance of the proposed 
algorithm in the following. Besides, as serving multicast 
requests, the performances of the proposed algorithm 
considering network coding or not are compared.  
A. Impact of average receiver number 
Figures 3 and 4 show that RM-RSA consumes the least 
number of spectrum slots to accommodate the hybrid 
services of same scale and different scales among other 
benchmark algorithms, respectively. As the average receiver 
number (nD) increases, RM-RSA considering network 
coding outperforms RM-RSA in the performance of 
spectrum utilization, and the average spectrum utilization is 
improved by about 9.8%. This is reasonable because under 
the layered graph approach, spectrum allocation considers 
firstly, and routing is established based on a set of layered 
graph meeting with the spectrum requirement.  Besides, 
network coding could also improve the spectrum utilization 
of link. 
 
   
 
Figure 3. As serving same scale of hybrid requests in the random networks 
of (a) n=200; (b) n=400, the impact of nD on the spectrum utilization of 
RM-RSA.  
  
 
Figure 4. As serving different scales of hybrid requests in the random 
networks of (a) n=200; (b) n=400, the impact of nD on the spectrum 
utilization of RM-RSA. 
B. Impact of network size 
As the random network size n increases, the proposed 
algorithm RM-RSA shows the best spectrum utilization 
performance among other benchmark algorithms in both 
random networks of small size and large size shown in 
Figures 5 and 6. As serving same scale of hybrid services, 
RM-RSA 
reduces 
the 
average 
spectrum 
resources 
consumption by about 29.64% among other benchmark 
algorithms. Moreover, RM-RSA shows more efficient, 
especially in large random networks than in small random 
networks.  
74
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-624-8
SPACOMM 2018 : The Tenth International Conference on Advances in Satellite and Space Communications

 
Figure 5. As serving same scale of hybrid requests in the random networks 
of (a) small size; (b) large size, the impact of n on the spectrum utilization of 
RM-RSA. 
 
 
Figure 6. As serving different scales of hybrid requests in the random 
networks of (a) small size; (b) large size, the impact of n on the spectrum 
utilization of RM-RSA. 
 
 
Figure 7. As serving same scale of hybrid requests in the random networks 
of (a) n=200; (b) n=400, the impact of nR on the spectrum utilization of 
RM-RSA. 
 
  
 
Figure 8. As serving different scales of hybrid requests in the random 
networks of (a) n=200; (b) n=400, the impact of nR on the spectrum 
utilization of RM-RSA. 
C. Impact of number of hybrid requests 
As the number of hybrid requests increases, RM shows 
the best spectrum utilization among other algorithms in both 
random networks in Figures 7 and 8. Note that, the 
simulation results above are obtained under the specific 
simulation conditions, as serving the limited size of hybrid 
requests. 
V. 
CONCLUSION AND FUTURE WORK 
      In this paper, we mainly investigate reliable multipath 
RSA for hybrid services of unicast and multicast over 
network coding enabled EON. We formulate a mathematical 
model and propose an efficient heuristic algorithm “Reliable 
Multipath RSA (RM-RSA)”. Simulation results show that 
the proposed algorithm RM-RSA shows the best spectrum 
utilization among other benchmark algorithms in random 
networks, as different parameters of average receiver 
number, network size, and number of hybrid requests 
change. A large number of simulations need to evaluate the 
impact of large-scale request services on the performance of 
the algorithm in the future work. Due to that free space 
optical 
(FSO) 
communication 
networks 
have 
high 
requirement for reliable transmission, the application of the 
proposed scheme into the FSO can be a good choice. 
ACKNOWLEDGMENT 
This work was supported by the National Natural 
Science Foundation of China (Grant No. 61771073). 
REFERENCES 
[1] N. Chowdhury and R. Boutaba, “A survey of network virtualization,” 
Comput. Netw., vol. 54, no. 5, pp. 862–876, Apr. 2010. 
[2] X. Wang, R. T. Gu, and Y. F. Ji, “RSA for the hybrid unicast and 
network coding based multicast services over the flexible optical 
networks,” Proc. of the 25th Wireless and Optical Communication 
Conference 2016, pp. 1–4, Chengdu, China, May.21-23, 2016. 
[3] Y. F. Ji, J. W. Zhang, Y. L. Zhao, X. S. Yu, J. Zhang, and X. Chen, 
“Prospects and research issues in multi-dimensional all optical 
networks,” 
SCIENCE 
CHINA 
Information 
Sciences,vol.59,no.10,pp.1–14, 2016. 
[4] L. Ruan and Y. Zheng，“Dynamic survivable multipath routing and 
spectrum allocation in OFDM-based flexible optical networks, ” 
Journal 
of 
Optical 
Communications 
and 
Networking, 
vol.6,no.1,pp.77-85，2014. 
[5] L. Ruan and N. Xiao, “Survivable multipath routing and spectrum 
allocation in OFDM-based flexible optical networks”, Journal of 
Optical Communications and Networking, vol. 5, no. 3, pp. 172-182, 
2013. 
[6] Y. Y. Wang, X. Li, B. L. Guo, T. Gao, W. Z. Li, and S. G. Huang, 
“Survivable virtual optical network mapping in elastic optical 
networks with shared backup path protection,” Proc. of the 25th 
Wireless and Optical Communication Conference 2016, pp. 1–4, 
Chengdu, China, May.21-23, 2016. 
[7] R. Goścień, K. Walkowiak, and M. Tornatore. "Survivable multipath 
routing of anycast and unicast traffic in elastic optical networks." 
Journal of Optical Communications and Networking, vol.8,no.6, pp. 
343-355,2016. 
[8] X. Wang, R. T. Gu, Y. F. Ji, and M. Kavehrad, “Hybrid services 
efficient provisioning over the network coding enabled elastic optical 
networks,” Optical Engineering, vol.56, no.3, Mar, 2017, pp. 
036101(1-14). 
[9] X. H. Liu, L. Gong, and Z. Q. Zhu, “Design integrated RSA for 
multicast in elastic optical networks with a layered approach,” 
Proceedings of 2013 IEEE Global Communications Conference 
(GLOBECOM), pp.2346-2351,2013. 
[10] J. F. Myoupo and A. C. Fabret, “A modular systolic linearization of 
the Warshall-Floyd algorithm,” IEEE Transactions on Parallel and 
Distributed 
Systems,vol.7.no.5, 
pp.449-455,1996.
 
75
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-624-8
SPACOMM 2018 : The Tenth International Conference on Advances in Satellite and Space Communications

