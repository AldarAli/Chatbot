 
Towards Enhanced Location-based Services through 
Real-time Analysis and Mobility Patterns Acquisition
Javier Rubio-Loyola and César Torres-Huitzil 
Information Technology Laboratory 
CINVESTAV Tamaulipas 
Ciudad Victoria, Tamaulipas, México 
{jrubio, ctorres}@tamps.cinvestav.mx 
Ramón Agüero 
Telematics Engineering Group 
Universidad de Cantabria 
Cantabria, Spain 
ramon@tlmat.unican.es
 
Abstract-This paper presents a work in progress towards a 
middleware platform to support enhanced location-based 
services through real-time mobility analysis and mobility 
patterns acquisition. The platform provides services for mobile 
users and also for mobility analysts. Mobile users are enabled to 
receive notifications in response to emergency, contingency 
situations or deviations from mobility patterns. Mobility analysts 
are enabled to analyse mobility behaviour of users during time 
scales and territorial scopes as well as to obtain and program 
mobility patterns and indicators of mobile users and groups of 
users. Enhanced location-based services are possibly if and only if 
powerful and efficient capturing, pre- and post-processing of 
mobile information schemes are adequately implemented and put 
in place in favour of ubiquitous location service provisioning. 
Keywords-Location-based 
services; 
mobile 
information 
processing; global position. 
I. 
INTRODUCTION 
The study and analysis of mobility and transport aspects 
have taken on increased importance in recent years, in 
particular the ones that affect urban sustainability and urban 
policy [1] [2]. In general terms, current diagnosis of the 
mobility and transport systems’ sustainability base their studies 
mostly on static models such as the usage of general indicators 
such as average distances travelled, changes in shifts and 
changes in the location of productive activities.  
To date, there is a lack of mobility systems that deliver real-
time services aimed at warning mobile users during a trip with 
alternative routes in response to emergencies, contingency, 
and/or congested roads, all in all, considering accurate 
measurements of mobility patterns. A system like this would be 
complex, highly dynamic and should be able to deal with a 
large number of participants, making its applicability difficult 
for specific contexts such as emergencies, traffic congestion, 
weather contingency, maintenance of traffic infrastructure, etc., 
as they should be able to react automatically and they should 
scale.  
In order to assess systems of this kind, there is a need for 
further analysis of dynamic operational aspects such as the 
nature of the information available, the type of indicators to use 
or references to territorial units for ad-hoc applications to 
particular circumstances [3]. Location Based Services are a set 
of tools that provide personalized services with help from the 
user's geographic location or other moving object of interest 
[3]. These services provide accurate location information 
through mobile devices such as cell phones, Global Positioning 
System (GPS) [3] or Radio-frequency identification (RFID) 
[4]. A location-based service is not necessarily limited to 
locating and tracking the mobility of a mobile entity. 
Moreover, these services could be extended towards orientation 
or navigation services by exploiting the user's location to allow 
build roads on a map, indicate routes step by step under 
specific circumstances, determine the distance to travel and 
display sites that may be of interest to the mobile users [5]. 
This paper presents our work in progress towards a 
location-based service platform that provides support for 
advanced mobility services through real-time analysis of 
mobility information and generation and usage of mobility 
patterns. The service platform is envisioned as a platform 
sensible to dynamic operational aspects such as the nature of 
available information about routes and mobility, the type of 
indicator to use, referenced territorial units for ad-hoc 
applications, and real time and large scale analysis. The 
targeted system is a location-based service platform whose core 
functionality is the analysis of mobility information. In 
particular the platform provides support to help acquiring 
patterns of mobility that can be used to generate alerts when 
patterns are not met during a trip of a mobile user. Although 
the service platform can be thought of being ideal for transport 
systems, it is possible to use it with services such as security 
through freight monitoring, assistance for drivers in case of 
eventual 
circumstances 
(e.g., 
emergency, 
weather 
contingencies, 
etc.), 
in 
which 
notifications 
are 
sent  
automatically to mobile users through the platform.  
After this Introduction, Section II presents the conceptual 
framework of the target platform. Section III presents the 
preliminary implementation steps, and finally, Section IV 
concludes the paper. 
II. 
CONCEPTUAL FRAMEWORK  
This section describes the framework and challenges of the 
proposed services platform shown in Figure 1.  
A. Conceptual Framework 
The platform provides services to mobile users and to 
mobility analysts, which are described hereafter. 
46
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-229-5
MOBILITY 2012 : The Second International Conference on Mobile Services, Resources, and Users

 
 
Figure 1. Services supported by the location-based service platform 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 2. Example of location service for mobile users 
 
From the mobile user viewpoint, the platform provides 
support in finding alternative paths in response to eventualities 
and  contingencies,  and  it  also  provides  support   to   follow  
 
 
trajectories explicitly suggested by a mobility analyst, who 
will also be user of the platform. Figure 2 shows an example 
of the location services for the mobile user, where two alerts 
are sent to the mobile user as a result of a contingency event, 
accident, etc. These alerts are sent by the platform as a result 
of real-time mobility information analysis of other users of the 
platform.  
For the mobility analyst the platform provides support in 
aspects that include; obtaining results of location and 
trajectories of various mobile devices during the day and 
during  periods;  obtaining  mobility  results of  programmable 
time scales (over several days) and territorial scopes (local, 
regional, state); obtaining mobility patterns and useful 
information such as paths, travel times, average speed and 
other indicators of mobile users and groups of mobile users. 
Figure 3 shows examples of services for the mobility analyst. 
On the left, the trajectory followed by the user in two 
consecutive days is displayed, where the time traveled, 
average speed per path segment, and historical information are 
also available to the analyst (not shown). The center of Fig. 3 
shows the area where the user spent more time, time of entry 
and exit in the two analyzed days. Finally, the right part of 
Fig. 3 shows the regions of interest, number of visits made by 
the user, number of mobile users in the region, etc.  
The mobile user can navigate to any place and the location 
data are collected by the platform based on a client-server 
47
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-229-5
MOBILITY 2012 : The Second International Conference on Mobile Services, Resources, and Users

 
design. The platform records the GPS locations of the users’ 
mobile devices. The process of monitoring and subsequent 
automatic data processing takes place invisibly for both, the 
mobile users and for the mobility analyst. 
B. Technological Challenges 
For the realization and implementation of the location-based 
platform described above, it is being necessary to conduct 
major study on three fundamental aspects, which are briefly 
described hereafter.  
Capturing and pre-processing of mobile information. This 
aspect deals with the critical nature of monitoring a large 
number of mobile entities as well as assessing the inter-
operation between networks and the need for high bandwidth 
at critical periods [6]. It also faces the problem of developing 
algorithms for the generation of location points and the 
estimation of reliable paths from inaccurate GPS data and 
missing information due to the unavailability of the GPS 
signal. Particular problems are the imprecision and uncertainty 
in GPS data, and the different connotations and semantics of 
the different types of information from the mobile entities [7]. 
Information clustering and processing. This aspect faces 
the problematic of developing algorithms for discovering and 
predicting mobility patterns under a two-level stream 
clustering approach: 1) clustering based on time and location; 
2) space-based clustering to obtain regions of interest. The 
central problems of this aspect are: massive information; 
integration of heterogeneous information from geographical, 
temporal and population information viewpoints [8] [9]; high 
computing time and memory requirements required to perform 
the clustering and processing of location information 
collected. The latter problem is a motivation to use advanced 
techniques for optimizing computer resources. Finally, another 
issue that deserves special attention is the lack of homogeneity 
in the length of the location data to analyze. 
Middleware for the location-based services platform. The 
purpose of the middleware is to facilitate the development and 
operation of location-based mobile applications in an 
environment of technological heterogeneity [10]. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
The middleware provides filtered information and generates 
notifications under pre-programmed mobility patterns and/or 
mobility behavior. The core challenges for the realization of a 
middleware of this kind are: high data change rates and 
information updates; need for analysis and interpretation of 
information at different levels; adaptability and asynchronous 
interaction; and the aggregation, updates and cancelation of 
service subscriptions and notifications to mobile users [11]. 
III. 
PRELIMINARY IMPLEMENTATION 
This 
section 
briefly 
presents 
the 
preliminary 
implementation of the location-based platform described 
above. In particular, we shortly describe the key aspects of the 
client-side software architecture that is being currently 
developed to obtain user’s location by using GPS-enabled 
smartphone devices. Our technological choice is based on the 
fact that such ubiquitous devices are becoming essential 
contributors to location-based services as they can provide 
position information accurately. Smartphones are enabled with 
a communication channel to send and receive information and 
therefore, personalized or location-dependent information can 
be delivered through this channel in order to enhance 
interaction and deliver high level knowledge. Location data 
depicting mobility patterns or human behavior can be obtained 
at large-scale both longitudinally and population-wise.  
A. Client-side implementation 
The preliminary mobile entities implement a client-based 
architecture to enhance location-based services in smartphone 
devices. The main goal is to develop a middleware to improve 
the smartphone software architecture for continuous and 
efficient services for location data by: a) providing location 
information at suitable abstraction level, b) collecting and 
storing   meaningful location data, and c) optimizing energy 
consumption for continuous sensing. Figure 4 shows a 
simplified block diagram of a device-side model whose main 
components are briefly described hereafter.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 3. Examples of location service for the mobility analyst
48
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-229-5
MOBILITY 2012 : The Second International Conference on Mobile Services, Resources, and Users

 
The Duty cycle adapter provides the mobile sensing 
application with the position information. It abstracts the 
positioning methods and devices (GPS) that can be used to 
obtain locations and it is in charge of their parameter 
configuration (adaptive sampling and duty cycling). 
The Orchestration policy module maximizes the accuracy 
of monitoring mobility and optimizes location updates 
according to a sensing policy on diverse smartphone usage 
scenarios (pedestrian or driving modes) with a given energy 
budget. 
 
Application Programming Interface
Orchestration
policy
Selective data 
transmitter
Data streams
Duty cycle
adapter
OS Layer
GPS
WiFi/3G
 
 
Figure 4.  Block diagram of the client software architecture 
 
The Selective data transmitter manages local data streams 
storage and the communication with the server. It provides 
standard ways to transfer data from/to the clients to/from the 
server (HTTP [12], HTTPS [12], TCP [12], and UDP [12]) 
selected according to the applications requirements (e.g., 
continuous real-time data). 
Currently a prototype has been developed built on the 
software stack on Android-powered smartphones to evaluate 
the 
functionality 
and 
performance 
of 
the 
client-side 
architecture. 
B. Server-side implementation 
Data collected with a mobile device are enough to reveal an 
interesting pattern on their own. However, when processed 
through models, and algorithms on series of external and cross-
user data sources, simple data can be used to infer complex 
phenomena about individuals and groups. To make mobility 
data and location-based services more readily accessible to 
smartphones, higher level data abstractions are needed at the 
cost of storage and computation. A preliminary version of a 
server side architecture is being explored according to the 
general layered organization shown in Figure 5. 
The communication layer manages connectivity with the 
mobile sensing devices. The functionality of this component 
must match that included in the client-side software 
architecture. The data collection and storage component stores 
location data in databases. The visualization module shows the 
information to the mobility analyst. The data analysis 
component analyzes user trajectories at different scales 
spatially and temporally to automatically extract mobility 
patterns. This component uses historical data stored in the 
database to perform inference, correlation, and data analysis 
tasks to provide a complete view of situations. 
The current efforts have been oriented to explore low-level 
preprocessing techniques for location streams since multiple 
measurements in the same location do not necessarily yield to 
the exact same coordinates due to errors and variations in the 
measurements. For instance, two estimated stay points could 
have the same semantic meaning, but not necessarily the same 
exact coordinates. Additionally, geometric and fingerprint 
based algorithms are being evaluated for the automatic learning 
of regions of interest since it is a key task to study mobility 
patterns and human behavior. Such algorithms might be used 
as the basis for predicting user movements or decision making 
based on location. 
 
Data Collection
Data Analysis
Data Visualization
Communication Layer
 
 
Figure 5. Block diagram of the server-side architecture 
IV. 
STATE OF THE ART 
 Zheng et al. [8] proposed a method to detect 
inconsistencies in city planning through long-term analysis of 
GPS trajectories of taxicabs in urban areas. The method relies 
on identification and correlation of pairs of regions with salient 
traffic problems. Even when this method analyses large scale 
data during long runs, it is somehow preprogrammed to a 
single pattern of correlation, which is the correlation of pairs of 
regions with salient traffic problems. The method does not 
support programmability of mobility patterns (it has only one), 
and does not deploy location-based services to mobile users at 
all.  
White et al. [9] propose an in-vehicle automatic accident 
detection and notification system to eliminate the delay 
between accidence occurrence and first responder dispatch. The 
system is based on iPhone and Google Android platforms, 
which can automatically detect traffic accidents using 
accelerometers and acoustic data, and also the provision of 
GPS coordinates in case of accident occurrence. This method 
uses context data to avoid false positives but it does not include 
characteristics proposed in our platform. To mention some, the 
49
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-229-5
MOBILITY 2012 : The Second International Conference on Mobile Services, Resources, and Users

 
proposed method does not correlate mobile data with other 
mobile entities or it does not warn mobile users when risky 
areas for example rainy areas are present in one vehicle’s route.  
Tzung-Shi et al. [2] propose a method to analyze user 
movement behavior patterns though standard graph-matching 
algorithms, which are run over mobile information stored in 
database systems. Even when the method has been proven to be 
effective in terms of execution efficiency and scalability, the 
proposed procedures do not include mobile service deployment 
of services and the programmability of patterns characteristic 
proposed in this paper. 
Zheng et al. [13] report on a personalized friend and 
location recommender system for the geographical information 
systems (GIS) on the Web. Individual interests in (un)visited 
regions are estimated by involving user’s location history and 
those of other users. The method is based on hierarchical-
graph-based similarity measurements to uniformly model 
individual’s location history, and to effectively measure the 
similarity among users. The proposed system is proven to be 
effective to find similarity-related metrics like [14] similarity-
by-count, cosine similarity, and Pearson similarity measures. 
However, the method does not provide support to define 
programmable patterns and exploit them in favor of enhanced 
ubiquitous services.  
All the related work in the literature are mostly intended to 
analyze acquired mobility information either to deduce 
mobility patterns, interests, behaviors and so forth. However, 
the vast majority of works do not allow mobility pattern 
analysis programmability. To the best of our knowledge, to 
date there is a lack of systems that exploit mobility pattern 
information in favor of ubiquitous services provision with 
energy saving guidelines, and where location-based services 
can be deployed over mobile clients as response to 
programmable alerts triggering.  
V. 
CONCLUDING REMARKS 
This paper has presented work in progress towards a 
middleware platform to support enhanced location-based 
services through real-time mobility analysis and mobility 
patterns acquisition. The technical challenges for its realization, 
namely, capturing and pre-processing of mobile information, 
information clustering and processing and the implementation 
of a middleware for platform, have been partially addressed. 
The preliminary implementations of the conceptual framework 
presented in this paper indicate that the proposal is feasible, 
and also, have provided some guidelines for its finalization.  
ACKNOWLEDGMENT 
This work is partially supported by the LACCIR Project 
No. R1211LAC005, the CONACYT FOMIX project No. 
TAMPS-2012-C35-185768, and the project TEC2009­14598­
C02­02 granted by the MEC Spanish Ministry and partially 
funded with FEDER funding.  
REFERENCES 
[1] 
Ganti, R.K., Fan Ye, and Hui Lei; , "Mobile crowdsensing: current state 
and future challenges," Communications Magazine, IEEE , vol. 49, no. 
11, pp. 32-39, November 2011. doi: 10.1109/MCOM.2011.6069707. 
[2] 
Tzung-Shi Chen, Yen-Ssu Chou, and Tzung-Cheng Chen; , "Mining 
User Movement Behavior Patterns in a Mobile Service Environment," 
Systems, Man and Cybernetics, Part A: Systems and Humans, IEEE 
Transactions on , vol. 42, no. 1, pp. 87-101, Jan. 2012, doi: 
10.1109/TSMCA.2011.2159583. 
[3] 
Chon, J., and  Hojung Cha; , "LifeMap: A Smartphone-Based Context 
Provider for Location-Based Services," Pervasive Computing, IEEE , 
vol. 10, no.2, pp. 58-67, Feb. 2011. doi: 10.1109/MPRV.2011.13. 
[4] 
Henrik Ljøgodt Moen, Thomas Jelle, and Tradløse Trondheim; , “The 
Potential for Location-Based Services with Wi-Fi RFID Tags in 
Citywide Wireless Networks”. Proceedings of the 4th International 
Symposium on Wireless Communication Systems, 2007. ISWCS 2007. 
pp.148-152, 17-19 Oct. 2007 doi: 10.1109/ISWCS.2007.4392319 
[5] 
Shi, W and Liu, Y.; , "Real-time urban traffic monitoring with global 
positioning system-equipped vehicles," Intelligent Transport Systems, 
IET , vol. 4, no.2, pp. 113-120, June 2010, doi: 10.1049/iet-
its.2009.0053. 
[6] 
Tarkoma, S., and Lagerspetz, E.; , “Arching over the Mobile Computing 
Chasm: Platforms and Run-times”. IEEE Computer 2011 vol. 44, no. 4, 
pp. 
22-28, 
April 
2011,  
doi: 10.1109/MC.2010.272 
[7] 
Lachapelle, G.; , “Pedestrian navigation with high sensitivity GPS 
receivers and MEMS”. Journal of Personal and Ubiquitous Computing, 
vol. 11, Issue 6, August 2007, pp. 481-488, doi: 10.1007/s00779-006-
0094-3 
[8] 
Zheng, Y., Liu, Y., Yuan, J., and Xie, X.; , “Urban computing with 
taxicabs”. Proceedings of the 13th international conference on 
Ubiquitous computing; ACM: New York, NY, USA, 2011; UbiComp 
’11, pp. 89–98 
[9] 
White, J., Thompson, C., Turner, H., Dougherty, B., and  Schmidt, D.C.; 
, “WreckWatch: Automatic Traffic Accident Detection and Notification 
with Smartphones”. ACM Journal Mobile Networks and Applications, 
vol. 16, No. 3, June 2011 pp. 285-303, doi: 10.1007/s11036-011-0304-8 
[10] Bellavista, P., Corradi, A., Montanari, R., and Stefanelli, C.; , “A mobile 
computing middleware for location- and context-aware internet data 
services”. Journal ACM Transactions on Internet Technology (TOIT), 
vol. 
6, 
Issue 
4, 
November 
2006, 
pp. 
356 
- 
380, 
doi: 
10.1145/1183463.1183465. 
[11] Meier, R., and Cahill, V.; , "On Event-Based Middleware for Location-
Aware Mobile Applications," Software En-gineering, IEEE Transactions 
on, 
vol. 
36, 
no. 
3, 
pp. 
409-430, 
May-June 
2010, 
doi: 
10.1109/TSE.2009.90 
[12] J. Kurose and K. Ross; , “Computer Networking. A Top-Down 
Approach”. ISBN 0-13-607967-9 Ed. Addison Wesley 5th edition 2010 
[13] Yu Zheng, Lizhu Zhang, Zhengxin Ma, Xing Xie, and Wei-Ying Ma.; , 
“Recommending friends and locations based on individual location 
history”. ACM Transactions on the Web. Vol 5, No. 1, Article 5 
(February 2011), 44 pages. DOI=10.1145/1921591.1921596 
[14] Sung-Hyuk Cha; , "Comprehensive Survey on Distance/Similarity 
Measures between Probability Density Functions". International Journal 
of Mathematical Models and Methods in Applied Sciences. Issue 4, 
Volume 1, 2007, pp. 300-307  
 
 
50
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-229-5
MOBILITY 2012 : The Second International Conference on Mobile Services, Resources, and Users

