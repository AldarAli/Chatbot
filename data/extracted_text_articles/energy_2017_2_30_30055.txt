Mitigating Brown-Outs: Fair Distribution of Locally Sourced Energy in Smart Grids
Rolf Egert, Florian Volk, J¨org Daubert, Max M¨uhlh¨auser,
Telecooperation Lab
Technische Universit¨at Darmstadt,
Email: {egert,volk,daubert,max}@tk.tu-darmstadt.de
Abstract—The introduction of more and more local and dis-
tributed energy resources (DER) into the current centralized
electrical grid poses new challenges to energy distribution. DERs
are signiﬁcantly smaller in production capabilities than central
power plants and their production is highly ﬂuctuating. This
means that their inﬂuence on the electrical grid is difﬁcult to
plan for, especially in brown-out situations, when there is not
enough energy available to supply all consumers. This work
focuses on the subproblem of fair electricity distribution in
brown-out phases. Currently, network segments are switched
on and off in a round-robin manner, regardless if there are
local producers in these segments or not. However, enabling
segments that include local producers more often would improve
the overall amount of energy available during the brown-out
phases, and thus, this measure would increase the number of
supplied consumers. We propose new algorithms that leverage the
power of local producers, but still keep a fair energy distribution
for all consumers. Therefore, we evolve the current notion of
fairness to improve the overall quality of service by taking into
account equal supply times, as well as maximizing the number
of supplied consumers. The proposed algorithms are compared
to the current state of the art approach in the German electrical
grid. Therefore, extensive simulations based on real-world low-
voltage residential area networks were conducted. The results
indicate an improved quality of service during brown-out phases.
Moreover, the proposed method is not limited to low-voltage
residential areas, but also applies to all hierarchy levels of the
energy grid, ranging from the distribution grid down to future
households implementing smart grid technologies.
Keywords–Smart Grid;Micro Gird; Demand and Response;
Fairness; Electrical Grid; Optimization.
I.
INTRODUCTION
The current electrical grid is already undergoing a change,
which will accelerate even more in the future. Nowadays, the
production architecture is based on large nuclear- and fossil-
fuelled producers, which are located centrally in the grid.
This concept will turn into an architecture that uses local and
distributed energy resources (DER) in addition to a reduced
number of central producers. DERs are based on renewable
energy sources, amongst those, the most established ones are
solar- and wind-energy. However, this increased amount of
DERs in the electricity production introduces several new
problems for the electrical grid. For instance, the ﬂow of
electricity can become bidirectional if the production of the
DERs is high [1]. Furthermore, in contrast to the fossil-fuelled
producers, the production of the DERs is highly ﬂuctuating
and thus, difﬁcult to plan for [2]. Therefore, the establishment
of an information and communication infrastructure (ICT)
that provides monitoring and control capabilities becomes
mandatory. If such a system is integrated into the electrical
grid, the concept of a smart grid (SG) emerges.
A big step into the direction of increasing the share of renew-
able resources in the production of electricity was conducted
recently in Germany. There, the Renewable Energy Sources Act
(EEG) [3] was passed. This act states that, until the year 2025,
Germany must generate 40%-45% of the electricity demand by
renewable energy sources like solar panels and wind turbines.
These changes, which the electrical grid is facing in terms of
infrastructure, do not ﬁt to the rules and network policies for
maintaining controlled operation that are currently in use. A
response to these changes, by adapting and establishing new
policies and rules according to the new situation, is necessary.
A subproblem concerning the outdated rules and policies, and
the main focus of this work, is the demand and response
(D&R) behaviour of the electrical grid in brown-out-scenarios.
An energy grid enters a brown-out-state if the production
capacities do not sufﬁce to supply the demand of all consumers
in the network. This also holds for the black-out-scenario, how-
ever, the complete absence of electricity introduces additional
difﬁculties, like frequency synchronization.
The German state of the art procedure to cope with the problem
of D&R in a brown-out-scenario works as follows: the network
is logically divided into (preferred equally consuming) subnets.
Each of these subnets has to be separable and reconnectable to
the grid, such that these are allowed to either consume electric-
ity or not. Subsequently, one after another of these subnets is
separated from the grid in a round-robin based manner. After
each separation of a subnet, the current network stability is
measured. If the network has stabilized, the currently active
consumers will be supplied for a certain amount of time,
otherwise additional subnets are disconnected. The round-robin
approach guarantees fairness in the brown-out-scenario. This
is done by only allowing to disconnect the same subnet for a
second time, after all other subnets have been disconnected at
least once. In the very end, this method guarantees that each
subnet is supplied, as well as disconnected for the same amount
of time. Note that the very last round of the disconnection
process might change the equality of supplied time for the
latest supplied groups. However, this will be taken into account
in case of further brown-out-cases, such that consumers with
lower supplied time during the last incident will be preferred
next time.
However, the procedure does not take the production capabil-
ities of the subnets into account, but enforces equal supplied
times for each consumer by deactivating the subnets in a round-
robin based manner. This, however, will also deactivate the
production capabilities, in terms of DERs, which are located
in these subnets. Therefore, this attempt might even promote
further destabilization of the network if the consumers are
capable of producing high amounts of electricity. To face
these challenges of the future energy grid it is important to
develop new rules, policies and algorithms that take these
DERs into account while concurrently providing fair electricity
distribution.
33
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

In this work, fairness is introduced as a measure for extending
the deﬁnition of quality of supply in the electrical grid.
Additionally, algorithms are presented that allow to use the
production of DERs, to increase the number of subnets that can
be supplied in the brown-out-scenario. However, there is no
general deﬁnition of fairness. As of this, our fairness deﬁnition
focuses the following two optimization goals: on the one hand,
to provide equal supplied times for all consumers and, on the
other hand, to maximize the number of supplied subnets in the
grid.
As a use case, the introduced approach is tested in a simulation
of a low-voltage distribution system of an residential area.
It is, however, not limited to this scenario. The proposed
approach can be used at all hierarchical levels of the electrical
grid, ranging from the distribution grid to low-voltage areas.
Moreover, with future technological progress, this approach
can be applied to single consumers in the grid.
The remainder of this work is organized as follows. In Sec-
tion II, an overview over scenarios in the domain of the
electrical grid is provided, where fairness is an important goal.
Section III describes a formal model for representing a micro
grid in an undersupplied state and introduces a new fairness
metric, which takes the equal distribution of electricity, as
well as the average number of supplied busses into account.
In Section IV, fair electricity distribution algorithms are pre-
sented. Followed by Section V, where the simulation process
is described and the results are discussed. Finally, the paper
concludes with Section VI.
II.
RELATED WORK
Fairness is a term discussed in many ﬁelds, most promi-
nently in economics [4] and psychology [5]. However, fairness
also became an important criterion in application of informa-
tion technology [6] and especially in the area of scheduling
algorithms [7] and resource allocation [8]. In this Section,
a selection of work is presented that is concerned with the
deﬁnitions and ﬁelds of application in the SG scenario. One
of the most popular ﬁelds for applying fairness in the domain
of SGs is the area of dynamic demand and response, where de-
mand is dynamically adapted according to different strategies
or algorithms to reach certain optimization goals. The approach
of [9] uses a daily consumption schedule for the consumers in
the network. The loads in this schedule are divided into two
categories, namely ﬁxed- and ﬂexible-loads, where the latter
can be moved within the schedule. In this work, consumers
try to reduce their electricity bill by scheduling their ﬂexible
loads in such a way that the overall production cost for
energy in the network is reduced. Hereby, fairness is achieved
by charging users for electricity based on their contribution
to minimize the production costs in the network. In [10],
dynamic demand and response management is discussed in
the environment of smart objects that can be activated and
deactivated dynamically. In this scenario, fairness is introduced
by using different scheduling approaches like round-robin or
by assigning priorities for scheduling algorithms. The authors
of [11] discuss fairness in the sense of a trade-off between
the maximization of a consumers utility function (level of
satisfaction dependant on the electricity consumption) and
the minimization of production costs imposed to the energy
provider. Another approach that deﬁnes the fairness of an
algorithm as a matter of consumer satisfaction is presented
in [12]. Hereby, the difference in starting time of so-called
soft loads is used as a metric. A slightly different fairness
notion is used by the authors of [13]; they present a day-ahead
energy resource scheduling algorithm using DERs and Vehicle-
to-Grid (V2G). To prevent unnecessary battery deterioration
of the vehicles, the authors establish pricing levels, which are
dependent on the power level of the batteries, to establish a
fair remuneration scheme.
Another ﬁeld of application is the planning of SG commu-
nication networks. The authors of [14] use equal quality of
service as a fairness metric in their approach of planning
wireless mesh neighbourhood area networks (NANs). They
discuss fair placement of gateways to ensure an equal number
of participants to be covered by each gateway.
Although there is a lot of ongoing work that uses fairness
metrics in the SG scenario, the considered scenarios are mainly
based on cases of normal operation. In contrast, this work
considers the state of the art fairness metric and presents
its drawbacks in the SG domain. Moreover, the presented
algorithm aims to maximize the use of DERs while simulta-
neously maintaining fairness of electricity distribution among
consumers.
III.
SYSTEM MODEL DEFINITION
In this Section, a model to represent a microgrid in an
undersupplied state is presented. In particular, the relevant parts
of the microgrid are described and formalized. Subsequently,
a formal deﬁnition of an undersupplied state is presented.
The Section concludes with the introduction of assumptions
about minimal provided supply and a presentation of the novel
fairness metric.
The system considered in this work is a microgrid that encom-
passes multiple residential areas. This can be, for instance,
the electrical network that connects several streets in a city.
The microgrid is connected to the main grid (MG) through
an adjustable transformer that handles incoming energy from
the MG, as well as outgoing electricity into the MG. This
transformer allows the measurement of electrical values for
the different streets like phase voltage, phase angles, and
ingoing and outgoing energy. Furthermore, this component
provides the functionality of enabling and disabling incoming
and outgoing connections, such that parts of the microgrid can
be disconnected and reattached to the MG. In the following, a
more formal deﬁnition of the system model will be provided.
Let the overall system be a set of street busses ST
=
{st0, . . . , stn}, n ∈ N. Each of these busses represents a
prosumer, which is connected to the adjustable transformer
(tr). This scenario is shown by Figure 1.
Each street bus sti has a combined consumption and produc-
tion, which is in general the sum of the consumption and
production of all houses that are located in this street. The
production capabilities of houses are non-zero if DERs are
installed, otherwise they will be neglected (We will not go
into further detail about production and consumption behaviour
of the houses, but stay at the street abstraction level). Each
prosumer can be a consumer or a producer at each speciﬁc
point in time during the day. Let all prosumers be represented
as a set C and the producers likewise as a set P. A prosumer
is a consumer cj ∈ C if the consumption of electricity in the
street is higher than the production provided by its local DERs.
Whereas a prosumer is a producer pj ∈ P if the electricity
provided by its local DERs exceeds the local demand. A more
34
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

MG
...
st1
stn
Figure 1. Representation of the considered scenario, where the street busses
(st) are connected to the main grid (MG).
formal representation of these relations can be expressed as
follows:
∀t, i 0 ≤ i ≤ n {sti ∈ C | cons(sti, t) > prod(sti, t)}
(1)
∀t, i 0 ≤ i ≤ n {sti ∈ P | cons(sti, t) ≤ prod(sti, t)
(2)
Parameter t represents a certain point in time during a
time interval [0, . . . , T − 1]. The functions cons(sti, t) and
prod(sti, t) provide the current consumption or respectively
the production of electricity of street bus sti at the time t.
Equation 3 provides a formal description of the production
function prod(sti, t) and, similarly, Equation 4 refers to func-
tion cons(sti, t).
prod(sti, t) :=
m
X
j=0
Z t+1
t
yj(t)dt
(3)
cons(sti, t) :=
m
X
j=0
Z t+1
t
xj(t)dt
(4)
The production and consumption of a street bus sti at given
point in time t is the sum of the integral of the produc-
tion/consumption y(t)/x(t) over the time step t for all the
houses j connected to that bus. Without loss of generality
it will be assumed for the remainder of the paper that the
granularity of the time interval T is based on the hours of a day,
such that T = 24. Any other time interval would be suitable
too; especially smaller ones, when taking into account the
volatile nature of SGs that include renewable energy sources
like photovoltaic and wind power. With further technological
progress, in the future it will be possible to reﬁne this model
by transitioning from the level of street busses to houses or
even to the devices that are located in the houses.
In the following, a formal deﬁnition for an undersupplied state
(brown-out) is provided. A microgrid is a part of the larger MG
and either receives electricity from it or acts as a producer if
the local production is high enough. However, since we are
dealing with a situation of undersupplyment, we assume that
the main grid can not provide enough energy to supply all
street busses of the micro grid simultaneously. Moreover, we
assume that this holds for at least one timestep during a day.
The formal deﬁnition of an emergency state is as follows:
∃t 0 ≤ t < T prod(MG, t) <
n
X
i=0
cons(sti, t)
(5)
Where prod(MG, t) represents the amount of electricity the
MG can provide for supplying the prosumers of the microgrid.
As long as the production of the MG is high enough to partially
supply the micro grid, the system is in a brown-out-state.
However, if the MG does not provide electricity at all, the
systems status changes to a black-out-state. Without loss of
generality, this work focuses on an undersupplied state that is
critical (brown-out), but not fatal (black-out) for the microgrid.
In particular, this means that the amount of energy provided
by the MG should at least cover the demand of some of the
street busses located in the micro grid. A formal deﬁnition can
be as follows:
prod(MG, t) ≥ max{cons(st, t)|st ∈ ST}
(6)
This deﬁnition guarantees that, for each point in time, the
MG provides enough energy to supply a single street in the
microgrid. Without this assumption we may have situations
where the electricity is not enough to supply a single bus.
This, however, represents a black-out-state in our model, and
is not part of the current work. Note that in this case the
model still holds considering future technological development
and thus the possibility to transfer the problem recursively to
individual streets. In addition to the electricity that is provided
by the MG to supply the micro grid, the street busses contain
local producers. Examples for such local producers are solar
panels, wind turbines and similar, as well as batteries and
alike. Thereby, solar panels and wind turbines are inherently
volatile in availability and power output, while the availability
of batteries and other energy storage systems is much easier to
plan. In this paper, without loss of generality, we simulate local
energy production with solar panels. If a bus is supplied, the
local producers are active and increase the amount of available
electricity. However, if a bus is not supplied the corresponding
DERs are deactivated. To successfully supply a bus sti at time
t it is sufﬁcient to provide the amount of electricity such that
the sum of electricity provided by local DERs and the supply
of the MG equal the demand of the bus. The formal deﬁnition
is as follows:
cons(sti, t) ≤ prod(MG, t) + prod(sti, t)
(7)
The function prod(MG, t) hereby represents the amount of
energy that is centrally provided by the MG. Changes of
state, like from being supplied to being unsupplied or changing
from being a consumer to being a producer, can be performed
instantly in the digital representation of a system. However,
the physical system consists of electrical and mechanical
components that have time constraints for changing their state
(e.g., electrical switches). To consider these constraints in the
discrete simulation model, it is assumed that after a change of
status has happened, this new status is kept for one timestep.
To evaluate the fairness in the described model, in the fol-
lowing a new fairness metric is proposed. The currently used
metric, which is based on equal supplied time, is not optimal
anymore in the presence of future technological changes
in the domain of the electricity grid. The transition from
centralized to distributed production changes the way how
35
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

the presence of prosumers inﬂuences the performance of the
network. However, DERs can only contribute to the system if
the corresponding bus, where they are located, is connected
to the network. One part of the novel fairness metric is
based on the assumption that strategies, which maximize the
use of DERs, are able to supply more busses than other
strategies. To represent this in the metric, the average number
of supplied busses is used as a parameter. Furthermore, to
include the fairness of handling the consumers, the sum of
differences between the supplied time of all consumers is
calculated. If an algorithm can supply a large number of
busses, while minimizing the differences in the number of
timesteps, in which consumers are supplied, the fairness metric
is maximized. To achieve maximum performance of the DERs,
prosumers that are producers are not taken into account. This is
due to the beneﬁt the network gets in terms of produced surplus
electricity and thus, producers are allowed to stay connected.
A more formal description of the fairness metric is as follows:
∀i, j ∈ C f = max
avg#ofsuppliedbusses
1 + P
i,j∈C |tsup,i − tsup,j|
(8)
where tsup,i represents the number of supplied timesteps for
consumer i ∈ C.
IV.
DESCRIPTION OF (FAIR) ALGORITHMS
In this Section, several algorithms that aim to solve the re-
source allocation problem for the undersupplied state scenario,
are presented. First, a slightly adapted version of the round-
robin based approach, which is used in the German electrical
grid, is introduced. Second, an iterative algorithm, which takes
the DERs of the busses into account, is described. Finally,
an algorithm that aims to maximize the use of DERs and,
additionally, equalises the number of supplied time for each
bus, is presented.
A. TRR - Traditional Round-Robin
This algorithm is a slightly extended version of the mech-
anism currently used in the German electrical grid. The Tra-
ditional Round-Robin algorithm, which is shown in Figure 2
works in a round-robin based manner and solves the problem
of fair supply distribution as follows. The algorithm uses a list
of busses and the information about the amount of production,
which is centrally provided by the MG, to determine a subset
of supplyable elements for the current timestep. Since the
algorithm uses a round-robin approach, it is not allowed to
activate a speciﬁc component for a second time before all other
busses have been activated at least once. With this design it is
ensured that each component stays active and inactive for an
equal amount of time. An additional important remark is that
this algorithm does not take the surplus electricity, which is
provided by local DERs, and its inﬂuence on the network into
account.
B. IIA - Improved Iterative Approach
The Improved Iterative Approach (IAA), which is shown
in Figure 3, iteratively selects busses from its list and tries to
supply them. In contrast to TRR 2 it takes the production of
the local DERs on the busses and uses it for current production
calculations. The algorithm provides a very rudimentary kind
of fairness by indirectly favouring producers and consumers
with a very low demand. The algorithm works as follows:
procedure TRR(production, timestep, busses)
for i ← busses.length() do
bus ← getLowestUptimeBus(busses);
if bus == null then
break;
else
if supplyable(bus) then
activate(bus);
end if
end if
end for
return activeBusses;
end procedure
Figure 2. TRR - Traditional Round-Robin.
procedure IIA(production, timestep, busses)
while consumption < production do
bus ← getNextBus(busses);
if supplyable(bus) then
activate(bus);
production += bus.getProduction();
else
markUnﬁt(bus);
if AllBussesProcessed then
return activeBusses;
end if
end if
end while
end procedure
Figure 3. IIA - Improved Iterative Algorithm.
ﬁrst, if there still remains unused capacity, iteratively choose
a street bus from the list of busses and check if the required
demand can be met. If this is the case, then activate the bus
and add the resulting production capabilities of its DERs to the
overall production. If the selected bus cannot be supplied in
this timestep mark it as unﬁt. After the algorithm terminates,
it returns a list of busses that will stay active in this timestep
and all remaining busses will be deactivated.
C. UEA - Uptime Equalizing Algorithm
The Uptime Equalizing Algorithm (UEA), which is shown
in Figure 4 aims to maximize the use of DERs while maintain-
ing equal supplied times for the busses. To achieve this, the
algorithm distinguishes in a ﬁrst step between consumers and
producers. Second, all producers are supplied and their local
production capabilities are added to the central production.
This is possible as we are in the brown-out-scenario, where
the central production provides at least enough electricity to
supply a single bus each. After the activation of the bus, the
local DERs are providing enough energy to sustain the bus.
After all the producers are activated, the algorithm chooses
a bus that is currently inactive and has a minimal amount
of supplied time. In the next step, the algorithm checks if
the selected bus can be supplied. If this is the case, the bus
is activated, otherwise it is marked as unﬁt. After all busses
are supplied or marked as unﬁt, the algorithm returns a list
of busses that will stay active during this timestep and all
remaining busses will be deactivated.
36
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

procedure UEA(production, timestep, busses)
while consumption < production do
for all bus ∈ busses do
if isSelfSustaining(bus) then
activate(bus);
production += bus.getProduction();
end if
end for
bus ← getMinUptimeBus(busses);
if supplyable(bus) then
activate(bus);
else
markUnﬁt(bus);
end if
if AllBussesProcessed then
return activeBusses
end if
end while
end procedure
Figure 4. UEA - Uptime Equalizing Algorithm.
V.
SIMULATION OF THE ALGORITHMS
In this Section, the conducted simulation is explained. The
goal of this simulation is to evaluate the performance of the
presented algorithms in a realistic scenario. Moreover, the sim-
ulation aims to evaluate the performance in the presence of our
presented fairness metric. First, the general simulation setup
is introduced. Second, the datasets that are used for demand
and supply are described. Third, the simulation execution and
corresponding results are presented. Finally, the results of the
simulation are discussed.
A. Simulation Setup
The simulation framework was developed using the Java
programming language. It implements the model described in
Section III and is able to simulate a microgrid consisting of an
arbitrary number of street busses. For the current simulation,
a total number of ﬁve busses was chosen. Each bus has a
combined consumption, as well as a combined production for
each timestep. To generate a more realistic scenario the values
for consumption and production are loaded from external
datasets. For this setup, two different load proﬁles for street
busses and one production curve of a solar panel are used.
For simulating a brown-out scenario, the central production is
derived using 6.
1) Load Set: For realistic load data of street busses in
residential areas, real recordings of an adjustable transformer
are used. This transformer is located in Saarland in Germany
and it is connected to several streets containing housing areas.
The real time data was monitored every second and the hourly
average of the data is used for the simulation process. Two
different load sets are used for simulation. One of the sets was
generated by monitoring a larger street and represents a bus
with a very high electricity demand, whereas the second set
represents the consumption of a smaller street. Figure 5 shows
the load curves of the busses for a day.
2) DER Production Set: For modeling realistic production
behaviour, real-world solar panel production data is taken from
Kronberg, Germany. The solar panel has a capacity of 4.51
 
0
5000
10000
15000
20000
25000
0
1
2
3
4
5
6
7
8
9 1 0 1 1 1 2 1 3 1 4 1 5 1 6 1 7 1 8 1 9 2 0 2 1 2 2 2 3
POWER (W)
TIME (H)
LOAD PROFILES OF THE BUSSES
High Demand Bus
Low Demand Bus
Figure 5. Load curves of the high/low demand busses connected to the
adjustable transformer in Saarland (Germany).
 
0
500
1000
1500
2000
2500
3000
3500
4000
0
1
2
3
4
5
6
7
8
9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
POWER (W)
TIME (H)
SOLAR PANEL PRODUCTION CURVE
Figure 6. Production proﬁle of a 4.51 kWp solar panel located in Kronberg
Germany.
kWp and the recordings are provided in an hourly resolution.
For the simulation, one of the previously mentioned solar
panels is assigned to the low demand bus and three to the
high demand bus. Figure 6 shows the production curve of the
solar panel over a day.
B. Simulation and Results
The simulation consists of 1,000 iterations, where in each
iteration, a new scenario is generated. In each iteration, the
production and consumption values are allowed to randomly
deviate by ±10% from the data set values to induce additional
variation between the busses. During the simulation, each
of the algorithms presented in Section IV is executed and
compared in each run. The active busses in each run, are busses
that stay online in the current timestep, either, because they are
self-sustainable, or are supplied by the MG. Moreover, the full
simulation process is conducted for both, the high demand set
as well as for the low demand set.
1) Low Demand Bus Results: This Section presents the
results for the simulation of the low demand dataset. Figure 7
shows the average results for 1,000 simulation runs with the
data set of the low demand bus. From this set, ﬁve busses are
generated and used for evaluation. Figure 7 shows the average
number of supplied components during the corresponding time
of the day for each of the algorithms.
37
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

 
0
1
2
3
4
5
0
1
2
3
4
5
6
7
8
9 1 0 1 1 1 2 1 3 1 4 1 5 1 6 1 7 1 8 1 9 2 0 2 1 2 2 2 3
NO. OF SUPPLIED BUSSES
HOURS (H)
AVG. NO. OF SUPPLIED BUSSES
TRR
IIA
UEA
Figure 7. Average number of active low demand street busses during a time
interval of 24 hours.
The graph shows a signiﬁcant performance drop of all al-
gorithms starting from 5am in the morning. While the TRR
algorithm can not really cope with this situation, IAA and UEA
perform better. This is due to the consumption behaviour of the
busses. While the overall production stays the same for TRR,
the demand of the busses increases during the morning until
about 12pm. As this gap grows with each timestep, busses must
be deactivated to keep the consumption below the production
provided by the MG. Most of the time, TRR is only able to
supply between one and two busses while the rest remains
deactivated.
IIA 3 and UEA 4 perform equally in this scenario as shown
in Figure 7. Since both algorithms use the electricity provided
by the solar panel located in the busses, the main difference
is the way they choose the next candidate that should be
supplied. IIA iteratively chooses the next element in its list
of busses and its performance thus depends on the ordering
of the busses, whereas UEA performs two steps: ﬁrst, it
activates all prosumers that are real producers in the current
time step to uses their production for supplying additional
busses. Second, it chooses the least supplied element out of
the set of real consumers as a next candidate. The equality in
performance of UEA and IIA, is due to the ratio between the
required supply of the low demand busses and the provided
electricity of the solar panels. The supply for the low demand
bus deviates between 1,000Wh and 2,500Wh. In contrast, the
solar panel is capable of producing 1,500Wh - 3,000Wh of
electricity between 9am and 1pm. With this, the production of
the solar panels highly likely exceeds the consumption of their
individual busses during peak hours and the busses change
from being consumers to being producers. Therefore, most of
the prosumers in the low demand scenario become producers,
and thus, the ordering of the busses for IIA does not inﬂuence
the outcome anymore. Moreover, with the assumption provided
in 6, each individual bus can be supplied and since most of
them are producers, they are self sustaining. If every consumer
becomes a producer, the iterative selection of elements equals
the ﬁrst activation step of UEA. This can be seen in Figure 7
at around 9am where IIA and UEA signiﬁcantly increase the
number of supplied components, as well as in the average
uptime of busses shown in Figure 8. At about 6pm, the
production of the solar panels can be omitted and, therefore,
all algorithms perform equally.
 
0
2
4
6
8
10
12
14
TRR
IAA
UEA
HOURS (H)
ALGORITHM
AVG. HOURS OF A BUS BEING SUPPLIED
Figure 8. Total average number of how long busses were active during a day
using the different algorithms in the low demand scenario.
The main difference between the algorithms becomes apparent
if they are evaluated using the introduced fairness metric pre-
sented in 8. As mentioned before, a simple equality approach,
like the one provided by the round-robin algorithm, is not
suitable anymore for future distributed electricity production.
Figure 9 shows the performance of the algorithms with regard
to the fairness metric.
 
0.000
0.500
1.000
1.500
2.000
2.500
3.000
3.500
4.000
TRR
IAA
UEA
METRIC SCORE
ALGORITHM
AVG. SCORE FOR THE FAIRNESS METRIC
Figure 9. Average metric score of the algorithms in the low demand scenario.
As mentioned in Section III, this metric is based on the average
performance of the algorithms while treating all consumers
equally. TRR performs quite well, because it is purely based
on a round-robin approach. This minimizes the denominator of
the fraction in the metric. IIA scores a rounded value of 0. In
spite of outperforming TRR with regard to the average supplied
time of busses, IIA does not use any techniques to equalize the
supplied times of busses. This, however, drastically increases
the sum of differences in the metrics denominator and thus
decreases the metric score. UEA on the one hand maximizes
the use of real producers and, on the other hand, favours the
bus with lowest supplied time. This leads to small differences
between the supplied times, as well as it leads to a good
performance with regard to average hours of supplied busses.
2) High Demand Bus Result: Figure 10 shows the average
results of 1,000 simulation runs. For providing equal starting
positions for both scenarios, again ﬁve different busses are
derived from the dataset and their values are allowed to deviate
38
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

from the original data by ±10%. However, since the demand
of the bus is around ten times as high as the demand of the
low demand scenario, the number of solar panels in each bus
is set to three. If only one solar panel is located in each
bus, they would not be able to inﬂuence the outcome of
the simulation because the maximum production of the solar
panel is signiﬁcantly lower than the demand of a single bus.
Therefore, it is assumed that, in a larger bus in a residential
area with a high demand, the number of installed solar panels
is higher than in a low demand area.
 
0
1
2
3
4
5
0
1
2
3
4
5
6
7
8
9 1 0 1 1 1 2 1 3 1 4 1 5 1 6 1 7 1 8 1 9 2 0 2 1 2 2 2 3
NO. OF SUPPLIED ELEMENTS
HOURS (H)
AVG. NO. OF SUPPLIED BUSSES
TRR
IIA
UEA
Figure 10. Average number of active high demand street busses during a
time interval of 24 hours.
Most of the time TRR 2 is only able to supply between one and
two busses. This is possible due to our assumption about the
centrally provided energy and, additionally, due to the missing
use of the surplus production of the DERs. The two algorithms
that use the production of the DERs again perform equal in
the simulation with regard to the average of supplied busses.
The rapid changes in the performance of algorithms IIA 3 and
UEA4 at 12pm is due to the demand spike that can be seen
in Figure 5 at the same time. This is a moment, in which the
electricity provided by the DERs simply did not sufﬁce and
additional busses had to be deactivated.
The application of the fairness metric in the high demand
scenario shows similar results as in the low demand scenario.
IIA and UEA perform equal with regard to the average uptime
of the busses, whereas TRR performs worse due to the missing
use of DERs. With regard to the fairness metric, the overall
value decreased due to the smaller number of supplied busses,
but still TRR and UEA perform better than IIA.
VI.
CONCLUSION
The results of this work indicate that, with the introduction
of a widespread monitoring infrastructure and the increasing
installation of DERs in the electricity grid, traditional algo-
rithms and their corresponding deﬁnition of fair electricity
distribution are outdated. Traditional load shedding based on
round-robin selection used in Germany, in case of brown-out
phases, is compared to novel algorithms that use the electricity
provided by local DERs to improve the quality of service.
Therefore, a simulation of an electrical grid in a low-voltage
residential area is conducted.
The presented method, however, is not limited to the low-
voltage scenarios. Moreover, further technological progress
will allow to apply our approach to all hierarchy levels of the
energy grid, ranging from the distribution network to single
consumers. Further development of smart meter technologies
will even allow to apply the presented method to in-house ap-
pliances and, therefore, provide detailed regulation capabilities
for distributing electricity.
While this paper had the German regulations in focus, future
work will encompass and compare international laws and
regulations. Our results indicate a lot of optimization potential
in brown-out scenarios when local energy producers can be
leveraged. In future, we intend to further explore this potential,
especially with regards to volatile energy producers and local
balancing of production and consumption, in order to reduce
the inﬂuence of constantly changing energy levels on the
transmission grid.
ACKNOWLEDGMENT
The work in this paper was partially performed in the con-
text of the PolyEnergyNet (PEN) research project and partially
funded by the Germany Federal Ministry for Economic Affairs
and Energy (BMWi) under grant no. “0325737E”.
REFERENCES
[1]
G. Pepermans, J. Driesen, D. Haeseldonckx, R. Belmans, and W. Dhae-
seleer, “Distributed generation: deﬁnition, beneﬁts and issues,” Energy
policy, vol. 33, no. 6, 2005, pp. 787–798.
[2]
N. D. Hatziargyriou and A. S. Meliopoulos, “Distributed energy
sources: Technical challenges,” in Power Engineering Society Winter
Meeting, 2002. IEEE, vol. 2.
IEEE, 2002, pp. 1017–1022.
[3]
“Renewable energy sources act,” https://www.gesetze-im-internet.de/
bundesrecht/eeg 2014/gesamt.pdf, accessed: 2017-02-02.
[4]
A. Falk, E. Fehr, and U. Fischbacher, “Testing theories of fairnessin-
tentions matter,” Games and Economic Behavior, vol. 62, no. 1, 2008,
pp. 287–303.
[5]
E. A. Lind, L. Kray, and L. Thompson, “The social construction of
injustice: Fairness judgments in response to own and others’ unfair
treatment by authorities,” Organizational behavior and human decision
processes, vol. 75, no. 1, 1998, pp. 1–22.
[6]
A. Wierzbicki, Trust and Fairness in Open, Distributed Systems, ser.
Studies in Computational Intelligence.
Springer Berlin Heidelberg,
2010.
[7]
M. Zaharia and et al., “Delay scheduling: a simple technique for
achieving locality and fairness in cluster scheduling,” in Proceedings
of the 5th European conference on Computer systems.
ACM, 2010,
pp. 265–278.
[8]
S. K. Baruah, N. K. Cohen, C. G. Plaxton, and D. A. Varvel,
“Proportionate progress: A notion of fairness in resource allocation,”
Algorithmica, vol. 15, no. 6, 1996, pp. 600–625.
[9]
Z. Baharlouei, M. Hashemi, H. Narimani, and H. Mohsenian-Rad,
“Achieving optimality and fairness in autonomous demand response:
Benchmarks and billing mechanisms,” IEEE Transactions on Smart
Grid, vol. 4, no. 2, 2013, pp. 968–975.
[10]
G. Koutitas, “Control of ﬂexible smart devices in the smart grid,” IEEE
Transactions on Smart Grid, vol. 3, no. 3, 2012, pp. 1333–1343.
[11]
P. Samadi, A.-H. Mohsenian-Rad, R. Schober, V. W. Wong, and
J. Jatskevich, “Optimal real-time pricing algorithm based on utility
maximization for smart grid,” in Smart Grid Communications (Smart-
GridComm), 2010 First IEEE International Conference on.
IEEE,
2010, pp. 415–420.
[12]
M. Shinwari, A. Youssef, and W. Hamouda, “A water-ﬁlling based
scheduling algorithm for the smart grid,” IEEE Transactions on Smart
Grid, vol. 3, no. 2, 2012, pp. 710–719.
[13]
T. Sousa, H. Morais, J. Soares, and Z. Vale, “Day-ahead resource
scheduling in smart grids considering vehicle-to-grid and network
constraints,” Applied Energy, vol. 96, 2012, pp. 183–193.
[14]
F. Ye, Y. Qian, and R. Q. Hu, “Energy efﬁcient self-sustaining wireless
neighborhood area network design for smart grid,” IEEE Transactions
on Smart Grid, vol. 6, no. 1, 2015, pp. 220–229.
39
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-556-2
ENERGY 2017 : The Seventh International Conference on Smart Grids, Green Communications and IT Energy-aware Technologies

