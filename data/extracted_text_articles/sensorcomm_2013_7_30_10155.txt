Smart Shopping Cart for Automated Billing
Purpose using Wireless Sensor Networks
Udita Gangwal, Sanchita Roy, Jyotsna Bapat
International Institute of Information Technology - Bangalore
Bangalore, India
e-mail: udita.gangwal@iiitb.org, sanchita.roy@iiitb.org, jbapat.iiitb@gmail.com
Abstract—With the increasing employment of broad area
Wireless Sensor Networks (WSN) in the ﬁeld of consumer
applications, it becomes imperative to address the concerns raised
by its application, such as reliability, energy consumption and
cost-effectiveness. In this paper, we describe the implementation
of a reliable, fair and cost efﬁcient Smart Shopping Cart using
Wireless Sensor Networks. Such a system is suitable for use
in places such as supermarkets, where it can help in reducing
man power and in creating a better shopping experience for
its customers. Instead of making the customers wait in a long
queue for checking-out their shopped items, the system helps in
automating the billing process. Along with this ability, the system
design also ensures detection of cases of deception invoked by
dishonest customers, which makes the smart system fair and
attractive to both the buyers and sellers. The system design
along with the experimental setup are presented. The results
are encouraging and with the use of repeaters at appropriate
locations inside the supermarkets, our approach illustrates itself
to be conceivable for use outside the laboratory, in real world
deployment.
Keywords-Wireless Sensor Networks; broad area WSN; Smart
Shopping Cart; Load cell; Image comparison algorithm
I. INTRODUCTION
Enormous amount of advancements in the ﬁeld of Wireless Com-
munication has given way to several new technologies and ﬁelds
altogether. One such upcoming ﬁeld is Wireless Sensor Networks
(WSN), which is maturing at a very fast pace because of its suitability
in a wide range of application areas. It consists of a large number of
small, low-power, cost-effective, autonomous devices termed as sen-
sor motes. When interfaced with sensors and actuators, which could
be simple or complex, they play the combined role of environment-
sensing, special-computing and wirelessly communicating devices.
These factors accompanied by the effectiveness of technologies for
miniaturization of hardware (microcontrollers and radio modems,
for example), technologies for sensing equipments, technologies for
energy saving and scavenging, and the fact that many applications
cannot be wired, makes it suitable for various application domains.
Examples of such applications are medicine and health care, disaster
relief applications, environment and industrial monitoring, etc. [1]
In this new era of consumerism, broad area WSN ﬁnds its use in
consumer application areas such as Smart Home, Smart Grid, etc.
The challenges here are to not only make the system intelligent by
automation, but also to handle the concerns that are raised due to
the automation process such as probability of false alarms, energy
consumption, cost-effectiveness, etc. Since many sensor nodes are
required over a broad area for environment-sensing, the system design
needs to concentrate on aspects such as the choice and placement of
sensors within the area, communication among the various nodes so
that it works reliably with minimum energy requirement and be cost-
effective at the same time. In this work, we take the particular case
of supermarkets, where our design based on WSN is used to address
the following issues:
1) Customer dis-satisfaction because of long waiting time for
check-out process, and
2) Involvement of a lot of man-power, which is expensive.
In order to achieve this, we have come up with a design that automates
the billing procedure and saves the customers’ time. Automation has
its own problems. Absence of human operators can potentially lead to
inconvenience when the underlying technology fails. It can also lead
to dishonest behavior of the customers. We propose and implement
a solution that has redundancy built into it in order to reduce the
probability of failure, and has three main beneﬁts:
1) It creates a better shopping experience for the customers by
saving their time.
2) It minimizes the man-power required at the shopping mall, as
the checking-out process at the check-out counters is elimi-
nated altogether.
3) It handles cases of deception if any, thereby making the system
attractive not only to the customers, but also to the sellers.
A number of attempts have been made to design a Smart Shopping
Cart with various different functionalities. Awati and Awati [2],
describe a Smart Trolley design that concentrates on how to get the
customers rid of dragging heavy trolleys and to automate billing, but
it assumes all the customers to be honest and hence does not tackle
cases of deception, if there are any. Further, Yew et al. [3] propose a
smart shopping for future where the barcodes are completely replaced
by Radio Frequency Identiﬁcation (RFID) tags and scanners. This
idea might take a long time to be deployed as it is expensive both
in terms of money and energy. A lot of other works describe how
products in a store could be tracked by customers instead of spending
a lot of time searching for it.
In this paper, the system design considerably minimizes the
overhead of wireless communication among the devices involved in
the system as almost every processing is done locally at each cart
instead of transmitting packets to another node. Hence even when
there are a lot of customers present in the shopping mall, there will
not be any deterioration in the performance owing to communication
gridlock. Every Shopping Cart is equipped with a sensor mote, a
load-cell ﬁtted at the base of the trolley, a camera ﬁtted on the top
(also acts as barcode scanner) and a system for local processing and
display purposes as shown in Figure 1.
Every customer is identiﬁed by the ID of the cart s/he picks for
shopping. The Base Station at the payment counter consists of a
database that stores information of all the products, and a sensor
mote to communicate with all the Smart Carts in the mall. When a
customer starts shopping, s/he has to scan the barcode of the product
with the barcode scanner present at the cart, after which the product
has to be put into the basket. The barcode of the product is wirelessly
transmitted by the mote to the Base Station using the IEEE 802.15.4
(ZigBee Protocol) [4] over the ZigBee network. ZigBee is chosen
168
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

Fig. 1.
Smart Shopping Cart
along with the IEEE 802.15.4 compatible sensor motes because they
are easily available and mass produced. However, any other short
distance radio system will work equally well. In reply, the Base
Station sends relevant information about the product, which is used
in the decision-making process at the cart. In order to handle all
the cases of mistake/dishonesty, the design includes the use of image
processing at the cart. After the customer ﬁnishes shopping, s/he then
proceeds to the payment counter to pay the bill amount and is assisted
by an attendant only in the case the system detects discrepancy in
the self check-out process of the customer.
The organization of this paper is as follows: Section II presents the
detailed system design, Section III gives the implementation details,
Section IV discusses the result and feasibility issues, and Section V
concludes the paper.
II. DETAILED DESCRIPTION OF THE SMART SYSTEM
The features supported by the Smart Shopping Cart and the idea
behind how these features are achieved are explained in the next two
sub-sections.
A. Features of the Smart Shopping Cart
The capabilities of the Smart Shopping Cart are listed below:
1) The basic function of calculating and updating customers’ bill
as and when s/he places the shopped products in the cart.
2) The customer can also track the details of the purchased items
as well as the current bill amount on the monitor that is
attached to the cart.
3) In addition to the above features, it also includes the handling
of the following special cases, which ensures that the system is
fair in all respects. All the cases mentioned below are detected
by the system.
a) Attempt to take away products by keeping them into the
cart without scanning their barcodes.
b) When the customer scans a product, but forgets to keep
it in the cart.
c) Attempt to scan one product, but place multiple products
in the cart.
d) Attempt to take away one product of higher price by
scanning the barcode of another product of lesser price.
e) Since consumers are likely to change their mind, our
implementation allows for removing any item already
placed in the cart, without help from attendant.
Next few sub-sections describe how these functionalities are incor-
porated into the Smart Shopping System.
B. The Design Idea
The design has been focused to tackle all the scenarios which
are mentioned above. As the goal of the Smart Shopping System is
automation, the ﬁrst requirement is to have a barcode scanner attached
to every shopping cart. Hence, this design includes a camera-based
barcode scanner, which is ﬁtted to the cart. The barcode scanner is
required to identify a product so that its price can be determined from
the database, which stores all the relevant information about all the
products. The database in our design is stored in the Base Station,
which is located at the payment counter. Some of the information per
product that is stored in the database includes its barcode, its name,
price and weight.
The weight attribute of a product has been chosen for a way to
double-check the identity of the product in order to detect deception
in the system. A load-cell has been conﬁgured as a weight sensor.
The output of the load-cell is used in the decision making process
at the cart. If the weight of a product estimated by the load-cell is
not the same as the actual weight of the product, it is interpreted as
a case of discrepancy.
The design involves a third level of check to further enhance
the decision-making process, which makes use of Image Processing.
While the barcode of the product is being scanned, a picture of the
product is taken by the same camera that also works as the barcode
scanner. If a person wants to exchange this product with a costlier
one, it will be after scanning the barcode that he will do so. There
is a slab attached to the top of the cart which is meant to play the
role of placing the products into the cart when it is triggered to do
so, instead of the customer having to put the product into the cart by
himself. The person places the product on this slab once the scanning
is over. Another picture of the product is taken just before the slab
lets the product into the cart. Both the images are stored locally in
the system present at the cart. An image comparison algorithm is run
on these two images to ﬁnd if they are the same products. If they are
not found to be the same, it is interpreted as a case of discrepancy.
The two images are removed from the memory of the system just
after obtaining the result from the algorithm in order to restrict the
memory usage of the systems at the cart.
The processing is done locally instead of transmitting the image
for every product to the Base Station for comparison, in order to
reduce the overhead on the wireless communication, which makes
it energy-efﬁcient. This also ensures that the system gives the same
performance even with a lot of customers in the store shopping at
the same time.
C. Operation of the Smart Shopping System
A customer enters the Smart Shopping Centre. On entering, s/he
ﬁrst picks a Smart Shopping Trolley. Each trolley is given a unique
ID and every customer is associated with the ID of the trolley chosen.
A typical trolley is expected to look like the one shown in Figure 1.
The functioning of the system is listed below:
• When the customer picks up a product that s/he wishes to
purchase, s/he ﬁrst scans the barcode of the product using the
barcode scanner and then places it on the slab of the cart, which
is meant to play the role of putting the products into the cart
when it is triggered to do so. While the customer is scanning
the barcode of the product, a picture of the product is taken
and stored in the system’s memory. The barcode and the cart
ID are transmitted as two different ﬁelds in a single Zigbee
packet by the sensor mote on the cart to the Base Station. An
additional ﬁeld called the attendant-ﬂag ﬁeld is sent only in
case of discrepancy.
• At the Base Station, this transmitted information is received
by the sensor mote attached to it. This information is then
used to fetch relevant information about the product from the
database corresponding to the barcode. The database consists of
the following details at least: the barcode, name of the product,
price and weight. The weight and price ﬁelds corresponding to
the received barcode are extracted and kept aside.
• Meanwhile, at the cart, the slab still holds the product and
another picture of the product is taken just before the slab lets
the product into the trolley. An image comparison algorithm
is run once it has both the images. Depending on whether the
169
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

images match or not, it sets the attendant-ﬂag ﬁeld, which is
later transmitted to the Base Station for it to take appropriate
actions.
• Once the product is inside the trolley, the role of the load-cell
comes into play. The weight of the product is estimated and
then transmitted to the Base Station using the same mote on
the Smart Cart.
• At the Base Station, the weight which is received from this cart
is compared with the weight that was retrieved earlier from
the database corresponding to the same cart ID. Depending
on whether the weight matches or not, appropriate actions are
taken.
• This procedure is repeated for every product the customer
purchases. Finally, when the customer ﬁnishes shopping, s/he
goes to the counter in order to pay the bill amount. In case of
any detected discrepancy, an attendant veriﬁes the self-checkout
process carried out by the customer. The attendant is signaled
by the User Interface present in the Base Station.
• If the two weights are found to be equal and if the Base Station
does not receive the attendant-ﬂag ﬁeld, then on entering the
customer’s cart ID on a particular ﬁeld in the user interface, it
displays the detailed bill of the customer’s purchase along with
a green symbol. This implies that the customer can pay the bill
amount and carry on.
On the other hand, if the attendant-ﬂag ﬁeld is detected or if the
two weights are found to be different at the Base Station, then
on entering the customer’s cart ID, it displays a red symbol and
an alarm sets off, indicating that an attendant has to request the
customer to wait for the check-out process again.
If a customer changes his mind, the reverse process has to be
carried out. After the customer takes the product out, it has to be
scanned and the image of the scanned product is then captured. The
Base Station has been programmed to handle this case which enables
the customer to do so. This implementation also takes care of all
discrepencies in the same manner as described above.
III. IMPLEMENTATION DETAILS
A prototype has been made based on the the same design idea.
The various components that are used in the implementation along
with the important considerations are explained in details.
1) Barcode Scanner: The prototype uses a camera-based bar-
code scanner for implementation, which uses a small video camera
to capture an image of the barcode and then use sophisticated Image
Processing techniques to decode the barcode. We have used a webcam
for this purpose, which is supposed to be ﬁxed at the top, facing the
slab attached to the cart. The ZBar barcode reader [5] is used for the
implementation, which supports many popular symbologies (types of
barcodes). It is made to run on the Linux (Ubuntu) Operating System.
It also has a user interface that is displayed on the monitor in which
the customer can see the green lines along the barcode if it has been
detected correctly or a red light if it has not been detected. Figure 2
shows the two conditions.
Fig. 2.
User interface of the barcode scanner showing the detection and
non-detection of barcode
2) Weight Sensor: A load-cell is conﬁgured as a weight sensor.
A load cell is a transducer, which is used to convert a force into
electrical signal, an analog output voltage. The load cell CZL601-
3kg [6] shown in Figure 3 has been used for the experiment, where
3kg denotes the Rated Capacity of the load cell. The load cell can
be chosen based on what precision in weight is required, which in
turn depends on what kinds of products are available in the Shopping
Store. The cost of the load-cell depends on its precision; higher the
precision, higher the price.
One end of the load cell has to be ﬁxed and force has to be applied
on the other end so that the deformation in the strain gauge of the
load cell is indirectly converted to an output voltage. The load cell is
supplied with a DC voltage of 9 Volts with the help of a Transistor-
battery.
Fig. 3.
Load cell CZL601-3kg
TABLE I
SPECIFICATIONS OF INTEREST FOR CZL601-3KG
Rated capacity
3 kg
Rated output
1.948 mV/V
Excitation voltage provided
9 Volts
Rated capacity is the maximum axial load that the load cell is
designed to measure within its speciﬁcations. The maximum output
voltage that can be provided by this load cell is 1.948 mV × 9V =
17.532 mV. The load cell gives an output voltage which is almost
proportional to the weight that is applied. It is not exactly linearly
proportional to the weight due to many factors such as hysteresis
error, repeatability and temperature effects. Readings have been taken
as shown in Figure 4, in order to calibrate the output voltage of the
load cell for a given input weight. The straight black line shows the
ideal response, whereas the blue line shows the actual response. The
response ﬂattens out towards the rated capacity.
The output voltage of the load cell is typically in the order of
a few millivolts and requires ampliﬁcation before it can be used. A
µA741CN operational ampliﬁer has been used as a negative feedback
non-inverting ampliﬁer. An ampliﬁcation factor of 11 is achieved by
the arrangement shown in the Figure 5.
This ampliﬁed output is then given to an ADC on the sensorboard.
The output of the ADC varies with the ampliﬁed output of the load
cell, which in turn varies with its input weight. Each cart stores a
Fig. 4.
Plot for Weight versus Output Voltage
170
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

Fig. 5.
Voltage ampliﬁer circuit
look-up table, which consists of a mapping between the ADC output
values and its corresponding input weight. This is required to compare
the weight of the product that has been actually put into the basket
with the weight ﬁeld that the Base Station retrieves from the database.
Also, it is advantageous if every cart has its own mapping for the
different weight values because load-cells with different precisions
could be used for different carts. This effectively means that for
different sections of the shopping mall, carts with different precision
of the load-cells could be used, instead of using a high precision
load-cell throughout, which makes it more cost-efﬁcient.
3) Image Comparison algorithm: The Image comparison al-
gorithm that is chosen for the design is the SIFT (Scale-Invariant
Feature Transform) algorithm. It extracts interesting points on the
object in the image to provide a feature description of the object.
These features extracted from the training image are then used to
identify the object when attempting to locate this object in a test
image containing many other objects as well. This algorithm is apt
for the design as the algorithm works even when the object in the
two images are not same in size, orientation and scale. So, if the
customer places the product on the slab even in a rotated direction, it
still identiﬁes whether the product is the same or no. The algorithm
works well for all lighting conditions except for very extreme lighting
condition, i.e., with almost no light in the ambience.
4) Sensor mote at the Smart Cart: All the Smart Carts are
equipped with a Crossbow IRIS-XM210 [7] mote running TinyOS
[8] Operating System, along with a MDA100CB sensor board [13].
The mote is connected to the system which is present at the cart
via USB cable for monitoring and display purposes. The system at
the cart is programed to calculate the weight (with the help of the
look-up table) two seconds after the product is being sensed by the
load cell so that even if the product is dropped with a great force
into the cart, it does not estimate a wrong weight based on the initial
momentary thrust on the load-cell. The same sensor mote is used to
transmit all the information to the Base Station - the barcode, the
trolley ID and the ﬂag ﬁelds.
5) The Base Station: The Base Station resides at the counter
meant for payment for bills. A PC with an IRIS sensor mote is used to
communicate with the Shopping Carts. The database which contains
the information of all the products that are present in the store, resides
in the PC. MySql database has been used for the implementation. It
consists of a table which consists of the following ﬁelds: (i) Barcode
ID (Primary key), (ii) Name of the product, (iii) Price, and (iv) Weight
of the product. The PC also supports a GUI meant to assist the
customers to pay their bill amounts and to alert the attendant in cases
of discrepancy. Figure 6 and Figure 7 show the laboratory set-up of
the proposed system.
Experiments have been conducted using the
set-up and various products have been selected for testing purpose.
Figure 8 and Figure 9 show the UI at the Base Station, in which
the red and the green light is indicative of whether the system has
detected a case of discrepancy or not respectively.
IV. RESULT AND FEASIBILITY
The experimental set-up is tested for various test cases, with
various products tested for all the possible cases mentioned in
Fig. 6.
Prototype model of a Smart Shopping Cart
Fig. 7.
Prototype model of Base Station
Fig. 8.
Generated bill with the Green indicator
Fig. 9.
Generated bill with the Red indicator
171
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

Section II. When the system is tested with a single Shopping Cart
and a Base Station, it gives the correct result for all the cases except
for the case when the lighting condition is very poor, i.e., when
the lighting condition in the environment is very dim/dark. This is
because the object in the image cannot be recognized because of the
darkness, due to which the SIFT algorithm fails to extract the key
points of the object. The lighting in a store is expected to be bright.
Low lighting conditions can be indicated on the smart cart by setting
the attendant ﬂag. This attendant ﬂag is the same as the one set when
weight or images do not match.
Next, we observe how much time it takes for the entire process to
take place with respect to the distance of a Shopping Cart from a Base
Station. This is required in order to decide on the placement and the
number of repeaters inside the Shopping Mall. The processing time
includes the time taken by the cart to generate a decision and the
time for the wireless communication between the Base Station and
the Shopping Cart. Figure 10 shows a plot of the processing time
against the distance of the cart from the Base Station. This variation
in the response time is mainly due to the time taken for the wireless
communication, as the time taken in decision-making at the cart is
approximately the same every time.
Fig. 10.
Distance versus Processing time
The range for mote-to-mote communication is found to be 21
meters inside a busy building at our Campus. This brings in the need
for wireless repeaters depending on the dimensions of the Shopping
Mall. According to the information gathered, the typical area of a
Shopping Mall is about 2,500 square meters per ﬂoor [14]. If we
consider the layout of such a store to be a square (for a rough
estimation), the length per side turns out to be approximately 50
meters. This implies that if the system has to be deployed in such a
place, there has to be few repeaters located at different positions in
order to ensure coverage of the entire broad area. The IRIS motes
can act as repeaters too if they are programed to do so. If there are 2
payment counters (Base Stations) per ﬂoor on the opposite corners,
2 to 3 repeaters per ﬂoor will sufﬁce.
V. CONCLUSION AND FUTURE WORK
The project successfully demonstrated the possibility of using
WSN for developing a Smart Shopping System which automates the
entire billing procedure. The system which is developed is highly
reliable, fair and cost-effective. It is reliable and fair because of
the effectiveness of WSN combined with a highly reliable Image
Processing technique. The system is also energy constraint as it uses
a passive sensor and it reduces the communication requirement. The
decision making process is done locally within the cart, thereby elim-
inating an overhead to the communication between the motes. Also,
the application does not make use of complex routing mechanisms or
unicast transmissions; our implementation makes use of the simple
broadcast technique to communicate with the Base Station as each
cart is associated with a unique ID. The system is cost-effective as it
requires only one passive sensor (the load-cell) and a camera-based
barcode scanner (which is way cheaper than any other type of barcode
scanners) per cart. In the bigger picture, it reduces the man-power
requirements.
The effect of multiple users operating at the same time, as
well as any spectrum coexistence issues must be studied since the
proposed system uses the over-used 2.4 GHz spectrum. The current
implementation also does not talk about the placement of repeaters
inside a supermarket layout.
REFERENCES
[1] H. Karl and A. Willig, “Protocols and Architectures for Wireless Sensor
Networks,” Chichester, England, 2005.
[2] J. Awati and S. Awati, “Smart Trolley in Mega Mall,” vol. 2, Mar 2012.
[3] L. Yew, L. Fang, C. Guancheng, C. Jianing, and L. Hangzhi, “RFID:
Smart Shopping for the future,” Singapore Management University,
Tech. Rep.
[4] Ergen, S. C., “ZigBee/IEEE 802.15.4 Summary,” EECS Berkely,
September 2004.
[5] “ZBar bar code reader,” http://zbar.sourceforge.net, [retrieved: July 2,
2013].
[6] “CZL-601,
3-120
Kg
[Aluminium
load
cell],”
http://www.
saithongelectric.com/index.php?lay=show&ac=article&Id=518670&
Ntype=22, [retrieved: June 28, 2013].
[7] “Data Sheet for Memsic IRIS Motes,” http://www.memsic.com/products/
wireless-sensor-networks/wireless-modules.html, [retrieved: July 15,
2013].
[8] D. Gay, P. Levis, and D. Culler, “Software Design Patterns for TinyOS.”
[9] D. Gay and P. Levis, “The nesC Language: A Holistic Approach to
Networked Embedded Systems.”
[10] “Tiny OS Documentation Wiki,” http://docs.tinyos.net/, [retrieved: July
12, 2013].
[11] “Tiny OS 2.0.2 Documentation,” http://www.tinyos.net/tinyos-2.x/doc/,
[retrieved: July 12, 2013].
[12] D. Gay, P. Levis, and D. Culler, “nesC 1.1 Language Reference Manual.”
[13] “MTS/MDA Sensor Board Users Manual,” Crossbow Technology, Inc.,
June 2007.
[14] “India’s Largest Malls - 2010,” asipac, Mar 2010, [Research Studies On
Malls in India].
172
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-296-7
SENSORCOMM 2013 : The Seventh International Conference on Sensor Technologies and Applications

