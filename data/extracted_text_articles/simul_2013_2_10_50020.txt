Simulation Model of a Bus Line in Changing Traffic Conditions 
 
 
Marek Bauer 
Cracow University of Technology 
Chair of Transport Systems 
Cracow, Poland 
mbauer@pk.edu.pl 
 
 
Abstract—This paper presents the author's stochastic model of 
bus line operation, taking into account the variability of traffic 
conditions, as a result of disturbing factors. General structure 
of the model bases on graph and events theory. In this 
approach, bus line has been described by bus stops and 
sections between these stops, and the most essential traffic 
processes: running following sections, alighting and boarding 
passengers at bus stops, waiting for the possibility to 
departure. In the mathematical description of the simulation 
model, a dynamical system of matrix-vector equations is used. 
The fundamental element of presented model is the state vector 
of the system. It includes all important information about 
operation of each bus line: variables allowing to define location 
of each bus on a line in time and space, variables describing the 
occupancy of all buses and values of scheduled ride times 
which enable to evaluate punctuality. All parameters of the 
model have been determined with statistical and stochastic 
methods using, on the basis of extensive and identification own 
research including various types of sections (with or without 
separated bus lanes) and diversified location and types of bus 
stops. Presented simulation model can find wide application 
among others: to create feasibility studies for investments in 
public transport, evaluation of solutions streamlining bus 
traffic, planning bus routes and developing timetables. 
Keywords- urban transport; bus lane; simulation 
I. 
 INTRODUCTION 
Operation of public transport requires permanent quality 
control of provided services. It is only with complete 
knowledge about the state of public transport, when efficient 
continuous improvement activities can be carried out. For 
this reason, public transport quality research should be 
conducted in a manner possibly continuous, in order to 
enable evaluation of not only current quality indicators but 
also efficiency of measures taken, such as: separated bus 
lanes and priorities in traffic lights. 
Bus service is far more prone to traffic disorders than rail 
transport due to moving, mostly, in the stream of other 
vehicles. Currently, in Polish cities, one observe the 
increasing influence of overcrowded streets on deterioration 
of bus traffic conditions leading even to total breakdown of 
punctuality and regularity. The speeds achieved by buses 
vary, even within the same traffic route and the same time 
period. There are many factors influencing travel times of 
buses (e.g., [1], [2]), like the infrastructure of streets, 
intersections, and bus stops, the traffic conditions and 
organization of traffic, as well as the motoric and behavioral 
conditions.  
General rules of bus public transport modeling and 
optimization were shown in publications [1], [3] and [4]. 
There are many publications with micro-simulation point of 
view. In [5], Mahmoud and Hine described a multi-criteria 
evaluation of user perception towards bus services and 
measures the gap in the perceptions held by current and 
potential users. Paper [6] illustrates a new method of 
calibration of bus performance parameters in the microscopic 
scale. Liu and Sinha [7] considered the problem of reliability 
of an urban bus network using a dynamic micro-simulation 
model framework. All above approaches are characterized 
by high level of accuracy. 
However, micro-simulation models are very problematic 
due to the large number of inputs. For example – in Polish 
conditions, measurements in public transport consist of 
occupancies and stop-to-stop travel times registration. 
However, traffic volume measurements are usually not 
conducted at the same time. The range and the quality of the 
available information are usually not sufficient to be used in 
micro scale models for large areas of the city. On the other 
hand, the  macro-simulation models have  too general 
character. However, there is a gap between the highly 
accurate micro-simulation models and models in macro 
scale. Therefore, it was decided to build a model in which 
the reference point will be the efficiency of a bus line. This 
model should take into account traffic condition and various 
kinds of street infrastructure. 
The aim of the author’s own research is among others to 
determine: 
 
What is the influence of disturbing factors onto bus 
line operation? 
 
What functional parameters (including: average 
travel and running speeds and their variation) could 
be obtained in predetermined conditions under the 
influence of different external factors? 
 
What is the efficiency of separated bus lanes? 
Answering these questions at the stage of investment 
planning is the basis of adequate implementation of 
privileges for bus public transport. A tool facilitating 
evaluation of potential investment effects presents a 
29
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

direction number
number of bus stop
p  -1
(v    , v  )
1
1
p
1
1
EDGE:
VERTEX:
stop at the start
of the section
stop at the end
of the section
section
(EDGE in digraph
structure)
technical
section
FIRST DIRECTION
SECOND DIRECTION
0v1
1v1
0v2
1v2
m
v1
1
p  -1
v1
1
pv1
1
m
v 2
2
p   -1
v 2
2
pv 2
2
0
(v , v  )
1
1
1
0
(v , v  )
2
1
2
p  -1
(v    , v  )
1
1
p
1
1
p   -1
(v    , v   )
2
2
p
2
2
p
(v   , v  )
2
2
0
1
p
(v   , v  )
1
1
0
2
p  -1
v1
1
bus stop
(VERTEX in digraph
structure)
technical
section
Terminal 1
Terminal 2
 
simulation model of a bus line operation in differentiated 
traffic conditions. This model could be applied to the 
analysis of each bus line or public transport corridor, 
operating in urban conditions, taking into consideration 
streets’ infrastructure and traffic conditions. The model can 
be helpful for time-table‘s better designing, in scheduling 
procedures, in planning and designing bus routes, and in 
network analysis (with the four steps approach [8]), in 
estimating input data for macro-simulation models. 
In section 2, the general structure of the model is 
described, whilst in Section 3, the mathematical model based 
on the system matrix equations was shown. Section 4 
explains two important models’ elements: bus running time 
between following stops and initial conditions for every 
course on the bus line. In Section 5, an example of possible 
simulation results is presented. Finally, Section 6 presents 
the conclusion of the paper. 
II. 
GENERAL STRUCTURE OF THE MODEL 
It has been initially assumed, that the model will reflect 
processes occurring on a bus line, on meso scale. It will help 
obtain output data more precise than in the case of 
commonly applied macro-simulation models. At the same 
time, the model does not require such a great volume of input 
data as in micro-simulation models. Previously, this kind of 
approach was used in [9], where mathematical description of 
an urban bus route in peak hour traffic was presented. 
The structure of the bus line operation model is based on 
graphs and events theories. The graph theory gives a 
possibility of selecting basic elements of any bus line. 
Whereas, the theory of events is very useful in description of 
all the special events taking place during bus line operation.  
According to the graph theory, any bus line can be 
described as a simple digraph structure (Figure 1), where the 
set of vertexes consists of bus stops on the line, and set of 
edges consists of sections between these stops.  
 
Figure 1.  General structure of the model of bus line operation. 
Majority of bus lines in European cities (excluding circle 
lines) operates in two directions. Last stop in first direction is 
situated on the same terminal as the first stop of second 
direction. Sections between these stops have technical 
character, and are also taken into consideration. 
The description of model’s elements is shown in Table I. 
TABLE I.  
SETS OF ELEMENTS IN DIGRAPH STRUCTURE  
Name of set 
Description 
Set of bus stops 

p
m
v
D
V
m
P
0,...,
;
( )


 
Set of stop-to-
stop sections 

1
0,...,
( );
);
,
(
)
(
1





p
D m
V
v
v
v
D
A
P
m
m
m
O
 
Set of technical 
sections 

)
(
,
);
,
(
)
(
0
0
D
V
v
v
v
v
D
A
P
p
p
T


 
 
In this moment, the bus line can be treated as completion 
of individual modules: “between stops section” – “stop”, 
located at the end of this section. This approach could be 
used in stop-to-stop travel time analysis. On the basis of 
times of departure from following stops, one is able to 
establish the time span between individual stops, forming the 
basis for constructing schedules and also the values of stop-
to-stop speeds. As well, punctuality and regularity indicators 
can be calculated. It is however not possible, to indicate 
reasons for current and potential disorders on the bus line, as 
the information about the time between departures does not 
give any insight into the structure of travel time between 
following stops – how much time of it is the running time 
and how much is dwell time. As a result, it is difficult to 
estimate, if extended time of module completion on a line is 
caused by difficult traffic conditions on a section, or if it is 
the effect of exceeding traffic capacity of a stop, or increased 
numbers of alighting and boarding passengers. In the same 
way, positive effects of privileges for buses (e.g., separated 
bus lanes) are not easy to extract. 
For describing the traffic processes occurring on the bus 
line, the methodology of discrete events has been applied. 
The essence of which is the assumption that times of 
subsequent events are predictable on the basis of previous 
events occurrence. The simulator does not take into account 
the state of a model between subsequent events, it reacts to 
specific events occurring subsequently and the model status 
remains unchanged – until it changes, as a result of previous 
event. Simulation watch moves until the next event from the 
events’ list occurs and then operations provided for this 
event are performed. 
On every stop-to-stop section, a large group of possible 
events influence onto travel time. They are connected with 
any possible stoppings during the line operation at the stops 
areas and at the intersections, e.g., the: moment of stopping 
at the inlet of intersection (because of red signal), the 
moment of stopping just before the stop (because of busy 
stop positions), the moments of start and end of alighting and 
boarding passengers, the moments of start and end of 
opening door, the moment of physical departure from the 
stop. They have fundamental influence on the state of the bus 
line, but their number is individual for any course on the line. 
30
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

RUNNING TIME
RUNNING TIME
START OF ALIGHTING AND
BOARDING AT THE STOP
DEPARTURE FROM THE
STOP
ALIGHTING AND
BOARDING TIME
TIME OF WAITING
FOR POSSIBILITY
TO DEPARTURE
FROM STOP
END OF ALIGHTING AND
BOARDING AT THE STOP
PROCESS
EVENT
Event (m, 1)
Event (m, 2)
Event (m, 3)
Section (vm-1, vm)
Bus stop vm
Section (vm, vm+1)
DEPARTURE FROM THE
STOP
Event (m-1, 3)
START OF ALIGHTING AND
BOARDING AT THE STOP
Event (m+1, 1)
tm
r
tm
s
tm
l
tm+1
r
 
Only few of them are obligatory, while the rest might occur 
or not. 
In the presented simulation model, it is assumed that only 
the most important discrete events should be taken into 
consideration (Figure 2). Three possible events have strong 
influence onto current state of the line: moment of start 
alighting and boarding passengers, moment of end alighting 
and boarding and moment of departure from stop. 
These three discrete events always have a place (except 
request stops), and start three of the most significant 
processes on every stop-to-stop section:  
 
Running time – defined as time interval between 
the moment the bus is starting from one stop and 
stopping at the next one. 
 
Alighting and boarding time – defined as time 
period between the moment of start and the moment 
of end of alighting and boarding passengers, even if 
door is still open. 
 
Time of waiting for possibility to departure – 
defined as time between the moment of end of 
alighting and boarding passengers to the moment of 
physical departure from the stop. 
According to Figure 2, the stopping time consists of 
alighting and boarding time and time of waiting for 
possibility to departure, because of impossibility of start its 
movement. 
 
Figure 2.  Possible events during one stop-to-stop operation. 
All remaining events were aggregated to these three 
processes. The biggest simplification concerns running time, 
where the number of possible influences is the largest. But, 
because of the planning character of the model, and its 
usefulness – this simplification was assumed. If necessary, 
this approach can be completed, as in [10]. 
On the first and last stop (on terminals) – only one event 
is important. In case of beginning stop (number “0”), only 
the moment of departure is important (event 3), in case of the 
last stop on the line – only the moment of start of alighting 
and boarding is considered (event 1). Moment of departure 
from first stop can be estimated as semi-random variable. 
The last part of the structure of the model – is a group of 
buses operating on the line. Final description on every event 
on the bus line has the form (k, j, m, i), where: 
 
k – course number (1, 2, 3, …; even numbers – first 
direction, odd numbers – second direction), 
 
j – individual number of the bus on the line (j = 1, 2, 
…), 
 
m – number of stop (m = 0, 1, 2, …, p), 
 
i – number of event (i = 1, 2, 3). 
Set (2, 3, 10, 3) means that bus number 3 during course 
number 2 has just departed from the stop number 10. 
Was also assumed, that model should have stochastic 
character. Full description of the model’s structure is 
presented in [11]. 
III. 
THE MATRIX MODEL 
For reasons of utility of presented model, it is critical to 
capture dynamics of individual processes occurring on a line, 
in particular the changes of location of subsequent buses in 
time and space. Vehicle movement and connected with it, the 
passenger relocations (described with events), result in 
changes of the system state, the system being a bus line. 
Earlier described elementary occurrences happening during 
each module (between stops section – bus stop) are the 
grounds for developing a matrix system. 
Knowledge of the system state in a current moment and 
of the past system inputs (especially those of random 
character), allows to specify the system state at later 
moments. Dynamics of the model is taken into account by 
changes of traffic conditions on sections between bus stops, 
random changeability of passengers’ streams at bus stops 
and thanks to including the influence of time the buses spend 
at the final terminals on starting moments, and also duration 
of subsequent courses. 
A. Matrix equations  
The proposed model of a bus line operation can be 
expressed as dynamic vector and matrix system of discrete 
events, as following: 

r
j m
k
r
rn
j m
k
r
rw
j m
k
r
j m
k
r
k j m
w
C
u
B
u
B
x
A
x
1
, ,
1
, ,
2
1
, ,
1
3,
, ,
1,1
, ,












 

3,0
, ,
3
1,1
,1
,
2
3,
, ,
1
1,1
, ,
1,1
, ,
j
k
r
m
n j
k
r
j m
k
r
j m
k
r
k j m
x
E
x
E
x
E
x
D
y













 
31
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation


s
j m
k
s
j m
k
s
s
j m
k
s
j m
k
s
j m
k
s
k j m
v
w
C
u
B
x
A
x
A
x
1
, ,
1
, ,
1
, ,
1,1
, ,
2
2
1,1
, ,
1
,1 2
, ,
)
(

















3,0,
,
2
1,1
, ,
1
,1 2
, ,
,1 2
, ,
j
k
s
j m
k
s
j m
k
s
k j m
x
E
x
E
x
D
y












l
j m
k
l
l
j m
k
l
j m
k
l
k j m
w
C
u
B
x
A
x
1
, ,
1
, ,
,1 2
, ,
,1 3
, ,













, , ,0 3
3
,1 3
, ,
2
,1 2
, ,
1
,1 3
, ,
,1 3
, ,
j
k
l
n j m
k
l
j m
k
l
j m
k
l
k j m
x
E
x
E
x
E
x
D
y














The occurrence of each event on a line (taking into 
consideration every bus operating on the bus line ) is defined 
by a system of two equations: 
 
equation of the system state (i.e., (1), (3), (5)), 
 
equation of system outputs (i.e., (2), (4) and (6)). 
The description of all model vectors is given below. 
B. Vectors 
The most vital element of the system is the state vector 
defined only at discrete moments of time, responding to 
occurrence of subsequent events on a line (Table II). It 
consists of current time of simulation (for every vehicle on 
the line in every determined moment of time), occupancy of 
vehicle, current distance from starting stop (every vehicle on 
the line) and scheduled, cumulated  travel time – needed for 
punctuality indicators. 
Vectors of deterministic system inputs are assigned to 
basic movement processes occurring on a line. Two of them 
include information influencing travel of the section between 
bus stops, with and without bus lane – these are section 
lengths and the number of crossroads located on the sections. 
The vector of deterministic inputs influencing the passenger 
exchange includes average intensities of alighting and 
boarding passenger streams, while vector of inputs 
connected with bus waiting for the possibility to leave the 
bus stop focuses average standard time of waiting, average 
length of extending the waiting time and time of covering a 
section according to a time-table.  
Vectors of random system inputs represent uncertainty at 
the system input and contain random component of the time 
of covering the section between bus stops, of passengers 
exchanges and of waiting for the possibility to leave the bus 
stop, as well as random components of the number of 
passengers alighting and boarding at the bus stops.  
Random components for the duration of processes are 
established as random variables from normal distribution of 
zero average values and variances defined for particular 
types, respectively, buses, stops and between stops sections. 
The random components of the number of passengers 
alighting and boarding have been modeled as random 
variables established from the Poisson distribution. 
 
 
 
 
TABLE II.  
INPUT VECTORS IN PRESENTED SIMULATION 
MODEL OF BUS LINE OPERATION  
Name of the 
vector 
Vector 
Description 
State vector 















j m i
k
j m i
k
j m i
k
j m i
k
j m i
k
R
L
P
T
,
,
,
,
,
,
,
,
,
,
,
,
,
x , ,
 
Current simulation time 
Current number of 
passengers inside vehicle 
Current length 
Schedulet travel time 
Vector of 
deterministic 
system inputs 
(section with 
separated bus 
lane) 
















0
0
1
1
1
, ,
rw
m
rw
m
rw
k j m
l
s
u
 
Number of signalized 
intersections 
- 
Length of section with 
separated bus lane 
- 
Vector of 
deterministic 
system inputs 
(section 
without bus 
lane) 

















0
1
1
1
1
, ,
rn
m
rn
m
rn
m
rn
k j m
l
z
s
u
 
Number of signalized 
intersections 
Number of non-signalized 
intersections 
Length of section without 
bus lane 
- 
Vector of 
deterministic 
system inputs 
(alighting and 
boarding) 
















0
0
1
1
1
,
,
b
m
a
m
s
uk j m


 
Average intensity of 
alighting passengers 
Average intensity of 
boarding passengers 
- 
- 
Vector of 
deterministic 
system inputs 
(waiting for 
possibility to 
departure) 



















1
,
,
,
1
,
,
,
1
,
,
1
, ,
0
j m
k
z
lw
j m
k
z
lz
j m
k
l
j m
k
r
t
t
u
P
P
 
Average normal time lost by 
bus at the stop  
Average extended time lost 
by bus at the stop 
- 
Scheduled stop-to-stop 
running time 
Vector of 
random system 
inputs (section) 


















0
0
ˆ
ˆ
,
1
,
,
,
1
,
,
1
,
,
O
O
z
rn
j m
k
z
rw
j m
k
r
j m
k
t
t
w
 
Random component of 
running time (bus lane) 
Random component of 
running time (common lane) 
- 
- 
Vector of 
random system 
inputs 
(alighting and 
boarding) 



















0
ˆ
ˆ
ˆ
1
1
,
1
,
,
1
,
,
m
m
z
s
j m
k
s
k j m
b
a
t
w
A
 
Random component of 
alighting and boarding time 
Random component of the 
number alighting passengers 
Random component of the 
number boarding passengers 
- 
Vector of 
random system 
inputs (waiting 
for possibility 
to departure) 


















0
0
ˆ
ˆ
,
1
,
,
,
1
,
,
1
,
,
P
P
z
lw
j m
k
z
lz
j m
k
l
j m
k
t
t
w
 
Random component of 
normal time lost at the stop  
Random component of 
extended time lost at the stop 
- 
- 
Vector of 
constant 
system inputs 
















0
0
0
,
,
1
,
,
z A
s
j
k
s
j m
k
v
v
 
Constant value 
- 
- 
- 
32
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

System outputs are tightly linked to the system state. 
There can be distinguished 11 output values, which are 
included in three vectors (Table III). These are: drive 
duration at the moment of beginning passenger exchange, 
actual time of covering a section, current distance from the 
starting stop, interval between vehicles at the time of 
reaching a bus stop, drive duration at the moment of 
finishing passenger exchange, alighting and boarding time, 
number of passengers on a bus leaving a bus stop, drive 
duration at the moment of leaving the bus stop, time of 
waiting for the possibility to leave the bus stop, deviation 
from the time table, interval between vehicles at the moment 
of vehicle leaving the stop. On the basis of system outputs 
line functioning quality indicators can be determined, 
including indicators of punctuality and regularity and travel 
comfort. 
TABLE III.  
OUTPUT VECTORS IN PRESENTED SIMULATION 
MODEL OF BUS LINE OPERATION  
Name of the 
vector 
Vector 
Description 
Output vector 
(between stops 
running) 




















r
j m
k
j m
k
r
j m
k
r
j m
k
r
j m
k
h
L
t
T
y
1
,
,
1
,
,
1
,
,
1
,
,
1
,
,
 
Travel time from 
beginning stop 
Section running time 
Distance from 
beginning stop 
Between buses interval 
(before stopping) 
Output vector 
(alighting and 
boarding) 















1
,
,
1
,
,
1
,
,
1
,
,
j m
k
s
j m
k
s
j m
k
s
j m
k
P
t
T
y
 
Travel time from 
beginning stop 
Alighting and 
boarding time 
Occupancy of vehicle 
Output vector 
(waiting for 
possibility to 
departure) 




















1
,
,
1
,
,
1
,
,
1
,
,
1
,
,
j m
k
j m
k
l
j m
k
l
j m
k
l
j m
k
h
d
t
T
y
 
Travel time from 
beginning stop 
Time of waiting for 
possibility to departure 
Deviation from time 
table 
Between buses interval 
(after stopping) 
 
The remaining elements of the model (described in [11]), 
are: matrixes of status, inputs and outputs containing among 
others, established on the basis of empirical studies, running 
time parameters, dwell time and time of waiting for the 
possibility to leave a bus stop. 
IV. 
ESTIMATION OF CHOSEN MODEL 
COMPONENTS 
All matrix elements have been estimated with the help of 
statistical methods, on the grounds of vast measurements’ 
results of bus operation in four Polish cities – mostly with 
the use of GPS receivers. A similar method was used in [12]. 
In total, more than 21 000 departures from the bus stops have 
been registered. Below, the results of estimation of selected 
model’s parameters are presented. 
A. Running time 
The most significant element of a single module on the 
bus line is the running time. At the same time it is the most 
difficult element to determine, due to the number and 
influence of distracting factors. Even in very similar traffic 
conditions, it is possible to obtain very different travel times 
of subsequent buses of a line. In particular, substantial 
differences of travel times occur at the sections where buses 
travel on general access lanes, which are typical for high use 
of capacity and even exhausting the capacity. In the model, 
diversity of sections between stops has been taken into 
account – firstly – in terms of existing or not separate bus 
lanes, next, in terms of the way to isolating or the degree of 
using conventional capacity of a lane. 
In case of section with separated bus lanes, average 
running time for individual types of sections between bus 
stops has been modeled with linear function of multiple 
regression: 

m
r
s
m
r
l
r
m
s
l
t








Dependent variables in this model are: the length of the 
section between following stops (lm [km]) and the number of 
intersections with traffic lights located on this section (sm [-
]).  
Sections with separated bus lanes differ among each 
other, therefore, they have been diversified in terms of 
number of cars turning right with bus lane using, and also 
number of maneuvers connected with access to targets, 
located by the lane, including parking lots on pavements.  
Regression formula in case of section with separated bus 
lane, without essential influence of turning right vehicles’ 
traffic (type AB) – on the basis of measurements: less than 
100 [veh/h]) – on the inlet of signalized intersection is as 
follow: 

m
m
r AB
m
s
l
t





,0 38
14
,1
,
1


If, on the section is located at least junction on which 
more than 100 [veh/h] turning right with bus lane using (type 
AS), then, the average running time can be estimated from 
the other formula: 

m
m
r AS
m
s
l
t





,0 27
,217
,
1


Whereas, in case of frequent (evaluated subjectively) 
additional maneuvers on the bus lane (type AP), connected 
with access to targets, located by the lane (e.g., parking, 
supplies), average running time can be calculated by the 
formula:  

m
m
r AP
m
s
l
t





,018
87
,2
,
1


Bus running time on the sections without separated bus 
lanes can be described by similar regression formula with 
one additional variable. It is number of intersections zm [-], 
without traffic lights, where buses perform subordinate 
relations: 
33
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation


m
r
z
m
r
s
m
r
l
r
m
z
s
l
t











Sections without separated bus lanes have been classified 
in terms of their traffic conditions, assessed by planning 
method. They are determined on the basis of the traffic ratio 
of measured hourly traffic volume to estimated value of 
critical, planning volume, for one direction, r [-], described 
in [13]. These critical planning volumes refer to situations in 
which the car drivers looking for alternative travel paths. The 
traffic volumes should come from measurements – or in case 
of new investments – from microscopic analysis. Below, 
individual formulas for all specified cases were shown.  
As very good traffic conditions (defined as type ZA), 
there were evaluated cases, when traffic ratio r is smaller 
than 0,5. In this situation, the bus speeds are high and limited 
only by drivers: 

)
,0 28 (
,177
,
m
m
m
r ZA
m
z
s
l
t







In this case, running times can be shorter even than in 
case of sections with separated bus lanes (type AB). 
Sections with good traffic conditions were defined as 
sections, where the traffic ratio is smaller than 0,8 (type ZB). 
In practice, occasional blockings of the buses take place:  

)
,016 (
,2 72
,
m
m
m
r ZB
m
z
s
l
t







Medium traffic conditions are most commonly found in 
big Polish cities (type ZC). In this case (no congestion), bus 
speeds are strongly limited by other lane users. This time, the 
traffic ratio is smaller than 1,0. 

)
,013 (
,4 08
,
m
m
m
r ZC
m
z
s
l
t







In presented model, the congestion (type ZD) was 
defined as poor traffic conditions, where traffic ratio is 
bigger than 1,0, but smaller than 1,2. In this case, many car 
drivers look for alternative paths, while buses move slowly 
with frequent stoppings – not only on the inlets of 
intersections. Therefore, the number of junctions is not 
relevant. Regression formula has the form: 

m
r ZD
m
l
t


47
,6
,


The last type of section (ZE) corresponds to a critical 
traffic conditions, where buses operate in permanent 
congestion – the traffic ratio is higher than 1,2:  

m
r ZE
m
l
t
 99
,8
,


Random components of travel times on sections between 
bus stops are generated as random variables from Normal 
distribution with zero mean and variance defined with the 
function of section length. 
B. Initial conditions  
It is of great importance to establish initial values for 
simulation of each course on the line, beginning at the first 
stop (at the terminal). In the model, current time of every 
course duration depends on the average value and random 
component of deviation from time table on the last stop, 
during previous course completed on this terminal. This 
problem was also considered in [14].  
Average value of deviation on the initial stop is 
determined depending on the length of actual reserve of 
operational time on the terminal or the volume of delay of 
reaching the terminal in relation to the time-table moment of 
scheduled departure during the next course. The value of the 
deviation random component is estimated with the use of 
Normal distribution with zero mean and standard deviation 
estimated on the basis of empirical studies. In order to avoid 
extreme cases, during simulation the “three sigma” rule has 
been included.  
Occupancy of a vehicle leaving the initial stop equals the 
number of passengers boarding at this stop. It results from 
the assumption that the bus approaching the bus stop is 
empty and it is only possible for the passengers to board. The 
number of passengers boarding at the initial stop is estimated 
as a random variable from Poisson distribution, where the 
parameter is the average value of passengers’ stream 
intensity and the length of current (simulated) line interval. 
So, on the first stop on the line, state vector can be thus 
represented in the form: 

















,0
,
,0
,
0,
,
,0
,
3,0
, ,
0
j
k
j
k
k j
j
k
j
k
R
b
d
R
x


Other model’s elements have been described in [11]. For 
example, the average alighting and boarding time were 
modeled by non-linear multiple regression formulas, as the 
dependence from numbers of alighting and boarding 
passengers and current occupancy of the bus – for 6 types of 
vehicles (midi, normal and maxi – with low and high level of 
floor). Average time of waiting for possibility to departure 
was varied depending on the bus stop location (near side, far 
side nearest intersection, on the section) and location of stop 
positions on the lane or on bay. 
V. 
SIMULATION RESULTS 
Numerical execution of the model represents author’s 
simulation software, called “AUTOBUS” – developed in the 
Mathematica 6.0 environment. It has been created on the 
basis of demonstrated mathematical, stochastic model. The 
simulation model has been verified by comparing the results 
from simulations of two urban lines with the results of 
independent measurements.  
Functioning of the simulation model has been presented 
on the example of existing Cracow’s bus line No. 130. The 
line was modeled by taking into consideration real traffic 
conditions and true values of passengers’ streams. 
Calculations were conducted for afternoon peak hour, in 
34
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

1
2
3
4
5
Długoś ć trasy ?km?
5
10
15
20
Kierunek
I ? Czas
trwania
kursu ?min?
 
Travel time [min] 
Distance [km] 
 
1
2
3
4
5
Długoś ć trasy ?km?
-3
-2
-1
Kierunek
I ? Odchył ka od rozkł adu jazdy ?min?
 
Distance [km] 
Deviation from 
time table [-] 
 
order to obtain conclusive results of such a simulation – 20 
hours were executed and compared. As a result, the set of all 
variables 
defined 
in 
output 
vectors 
was 
obtained. 
Additionally, “AUTOBUS” offers set of statistics, for 
example: confidence intervals for all calculated variables. 
Figure 3 shows the travel time on the line 130 (only one 
direction), while Figure 4 shows the deviations from time 
table. 
 
Figure 3.  Example of simulation results –travel time on bus line 130 
(blue: mean value of travel time, green – confidence interval for average 
travel time, red – shortest and longest travel time). 
 
Figure 4.  Example of simulation results –deviations from time table on 
bus line 130 (blue: mean value of deviation, green – confidence interval for 
average deviation, red – slowest and highest deviation from time table). 
Similarly, in this way, the changing passengers’ streams 
can be shown, separately for every bus and for whole bus 
line.  
VI. 
CONCLUSIONS 
A realization of the bus line operations is assumed to be a 
sequence of running times between following stops and 
times spent by buses at the stops. In this paper, a single bus 
line model in meso scale was presented, which could help to 
close the gap between existing micro and macro simulation 
models. This model will make easier the comprehensive 
analysis of any bus line operating in urban area. It could be 
used  in: 
 
Scheduling procedures, especially in case of new 
lines, as a first approach, before starting and during 
first phase of operation (designed schedules have to 
be verified by measurements). 
 
Network analysis of public transport, in estimating 
input data for  macrosimulation models of bus 
networks (e.g., VISUM software). Model could be 
useful also for better network calibration. 
 
Feasibility studies of new network elements, when a 
more detailed approach is not required. 
In the further approach, additional elements will be 
attached to the model. For better stopping time description 
also the moments of stoppings just before the stop will be 
considered. The next step should be extending the model of 
effective priorities in traffic lights. Till this moment, in 
Polish cities, this kind of improvements for buses was 
implemented very seldom. 
REFERENCES 
[1] Transit Cooperative Research Program TCRP, Report 100, Sponsored 
by the Federal Transit Administration, “Transit Capacity and Quality 
of Service Manual,” 2nd Edition, Transportation Research Board, 
2003. 
[2] M. Bauer, “Analysis of bus lanes’ incomplete functional efficiency, 
(in Polish)” VIII Conference  Transportation Problems in Cities in 
Motorized Congestion, P15-17 June 2011, Poznań-Rosnówko, 
Poland. 
[3] V. R. Vuchic, “Urban Transit. Operations, Planning and Economics,” 
John Wiley & Sons, Inc., Hoboken, New Jersey 2005. 
[4] A. Ceder, “Public Transit Planning and Operation: Theory, Modeling 
and Practice,” Elsevier, Butterworth-Heinemann, Oxford, UK, 2007. 
[5] M. Mahmoud and J. Hine “Using AHP to measure the perception gap 
between current and potential users of bus services,” Transportation 
Planning and Technology, Vol. 36, No. 1, pp. 4-23. 
[6] J. Zhang, N. Hounsell and B. Shrestha, “Calibration of bus 
parameters in microsimulation traffic modelling,” Transportation 
Planning and Technology, 2012, Vol. 35, No.1, pp. 107-120. 
[7] R. Liu and S. Sinha, “Modelling Urban Bus Service and Passenger 
Reliability,” The Third International Symposium on Transportation 
Network Reliability, 19-20 July 2007, The Hague, Netherlands. 
[8] A. Szarata, Simulation analysis of CO2 emission for different land use 
development schemes, Archives of Transport, Vol. 24, Issue 4, 
Warsaw 2012, pp. 579-591. 
[9] P. Anderson and G. Scalia-Tomba, “A mathematical model of an 
urban bus route,” Transportation Research, 4B, 1981, pp. 249-266. 
[10] R. Bąk, “Simulation Model of the Bus Stop,” Archives of Transport, 
Vol. 22, No 1 / 2010, pp. 6-25. 
[11] M. Bauer, “Influence of street's infrastructure onto bus public 
transport operation,” doctoral thesis, Cracow University of 
Technology, 2008. 
[12] C.E. Cortés, J. Gibsona, A. Gschwender, M. Munizaga and M. 
Zúñiga, “Commercial bus speed diagnosis based on GPS-monitored 
data,” Transportation Research Part C 19 (2011), pp. 695–707. 
[13] A. Brzeziński and A. Waltz, “Construction of hierarchical traffic 
models in road network, doctoral thesis, Warsaw University of 
Technology, 1998. 
[14] W.H. Lin and R.L. Bertini, “Modeling Schedule Recovery Processes 
in Transit Operations for Bus Arrival Time Prediction,” Journal of 
Advanced Transportation, Vol 38, 2004, pp. 347-365. 
 
 
35
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-308-7
SIMUL 2013 : The Fifth International Conference on Advances in System Simulation

