Recognition Method for a Temporary Change in Walking based-on Anomaly Detection
and Classiﬁcation
Shin Morishima∗, Akira Urashima‡, and Tomoji Toriyama§
Faculty of Engineering Toyama Prefectural University5180 Kurokawa, Imizu-shi, Toyama, Japan 939-0398
Email: ∗morisima,‡a-urasim,§toriyama@pu-toyama.ac.jp
Abstract—In recent years, the global population of the elderly
has increased, and one of the challenges faced by this population
is the increased vulnerability to falls. Two approaches to alleviate
this problem are determining actions that cause these falls and
preventing falls using the detection results. A temporary change
in walking (i.e., stumbling and staggering) is a typical cause of
a fall. However, existing studies do not focus on a temporary
change in walking; they only distinguish between walking or
other activities and recognize walking speed. In this paper, we
propose a method to detect the change in walking using change
point detection (i.e., anomaly detection for time series data) and a
classiﬁcation method for the multiple types of change. Moreover,
we assume four cases classiﬁed using available data, and we
propose the parameter setting of the proposed method for each
case to be applied in diverse scenarios. During the evaluation,
four anomalous walking videos (where, anomaly represents a
temporary change) are used. Thus, the accuracy of the anomaly
detection of the proposed method is up to 93.5%, and the four
types of detected anomalous walking are classiﬁed into three
clusters in 89.1% of cases based on each characteristic.
Keywords–Walking recognition; Classiﬁcation; Anomaly detec-
tion; Human activity recognition.
I.
INTRODUCTION
This paper is an extended version of the paper presented
at eTELEMED 2020 [1]; a summary of the major extension
is presented below.
•
We propose a method for parameter setting, which as-
sumes four cases. The method is described in Section
IV.
•
We deﬁne a baseline method to compare the accu-
racy between the proposed and existing methods. The
baseline method is described in Section V-C.
•
The evaluations of the baseline method and new cases
of the proposed method are added.
The global population of the elderly has grown in recent
years, and one of the challenges faced by this population is an
increased vulnerability to falls [2] [3]. Older people are more
likely to be seriously injured by falls; further, falls lead to
expensive hospitalization. In the USA, the cost for fall-related
injuries was approximately $50 billion in 2015 [2]. Human ac-
tivity recognition is a research ﬁeld that focuses on addressing
these problems [4]. The approaches for solving these problems
using human activity recognition are divided into two types.
The ﬁrst approach is fall detection, which can detect falls soon
after they occur. Several studies on this topic have already
been conducted [5]. These studies indicate that this approach
prevents fall-related injuries from becoming severe [6] [7]. The
second approach is detection of actions causing falls, which
can help reduce the incidence of such scenarios. These actions
include stumbling and staggering, and they are caused by a
temporary change in walking gait. Thus, it is necessary to
recognize a change in walking. In addition, the change needs
to be classiﬁed because it includes actions that are not related
to falls, such as standing still. However, existing studies on
walking recognition can distinguish between only walking and
other activities [8], and they can recognize walking speed [9];
however, they do not focus on a temporary change in walking.
Most of these studies recognize activity from common features
among multiple persons if there is a clear difference between
target activities (e.g., walking and sitting). Various methods
can be used to identify these activities. However, detecting a
change in walking is difﬁcult because the difference in each
person is larger than that in each action. In other research areas,
a stumble detection system for powered artiﬁcial legs has been
proposed [10]; however, its application is not possible in cases
without artiﬁcial legs.
In this study, we propose a method to detect a change in
walking using change point detection and anomaly detection
for time series data. Change point detection is performed for
each time series walking data. Although anomaly detection and
parameter setting of the anomaly and change point detection
methods require accumulated data, the effects of individual dif-
ferences are mitigated. Moreover, the accuracy of the method
depends on the parameters. Therefore, we propose a parameter
setting method for multiple cases depending on the type of data
accumulated data. In addition, the classiﬁcation of multiple
types of change using a method that clusters the results of the
change point and anomaly detection is also proposed.
The rest of the paper is organized as follows. Section
II presents related works. Section III presents our proposed
detection and classiﬁcation methods. Section IV presents the
parameter setting method. Section VI evaluates our proposed
method, and Section VII concludes the paper.
II.
RELATED WORK
This section represents existing works of related research
ﬁelds, viz., walking recognition and fall detection, and prereq-
uisite technology of the proposed method, which is an image-
based human posture estimation.
A. Walking Recognition
Walking recognition is one of the research ﬁelds of human
activity recognition, which is human activity recognition is
deﬁned as the ability to recognize human activities using
sensor data [4] [11] [12]. Each recognition method, including
walking recognition, comprises two steps: data collection using
sensors and human activity estimation based on the collected
data. Some examples of sensors are cameras, wearable sensors,
92
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 1. Relationship between this work and existing works.
and object-tagged sensors [13] [14] [15]. Walking recognition
methods also employ these two steps.
Currently, several studies on walking recognition have been
conducted; these studies focus on differences in sensors, target
actions, and estimation methods. Khan et al. have detected
walking and ﬁve other activities (i.e., sitting, standing, washing
hands, driving, and running) using accelerometer data obtained
via change point detection [8]. Further, they employ a genetic
algorithm for the optimizing the parameters of change point
detection to improve its accuracy. Thus, the accuracy of the
detection is 99.4%–99.8% [8]. Trung et al. classiﬁed ﬁve
types of walking (i.e., walking on a ﬂat ground, upstairs/down
stairs, and up/down a slope) with a 90.4% accuracy based
on the accelerometer data using a support vector machine
[16]. Davis and Taylor recognized walking speeds (i.e., normal
speed, half the normal speed, and double the normal speed)
and classiﬁed walking and 11 other activities (e.g., running,
skipping) from the data of video-based four joint coordinates
[17]. This classiﬁcation is based on a threshold calculated
statistically from the motion of the joint coordinates. Haescher
et al. classiﬁed walking speed into four speeds (i.e., 1, 2.5,
4, and 5 km/h) based on the capacitive sensor data [9].
This walking recognition has numerous applications such as
automated surveillance, monitoring systems to identify people
that may be injured or require assistance, and estimation of
the amount of activity [9] [17].
Unlike this study, the above mentioned studies do not focus
on a temporary change in walking. However, this study can be
used in combination with the previously mentioned studies to
detect walking in several activities using the existing methods
and to recognize a change in walking using our method.
B. Fall Detection
Fall detection is another research ﬁeld in human activity
recognition. Two approaches can be adopted to reduce the
damage of a fall.
The ﬁrst is fall detection, which detects a fall after or just
before it occurs. It is classiﬁed into two types; the ﬁrst one is
fall detection, which refers to detection after a fall, and pre-
impact fall detection, which refers to detection just before a
fall [5]. There are several studies on fall and pre-impact fall
detection, which focus on differences in sensors such as an
accelerometer [18] (fall) [19] (pre-impact), a gyroscope [20]
(fall), a video [21] (fall), and a depth sensor [22] (pre-impact).
The second one is detection of a temporary change in
walking, which may cause falls. This approach helps to reduce
the incidence of falls through detection and the provision of
countermeasures to the temporary changes in walking. In this
paper, we propose a detection method of a temporary change.
Figure 1 presents the relationship between this study and the
Figure 2. Overview of the proposed method using dataﬂow.
existing ones, as well as the ﬂow from daily walking to fall. A
temporary change is observed in daily walking if an incident
occurs; some changes lead to falls. Existing studies on walking
recognition target daily walking, and fall detection target falls
or pre-impact falls. This study aims to detect the temporary
change in walking. Therefore, existing studies and this present
study do not exhibit a competitive relationship.
C. Image-Based Human Posture Estimation
In our proposed method, human joint coordinates are
used as input for change point detection. These coordinates
can be extracted using the existing methods. In this paper,
OpenPose [23] is used to extract the coordinates. It out-
puts two-dimensional (2D) 25-joint data per image via deep
learning-based posture estimation. Our proposed method is not
constrained by OpenPose. If coordinates can be obtained, the
output of other image-based posture estimation methods such
as ArtTrack [24] and DeepCut [25] can be used. Our method
can be applied in non image-based methods such as motion
capture or depth sensor.
III.
RECOGNITION METHOD FOR A TEMPORARY
WALKING CHANGE
The input of the proposed method is the coordinate data
of human joints during walking. This method comprises three
steps: change point detection, anomaly detection, and cluster-
ing. It determines anomalous walking, which exhibits behavior
that temporarily differs from daily walking. Anomalous walk-
ing detection can be employed to analyze the causes of falls.
The input is obtained from videos using OpenPose. In this
paper, we use a video (1, 920 × 1, 020 resolution and 30-fps
frame rate) of a person walking. The video of the person is
captured from the front while the person is walking towards
the camera.
Figure 2 presents the overview of the proposed method
using the dataﬂow from the video data to determine anomalous
walking. The preprocessing of the proposed method is the
posture estimation performed by OpenPose. OpenPose has the
ability to detect a human and estimate posture from the video.
93
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Moreover, it outputs joint coordinates, which are 2D 25-point
data obtained from one frame of the video.
The joint coordinate data are inputs of proposed method.
The three steps of the method are presented below.
1)
Change point detection determines whether each joint
point or relationship between two joints is a change
point. The output is the number of change points in
each frame as detection is processed for each joint
point and the relationship of each frame.
2)
Anomaly detection detects anomalous walking using
the number of change points. The result is output per
overall walking data (data from one video).
3)
Clustering classiﬁes the anomalous walking detected
by the second step. It is processed only if input
walking data are detected as anomalies.
The processing of each step is performed via unsupervised
machine learning. It means that manual data labeling is not
required. However, the ﬁrst and second steps need some
preprocessing to determine the parameter of each machine
learning algorithm. Preprocessing involves the preparation of
the parameter determination standard. Thus, parameters are
provided as a value relative to the standard. For example, when
the parameter is three and if the result is greater than three
times the standard, it is considered abnormal. About 1 or 2 min
of walking data are required for each subject. In the evaluation,
we use 20 videos of the daily walking data for each subject,
with an average length of videos of approximately 3s. Thus,
the total time of the walking data is approximately 1 min.
To distinguish daily walking, the terms “daily walking” and
“normal walking” are utilized. “Daily walking” means input
data given by a human as non-anomalous walking, and “normal
walking” means output data detected by the proposed method
as non-anomalous walking. In the next sections, the details of
each step and each parameter are explained.
A. Change Point Detection for Human Joint Data
Change point detection is processed in each frame data
using the target frame and previous frames consecutive to the
target. The data format of the output data of OpenPose is 2D
25-point data per frame. Each data presents the 2D coordinate
of the joint coordinate. Two methods can be employed to deal
with the data; the data are treated as one 50-dimensional (50D)
data or the data are treated as 2D 25-point data. The advantage
of the method that uses it as 50D data, the relationship between
each joint can be considered. As an example of the relation-
ship, if the head position is lower than the shoulder position,
the relationship is considered abnormal because the position of
the head is higher than that of the shoulder in daily walking.
However, when some joints signiﬁcantly change, it affects the
entire result. The effects may cause accuracy loss because
the coordinates of a part of the joints are possibly changed
signiﬁcantly by the misestimation of OpenPose. Conversely, if
the data are processed as 25-point data, the problem does not
occur. Instead, the relationship cannot be considered. To solve
this problem, we propose the use of difference data of all pairs
of joints in addition to the 25-point data. This enables us to deal
with the relationship using the sets of 2D data. In this method,
the misestimation only affects a part of the difference and joint
data, and not the entire result. Hereafter, the difference data of
the pairs of joints are simply called “difference data.”
Figure 3. Dataﬂow of change point detection.
The total number of data is 325, which is obtained from
difference data, which is 300 and joint data, which is 25. The
result of change point detection from these data is output as
the number of change points. In this method, we divide the
result of the joint and difference data to distinguish a change
in the movement of joints and the relationship between joints.
Thus, the output is one 2D data per frame.
Figure 3 presents the change point detection ﬂow as a
dataﬂow. The input data are the joint data of 25 points, and the
difference data consist of all pairs. We employ the multivariate
exponentially weighted moving average (MEWMA) algorithm
as the change point detection algorithm because it only uses
target walking data and is not affected by individual differences
[26]. The MEWMA algorithm uses data from the target frame
and from previous frames consecutive to the target. If the
number of frames is n (i.e., nth frame is the target frame),
the MEWMA vector is deﬁned as
Zi = λXi + (1 − λ)Zi−1|i = 1, 2, 3, . . . n, Z0 = 0
(1)
Xi denotes the input vector, which is the coordinate data of the
joint or the difference data of each frame. The change point
can be detected by utilizing the MEWMA vector as
T 1 < h1, T 2 > h2|T 2 = ZT
n Σ−1
n Zn
(2)
Zn denotes the MEWMA vector and ZT
n its transpose; Σ−1
n
denotes the variance-covariance matrix of Zn; and h1 and
h2 denote the thresholds (0 < h1 < h2): h1 is the case, in
which a change in the movement during walking becomes
small, and h2 is the case when a change in the movement
during walking becomes large. The counter of the change point
is decreased when T 2 < h1, and the counter is increased
when T 2 > h2. This helps distinguish the cases, in which
the movement becomes small or large.
Preprocessing is required to determine the thresholds
(h1, h2). In preprocessing, the average value of T 2 is calculated
using Equation (2) utilizing the data of several minutes of daily
walking. h1 and h2 are calculated by the average value of
T 2 × constant value. Thus, when the value is T 2
d , h1 and
h2 can be represented as T 2
d
g1 and g2T 2
d , respectively. g1 and
94
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

g2 are constant parameters and the determination method of
g1 and g2 is described in Section IV.
Using the MEWMA algorithm for all joints and differ-
ences, the range of the counter value is −25 < counter < 25
(joints) and −300 < counter < 300 (differences). Finally, the
counting results are normalized by dividing by 25 or 300. The
outputs of change point detection are the 2D data, and the
form is suitable for the anomaly detection mentioned in the
next section.
B. Anomaly Detection for the Number of Change Points of
Walking
The input data are 2D data per frame obtained from change
point detection. Anomaly is deﬁned as a temporary change in
the movement in daily walking. Thus, the data of daily walking
are required for each person. The data are prepared as a set
of the result of change point detection for daily walking for a
few minute; this set is called “normal data.”
Anomaly detection is performed in each frame by compar-
ing the normal data and target frame. Thus, anomaly detection
is repeated in each frame by adding target frame data and
removing it after the detection. We use a local outlier factor
(LOF) for anomaly detection as it can be calculated in each
data. Moreover, its feature is suitable for repetition [27]. LOF
is calculated by comparing local densities. The local density
is calculated using reachability distance (RD) expressed as
RDk(p, q) = max(k − distance(q), d(p, q))
(3)
where p and q denote the points of 2D data, d(p,q) is the
Euclidean distance between p and q, and k-distance(q) denotes
the Euclidean distance between q and the k-nearest neighbor of
q. The local density, which is termed local reachability density
(LRD), is expressed as
LRD(p) = (Σq∈kNN(p)RDk(p, q)
k
)−1
(4)
where kNN(p) denotes the set of the k-nearest neighbor of p.
Using the LRD, LOF is expressed as
LOF(p) =
Σq∈kNN(p)
LRD(q)
LRD(p)
k
.
(5)
The value of LOF is large when the target is an outlier. LOF
indicates whether the target frame is an anomaly; however,
the result of the frame is not used to detect anomalous
walking directly, because an anomaly frame may appear in
the misestimation of OpenPose. Therefore, in this method,
the condition of anomalous walking is the walk that includes
two or more continuous anomalous frames. To distinguish
anomalous walking, the walk characteristics are deﬁned as the
average number of change points of the continuous two or
more anomaly frames.
Figure 4 presents an example of anomaly detection. There
are 10-frame data, and the LOF is calculated for each frame.
Figure 4 presents the case of frames 1 and 2. In the ﬁeld of the
LOF calculation, each frame data is deleted after calculation.
The frames identiﬁed as outliers are collected if there are
two or more continuous frames, and the walking including
the frame considered as outlier is identiﬁed as anomalous
walking. The characteristics of anomalous walking are the
average values of the frames considered to be outlier, excluding
the ﬁrst frame of the continuous frame.
Figure 4. Example of the anomaly detection method.
C. Anomalous Walking Classiﬁcation
The 2D characteristic data of anomalous walking are ob-
tained from one video. When there are multiple anomalous
walking videos, clustering algorithms can be used to identify
the characteristics and walking can be classiﬁed. In this paper,
we use K-means clustering, which is a typical clustering
algorithm. In K-means clustering, the parameter given by a
human is only the number of clusters k. In K-means clustering,
each point, which means the characteristics of walking, is
randomly classiﬁed into k clusters. Next, the following two
steps are repeated until convergence.
1)
The center of gravity of each cluster is calculated.
2)
Each point is reclassiﬁed into the cluster, which has
the nearest center of gravity from the point.
By clustering, the detection of anomalous walking and
classiﬁcation of the walks is completed from the walking
videos. In this method, the longer the video, the higher is
the probability of the video to include multiple instances of
anomalous walking, because anomaly detection handles the
video as one data unit. In classiﬁcation, it is assumed that there
is only one instance of anomalous walking per video. Thus,
a long video should be divided per several seconds. However,
videos that are too short are not suitable for the method. The
minimum length of the video is two steps because walking has
a periodicity of two steps.
IV.
PARAMETER SETTING METHOD IN VARIOUS CASES
The accuracy of the proposed method largely depends on
the parameter value. The optimal parameters depend on the
individual and the type of temporary changes in walking.
Therefore, parameters should not be set in advance, but instead
be determined for the given data using an appropriate method.
In this paper, we propose a method for the parameter setting
for multiple cases, under the assumption that sufﬁcient data
are not available.
A. Common Parts of the Parameter Setting Method
In this method, parameters that need to be determined are
as follows.
•
n: The number of frames to calculate the MEWMA
vector (Equation (1)).
•
λ: The weight of the input vector in Equation (1) (0 ≤
λ < 1).
•
g1, g2: The parameters for determining the threshold
value of change point detection. The parameters of
95
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE I. Assumed cases in the proposed method.
Daily walking
Anomalous walking
Individual data
Case 1
⃝
⃝
⃝
Case 2
⃝
⃝
×
Case 3
⃝
△
×
Case 4
⃝
×
×
joint data are deﬁned as gc1 and gc2, and the param-
eters of difference data are deﬁned as gd1 and gd2.
•
l: The threshold of anomaly detection of LOF. If the
value of LOF > l, the frame is identiﬁed as outlier.
There are seven parameters, and it is impossible to ﬁnd the
best combination of these parameters because of the risk of
combination explosion. Therefore, we use a greedy algorithm
to determine the parameters. The greedy algorithm is used
for repeating the two steps, which select a parameter and
determine the best condition when only the selected parameter
is changed. The repetition is performed until all parameters
are determined. The order of the parameters to be changed is
determined by the order of the calculations. The order is n, λ,
gc1, gc2, gd1, gd2, and l.
The results vary depending on which indicator is targeted
for optimization. In the next sections, the assumed cases and
the indicators corresponding to the cases are explained.
B. Assumed Cases and Parameter Setting for the Cases
The available data for the parameter setting are different
from the cases. The data required in this method are those of
daily walking and anomalous (temporary change) walking for
each individual. One of the requirements is the presence of
sufﬁcient data for each individual. Therefore, there are three
requirements for the data. We assume ﬁve cases, depending on
which requirements the data satisfy.
Table I represents the assumed cases. The requirement
of anomalous walking is divided into three cases caused by
the multiple types of anomalous walking. Anomalous walking
is classiﬁed into two categories, in which the movement
becomes small or large. The circle indicates that both data
are available, whereas the triangle indicates that only one
data point is available. The cross indicates that no data of
anomalous walking is available. The requirements of daily
walking and individual data are simply divided by whether
the data are available. If the data are not available, the method
is not applicable. Therefore, Case 4 has the smallest number
of data.
Figure 5 presents the ﬂowchart of the parameter setting.
The indicator changes because of the requirement of anoma-
lous walking. If data of anomalous walking are fully available,
the F-measure is used as an indicator and calculated using
precision and recall as expressed in Equations (6), (7), and
(8):
precision =
TP
TP + FP
(6)
recall =
TP
TP + FN
(7)
F − measure = 2 × precision × recall
precision + recall
(8)
Figure 5. Flowchart of parameter setting.
where TP denotes true positive, FP denotes false positive, and
FN denotes false negative. In other cases, the F-measure cannot
be calculated because the calculation of TP requires data of
anomalous walking. Therefore, in these cases, the FP rate is
used. The FP rate is calculated using the ratio wherein daily
walking is assessed as anomalous walking. The calculation of
the FP rate is feasible because the data of daily walking are
available in all cases. In general, the FP rate and TP rate are
inversely correlated. A threshold is set for the FP rate, and
parameters are selected such that the FP rate is below and
closest to the threshold. Subsequently, if part of the data of
anomalous walking are available, its relational parameters are
(gc1 and gd1 or gc2 and gd2) changed so that the F-measure
is maximized.
V.
EVALUATIONS
We evaluated the accuracy of the proposed method using
four types of anomalous walking. Section V-A shows the detail
of anomalous walking and subsequent sections show evaluation
results.
A.
Evaluation Method and Environment
In the proposed method, we evaluate the accuracy of the
detection and classiﬁcation of anomalous walking. Thus, it is
important to prepare data of anomalous walking, for which the
correct answer is known. We prepare the data of daily walking
and change in walking from daily walking to anomalous
walking. We included three adults as subjects. The detail
of walking is presented in Figure 6. The walks start 6.6 m
away from the camera and change to anomalous walking after
reaching 2.4 m. The following are the four types of anomalous
walking.
•
Back: Go back one step and start walking again.
•
Side: Walk 40 cm from side-to-side.
•
Stop: Stop and start walking again.
•
Wide: Take one large step (1 m).
The resolution of the videos is 1, 920 × 1, 020, and the frame
rate is 30 fps. Each subject performs each type of walking
(daily walking and four types of anomalous walking). Thus,
the number of data of each type is 60. The average number of
frames of each type of walk is presented in Table II.
96
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 6. Walking during evaluation.
TABLE II. AVERAGE NUMBER OF FRAMES IN EACH WALKING TYPE.
Walking type
Daily walking
Anomalous walking
Daily
91
0
Back
49
83
Side
39
67
Stop
50
58
Wide
39
25
B. Transition of the Number of Change Points in Change Point
Detection
In this section, the transition of the number of change
points is presented. The transition of the number of change
points was achieved using Case 2 to summarize the results of
all subjects. It is an interim result of the proposed method;
however, it presents an overall trend of each type of anoma-
lous walking. The data of daily walking is used only when
determining the parameters, and change point detection is
performed for the four types of anomalous walking.
Figure 7. Transitions of the number of change points of joint data.
Figure 8. Transitions of the number of change points of difference data.
Transitions of the number of change points are presented
in Figures 7 and 8. These ﬁgures show the average number of
change points for 60 walks performed by three subjects. The
x-axis indicates normalized time; 0-1 indicate daily walking,
and 1-2 indicate anomalous walking. The boundary between
daily walking and anomalous walking is determined by human
conﬁrmation in every frame. The y-axis shows the normalized
number of change points. The data are plotted every 0.1 point
on the x-axis as the average number of change points in the
range. The positive values in the result indicate a change
from walking movements to intense movements, whereas the
negative values indicate a change in movements to small
movements. Even for daily walking, the values of the joints
are positive because of the periodic change in foot movement.
However, the relationship between the joints does not change,
and the values of difference are almost 0. Figures 7 and 8
demonstrates that the transition of the number of the change
points changes between daily walking and anomalous walking;
further, it is different in each type of anomalous walking. In
Side and Wide, the values are both positive; however, a change
in the difference in Wide is smaller than that in Side. The
change in Wide is only a change in stride, and the change in
the positional relationship between the joints of the body is
smaller than that in Side. With regard to Stop and Back, the
values of Stop are smaller than those of Back, and Stop is
characterized by the temporal stopping of the movement of all
joints. Thus, this method can detect the difference between
each type of anomalous walking. Therefore, the proposed
method can be used for analyzing the trend of each walking
type. Moreover, the result of change point detection can be
utilized for anomaly detection and classiﬁcation. However, in
the actual operation, the types are not provided. Thus, an
analysis should be conducted after this classiﬁcation if the
method is used for the analysis.
C. Accuracy Evaluation of Anomalous Walking Detection by
Comparison with the Baseline Method
We evaluate the accuracy of anomaly detection of the
proposed method by performing a comparison between the
proposed and existing methods. However, it is difﬁcult to
perform direct comparison as the existing methods for walking
recognition do not target temporary changes in walking, as
previously mentioned in Section II. Therefore, we deﬁne a
statistics threshold-based method, which is one of the typical
97
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE III. RESULT OF ANOMALY DETECTION FOR EACH TYPE OF
ANOMALOUS WALKING IN THE PROPOSED METHOD.
Walking type
Subject A
Subject B
Subject C
Total
TP
FP
TP
FP
TP
FP
TP
FP
Back
20
0
20
0
20
1
60
1
Side
14
1
16
1
19
1
49
3
Stop
20
0
20
1
20
2
60
3
Wide
16
2
20
1
16
2
52
5
Total
70
3
76
3
75
6
221
12
TABLE IV. RESULT OF ANOMALY DETECTION FOR EACH TYPE OF
ANOMALOUS WALKING IN THE BASELINE METHOD.
Walking type
Subject A
Subject B
Subject C
Total
TP
FP
TP
FP
TP
FP
TP
FP
Back
19
11
20
9
19
5
58
25
Side
17
4
20
16
20
2
57
22
Stop
13
5
18
9
14
4
45
18
Wide
13
6
13
5
15
7
41
18
Total
62
26
71
39
68
18
201
83
techniques in human activity recognition, including walking
recognition [17] [28], as a baseline method and compare its
accuracy with that of the proposed method.
1) Baseline method: In walking recognition, the data of
waist movement are often utilized because waists are close to
the center of gravity of humans. Moreover, the movements of
the center of gravity are related to anomalous walking targeted
in this study [28] [29]. Therefore, the baseline method uses
the coordinate data of the waist for anomaly detection. The
absolute coordinate data of the waist cannot be utilized as they
are retrieved from the video. Therefore, the relative coordinate
data from the neck are used because the coordinate data of
the neck are on the central line of the body, and the change in
the relative position between the neck and the waist is small
in daily walking. It is divided by the ratio of the distance of
each frame between the neck and the waist and the distance at
the start of walking, because the size of the body is changed
based on the distance from the camera. If the x-coordinate after
the correction is signiﬁcantly changed, walking is judged as
anomalous walking. The average (m) and standard deviation
(σ) of the x-coordinate are calculated, and if the x-coordinate
is beyond the range of m ± 2.2σ, the walking is judged as
anomalous walking. The constant value “2.2”, which is the
parameter of the baseline method, is determined so that the
F-measure is maximized.
2) Comparison result: Tables III and IV present the result
of the anomaly detection for each type of anomalous walking.
In the proposed method, Case 1 is assumed, and the parameters
are detected by the greedy algorithm described in Section
IV. To avoid overﬁtting, cross-validation is performed by
dividing the number of each type of data by 15 and 5, which
are indicated as training and test data. Therefore, four sets
of parameter exist. Table V presents all parameter sets; the
parameters are of different combinations, even in the same
subject. Therefore, multiple local solutions in the parameter
setting algorithm exist.
In Tables III and IV, TP and FP denotes true positive and
false positive respectively. The number of data of each walking
type and each subject is 20. Thus, if TP is 20, the TP rate is
100%. FP indicates that daily walking is misjudged as anoma-
lous walking. Each video includes daily walking because the
walking is changed from daily walking to anomalous walking.
Therefore, the number of data of daily walking is 20 in each
walking type and each subject. Comparing each method, the
precision is 94.8%, recall is 92.0%, and accuracy is 93.5% in
the proposed method; the precision is 83.6%, recall is 70.8%,
and accuracy is 74.6% in the baseline method. The accuracy
is calculated using Equation (9)
accuracy =
TP + TN
TP + FP + TN + FN
(9)
where TN is the true negative. TN and FN are not shown in the
table since they can be calculated by (240 (the total number
of data) −TPorFP). All indicators show the performance of
proposed method is above the baseline method. Moreover, the
accuracy of the proposed method is high (> 90%) according
to the standards in [4].
The difference of FP between the proposed and baseline
methods is larger than that of TP. As shown in Section V-B,
there are periodical foot movement even in daily walking. The
baseline method may misjudge such movements as anomaly.
In contrast, the proposed method can avoid the misjudgement
using both joint and difference data.
D. Accuracy Evaluation of Anomalous Walking Detection by
Comparison between Each Case
Table VI lists the result of the anomaly detection of each
case of the proposed method. In Case 4, the condition of the FP
rate is ≤ 10%. Please note that the FP rate can be away from
10% because the used data of parameter setting and accuracy
evaluation is different. In this evaluation, the initial value of
parameter setting is randomly detected. In actual cases, the
parameter of Case 2 is useful for the initial value. Therefore,
the parameter sets are summarized in Table VII for reference.
Please note that there are four sets because the evaluation is
performed in cross validation.
The performance indicators are summarized in Table VIII.
In comparison, accuracy decreases as the amount of available
data type decreases. However, even in Case 4, the accuracy
is higher than that of the baseline method. In Case 4, the TP
rate is lower than that of the baseline method. The condition
of FP rate should be higher than 10% to avoid it because the
TP rate is inversely proportional to the FP rate.
The cases of the proposed method can be switched as data
are collected. Therefore, in actual operation, the parameter
setting method should be selected depending on the data
available at the start, and it should be switched as data are
collected.
Based on the comparison between Cases 1 and 2, the
difference in accuracy is small. However, the difference is
caused because a part of the accuracy of Case 2 is signiﬁcantly
low. Table IX shows the details of the results of Case 2. The
TP of Wide of Subject C is 9, and the TP rate is 45%. The
reason for the low TP is the unsuitability of the parameters
for the subject because Case 2 cannot consider individual
differences. To avoid this problem, the proposed method should
be performed as Case 1, thereby collecting as much data as
possible.
By comparing Cases 3 and 4, it can be inferred that the
accuracy is improved not only by increasing the TP of Side
and Wide but also by decreasing the FP of Stop as FP is
98
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE V. PARAMETER SETS OF CASE 1 IN THE PROPOSED METHOD
Parameters
Subject A
Subject B
Subject C
n
31
36
32
34
38
32
31
38
31
35
36
31
λ
0.6
0.8
0.58
0.5
0.51
0.62
0.34
0.51
0.05
0.43
0.8
0.51
gc1
1000
1000
100
1200
1200
100
1000
1200
80
1560
1000
100
gc2
3.4
3
4.2
4.6
3
4.2
3.6
3
4.2
1.6
3
5
gd1
820
900
300
1580
1160
1120
1260
1240
700
1260
680
1200
gd2
5.4
8
4.4
4
8
4.4
4
8
4.4
5.2
7.2
4.2
l
2.3
4.2
2.2
3.1
3.8
2.2
3.2
3.5
2.8
3.1
4.2
2.2
TABLE VI. RESULT OF ANOMALY DETECTION IN THE PROPOSED METHOD
FOR EACH CASE.
Back
Side
Stop
Wide
Total
TP
FP
TP
FP
TP
FP
TP
FP
TP
FP
Case 1
60
1
49
3
60
3
52
5
221
12
Case 2
59
6
52
0
60
3
48
8
219
17
Case 3
60
8
50
4
60
4
32
1
202
17
Case 4
60
7
30
4
60
8
31
1
181
20
TABLE VII. PARAMETER SETS OF CASE 2
Parameters
Set 1
Set 2
Set 3
Set 4
n
15
31
34
35
λ
0.5
0.56
0.44
0.60
gc1
800
1100
1400
1400
gc2
2
4
4.2
4.2
gd1
800
1260
1240
1120
gd2
2
3.6
3.6
3.6
l
4.5
2
2.3
2.3
caused by the daily walking being misjudged as a temporary
change. Therefore, a part of the data of anomalous walking
can improve the accuracy of anomaly detection.
Comparing the results of each walking type, the TP of
Back and Stop is 100% except for Case 2. This indicates that
changes in movement that become small are easy to detect
using the proposed method. This is because daily walking
includes periodic foot movement and the feature prevents
the detection of Side and Wide. Therefore, if you attach
importance to the TP of Side and Wide, the indicator using
parameter setting should be included in the conditions of the
TP of Side and Wide. For example, the condition of the
maximization of the F-measure while satisfying the TP rate
of each type of anomalous walking is more than 90%.
E. Anomalous Walking Classiﬁcation
Clustering is performed in the TP of Case 2 in anomaly de-
tection. For accuracy evaluation, Case 2 is evaluated via cross-
validation. However, the TP cases detected via cross validation
are not suitable for clustering evaluation as the features of
anomalous walking are calculated based on different parameter
sets. Therefore, Set 1 of Table VII is used for all data to detect
anomalous walking. Case 2 is used so that the same parameters
can be used for all data of subjects.
Table X presents the result of clustering into four clusters.
The number of clusters is the same as that of walking types.
Each cluster is indicated by a number because of unsupervised
clustering. In this result, clustering is performed separately
for each subject, and we group each cluster of each subject
with the highest match rate. Clustering does not classify four
types of walks into four clusters. Back and Stop are grouped,
and the clusters appear divided, such as Back and Stop, Side,
TABLE VIII. SUMMARY OF PERFORMANCE INDICATORS OF TABLE VI
(%).
TP rate
FP rate
Precision
Recall
Accuracy
Case 1
92.1
5.0
94.8
92.1
93.5
Case 2
91.2
7.1
92.8
91.3
92.0
Case 3
84.2
7.1
92.2
84.2
88.5
Case 4
75.4
8.3
90.0
75.4
83.5
TABLE IX. RESULT OF ANOMALY DETECTION IN CASE 2.
Walking type
Subject A
Subject B
Subject C
Total
TP
FP
TP
FP
TP
FP
TP
FP
Back
20
4
20
1
19
1
59
6
Side
16
0
18
0
18
0
52
0
Stop
20
1
20
0
20
2
60
3
Wide
19
3
20
1
9
4
48
8
Total
75
8
78
2
66
7
219
17
Wide, and others. To explain this result, the characteristics
of each walking type are plotted in Figure 9. Back and
Stop overlap and create the same cluster, indicating that the
movement tendencies of Back and Stop are the same, and that
the difference is only the magnitude of the value. The trend is
probably caused by the stopping motion because Back includes
the motion of Stop. This is because stopping is required to
switch the front step to the back step. The differences indicate
the stopping time length.
We perform clustering into three clusters based on the
grouping, and the result is presented in Table XI. In this result,
the anomalous walking is classiﬁed into three clusters (Back
and Stop, Side, and Wide), and the accuracy rate is 89.1%.
The rate is medium as per the standard of [4], and it classiﬁed
walks better than the existing method of walking recognition.
In terms of anomaly detection, clustering may exhibit
Figure 9. Characteristics of anomalous walks of each type of walking.
99
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

TABLE X. RESULT OF THE CLASSIFICATION INTO FOUR CLUSTERS FOR
EACH TYPE OF ANOMALOUS WALKING.
Walking type
Cluster 1
2
3
4
Back
46
0
7
1
Side
0
52
4
2
Stop
50
0
10
0
Wide
0
2
13
33
TABLE XI. RESULT OF THE CLASSIFICATION INTO THREE CLUSTERS FOR
EACH TYPE OF ANOMALOUS WALKING.
Walking type
Cluster 1
2
3
Back
46
0
8
Side
0
54
4
Stop
58
0
2
Wide
0
10
38
individual differences of walking. Figure 10 presents the plots
of the same data in Figure 9, which are indicated by colors
according to each subject. For Side and Wide, the ﬁgure
indicates that the subjects have different tendencies of point
distribution.
VI.
DISCUSSION
According to the evaluation results, in the proposed
method, the accuracy of detection and classiﬁcation of anoma-
lous walking is sufﬁcient compared to other human activity
recognition methods [4]. However, the proposed method re-
quires the data of subjects to set parameters. Thus, it can
be used to detect abnormal walking in a particular person.
Therefore, the main application could be the reduction of
incidents in nursing homes and companies that are repeatedly
used by speciﬁc people. In this paper, we did not evaluate the
accuracy in the elderly, and for practical use, future research
will need to conduct experiments in the elderly.
VII.
CONCLUSIONS
Detecting the temporary change in walking that causes falls
can help alleviate problems such as expensive hospitalization
and injury. However, existing methods only recognize the
walking speed or whether a person is walking. In this paper,
we proposed an anomalous walking detection and classiﬁcation
method that employs three processes: change point detec-
tion, anomaly detection, and clustering. Thus, instances of
anomalous walking were detected in 92.1% of cases using
Figure 10. Characteristics of anomalous walks for each subject.
240 videos that included the change from daily walking
to anomalous walking. Furthermore, in 89.1% of cases, the
detected instances of anomalous walking can be classiﬁed into
three clusters. The average length of the video is 87 frames
(30 fps) for the longest motion. The result indicates that the
proposed method can detect and classify a temporary change
in walking. Moreover, this method can be used to the analyze
the action that causes falling. We evaluated the method using
video data, whereas the required input of the method is the
coordinate data of the joints. Thus, the method has a wide
range of application. For example, the method can be applied
to wearable technology such as motion sensors if it can obtain
the coordinates of a sufﬁcient number of joints. In practical
use, the application of the method will be expected for older
people because they are vulnerable to falls. Thus, in future
work, we will additionally perform evaluations for the elderly
to verify the effectiveness of the method for elderly.
ACKNOWLEDGMENT
We would like to thank Editage (www.editage.com) for
English language editing.
REFERENCES
[1]
S. Morishima, M. Haruta, A. Urashima, and T. Toriyama, “Detec-
tion and Classiﬁcation Method of Temporary Change of Walking,”
in Proceedings of the Twelfth International Conference on eHealth,
Telemedicine, and Social Medicine, Mar. 2020.
[2]
C. S. Florence, G. Bergen, A. Atherly, E. Burns, J. Stevens, and
C. Drake, “Medical Costs of Fatal and Nonfatal Falls in Older Adults,”
Journal of the American Geriatrics Society, vol. 66, no. 4, Mar. 2017,
pp. 693–698.
[3]
Y. K. Haddad, G. Bergen, and C. Florence, “Estimating the Economic
Burden Related to Older Adult Falls by State,” Journal of Public Health
Management and Practice, vol. 25, no. 2, Mar. 2019, pp. E17–E24.
[4]
Z. Hussain, M. Sheng, and W. E. Zhang, “Different Approaches for
Human Activity Recognition: A Survey,” CoRR, vol. abs/1906.05074,
Jun. 2019, pp. 1–28.
[5]
L. Ren and Y. Peng, “Research of fall detection and fall prevention
technologies: A systematic review,” IEEE Access, vol. 7, 2019, pp.
77 702–77 722.
[6]
P. Tsinganos and A. Skodras, “A Smartphone-based Fall Detection
System for the Elderly,” in Proceedings of the 10th International
Symposium on Image and Signal Processing and Analysis, Sep. 2017,
pp. 53–58.
[7]
S.-H. Cheng, “An intelligent fall detection system using triaxial ac-
celerometer integrated by active RFID,” in Proceedings of the 13th
International Conference on Machine Learning and Cybernetics, Jul.
2014, pp. 517–522.
[8]
N. Khan, S. McClean, S. Zhang, and C. Nugent, “Optimal Parameter
Exploration for Online Change-Point Detection in Activity Monitoring
Using Genetic Algorithms,” Sensors, vol. 16, no. 1784, 2016, pp. 1–16.
[9]
M. Haescher, D. J. C. Matthies, G. Bieber, and B. Urban, “CapWalk:
A Capacitive Recognition of Walking-based Activities As a Wearable
Assistive Technology,” in Proceedings of the 8th ACM International
Conference on PErvasive Technologies Related to Assistive Environ-
ments, Jul. 2015, pp. 35:1–35:8.
[10]
F. Zhang, S. E. D ’ Andrea, M. J. Nunnery, S. M. Kay, and H. Huang,
“Towards Design of a Stumble Detection System for Artiﬁcial Legs,”
IEEE Transactions on Neural Systems and Rehabilitation Engineering,
vol. 19, no. 5, Oct. 2011, pp. 567–577.
[11]
J. Aggarwal and M. Ryoo, “Human Activity Analysis: A Review,” ACM
Computing Surveys., vol. 43, no. 3, Apr. 2011, pp. 16:1–16:43.
[12]
J. Yang, J. Lee, and J. Choi, “Activity Recognition Based on RFID
Object Usage for Smart Mobile Devices,” Journal of Computer Science
and Technology, vol. 26, no. 2, Mar. 2011, pp. 239–246.
100
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

[13]
L. Chen, J. Hoey, C. Nugent, D. Cook, and Z. Yu, “Sensor-based Activ-
ity Recognition,” IEEE Transactions on Systems, Man, and Cybernetics,
Part C (Applications and Reviews), vol. 42, no. 6, 2012, pp. 790–808.
[14]
J. K. Aggarwal and L. Xia, “Human activity recognition from 3d data:
A review,” Pattern Recognition Letters, vol. 48, 2014, pp. 70–80.
[15]
S. Wang and G. Zhou, “A review on radio based activity recognition,”
Digital Communications and Networks, vol. 1, no. 1, 2015, pp. 20–29.
[16]
N. T. Trung, Y. Makihara, H. Nagahara, Y. Mukaigawa, and Y. Yagi,
“Inertial-sensor-based Walking Action Recognition usingRobust Step
Detection and Inter-class Relationships,” in Proceedings of the 21st
International Conference on Pattern Recognition (ICPR 2012), Nov.
2012, pp. 3811–3814.
[17]
J. W. Davis and S. R. Taylor, “Analysis and recognition of walking
movements,” in Proceedings of International Conference on Pattern
Recognition, Aug. 2002, pp. 315–318.
[18]
A. Shahzad and K. Kim, “FallDroid: An Automated Smart-Phone-
Based Fall Detection System Using Multiple Kernel Learning,” IEEE
Transactions on Industrial Informatics, vol. 15, no. 1, 2019, pp. 35–44.
[19]
A. Shahzad, S. Ko, S. Lee, J. Lee, and K. Kim, “Quantitative assessment
of balance impairment for fall-risk estimation using wearable triaxial
accelerometer,” IEEE Sensors Journal, vol. 17, no. 20, 2017, pp. 6743–
6751.
[20]
F. Riva, M. Toebes, M. Pijnappels, R. Stagni, and J. van Dien,
“Estimating fall risk with inertial sensors using gait stability measures
that do not require step detection,” Gait & Posture, vol. 38, no. 2, 2013,
pp. 170 – 174.
[21]
K. Miguel, A. Brunete, M. Hernando, and E. Gambao, “Home Camera-
Based Fall Detection System for the Elderly,” Sensors, vol. 17, Dec.
2017, p. 2864.
[22]
M. Li, G. Xu, B. He, X. Ma, and J. Xie, “Pre-impact fall detection
based on a modiﬁed zero moment point criterion using data from kinect
sensors,” IEEE Sensors Journal, vol. 18, no. 13, 2018, pp. 5522–5531.
[23]
Z. Cao, T. Simon, S. Wei, and Y. Sheikh, “Realtime Multi-Person 2D
Pose Estimation using Part Afﬁnity Fields,” in Proceedings of the 2017
IEEE Conference on Computer Vision and Pattern Recognition, Jul.
2017, pp. 1302–1310.
[24]
E. Insafutdinov et al., “ArtTrack: Articulated Multi-Person Tracking
in the Wild,” in Proceedings of 2017 IEEE Conference on Computer
Vision and Pattern Recognition (CVPR), Jul. 2017, pp. 1293–1301.
[25]
L. Pishchulin et al., “DeepCut: Joint Subset Partition and Labeling
for Multi Person Pose Estimation,” in Proceedings of the 2016 IEEE
Conference on Computer Vision and Pattern Recognition (CVPR), Jun.
2016, pp. 4929–4937.
[26]
C. A. Lowry, W. H. Woodall, C. W. Champ, and S. E. Rigdon, “A
Multivariate Exponentially Weighted Moving Average Control Chart,”
Technometrics, vol. 34, 1992, pp. 46–53.
[27]
M. M. Breunig, H.-P. Kriegel, R. T. Ng, and J. Sander, “Lof: Iden-
tifying density-based local outliers,” in Proceedings of the 2000 ACM
SIGMOD International Conference on Management of Data, May 2000,
pp. 93–104.
[28]
C. Wan, L. Wang, and V. V. Phoha, “Survey on Gait Recognition,”
ACM Computing Surveys, vol. 51, no. 5, Aug. 2018, pp. 89:1–89:35.
[29]
M. Uelschen and H.-J. Eikerling, “A Mobile Sensor System for Gait
Analysis supporting the Assessment of Rehabilitation Measures,” in
Proceedings of the 6th ACM Conference on Bioinformatics, Computa-
tional Biology and Health Informatics, Sep. 2015, pp. 96–105.
101
International Journal on Advances in Life Sciences, vol 12 no 3 & 4, year 2020, http://www.iariajournals.org/life_sciences/
2020, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

