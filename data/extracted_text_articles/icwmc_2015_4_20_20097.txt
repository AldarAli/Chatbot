Frequency Hopping for Fair Radio Resources Allocation in TVWS
Mohamed Hamid
University of G¨avle
Communications Systems Lab (CoS),
KTH Royal Institute of Technology.
G¨avle, Sweden
Email: mohamed.hamid@hig.se
Niclas Bj¨orsell
University of G¨avle
G¨avle, Sweden
Email: niclas.bjorsell@hig.se
Abstract—Using frequency hopping for fair resources allocation
in TV white spaces is proposed and evaluated in this paper.
The degree of fairness is judged by the achieved throughput
by different secondary users. The throughput of the secondary
users is determined by their permissible transmission power and
the interference from the TV and other secondary users. The
permissible transmission power for secondary users in TV white
spaces in different channels is investigated. The main concern of
calculating the permissible secondary user transmission power is
protecting the primary TV receivers from harmful interference.
With the aid of SPLAT (RF Signal Propagation, Loss, And
Terrain analysis tool), the received TV signal power in a study
case of the surroundings of the city of G¨avle is fetched. The
interference from the TV transmission into the free channels is
measured in six different locations. The simulated system is a
deployed Wi-Fi access points in a building representing an ofﬁce
environment in an urban area. Moreover, the size of the hopping
set and the number of APs inﬂuences are investigated.
Keywords–TV white spaces; Wi-Fi Access Points; Secondary
Spectrum Access; Frequency Hopping; Throughput.
I.
INTRODUCTION
Using cognitive radio (CR) enables ﬂexible access to the
wireless spectrum, which can improve efﬁciency in spectrum
utilization signiﬁcantly. CR is proposed at ﬁrst in [1] to
mitigate the spectrum scarcity problem by enabling dynamic
spectrum access (DSA), which allows unlicensed users, so
called secondary users (SUs,) to identify unutilized channels
in the licensed spectrum and utilize them opportunistically
as long as they do not cause any harmful interference to
the communication by the legacy spectrum primary users
(PUs). The temporarily unused portions of spectrum are called
spectrum white spaces (WS) that may exist in time, frequency,
and space domains.
In [2], using geo-location database for accessing spectrum
holes is proposed instead of performing spectrum sensing,
which has extensively used in literature. With a geo-location
database approach, the SU need to reports its location into a
database, which then tells the SU the available spectrum to
use with the associated transmission parameters. Geo-location
database is attractive when the activity pattern of the PU is
highly predictable or slowly varying over time as the terrestrial
TV transmission where the free of use channels are called TV
white space (TVWS).
It is important to bear in mind that SU should not cause any
harmful interference to the PUs. In the case of terrestrial TV
broadcasting, it means that the SU cannot use the same chan-
nel. However, interference caused by SUs is not only limited to
co-channel interference. In particular, in short-range scenarios,
the adjacent channel interference is an equally severe problem.
In [3], an indoor home scenario with cable, rooftop antenna and
set-top antenna reception of TV was analyzed. The spectrum
reuse opportunities for SUs have been determined, using the
number of channels where it is possible to transmit without
causing harmful interference to TV receivers as performance
measure. A consequence is that the transmission capacity will
depend on which of the free channels a SU is assigned. Free
channels that are exposed to interference from either local or
neighbouring TV masts will have lower throughput. One way
to allocate the available channels in a fair way among the
users is to switch channels using a pseudo random sequence
i.e., using frequency hopping.
In the literature, the most related work is reported in
[4] and [5]. In [4], the potentials and performance of Wi-Fi
like networks deployment in TVWS are studied. In [5], the
attainable throughput of Wi-Fi systems deployed in TVWS is
studied compared to the current deployment approach in ISM
band.
In contrast of the related work in the literature, this
paper considers TV reception protection, TV transmission
interference into free channels and the secondary to secondary
interference to provide a full picture for a secondary access
scenario. Moreover, a combination of measured data together
with simulations are used to have a realistic representative
environment. Furthermore, in this paper frequency hopping
is adopted as a way to distribute the available free channels
among the secondary users. Most observably, the spectrum
leakage from the active TV channels into the free channels
is empirically evaluated, which is a distinct contribution of
this paper.
The rest of this paper is organized as follows. Section
II introduces the system model including TV as a primary
system, SU power assignment and propagation model. In
Section III, the frequency hopping framework is motivated and
presented. The methodology of obtaining the parameters and
performance evaluation is presented in Section IV. Section V
shows the numerical results and their interpretations. Finally,
Section VI concludes the paper.
II.
SYSTEM MODEL
A. Secondary Access to the Terrestrial TV Band
The terrestrial TV broadcasting band lies between 470 −
862 MHz and divided into 49 channels 8 MHz each. These
channels are indexed with the numbers 21 − 69. A single TV
71
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-433-6
ICWMC 2015 : The Eleventh International Conference on Wireless and Mobile Communications

transmitter serves a coverage area of a radius of 30 − 50 km
using a transmission power of 40 − 50 dBW. Due to the high
power of the TV transmitter, neighbouring TV transmitters
use different broadcasting channels. Accordingly, in each geo-
location, there exist a number of TV channels which are
unoccupied and potentially usable for secondary operation.
These unoccupied TV channels are called TVWS.
Techno-economic studies reported in [6] have concluded
that Wi-Fi like short range indoor wireless systems are the
’sweet point’ for secondary operation in TVWS. Therefore,
Wi-Fi access points (APs) are considered in the studies carried
out in this paper. It is assumed here that among the unoccupied
TV channels, a speciﬁc number of channels M are available
for the deployed APs.
B. APs Permissible Transmission Power
The permissible transmission power model is based on
TV receivers adjacent channels interference tolerance, which
minimally guarantees a certain level of TV reception quality. In
[7], the adjacent channels interference has been experimentally
evaluated. The aggregate interference coming from multiple
SUs into channel L at a speciﬁc location coordinates (x, y) is
denoted as Itot(x, y), which is calculated as
Itot(x, y) =
X
k
k̸=0
N
X
j=1
Ij,k+L(x, y),
(1)
where (x, y) are evaluated with a reference (0, 0) for the
TV transmitter mast location, N is the total number of SUs,
Ij,k+L(x, y) is the interference generated by the jth SU
occupying channel k + L into a TV receiver located at (x, y).
If the TV received power on channel L at location (x, y)
is SL(x, y) and the minimum acceptable signal-to-interference
ratio (SIR) is γ, then in order to meet the TV reception
requirements, we should satisfy.
SL(x, y) ≥ γ + Itot(x, y).
(2)
where all quantities in (2) are in the logarithmic scale.
To determine the maximum permissible transmission power
on channel k + L, one needs to count for the aggregate
interference from multiple SUs. Hence a margin of δ dB can be
used to compensate for that adjacent interference. Accordingly,
the maximum permissible transmission power for a SU in
channel k + L at location (x, y), call it P t
k+L(x, y) is found
as
P t
k+L(x, y) = SL(x, y) − γ − ζ(k) − δ
(3)
where ζ(k) is the kth adjacent channel power ratio (ACPR),
which represents the difference between the power received
in a speciﬁc channel and the leaked power from the adjacent
channel k into that channel.
C. Received Power at SU Terminals
To obtain the received power at each SU terminal, a
propagation model is needed. In [8], a propagation model
based on combining COST 231 [9] model and ITU-R P.1238
[10] is developed. The model calculates the path loss between
the SU transmitter and receiver as
PL(d, f) = PLF S + αd + nwLw + nfLf + A,
(4)
where PL(d, f) is the path loss when the transmitter operates
at a frequency f MHz and located at a distance of d meters
from the receiver. nw, nf, Lw and Lf are the number of
penetrated walls, number of penetrated ﬂoors, loss per wall and
loss per ﬂoor respectively, α and A are constants. Table I shows
the model parameters for the case of an ofﬁce environment.
To count for the shadow fading, the received power at
channel k + L in location (x, y) is denoted as P r
k+L(x, y)
and modelled as a log-normally distributed random variable
with a mean (P t
k+L(x, y) − PL(d, f)) and standard deviation
σ.
III.
FAIR RADIO RESOURCES DISTRIBUTION
A. Heterogeneous Free Channels
Applying (3) to determine the maximum permissible AP
transmission power at a speciﬁc location gives different values
for different channels due to the following reasons. At ﬁrst
- and most important - there are different adjacent channels
indices, therefore ζ(k) takes different values for different
channels depending on which channels are used by the TV
transmitter. Secondly, different used TV channels use different
transmission power, which gives different values of SL(x, y).
Not only the AP transmission power that is different for
different channels, but also the PU interference into differ-
ent unoccupied channels considerably varies. Measuring this
interference in a speciﬁc area is a stand alone contribution
of this paper as explained in Section V. This PU interfer-
ence can be originated from TV transmitter non-linearities
in forms of spectral leakage and intermodulation products.
Spectral leakage basically affects the ﬁrst adjacent channels
while intermodulation products are found in different channels.
Moreover, channels used by neighbouring TV transmitters can
also be interfered. Even though PU interference is more severe
in outdoor operation, yet, our measurements results shown
in Section V show that the PU indoor interference into free
TV channels is not neglectable and considerably affects the
performance of the SUs.
Having different permissible APs transmission power with
different PU interference at different channels would result
in tern of having wide range of quality achieved when using
different channels. Following subsection proposes frequency
hopping as a solution provides fairness distribution of the
available channels among the APs.
B. Frequency Hopping
In order to distribute the available heterogeneous free TV
channels in a fair way among the APs, frequency hopping
is proposed in this paper. By frequency hopping it is meant
that the APs hop between the available channels in a random
uncentralized manner. By frequency hopping it is assured that
no APs will be holding all the time on the channels with high
SINR and none will be forced to use the low SINR channels
during the whole time of operation. Hereafter, achievable
AP throughput will be used to evaluate the performance.
Achievable downlink throughput when transmitting on channel
k+L with the maximum permissible power is denoted as Ck+L
and calculated as
Ck+L = log2
 
1 +
P r
k+L(x, y)
ISS
k+L + IT V
k+L + η
!
,
(5)
72
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-433-6
ICWMC 2015 : The Eleventh International Conference on Wireless and Mobile Communications

Figure 1. SPLAT! results for the received signal power for channel 24
[dBm] as a function of the TV receiver location.
where ISS
k+L is the interference from other APs occupying the
same channel k + L, IT V
k+L is the interference form the TV
transmission into channel k + L and η is the background noise.
Note that the throughput obtained by (5) and throughout
the rest of this paper is per Hertz capacity and given in
[bits/sec/Hz]. For simplicity, the M available TV channels are
locally re-indexed by the indices 1 ≤ m ≤ M. Suppose that
the SU terminal is served by its nearest AP which has an
index i and hops among the M available channels with equal
probabilities. Denote the used channel by the serving AP as
´m at each hop. Thus, the average downlink throughput, Chop,
for each SU is calculated as
Chop = 1
M
M
X
m=1
log2







1 +
P r
k+L(x, y)
N
P
j=0
j̸=i

Distance from the tower [km]
Distance from the tower [km]
 
 
−20
0
20
40
−20
0
20
40
60
Distance from the tower [km]
Distance from the tower [km]
 
 
−20
0
20
40
−20
0
20
40
60
−120
−110
−100
−90
−80
−70
−60
−50
Distance from the tower [km]
Distance from the tower [km]
 
 
−20
0
20
40
−20
0
20
40
60
Figure 3. Maximum allowed transmission power density [dBm/Hz] for a SU in channels 25, 48 and 35 respectively (from left to right).
450
500
550
600
650
700
750
800
850
900
−120
−110
−100
−90
−80
−70
−60
−50
−40
Frequency [MHz]
PSD [dBm]
 
 
L1
L2
L3
L4
L5
L6
Interfered
free
 channels
Figure 4. Spectrum occupancy for the whole TV band in the measurements
locations.
TABLE I. SIMULATION PARAMETERS
Parameter
value
γ
25 dB [12]
ζ(k)
k = 1
−33 dB [7]
k = 1
−43 dB [7]
k = 3
−48 dB [7]
k ≥ 4
−50 dB [7]
δ
10 dB
α
0.17 dB/m [8]
A
1.4 dB [8]
nw
0.231 wall/m [13]
Lw
5.9 dB [8]
Lf
14.0 dB [8]
σ
6.0 dB [10]
η
−174 dBm/Hz
V.
RESULTS
The results can be divided into two parts, namely, obtaining
the model parameters part and the deployed APs evaluation
part. The AP evaluation is based on the achieved throughput.
A. Obtaining Model Parameters
As described in Subsection IV, the received TV signal
power and the TV interference into free channels are need.
The received TV signal power is obtained by SPLAT as shown
in Figure 1 as a sample of one channel.
By having the received TV signal power at all points in
the study area, the maximum permissible transmission power
is calculated using (3). Figure 3 shows this permissible trans-
mission power density for channels 25, 48 and 35 respectively.
These three channels have been chosen as representatives for
1st, 2nd and 3rd adjacent channel respectively. The ﬁgure
shows how the permissible transmission power for SU differs
in different channels and different locations. For example, SUs
can transmit in channel 35 with around 20 dBm/Hz higher
power density compared to transmit in channel 25.
For the TV transmission interference into free channels, the
measurements results shown in Figure 4 determine the inter-
fered channels in the measurements locations. This interference
inﬂuence is quantitatively evaluated. To reﬂect the extent of
the variety of the free TV channels, let us deﬁne γ0(k + L) as
the ratio between the permissible SU transmission in channel
k +L and the TV interference into the same channel. In many
channels the value of γ0 approaches ∞ as the best case while
as the worst case in the measurements locations, the value of
γ(47) is equivalent to 26 dB in location L5.
B. APs Throughput
At ﬁrst, to show the creditability of using the frequency
hopping scheme, the achieved throughput without and with
hopping is studied. Assume an AP serving area of 100 m2
and three APs using different three TVWS channels without
hopping. AP 1 uses channel 47, AP 2 transmits on channel 34
and AP 3 operates on channel 36. These three channels are
picked to have three different classes of the provided through-
put. Figure 5 shows the cumulative distribution function (CDF)
of the throughput on each channel when each AP holds on
its channel. As seen from the ﬁgure, user 1 served by AP 1
gets the lowest throughput all the time with an average of
2.6 bits/sec/Hz while user 3 served by AP 3 is achieving
the highest throughput with an average of 6.4 bits/sec/Hz.
Applying frequency hopping among the three channels for all
74
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-433-6
ICWMC 2015 : The Eleventh International Conference on Wireless and Mobile Communications

0
4
8
12
16
20
24
0
0.2
0.4
0.6
0.8
1
C [bits/sec/Hz]
FC(C)
 
 
User 1, Channel 47
User 2, Channel 34
User 3, Channel 36
Hopping
Figure 5. Achieved throughput CDF when using three different channels
individually and when hopping is applied.
0
4
8
12
16
20
24
0
0.2
0.4
0.6
0.8
1
C [bits/sec/Hz]
FC(C)
 
 
Case 1
Case 2
Case 3
Figure 6. Achieved throughput CDF for three different cases when 3
channels used by the APs with frequency hopping.
1
2
3
4
5
6
4
8
12
16
20
24
28
Hopping set size [channels]
C [bits/sec/Hz]
 
 
5 Percentile
10 Percentile
50 Percentile
90 Percentile
95 Percentile
Mean
Figure 7. The 5, 10, 50, 90 and 95 percentile for the achieved throughput
when using different sizes of hopping sets.
APs would then make the three users to achieve the same
throughput with an average of 5.8 bits/sec/Hz. Therefore, the
available three channels are shared among the three APs in a
fair way.
Now, suppose that frequency hopping is applied among a
certain set of channels, call it hopping set, then the achieved
throughput depends on the permissible transmission power
and the TV interference on this hopping set. As an example,
consider three cases as follows. In Case 1, the hopping set
0
50
100
150
200
250
300
200
400
600
800
1000
1200
1400
1600
1800
2000
AP serving area
C [bits/sec/Hz]
 
 
1 Channel
2 Channels
3 Channels
4 Channels
5 Channels
6 Channels
Figure 8. Overall throughput achieved in the building using different AP
serving area (i.e., different number of APs ).
is three interfered channels with low permissible transmission
power, for that, use channels 44, 45 and 47. Case 2 uses better
channels than Case 1, those are channels 25, 34 and 35. Case
3 hopping set is the best where channels 35, 36 and 51 are
used. As Figure 6 depicts, hopping among case 1 set provides
the lowest throughput while using the channels in Case 3 as a
hopping set gives the highest throughput and case 2 throughput
is in between. Quantitatively, Case 1 set provides about 50%
of the throughput that Case 3 set achieves.
An important factor on the achieved throughput is the
size of the hopping set (i.e., the number of channels), in this
regard a simulation where the set size is changed is carried
out. The hopping set is chosen in a way that the average
channel quality is preserved when comparing different sets
sizes. Figure 7 shows that the achieved throughput changes
almost linearly when increasing the hopping set from 1 to 4
channels in all regions of the CDF curve. However, for the
mean and above 50 percentile, when increasing the hopping
size beyond 4 channels, the linear increase stops and the gain
in the throughput tends to saturate. This is due to the fact
that APs using the same channel are most likely to be further
separated when higher hopping sets are used.
Together with the hopping set, the AP serving area - which
decides the number of APs in the building - determines the
achieved throughput in the whole building. Figure 8 shows
how the total throughput provided by the WiFi like system is
affected by the change of the AP serving area and the hopping
set. Figure 8 shows that increasing AP serving area decreases
the provided throughput for the whole building as there are
less resources to handle the trafﬁc. However, increasing the
AP serving area on the other hand increases the distances
between the APs using the same channel while hopping, which
in return decreases the interference among the APs. Therefore,
the decrease in the throughput does not go linearly with the
increase of the AP serving area. It is important to study the
throughput map in the building. Figure 9 show a color-coded
map of the throughput in one of the building’s ﬂoor with the
APs locations. The ﬁgure is generated considering a deploy-
ment of 25 AP. In general, it is observable from the ﬁgure that
the closer to the AP the higher throughput the user gets. This
is not only because of the higher received power from the AP
but also because of being further from the other APs using
the same channel and hence experiencing less interference.
75
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-433-6
ICWMC 2015 : The Eleventh International Conference on Wireless and Mobile Communications

 
 
10
20
30
40
50
10
20
30
40
50
2
4
6
8
10
12
Figure 9. Average throughput at different points in one of the building’s
ﬂoors. The black rings are the deployed APs.
Moreover, the AP located closer to the edges of the building
supplies higher throughput because other interfering APs are
located in one side and therefore having longer distances to
APs in the edges. On the other hand, the APs in the middle
are receiving interference from all the directions with lower
distances from the interferes, which decreases their provided
throughput.
VI.
CONCLUSION
In this paper, the performance of a Wi-Fi like secondary
network deployed in an ofﬁce environment has been studied.
The secondary Wi-Fi like network operates in a TVWS us-
ing geo-location database spectrum opportunities framework.
The main metric used in the performance evaluation is the
achievable downlink throughput for the access points. This
achievable throughput is determined by means of the permis-
sible transmission power, which protects the TV reception, the
interference among the access points and the TV transmission
interference. All these parameters have been obtained using
either measurements or simulations for a realistic scenario.
Results have shown that different TV channels experience
large variety in their provided throughput. Therefore, for fair
resources distribution among the access points, frequency
hopping is applied. Moreover, an investigation on the impacts
of the size of the hopping set and the number of deployed APs
have also been addressed.
REFERENCES
[1]
J. Mitola, “Cognitive radio for ﬂexible mobile multimedia com-
munications,” in IEEE Int. Workshop on Mobile Multimedia Com-
mun.(MoMuC), 1999, pp. 3 –10.
[2]
M. Denkovska, P. Latkoski, and L. Gavrilovska, “Geolocation database
approach for secondary spectrum usage of TVWS,” in 19th Telecom-
mun. Forum (TELFOR),, Nov. 2011, pp. 369 –372.
[3]
E. Obregon and J. Zander, “Short range white space utilization in
broadcast systems for indoor environments,” in IEEE Symp. on New
Frontiers in Dynamic Spectrum Access Networks (DySPAN), Apr.
2010, pp. 1–6.
[4]
L. Simic, M. Petrova, and P. Mahonen, “Wi-Fi, but not on steroids:
Performance analysis of a Wi-Fi-like network operating in TVWS under
realistic conditions,” in IEEE Int. Conf. on Commun. (ICC), Jun. 2012,
pp. 1533–1538.
[5]
Y. Yang, L. Shi, and J. Zander, “On the capacity of Wi-Fi system in
TV white space with aggregate interference constraint,” in 8th Int. Conf.
on Cognitive Radio Oriented Wireless Networks (CROWNCOM), Jul.
2013, pp. 123–128.
[6]
“Model integration and spectrum assessment methodology, QUASAR
Deliverable D5.1,” Tech. Rep., Mar. 2011.
[7]
E. Obregon, L. Shi, J. Ferrer, and J. Zander, “Experimental veriﬁcation
of indoorTV white space opportunity prediction model,” in Proceedings
of the Fifth International Conference on Cognitive Radio Oriented
Wireless Networks Communications (CROWNCOM),, Jun. 2010, pp.
1–5.
[8]
W. Yamada and et al., “Indoor propagation model for TV white space,”
in 9th Int. Conf. on Cognitive Radio Oriented Wireless Networks and
Communications (CROWNCOM), Jun. 2014, pp. 209–214.
[9]
“Digital mobile radio: COST 231 view on the evolution towards
3rdgeneration systems,” Commission of the European Communities,
Tech. Rep., 1989.
[10]
“Propagation data and prediction method for the planning of indoor
radio communication systems and radio local area networks in the
frequency range 900 MHz to 100 GHz, ITU-R P.1238-7,,” Tech. Rep.,
2012.
[11]
SPLAT!
[Online].
Available:
http://www.qsl.net/kd2bd/splat.
html[retrieved:Aug.,2015]
[12]
A. Sahai, M. Mishra, R. Tandra, K. Woyach, G. Atia, and V. Saligrama,
“Prospects and challenges for spectrum sharing by cognitive radios,” in
EE Seminar at Harvard, Feb. 2009.
[13]
D. H. Kang, K. W. Sung, and J. Zander, “Attainable user throughput
by dense Wi-Fi deployment at 5 GHz,” in IEEE 24th In. Symp. on
Personal Indoor and Mobile Radio Commun. (PIMRC), Sep. 2013, pp.
3418–3422.
76
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-433-6
ICWMC 2015 : The Eleventh International Conference on Wireless and Mobile Communications

