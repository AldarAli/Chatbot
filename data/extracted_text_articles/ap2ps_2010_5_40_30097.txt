Design an Integration of Bee Hive into a Multi-Agent-based Resource Discovery 
Method in P2P Systems 
Jun Yamasaki, Yoshikuni Harada, and Yasushi Kambayashi 
Department of Computer and Information Engineering, Nippon Institute of Technology 
4-1 Gakuendai, Miyashiro-cho, Minamisaitama-gun, Saitama 345-8501 Japan 
{c1065434, c1015367}@cstu.nit.ac.jp and yasushi@nit.ac.jp 
 
 
Abstract—One of the most important functions in P2P systems 
is the location of resources; it is generally hard to achieve due 
to the intrinsic nature of P2P, i.e., dynamic re-configuration of 
the network.  We have proposed and implemented an efficient 
resource locating method in a pure P2P system based on a 
multiple agent system.  All the resources as well as resource 
information are managed by cooperative multiple agents.  In 
order to optimize the behaviors of cooperative multiple agents, 
we utilized the ant colony optimization (ACO) algorithm that 
assists mobile agents to migrate toward relatively resource-rich 
nodes.  Even tough the ACO algorithm helped multiple search 
agents to find desired resources effectively while reducing 
communication traffic in the network, some research scientists 
have claimed that non-pheromone-based algorithm, such as 
honey bee algorithm, is significantly more efficient to find 
resources.  Then efficient migration should be achieved 
through direct communication between bee agents in the dance 
floor instead of pheromone-based indirect communications.  In 
this paper, we propose and discuss the possibility of integration 
of the bee-like agents into our resource discovery method to 
optimize the behaviors of the mobile multiple agents. 
Keywords-multi-agent system; mobile agents; resource 
discovery; swarm intelligence; honey bee algorithms 
I. 
 INTRODUCTION  
As the Internet spreads throughout the world, it is used 
for a variety of human interactions.  User interactions across 
various applications require software that exchanges 
resources and information within the network community.  
The traditional client-server model on computer networks 
barely accommodates the real-world situations such as the 
advent of video-streaming services.  Intensive accesses on a 
server can easily create a bottleneck in a network.  Peer-to-
peer (P2P) systems can provide a solution to this problem.  
A P2P system consists of a number of decentralized 
distributed network nodes that are capable of sharing 
resources without central servers.  Many applications such 
as IP-phone, contents delivery networks (CDN) and 
distributed computing adopt P2P technology into their base 
communication systems.  A P2P system includes an overlay 
network where the nodes can interact and share resources 
with one another.  Here, ‘resources’ means the variety of 
services that are provided by the network nodes.   
One of the most important problems in P2P systems is 
the location of resources; it is one of the hardest 
mechanisms to implement.  Napster avoids this problem by 
using a central server that provides indexing service [1].  
Such a server, however, can be the most vulnerable point, 
where a failure can paralyzes the entire network.  Therefore, 
P2P systems without any central server (pure P2P) are the 
area of active research in current P2P system developments.  
We have proposed and implemented an efficient resource 
location method based on a multi-agent system for a pure 
P2P system [2].  
In this paper, we report our multi-agent system with an 
enhanced resource location mechanism.  The efficiency is 
gained through a technique inspired by social insects like 
ants and honey bees.  In order to optimize the behavior of 
cooperative multiple agents, we integrate the bee behaviors 
as well as DHT into mobile agents to migrate toward the 
desired nodes.  In the previous paper, we discussed that the 
ant colony optimization algorithm provided quasi-optimally 
guidance for multiple search agents toward resource rich 
nodes and to assists them to find desired resources 
effectively while reducing communication traffic in the 
network.  Efficient migration is achieved through an indirect 
communication that is typical of social insects, called 
stigmergy.  When an agent finds a resource-rich node, it 
strengthens the path toward the node to gain efficiency.  
Strengthening of the route to a desirable node is achieved by 
pheromone applied by preceding agents that guides 
succeeding agents so that they can easily reach that node.  
This pheromone-based indirect guidance takes a certain 
amount of time to emerge the paths toward resource rich 
nodes, and even such paths are established, the guidance did 
not guarantee the suggested nodes have resources that the 
user really desired. 
In order to ameliorate this problem, we are proposing 
and implementing a new type of resource discovery method 
that can be used in pure P2P systems.  The method is based 
on yet another biologically inspired algorithm namely 
BeeHive [3].  BeeHive is a fault-tolerant routing algorithm 
and we have found it can be useful for P2P systems.   
The structure of the balance of this paper is as follows.  
The second section describes the background.  The third 
section describes the P2P system we are proposing.  Static 
and mobile multiple agents work together to find network 
resources in the P2P system.  We also discuss the honey bee 
behaviors for foraging that contribute the resource discovery.  
The fourth section describes the resource discovery 
algorithm that uses the multiple agents and a honey bee 
112
AP2PS 2010 : The Second International Conference on Advances in P2P Systems
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-102-1

algorithm to find network resources in the P2P system.  
Finally, we sketch how the system is implemented using an 
overlay construction tool kit and a mobile agent construction 
framework and conclude our discussion in the fifth section. 
II. 
BACKGROUND 
The famous pure P2P system, Gnutella, employs message 
flooding for locating resources [1].  The advantage of such a 
system is its simplicity, but it is impractical for a large-scale 
network system, because flooding resource discovery 
messages alone can easily saturate entire networks.  In order 
to solve this problem, the use of a distributed hash table 
(DHT) is proposed and used [4].  Even though DHT is one 
of the most promising methods and it certainly provides fast 
resource lookup (O(log n) computational complexity) for 
pure P2P systems, it is too rigid to process flexible and 
intelligent queries. 
In order to ameliorate the problems in DHT-based 
systems, we have proposed a multiple-agent-based approach.  
One of the authors has engaged in a project where 
autonomous agents play major roles in an intelligent robot 
control system [5] [6].  The mobile agents in the project can 
bring the necessary functionalities and perform their tasks 
autonomously, and they have achieved reduction of 
communications as well as flexible behaviors.  Thus, it is 
natural for us to employ not only static agents but also 
mobile agents in our P2P system in order to provide flexible 
search.  The mobile agents are expected to reduce the 
quantity of query messages. 
On the other hand, algorithms that are inspired by 
behaviors of social insects such as ants that communicate 
each other by an indirect communication called stigmergy 
are becoming popular [7].  Upon observing real ants’ 
behaviors, Dorigo et al found that ants exchanged 
information by laying down a trail of a chemical substance 
(called pheromone) that is followed by other ants.   They 
adopted this ant strategy, known as ant colony optimization 
(ACO), to solve various optimization problems such as the 
traveling salesman problem (TSP) [7]. 
Even tough ACO is effective; it is known that it takes 
some amount of time for the shortest path to emerge, and 
some doubts about its efficiency are posed [8].  It has been 
well known that honey bees have a remarkable sophistication 
of the communication capabilities those are comparative to 
ants. Von Frisch deciphered the enigma of bee’s behaviors 
[9].   
Honey bees’ foraging behavior consists of two types that 
are recruitment and navigation.  For navigation, bees use a 
strategy called path integration.  They can compute their 
present location from their past trajectory continuously; 
hence they always know the direct route to their hive rather 
than retracing their outbound route, as ants do.  For 
navigation, bees use a strategy called dance.  Upon returning 
from a foraging trip, a bee communicates the distance, the 
direction and quality of flower site with its fellow foragers 
by performing waggle dances on the dance floor in its hive.  
The more zealously they dance, the more foraging bees are 
recruited to exploit the high quality flower site.  Honey bees 
evaluate the quality of each discovered flower site and 
perform the waggle dance for the most promising flower site 
on the dance floor.  As a result, high quality flower site are 
exploited quite intensively.  Hence we abstract the dance 
floor into node management table by which the bee agent 
exchange resource information as BeeHive algorithm 
abstract the dance floor into routing tables [3].   
BeeHive is a novel routing algorithm.  For the algorithm, 
the network is organized into fixed parturitions called 
foraging regions, and two types of agents, short distance bee 
agents and long distance bee agents collect and disseminate 
routing information.  Short distance bee agents only migrate 
in the foraging regions, thus they propagate routing 
information in the neighbors, while long distance bee agents 
can migrate to all the nodes in the network, thus they 
propagate routing information in the entire network [3].  In 
our approach, we model bee agents in resource discovery 
algorithm 
III. 
THE P2P SYSTEM 
The model of our system is a multi-agent system that 
consists of a set of cooperative static and mobile agents.  All 
the resources as well as resource information are managed by 
cooperative multiple agents.  They are: 1) information agents 
(IA), 2) two types of bee agents, namely long distance bee 
agents (LBA), and short distance bee agents (SBA), 3) node 
management agents (NA), and 4) DHT agents (DA).  These 
five agents are the minimum configuration.  LBAs and SBAs 
are the only mobile agents.  IA’s encapsulate all the 
interfaces between users and applications that utilize this P2P 
system so that all the other parts (agents) can be independent 
from any applications.  We separate DA from NA, because 
only high performance nodes construct DHT.  A Node with 
DA is called super node, and a super node dominates and 
administrates surrounding non-super nodes.  We call this 
surrounding region a foraging zone and use it in our honey 
bee algorithm.   
The P2P system is loosely partitioned into a number of 
foraging zones.  Each foraging zone is constructed around 
one super node.  Therefore the number of foraging zone is 
the same as the number of super nodes.  Each node also has 
its specific foraging zone that consists of all nodes to which 
its short distance bee agents can reach.  The union of these 
specific foraging zones is the foraging zone constructed 
around the super node.  Each non-super node periodically 
dispatches a short distance bee agent in order to disseminate 
the resource information in its node management table.  In 
order to prevent communication congestion, short distance 
bee agents only move in its specific foraging zone and have 
short lives.  Therefore the foraging zone that partitions the 
P2P 
system 
(super-node’s 
foraging 
zone) 
is 
not 
homogeneous; it is just an aggregate of many non-super 
nodes’ foraging zones.   
Only the super nodes can dispatch the long distance bee 
agents that can migrate to other super nodes, and propagate 
the node management table information as short distance bee 
agents do as well as collect node information in other 
113
AP2PS 2010 : The Second International Conference on Advances in P2P Systems
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-102-1

foraging zones.  The followings are the descriptions of each 
agent. 
1)  Information Agent (IA): Each node has a static 
information 
agent 
(IA) 
that 
manages 
resource 
information.  IA periodically launches a short distance 
bee agent in order to collect and carries resource 
information in its specific foraging zone.  IA also 
interacts with users.  Each non-super node has resource 
information in the specific foraging zone.  If the 
requested resource is in its foraging zone, IA can reply 
to the user immediately by consultation with the fellow 
node management agent (NA). 
2)  Short Distance Bee Agent (SBA): A Short distance bee 
agent circulates in its specific foraging zone to 
disseminate resource information.  Each non-super node 
dispatches one short distance bee agent and it restricts its 
scout area in its specific forager zone so that it does not 
cause communication congestion.  They are trying to 
uniform the node management tables in its specific 
foraging zone.  Since the foraging zones for non-super 
nodes are overlapping each other, ultimately the resource 
information in the super node’s foraging zone becomes 
relatively homogeneous.   
3)  Long Distance Bee Agent (LBA): If the user’s 
requesting resource is not in the specific foraging zone 
of the non-super node that accepts the query, the non-
super node’s IA delegates the request to the super node, 
and then the super node creates a long distance bee agent 
to search the entire P2P system.  There is small 
possibility that the requested resource is in a specific 
foraging zone of another non-super node in the same 
super node’s foraging zone due to non-homogeneity.  
We are trying to measure empirically the rate of such 
anomaly.  LBA also plays the role of messenger to 
convey DHT query messages. 
4)  Node Management Agent (NA): Each node has a static 
node management agent (NA) that has neighbor 
information collected dispatched short distance bee 
agent.  NA has a table that contains the IP addresses of 
neighbors and resources that are hold by the neighbors.     
5)  DHT agent (DA): DHT agents (DA) construct DHT 
through cooperation with other DA’s that reside on other 
super nodes.  Only high-performance nodes have DA’s 
so that we can construct pure P2P systems in a 
heterogeneous environment.  Nodes with DA are called 
super nodes, and they construct a kind of super highway 
for the long distance bee agents (LBA).  Though current 
implementation integrates the Chord [10] as the DHT 
algorithm, we can replace it with other algorithms just 
through replacing DA’s.  Due to the high churn property 
of pure P2P network, we can not expect DHT is ever 
complete.  Therefore arriving LBA has incomplete 
information for the hash value, and DA can only provide 
incomplete information.  Still the super node has nearly 
complete information about the non-super node under its 
dominance; it is therefore straightforward for LBA to 
find the requested resource in the foraging zone in which 
it arrives. 
 
The majority of foragers exploit the food source in the 
closer vicinity of their hive while minority visit flower sites 
faraway from their hive [3] [9].  This observation inspires us 
to transform the search agents in the previous system into 
two groups namely short distance bee agents, and long 
distance bee agents.  Short distance bee agents are not search 
agent in the current system.  They collect and disseminate 
resource information in the neighborhood of source node, 
while long distance bee agents actually search for entire 
network to find the requested resource. 
IV. 
RESOURCE DISCOVERY ALGORITHM 
Our resource discovery method is based on mobile 
multiple agents based on BeeHive [3].  The network is 
loosely partitioned into several foraging zone.  The reason 
why it is loosely partitioned is that the nature of P2P system 
is high frequency of joining and leaving of participating 
nodes (churning).  Therefore rigid partitioning is impossible 
and unnecessary.  On the other hand this property of loose 
provides robustness in the network.  The foraging zone has 
one super node with DHT agent and surrounding non-super 
nodes that are reachable in some limited number hops.  Each 
participating node launches one short distance bee agent 
(SBA) to collect and to carry resource information in the 
foraging zone.  Upon arriving neighboring nodes, a SBA 
communicate with the residing node management agent 
(NA) to check the node management table, and if there are 
some missing information, the agent gives it to NA, and if it 
lacks some information, it receives it from NA.  Therefore 
the NA’s in one foraging zone share relatively uniform 
information of the resources the participating nodes in that 
foraging zone.  Figure 1 shows the activity of SBA.  
When a user requests that the information agent (IA) in 
the current node locate a resource, the user has to specify the 
lookup keywords and search terminating conditions such as 
the number of hops, duration time, and the number of found 
nodes.  The user is also required to specify how IA should 
Figure 1. The activities of short distance bee agents to disseminate 
the resorce information among the participating nodes. 
Super 
Node 
NA 
SBA 
Information 
IA 
NA
SBA 
DA 
IA 
IA 
NA 
Node with DHT 
Node without 
DHT
Node without 
DHT
114
AP2PS 2010 : The Second International Conference on Advances in P2P Systems
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-102-1

behave when the dispatched LBA does not return due to 
some accidents.  Figure 2 shows the activities of LBA that 
interact with other cooperative agents to locate desired 
resources.  The resource discovery algorithm that the 
coordinated multiple agents perform is as follows:  
1. 
IA consults NA whether the requested resource is in 
the local foraging zone.  If it exists, IA reply so with 
the IP address stored in the node management table. 
2. 
If the requested resource is not in the local foraging 
zone, IA delegates the request to the super node in the 
foraging zone. 
3. 
The super node creates a long distance bee agent 
(LBA) for specific search. 
4. 
The LBA requests the DHT agent (DA) to receive the 
IP address to which it migrates.  The given address by 
DA may be inaccurate due to ambiguity of given 
information by the user.  LBA’s flexibility covers such 
incompleteness. 
5. 
The LBA migrates to the selected super node in a 
different foraging zone. 
6. 
The LBA then interacts with the IA in the arriving 
super node to find whether it has the requested 
resource.  Then IA consults its NA. 
7. 
If the foraging zone has the resource, the IA gives the 
IP address of the node to LBA, then goes to step 8, 
otherwise repeats at step 4. 
8. 
The LBA checks the terminating condition, and if it is 
satisfied, migrates back to the original node where the 
user query was created. 
V. 
CONCLUSION AND DISCUSSION  
We are proposing and implementing a new type of 
resource discovery method that can be used in pure P2P 
systems.  The method is based on yet another biologically 
inspired algorithm namely BeeHive that is a fault-tolerant 
routing algorithm.  We have found it can be useful for P2P 
systems. 
We are implementing our resource discovery methods 
by using Overlay Weaver [11] and Agent Space [12].  
Overlay Weaver is an overlay construction tool kit for the 
Java language, and provides common API’s for high-level 
services such as DHT and Multicast.  This emulator can 
handle several thousand (virtual) nodes and records the 
number of produced messages and their duration time.  
Agent Space is a framework for constructing mobile agents.  
By using its library, the user can implement a mobile agent 
environment with the Java language.  Since the integration 
of ACO into P2P system had provided a significant 
reduction of messages, we are expecting a similar or better 
effect on the system by the integration of honey bee 
behaviors. 
REFERENCES 
[1] 
S. Saroiu, K. P. Gummadi, and S. D.Gribble, “Measuring and 
analyzing the characteristics of Napster and Gnutella hosts,” 
Multimedia Systems, vol. 9, 2003, pp. 170-184. 
[2] 
Y. Kambayashi and Y. Harada, “A resource discovery method based 
on multi-agents in P2P systems,” in Intelligent Agents in the 
Evolution of Web and Applications’, N. T. Nguyen and L. C. Jain 
Eds. Studies in Computational Intelligence 167, Springer-Verlag, 
2009, pp.113-135. 
[3] 
H. F. Wedde, M. Farooq, and Y. Zhang, “BeeHive: an efficient fault-
tolerant routing algorithm inspired by honey bee behavior,” Proc. 
International Workshop, ANTS,  Ant Colony, Optimization and 
Swarm Intelligence, Lecture Notes in Computer Science 3172, 2004 
pp. 83–94. 
[4] 
A. S. Tanenbaum, Computer Networks, 4th ed., Prentice Hall, Upper 
Saddle River, 2002. 
[5] 
Y. Kambayashi and M. Takimoto, “Higher-order mobile agents for 
controlling intelligent robots,” International Journal of Intelligent 
Information Technologies, Vol. 1, No. 2, 2005, pp.28-42. 
[6] 
M. Takimoto, M. Mizuno, M. Kurio, and Y. Kambayashi, “Saving 
Energy Consumption of Multi-Robots Using Higher-Order Mobile 
Agents,” Proc. KES International Symp. on Agent and Multi-Agent 
Systems: Technologies and Applications, Lecture Notes in Artificial 
Intelligence 4496, Springer-Verlag, 2007, pp. 549-558. 
[7] 
M. Dorigo and L.M.Gambardella, “Ant colony system: a cooperative 
learning approach to the traveling salesman,” IEEE Transaction on 
Evolutionary Computation, vol. 1, no.1, 1996, pp. 53-66 
[8] 
N. Lemmens, S. de Jong, K. Tuyls, and A. Nowé, “Bee behaviour in 
multi-agent systems: a bee foraging algorithm,” in Adaptive Agents 
and Multi-Agent Systems III. Adaptation and Multi-Agent Learning, 
Lecture Notes in Computer Science 4865, Springer, 2008, pp. 145-
156. 
[9] 
K. von Frisch, The Dance Language and Orientation of Bees,” 
Harvard University Press, Cambridge, Massachusetts, 1967. 
[10] I. Stoica, R. Morris, and D. Karger, “Chord: a scalable peer-to-peer 
lookup service for Internet applications,” Proc. ACM SIGCOMM 
Conference, 2001, pp. 149-160. 
[11] K. Shudo, Y. Tanaka, and S. Sekiguchi, “Overlay weaver: an overlay 
construction toolkit,” Proc. Symposium on Advanced Computing 
Systems and Infrastructures, 2006, 183-191, In Japanese. 
[12] I. Satoh, “A mobile agent-based framework for active networks,” 
Proc. IEEE System, Man and Cybernetics Conference, 1999, pp. 71-
76 
 
 
 
SN 
NN 
NN 
NN 
SN 
Foraging zone 
Migrate to SN in 
another foraging zone
Another 
foraging zone 
SN:SuperNode 
NN:NonSuperNo
Another 
foraging zone 
NN 
NN 
NN 
SN 
NN 
NN 
NN 
IA 
Query 
Figure 2. The activities of long distance bee agents to locvate a 
resorce.  They communicate with super nodes. 
115
AP2PS 2010 : The Second International Conference on Advances in P2P Systems
Copyright (c) IARIA, 2010               ISBN: 978-1-61208-102-1

