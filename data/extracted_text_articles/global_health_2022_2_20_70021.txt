Investigation of the Application of MediaPipe to Gait Analysis 
 
Yasutaka Uchida 
Dept. of Life Science 
Teikyo University of Science 
Adachi-ku, Tokyo, Japan 
e-mail:uchida@ntu.ac.jp 
Tomoko Funayama 
Dept. of Occupational therapy 
Teikyo University of Science 
Uenohara-shi, Yamanashi, Japan 
e-mail:funayama@ntu.ac.jp 
 
Yoshiaki Kogure 
Professor Emeritus 
Teikyo University of Science 
Adachi-ku, Tokyo, Japan 
e-mail:kogure@ntu.ac.jp 
 
 
Abstract— The possibility of gait analyses using moving 
images was examined using the free software, MediaPipe. As a 
preliminary experiment for using this software in the 
rehabilitation field, we attempted a timed up-and-go test and 
confirmed that detailed ankle trajectories were obtained. In 
addition, considering the limitations of the camera installation 
during measurement, we examined the differences in camera 
position when capturing gait characteristics. As a result, the 
characteristics captured were almost similar, although some 
discrepancies were observed between the frontal image and 
data from the oblique direction. Detection of the ankle angle 
was possible. However, it is likely that the right ankle data will 
be calculated to be smaller, regardless of motion limitations, 
and a motion analysis using gait velocity will require the 
placement of objects for correction. If free software becomes 
available for motion analyses, it will be a turning point for the 
rapid spread of video analyses in the medical and healthcare 
fields, contributing to the collection of improved data through 
rehabilitation and daily health management. 
 
Keywords-gait analysis; MediaPipe; detection of ankle  
angle; health care. 
I. 
 INTRODUCTION 
    Health status is easily expressed during gait. In 
addition, functional impairment of the lower extremities can 
lead to serious accidents such as falls and tumbles. Falls and 
tumbling are common social problems. Among the lower 
limbs, the limited range of motion of the ankle joint can 
easily lead to stumbling and falling due to the inability to 
raise the toes. The measurement of lower limb function is 
useful in assisting the prevention of falls. Until now, 
medical and welfare professionals, such as rehabilitation 
and nursing care staff, have been responsible for providing 
support to prevent falls. In recent years, devices for 
measuring lower limb function have become widespread. 
However, the equipment used in rehabilitation medicine and 
sports requires detailed data and specialized knowledge of 
equipment operations. It is also difficult to make decisions 
related to health conditions in daily life [1]-[6]. 
Wearable devices are slowly being used in daily life. 
Simultaneously, they can provide information about a 
runner's running route and speed, as well as information 
about the body, such as the pulse rate. This information can 
be used as management records by connecting it to the 
Internet. Daily health-related data managed by servers can 
be very useful for elderly people. Internet of things (IoT) 
devices are developed in many aspects, however, practically, 
it is important to be able to accumulate daily health 
information even if the person is unaware of it. If an IoT 
device can measure ankle joint data, it can help prevent falls 
and stumbling. Previously, we measured the gait of dialysis 
patients, however, but the analysis required specialized 
knowledge of machine learning [7]. 
   MediaPipe is free software from Google. Numerical data 
can be obtained using software related to faces that 
specializes in facial data and poses corresponding to the 
entire body. It is also possible to display Three-Dimensional 
(3D) skeletons from Two-Dimensional (2D) detection on 
the screen. The ability to see images of the skeleton as it is 
projected onto the physique is a point that is easily accepted 
in rehabilitation facilities [8]. 
This software provides 3D coordinates that increase its 
effectiveness. Specifically, if ankle angles could be obtained 
from images, it could be a promising alternative to the 
judgment of physical condition changes based on the 
experience of physical and occupational therapists. Long-
term ankle angle data would also be useful for early 
detection of changes in physical condition due to illness or 
other causes. 
    Image-based video analyses have long been used in 
rehabilitation and other medical and healthcare fields, such 
as the joint research field, but it is very difficult and 
expensive to manage. Even if the equipment is useful, the 
number of people who can use it is limited [9][10]. If video 
analyses can be performed at a low cost, many people will 
be able to use it. Therefore, we examined the possibility of 
gait analyses by video using MediaPipe. If motion analyses 
1
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

become possible with free software, it may become a 
tipping point for the rapid spread of video analyses in the 
medical and healthcare fields. 
All research members participated in the experiment 
and examined the analytical data. This research was 
approved by the Ethics Committee of Teikyo University of 
Science. 
II. 
EXPERIMENTS 
The subjects were two men in their 60s and 70s, 
respectively. The two gait events differed in terms of ankle 
restrictions. The supporter restricted ankle joint motion. In 
the case of the elderly patient experience set, the subject 
wore nothing but glasses, which did not restrict ankle joint 
motion.  
The corresponding locations of the 33 landmark data 
locations on the body output by MediaPipe are shown in 
Table I. 
 
        TABLE I. POSE LANDMARK of MediaPipe. 
 
Pose Landmark 
0. nose 
1. left_eye_inner 
4. right_eye_inner 
2. left_eye 
5. right_eye 
3. left_eye_outer 
6. right_eye_outer 
7. left_ear 
8. right_ear 
9. mouth_left 
10. mouth_right 
11. left_shoulder 
12. right_shoulder 
13. left_elbow 
14. right_elbow 
15. left_rwrist 
16. right_wrist 
17. left_pinky 
18. right_pinky 
19. left_index 
20. right_index 
21. left_hip 
22. right_hip 
23. left_hip 
24._right_hip 
25. left_kenn 
26. right_kenn 
27. left_ankele 
28. right_ankele 
29. left_heel 
30. right_heel 
31. left_foot_index 
32. right_foot_index 
       For the evaluation of Comma-Separated-Values (CSV) 
data from MediaPipe, the same type of pressure sensors has 
already been used and reported, which changes the 
resistance depending on the pressure, ranging from 100 to 
1MΩ [7]. A 1kΩ resistor was connected in series with this 
sensor, and the voltage change of the resistor was used as 
the input signal. Each sensor measures the voltage at 1kHz. 
Eight sensors were arranged parallel to the direction of 
travel. The pressure-sensor data were connected to an 
Arduino Mega 2560 R3 connected to a Personal Computer 
(PC). The connection between the sensors and the Arduino 
is shown in Figure 1.  
 
Figure 1. Connection of sensors and Arduino. 
 
     The output signals of sensor numbers A0-A7 and the 
distance between each sensor were used to calculate the 
walking speed. 
 
A.  Analysis of data obtained from MediaPipe 
1)  Accuracy check of CSV data outputed by MediaPipe  
We investigated the possibility of using the CSV data 
output by MediaPipe to perform gait analysis using the 
elderly patient experience set. The measurement indicates 
how accurately the ankle position can be quantified. 
Because the analysis was performed during gait, we used 
images from the timed up-and-go measurement, which is 
used as a basis for the evaluation of falls in the elderly, for 
the analysis in MediaPipe. 
Figure 2 shows the trajectory of the timed up-and-go 
measurement. The trajectory was similar to that of the left 
ankle. A detailed ankle trajectory is obtained. The video 
analysis of the timed up-and-go test confirmed that the 
maintenance of the integrity of the specifications [11]-[13]. 
Figure 2 shows the trajectory of the body relative to the gait 
site with a high degree of accuracy. 
 
 
 
VCC
P0
Sensor : P0
1k
Mega2560
+5V
A0
A7
 
2
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

Figure 2. The trajectory of the time up and go analyzed by MediaPipe. 
 
2) Results from the front angle 
      Gait videos taken from the front under two different 
conditions, one without motion restriction and the other 
with motion restriction by a knee supporter, were analyzed 
using MediaPipe. The left side of Figure 3 shows the image 
without motion restriction, and the right side shows the 
picture with motion restriction. 
The values of z, which represent the height of the left 
and right ankle joints, were plotted against the presence or 
absence of motor restriction, respectively. The upper and 
lower figures show unrestricted and restricted motions, 
respectively. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Figure 3. The skeleton analysis of without/with restrictions using video 
from front. 
 
The upper and lower figures show unrestricted and 
restricted motions, respectively. 
The values of z in Figure 4, which represent the height 
of each the left and right ankle joints, were plotted against 
the presence or absence of motion restriction, respectively.  
It can be determined that the time that the heel is on the 
floor is short because the average of the integrated values of 
the z values of the foot that is applies the restriction is large. 
 
 
Figure 4. Values of z which represent height of ankle. 
 
3) Results from an oblique upword angle  
 In this analysis, the image was taken obliquely 
upward, so it was enhanced by the effect of the z-axis length 
ratio. However, peaks corresponding to the left and right 
toes were also observed. Differences due to the angle of 
filming were analyzed from images obtained from the front 
and from diagonally above. 
The left side of Figure 5 shows the image without 
motion restriction, and the right side shows the image with 
motion restriction. The sheet on the floor is the pressure 
sensors described in Figure 1 at the experiment. 
 
Figure 5. The skeleton analysis of without/with restrictions using video 
from oblique upward angle. 
 
 
 
 
0.00
0.05
0.10
0.15
0.20
0.25
0.30
0.000
0.100
0.200
0.300
0.400
0.500
0.600
z-axis
Time[s]
R
L
No restriction
0.000
0.050
0.100
0.150
0.200
0.250
0.300
0.000
0.200
0.400
0.600
0.800
1.000
1.200
1.400
z-axis
Time[s]
R
L
Restriction
 
satrt
Returning 
point
x axis
y axis
z axis
 
 
 
3
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

The separately conducted results of the ankle angle 
measurements indicate that the subject's left and right feet 
have different flexibility. This may have a significant effect 
on the gait. Therefore, we considered the ankle and knee 
and the ankle and toes as vectors and obtained the angle 
between these two from the inner product. Images were 
taken in two different ways while the subjects were walking 
and being analyzed. 
Based on these results, the ankle angles that 
significantly affected gait were determined. The results of 
the analysis are shown in Figure 6. The frontal view is used 
for images (a) and (b), and (c) and (d) are oblique images. 
Changes in the left and right ankle angle were almost 
identical with and without motion restriction. However, in 
both cases, the change in the right ankle angle was smaller. 
It is not clear whether this was a feature of the subject's gait 
or a software problem. Further studies are needed in another 
experiment with a different subject. 
4) Gait speed 
    The gait speed was examined. As the coordinates are 
those of the projection from the camera, correction is 
necessary [14]-[17]. Although it is best to correct the 
coordinates from a 3D viewpoint, in this case, the correction 
was based on the walking trajectory. Therefore, we 
compared walking speeds based on measurements for which 
specific lengths were known. 
 
 
 
0
10
20
30
40
50
60
70
80
90
100
1
1.2
1.4
1.6
1.8
2
2.2
2.4
Angle [deg]
Time [s]
92.5
93
93.5
94
94.5
95
95.5
1
1.2
1.4
1.6
1.8
2
2.2
2.4
Angle [deg]
Time [s]
(d)
(e)
 
Figure 6. Results of ankle angle from the front and an oblique upward 
angle 
 
 
As for gait speed, we also compared the data with the 
data from the pressure sensor and examined which points 
should be analyzed to obtain accurate based on the principle 
of the software. We determined that it would be difficult to 
determine the walking speed when shooting from an oblique 
direction because the screen is moved in an oblique 
direction. However, it was thought that data could be 
obtained for comparison if the same conditions were used. 
Clearly, the problem with images taken from the front was 
that the size of the subject varied depending on the 
measurement data point. 
     Therefore, we considered the part of the image that was 
considered to move as little as possible on the screen. In the 
present image, the shoulder area was close to the central 
part, therefore, we considered this point. In the walking 
speed obtained from walking on the mat, differences of 
approximately 2.1 km/h and 1.3 km/h were obtained with 
and without motion restriction, respectively. However, the 
values obtained from MediaPipe were approximately one 
order of a magnitude lower. 
Thereafter, we plotted the data for y on the right 
shoulder, which had the largest slope. The right position of 
the shoulder as a function of time is shown in Figure 7. The 
obtained value was approximately 1/3 of the value. This 
point was examined as follows. 
 
93.0
93.5
94.0
94.5
95.0
95.5
96.0
0.00
0.20
0.40
0.60
0.80
1.00
1.20
1.40
Angle [deg]
Time [s]
0
20
40
60
80
100
120
140
0.00
0.20
0.40
0.60
0.80
1.00
1.20
1.40
Angle [deg]
Time[s]
(a)
(b)
 
4
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

 
Figure 7. The right shoulder position as a function of time. 
 
Figure 8 shows the 3D display of the trajectory of the 
right shoulder position. Because the slope of the change in 
the right shoulder position is almost 45o, it was found that 
using the correction value for the direction of motion on the 
screen, a walking speed of 0.4, which is almost the same as 
the 0.38 obtained from the mat, could be obtained. 
 
 
Figure 8.  A 3D display of the trajectory of the right shoulder position. 
 
 
     The fact that walking speed can be corrected by selecting 
the detection point indicates that some ingenuity is needed, 
such as shooting parallel to the travel direction when 
capturing the video. 
III. 
DISCUSSION 
The analysis using MediaPipe reproduced the left ankle 
trajectory in the timed up-and-go measurements as shown in 
Figure 2. The z-axis values corresponding to the vertical 
motion are small due to the screen settings; therefore, the z-
axis values are emphasized. Consequently, it is necessary to 
make a prior reference measurement and correction for 
accurate evaluation. However, as shown in Figures 4 and 6, 
it was possible to determine the ankle angle as gait 
condition data, although we did not calculate this timed up-
and-go measurement. Comparing the separately measured 
range-of-motion angle data of the ankle joint and 
comparative ankle joint range-of-motion angles obtained 
from the video, slight differences were observed due to the 
camera angles. The angular change in the right foot was 
almost the same, regardless of the camera angle. By contrast, 
the angular change in the left leg tended to be smaller. In the 
subject’s gait, another measurement result showed that the 
joint change in the left foot was smaller than that in the right 
foot. It may be possible to analyze whether this is due to the 
subject’s characteristics or the effect of the camera angle by 
changing the measurement conditions or by comparing the 
gait data on other subjects. 
Because this software can be installed on tablets and 
smartphones, we believe we have shown that the skeleton 
analysis screen can be effective as a simple check at the 
rehabilitation site. In the case of a detailed numerical 
analysis, there are differences in the numerical values 
obtained due to differences in camera angles, necessitating 
the use of a camera with a sufficiently wide angle at the 
time of measurement or having the camera fixed to 
eliminate camera shake during movement. The current 
experiment only shows the results of the analysis of one 
subject with and without pseudo limitation of movement, 
and data from two subjects of different ages and genders 
measured simultaneously are currently being analyzed.  
Based on the above, we believe that the conditions 
necessary to use this software in the field can be determined 
by accumulating data and adapting it to subjects with gait 
disorders. 
IV. 
CONCLUSION AND FUTURE WORK 
Today, with the widespread use of smartphones 
making it easy for many people to take videos, it is also easy 
to take a picture of a person’s walking condition and ask a 
medical professional to diagnose the problem. The ability to 
obtain skeletal displays and numerical data, as with this 
software, is expected to rapidly improve the potential of 
video analysis in the medical insurance field. 
However, the limitations of the shooting conditions 
when introducing this software should be considered. For 
example, it became clear that the shooting angle and which 
point the analysis should be focused on are important. We 
will improve the optimization of video shooting conditions 
and correction methods for all shooting angles. In addition, 
these corrections are made and adapted to the subject. 
ACKNOWLEDGMENT 
This work was supported by JAPS KAKENHI Grant 
Number JP20K11924.  
 
 
y
x
z
 
5
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

REFERENCES 
[1] L. Gonzalez-Villanueva, S. Cagnoni, and L. Ascari, “Design 
of a Wearable Sensing System for Human Motion Monitoring 
in Physical Rehabilitation,” Sensors 2013, 13, pp. 7735-7755, 
2013. 
[2] Y-L. Zheng, X-R Ding, C.C. Y. Poon, B. P. L. Lo, H. Zhanf, 
and G-Z. Yang, “Unobtrusive Sensing and Wearable Devices 
for 
Health 
Informatics,” 
IEEE 
Trans. 
Biomediacal 
Engineering,vol 61, pp. 1538-1554, 2014. 
[3] M. M. Alam and E. B. Hamida, “Surveying Wearable Human 
Assitive Technology for the Life and Safty Critical 
Applocations: Standards, Challenges and Opportunities,” 
Sensors 2014, pp. 9153-9209, 2014. 
[4] M. J. Deen, “Information and communications technologies 
for elderly ubiquitous healthcare in a smart home,” Pres 
Ubiquit Comput, pp. 573-599, 2015. 
[5] S. Hong and K. S. Park, “ Unobtrusive Photoplethymographic 
Monitoring Under the Foot Sole while in a Standing Posture,” 
Sensors 2018, 3239, 2018. 
[6] V. Bucinskas et al., “Wearable Feet Pressure Sensor for 
Human Gait and Falling Diagnosis,” Sensors 2021, 5240, 
2021. 
[7] Y. Uchida et al., “Feature Value Extraction for Body 
Condition Change Measurement System Using Pressure 
Sensor Array”Human Interface Society in Japanese, vol.24, 
no.1, pp. 79-82, 2022, ISSN 2188-6652. 
[8] V. Bazarevsky et al., “ BlazePose: On-device Real-time body 
Pose tracking,” arViv:2006.10204v1 [cs.CV] 2020. 
[9] P. Plantard, E. Auvinet, A. S. Le Pierres, and F. Multon,”Pose 
Estimation with a Kinect for Ergonomic Stuidies: Evaluation 
of the Accuracy Using a Virtual Mannequin,” Sensors 2015, 
pp. 1785-1803, 2015. 
[10] J. Beyea, C. A. McGibon, A. Sexton, J. Noble, and C. 
O’Connell, “ Covergent Validity of a Wearable Sensors 
Sytem for Measuring Sub-Task Performance during the 
Timed Up-and-Go test,” Sensors 2017, 934, 2017. 
[11] F. Buisseret et. al., “Time Up and Go and Six-Minute 
Walking Test with Wearable Inertial Sensor: One Step Futher 
for Prediction of the Risk of Fall in Elderly Nursing Home 
People,” Sensors 2020, 3207 2020. 
[12] J. Choi, S. M. Parker, y. Gwon, and J.Youn, “ Wearable 
Sensor-Based Prediction Model of Time up and Go Test in 
Older Adults,” Sensors 2021 6831, 2021. 
[13] J. P. Monteiro, A. T. Magalhaes, and H.  P. Oliveira, “Human 
Pose Estimation, Anthropomorphism and Gamification in 
Promotion of Physical Activity Among Breast Cancer 
Surviviors,” Int’l J. on Advances in life Sciences, vol. 11, pp. 
118-127, 2019. 
[14] Y. Ono, O. D. A. Prima and K. Hosogoe, “Evaluation and 
Application of Partial Body Joint Model in 3D Human Pose 
Estimation from Signal Image,” Int’l J. on Advances in life 
Sciences, vol. 13, pp. 114-123, 2021. 
[15] I. Crombrugg et al., “Accuracy Assessment of Joint Angles 
Estimated from 2D and 3D Camera Measurements,”, 
Seonsors 2022, 1729, 2022. 
[16] X. Yu, J. Baar, and S. Chen, “Joint 3D Human Shape 
Recovery and Pose Estimation from a Signal Image with 
Bilayer Graph,” arXiv:2110.8472v2 [cs.CV], 2021. 
[17] Z. Li, R. Zhang, C. H. Lee, and Y. Lee, ”An Evaluation of 
Posture Recognition Based on Intelligenct Rapid Entire Body 
Assessment 
System 
for 
Determing 
Musculoskeletal 
Disorders,” Sonsors 2020, 4414, 2020. 
 
 
6
Copyright (c) IARIA, 2022.     ISBN:  978-1-61208-995-9
GLOBAL HEALTH 2022 : The Eleventh International Conference on Global Health Challenges

