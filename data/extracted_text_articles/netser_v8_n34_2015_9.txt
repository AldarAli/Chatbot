Distance Sensor Assistance to GPS Positioning
Yasuhiro Ikeda, Hiroyuki Hatano, Masahiro Fujii, Atsushi Ito, Yu Watanabe
Graduate School of Engineering,
Utsunomiya University
e-mail:{ikeda@degas., hatano@, fujii@, at.ito@, yu@}is.utsunomiya-u.ac.jp
Tomoya Kitani
Graduate School of Informatics,
Shizuoka University
e-mail:t-kitani@ieee.org
Toru Aoki
Research Institute of Electronics,
Shizuoka University
e-mail:rtaoki@rie.shizuoka.ac.jp
Hironobu Onishi
Graduate School of Engineering,
Shizuoka University
e-mail:onishi@hatanolab.eng.shizuoka.ac.jp
Abstract—Global Positioning System (GPS) requires
the signals from at least four observable satellites with
good condition. However, in urban areas, the number
of the observable satellites in line-of-sight decreases
because urban areas have many buildings. In such case,
the position estimation cannot be performed well. In
order to estimate even if the good observable satellites
are decreased, we use distance sensors. Many vehicles
have the distance sensors that can measure traveling
distances. In our proposal, the distance sensors assist
in calculating own position. By the combination of GPS
and the distance sensors, the proposed method can con-
tinue robust positioning even if we are in urban areas.
Our experimental results will evaluate our eﬀectiveness
of the proposal.
Keywords–GPS; Positioning; Urban canyon; Lack of
observable satellites.
I.
Introduction
In recent years, location-based services have been in-
creasing. These services require the information of user’s
position. Car navigation systems can be given as an exam-
ple. In general, these services use the Global Positioning
System (GPS). GPS can estimate user’s position by using
ﬂying satellites around the Earth. We also focus on a novel
GPS positioning in this paper [1].
The position estimation by GPS calculates the position,
based on the measurement of the distances between the
GPS receiver and the GPS satellites. In order to perform
the position estimation, GPS receiver requires at least
four satellites that can be received in line-of-sight [2].
However, in urban areas, the number of the observable
satellites decreases because of buildings. Also, in urban
canyon, GPS signals from the observable satellites tend
to degrade because of multi-path propagation. The signals
from satellites in non-line-of-sight should not be used
because the errors are included in the propagated paths. In
order to avoid degraded signals, the number of direct-path
satellites that we prefer to use is more decreased. In such
cases, the position estimation cannot be performed well.
For example, the estimator cannot estimate the receiver’s
position if the number of observable satellites becomes less
than three. Or, the performance becomes worse compared
to the conditions in open sky where we can observe more
than four satellites. Actually, conventional GPS systems
rely on other information such as map information, base
stations of assisted cellular networks, or Wi-Fi networks
against the bad GPS measurement. In this paper, we will
propose another assistance by a sensor data.
Many vehicles have wheel rotation sensors that can
measure traveling distances. We proposed the novel po-
sitioning method that uses the information of the previous
traveling distance [3][4][1]. Our proposed method uses the
information of both the distance sensor and the previous
position that is estimated under good condition. Higher
accuracy in position estimation is expected by our pro-
posed method, even when the number of observable good
satellites is decreased. Also, it can be expected to prevent
the impossibility of the position estimation when the num-
ber of the observable satellites becomes three. Moreover,
better position estimation is expected by our proposed
method, even when available satellites includes large error.
By both the traveling distance and previous position, the
proposal can add a quasi-satellite to GPS satellites. So, we
can expect robust positioning by assistance of the sensor
data.
In this paper, we will present the proposal’s perfor-
mance by ﬁeld experiments. In the experiments, the po-
sition estimation is performed by traveling on a bicycle.
From experimental results, we will evaluate the eﬀective-
ness of our proposed method.
This paper organized as follows. In Section II, we will
introduce related works brieﬂy. In Section III, we will
show the case that the number of the observable satellites
becomes three as the worst case. Under the worst case
of three satellites, we will show our proposal in detail. In
Section IV, we will evaluate our proposed method under
three satellites. In Section V, we will show application of
the proposal. We will apply our proposal to the case that
more satellites exist. In Section VI, we will evaluate in
case that adding the quasi-satellite by the proposal to the
available all satellites. Finally, Section VII summarizes the
paper.
215
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

II.
Related Work
In this section, we will show the related methods to
improve the accuracy of the position estimation. Here, we
are introducing the traditional and basic technologies.
A. Diﬀerential GPS (DGPS)
The Diﬀerential GPS (DGPS) is the method for im-
proving the position estimation accuracy [5]. The DGPS
uses the GPS base station. The GPS base station trans-
mits the information of the error amount in the GPS
measurement to near GPS receivers. Measuring of the
error information is performed accurately at the GPS base
station.
Generally, the position estimation by GPS calculates
the position by using the measurement of the distances
between the GPS receiver and the GPS satellites. However,
some errors are included in the distance measurement. The
distance errors by clock diﬀerence, the ionospheric delay,
and the troposphere delay can be given as examples. The
estimation accuracy of user’s position can be improved by
correcting the error information that is generated at the
GPS base station. However, the GPS estimation is used in
various locations, such as urban areas, rural areas, sea, and
mountains. In the urban areas, the DGPS cannot correct
the propagation delay caused by the reﬂection at buildings.
Therefore, in such case, the position estimation cannot be
performed well.
B. Dead Reckoning (DR)
The Dead Reckoning (DR) is the method of performing
position estimation by the information of the relative
movement [6]. In other words, DR uses the information
how much we traveled from the previous position. Since
the DR does not require any infrastructures, the DR is
not limited to any area.
In vehicles, various sensors exist to detect the direction.
Usually, the angular velocity is detected by the angular
velocity sensor. The angular velocity can be calculated by
integrating the traveling direction [7]. Also, it is possible
to detect the direction by using a ﬁber optic gyroscope.
The ﬁber optic gyroscope is a device for determining the
direction by measuring the time diﬀerence of the light
when the angular velocity is added to the ﬁber optic.
By using vehicle speed pulses, it is possible to detect
the traveling distance. The vehicle speed pulse is the signal
that is generated according to the rotational speed of the
drive shaft of the vehicle. We can measure the traveling
distance based on the circumference of the tire and the
vehicle speed pulse.
In the DR, the relative position can be estimated by
using the moved direction and the traveled distance. The
DR is often used with a map matching technique, as
described in the next section. The combination of both
DR and map matching are often used in the car navigation
systems.
C. Map Matching
The map matching is the method for ﬁnding the ap-
propriate position of the vehicle on the road by using the
map information [8]. It is used in combination with the
position estimation methods such as GPS and DR.
Currently, the map matching and the DR are com-
monly used in the car navigation systems [14]. The DR
is a system for determining the relative position from the
previous position. In DR, the error accumulates when the
error occurs in the distance sensor and the direction sensor.
This problem can be solved by using the map matching,
but the map matching cannot be used in a place that does
not have the map information. So, in order to estimate the
absolute position, the DR with the map matching is often
used with GPS. However, the sensor data from the DR
does not improve the positioning accuracy of GPS directly.
As other works for multipath propagation in urban
area, there are a lot of researches which can mitigate
the multipath interference. For example, techniques which
focus on signal tracking on a receiver or channel estimation
by multiple correlators are shown[9], [10]. Moreover, the
mitigation methods of Direction-of-Arrival (DoA) esti-
mation by array antenna are also shown[11], [12]. The
purpose of these methods is to prevent the degradation
of the positioning performance in case of the multipath
propagation with LOS satellites. Also, most of recent
cellular phones use assisted-GPS (A-GPS), which is based
on 3G/4G connection [13]. By using A-GPS, users can
estimate own position rapidly under the environment of
weak or bad satellite signals.
As a new method, we want to improve the position
estimation accuracy by adding the sensor data, to the GPS
position estimation directly. Here, we use a distance sensor.
We proposed the positioning method that can estimate
the absolute position by the combination of the distance
sensor and GPS [3][4][1]. By our proposed method, the
absolute position can be estimated even if only GPS cannot
estimate own position exactly because of the bad envi-
ronment. The bad environment for the conventional GPS
is under lack of the observable satellites in line-of-sight.
This case often happens in urban areas. The worst case is
that the number of the observable satellites is three. The
proposed method can estimate the own position but the
conventional cannot estimate. We will treat this worst case
in Sections III and IV. Of course, if the number of satellites
is more than four, our proposed method may estimate well
by assistance of the distance sensor. We will introduce this
case in Sections V and VI. In our proposal method, we will
keep estimating the user’s absolute position by assistance
of the distance sensor.
III.
Proposed Method Under Three Satellites
In this section, ﬁrst, we will show the problems of the
position estimation by GPS. As a worst case, we assume
that the number of the observable good satellites is three.
Thereafter, we will show our proposed method that uses
the distance sensor and the previous position information.
A. Problems of Position Estimation by GPS
The GPS positioning estimates the receiver’s posi-
tion based on the distances between the receiver and
the satellites [15]. For estimating the 3D position of the
receiver, the receiver needs three relations, that is, three
satellites. Moreover, the receiver needs to estimate own
clock error because the general receivers are equipped with
inexpensive crystal clocks. Therefore, the GPS position
216
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 1. Assumed situation of our research.
estimation needs four relations, that is, four satellites. For
carrying out the positioning calculation, the GPS position
estimation needs at least four observable satellites. The
observable satellite means the satellite that can receive
its signal in line-of-sight. However, in urban areas, the
number of the observable satellites are decreased because
the receiver cannot observe the low elevation satellites due
to the interference of buildings. Therefore, the receiver
is not always possible to observe more than or equal to
the four satellites in line-of-sight. So, the number of the
observable satellites tends to decrease. Such decrement
results in degradation of the position estimation accuracy.
As a worst case, the receiver cannot estimate its own
position if the number of the observable satellites becomes
less than four. This is the most common problem in urban
area.
To solve the above problem, we propose the novel GPS
estimation that uses the distance sensor and the previ-
ous position information. The proposal method uses the
previous receiver’s position. We can measure the traveling
distance from the previous position by the distance sensor.
We assume the previous position as the quasi-satellite,
which uses both the previous position and the traveled
distance. By the proposed method, we expect that the
position estimation is possible even if the number of the
observable satellites are three. In addition, we also expect
the improvement of position estimation accuracy when the
number of the observable satellites are low. The detailed
procedure is shown in the next subsection.
B. Proposed Position Estimation Algorithm
The proposed method is assumed to be used in position
estimation on vehicles such as cars or bikes. The assumed
situation of our research is shown in Figure 1. We consider
2 observation times (the time t and t + τ). The position
coordinate of the receiver at the time t is (x0, y0, z0). And
the position coordinate of the receiver at the time t + τ
is (x, y, z). We want to estimate the position (x, y, z). We
deﬁne that the position of the i-th satellite is (xi, yi, zi).
By using the orbital information of the satellites that
is contained in the satellite signals, the positions of the
satellites can be deﬁned. Also, the variables ri(i = 1, 2, 3)
are the distances between the receiver and the satellites.
On the other hand, the variables r0 is the distance between
the time t position and the time t + τ position. Here,
we assume that the position was correctly estimated by
the adequate satellites at the time t. After traveling, we
assume that the observable satellites are decreased at the
time t + τ. The number of the observable satellites at
the time t + τ are assumed as three. In this case, the
position estimation becomes impossible because of lack of
observable satellites.
In this paper, for the purpose of simple explanation,
we assume that the number of the observable satellites
are four at the time t. The GPS positioning at the time t
uses the satellite positions and the distances between the
receiver and the satellites. The true distance ρi between
the i-th satellite and the receiver can be expressed as
follows.
ρi =
√
(xi − x0)2 + (yi − y0)2 + (zi − z0)2
(1)
The clock error may be included to the distance between
the receiver and the satellite. Therefore, the distance ri
can be expressed by (2).
ri = ρi + s
(2)
Here, the clock error is represented as the parameter s.
The unit of clock error s is meter. This equation can be
applied to all the observable satellites. As the number of
the observable satellites are four at the time t, the following
four equations can be obtained.





r1 = ρ1 + s
r2 = ρ2 + s
r3 = ρ3 + s
r4 = ρ4 + s
(3)
By solving (3), it is possible to ﬁnd out the position of the
receiver (x0, y0, z0) and the clock error s [16].
In case of the time t + τ, the above method is not
applicable for the position estimation because the number
of the observable satellites are three. Therefore, we will
estimate the position (x, y, z) by adding the quasi-satellite.
That is, we use the previous position (x0, y0, z0) and the
distance between the current position and the previous
position r0. The distance r0 can be represented by (4).
r0 =
√
(x0 − x)2 + (y0 − y)2 + (z0 − z)2
(4)
At the time t + τ, we can observe the three satellites. So,
we can obtain the three equations (2). By using the three
relations based on (2) and (4), we can derive the following
equations.







r1 =
√
(x1 − x)2 + (y1 − y)2 + (z1 − z)2 + s
r2 =
√
(x2 − x)2 + (y2 − y)2 + (z2 − z)2 + s
r3 =
√
(x3 − x)2 + (y3 − y)2 + (z3 − z)2 + s
r0 =
√
(x0 − x)2 + (y0 − y)2 + (z0 − z)2
(5)
It is possible to estimate the position (x, y, z) by (5).
The advantage of the proposed method is that we can
increase the available satellites by adding (4). In addition,
217
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

the proposed method only uses the GPS receiver and
the distance sensor, no other infrastructure is needed. In
our proposal, we need the distance between the current
position and the previous position. In recent vehicles, it
is easy to measure the traveling distance because most of
the vehicles have distance sensors, such as speed pulses.
Also, our proposal use the previous position. So, we note
the proposal may accumulate the positioning errors that
are based on the estimation errors of the previous position.
C. Calculation Process of Position Estimation
Because the simultaneous equation (5) is nonlinear, the
solution can be obtained by the sequential approximation
that is performed the linearization around the initial value.
Here, the procedure of the sequential approximation is
shown below. As a notation, subscripts of the right shoul-
der of the following variables indicate the times of the
sequential approximation.
1) we prepare the suitable initial values x0, y0, z0, s0
about x, y, z, s.
2) By using the receiver position x0, y0, z0 and the clock
error s0, we calculate the distances between the re-
ceiver and the satellites.







r0
1 =
√
(x1 − x0)2+(y1 − y0)2+(z1 − z0)2+s0
r0
2 =
√
(x2 − x0)2+(y2 − y0)2+(z2 − z0)2+s0
r0
3 =
√
(x3 − x0)2+(y3 − y0)2+(z3 − z0)2+s0
r0
0 =
√
(x0 − x0)2+(y0 − y0)2+(z0 − z0)2
(6)
3) The residual error ∆ri = ri−r0
i can be determined by
using the distance ri(i = 0, 1, 2, 3), which is actually
measured.
4) Since it is possible to approach the correct solu-
tion by compensating same amount corresponding to
the residual error for x0, y0, z0, s0, the compensation
amount is determined using the partial derivative
about x, y, z, s.
∂ri
∂x
=
− (xi−x)
ri
∂ri
∂y
=
− (yi−y)
ri
∂ri
∂z
=
− (zi−z)
ri
∂ri
∂s
=
{
1(i = 1, 2, 3)
0(i = 0)
(7)
From (7), the compensation amount ∆x, ∆y, ∆z, ∆s
to update x0, y0, z0, s0 can be represented as follows.









∆r1 =
∂r1
∂x ∆x + ∂r1
∂y ∆y + ∂r1
∂z ∆z + ∂r1
∂s ∆s
∆r2 =
∂r2
∂x ∆x + ∂r2
∂y ∆y + ∂r2
∂z ∆z + ∂r2
∂s ∆s
∆r3 =
∂r3
∂x ∆x + ∂r3
∂y ∆y + ∂r3
∂z ∆z + ∂r3
∂s ∆s
∆r0 =
∂r0
∂x ∆x + ∂r0
∂y ∆y + ∂r0
∂z ∆z
(8)
Here, the simultaneous equation (8) can be repre-
sented by the matrix form in order to simplify han-
dling. We deﬁne the vectors ∆⃗x = [∆x, ∆y, ∆z, ∆s]T
and ∆⃗r = [∆r1, ∆r2, ∆r3, ∆r0]T (the notation T ex-
presses a transpose), the equation (8) can be expressed
as follow.
G∆⃗x = ∆⃗r
(9)
Here, the matrix G is usually called as the observation
matrix or the design matrix. The matrix G can be
expressed as follows.
G =


∂r1
∂x
∂r1
∂y
∂r1
∂z
∂r1
∂s
∂r2
∂x
∂r2
∂y
∂r2
∂z
∂r2
∂s
∂r3
∂x
∂r3
∂y
∂r3
∂z
∂r3
∂s
∂r0
∂x
∂r0
∂y
∂r0
∂z
∂r0
∂s


=


− (x1−x)
r1
− (y1−y)
r1
− (z1−z)
r1
1
− (x2−x)
r2
− (y2−y)
r2
− (z2−z)
r2
1
− (x3−x)
r3
− (y3−y)
r3
− (z3−z)
r3
1
− (x0−x)
r0
− (y0−y)
r0
− (z0−z)
r0
0


(10)
The compensation amount ∆x, ∆y, ∆z, ∆s in (8) can
be derived by multiplying the inverse matrix of G from
the left of (9). Therefore, the compensation amount
∆x, ∆y, ∆z, ∆s can be determined by solving (11).
∆⃗x = G−1∆⃗r
(11)
5) The
initial
values
x0, y0, z0, s0
are
updated
by
∆x, ∆y, ∆z, ∆s as follows.
x1
=
x0 + ∆x
y1
=
y0 + ∆y
z1
=
z0 + ∆z
s1
=
s0 + ∆s
(12)
6) After updating the initial value to x1, y1, z1, s1, we
return to the Procedure 2. These procedures are
repeated until ∆x, ∆y, ∆z, ∆s becomes enough small.
By following the above procedure, our proposed method
has the possibility to calculate the receiver’s position
(x, y, z). In our experience, the solution can converge
by repeating several times even if the initial values are
x0 = y0 = z0 = s0 = 0.
IV.
Characterization by Field Experiment I
A. Setup and Environment
The experiments were conducted in order to evaluate
the ability and the eﬀectiveness of the proposed method. In
the proposed method, the position estimation is performed
while updating the traveling distance and the previous
position. The assumed environment is an urban area.
There are many buildings in urban areas. The satellites
with low elevations tend to be shaded by the buildings. As
the worst case, the number of the observable satellites is
only three. We use three satellites with high elevations.
In the experiment, we are using a bicycle as the moving
vehicle. The bicycle is shown in Figure 2. As shown
in Figure 2, a GPS antenna is attached to the loading
platform. Also, the cycle computer is attached to the front
wheel. The cycle computer is shown in Figure 3. The cycle
computer is a device that senses a magnet mounted on the
spokes of the tire to generate a pulse after each rotation.
The bicycle also has a data logger system. Each generated
pulse is saved in the data logger. The sampling interval of
the data logger is 1 ms. The example of the saved pulses
is shown in Figure 4. From Figure 4, the cycle computer
outputs 0V when the magnet passes the front of the sensor.
Except above, the cycle computer usually outputs 2V. We
218
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 2. Experimental vehicle.
Figure 3. Cycle computer.
can recognize the rotation of the tire by the pulses. Based
on these pulses, the distance r0 can be measured. The
duration between an edge of a pulse and that of the next
pulse is equal to the circumference of the tire. The traveling
distance r0 is calculated for each position estimation by
using the circumference of the tire.
The experiment has been conducted under an open
sky. The distance r0 had measured while traveling by the
bicycle. The position estimation of the proposed method
is performed using the three satellites with high elevation
and the previous position. For comparison, the positions
are also estimated by the conventional method with all the
observable satellites. As mentioned in Section II, there are
the past researches. However, in this paper, we compare
the stand-alone GPS estimation as standard.
A total distance of the experimental riding is 100 me-
ters. In the ﬁrst 20 meters, we rode toward east straightly.
Then, we turned right. In the next 80 meters, we rode
toward south straightly again. The cycle computer has a
function that displays the speed according to the rotational
speed of the tire. We kept the speed of the bicycle 10
km/h. From the start to the end, the time is 50 seconds.
Table I summarizes the parameters of the experiment
environment.
Figure 4. Waveform from the cycle computer.
TABLE I. SPECIFICATIONS OF THE EXPERIMENT
ENVIRONMENT
GPS receiver
JAVAD GNSS DELTA-G3T
Number of
8 satellites
observable satellites
Total traveling time
50 s
Estimation interval of
1 s
GPS receiver
Data logger
EasySync DS1M12
Cycle Computer
CATEYE CC-VL820 VELO 9
Sampling interval of
1 ms
the data logger
Circumference of
1.515m
the tire of the bicycle
By using the data obtained in the experiment, the
position estimation is performed per second. The GPS
receiver can output the distance between the receiver and
the satellites. The output distance includes some errors,
such as the ionospheric delay error and the tropospheric
delay error (so, the output distance is often called as the
pseudo range). The ionospheric delay can be estimated by
the transmitted messages from the satellites because the
messages have coeﬃcients of equations, which are modeled
as the ionospheric delay. So, in this paper, we subtract
the modeled ionospheric delay from the output distance.
Similarly, we subtract the modeled tropospheric delay from
the output distance. We use the remaining distance as
the distance ri For comparison, the position estimation
using all satellites was also calculated per second. In the
proposed method, the position coordinates of the start is
estimated by using the four satellites with high elevation.
B. Position Estimation Results
Figure 5 shows the results of the proposed and conven-
tional method of position estimation. The origin of Figure
5 is the starting point. The positioning results are plotted
every second. According to Figure 5, by using the proposed
219
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 5. Position estimation results of all satellites and the
proposed method.
method, the position estimation can be performed even
when the number of the observable satellites are three.
First, the bicycle is moving towards east, from the start
point. After going 20 meters straightly, the direction is
changed to the south. Finally, the vehicle stops when the
traveling distance becomes 80 meters from the turned
point. As we can see, the proposal method can keep
estimating the position when the direction of the traveling
is changed while traveling.
In Figure 6, the positioning diﬀerence between the es-
timated position by the proposed method and the position
by all the satellites is shown. The positioning diﬀerence is
deﬁned as Euclidean distance between both the positions.
Figure 6 is plotted every second. The total traveling time
is 50 seconds. The positioning diﬀerence is 5 meters or less
until 11 seconds from the start time. In addition, from 22
seconds to 50 seconds, the positioning diﬀerence also under
5 meters. Also, a few samples are 7 meters or less. From
12 seconds to 21 seconds, the positioning diﬀerence is over
10 meters.
As another viewpoint of discussion, Figure 7 shows the
cumulative probability distribution in order to check the
distribution of the positioning diﬀerence. From Figure 7,
76 percent of the positioning diﬀerences are 5 meters or
less. The rate of the positioning diﬀerences over 10 meters
is about 17 percent.
By considering these results, the proposed method
is able to estimate the receiver’s position by using the
previous position and the three satellites with high eleva-
tion. However, there are some cases when the positioning
diﬀerences are more than 10 meters. These large diﬀerences
are a problem that will have to be resolved. One of the
above reasons is the satellites constellation. Generally, in
case of the four satellites, the good satellites constellation
Figure 6. Positioning diﬀerence.
Figure 7. Cumulative probability distribution of the positioning
diﬀerence.
can be presented as follows [17].
•
One satellite is near zenith, that is, with high
elevation.
•
Other three satellites are distributed and sur-
rounded uniformly with low elevations.
In this experiment, three satellites with high elevation have
220
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

been selected. A better selection has to be consider for
the above appropriate satellite constellation. By a better
selection, we expect that the proposal can become better.
We now investigate other reasons why the large diﬀer-
ences occur. In this paper, the properties were evaluated
by comparing the position estimation results of using all
satellites. However, the measurement error of the estima-
tion results by all satellites may be included. In oder to
investigate in more detail, it is necessary to evaluate the
characteristics by comparing the true position with the
proposed method.
The proposed process is not much diﬀerent from the
conventional process. In the proposed method, we just use
the traveling distance instead of the range from a satellites.
So, there is no big diﬀerence in calculation time compared
to the conventional positioning. We hope that our proposal
can be calculated in real-time.
V.
Application of proposal
The proposed method in Section III was used for three
satellites. In this section, we will apply the assistance of the
distance sensor by the proposal for estimating own position
by available all satellites. By using both the distance
sensor’s data and the previous position, we can add the
quasi-satellite to the available satellites. That is, we can
increase the number of available satellites. For example, we
can estimate own position by 11 satellites (10 satellites and
a quasi-satellite) even when we can observe 10 satellites.
The calculation equations are as follows. These are
similar to (8).



















∆r1 =
∂r1
∂x ∆x + ∂r1
∂y ∆y + ∂r1
∂z ∆z + ∂r1
∂s ∆s
∆r2 =
∂r2
∂x ∆x + ∂r2
∂y ∆y + ∂r2
∂z ∆z + ∂r2
∂s ∆s
∆r3 =
∂r3
∂x ∆x + ∂r3
∂y ∆y + ∂r3
∂z ∆z + ∂r3
∂s ∆s
...
∆rN = ∂rN
∂x ∆x + ∂rN
∂y ∆y + ∂rN
∂z ∆z + ∂rN
∂s ∆s
∆r0 =
∂r0
∂x ∆x + ∂r0
∂y ∆y + ∂r0
∂z ∆z
(13)
The variable rn, (n = 1, 2, · · · , N) means the distances
between the receiver and the satellites. The variable N
is the number of the used satellites.
As mentioned before, the distance rn is often called as
the pseudo range because the distance rn includes errors.
The lower the elevation angle of the satellite is, the larger
these errors become. Generally, the relation between the
standard deviation of the errors in the pseudo range and
the elevation angle can be approximated as:
σ(θ) = 0.8
sin θ,
(14)
where the variable θ means the elevation angle of the satel-
lite [18]. In the positioning processes, we have to consider
the bad inﬂuence by the above error. So, the calculation
equations are expanded into the weighted equations as
follows [18]:



















1
σ1 ∆r1 = 1
σ1
∂r1
∂x ∆x+ 1
σ1
∂r1
∂y ∆y+ 1
σ1
∂r1
∂z ∆z+ 1
σ1
∂r1
∂s ∆s
1
σ2 ∆r2 = 1
σ2
∂r2
∂x ∆x+ 1
σ2
∂r2
∂y ∆y+ 1
σ2
∂r2
∂z ∆z+ 1
σ2
∂r2
∂s ∆s
1
σ3 ∆r3 = 1
σ3
∂r3
∂x ∆x+ 1
σ3
∂r3
∂y ∆y+ 1
σ3
∂r3
∂z ∆z+ 1
σ3
∂r3
∂s ∆s
...
1
σN∆rN= 1
σN
∂rN
∂x ∆x+ 1
σN
∂rN
∂y ∆y+ 1
σN
∂rN
∂z ∆z+ 1
σN
∂rN
∂s ∆s
1
σ0 ∆r0 = 1
σ0
∂r0
∂x ∆x+ 1
σ0
∂r0
∂y ∆y+ 1
σ0
∂r0
∂z ∆z
(15)
In order to calculate the compensation amount ∆⃗x =
[∆x, ∆y, ∆z, ∆s]T, we used (11). In this section, we can
determine the compensation amount as follows:
∆⃗x =
(
GT WG
)−1 GT W∆⃗r,
(16)
where
W =







1
σ1
0
· · ·
0
0
0
1
σ2
· · ·
0
0
...
...
0
0
· · ·
1
σN
0
0
0
· · ·
0
1
σ0







.
(17)
By using the above compensation, we can update the
values x, y, z, s such as (12).
VI.
Characterization by Field Experiment II
A. Setup and Environment
In order to conﬁrm and evaluate the characteristics
of the extended method in Section V, we conduct other
simulations in addition to Section IV. In Section IV, we
simulated the case that the number of satellites are three.
In this section, we will apply our proposal to the estimation
under available all satellites. By using the distance sensor’s
data, we add the quasi-satellite to the available satellites.
In urban canyon, the following problems are famous.
1) There are many tall buildings. In case of satellites
with high elevations, a receiver can receive direct path
signals from the satellites in line-of-sight. However,
in case of satellites with middle elevations, the signal
tends to be shielded by the buildings. So, the receiver
cannot receive direct-path-signal. In case of indirect-
path signal, estimated positions have large errors.
2) Also, the signals from satellites with low elevations
tend to be shielded by the buildings. So, the propa-
gated path includes large errors. Then the estimated
positions have large errors.
By using our proposal, we can prepare the quasi-
satellite. So, we can use the quasi-satellites instead of the
above bad satellites.
The following simulations use the real satellites in-
formation that is measured in Section VI. The satellites
constellaton, which is recorded in the measurement, is
shown in Figure 8. The number of available satellites are
eight. In the simulations, the weight of the quasi-satellite
by the wheel sensor is set as 1. In other words, the weight
W in (17) is set as 1.
In this section, we simulated the following two scenar-
ios.
221
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 8. Satellites constellation.
Case A The satellite number PRN:18 includes large error.
The elevation of the satellite PRN:18 is 58◦, that
is middle elevation. In order to simulate including
the error, we add +10 meters to the measured
range intentionally. In the proposal, the position
can be estimated by using the quasi-satellite in-
stead of PRN:18.
Case B The satellite number PRN:5 includes large error.
The elevation of the satellite PRN:5 is 7◦, that is
very low elevation. In order to simulate including
the error, we also add +10 meters to the measured
range intentionally. In the proposal, the position
can be estimated by using the quasi-satellite in-
stead of PRN:5.
In both Case A and Case B, we treat the positioning
result by all 8 satellites as true positions because the
measurement is conducted under open-sky.
B. Position Estimation Results (Case A)
In Case A, the simulated results are shown in Figures 9
- 12. Figure 9 shows the plots that are estimated positions
by both all 8 satellites and 8 satellites (10 meters is added
to the range of PRN:18). Figure 11 shows the plots that are
estimated positions by both all 8 satellites and 7 satellites
(proposal without PRN:18). Figures 10 and 12 show the
positioning diﬀerences to all 8 satellites.
Figure 9 shows the plots that are estimated positions
by both all 8 satellites and 8 satellites (10 meters is added
to the range of PRN:18). The origin is the start point. The
positioning results are plotted every second. In results of
the all 8 satellites, the bicycle is moving towards east, from
the origin. After going 20 meters straightly from the start
point, the direction is changed to the south. The bicycle
stops when the traveling distance becomes 80 meters from
the turned point. In results of the 8 satellites (10 meters is
added to the range of PRN:18), the start point is 5 meters
away from the origin. The trajectory is almost similar to
that of the all 8 satellites case. The bicycle stop point of
Figure 9. Positioning results (8 satellites vs 8 satellites(PRN 18:
Indirect Path)).
Figure 10. Positioning diﬀerences (8 satellites vs 8 satellites(PRN
18: Indirect Path)).
8 satellites (10 meters is added to the range of PRN:18) is
5 meters away from the stop point of all 8 satellites.
Figure 10 shows the positioning diﬀerences between the
estimated position by the all 8 satellites and 8 satellites
(10 meters is added to the range of PRN:18). Figure 10
is plotted every second. The total traveling time is 50
seconds. The positioning diﬀerences are around 6 meters
or less from the start point to the stop point. The plots
222
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 11. Positioning results (8 satellites vs 7 satellites(w/o PRN
18, proposal)).
Figure 12. Positioning diﬀerences (8 satellites vs 8 satellites(w/o
PRN 18, proposal)).
do not have large oscillation. The reason may be that the
added error is a constant value. Average of the positioning
diﬀerence is 5.40 meters. The positioning diﬀerence result
must be inﬂuence by adding +10 meters.
Figure 11 shows the plots that are estimated positions
by both all 8 satellites and 7 satellites (proposal without
PRN:18). The origin is the start point. The positioning
results are plotted every second. The result of the all 8
satellites case is same to that of all 8 satellites case in
Figure 9. And, the results of the 7 satellites (proposal
without PRN:18) are the result like the all 8 satellites.
In Figure 12, the positioning diﬀerences between the
estimated position by the all 8 satellites and 7 satellites
(proposal without PRN:18) are shown. Figure 12 is plotted
every second and the total traveling time is 50 seconds. The
positioning diﬀerence is around 1 meters or less from the
starts to stop point. Average of the positioning diﬀerence
is 0.51 meters.
By considering these results, the proposed method is
eﬀective in case A. Because, average of positioning dif-
ference in Figure 12 is less than that in Figure 10. The
results suggest that the assistance of the distance sensor is
eﬀective instead of use of the satellite that includes large
error. That is, the proposed method is eﬀective.
C. Position Estimation Results (Case B)
In Case B, the simulated results are shown in Figures
13 - 16.
Figure 13 shows the plots that are estimated
positions by both all 8 satellites and 8 satellites (10 meters
is added to the range of PRN:5). Figure 15 shows the plots
that are estimated positions by both all 8 satellites and
7 satellites (proposal without PRN:5). Figures 14 and 16
show the positioning diﬀerences to all 8 satellites in case
of the above simulations respectively.
Figure 13 shows the plots that are estimated positions
by both all 8 satellites and 8 satellites (10 meters is added
to the range of PRN:5). The origin is the start point. The
positioning results are plotted every second. The moving
of the bicycle is same in case of Section IV-B.
Figure 14 shows the positioning diﬀerences between the
estimated position by the all 8 satellites and 8 satellites (10
meters is added to the range of PRN:5). Figure 14 is plot-
ted every second. The total traveling time is 50 seconds.
The positioning diﬀerences are almost constant because
the added error is constant. Average of the positioning
diﬀerence is about 0.26 meters.
Figure 15 shows the plots that are estimated positions
by both all 8 satellites and 7 satellites (proposal without
PRN:5). The plots in case of all 8 satellites is same to
that in Figures 9, 11, and 13. The positioning results
are plotted every second. The results of the 7 satellites
(proposal without PRN:5) are close to the results of the
all 8 satellites.
In Figure 16, the positioning diﬀerences between the
estimated position by the all 8 satellites and 7 satellites
(proposal without PRN:5) are shown. Figure 16 is plotted
every second. Average of the positioning diﬀerences are
0.29 meters.
Comparing Figures 14 and 16, the rate in case that
the positioning diﬀerences of the proposal are lower than
that of the conventional with PRN:8, which includes the
ranging error is 48%. If the satellites that include errors are
enough low angle, the calculation process decides that the
weight in (17) is extremely low. So, without our proposal,
the inﬂuence of the satellite with low angle is not big
problem. That is, the eﬀective of the proposal is low. We
can ﬁnd that the proposal is always not eﬀective.
VII.
Conclusion and Future Work
In this paper, we proposed the novel positioning algo-
rithm that used not only the GPS satellites but also the
223
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 13. Positioning results (8 satellites vs 7 satellites(PRN 5:
Indirect Path)).
Figure 14. Positioning diﬀerences (8 satellites vs 8 satellites(PRN 5:
Indirect Path)).
distance sensor information. In other words, the distance
sensor assisted the GPS calculation process. By using
our proposal, the problem that degrades GPS signals in
urban canyon is improved. Because the proposal used the
previous own position and the traveled distance that was
measured by the distance sensor, the proposal can regard
the sensor information as the quasi-satellite. The typical
problem in urban area is the decrement of the observable
Figure 15. Positioning results (8 satellites vs 7 satellites(w/o PRN
5, proposal)).
Figure 16. Positioning diﬀerences (8 satellites vs 8 satellites(w/o
PRN 5, proposal)).
satellites. The proposal can add the quasi-satellite. So, we
can keep estimating own position even when the number
of the observable satellites becomes low. Also, in case there
are adequate number of the observable satellites, the quasi-
satellite can help the conventional positioning. As a future
work, we will try eﬀective usage of the quasi-satellite. For
example, we will ﬁnd eﬀective combination of the real
satellites and quasi-satellite.
In order to evaluate the proposed method, we evaluated
224
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

two cases of both insuﬃcient number of satellites and
adequate number of satellites. In the insuﬃcient case, we
conﬁrmed that the proposal was able to keep estimating
own position robustly. In the adequate case, we conﬁrmed
that the quasi-satellite instead of the bad satellite that
includes errors can reduce the positioning errors but the
proposal was always not eﬀective.
Acknowledgment
A part of this research is supported by the Coopera-
tive Research Project of Research Institute of Electronics,
Shizuoka University and the research promotion of the
Murata science foundation.
References
[1]
Y. Ikeda et al., "A Study on GPS Positioning Method with As-
sistance of a Distance Sensor," IARIA International Conference
on Networks, 2015, pp. 109-114.
[2]
T. H. Dixon, "An introduction to the global positioning system
and some geological applications," Reviews of Geophysics, vol.
29, no. 2, 1991, pp. 249-276.
[3]
H. Hatano, T. Kitani, M. Fujii, Y. Watanabe, and H. Onishi, "A
Helpful Positioning Method with Two Gnss Satellites in Urban
Area," IARIA International conference on Mobilie Services,
Resources, and Users, 2013, pp. 41-46.
[4]
H. Hatano et al., "Positioning Method by Two Gnss Satellites
and Distance Sensor in Urban Area," IEICE Transactions on
Fundamentals of Electronics, Communications and Computer
Sciences, vol. E98-A, no. 1, 2015, pp. 275-283.
[5]
S. Skone and S. M. Shrestha, "Limitations in DGPS positioning
accuracies at low latitudes during solar maximum," Geophys-
ical Research Letters, vol. 29, no. 10, pp. 81-1-81-4, 2002,
doi:10.1029/2001GL013854.
[6]
Y. Fuke and E. Krotkov, "Dead Reckoning for a Lunar Rover
on Uneven Terrain," IEEE, vol. 1, 1996, pp. 411-416.
[7]
H. Kanoh, "Dynamic route planning for car navigation systems
using virus genetic algorithms," IOS Press, vol. 11, no. 1, 2007,
pp. 65-78.
[8]
S. Kim and J. H. Kim, "Adaptive Fuzzy-Network-Based C-
Measure Map-Matching Algorithm for Car Navigation System,"
IEEE, vol. 48, no. 2, 2002, pp. 432-441.
[9]
J. Byeong-Chan and S. Kim, “Multipath interference cancella-
tion technique for high precision tracking in GNSS receiver,”
vol.93, no.7, 2010, pp.1961-1964.
[10]
N. Kubo, S. Kondo, and A. Yasuda, “Evaluation of code multi-
path mitigation using a software GPS receiver,” vol.88, no.11,
2005, pp.4204-4211.
[11]
S. Kim, J. Byeong-Chan, and S. Lee, “DoA estimation of line
of sight signal in multipath channel for GNSS receiver,” vol.92,
no.11, 2009, pp.3397-3400.
[12]
S.J. Hwan, J. Heo, S. Yoon, and K.S. Young, “Interference
cancellation and multipath mitigation algorithm for GPS using
subspace projection algorithms,” vol.91, no.3, 2008, pp.905-908.
[13]
G. M. Djuknic and R. E. Richton, “Geolocation and assisted
GPS,” vol.34, no.2, 2001, pp.123-125.
[14]
C. Brenner and B. Elias, "Extracting landmarks for car naviga-
tion systems using existing GIS databases and laser scanning,"
ISPRS Archivers, vol. XXXIV, part3/W8, 2003, pp. 131-136.
[15]
M. S. Braasch, "GPS Receiver Architectures and Measure-
ments," IEEE, vol. 87, no. 1, 1999, pp. 48-64.
[16]
P. Misra, and P. Enge, "Global Positioning system: signals,
measurements, and performance," Ganga-Jamuna Press, 2001.
[17]
X. Meng, G. W. Roberts, A. H. Dodson, E. Cosser, J. Barnes,
and C. Rizos, "Impact of GPS satellite and pseudolite geometry
on structural deformation monitoring: analytical and empirical
studies," Journal of Geodesy, vol. 77, no. 12, 2004, pp. 809-822,
doi:10.1007/s00190-003-0357-y.
[18]
T. Sakai, "GPS notameno Zitsuyo Programing (Practical Pro-
graming for GPS)," Tokyo Denki University Press, 2007.
225
International Journal on Advances in Networks and Services, vol 8 no 3 & 4, year 2015, http://www.iariajournals.org/networks_and_services/
2015, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

