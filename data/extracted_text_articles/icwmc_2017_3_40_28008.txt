Battery-less Near Field Communication Sensor Tag Energy Study  
with ContactLess Simulator 
David Navarro, Guilherme Migliato-Marega, and Laurent Carrel 
Université de Lyon, ECL, INSA Lyon, UCBL, CPE  
INL, UMR5270 
F-69134, Ecully, France 
david.navarro@ec-lyon.fr, guilherme.migliato-marega@ecl15.ec-lyon.fr, laurent.carrel@ec-lyon.fr 
 
Abstract—ContactLess Simulator (CLS)  was used to simulate a 
smart tag composed of a Near Field Communication (NFC) 
circuit, a microcontroller unit and a temperature sensor. More 
precisely, our study focuses on battery-less electronic systems: 
sensor and microcontroller are supplied by the NFC circuit. To 
prove such a system can function, energy budget has to be 
explored; this is the aim of this simulator. This paper describes 
the battery-less electronic system we considered, and simulation 
results prove that each NFC reading of the tag will recharge it 
for 44 cycles of autonomous functioning (temperature sensing, 
data logging).  
Keywords-Simulation; Modeling; NFC; Microcontroller; 
MCU; Energy harvesting. 
I. 
 INTRODUCTION 
Internet of Things (IoT) is now a well-known ecosystem 
where physical small and smart objects interact trough 
communicating networks. These networks are wired or 
wireless; the trend is the closer to the object, the more often 
wireless. Small size and wireless communication give faster 
and easier installation and deployment. Typical architecture of 
these objects is also composed of several parts from this list: 
sensors, actuators, central processing unit, communicating 
device. 
Wireless powering systems exist since several years, and 
are nowadays widespread in powering systems, such as 
smartphones wireless chargers [1]. Moreover, certain 
lightweight systems communicate at the same time they 
power the object. It is the case in RadioFrequency 
IDentification systems (RFID). They are composed of an 
emitter and a receiver that is called tag. The emitter sends 
radiofrequency waves in order to power and communicate at 
the same time. A classical tag receives radiofrequency waves 
to power itself, and sends its unique identification number. 
Near Field Communication (NFC) is based on RFID. It 
permits very short communications at a high frequency, in a 
full peer-to-peer mode. NFC inherits characteristics from 
RFID, network and smart card. It is suitable for secure 
communications; as an example, smartphone payment is 
possible with NFC. 
This paper focusses on energy study of a NFC battery-less 
tag. The energy is the major constraint of these systems. A 
new simulator has been developed in order to study these 
electronic systems. It is called CLS: ContactLess Simulator. 
Section II describes the existing simulators in this field. 
Section III specifies the hardware NFC we consider. Section 
IV presents the models that are implemented in the simulator. 
Section V details the test-case results. 
II. 
RELATED WORK 
RFID and NFC simulators are numerous. As RFID and 
NFC systems are electronic and communicating objects, they 
can be studied at different levels: low-level (hardware, 
software) or high-level (protocol, network). Many studies 
involve hardware platforms, like [2]. This study does not 
consider the so-called "simulation platforms" that are in 
reality hardware-based measurements system. It is only 
focused on simulation, with no hardware interaction.  
Low-level simulations focus hardware or radiofrequency 
aspects. For example, Ahn et al. [3] describe a MATLAB-
Simulink model of a radiofrequency transceiver in order to 
provide a quick evaluation of the performances according to 
noise and non-linearity of each individual block in the 
transceiver. 
Cheng et al. [4] present studies on physical link (emitter, 
air, receiver) and radiofrequency propagation aspects. 
Deckmar et al. [5] gives a MATLAB Simulink NFC model for 
radiofrequency modulation study. 
High-level simulations consider protocols, network and 
communication performance. RFIDSIM is a more complete 
simulator that considers physical link and protocol [6]. It 
provides a realistic physical layer and permits a multi-
interface and multi-channel analysis. Others higher-level 
simulators 
focus 
on 
communication 
protocol 
and 
communication performance, such as the well-known NS-3 
simulator. NFC models and protocol study have been 
developed over NS-3 [7]. 
Thus, RFID or NFC simulators that consider energy 
aspects are missing. We have developed a graphical simulator 
for NFC systems. Novelty is that it is focused on energy, and 
simulations that were done were validated by hardware 
measurements. We consider energy harvesting from NFC 
emitter and energy balance according to the tag electrical 
consumption. The wireless-supplied tag is not only composed 
of a classical NFC circuit, but of a more complex smart 
system. It is described in Section III.  
III. 
CONSIDERED NFC SYSTEM 
A typical NFC system is composed of an emitter and a tag.  
It is shown in Fig. 1. The emitter sends energy and data. Tag 
is supplied at this moment, and it answers requests. The tag is 
often composed of a NFC circuit that comprises 2 main 
blocks: energy harvesting block and data decoding block.  
63
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-572-2
ICWMC 2017 : The Thirteenth International Conference on Wireless and Mobile Communications

The energy harvesting block converts the received 
electromagnetic field into usable energy in order to supply the 
circuit. The data decoding block demodulates the signal in 
order to recover the bit-stream.  
 
 
Figure 1.  Typical Architecture of NFC system [8]. 
We consider an active tag (also called dynamic NFC tags) 
composed of a NFC circuit, a microcontroller unit (MCU) and 
a temperature sensor. Communication can thus be initiated by 
the microcontroller, so that communications are event-driven. 
Neither NFC circuit nor microcontroller nor sensor are 
externally supplied by a battery as it is classically the case. 
The only energy source comes from electromagnetic field 
while NFC communications occur between emitter and tag. 
To aim this, we choose the ST-Microelectronics M24LR04E 
chip. It is 13.56 MHz NFC ISO 15693 and ISO 18000-3 mode 
1 compatible and it has an energy harvesting analog output 
that permits to supply other circuits on the board (i.e., 
microcontroller). The global system is shown in Fig. 2. 
IV. 
SIMULATOR AND MODELS 
The CLS simulator has been written in Visual C# in order 
to be easily portable on Microsoft 64-bit Windows operating 
systems. It is part of the Visual Studio Community, a free tool 
for academic research. 
Graphical user interface is drawn in a horizontal way, from 
Emitter on the left towards Load (Electronic system) on the 
right. Fig. 3 shows the main window of CLS simulator.  
As it is shown in Section II, several circuits compose the 
system, so they have been modeled separately. Models are 
high-level (at electronic system level), written in C#. 
Emitting power and antenna gain permit to calculate 
radiofrequency output power, in other terms the magnetic 
field H in mA/m. Frequency and distance between antennas 
lead to radiofrequency signal attenuation. Emitter model 
The emitter is modeled according to: 
- 
emitting power  
- 
frequency of the radiofrequency carrier 
- 
distance between emitter and tag antennas 
- 
emitter antenna gain 
 
 
Figure 2.  Considered battery-less smart tag. 
A. Tag antenna model 
The emitter and tag antennas are PCB coil antennas in our 
prototype. Antenna gain is used to calculate propagation 
losses. According to above calculations, radiofrequency signal 
strength is known at tag antenna input. Tag antenna gain 
attenuation thus gives the signal after antenna. 
B. NFC circuit model  
NFC circuit has the task to demodulate the radiofrequency 
signal. Principle is to extract the low frequency information 
carried in the high frequency: the carrier. High frequency 
permits propagation in the medium (air, plastic packages, 
etc.). Once the information is decoded, an answer can be send 
toward he emitter. Network-like communications occur in 
NFC. As this functionality is not the key point of this study, 
only the electrical consumption of this block is considered. 
C. Self power and energy storage blocks  
Several blocks in NFC circuit are considered. RF2DC 
block receives the radiofrequency signal and converts it to a 
DC (voltage and current) signal. The aim is to create a power 
supply. Conversion goal is to extract the maximum electrical 
power.  
RF2DC is part of the self-power block in Fig. 2. It extracts 
electrical power from the radiofrequency signal carrier. 
M24LR04E circuit has been modeled for this power 
conversion task. The datasheet of this circuit gives H field 
from radiofrequency strength and output power from H field. 
Then, the required current at output has to be known in order 
to calculate the output voltage Vout according to the output 
current Isink. These curves are given in datasheet and have 
been measured. 
DC2DC block converts the RF2DC output, in order to 
create a usable voltage for electronic devices. Electrical power 
is given according to efficiency of blocks. As power is set, a 
good balance between voltage and current has to been chosen. 
It is the role of this DC2DC block. 
Energy storage parameters are used to calculate the 
amount of energy that can be saved in a capacitor. Parameters 
are capacitance value (in nF) and total losses (leakages in fA) 
of switches and capacitor. The role of this module is to 
simulate the energy that can be stored (according to the power 
input from DC2DC bloc) and the energy that can be used 
(according to the supplied load and leakages). It will lead to 
an energy budget analysis. 
 
D. Microcontroller and sensor models 
Microcontroller is modeled as an electrical load according 
to its activity. This load can also vary over time. 
Microcontroller and sensor require a minimal voltage and 
consume a nominal current. In model, electrical power is 
calculated according to: 
- 
microcontroller and sensor brand and model 
- 
microcontroller oscillator type 
- 
microcontroller operating frequency 
 
64
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-572-2
ICWMC 2017 : The Thirteenth International Conference on Wireless and Mobile Communications

Microchip PIC18LF2525 and Maxim MAX6613 are used. 
MAX6613 analog output is connected to ADC input of 
microcontroller. MAX6613 is supplied with an output pin of 
microcontroller. Supply voltage is also the same for both 
components.  
For microcontroller, Microchip PIC18LF2525, oscillator 
type can be external RC (up to 4 MHz), external XTAL 
(crystal oscillator, up to 40 MHz), or internal oscillator. For 
internal oscillator, user can select from the internal 8MHz 
source down to the INTRC 31KHz source.  
Several frequencies are available according to frequency 
post-scaler in the microcontroller. Frequency (in KHz) is the 
primary oscillator frequency that must match one possible 
configuration according to the oscillator type.  
Supply voltage is then entered. All the parameters are 
taken 
from 
Microchip 
PIC18LF2525 
(MCU) 
and 
MAX6613(temperature sensor) datasheets. Design goal 
specifies which value is to maximize: voltage or current. 
Indeed, RF2DC and DC2DC blocks output a given power, and 
the couple voltage and current can vary. This option also 
configures the simulation in order to search the maximum 
current point or the maximum voltage point. The other 
parameter (for example voltage if current is the design goal) 
is displayed as a result. Designer has to it take into account in 
design as a constraint; if the value of this other parameter is 
unreal, parameters concerning the hardware have to be 
changed, for example the microcontroller speed. 
V. 
TESTCASE RESULTS 
To present how the simulation behaves, the test-case has 
been simulated. All parameters that are entered in setup 
windows are sum up in Table II. Results are those in Fig. 4. 
Simulation time for a static analysis is a few milliseconds. At 
receiver (tag), magnetic field H is calculated. It depends on 
emitter power, distance, and antennas gains.  
TABLE I.  
PARAMETERS USED FOR TEST EXAMPLE 
Emitting power 
50 mW 
Frequency 
13560 MHz 
Distance 
5 mm 
Duration 
5 s 
Antennas gain (emitter & tag) 
-3 dBi 
RF2DC & DC2DC converters 
Equations from M24LR04E 
Capacitance 
1000 nA 
Switches leakages 
100 fA 
Microcontroller brand/model 
Microchip / PIC18LF2525 
Microcontroller Oscillator 
Internal oscillator, 31KHz 
Microcontroller Voltage 
2V to 5.5V 
Sensor Voltage 
1.8V to 5.5V 
Simulation setup 
Design goal = current 
 
The harvesting part gives output of RF2DC and DC2DC 
parts in the M24LR04E. As design goal of this analysis is the 
current, the simulator will try to extract nominal current from 
harvesting part. Nominal current is fixed by the required 
current from the electrical load (MCU and sensor).  
Thus, the simulator firstly calculates the nominal current 
with the help of the electrical load. Analysis. This current is 
calculated from MCU and sensor parameters: PIC18LF2525 
requires 15.05µA when running from internal oscillator at 
31KHz. MAX6613 consumes 7.5µA. Simulator then 
calculates the harvesting possible voltage output for a sink 
current of 22.55µA. 
 
Figure 3. Simulator graphical user interface 
65
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-572-2
ICWMC 2017 : The Thirteenth International Conference on Wireless and Mobile Communications

From M24LR04E datasheet curves in the model, 
simulation gives 2.67v. Fig. 4. shows that the required power 
for load is 67.64µW but the harvester can only provide 
60.2µW. As a result, the required voltage 3v is not reached. 
Designer will have to deal with a 2.67v supply, or decrease the 
load current consumption in order to increase voltage supply.  
Energy calculations have also been implemented in 
simulator. It considers electrical power consumption and 
active time. Active time for the emitter is duration of the 
electromagnetic field. Result window thus displays 301µJ for 
5s duration. Active time for the MCU and sensor is the time 
while MCU and sensor are running. Its energy is then 6.76µJ 
for 100ms (temperature sensing, analog to digital conversion 
and data storage in MCU). This result will permit the designer 
to plan how many cycles this This sensor node could run with 
a single electromagnetic charge. It is 44 cycles for this 
example. For this functionality becomes possible, an energy 
buffer must be used. It will be implemented soon in simulator. 
VI. 
CONCLUSION AND FUTURE WORK 
We presented a concrete energy analysis with ContactLess 
Simulator, that is a novelty. Its graphical interface is fully 
based on forms where parameters are set. It was used to 
graphically configure a NFC system composed of an emitter 
and a smart tag. Tag is battery-less (self-supplied), it thus 
comprises an energy harvesting module, with a RF2DC and 
DC2DC converter, a microcontroller unit (MCU) and a 
sensor. Each hardware block is configured by a setup window 
form. Simulation can be tuned for one design goal: search 
maximal voltage or search maximal current. This choice 
depends on designer priority. A launch button runs the 
simulation and displays a result window. Several electrical 
outputs are calculated: electromagnetic field at tag input, 
harvested power (voltage and current), harvested energy for a 
single contactless energy intake, required power (voltage and 
current) for the microcontroller and sensor, required energy 
for a main program loop. Result analysis on a test-case shows 
that the harvested power is a bit weak (60.2µW) compared to 
the required power (67.64µW). According to the design goal, 
fixed to prioritize current, harvested voltage is 2.67v instead 
of 3v. Electronic design can thus be refined with this 
simulator. Energy calculation permits to think about a better 
use of the energy. Indeed, harvested power is weak, but 
harvested energy (301µJ) is much bigger that required energy 
(6.76µJ). Feasibility is also possible with smart energy 
management; we will detail them soon. Further releases of the 
simulator will support transient analysis and more electronic 
circuits in library. 
REFERENCES 
[1] R. Tseng, B. von Novak, S. Shevde, and K. A. Grajski, 
"Introduction to the alliance for wireless power loosely-
coupled wireless power transfer system specification version 
1.0", Wireless Power Transfer (WPT) Conference, pp. 79-83, 
2013, doi: 10.1109/WPT.2013.6556887. 
[2] C. Angerer, B.Knerr, M.Holzer, A.Adalan, and M. Rupp, 
"Flexible simulation and prototyping for RFID designs", 
EURASIP Workshop on RFID Technology, pp.51-54, 2007. 
[3] D.K. Ahn, S.G. Bae, and I.C. Hwang, "A Design of Behavioral 
Simulation 
Platform 
for 
Near 
Field 
Communication 
Transceiver using MATLAB Simulink", The Transactions of 
The Korean Institute of Electrical Engineers journal, Vol. 59, 
Issue 10,  pp. 1917-1922, 2010. 
[4] T. Cheng, and L. Jin, "Analysis and Simulation of RFID Anti-
collision Algorithms", International Conference on Advanced 
Communication Technology, volume 1, pp 697-701, 2007. 
[5] J. Deckmar, and A.Perez-Boutavin, "NFC", [Online, retrieved: 
13th 
Feb. 
2017]. 
Available 
from: 
https://fr.mathworks.com/matlabcentral/fileexchange/34915-
nfc 
[6] C. Floerkemeier, and S. Sarma, "RFIDSim—A Physical and 
Logical Layer Simulation Engine for Passive RFID", IEEE 
Transactions on Automation Science and Engineering, vol. 6, 
n. 1, pp. 33-43, 2009. 
[7] G. Benigno, O. Briante, and G. Ruggeri, "A sun energy 
harvester model for the network simulator 3", Sensing, 
Communication, and Networking - Workshops (SECON), pp. 
1-6, 2015, doi: 10.1109/SECONW.2015.7328143. 
[8] G. Proehl, "An Introduction to Near Field Communications", 
ST-Microelectronics, 2013, [Online, retrieved: 28th June 2017]. 
Available 
from: 
http://www.st.com/content/st_com/en/applications/connectivit
y/near-field-communication-nfc.html 
 
Figure 4. Results Window 
66
Copyright (c) IARIA, 2017.     ISBN:  978-1-61208-572-2
ICWMC 2017 : The Thirteenth International Conference on Wireless and Mobile Communications

