A Complete Set-up to Evaluate the Correlation Between  
Blood Pressure and Pulse Transit Time
Adhurim Hajzeraj, Marco Belcastro, Davide Alfieri, Brendan O‚ÄôFlynn 
Tyndall National Institute 
University College Cork 
Cork, Ireland 
E-mail: adhurim.hajzeraj@tyndall.ie; marco.belcastro@tyndall.ie; davide.alfieri@tyndall.ie; brendan.oflynn@tyndall.ie 
 
 
Abstract‚Äî Blood pressure (BP) has always been one of the most 
important parameters in monitoring cardiovascular system 
conditions and coronary artery diseases (CAD), such as angina 
and myocardial infarction (commonly known as a heart attack). 
This is due to the fact that many of the changes within the 
cardiovascular system, such as clogged arteries, for example, 
are reflected by changes in BP. A number of methods and 
devices that can measure BP are available on the market for 
both clinical and consumer use. However, being able to measure 
one‚Äôs own BP non-invasively, with the required frequency (even 
continuously) in a comfortable fashion remains an unsolved 
problem using currently available systems. To date, the Pulse 
Transit Time (PTT) measurement method has been seen as a 
feasible approach to help bring current blood pressure 
monitoring systems to a stage where non-invasive, continuous 
measurements are viable. However, developing a system which 
uses the PTT method for blood pressure measurement is as yet 
an unsolved problem and it remains a challenge to achieve 
accurate BP results despite considerable research in the past 
decade. In this paper, we present the first step in building a 
smart sensing system that overcomes the technical difficulties 
associated with accurate measurement of PTT. The novel 
hardware 
developed 
incorporates 
multi-modal 
sensing 
capability to explore and quantify the relationship between 
blood pressure and PTT. The evaluation system is completed by 
efficient, simple and fast embedded software algorithms, user 
interface, and clinical validation trials that will enable 
delivering a novel PTT-based blood pressure monitor. 
Keywords - blood pressure; pulse transit time; ECG; PPG; 
calibration; real time data; clinical trials. 
 
I. 
 INTRODUCTION 
According to statistics, cardiovascular diseases (CVD) are 
the main cause of deaths in Europe with 45% of all deaths 
caused by CVDs [1]. The overall estimated cost to the EU 
economy is ‚Ç¨210 billion a year [2]. The motivation for this 
research is to reduce these statistics by finding an improved 
method of continuously monitoring real time blood pressure 
(BP). This will help clinicians to monitor, diagnose and 
improve the condition of the cardiovascular system [3] 
through the availability of more detailed real time data sets. 
The current state of the art in BP measurement utilises a 
number of different methods and devices including 
catheterization, auscultation, oscillometry, volume clamping, 
and tonometry, with catheterization being the most accurate 
standard  currently being used [4].  In general, the accuracy 
of the measurements obtained by existing devices is 
acceptable, but they have a number of drawbacks. Firstly, 
where inflatable cuffs are used, they tend not to be 
comfortable for the user and as a result are inappropriate for 
long term continuous monitoring. Secondly, clinical grade 
systems need to be operated by doctors, which causes a 
phenomenon called ‚Äòwhite coat syndrome‚Äô, where BP 
readings are inaccurate due to the presence of the clinicians.  
A system which would enable clinicians to take accurate, 
real time and continuous BP measurements would be 
invaluable to doctors in diagnosing CVDs at an early stage 
[3]. 
In this paper, the first development stage of such a system 
for BP monitoring based on the PTT method is presented. 
Section II of this paper describes the principles behind the 
PTT measurement method. Section III describes the 
evaluation of components integrated into the system 
hardware platform and the design of a custom hardware and 
new sensors. 
 Sections IV and V describe the developed embedded 
software and user interface respectively. The experimental 
protocol which was developed in conjunction with clinical 
inputs and which was used in the validation trials and the 
associated measurements taken from the subjects as well as 
the initial processed results are shown in Section VI. Section 
VII presents the second design phase of the final device 
which is currently underway. Finally, Section VIII concludes 
the work with some preliminary test results and a description 
of future work to be undertaken. 
II. 
PULSE TRANSIT TIME  
A method that proposes to have a good potential to enable 
non-invasive continuous BP measurement is the Pulse 
Transit Time method. PTT is defined as the time needed for 
the blood wave that goes out of the heart with each beat to 
arrive at a peripheral body site, in our case the wrist or 
fingertip. The delay (PTT) is calculated as the time difference 
between the peak of electrocardiograph (ECG) and the peak 
of photoplethysmogram (PPG) signals. 
The main factors that determine the speed of propagation 
of the pulse wave, and which thus affect the PTT value, are 
the elasticity coefficient, the thickness of the arterial wall, the 
65
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

end-diastolic diameter of the vessel lumen and blood density 
[5]. In 1878, Moens and Korteweg developed a formula that 
relates the velocity of the pulse with the factors as described 
in (1): 
ùëÉùëäùëâ = ùê∑
ùëÉùëáùëá = ‚àöùë°ùê∏
ùúåùëë                            (1)  
 
The Pulse Wave Velocity (PWV) is dependent on a 
number of arterial properties, namely the elasticity of the 
artery wall E, the arterial wall thickness t, the arterial 
diameter d and the density of the blood ùúå [6]. So, as the 
density of blood is close to that of the density of the water, 
the main factors that influence the velocity of the pulse wave 
are the properties of the arterial vessels, stiffness and 
thickness. These factors vary from person to person on an 
individual basis [5]. In the calculation of BP parameters from 
PTT readings for an individual, this variation would be 
addressed through a calibration activity as part of the 
measurement protocol,  but this is insufficient, as vessel 
properties keep changing in a dynamic fashion due to a 
variety of factors [7]. Factors that can change vessel 
properties include ambient temperature [8, 9] barometric 
pressure [10], sleep-wakefulness status of the person [11], 
time of the day [12], sport activities [13] and sometimes it 
can even change by the control of the brain or sympathetic 
system [14]. 
III. 
TYNDALL PTT EVALUATION SYSTEM 
In order to evaluate the impact of the variability inducing 
factors described above in the evaluation of BP and blood 
vessel properties, the WSN group at Tyndall has developed 
novel multi modal sensing system with the required 
hardware, sensors and algorithms, to be able to carry out the 
necessary measurements. The first implementation of the 
measurement system is shown in Figure 1. 
 
A. Microcontroller Hardware System Design 
The focus of this system implementation is the 
development and test of a smart sensing device in the form 
factor of a wrist watch, which would include the processor, 
battery, data visualisation interface, communications and all 
sensors required to measure BP using the PTT method. 
To achieve this, our design methodology had to focus on 
three main parameters. Firstly, the size of the components 
should be small enough to fit in our miniaturised target 
device. Secondly, the microcontroller (MCU) should be 
powerful in its operations, as it will be a real time data 
acquisition system and it will run all the algorithms inside the 
embedded microprocessor. And thirdly, it should be a system 
that spends as little energy as possible as it is battery 
operated. 
Considering all these parameters, we have chosen the 
STM L series microcontrollers [15] to use as a computing 
unit.  
 
 
Figure 1. Setup of the evaluation board prototype data acquisition system. 
As this device is a 32-bit microprocessor that can run at 
clock speeds of up to 100 MHz, it will satisfy our computing 
needs from an algorithmic perspective. At the same time, 
size-wise the STM component is small enough to fit inside a 
smart watch form factor system and is one of the lowest 
energy consuming microcontrollers on the market, if 
embedded code is managed appropriately. In addition to the 
before mentioned performance characteristics of the STM 
component, the MCU is also required to have a powerful 
Analog to Digital converter (ADC) and other digital 
interfaces to read data from the chosen sensors. Figure 1 
shows a picture of evaluation boards that we are using as a 
first data acquisition prototype. The board on the left is the 
evaluation board with the STM microcontroller MCU.  
B. ECG and PPG sensors 
To develop the necessary algorithms to calculate PTT, it 
is anticipated that we will need to have datasets associated 
with two signals associated with the cardiovascular system. 
The heart, during work activities, generates a bio-signal that 
is well known and characterised as ECG, this is one of the 
waveforms we need to establish our BP measurement 
algorithm. Generally, these signals are recorded by placing 
electrodes on the skin, on the chest area, where the signals are 
stronger. Reading ECG by placing electrodes on the chest, 
gives the strongest and most easily read signal, but in general, 
this is not comfortable and convenient for the user. For the 
Tyndall ECG measurement system, we will use two active 
electrodes, which are placed in the watch in a wrist mounted 
implementation.  
The sensor used for this application is named the Electric 
Potential 
Integrated 
Circuit 
(EPIC) 
from 
Plessey 
Semiconductors [16]. The EPIC sensor can be used, as a 
replacement technology for traditional wet-electrode ECG 
pads, because it requires neither gels nor other contact-
enhancing substances. When the EPIC sensor is placed on (or 
in close proximity to) the patient, an ECG signal can be 
recovered. 
66
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Figure 2. Evaluation board of ECG sensor. 
To illustrate the placement of the electrodes to enable ECG 
measurements, consider Figure 2, where we show the 
development board of ECG sensor placed on a subject‚Äôs wrist 
(electrodes in contact with the skin on the underside of the 
board as shown in the smaller picture). To enable ECG 
measurement in the wrist mounted scenario, there are two 
electrodes, electrode A and B. Electrode A is placed under the 
watch and will touch the skin. Electrode B is placed over the 
watch, so every time the user wants to measure BP, the user 
should touch electrode B with a finger of the opposite hand to 
read the differential signal. Figure 3 shows the differential 
amplifier which enables generation of the differential bio-
signal. Input1 is the electrode touching the skin on the wrist 
and Input2 is the electrode touched by the finger of the 
opposite arm. 
 
 
Figure 3. Generating differential biosignal from two inputs 
The second waveform that is needed to develop the BP 
measurement algorithm is the signal generated from a 
photoplethysmogram (PPG) sensor, which shows the level of 
the volume of blood circulating near the sensor. The system 
used in the Tyndall implementation is a Maxim PPG sensor, 
MAX30100 [reference], which contains two light-emitting 
diodes (LED), one red and the other one is infrared together 
with a photodiode.  
The change in volume caused by the pressure pulse is 
detected by illuminating the skin with the light from a LED 
and then measuring the amount of light either transmitted or 
reflected to a photodiode. Each cardiac cycle appears as a 
peak, as seen in Figure 7. 
We are using this sensor to read PPG data from the 
fingertip, which is optimal as at the fingertip the PPG signal 
tends to be clear and not very noisy. Care needs to be taken 
however to ensure the sensor does not move when it is 
touching the fingertip. For initial data set acquisition and 
algorithm development, the fingertip implementation will be 
used for this reason until the wrist PPG sensor development 
is finished. 
The same sensor has been tested acquiring real time data 
from the wrist mounted implementation. On the wrist the 
waveforms tend to be noisier and will require further filtering 
and signal processing to develop a signal of sufficient quality 
for use in real scenarios. 
C. Prototype wrist mounted PPG data acquisition system 
Based on the PPG measurement system described in the 
previous section, the WSN group at Tyndall have developed 
an application specific, new, PPG sensor system, which will 
enable data sets from the wrist to be taken directly and is of a 
form factor appropriate to that envisaged for the final 
product. A picture of the board is shown in Figure 4, where 
one can see the main components on a 5cm by 3cm sized PCB 
microsystem. The board contains a USB connection module, 
the microcontroller, the ECG sensor and the new PPG sensor 
circuit, which are described in the next few paragraphs. A 3D 
printed enclosure has been printed for the board, which 
makes it able to be used as a wrist mounted system and 
facilitate collection of data from participants in a reliable, 
repeatable and accurate fashion. 
 
Figure 4. Wrist mounted PPG data acquisition system. 
67
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

Experiments have shown that variation in the position of 
the LEDs, as well as the particular power and wavelengths of 
different LEDs impact significantly on the quality of the PPG 
signal obtained. 
To evaluate different placement scenarios, we have 
designed an integrated circuit with nine LEDs mounted in a 
circular manner around a photo diode, three green LEDs, 
three red and three infrared are used for this experimental 
setup. Diodes are arranged around the photodiode, as shown 
in Figure 4. This series of experiments is currently underway 
and will enable the design team to find the optimal 
configuration of diodes from the perspective of position, 
colour (wavelength) and intensity. 
The new PPG sensor circuit is designed with the intention 
to test different configurations, communication protocols and 
positions of LEDs and photodiode within the same board. 
There are three experimental setups implemented in the same 
board for this system to optimise PPG acquisition parameters. 
A block diagram of this circuit is shown in Figure 5, which 
describes the flow, how the MCU can control LEDs through 
the three LED controlling plans. 
In option A (Plan A), an additional integrated circuit (IC) 
to MCU will control which LEDs will be on and the limit of 
current intensity. This IC has an analog output so that we can 
vary very precisely the intensity of the light output from the 
LEDs to achieve the optimum level for wrist monitoring of 
PPG signals. 
 
Figure 5. Three different test configurations of LEDs from PPG sensor. 
In the option B (Plan B), every colour group (green, red 
and infrared) is connected to a potentiometer and Pulse Width 
Modulation (PWM) unit of the MCU. This will enable 
variation of the intensity of the LEDs very precisely. Also in 
this case, the output is analog and the ADC can be used to 
read data. 
The option C (Plan C) requires the integration of an 
additional IC also. This chip (Analog Front End - Texas 
Instruments AFE4490 [17])  controls the state of LEDs in a 
similar way to option A, except that LEDs here can be 
controlled only in groups, so there is the same intensity for 
all the red LEDs for example. In this case, the output is 
digital, and eliminates the usage of the ADC. 
D. Sensor Data Acquisition System evaluation 
To calculate PTT, we use the peak of the ECG waveform 
and the peak of the PPG wave. Other features of waves can 
be used, like the beginning of QRS complex in ECG or the 
segment with the highest slope in PPG signal, but peaks are 
easier to detect and provide the fastest route to an initial 
prototype implementation for clinical tests. Additional tests 
in the future can carry on to determine if other features of the 
waves may give similar or improved accuracy. To identify 
the required peaks in the signals an initial sampling frequency 
of 100Hz was used. The sampling rate can be increased in 
future experiments if additional features need to be detected  
which will require higher precision [18]. The Maxim PPG 
sensor has a digital output using an SPI protocol and it 
generates an interrupt after each sample is taken. The USB 
virtual COM port is enabled in the microcontroller, so we use 
this interface to send data to and from a PC to develop the 
data analytics. The PPG and ECG data sets are sent in real 
time to the PC, and plotted to check the quality of the waves. 
As is described below in this section, the waveforms from the 
sensors when located on a fingertip are of superior quality 
and are what we are using for the initial algorithm 
development in the calculation of PTT. 
We tested the same sensor on the wrist. It was quickly 
apparent that the sensor needs much more time for the data 
readings from the wrist to stabilize as compared with when it 
is worn on fingertip. Even after we start to see the standard 
shape of the wave, it is very noisy and hardly readable, and 
also we lose the waveform with small movements of the 
sensor or hand. In Figure 6, we can see the best wave we 
could get from the Maxim sensor when worn on the wrist. 
For the final wrist mounted system, additional software 
filtering and signal processing are required on the waveforms 
for this reason. 
 
Figure 6. Real time PPG data from Maxim sensor on wrist. 
The ECG sensor is combined with a circuit created using 
an Analog Devices (AD8232 [19]), which was designed to 
record ECG signals using classic electrodes, but is modified 
and used with EPIC ECG electrodes in our case. This chip 
has an analog output and is sampled at the same rate, 100Hz, 
as the PPG wave.  The MCU‚Äôs ADC unit is used, and the data 
from ADC registers are read every time an interrupt is 
triggered by the PPG sensor. The same sampling rate (of 100 
68
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

Hz) for both waves is used in the literature [20], and we have 
also implemented this, which is sufficient to evaluate the 
system during this initial phase. It means that we will use only 
one interrupt service routine in the microcontroller, and less 
instructions will be executed to run the algorithms and 
measure time difference between peaks of two waves.  
As seen in Figure 7, the red colour wave is the real time 
ECG signal from the sensors. The signal is of sufficient 
quality to be able to detect the peaks as this is the main feature 
we will extract from ECG at this stage. This signal is plotted 
from raw data, so no post processing has been implemented. 
In next revision of the software, software noise filtering can 
be applied on the signal, which would result with a clearer 
graph, higher accuracy and other features of the signal can be 
detected. In Figure 7 again, we can see the plotted waveforms 
and datasets needed to determine PTT. The blue, lower graph 
is the PPG waveform from the fingertip. This wave from 
fingertip is clear and consistent, which means peaks can be 
easily located. Both waves are shown on the same plotting 
area to visualize PTT. Time difference between two vertical 
segments is the value of PTT. 
 
Figure 7. Real time ECG and PPG data on the same plot and PTT. 
Figure 8 shows a close up representation of the ECG 
peaks QRS complex. The R peak is considered a starting 
point to measure PTT for the purposes of our algorithm 
development. The PPG wave is inverted, as the wave shows 
the level of absorption, so it means at the lowest peak the light 
is absorbed the most and this is because of the volume of the 
blood in vessels at that moment. 
 
Figure 8. ECG QRS complex. 
So, the distance between the two black vertical lines on 
Figure 7 is the value of PTT used in our evaluation and future 
calculations of blood pressure changes. 
IV. 
FIRMWARE AND CALCULATION OF PTT 
In the previous section were shown results from the testing 
of the hardware and software of the initial evaluation system. 
With the exception of the PPG sensor, the design of the 
Tyndall system designed as a custom PCB board (H2O 
device) the same hardware components as described in 
Section III are used. The PPG sensor designed by the Tyndall 
team and described in Section III is used in the H2O device 
in place of the Maxim PPG sensor. Using the new PPG sensor 
designed we were able to record less noisy PPG signal 
waveforms from the wrist. The improvement in signal to 
noise ratio can be seen if the PPG signal shown in Figure 6 is 
compared with the PPG data shown in Figure 10, where the 
PPG signal as measured on the wrist by the Maxim sensor 
and the Tyndall sensor are shown respectively. The new PPG 
sensor is also used while performing clinical measurements 
on 33 participants as part of the system validation trials, and 
in all cases, there were no issues on reading sufficiently clear 
PPG signal. Results of calculation of PTT during clinical 
trials are shown in Section VI, Table I. 
In the first version of the software, PPG and ECG are 
recorded at 1 kHz sampling rate compared to 100Hz in the 
previous version. A sampling rate of 100Hz has a 10ms time 
difference between two points, which lower the accuracy of 
the estimation to approximately ¬±2mmHg. 
Sampling time is measured by timer counter interrupts. 
The counter interrupt is also used to measure the time 
between samples and to convert the number of samples to 
values of milliseconds. Windows of 4 seconds are used to 
collect the data, which afterwards are processed while the 
next window of data is collected. We have used windows of 
duration of 4 seconds two reasons. Firstly, in this time period 
it is generally possible to locate at least three heartbeats in 
one window, enabling the calculation of heart rate and PTT. 
Secondly, a longer window would delay the process of 
calculating PTT. When the user touches the ECG electrode, 
the sensor requires some time to start reading the ECG 
waveform. As averaging is used to localize the R complex, 
most of the time algorithms would be unable to calculate 
PTT. This mean that calculation will be performed in the next 
window. If the window is longer, overall execution would 
take more time to finish. Collecting samples and running the 
algorithms simultaneously means that in between sample 
readings, the processing power is used to execute parts of the 
algorithm with the data from the previous window. In 
parallel, after completion of one window, collected and 
processed data are transmitted through serial COM port. 
Transmitted data is formatted so as to conform to the 
communication protocol, designed to communicate to the 
interface, which is described in the following section. 
To derive systolic and diastolic BP from PTT it is required 
to locate three points on ECG and PPG, therefore to 
determine systolic PTT (SPTT) and diastolic PTT (DPTT) 
[21, 22]. The time difference between the peak of QRS 
complex of ECG, labelled with ‚ÄòA‚Äô in Figure 9, and the 
minima of PPG signal, labelled with ‚ÄòC‚Äô is marked as SPTT. 
69
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

And the difference between the peak of QRS complex and the 
maxima of the PPG signal, labelled with ‚ÄòB‚Äô in Figure 9, is 
labelled as DPTT. 
The peak of QRS is located by averaging the ECG signal 
three times and setting the value of averaging as a threshold. 
Points ‚ÄòB‚Äô and ‚ÄòC‚Äô are located by exploring PPG signal in a 
time distance range where PTT value usually is. The 
algorithm will start scanning for minima first. Once it 
establishes the minima, the algorithm will continue to search 
for the point of the inflexion on PPG signal, which should be 
between minima of PPG and ECG peak. Knowing that 
sampling frequency is 1 kHz, can also be concluded that the 
number of samples between two points is also the time 
distance in milliseconds.  
Heart rate is also calculated from the time difference 
between the ECG peaks and is sent to the interface. After the 
calculation of PTT, a number of 12 values of SPTT and 
DPTT are collected in an array, averaged and processed to 
remove possible out of range PTT values. 
 
 
Figure 9. Selected points to calculate PTT values 
V. 
INTERFACE AND COMMUNICATION PROTOCOL 
As described in the previous section, in the final version of 
the wrist-worn sensor system all signal and data processing 
is to be executed by the microcontroller embedded on the 
device. The system hardware in use, the H2O device, does 
not have display included. Tools available were not useful in 
our case as showing at the same time single values and graphs 
with different scales is required. A custom Graphical User 
Interface (GUI) that can communicate with the board and 
visualize all needed data sent from the board is created. 
While plotting, the interface should also be able to show 
the single values of PTT, heart rate, blood pressure, and 
before averaging raw PTT values. Another important feature 
needed was being able to export recorded data in a particular, 
easy to read format. Exported data are stored for potential 
data re-processing in the future. 
The interface communicates with the board through a 
serial COM port. There are three plotting windows 
implemented on the interface, as shown in Figure 10. ECG 
and PPG are plotted at 250 Hz, ¬º of the frequency of 
sampling. The frequency of 250Hz is sufficient to plot the 
complete waveform and it is more efficient for the 
microcontroller. The window labelled with ‚ÄúPTT‚Äù plots last 
25 values of systolic PTT (SPTT) and diastolic PTT (DPTT) 
before being averaged. On the right side of the PTT window, 
are printed the last 12 values of PTT, which are used to 
calculate the mode and derive the single value of PTT. Single 
values of PTT are printed in two textboxes, labelled ‚ÄúDPTT‚Äù 
and ‚ÄúSPTT‚Äù. 
The second functionality of the interface is the ability to 
personalise the datasets and export them to excel for further 
analysis and validation if necessary and to enable the 
development of the algorithms to establish the parameters 
affecting BP. Associated with the button labelled ‚ÄúExcel‚Äù is 
a textbox to write the name of the subject. After clicking with 
a mouse on it, a new window shows a questionnaire for the 
subject to capture all relevant data such as gender, age, arm 
span, dietary factors and physical activities. All the data can 
be exported into a custom excel format for analysis. In the 
excel file, will also be exported by default all the data from 
the plotting windows. 
This interface was developed to enable the testing and 
evaluation of our BP monitoring system, but it can also be 
useful to be used in other applications requiring visualisation 
of serially transmitted sensor data. It is designed in such a 
way that if you follow the simple communication protocol, it 
will plot data from applications that require a similar 
functionality. 
In order to be able to use this interface for other purposes, 
the communication protocol is described briefly. The general 
idea of the protocol was to be generic, so it would be easily 
expanded if required. To do this, for every plot or textboxes 
values, a specific character is assigned. Data is sent in one 
single array with all the characters preceding the values. This 
means that if one needs to plot graphs and print single values 
simultaneously, using the same COM port, then this interface 
can be used. 
 
Figure 10. A view of the main window of the interface 
    Figure 11 illustrates the protocol and the creation of the 
array that would be accepted by the interface. The order of 
values per window is not important as the parser in the 
interface processes separately every string between two 
commas. 
70
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Figure 11. Generic format and an example of the communication protocol 
The string parser starts by reading the array. Once it 
recognizes the START character, it will look for the value, 
which should be immediately after the character, and a 
comma is the end of one value. The recognized value is 
printed on the respective plot. If the character corresponds to 
one of the textboxes, the value is shown in a textbox. In case 
of plots, you expect to have more than one value. In our case, 
1000 values every 4 seconds are sent and plotted. The reasons 
for this size of windows as explained in Section IV are: not 
delaying the overall execution time in case the algorithm fails 
to calculate PTT in one window, and generally a 4 second 
window is sufficient to locate three heart beats. Then, array 
members are parsed in sequence, printed, and shifted to the 
left. 
If this interface needs to be reused for other purposes, all 
one has to do is to send a sequence of the values with the 
corresponding values for each window. An example is given 
in Figure 11. In this example, 4 samples per second are sent, 
therefore plotted. The last 3 values in the array, are textbox 
values, and they are shown in textboxes until the new value 
arrives. 
VI. 
CLINICAL TRIALS PROTOCOL 
Studies mentioned in the Section II show clearly that PTT 
and BP are related, but different factors, also discussed in 
Section II, with time are causing changes in this relationship 
[21]. In order to explore better those factors, the influence 
they have in BB-PTT relation, and potentially including those 
findings in BP estimation algorithm, a clinical trial protocol 
is designed and measurements are carried-on with volunteers. 
In this section are shown details from the protocol and 
processed results after measurements. 
Before starting with measurements, based on literature, a 
number of different factors that may affect BP-PTT relation 
are listed. Based on that, the study is divided into the 
interventional 
part 
and 
non-interventional 
one. 
An 
interventional study is a type of clinical study in which 
participants are assigned to groups that receive one or more 
intervention/treatment so that researchers can evaluate the 
effects of the interventions on biomedical or health-related 
outcomes. The assignments are determined by the study's 
protocol. Participants may receive diagnostic, therapeutic, or 
other types of interventions. In this study, is has been started 
with the non-interventional part, which can be completed 
faster and can provide feedback for the interventional part, if 
it is needed. 
Clinical trials protocol is designed in collaboration with 
cardiologists, and this research study has received Ethics 
approval from the Clinical Research Ethics Committee 
(CREC) of the Cork Teaching Hospitals. The study is also 
covered by the insurance policies of the University College 
Cork. The interventional part should go through the same 
procedure, once it is considered necessary to be carried-on. 
The process of clinical trials and how data will be applied is 
described in a flowchart in Figure 12. 
 
 
 
Figure 12. The flowchart of the process of data collection and data usage 
During the first phase, 33 participants were recruited. 
Participants are all between 20 and 35 years old. They were 
suggested to log all their activities and food they intake from 
6 pm of the day prior to the day of measurements and until 
71
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

the last measurement. There are five measurements during 
one day, and they are organized as follows: 
1. In the morning, within 2 hours after waking up 
2. Within 30 minutes before lunch 
3. Within 1 hour after lunch 
4. After 4 pm, before coffee (if participants use coffee) 
5. 30 minutes after coffee 
 
The protocol is designed in such a way, that at the 
conclusion of the experiment we can have datasets which 
allow us to explore the relationship between BP-PTT as 
measured in the morning, compared to an evening 
measurement. In addition we can explore the relationship 
between these parameters before and after drinking coffee, as 
well as before and after eating lunch. In this way we can, or 
see any potential influence of a particular food or different 
activities on the BP-PTT relationship. After designing the 
blood pressure estimation algorithm and evaluating the 
accuracy and results, measurements with other age groups 
may be useful to undertake if the data from the first trials are 
useful for the estimation algorithm. 
Each measurement took approximately 10 minutes to carry 
out. The measurements were carried out while participants 
were in a seated position. The standardised position of the 
patient during the experimental measurement session is 
shown in Figure 13.  
 
 
Figure 13. Set-up of the measurements during clinical trials  
As a gold standard, a medically approved BP monitor, BP-
801 from Withings, is used to measure blood pressure at the 
same time as the H2O system developed by the team. This 
product has received clearance from the Food and Drug 
Administration (FDA) in the USA and is compliant with 
European medical device regulations [23]. During the 
experiment, PPG is recorded continuously using the H2O 
device. In order to see and record ECG, the user needs to 
place the index finger of the opposite arm on the electrode to 
read the differential signal. A closer view of how the watch 
is worn and the position of the finger is given in Figure 14. 
 
Figure 14. Board with enclosure and worn on the wrist 
The procedure is as follows: 
1. Sit down, with feet flat on the ground and the back 
supported 
2. Wear the gold standard commercially available BP 
monitor and take a BP measurement (left arm) 
3. Wear the H2O device on the opposite arm with 
where commercial BP monitor is worn (wrist of 
right arm) 
4. 3-5 minutes after the first BP reading, take the 
second BP reading using the BP monitor 
5. Touch the ECG electrode of the H2O device with 
the index finger of the opposite arm to close the 
electrical circuit as described above. 
6. Record the ECG signal and calculate PTT for no 
more than 2 minutes 
 
Before taking the measurement in the morning, for each 
patient, we also measured arm span, height, the weight of the 
participant, as well as the room temperature at the time of 
measurement. To ensure the most accurate results, and to 
make the participants feel more comfortable and relaxed with 
the air pressure cuff, two measurements are carried-on within 
one session. 
In general it was observed that the blood pressure dropped 
in the second measurement, after sitting still for 3-5 minutes. 
As a result, based on our measurements and suggestions from 
doctors, the second measurement is the one chosen to be the 
more accurate result, and was registered as a BP value for one 
session. In some cases, first and second measurement were 
significantly different from each other, and a third 
measurement need to be taken and recorded. 
Processed results of measurements are presented in Table 
I. Three records of diastolic BP-PTT relation are discarded 
because the algorithm was unable to determine the value of 
DPTT as the PPG signal was not clear. First column of Table 
I shows four categories of morning and evening differences 
of BP and PTT. The second and the last column show the 
number of subjects in each category for systolic BP and 
diastolic BP respectively. 
 
 
 
72
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

Table I. Morning and Evening relation of BP-PTT 
Differences between morning 
and evening in BP and PTT 
Number of 
subjects 
[Systolic] 
Number of 
subjects 
[Diastolic] 
Increased BP ‚Äì Increased PTT 
2 
6 
Increased BP ‚Äì Decreased PTT 
14 
3 
Decreased BP ‚Äì Increased PTT 
6 
10 
Decreased BP ‚Äì Decreased PTT 
11 
11 
Total 
33 
30 
VII. PHASE 2 DESIGN STRATEGY OF THE DEVICE 
Currently, a second generation system is under 
development incorporating all the necessary system 
functionalities to enable physiological monitoring. Designed 
around a ‚ÄúFlex/Rigid‚Äù system design methodology so as to 
enable a highly miniaturised robust prototype, the system 
functionalities 
include 
sensors 
for 
ECG 
(Electrocardiography), SpO2 (Oxygen Saturation) levels, 
Heart rate, Blood pressure and Activity/Motion tracking. 
Communications modalities include Ultra Wide Band 
(UWB) 
for 
both 
communications 
and 
location 
tracking/ranging as well as Bluetooth Low Energy (BTLE) to 
facilitate communications between the smartwatch and any 
mobile device belonging to the user for additional data 
analytics and visualisation. 
 
Figure 15. Details of the Phase 2 design of the device 
In Figure 15 is shown how the physiological sensors are 
placed in the new device design. There is a difference in the 
design of the PPG sensor in this version compared to the PCB 
used in the first phase of experiments described above. Two 
photodiodes are used instead of only one as in the previous 
version and also the SpO2 sensor is designed separately in 
which a dedicated circuit, photodiode, red LED and infrared 
LED are used. The complete device design is presented in 
Figure 16. 
 
Figure 16. Design of the final device (future work) 
VIII. 
CONCLUSIONS AND FUTURE WORK 
There is no doubt that a BP monitor that would be 
accurate, reliable, cuffless, and comfortable with easy to 
carry out frequent or even continuous measurements would 
be priceless for clinical diagnosis of cardiovascular illness 
diagnosis. For decades, research has been carried out to 
achieve this goal. Pulse transit time (PTT) seems to be the 
most promising method to achieve it, based on literature. But 
until now, one of the challenges to be addressed is in the 
development of an appropriate data acquisition system to 
provide the necessary data sets for such a system. The main 
challenges are: vessel‚Äôs properties changing from person to 
person, vessel‚Äôs properties can be changed by factors within 
body or ambient conditions and clear data acquisition from 
comfortable wearable sensors. 
The WSN group at Tyndall is currently developing such 
a system. In this paper, we are showing practical results of 
the first phase of the work in progress. The main focus of this 
stage is to deliver a complete system that allows proceeding 
with a deeper evaluation of the BP-PTT relation. The first 
part of the study is focused on the evaluation of the 
computing hardware, sensors, custom board design and data 
acquisition. Initial results of evaluating the integrated ECG 
sensor and PPG sensor are shown during the first three 
sections, including the new PPG sensor design for the wrist. 
In Sections IV and V are presented results on developing 
the required algorithms and software to calculate PTT from 
biosignals and data visualisation.  
Finally, we have used the new PPG sensor designed, the 
Tyndall custom PCB board and developed algorithms to run 
measurements with participants in clinical validation trials 
with clinical partners and continue the development of the 
required processing and algorithms to provide BP 
measurements from PTT measurements. A list of factors that 
affects blood pressure significantly has been created, and 
measurements are carried out to try to quantify the influence 
they have. These 
measurements could enable 
the 
development of the required algorithms that would relate BP 
and PTT, which is the main part of the complete study to be 
reported in subsequent publications. 
 
ACKNOWLEDGMENT 
These research is a part of the H2O (Human to Objects) 
project funded by the European Union under the CATRENE 
program. This publication has emanated from research 
supported in part by a research grant from Science Foundation 
Ireland (SFI) and is co-funded under the European Regional 
Development Fund under Grant Number 13/RC/2077. 
 
 
 
 
 
 
73
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

REFERENCES 
 
[1] A. Hajzeraj, M. Belcastro, D. Alfieri, and B. O'Flynn, 
"Evaluation Phase of a Novel Blood Pressure Monitor Device", 
in Global Health 2017, IARIA, Editor. 2017: Barcelona, Spain. 
pp. 14-19. 
[2] (EHN), E.H.N., "European Cardiovascular Disease Statistics 
2017". 
[3] J.-M.R. Dilpreet Buxi, Mehmet Rasit Yuce, "A Survey on 
Signals and Systems in Ambulatory Blood Pressure 
Monitoring Using Pulse Transit Time", 2015. 
[4. R. Mukkamala, J.O. Hahn, O.T. Inan, L.K. Mestha, C.S. Kim, 
H. T√∂reyin, and S. Kyal, "Toward Ubiquitous Blood Pressure 
Monitoring Via Pulse Transit Time: Theory and Practice", 
IEEE Transactions on Biomedical Engineering, 2015. 62(8): 
pp. 1879-1901. 
[5] L. Peter, N. Noury, and M. Cerny, "A Review of Methods for 
Non-Invasive and Continuous Blood Pressure Monitoring: 
Pulse Transit Time Method Is Promising?". IRBM, 2014. 
35(5): pp. 271-282. 
[6] B.M. McCarthy, B.O. Flynn, and A. Mathewson, "An 
Investigation of Pulse Transit Time as a Non-Invasive Blood 
Pressure 
Measurement 
Method", 
Journal 
of 
Physics: 
Conference Series, 2011. 307(1): pp. 012060. 
[7] R.D. 
Brook, 
A.B. 
Weder, 
and 
S. 
Rajagopalan, 
""Environmental 
Hypertensionology" 
the 
Effects 
of 
Environmental Factors on Blood Pressure in Clinical Practice 
and Research", J Clin Hypertens (Greenwich), 2011. 13(11): 
pp. 836-842. 
[8] M.S. Ganio, R.M. Brothers, S. Shibata, J.L. Hastings, and C.G. 
Crandall, "Effect of Passive Heat Stress on Arterial Stiffness", 
Experimental physiology, 2011. 96(9): pp. 919-926. 
[9] T. Frawleyand T.B. Bunton, "Effect of Temperature on Pulse 
Wave Velocity and Arterial Compliance", Journal of 
Undergraduate Research in Physics, 2012. 
[10] M. Jehn, L.J. Appel, F.M. Sacks, and E.R. Miller, 3rd, "The 
Effect of Ambient Temperature and Barometric Pressure on 
Ambulatory Blood Pressure Variability", Am J Hypertens, 
2002. 15(11): pp. 941-945. 
[11] S. Lluberas, D. Bia, Y. Z√≥calo, M. Zabalza, C. Etchart, and R. 
Armentano, "Sleep-Wakefulness Variations in Arterial 
Stiffness: Assessment Using Ambulatory Recording of Arterial 
Pulse Transit Time", Revista Espa√±ola de Cardiolog√≠a (English 
Edition), 2008. 61(01): pp. 41-48. 
[12] D. Bia, S. Lluberas, Y. Z√≥calo, C. Etchart, M. Zabalza, and 
R.L. Armentano, "Circadian Pattern and Night-Day Variations 
in Human Arterial Stiffness: Assessment Using Ambulatory 
Recording of Arterial Pressure and Pulse Transit Time", in Iv 
Latin American Congress on Biomedical Engineering 2007, 
Bioengineering 
Solutions 
for 
Latin 
America 
Health: 
September 24th‚Äì28th, 2007 Margarita Island, Venezuela, C. 
M√ºller-Karger, S. Wong, and A. La Cruz, Editors. 2008, 
Springer Berlin Heidelberg: Berlin, Heidelberg. pp. 82-86. 
[13] S.-H. Liu, D.-C. Cheng, and C.-H. Su, "A Cuffless Blood 
Pressure 
Measurement 
Based 
on 
the 
Impedance 
Plethysmography Technique", Sensors, 2017. 17(5): pp. 1176. 
[14] C. Byeong Cheol, L. Hee Jeong, Y. Soo Young, J. Dong Keun, 
K. Gi Ryon, K. Kwang Nyon, and J. Gye Rock. "Evaluation of 
Arterial 
Compliance 
on 
Pulse 
Transit 
Time 
Using 
Photoplethysmography", in 30th Annual Conference of IEEE 
Industrial Electronics Society, 2004. IECON 2004. 2004. 
[15] "Stm32 Ultra Low Power Mcus.",  [Retrieved 26/02/2018]; 
Available 
from: 
http://www.st.com/en/microcontrollers/stm32-ultra-low-
power-mcus.html?querycriteria=productId=SC2157. 
[16] Ltd, P.S., "Epic Sensor Applications Guidebook", pp. 17-22. 
[17] "Afe4490 Integrated Analog Front-End for Pulse Oximeters.",  
[Retrieved 
26/02/2018]; 
Available 
from: 
http://www.ti.com/product/AFE4490/datasheet. 
[18] T. Seeberg, J. Orr, H. Austad, M. Roed, S. Dalgard, D. 
Houghton, D. Jones, and F. Strisland, "A Novel Method for 
Continuous, Non-Invasive, Cuff-Less Measurement of Blood 
Pressure: Evaluation in Patients with Non-Alcoholic Fatty 
Liver 
Disease", 
IEEE 
Transactions 
on 
Biomedical 
Engineering, 2016. PP(99): pp. 1-1. 
[19] "Ad8232 Single-Lead, Heart Rate Monitor Front End.",  
[Retrieved 
26/02/2018]; 
Available 
from: 
http://www.analog.com/media/en/technical-
documentation/data-sheets/AD8232.pdf. 
[20] S. Hey, A. Gharbi, B.v. Haaren, K. Walter, N. K√∂nig, and S. 
L√∂ffler. "Continuous Noninvasive Pulse Transit Time 
Measurement for Psycho-Physiological Stress Monitoring", in 
2009 International Conference on eHealth, Telemedicine, and 
Social Medicine. 2009. 
[21. M. Sharma, K. Barbosa, V. Ho, D. Griggs, T. Ghirmai, S. 
Krishnan, T. Hsiai, J.-C. Chiao, and H. Cao, "Cuff-Less and 
Continuous Blood Pressure Monitoring: A Methodological 
Review", Technologies, 2017. 5(2): pp. 21. 
[22] A. Esmaili, M. Kachuee, and M. Shabany, "Nonlinear Cuffless 
Blood Pressure Estimation of Healthy Subjects Using Pulse 
Transit Time and Arrival Time", IEEE Transactions on 
Instrumentation and Measurement, 2017. 66(12): pp. 3299-
3308. 
[23] "Withings Wireless Blood Pressure Monitor",  [Retrieved 
26/02/2018]; 
Available 
from: 
https://health.nokia.com/ie/en/blood-pressure-monitor. 
 
74
International Journal on Advances in Life Sciences, vol 10 no 1 & 2, year 2018, http://www.iariajournals.org/life_sciences/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

