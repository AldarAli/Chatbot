41
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Seismic Observation and Structural Health Monitoring of Buildings by Improved 
Sensor Device Capable of Autonomously Keeping Accurate Time Information 
 
Narito Kurata 
Faculty of Industrial Technology 
Tsukuba University of Technology 
Tsukuba City, Ibaraki, Japan 
e-mail: kurata@home.email.ne.jp 
 
 
Abstract - In this research, sensor devices were developed for 
application to seismic observation to understand damage 
conditions after earthquakes and to structural health 
monitoring for the maintenance of buildings and civil 
infrastructures. To apply the sensor devices, they must be 
densely installed in a broad area and measurement data with 
synchronized time must be obtained. It is desirable that the 
sensor devices themselves keep accurate time information even 
in environments with no available network or Global 
Positioning System (GPS) signals. Therefore, a sensor device 
was 
developed 
that 
keeps 
accurate 
time 
information 
autonomously using a Chip Scale Atomic Clock (CSAC), which 
consumes ultra-low power, can be mounted on a small board, 
and is an ultra-high precision clock. This paper explains the 
CSAC and a mechanism to add highly accurate time 
information to the measured data using the CSAC. Next, the 
paper discusses the process of development from prototype to 
practical device as well as improvement results to solve 
challenges identified in the actual use at a bridge. In this paper, 
a new procedure for time synchronization between devices is 
described. In addition, the communication system of 
measurement data newly constructed using “fluentd” which is 
open source software for data collection is detailed. Finally, the 
paper demonstrates the usability of the developed sensor device 
using a case study where seismic observation and structural 
health monitoring was implemented by installing the improved 
devices in an actual building. In particular, structural health 
monitoring of the building based on the evaluation by the inter-
story deformation was made possible by the practical device 
developed in this research securing autonomous time 
synchronization. 
Keywords-Time Synchronization; Chip Scale Atomic Clock; 
Earthquake 
Observation; 
Structural 
Health 
Monitoring; 
Acceleration Sensor. 
I. 
 INTRODUCTION 
Due to degradation of buildings and civil infrastructures, 
such as bridges, and highways over time, automation of 
inspection for their maintenance and management is an urgent 
social issue. Also, since there are many earthquakes in Japan, 
it is required to detect the damage of the structure immediately 
after the earthquake and to grasp the situation of the urban 
damage. In order to detect those abnormal situations, data 
collection and analyses by a group of sensors are necessary 
[1]. Sensors were developed for seismic observation and 
structural health monitoring applying wireless sensor network 
technology, and their performance in a skyscraper was 
demonstrated [2]-[4]. One important challenge in this research 
was time synchronization among sensors. To analyze a group 
of data measured by multiple sensors and assess structural 
safety, time synchronization among the sensors must be kept. 
In the wireless sensor network system, the time 
synchronization was materialized through transmission of 
wireless packets among the sensors [4]. However, the wireless 
sensor network technology is not practically applied to 
multiple buildings, long-span structures, such as bridges, or 
broad urban spaces. If sensors installed in various locations 
are 
capable 
of 
keeping 
accurate 
time 
information 
autonomously, this problem can be solved. Using Global 
Positioning System (GPS) signals is effective for outdoor 
situations, but it is not available inside buildings, underground, 
under bridges, or in tunnels. Therefore, a prototype sensor 
device capable of maintaining accurate time information 
autonomously was developed using a Chip Scale Atomic 
Clock (CSAC) [5]-[7], which is a high-precision clock and 
very accurate compared with crystal resonators [8][9]. Then, 
the prototype device was upgraded for higher functionality 
and practical application to develop a practical device [10]. 
In addition, in order to apply the developed sensor device 
to earthquake observation, logic to detect the occurrence of an 
earthquake and store data of only earthquake events was 
implemented and confirmed its function in shaking table 
experiment [11][12]. These tests confirmed the performance 
of the sensor device that can maintain accurate time 
information autonomously and showed that the device is 
applicable to seismic observation and structural health 
monitoring of buildings and civil infrastructures. 
In this article, Section II shows the existing time 
synchronization methods and describes their problems and 
achievement of the development of sensor device proposed in 
this study. Section III describes CSAC and explains the 
mechanism for providing ultra-high accurate time information 
to sensor data by the CSAC. Section IV describes the 
development of a practical module from its prototype. Section 
V lists problems that were extracted when the practical 
modules were installed on an actual bridge, and describes 
details of improvements made to cope with these problems. 
Further, Section VI shows a new procedure for time 
synchronization between devices. The communication system 
of measurement data newly constructed using “fluentd” which 

42
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
is open source software for data collection is detailed in 
Section VII. Finally, Section VIII shows an example of 
seismic observation and structural health monitoring by 
applying the developed sensor device to a real building. In 
order to obtain the inter-story deformation of the building for 
the purpose of structural health monitoring shown in this 
paper, time synchronization of sensors is required. The sensor 
device developed in this research can hold accurate absolute 
time information autonomously, so it is easy to secure time 
synchronization of many sensor devices without wiring or 
network. 
II. 
STATE OF THE ART 
A time synchronizing function is indispensable for sensor 
devices that are used for seismic observation and structural 
health monitoring. Unless a data group where time 
synchronization is ensured is obtained, a time history analysis 
employing phase information cannot be made. For example, it 
is difficult to clarify a phenomenon where seismic waves 
propagate through the ground. Moreover, it is not possible to 
make a modal analysis or an analysis for damage evaluation 
of a structure. Many studies have been carried out so far in 
relation to the time synchronized sensing, including the GPS 
that makes use of a radio clock or a satellite, and the Network 
Time Protocol (NTP) [13] designed for time synchronization 
on the internet. There are also studies where time 
synchronization is realized by making use of the 
characteristics of a radio sensor network where a propagation 
delay is small. For example, time-synchronizing protocols 
have been studied, which include Reference Broadcast 
Synchronization (RBS), Timing-sync Protocol for Sensor 
Networks (TPSN), and Flooding Time synchronization 
Protocol (FTSP) [14]-[18]. However, although these time 
synchronizing technologies are widely used even now, they 
cannot constitute an optimum means for sensor devices for use 
in seismic observation and structural health monitoring. 
Specifically, the GPS cannot be used inside a building, and the 
time synchronizing accuracy of the NTP is not sufficient. The 
time synchronizing method employing the radio technology is 
highly useful, but it is not ensured that the radio 
communication is always available. In particular, if the 
wireless communication is interrupted at the time of an 
earthquake, time synchronization cannot be performed. 
In this study, a prototype of a sensor module for 
autonomously keeping accurate time information is developed 
by making use of a CSAC that is an ultra-high accurate clock, 
and an improvement is carried out on the prototype for a 
practical application. Even though a tremendous number of 
sensors are installed in the buildings and civil infrastructures, 
in case accurate time information can autonomously be given 
to the data measured by those sensors, time synchronization 
can be ensured between the sensors only by collecting the data 
using an arbitrary means and by realigning the data utilizing 
the time information. The data group where the time 
synchronization is ensured by using the sensor device 
proposed in this paper is available for an analysis intended to 
grasp a seismic phenomenon or evaluate the damage of a 
structure. 
III. 
TIME STAMPING MECHANISM USING CHIP SCALE 
ATOMIC CLOCK 
A CSAC has time accuracy equivalent to that of a 
rubidium atomic clock and is very accurate compared with 
crystal resonators [5][7]. The CSAC can achieve ultra-
precision time measurement at a level of some ten 
picoseconds, consumes low power and is small enough to be 
mounted on a circuit board (Table Ⅰ). The development of the 
CSAC started with the support of Defense Advanced 
Research Projects Agency, and the commercial product was 
released by an American company in 2011 and is still 
available for purchase. Recently, ultra-small atomic clock 
systems, which can be mounted on general communication 
terminals, such as smart phones, have been proposed, and 
further downsizing and price reduction are expected. If the 
sensor device is equipped with a CSAC and a mechanism that 
adds time stamping for every sample of measured data, the 
sensor device can create data having high-accuracy time 
information. Each sensor device autonomously keeps highly 
accurate time information even if the GPS signals and network 
communication are unavailable. Therefore, by collecting the 
measured data by means, such as 3G, Wi-Fi, Ethernet, etc., a 
data group ensuring time synchronization can be obtained. 
To configure a sensing system composed of multiple 
sensor devices equipped with a CSAC, one device is set as a 
master device and other devices as slave devices must be 
synchronized by defining absolute time information. The 
main controller of each sensor device is equipped with an 
input/output connector for 1 Pulse Per Second (PPS) of the 
CSAC. Using this connector, the master device outputs 1 PPS 
signal, and each slave device inputs it to synchronize and 
match the phase of the CSAC in each slave device. The CSAC 
keeps accurate time, but it does not have absolute time 
information. Therefore, it must be defined separately. At 
initial settings, the GPS module installed in the main 
controller is used. Absolute time information is transmitted 
from the master device to the slave device by the IEEE 1588 
standard. Once all the sensor devices are synchronized at the 
beginning, they continue keeping highly accurate time 
information autonomously. It is only necessary to install the 
sensor device in an arbitrary place and collect data. As 
mentioned above, any means of data collection, such as 
Ethernet, Wi-Fi, or 3G, are available as the measured data 
records accurate time stamping. 
 
TABLE I.  
SPECIFICATIONS OF CSAC 
Model 
SA.45s 
RF output 
10 MHz 
1 PPS output 
Rise/fall time: < 10 ns 
Pulse width: 100 µs 
Power consumption 
< 120 mW 
Outside dimensions (mm) 
40 × 35 × 12 
Frequency accuracy 
± 5 × 10-11 
Aging 
< 9 × 10-10/month 

43
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
The sensors are also suitable for use as mobile 
measurement and a mobile sensing system because the 
sensors can measure and collect data even if GPS signals are 
not available, and a wireless or wired network cannot be used. 
IV. 
DEVELOPMENT OF SENSOR DEVICE EQUIPPED WITH 
CSAC 
The general sensor device is composed of a sensor chip, 
CPU, filter, A/D converter, memory, and network interface, 
and a crystal oscillator is used as the clock of the CPU. If 
CSAC is installed in the sensor device and measurement is 
performed while correcting the clock of the CPU, a delay 
occurs because CSAC's clocking accuracy is too high. 
Therefore, a mechanism having a special Field Programmable 
Gate Array (FPGA) was developed to add time information 
from the CSAC to the data measured by the sensor directly. 
The FPGA not only adds the time information of the CSAC to 
the measured data but can also incorporate logic, such as 
seismic detection. A prototype device was developed first to 
identify challenges, and then a practical device that has solved 
the challenges was developed. 
A. Prototype Device 
Fig. 1 shows the developed prototype device [8][9]. The 
prototype device is composed of a mainboard, sensor board, 
and wireless communication board. The mainboard 
incorporates a CSAC, FPGA, CPU, memory, network 
interface, etc. The sensor board is detachable. Two types of 
sensor board were developed, one of which is an 
acceleration 
sensor 
board 
equipped 
with 
a 
microelectromechanical systems (MEMS) accelerometer, 
temperature sensor, anti-aliasing filter, A/D converter, etc., 
and the other is an external sensor board that can connect an 
analog sensor externally via the Bayonet Neill-Concelman 
(BNC) connector (Fig. 2). The communication board is also 
detachable and can collect data using wireless network once 
mounted on the mainboard. Two types of dedicated board 
equipped with Wi-Fi or 3G were developed. 
B. Practical Device 
The following improvements were made for high 
functionality and practical use of the prototype device [10]-
[12]. 
 
1) 3-channeled external analog sensor input interface 
2) 24-bit A/D converter 
3) Enhanced FPGA 
4) Separate wireless communication to use commercially 
available Raspberry Pi  
5) Time synchronization by IEEE 1588 
 
The practical device is composed of a board and Raspberry 
Pi having a wireless communication function (Figs. 3 and 4) 
and is enclosed in a dedicated case (Fig. 5). As shown in Fig. 
3, the board of the practical device is composed of a main 
control unit and a sensor unit. The main control unit is 
equipped with a CSAC, FPGA, GPS, CPU, memory, and 
network interface (Table Ⅱ). The main control unit controls 
measurement of the sensor while producing time stamping, 
based on highly accurate time information from the CSAC. 
The device sends the measurement data via Ethernet or 
wireless communication to the network after saving data in an 
SD card. The device saves two types of data, one of which is 
regularly measured data and the other is extracted seismic 
event data. The device sends data containing seismic events 
solely to the network immediately after an earthquake using 
the FPGA to detect start and end of the earthquake. A GPS is 
installed in the device to initialize and adjust the time 
information. The sensor takes measurements following a 
command from the main control unit. The sensor is equipped 
with a 3-axis MEMS accelerometer, 3-channel external 
analog sensor input interface, temperature sensor, anti-
aliasing 
filter, 
and 
A/D 
converter. 
The 
wireless 
communication uses commercially available Raspberry Pi to 
enable data collection with wireless communication. Either 
Wi-Fi or 3G is selectively used for the wireless 
communication. 
Compared with the prototype device, the practical device 
incorporates a 3-channel external analog sensor input 
interface and 24-bit A/D converter, so it can connect with a 
sensor requiring a wide dynamic range, such as a servo 
accelerometer. In addition, the sensor device can be used as a 
data logger by connecting with three strain sensors, 
displacement centers, etc. Using Raspberry Pi for the wireless 
communication, the device can quickly respond to new 
wireless communication formats. Furthermore, an interface of 
IEEE 1588 standard for time synchronization of network was 
incorporated to initialize measurement timing among sensor 
devices and synchronize them. 
 
 
Figure 1.  Prototype Device. 
 
Figure 2.  External Sensor Board. 

44
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
V. 
IMPROVEMENT OF PRACTICAL DEVICE 
The developed practical device was installed onto an 
actual bridge, and measurement was performed for three 
months to identify challenges in practical use. Based on those 
challenges, the practical device was improved for higher 
stability and operability, and the specified performance was 
confirmed [1]. Improvement items and contents are as 
follows. 
A. Reduction in Built-in SD Card Access 
To avoid failures caused by total service life consumed by 
the number of rewrite cycles resulting from the quality of the 
SD card (micro SD card) or compatibility issues, the timing 
to write in the file system was reviewed. By setting the 
interval of the write timing to the file system from 5 seconds 
to 240 seconds, access is suppressed to a maximum of 1/48, 
as shown in Table Ⅲ.  
 
 
Figure 3.  Board Configuration of the Practical Device. 
 
Figure 4.  Board Configuration of the Practical Device in Dedicated Case. 
However, risk of data loss during emergency black out 
increases, which means it is a trade-off. Table Ⅲ shows the 
effects of reduction in access to the built-in SD card. 
 
 
Figure 5.  Dedicated Case for Practical Device. 
TABLE II.  
SPECIFICATION OF CONTROL UNIT 
CPU 
RZ/A1L 
CPUcore:ARM Cortex A9 with Neon 
384MHz (Max) 
Instruction / data cache: 32KB/32KB 
L2 cache: 128KB 128MHz 
RAM (SDRAM) 
128Mbyte CL=2 @64MHz (16bit Bus) x2 
Micron:MT48LC32M16A2P-75IT 
RAM (Internal RAM) 
3Mbyte (RZ/A1L) 
ROM (serial-FLASH) 
64Mbyte Serial Multi I/O x1 
Spansion: S25FL512SDPMFIG11 
(64Mbyte) 
Ethernet 
10/100BASE-PHY 
FPGA 
XC6SLX45 
CSAC 
SA.45s CSAC 
Power consumption: <120mW 
Volume: <17 cm3 
Frequency Accuracy: Max. ±5x10-11 
Short term Stability(@1000s): < 1x10-11 
Aging Rate (Typical): < 9x10-10 /month 
Operating Temperature: -10oC to +70oC 
GPS 
LEA-M8F 
Battery 
Lithium-ion rechargeable battery (3.7V)   
2 cell 
Outside dimension 
180 × 100 mm  
 
TABLE III.  
EFFECTS OF REDUCTION IN ACCESS TO BUILT-IN SD CARD 
 
Current 
After improvement 
Frequency of writing 
Once per 5 second 
Once per 240 second 
Data loss during 
emergency blackout 
with sampling rate of 
100 Hz 
Approx. 500 
sampling  
Approx. 24000 
sampling 
Chip scale atomic 
clock (CSAC) 
Communication unit 
(Raspberry Pi) 
Main control unit 
Sensor unit (Built-in 
MEMS acceleration sensor) 
 
Z 
 
X 
Y 
Main control unit 
Sensor unit 
Chip scale atomic 
clock (CSAC) 
3-channel external 
analog sensor 
input interface 

45
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
B. File Compression of Measured Data 
In the actual work installed onto the bridge, transmission 
time for the measured data must be reduced. To reduce the 
data transmission time and achieve storing long-term 
measurement data, a file compression function was added. 
From the viewpoint of durability, it is desirable to use a 
relatively small capacity SD card, which is considered to be 
manufactured in a stable production line rather than a large 
capacity one which might be manufactured in a premature 
production line. The file compression function is important 
as a means to materialize long-term data recording in a small 
capacity SD. The software was improved to compress the 
measured data to be recorded in the SD card after 75 minutes. 
C. Change of Local PC Collecting Display 
A tool was developed to collect the measured data saved 
in the built-in SD card of the practical device placed in the 
LAN, which was temporarily installed on the site into a local 
PC using a browser. However, there was a possibility that 
time information not related to measurement data might be 
displayed depending on the startup environment in the 
measurement data download screen (Fig. 6). Specifically, by 
adjusting the time of Raspberry Pi with the FPGA on the 
baseboard, improvements were made so that the correct time 
information of the measurement data is displayed regardless 
of the activation environment. However, even without this 
improvement, there is no effect on the high precision time 
information recorded in the measurement data. 
D. Correction of PTP Control Software 
The Precision Time Protocol (PTP) defined in the IEEE-
1588 standard is a means to synchronize time of computers 
on a LAN highly accurately. The CSAC is a high precision 
clock, but it does not keep absolute time information. 
Therefore, clock adjustment was made with the CSAC and 
then the absolute time was set to the timer counter of the 
FPGA by the PTP in the practical device as described in detail 
in Section VI.  
 
 
Figure 6.  Local PC collecting tool display screen. 
 
In the actual work at the bridge, there was a risk that the 
absolute time set by the PTP may be initialized due to 
plugging and unplugging of the LAN cable. Such 
phenomenon is not desirable for the practical device although 
it follows the standard implementation and specifications of 
Linux as the PTP must be operated with a LAN cable 
connected. Therefore, the settings were corrected so that the 
absolute time would not be initialized and would be kept 
between two practical devices (master device and slave 
device) whose absolute time had been set by the PTP even if 
the Ethernet cable was plugged and unplugged. 
E. Minimization of Wiring Delay in the FPGA 
Depending on the circuit design of the FPGA, the time 
stamping may not be correctly recorded due to fluctuation of 
timing to read and write the memory from the FPGA. The 
wiring delay of the SDRAM control signal in the FPGA was 
minimized so that the timing to read and write the memory 
from the FPGA would not fluctuate. The FPGA circuit was 
redesigned and implemented in the new practical sensor 
device. It was confirmed that the continuous operation test 
for 2 months was conducted for the four devices and the time 
information was correctly displayed. 
VI. 
TIME SYNCHRONIZATION PROCEDURE AMONG 
PRACTICAL DEVICES 
There are two methods for absolute time synchronization 
to the practical devices. The first is to synchronize each 
practical device directly with GPS by absolute time. The 
second is to synchronize one device (master device) with 
absolute time by GPS. Thereafter, other devices (slave 
devices) are synchronized by the master device. For practical 
reasons, the second method is usually used. The procedure is 
shown in Fig. 7 and the details are shown below.  
In this system, the signal source for clock adjustment and 
for absolute time definition are called “clock source” and 
“time source”, respectively. Also, there are “time constant” 
for determining the follow-up speed to the signal source as 
parameters related to clock adjustment, and “absolute time 
synchronization interval” for indicating absolute time 
synchronization execution as parameters related to the 
absolute time synchronization. 
 
 
Figure 7.  Time Synchronization Procedure among Practical Devices. 
Name of data file 
Time information 

46
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
A. Time Synchronization of Master Device 
When synchronizing the master device to the absolute 
time, GPS is used as clock source and time source. Clock 
adjustment and absolute time definition are performed 
according to preset time constant and absolute time 
synchronization interval. By receiving the GPS signal, the 
master device maintains high clock accuracy and absolute 
time accuracy. The time constant and absolute time 
synchronization interval are set to 1,000 seconds and 1,440 
seconds, respectively. The absolute time is synchronized with 
the FPGA timer counter at the time interval set on the basis of 
0:00:00 on the day on which this setting was made. 
B. Time Synchronization of Slave Device by Master Device 
Clock adjustment of the CSAC of the slave device is 
performed by utilizing the 1 PPS output of the CSAC of the 
master device. When the clock adjustment of the CSAC of the 
slave device is completed, the absolute time is set to the timer 
counter of the FPGA by the PTP. When absolute time setting 
by the PTP is completed, more precise time synchronization 
(less than a second) is performed by using the 1 PPS input of 
CSAC of the master device again. 
VII. COMMUNICATION OF SENSOR DATA OF PRACTICAL 
DEVICE 
The practical device sends the measurement data via 
Ethernet or wireless communication to the server on the cloud 
by "fluentd" after saving data in an SD card as shown in Fig. 
8. Fluentd is an open source software called a data collector or 
data log collection tool, and it provides a function to collect 
log data and convert it to JavaScript Object Notation (JSON) 
and output it. JSON is one of lightweight data description 
languages and is designed to be used for passing data between 
various software and programming languages. "Input 
function" and "output function" are modularized, and by 
adding a plug-in module, fluentd can correspond to various 
data sources and output destinations. Data in the JSON 
structure in a format conforming to fluentd is transmitted in a 
binary MessagePack. The continuity and loss of measurement 
data can be confirmed by sampling period and time stamp. In 
addition, tag of the data is updated at the start of measurement 
or at the time of event detection at the date, hour, minute, and 
second as an identifier for one measurement, and the same tag 
is given after the end of measurement or the event. 
 
 
Figure 8.  Data transmission from device to server by fluentd. 
VIII. APPLICATION TO ACTURAL BUILDING 
The developed practical devices were installed in an actual 
building and seismic observation started in October 2017. The 
building is a three-story reinforced concrete building built in 
Tsukuba, Ibaraki, Japan (Fig. 9). In each floor, one practical 
device was installed. Fig. 10 shows the plan of 2nd floor of the 
building and locations of the practical devices installed. Fig. 
11 shows how the devices have been installed. As shown in 
both figures, dedicated installation space was made next to the 
staircase from 1st to 3rd floors. At each installation location, 
the device was screwed to the acrylic plate and it was fixed to 
the floor with an anchor. The device for the rooftop is fixed 
on the ceiling of the 3rd floor because the rooftop floor is 
outside. 
The sensor device is able to use the built-in MEMS 
accelerometer and any analog sensor connected to the external 
input terminal solely. The device is set to use the built-in 
MEMS accelerometer. Table IV shows the specifications of 
the MEMS accelerometer. Because of the excellent noise 
performance of the built-in MEMS, it is possible to measure 
building vibrations from small earthquakes as well as large 
ones. This new practical device can detect earthquake 
occurrence and save seismic event data. The least square 
calculation for values measured by the accelerometer in each 
direction is derived by the following equation. 
 
𝑙𝑙r = ඩ1
𝑁𝑁 ෍ {(𝑥𝑥𝑖𝑖 − 𝑟𝑟𝑥𝑥𝑖𝑖)2 + ൫𝑦𝑦𝑖𝑖 − 𝑟𝑟𝑦𝑦𝑖𝑖൯
2 + (𝑧𝑧𝑖𝑖 − 𝑟𝑟𝑧𝑧𝑖𝑖)2}
0
𝑖𝑖=𝑁𝑁−1
 
 
where,  𝑟𝑟𝑥𝑥, 𝑟𝑟𝑦𝑦, 𝑟𝑟𝑧𝑧  are correction values of the following zero 
point. 
 
𝑟𝑟𝑥𝑥 = 1
𝑁𝑁 ෍ 𝑥𝑥𝑖𝑖,   𝑟𝑟𝑦𝑦 = 1
𝑁𝑁 ෍ 𝑦𝑦𝑖𝑖,   𝑟𝑟𝑧𝑧 = 1
𝑁𝑁 ෍ 𝑧𝑧𝑖𝑖
0
𝑖𝑖=𝑁𝑁−1
0
𝑖𝑖=𝑁𝑁−1
0
𝑖𝑖=𝑁𝑁−1
 
 
 
 
Figure 9.  External appearance of building. 
fluentd 
fluentd 
practical device 
server 
cloud 

47
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
 
Figure 10.  Plan view of 2nd floor of the building and locations of practical 
device installed. 
 
The device was set to judge that an earthquake has 
occurred when the least square value 𝑙𝑙𝑟𝑟 for 2 seconds exceeds 
1 cm/sec2 and to save the measurement data until the 
earthquake ends under the condition of a sampling frequency 
of 100 Hz and a number of correction values of zero point N 
= 200 in the above equation. The device also saves data 10 
seconds before the point that the device judged that the 
earthquake has occurred and 10 seconds after the earthquake 
has ended. As shown in Section III, each practical device is 
equipped with Ethernet, Wi-Fi, and 3G as communication 
means and can use any of them. For this time, it was decided 
to use 3G for data transfer to the data server in order to store 
only the measurement data at the event of the earthquake. 
Table V shows a list of seismic records observed from 
October 2017 when the system was installed to November 
2017. When an earthquake with Japanese seismic intensity 
scale of 1 or more occurred, measurements were made reliably. 
Figs. 12 and 13 show measured acceleration of an earthquake 
in the building, which occurred on November 3, 2017 (No. 8 
in Table V). 
 
TABLE IV.  
SPECIFICATIONS OF MEMS ACCELERATION SENSOR 
Model 
LIS344ALH 
Measurement direction 
3 
Maximum acceleration (± G) 
2 
Outside dimensions (mm) 
4 × 4 × 1.5 
Consumption current (mA) 
0.68 
Stand-by power consumption (µA) 
1 
Detection sensitivity 
660 mV/G ± 5% 
Noise characteristics 
50 μG/√Hz 
Operating temperature (°C) 
-40 - +85 
 
 
(a) Ceiling of 3rd floor (Floor of rooftop) 
 
 
 
(b) Floor of 1st floor 
Figure 11.  Photo of how practical devices are installed. 
TABLE V.  
LIST OF EARTHQUAKE RECORD MEASURED BY PRACTICAL 
DEVICES 
No 
Date 
Time 
Name of 
Epicenter 
Magnitude/ 
Depth(km) 
Local/Max
. Intensity 
1 
06/10/2017 
16:59 
Fukushimake
n-oki 
6.3/57 
1/2 
2 
06/10/2017 
23:56 
Fukushimake
n-oki 
5.9/53 
2/5 lower 
3 
07/10/2017 
16:20 
Ibarakiken-
nanbu 
3.4/43 
1/1 
4 
12/10/2017 
15:12 
Fukushimake
n-oki 
5.2/26 
1/2 
5 
15/10/2017 
19:05 
Ibarakiken-
hokubu 
3.0/7 
1/1 
6 
18/10/2017 
07:40 
Ibarakiken-
nanbu 
3.7/45 
1/2 
7 
02/11/2017 
22:31 
Ibarakiken-
oki 
4.3/74 
1/3 
8 
03/11/2017 
21:38 
Ibarakiken-
hokubu 
4.8/8 
2/3 
9 
05/11/2017 
17:40 
Ibarakiken-
nanbu 
2.9/43 
1/1 
10 
15/11/2017 
01:21 
Ibarakiken-
nanbu 
3.8/20 
1/2 
11 
26/11/2017 
15:55 
Ibarakiken-
hokubu 
3.9/4 
1/2 
12 
30/11/2017 
22:02 
Ibarakiken-
naubu 
3.9/42 
1/3 
Location of sensors on each floor 
 
Z 
 
X 
Y 

48
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
 
(a) Roof top floor (3rd ceiling) 
 
 
(b) 1st floor 
 
Figure 12.  Measured acceleration data (X direction). 
 
 
(a) Roof top floor (3rd ceiling) 
 
 
(b) 1st floor 
 
Figure 13.  Measured acceleration data (Y direction). 
 
Figs. 12 and 13 show measured results of the 1st floor 
and the 3rd ceiling (floor of the rooftop) in a horizontal 
direction X and Y, respectively. For the 1st floor, an 
acceleration of 10.2 cm/sec2 in X direction and 10.0 cm/sec2 
in Y direction at the maximum are observed. For the rooftop, 
the vibration of the earthquake is amplified and the maximum 
value of the acceleration is greater. The acceleration 
amplification factor of rooftop floor for the first floor is about 
1.8 times in the X direction and about 2.2 in the Y direction.  
Fig. 14 shows a Fourier spectrum of acceleration on the 
first floor. That is the acceleration of the seismic motion itself 
which is the input to the building. From this figure, dominant 
frequencies are observed at 2.4 Hz and 2.9 Hz in the X 
direction and 3.9 Hz in the Y direction. Figs. 15 and 16 show 
a transfer function (Fourier spectrum ratio) of the acceleration 
of each floor with respect to the first floor. Figs. 15 and 16 
show the X direction and the Y direction components, 
respectively. By calculating the transfer function of each floor, 
it is possible to eliminate the influence of the frequency 
component of the seismic wave and observe only the dynamic 
characteristics of the building. It can be confirmed from the 
figure that the primary natural frequencies in the X direction 
and the Y direction are around 4.5 Hz and 5.5 Hz, respectively. 
Observation of the primary natural frequency is important for 
the structural health monitoring of buildings. If it moves to a 
lower frequency after the earthquake, it means that the 
stiffness of the building’s structural member has decreased 
and the building has been damaged. 
 
 
Figure 14.  Fourier spectrum of acceleration on 1st floor. 
 
Figure 15.  Acceleration of each floor relative to the first floor in X dir. 
-20
0
20
0
50
100
150
-20
0
20
0
50
100
150
-30
0
30
0
50
100
150
-30
0
30
0
50
100
150
Acceleration (cm/sec2) 
Acceleration (cm/sec2) 
Time (sec) 
Time (sec) 
Transfer Function 
Acceleration (cm/sec2) 
Acceleration (cm/sec2) 
Time (sec) 
Time (sec) 
Fourier Amplitude 
Frequency (Hz) 
Frequency (Hz) 

49
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
 
 
 
Figure 16.  Acceleration of each floor relative to the first floor in Y dir. 
 
 
Figure 17.  Inter-story displacement (3rd story). 
 
 
Figure 18.  Inter-story displacement (2nd story). 
 
 
Figure 19.  Inter-story deformation (1st story). 
Even if many sensors are installed in a building, analysis 
to evaluate the structural health of the building cannot be 
performed unless time synchronization between the sensors is 
secured [19]. Structural health of the building after the 
earthquake can be evaluated by the amount of deformation of 
each inter-story by the earthquake. Therefore, in order to 
evaluate the damage of the building in more detail, the inter-
story deformation at each floor must be calculated. The 
displacement of each floor is calculated by double integration 
of the measured acceleration. Since time synchronization is 
ensured for the measurement data of this practical devices, the 
deformation of each inter-story can be calculated by 
subtracting the displacement of the upper floor and the lower 
floor. The value obtained by dividing the inter-story 
deformation of the building by the floor height is defined as 
the inter-story deformation angle. The maximum inter-story 
deformation angle during the earthquake and the damage of 
the building have the following relation. If the maximum 
inter-story deformation angle of the building during the 
earthquake is within 1/200, the building is assumed to be 
undamaged. The possibility of damage is high if it exceeds 
1/100. Figs. 17, 18 and 19 show calculated inter-story 
deformation of the third, the second, and the first story of the 
building, respectively. Since the floor height of the targeted 
building is 380 cm to 390 cm, the inter-story deformation 
angle of 1/200 means an inter-story deformation of 1.9 cm to 
1.95 cm. Since the inter-story deformation shown in Figs. 17, 
18 and 19 is much smaller in both the X and Y directions, it 
can be evaluated that the building is undamaged against this 
earthquake.  
Function and usability of the improved practical device, 
which was installed onto an actual building, were verified by 
the case study of seismic observation and structural health 
monitoring. In particular, such structural health monitoring of 
the building was made possible by the practical device 
developed in this research securing autonomous time 
synchronization.  
 
Y direction (cm) 
Transfer Function 
Frequency (Hz) 
X direction (cm) 
X direction (cm) 
X direction (cm) 
Y direction (cm) 
Y direction (cm) 

50
International Journal on Advances in Systems and Measurements, vol 12 no 1 & 2, year 2019, http://www.iariajournals.org/systems_and_measurements/
2019, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
IX. 
CONCLUSION 
This paper describes research and development on the 
sensor devices that can keep highly accurate time information 
autonomously using the built-in Chip Scale Atomic Clock 
(CSAC) for the purpose of application to seismic observation 
and structural health monitoring of buildings and civil 
infrastructure. First, a process of development was explained 
from the prototype, which uses the mechanism that adds 
highly accurate time information to the measured data with the 
CSAC to the practical device. Then, challenges in practical 
use were identified by the long-term measurement 
implemented by installing the developed practical device onto 
a bridge. Based on the challenges, further improvements were 
made for stability and operability of the practical device, and 
its performance was confirmed. A new procedure for time 
synchronization between devices and the communication 
system of measurement data newly constructed using “fluentd” 
which is open source software for data collection were 
detailed. In addition, the improved practical device was 
installed onto an actual building, and its function and usability 
were verified by the case study of seismic observation and 
structural health monitoring. Finally, structural health 
monitoring of the building based on the evaluation by the 
inter-story deformation was made possible by the improved 
practical device developed in this research securing 
autonomous time synchronization. 
As one of challenges, the operating method of the sensing 
system must be considered depending on the objective of 
measurement because the CSAC is aged over time although it 
is a highly accurate clock. Another challenge is the high cost 
of manufacture. The CSAC is expected to be mounted on all 
computers and smart phones in the near future, but only one 
American company manufactures and sells it at this time. It is 
expected that many companies will also participate in the 
business, and CSACs are actively used in various fields. 
Further verification will be performed by using the sensing 
system in actual buildings and civil infrastructures. 
ACKNOWLEDGMENT 
This research was partially supported by the New Energy and 
Industrial Technology Development Organization (NEDO) through 
the Project of Technology for Maintenance, Replacement and 
Management of Civil Infrastructure, Cross-ministerial Strategic 
Innovation Promotion Program (SIP). This research was also 
partially supported by JSPS KAKENHI Grant Number JP16H01717 
and JP16K01283. 
REFERENCES 
[1] N. Kurata, “Improvement and Application of Sensor Device 
Capable 
of 
Autonomously 
Keeping 
Accurate 
Time 
Information for Buildings and Civil Infrastructures,” The Ninth 
International Conference on Sensor Device Technologies and 
Applications (SENSORDEVICES 2018) IARIA, Sep. 2018, pp. 
114-120, ISBN: 978-1-61208-660-6. 
[2] N. Kurata, B. F. Spencer, and M. Ruiz-Sandoval, “Risk 
Monitoring of Buildings Using Wireless Sensor Network,” 
Journal of Structural Control and Monitoring, vol. 12, Issue 3-
4, pp. 315-327, July-Dec. 2005, doi: 10.1002/stc.73. 
[3] N. Kurata, M. Suzuki, S. Saruwatari, and H. Morikawa, 
“Actual Application of Ubiquitous Structural Monitoring 
System using Wireless Sensor Networks,” Proc. the 14th 
World Conference on Earthquake Engineering (14WCEE)  
IAEE, Oct. 2008, pp. 1-8, Paper ID:11-0037. 
[4] N. Kurata, M. Suzuki, S. Saruwatari, and H. Morikawa, 
“Application of Ubiquitous Structural Monitoring System by 
Wireless Sensor Networks to Actual High-rise Building,” Proc. 
the 5th World Conference on Structural Control and 
Monitoring (5WCSCM) IASCM, July 2010, pp. 1-9, Paper No. 
013. 
[5] S. Knappe, V. Shah, P. D. D. Schwindt, and J. Kitching, “A 
microfabricated atomic clock,” Applied Physics Letters, vol. 
85, Issue 9, pp. 1460-1462, Aug. 2004, doi:10.1063/1.1787942. 
[6] Q. Li and D. Rus, “Global Clock Synchronization in Sensor 
Networks,” IEEE Transactions on Computers, vol. 55, Issue 2, 
pp. 214-226, Jan. 2006, ISSN: 0018-9340. 
[7] R. Lutwak et al., “The Chip-Scale Atomic Clock - Prototype 
Evaluation,” Proc. the 39th Annual Precise Time and Time 
Interval (PTTI) Meeting, ION, Nov. 2007, pp. 269-290. 
[8] N. Kurata, “Disaster Big Data Infrastructure using Sensing 
Technology with a Chip Scale Atomic Clock,” World 
Engineering Conference and Convention (WECC2015) 
WFEO/UNESCO/SCJ/JFES, Dec. 2015, pp. 1-5. 
[9] N. Kurata, “Basic Study of Autonomous Time Synchronization 
Sensing Technology Using Chip Scale Atomic Clock,” Proc. 
the 16th International Conference on Computing in Civil and 
Building Engineering (ICCCBE2016) ISCCBE, July 2016, pp. 
67-74. 
[10] N. Kurata, “Development of Sensor Module for Seismic and 
Structural Monitoring with a Chip-Scale Atomic Clock,” 
Proceedings of the 16th. World Conference on Earthquake 
Engineering (16WCEE) IAEE, Jan. 2017, pp. 1-8, Paper 
No.583. 
[11] N. Kurata, “An Autonomous Time Synchronization Sensor 
Device Using a Chip Scale Atomic Clock for Earthquake 
Observation and Structural Health Monitoring,” The Eighth 
International Conference on Sensor Device Technologies and 
Applications (SENSORDEVICES 2017) IARIA, Sep. 2017, pp. 
31-36, ISSN: 2308-3514, ISBN: 978-1-61208-581-4. 
[12] N. Kurata, “Development and Application of an Autonomous 
Time Synchronization Sensor Device Using a Chip Scale 
Atomic Clock,” Sensors & Transducers Journal, Vol. 219, 
Issue 1, pp.17-25, January 2018, ISSN: 2306-8515, e-ISSN 
1726-5479. 
[13] D. L. Mills, “Internet time synchronization: the network time 
protocol,” IEEE Transactions on Communications, vol. 39, 
Issue 10, pp. 1482-1493, Oct. 1991, doi:10.1109/26.103043. 
[14] M. Maroti, B. Kusy, G. Simon, and A. Ledeczi, “The Flooding 
Time Synchronization Protocol,” Proc. the 2nd International 
Conference on Embedded Networked Sensor Systems (SenSys 
'04), Nov. 2004, pp. 39-49, ISBN:1-58113-879-2. 
[15] Q. Li and D. Rus, “Global Clock Synchronization in Sensor 
Networks,” IEEE Transactions on Computers, vol. 55, Issue 2, 
pp. 214-226, Jan. 2006, ISSN: 0018-9340. 
[16] J. Elson, L. Girod, and D. Estrin, “Fine-Grained Network Time 
Synchronization using Reference Broadcasts,” Proc. 5th 
Symposium on Operating Systems Design and Implementation 
(OSDI’02), Dec. 2002, pp. 147-163. 
[17] S. Ganeriwal, R. Kumar and M. B. Srivastava, “Timing-sync 
Protocol for Sensor Networks,” Proc. the 1st international 
conference on Embedded networked sensor systems (SenSys 
'03), Nov. 2003, pp. 138-149. 
[18] K. Romer, “Time Synchronization in Ad Hoc Networks,” Proc. 
the 2nd ACM International Symp. on Mobile Ad Hoc 
Networking & Computing (MobiHoc’01), Oct. 2001, pp. 173-
182. 
[19] C. Boller, F. K. Chang, and Y. Fujino. eds. “Encyclopedia of 
Structural Health Monitoring,” John Wiley & Sons, 2009. 

