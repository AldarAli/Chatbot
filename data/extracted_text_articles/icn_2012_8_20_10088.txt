Improving Fairness in Wireless Mesh Networks
Jorge L S Peixoto
Serv. Federal Process. Dados (SERPRO)
Fortaleza - CE - Brazil
jorge.peixoto@serpro.gov.br
Marcial P Fernandez
Univer. Estadual Ceará (UECE)
Fortaleza - CE - Brazil
marcial@larces.uece.br
Luis F de Moraes
Univer. Federal Rio de Janeiro (UFRJ)
Rio de Janeiro - RJ - Brazil
moraes@ravel.ufrj.br
Abstract—Wireless Mesh Networks (WMNs) are networks
that aim to establish hybrid wireless communications in areas
with little or no telecommunication infrastructure available.
The main motivation of these networks in Brazil and other
developing countries, particularly in remote areas, is providing
Internet access in places without commercial infrastructure and
where the telecom operators have no economic interest due to
its low demand. The idea is that a user in the network can
forward the packets of distant users to the wired network
connection point. Currently, wireless mesh networks use the
IEEE 802.11 (WLAN) protocol due its availability and low-
cost. However, IEEE 802.11 protocol favors the near users at
expenses of a very low performance for distant users from the
gateway node, connected to the wired network. The goal of
this paper is to propose a mechanism using the IEEE 802.11e
and QoS extension to provide a fairness network resource
distribution for all participating WMN nodes, independent of
their distance. The prototype was tested in simulation and
the results demonstrated the proposal effectiveness in resource
allocation in a wireless mesh network.
Keywords-Wireless Mesh Networks; Fairness; IEEE 802.11e.
I. INTRODUCTION
The use of wireless networks as an alternative to wired
networks has fostered a large number of studies whose focus
is improving the behavior of autonomous devices. Due to
the lack of an infrastructure network, the communications’
management is the responsibility of the nodes themselves.
Wireless Mesh Networks (WMNs) are cooperatives and
self-conﬁgurable networks, that interconnect a set of ﬁxed
nodes that can route packets to each other through multi-
hop [1]. They have the advantage to be a low-cost, easy to
deploy and a highly fault tolerant network.
The main application of Wireless Mesh Networks is
to provide access in areas with fair telecommunications
infrastructure where Internet access is given only by Plain
Old Telephone Service (POTS). A mesh infrastructure allows
to bring Internet access to low-income places where telecom
operators don’t have interest to offer broadband services.
The mesh networks thus become a viable alternative to
promote digital inclusion in under developed areas.
Wireless Mesh Networks can be classiﬁed into three
classes based on nodes’ functionality: ﬂat, hierarchical and
hybrid[1]. The ﬂat WMN are composed of routers (nodes)
with gateway functions that provides additional functions to
support the mesh network routing. The hierarchical WMN
Figure 1.
Unfairness forward in Mesh Networks.
are created by users but with functions of routing packets
in the mesh. The hybrid network are made of mesh routers
and clients that provides mesh routing (or not) and wired
network gateway. The hybrid network provides connections
with different types of networks. This work will be based
on this approach.
In multi-hop wireless networks based on IEEE 802.11
[2], the performance is low, and in some cases, resources
starvation, for client nodes far from the gateway node. This
occurs due to some characteristics in such networks, such
as: hidden and exposed terminal problem; IEEE 802.11
Binary Exponential Backoff [3]; the fact that DCF provides
to stations equal access opportunity to the shared environ-
ment; and, data streams from distant stations (in number of
hops) to the gateway, has more dispute on medium access
that increases the packet loss and collision, reducing the
throughput.
Figure 1 shows these problems. Suppose A, B and C are
part of the wireless back-haul. Only A is connected to the
wired network (Internet). Nodes A, B and C are conﬁgured
with static routes and do not generate trafﬁc, just forward
the data from client nodes 1, 2, 3, 4 and 5. Now, suppose 1,
2, 3, 4 and 5 start (each one) a data ﬂow to the Internet. The
ﬂow that starts at the node 4, before arriving at A, must pass
through C and then B. The ﬂow from node 2, before arriving
at A, passes through B. Node 1 communicates directly with
A, and then, to the Internet.
Through simulation experiments, we observed that the
gradual increase in data rate from client nodes (1, 2, 3, 4
175
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

and 5), cause the increase of node 1 ﬂow at the expense of
the reduction of ﬂow from other client nodes (2, 3, 4 and
5). Node A divide equally the opportunity for node 1 and B
that consolidate the trafﬁc from other nodes. In the Figure 1,
while the client nodes forward only one stream each, node
A forwards 5 streams (from 1, 2, 3, 4 and 5), B forwards
4 streams (from 2, 3, 4 and 5) and C forwards 3 streams
(from a 3, 4 and 5).
This paper proposes a mechanism to share the medium
access time among wireless back-haul routers and clients.
The resource sharing should be proportional to the number
of users connected to each wireless router. And also, it
should maximize the network resource use in order to avoid
resource waste.
The rest of the paper is structured as follows. In Section II,
we present some related works and in section III we present
the proposed mechanism. Section IV shows the validation
methodology and Section V shows the results. Finally,
Section VI shows the conclusions and some suggestions to
future works.
II. RELATED WORKS
The medium access fairness in IEEE 802.11 wireless
networks has been discussed in many papers. However, little
work has been done about fairness on mesh networks. Some
related works are presented below.
Bensaou [4] and Wang [5] proposed a new algorithm for
quantitative back-off instead the DCF Binary Exponential
Back-off. In their proposal, each station continuously es-
timates its own throughput and the throughput from other
stations, which competes to the medium access. Then, each
one calculates a fairness index used to adjust the contention
window. The simulation shows that this algorithm achieves
a better fairness than the IEEE 802.11 original algorithm.
Xu et al. [3] shows that, although the IEEE 802.11 MAC
protocol support Ad hoc networks, it was not designed for
it, i.e., the connectivity is basically multi-hop. It presents
several problems, such as medium access unfairness and
TCP instability, and proposes some solutions. Finally, they
show that IEEE 802.11 MAC protocol does not work well
in multi-hop networks.
Wang [6] proposed a mechanism to guarantee applications
end-to-end delay in multi-hop wireless LANs. Due to node
mobility and the distributed medium access, these networks
suffer from severe delay and jitter variations. Thus, the
perceived fairness on delay is essential to provide all nodes
the same delays guarantees in a multi-hop WLAN network.
They propose a new framework to guarantee delays using
three modules: one is responsible for provisioning the delay
information in the class of service, another for the adaptive
selection among the available class of services and the last
is responsible for monitoring the average delay of each
network node and select the MAC priority.
Gambiroza et al. [7] proposed the IFA algorithm (Inter-
transit access points Fairness Algorithm) to improve fairness
in multi-hop networks. In IFA, each node calculates the
amount of time it can use to transmit its data, improving
overall fairness. The evaluation requires exchange of in-
formation control messages about the state of each link.
The nodes send to their neighbors the amount of network
resources they need to forward incoming trafﬁc. After an ex-
change of control information, each node runs the algorithm
to calculate its maximum rate allowed.
III. A PRIORITIZATION MECHANISM TO IMPROVE
FAIRNESS IN MESH NETWORKS
The mechanism proposed in this paper aims to share
medium access time in a fair manner among nodes in
a wireless back-haul. The mechanism functionality is to
deﬁne a certain limited amount of shared resources for each
wireless router from WMN back-haul. Then, it needs to
know the number of client nodes connected in this router
and its child nodes. The algorithm calculates the amount of
necessary resource and it allocates for each connection.
It is important to know that the algorithm should run only
in router nodes, but not in the client nodes. Then, the user
does not need to update any software or hardware, they
should use the normal WLAN protocol.
When we progressively increase the client nodes trans-
mission rate, the rate of nodes close to the gateway router
continues to grow at the expense of reduction on rate of
distant nodes. By simulation experiments, we notice that
when the network reaches saturation, the client nodes farther
from the gateway router suffer starvation. The mechanism
proposed aims to minimize this problem.
Another important factor is associated with WMN topol-
ogy. Most of WMN has only one path between two nodes,
as data preferentially ﬂows from an external network to
client nodes, then more ﬂows are forwarded to the nodes
near the gateway router. This gives a disproportion in trafﬁc
ﬂows to the router nodes (Figure1), then, it should be given
more medium access time to router nodes to minimize this
disparity.
The prioritization mechanism allocates the resource media
access time to the nodes of the WMN back-haul using a
parameter that limits the maximum transmission time for
each node. This parameter is deﬁned as the Transmission
Opportunity (TXOP) by IEEE 802.11e amendment. The
resource allocation calculation is done as follows: each client
node will receive a ﬁxed amount of resource and the routers
nodes receive an amount of resource proportional to the
number of upward client nodes connected.
Figure 2 shows a WMN example and how the resource
allocation works. Suppose, initially, that the TXOP value
is conﬁgured to 1 for each client node (1, 2, 3, 4 and 5).
Router C is conﬁgured with TXOP equal to 3, because there
are three clients connected (5, 4 and 3). Router B receives a
176
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

Figure 2.
Resource allocation.
TXOP equal to 4, because there are four clients downward
(5, 4, 3 and 2). Finally, A receives a TXOP equal to 5
because there are ﬁve clients downward (5, 4, 3, 2 and 1).
During the mechanism evaluation, it was noticed that the
resources allocated to routers were underused. This was
because all packets from the queue of the router were
transmitted before the end of the time allocated, thus, on
every transmission opportunity time a considerable amount
of resource was wasted. To minimize this, it was added
some intelligence in mechanism to dynamically adjust the
router IEEE 802.11e AIFS parameter according the queue
length. When it is near zero, the AIFS is increased and
then: decreases the medium access probability for the node;
increase the numbers of packets in the queue, and ﬁnally;
maximizes the resource use because the allocated resource
ends before the queue length reaches zero. When the queue
length exceeds the threshold, the AIFS value is restored.
IV. PROPOSAL VALIDATION
This section describes the validation methodology and
the implementation of proposed mechanism in Network
Simulator version 2 (ns-2) platform. Only DCF functions are
implemented in the IEEE 802.11 MAC layer of ns-2 core.
We chose the TKN (Telecommunication Networks Group)
[8] model, that supports an EDCA based on the latest version
of IEEE 802.11e draft, which presents an improved binary
exponential back-off algorithm that was adopted in the ﬁnal
version. The platform used was the Network Simulator (ns-
2) version 2.28 patched with TKN EDCA from Vivek [9].
The operation system was GNU/Linux Ubuntu Hardy 8.04
and compiler was GNU C/C++ Compiler version 3.33 or
2.95.
A. Scenario
To validate the proposal, we performed simulations in
three different scenarios. The ﬁrst scenario, showed in Figure
2, is a Typical Scenario of a WMN where the mechanism
was evaluated. To validate the proposed mechanism we eval-
uated in two other scenarios: the Line Scenario topology,
showed in Figure 3, which represents the worst case for
Figure 3.
Line WMN scenario: nodes 1, 2, 3, 4 and 5 are clients, nodes
B, C, D and E are routers and node A is the gateway.
Figure 4.
Star WMN scenario: nodes 1, 2, 3, 4, 5, 6, 7 and 8 are clients
and node A is the gateway.
WMN (largest number of hops) and the Star Scenario
topology, showed in Figure 4, which represents the best case
for WMN, i.e., all stations are equidistant from the gateway
node (one hop).
In Figure 2, nodes 1, 2, 3, 4 and 5 generate trafﬁc Constant
Bit Rate (CBR) using the UDP (User Datagram Protocol)
transport protocol. These ﬂows had 500 bytes packets to
node A. TCP (Transmission Control Protocol) was not used
because its congestion control mechanism would affect the
measurement results [10]. Nodes A, B and C are ﬁxed router
nodes conﬁgured with static routes [9] that make the wireless
back-haul. The node A is 100 meters from B and B is 100
meters from C. Nodes 5, 4 and 3 are within 100 meters of
C, node 2 is within 100 meters of B and node 1 is within
100 meters of A.
The simulations were performed with and without the
mechanism enabled. Each experiment consisted of 10 sim-
ulations of 240 seconds and the average with a 95%
conﬁdence interval was calculated. Each experiment used
a random generated seed. In each round, the trafﬁc rate
generated by nodes varies from 0 to the maximum rate that
cause the network congestion.
In the ﬁrst test, we used the IEEE 802.11b DCF at 11
Mbps data and 1 Mbps for RTS/CTS/ACK, while in the
second test we used the IEEE 802.11b EDCA at the same
177
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

rates. All the nodes have omni-directional antennas with the
same transmission power, providing 100 m as transmission
radius and 150 meters as carrier detection radius. In both
tests, the nodes were conﬁgured with CWmin = 31 and
CWmax = 1023. In the second test, the AIFS = 1 was
used. The amount of reserved resource (TXOPLimit) for
nodes C is 3t and for node B is 4t, where t = 0.915ms,
the time in milliseconds to transmit a 500 bytes frame and
receiving a frame acknowledgment (ACK). The minimum
queue length threshold at nodes C and B is 2 times the
number of child nodes, i.e., the threshold of C = 6 and
B = 8.
The number of nodes connected to each router in the
prototype were assigned manually since it was not a goal of
our work to perform node discovery. However, this function
could be implemented using resource discovery protocols,
such as Link Layer Discovery Protocol (LLDP).
V. RESULTS
The proposed mechanism was evaluated using the follow-
ing performance metrics:
• Throughput in MBps: measuring the number of bytes
per second of a speciﬁc ﬂow received by the destination
application;
• Number of transmission opportunities (TXOP): number
of transmission opportunities obtained by each node per
second;
• Packet Drops rate in pkts/s due full queue: the number
of packets dropped per second for each node due full
queue.
We plotted two graphs for each metric: one with standard
IEEE 802.11 DCF (no mechanism) and another with pro-
posed prioritization mechanism enabled. In all graphs, the
x-axis represents the trafﬁc load generated by the client node
at the application layer.
A. Results for Typical Scenario
Figure 5(a) shows what was written in the last paragraph
of Section I, about increasing the ﬂow rate in node 1 against
other ﬂows. The throughput reaches the maximum rate at
400 pkts/s, when the network becomes saturated. But we
can note signs of saturation at 70 pkts/s, when the ﬂow
coming from the farthest nodes begins to decrease. The ﬂow
from node 2, one hop less than nodes 3, 4 and 5, begins to
decrease the throughput at 125 pkts/s.
Figure 5(b) shows the behavior of throughput with the
proposed mechanism enabled. We can see a better fairness
among throughput from different nodes. When the system
is saturated, the ﬂow from node 1 no longer monopolizes
the bandwidth. But even with the mechanism enabled, there
is a little difference among the ﬂows coming from nodes
with different number of hops: node 1 was a little better
than node 2 and better than ﬂows from nodes 3, 4 and 5.
We can also see a reduction on global throughput because
 0
 0.5
 1
 1.5
 2
 0
 50
 100
 150
 200
Throughput (MBps)
Rate (pct/s)
Flow 5
Flow 4
Flow 3
Flow 2
Flow 1
Aggregated
(a) Without mechanism.
 0
 0.5
 1
 1.5
 2
 0
 50
 100
 150
 200
Throughput (MBps)
Rate (pct/s)
Flow 5
Flow 4
Flow 3
Flow 2
Flow 1
Aggregated
(b) Proposed mechanism enabled.
Figure 5.
Typical Scenario: Throughput in MBps per ﬂow
the mechanism gives more bandwidth for distant nodes that
have a longer delay to gateway node reducing the overall
throughput.
In Figure 6, the y-axis shows the number of transmission
opportunities per second by node. The client nodes can
only send one packet at every opportunity, so we can also
consider that y-axis represents the number of packets sent
per second (throughput in pkts/s). However, router nodes
can send multiple packets at each transmission opportunity
period. For example, on the simulation scenario showed in
Figure 2, the node C was assigned a value of 2.745 ms,
this means that every transmission opportunity given to C,
the channel will be reserved for C for a maximum time of
2.745 ms (time enough to forward up to 3 packets of 500
bytes). With the mechanism off, all nodes send one frame
every transmission opportunity period.
Figure 6(a) also demonstrates that the network becomes
saturated above 70 pkts/s. After that, the graph shows the
node 1 bandwidth monopolization.
178
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

 0
 50
 100
 150
 200
 250
 300
 0
 50
 100
 150
 200
Transmission opportunity per sec
Rate (pct/s)
Node 5
Node 4
Node 3
Node 2
Node 1
Node C
Node B
(a) Without mechanism.
 0
 50
 100
 150
 200
 250
 300
 0
 50
 100
 150
 200
Transmission opportunity per sec
Rate (pct/s)
Node 5
Node 4
Node 3
Node 2
Node 1
Node C
Node B
(b) Proposed mechanism enabled.
Figure 6.
Typical Scenario: Transmission Opportunity per node
In Figure 6(b) we can see the router resource use yield.
Yield is deﬁned as the ratio of the number of packets
transmitted by the number of transmission opportunities.
When the system has low demand (until 70 pkts/s), the yield
is low because there are no sufﬁcient packets to ﬁll the
queue. When the system is near saturation (at 70 pkts/s),
the yield increases, reaching 41% in node C. The maximum
yield for the router C occurs when it always transmit 3
frames every transmission opportunity, reaching yield of
93% at 90 pkts/s rate.
After analyzing the results, we could notice that the
reasons for dropping packets are full queue (Figure 7) and
collision. Client nodes almost drop packets only due full
queue. Since the routers only forward packets, not generate
them, there is less queue use and hence less full queue drops.
We can see in Figure 7 that drop rate is similar with and
without the mechanism, but it is clear the improvement on
drop fairness, now more distributed among nodes.
 0
 20
 40
 60
 80
 100
 120
 140
 0
 50
 100
 150
 200
Drop rate by queue exhaustion (pct/s)
Rate (pct/s)
Node 5
Node 4
Node 3
Node 2
Node 1
Node C
Node B
(a) Without mechanism.
 0
 20
 40
 60
 80
 100
 120
 140
 0
 50
 100
 150
 200
Drop rate by queue exhaustion (pct/s)
Rate (pct/s)
Node 5
Node 4
Node 3
Node 2
Node 1
Node C
Node B
(b) Proposed mechanism enabled.
Figure 7.
Typical Scenario: Drops rate due full queue.
B. Results for Line Scenario (worst case)
The mechanism evaluation in a line scenario, worst case
for WMN, shows that it was very efﬁcient because in this
topology the fairness is clearly evident.
In Figure 8(a), the maximum network throughput occurs
at 375 pkt/s rate. But at 50 pkt/s rate there was a reduction
on ﬂow 5 throughput. Figure 8(b) shows the better fairness
among ﬂows after the mechanism was enabled. When the
mechanism is enabled, we see an equalization of TXOP
among client nodes and routers.
C. Results for Star Scenario (best case)
The third scenario evaluated a star topology, the best
case of WMN. In this simulation we note that there is
no improvement when the proposed mechanism is used,
because all client nodes are equidistant (1 hop) from gateway
node.
VI. CONCLUSION AND FUTURE WORK
The WMN networks based on IEEE 802.11 are being used
to provide Internet access in under-developed areas. Aiming
179
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

 0
 0.5
 1
 1.5
 2
 0
 50
 100
 150
 200
Throughput (MBps)
Rate (pct/s)
Flow 5
Flow 4
Flow 3
Flow 2
Flow 1
Aggregated
(a) Without mechanism.
 0
 0.5
 1
 1.5
 2
 0
 50
 100
 150
 200
Throughput (MBps)
Rate (pct/s)
Flow 5
Flow 4
Flow 3
Flow 2
Flow 1
Aggregated
(b) Proposed mechanism enabled.
Figure 8.
Line Scenario: Throughput per ﬂow in MBps
to extend the coverage of such networks in an economi-
cally viable manner, network designs have been studying
platforms characterized by low-cost equipment, ease of con-
ﬁguration, installation and maintenance. When progressively
increasing the transmission rate in client nodes, the through-
put of the nodes near gateway router continues to increase
against the throughput reduction from distant nodes. When
the network reaches the bandwidth saturation, we observed
that the farther client nodes from the gateway router suffer
starvation.
This paper presented a new mechanism to improve the
fairness at WMN back-haul. The mechanism changes the
prioritization of medium access time of routers nodes to
reach fair share of network resource. The basic operation is
giving out to back-haul router nodes an amount of medium
access time based on the number of client nodes connected.
The simulation experiments showed that the mechanism
is effective, since it allocated the resource proportion to
the numbers of ﬂows routed by router node, minimizing
the problem of unbalanced resource distribution among the
WMN nodes. The efﬁciency was assessed by comparisons
of the WMN performance with prioritization mechanism
disabled and enabled.
Based on work presented in this paper we can suggest
some future work: Dynamic allocation resource: as showed
in Section III, the prioritization mechanism allocates an
amount of resource based on the number of descendants
clients. If the number of client nodes vary dynamically, it
is necessary to adjust the resource allocation dynamically.
Protocol to exchange information among routers: this pro-
tocol would be necessary to implement dynamic allocation
resource mechanism to update status information (number
of client nodes).
REFERENCES
[1] Ivan F. Akyildiz and Xudong Wang, “A Survey on Wireless
Mesh Networks,” IEEE Communication Magazine, vol. 43,
no. 9, pp. S23–S30, 2005.
[2] S. Kim, S. Lee, and S. Choi, “The Impact of IEEE 802.11
MAC Strategies on Multi-Hop Wireless Mesh Networks,” in
2nd IEEE Workshop on Wireless Mesh Networks (WiMesh
2006), 2006, pp. 38–47.
[3] Shugong Xu and Tarek Saadawi, “Does IEEE 802.11 MAC
Protocol Work Well in Multi-hop Wireless Ad Hoc Net-
works?” IEEE Communications Magazine, vol. 39, no. 6, pp.
130–137, 2001.
[4] B. Bensaou, Y. Wang, and C. C. Ko, “Fair Medium Access
in 802.11 based Wireless Ad-Hoc Networks,” in The ACM
International Symposium on Mobile Ad Hoc Networking and
Computing (MobiHoc00), 2000, pp. 99–106.
[5] Y. Wang and B. Bensaou, “Achieving Fairness in IEEE 802.11
DFWMAC with Variable Packet Lengths,” in Global Telecom-
munications Conference (GLOBECOM01), vol. 6.
IEEE,
2001, pp. 3588–3593.
[6] K.-C. Wang and P. Ramanathan, “End-to-End Delay Assur-
ances in Multihop Wireless Local Area Networks,” in Global
Telecommunications Conference (GLOBECOM03), vol. 5.
IEEE, 2003, pp. 2962–2966.
[7] V. Gambiroza, B. Sadeghi, and E. W. Knightly, “End-to-
end performance and fairness in multihop wireless backhaul
networks,” in 10th ACM Annual International Conference on
Mobile Computing and Networking (MobiCom04).
New
York, NY, USA: ACM Press, 2004, pp. 287–301.
[8] Sven Wiethölter and Christian Hoene, “IEEE 802.11e EDCA
and CFB Simulation Model for NS-2,” http://www.tkn.tu-
berlin.de/research/802.11e_ns2/,
2007,
Last
accessed
Jul
2010.
[9] Vivek,
“NS
Static
Routing,”
http://decision.csl.uiuc.edu/∼vivek/software/ns-manual/,
Last accessed Jan 2010.
[10] K. Tang and M. Gerla, “Fair Sharing of MAC under TCP in
Wireless Ad Hoc Networks,” in Proc. IEEE Multiaccess, Mo-
bility and Teletrafﬁc for Wireless Communications (MMT99),
vol. 4.
IEEE, 1999, pp. 231–240.
180
Copyright (c) IARIA, 2012.     ISBN:  978-1-61208-183-0
ICN 2012 : The Eleventh International Conference on Networks

