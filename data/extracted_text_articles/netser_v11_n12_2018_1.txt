Proposal and Performance Analysis of Hybrid NDN Based Ad Hoc Routing  
Combining Proactive and Reactive Mechanisms 
 
Ngo Quang Minh, Ryo Yamamoto, Satoshi Ohzahata, and Toshihiko Kato 
Graduate School of Informatics and Engineering 
University of Electro-Communications 
Tokyo, Japan 
mingus@net.is.uec.ac.jp, ryo_yamamoto@is.uec.ac.jp, ohzahata@is.uec.ac.jp, kato@is.uec.ac.jp 
 
 
Abstract‚Äî This paper is an extension of our previous conference 
paper.  In this paper, we propose a new routing protocol for 
named data networking (NDN) based ad hoc networks.  One 
feature of our protocol is that it adopts a hybrid approach where 
a proactive routing is used in the producer side network and a 
reactive routing is used in the consumer side network.  Another 
feature is that we focus only on the name prefix advertisement 
in the proactive routing.  The result of performance evaluation 
focusing on the communication overhead shows that our 
proposal has a moderate overhead both for routing control 
messages and Interest packets compared with some of 
conventional NDN based ad hoc routing mechanisms proposed 
so far.  The performance evaluation for a network configuration 
with a moving consumer node also shows the proposal realizes 
an effective content retrieval.   
Keywords-component; Ad Hoc Network; Named Data 
Networking; Proactive Routing; Reactive Routing; Analytical 
Performance Evaluation. 
I. 
 INTRODUCTION 
This paper is an extension of our previous conference 
paper, which we presented in an IARIA conference [1].   
Recently, Information Centric Networks (ICNs) have been 
widely studied as a future Internet architecture well suited for 
large scale content distribution.  Named Data Networking 
(NDN) [2][3] has been widely adopted as a platform for ICN 
research activities.  The fundamental adopted in NDN is the 
name of required content, not the address of hosts containing 
content.  NDN uses two types of packets in all 
communications: Interest and Data.  A consumer requesting a 
content sends an Interest packet containing the content name.  
A producer providing the corresponding content data returns 
a Data packet to the consumer.  NDN routers transferring the 
Data packet cache the packet for future redistribution.   
Originally, NDN was designed for wired network 
topology, but it can be effectively applied to wireless multi-
hop ad hoc network topology.  Since nodes move around in 
wireless ad hoc networks, the routing mechanism is a more 
important research topic compared with wired networks.  In 
NDN, the purpose of routing is how to construct Forwarding 
Information Base (FIB) for name prefixes, which specifies the 
correspondence between a name prefix and a face (or a 
neighbor identifier) to the content with this name prefix.   
There are several proposals on the routing in NDN.  For 
the wired NDN topology, those proposed in [4] and [5] are 
examples introduced in an early stage.  Both of them are based 
on the link state routing protocol, which maintains and 
advertises link statuses between neighbors, shares the 
topology information, and creates routing tables from it.  The 
protocol in [6] is a new proposal based on the link state routing 
considering multipath routing.   
In the case of NDN based wireless ad hoc networks, both 
the proactive and the reactive approaches are proposed [7]-
[11].  This trend is the same as IP based ad hoc networks.  
MobileCCN [8] and TOP-CCN [9] are examples of the 
proactive routing mechanism.  MobileCCN is an application 
of RIP [12] to the NDN based ad hoc routing.  TOP-CCN is 
an application of OLSR [13].  On the other hand, E-CHANET 
[10] and REMIF [11] are examples of the reactive routing 
mechanism, which are considered extensions of Ad Hoc On-
Demand Distance Vector routing (AODV) [14].   
These NDN based ad hoc routing mechanisms have pros 
and cons.  The proactive routing can create FIB in response to 
an up-to-date network topology, but has some overheads of 
routing control message exchange.  On the contrary, the 
reactive routing has no overheads of routing, but has some 
overheads associated to Interest packet transfer.  
From these considerations, we proposed a new NDN 
based ad hoc routing in our previous paper [1].  Our proposal 
has the following two features.  First, in a typical ad hoc 
network used in a public space, such as shopping malls and 
museums, a content producer side has a stable network where 
producers and intermediate routers are located in fixed 
positions.  On the other hand, consumers are mobile nodes 
which change their locations quite often.  Therefore, a hybrid 
approach which uses the proactive and reactive routing is 
considered to be useful.  In the IP based ad hoc network, a 
hybrid routing is also proposed [15].  Based on these 
considerations, we take a hybrid approach where the proactive 
routing is adopted in a producer side network, because of its 
in-advance route setting, and the reactive routing is adopted in 
a consumer side network, because of its flexibility for mobility.   
The second feature is about the procedure of proactive 
routing.  The NDN proactive routing procedures proposed so 
far are advertising both the network topology and the name 
prefixes.  However, the point of NDN routing is how the name 
prefixes are disseminated.  In order to realize this requirement, 
it is sufficient that the shortest path information is maintained 
1
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

for individual producer.  So, we propose a new proactive NDN 
routing focusing on just the name prefix advertisement.   
In our previous paper, we evaluated the performance by 
counting the number of transmitted packets in the static 
network configuration.  The result showed that our proposal 
is effective compared with the conventional NDN ad hoc 
routing [1].   
This paper is an extension of our previous paper [1].  In 
this paper, we again state the details of our proposal by adding 
a flow chart of our algorithm.  We also give the performance 
evaluation using a mobile node network configuration as well 
as a fixed node network configuration.  The rest of this paper 
consists of the following sections.  Section II describes the 
related work on NDN and NDN based ad hoc routing.  Section 
III proposes our new protocol.  Section IV shows the 
performance evaluation with the fixed node configuration 
focusing on the routing control and Interest transfer overheads, 
and Section V shows the performance evaluation with the 
mobile node configuration.  In the end, Section VI concludes 
this paper.   
II. RELATED WORK 
This section describes related work on NDN and NDN 
based ad hoc routing.   
A. Overview of named data networking 
NDN nodes (consumers, NDN routers and producers) 
maintain the following three major data structures [2].   
ÔÅ¨ 
Forwarding Interest Base (FIB): used to forward Interest 
packets toward producers of matching Data.   
ÔÅ¨ 
Pending Interest Table (PIT): keeping track of Interest 
packets forwarded to producers so that returned Data 
packets can be sent to consumers.   
ÔÅ¨ 
Content Store (CS): caching received Data packets 
temporarily. 
When an Interest packet arrives on some face, the content 
name in the Interest is looked up.  If there is a copy of the 
corresponding Data packet in CS, it is sent out to the face the 
Interest packet arrived on and the Interest packet is discarded.  
Otherwise, if there is a PIT entry exactly matching to the 
received content name, the Interest‚Äôs arrival face is added to 
the PIT entry and the Interest packet is discarded.  Otherwise, 
if there is a matching FIB entry, then the Interest packet is sent 
to the face specified in the FIB entry.   
As described above, the routing mechanism in NDN is a 
procedure to create FIB entries for published name prefixes.  
As for the routing in wired NDN topology, the major protocols 
proposed so far [4]-[6] are based on Open Shortest Path First 
(OSPF) [16], which is a link state based intra-domain routing 
protocol used widely in IP networks.  Among them, Named-
data Link State Routing protocol (NLSR) [5], for example, 
introduces two types of link state advertisements (LSAs): 
Adjacency LSA and Prefix LSA.  An Adjacency LSA is 
similar to an LSA defined in OSPF and contains a list of 
neighbor name and cost of the link to neighbor.  A Prefix LSA 
is designed for NDN and contains name prefixes.  An NDN 
node sends Periodic ‚Äúinfo‚Äù Interest packets for neighbor 
detection.  If it receives an ‚Äúinfo‚Äù Content reply, it considers 
that a neighbor is alive.  An NDN node also sends periodic 
‚ÄúRoot Active‚Äù Interest packets.  If any link state information 
has changed, its reply is returned.  After that, an Interest 
packet requesting a new LSA and its corresponding Data 
packet are exchanged.   
B. NDN based ad hoc routing mechnisms 
For NDN based ad hoc networks, there are a lot of research 
activities [7].  Among them, MobileCCN [8] and TOP-CCN 
[9] are typical examples of the proactive routing mechanism.  
In MobileCCN, NDN nodes regularly broadcast their own 
FIB, obtain neighbors‚Äô FIB, and re-create own FIB.  The idea 
is similar to that of Routing Information Protocol (RIP), in 
which routers send their own routing table to their neighbors 
periodically [12].  As is in RIP, the scalability is a problem in 
MobileCCN.   
TOP-CCN is an extension of the Optimized Link State 
Routing (OSLR) [13] to the NDN based ad hoc routing.  TOP-
CCN introduces a new packet called Content Announcement 
(CA).  It also introduces the idea of multipoint relay (MPR) 
and publisher MPT (PMPR).  A CA packet contains name 
prefixes, node id and type of sender, list of neighbors‚Äô id and 
type, and so on.  It is used for the neighbor discovery and MPR 
selection, through single hop broadcast, and for the link state 
information announcement, through multi-hop flooding.  A 
multi-hop CA packet is generated by PMPR and flooded by 
MPRs and PMPRs, and it is used to create the topology 
information and FIB.  Since the base of TOP-CCN is OLSR 
used in IP networks, however, multi-hop CA packets provide 
over-specified information.  For example, a route between 
consumers, which is never used in NDN, can be obtained from 
this information.   
On the other hand, the reactive routing mechanism is 
original in ad hoc networks.  There are many examples [7], 
including REMIF [11], which we use in the performance 
evaluation.  REMIF does not use any routing control messages 
and therefore NDN nodes do not maintain FIBs.  Instead, a 
route to producer is detected during Interest packet flooding.  
In order to avoid a broadcast storm problem, REMIF adopts 
differed re-broadcasting with remaining energy checking.  
Although REMIF has better performance than E-CHANET 
[10] as for the Interest forwarding overhead [11], the overhead 
may increase depending on the node density and the average 
hops between consumers and producers.   
III. PROPOSAL 
A. Design principles 
We have adopted the following design principles for our 
hybrid NDN based routing mechanism.   
ÔÅ¨ 
As described above, we divide a whole NDN network 
into the producer side and the consumer side.  In the 
producer side, NDN nodes including producers and 
intermediate routers have their location fixed.  So, a 
proactive routing mechanism is introduced in this part.  
On the other hand, the consumer side includes mobile 
nodes working as consumers or intermediate routers.  
Those nodes move around and the network configuration 
often changes.  In this part, a reactive routing mechanism 
is introduced.   
2
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

ÔÅ¨ 
For the producer side, our proactive routing focuses only 
on the name prefix advertisement.  It constructs a 
directed acyclic graph (DAG) starting from each 
producer.  An FIB entry for a specific name prefix is 
given by pointing upstream nodes so as to traverse the 
corresponding DAG in a reverse direction.  If there are 
more than one upstream nodes, all of them are registered 
in the entry and used for multipath forwarding [16].   
ÔÅ¨ 
In order to create a DAG for a specific name prefix, the 
corresponding 
producer 
issues 
a 
Name 
Prefix 
Announcement Request (NPAreq) packet.  It is 
broadcasted, and if any receiving NDN nodes are on the 
corresponding DAG, they return a Name Prefix 
Announcement Reply (NPArep) packet by unicast.   
ÔÅ¨ 
As for the consumer side, NDN nodes do not use any 
control packets for routing.  Instead, the FIB entry is 
created by the first Interest packet for a name prefix.  The 
first Interest packet is flooded throughout the consumer 
side, and after it reaches some node in the producer side, 
this Interest packet is transferred to the producer.  When 
the corresponding Data packet returns, a temporary FIB 
entry is created at the nodes in the consumer side.  For 
the following Interest packets for the same name prefix, 
this FIB entry is used.   
B. Detailed design for producer side 
Table I shows the parameters contained in NPAreq and 
NPArep packets.  Producer node ID is the MAC address of 
the producer node, and NPAreq and NPArep packets can be 
uniquely identified using this ID and nonce.  A producer 
periodically generates NPAreq packets containing the name 
prefix list which it is publishing.  Hop count is the number of 
hops from the producer.  When a producer side node receives 
an NPAreq packet, it rebroadcasts the received packet with 
incrementing hop count and setting the number of downstream 
nodes, and returns an NPArep packet to the sender of the 
NPAreq packet, according to the procedure described below.   
Figure 1 shows the structure of FIB used by producer side 
nodes.  An FIB entry is created for an individual name prefix, 
and it may contain multiple forwarding candidates.  Each 
candidate has the forwarding parameters and the routing 
parameters.  The forwarding parameters are the ID (MAC 
address) of upstream node and other performance related 
values as defined in [16].  The routing parameters are used 
both to select and rank the upstream node providing shortest 
path to the name prefix and to compose a NPAreq packet to 
be rebroadcasted.   
A node receiving an NPAreq packet follows the 
algorithms depicted in Figure 2.    
1. 
The node checks whether there is an FIB entry for the 
name prefix specified in the received NPAreq packet.    
2. 
If there are no such entries, it adds a new entry with the 
MAC address of the sender of the NPAreq packet set in 
the upstream node ID.  It sends an NPArep packet to the 
NPAreq sender, and rebroadcasts the NPAreq packet.   
3. 
Otherwise, it checks whether there is a forwarding 
candidate which has the same producer node ID.  If there 
is such a candidate, then look for candidates in which the 
nonce is the same as that in the NPAreq packet.   
(3-1) If there are no such candidates, handle this NPAreq 
as a new advertisement.  That is, it deletes the 
producer node ID and nonce pair from the list in all 
of found candidates. If the list becomes empty, it 
deletes the candidate and adds the producer node 
ID and nonce with creating a new candidate when 
necessary.  It sends an NPArep packet to the 
NPAreq sender, and rebroadcasts the NPAreq 
packet.   
(3-2) Otherwise, that is, when there are some candidates 
having the same pair of producer node ID and 
nonce with the NPAreq packet, it compares the hop 
count in the entry with that in the NPAreq.   
(3-2-1) If the hop count in the entry is smaller, then 
it ignores the received NPAreq packet.   
TABLE I.  PARAMETERS IN NPAreq AND NPArep PACKETS.   
packet
parameters
NPAreq
producer node ID, nonce, name prefix list, 
hop count, number of downstream nodes.
NPArep
producer node ID, nonce.
 
name prefix
stale time
...
...
1
2
note: forwarding candidates ranked by number of downstream nodes 
managed by upstream node or by other routing policies
forwarding parameters: upstream node ID, other 
performance parematers (such as RTT), . . .
routing parameters: list of (producer node ID, nonce), 
receiving time, number of downstream nodes managed 
by upstream node, number of downstream nodes 
managed by this node
forwarding candidate
hop count from 
producer
FIB entry
 
Figure 1.  Structure of FIB at producer side.   
 
Figure 2.  Flow chart for a received NPAreq packet.   
1. FIB entry for 
name prefix
NPAreq received
2. create a new FIB entry
send NPArep
rebroadcast NPAreq
No
same producer 
ID
Yes
same nonce
Yes
update the FIB entry
send NPArep
rebroadcast NPAreq
Yes
3.1 No
compare hop 
count
3-2-1 
FIB entry < 
NPAreq
ignore NPAreq
3-2-3
FIB entry > 
NPAreq
4. No
same upstream 
ID
FIB entry = NPAreq
ignore NPAreq
3-2-2-A Yes
add forwarding candidate
send NPArep
rebroadcast NPAreq
3-2-2-B No
3
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

(3-2-2) If two hop counts are the same, then it 
checks whether there are any candidates 
which have the upstream node ID identical to 
the NPAreq sender address.   
A) If there is such a candidate, it ignores the 
received NPAreq packet.   
B) 
Otherwise, that is, when the NPAreq is 
sent by a new upstream node, it adds a 
new forwarding candidate, and returns 
an NPArep and rebroadcasts the 
NPAreq.   
(3-2-3) Otherwise, that is, when the hop count in 
the entry is larger than that in NPAreq packet, 
it handles this NPAreq as a new advertisement, 
and acts as specified in step (3-1).   
4. 
Following the first part of step 3, the last step is for when 
there are no candidates with the producer node ID 
specified in the NPAreq packet, that is, when an NPAreq 
with the same name prefix from a new provider.  In this 
case, it compares the hop count in the FIB entry with that 
in the received packet, and acts in the same way as (3-2-
1) through (3-2-3) according to the result.   
When a forwarding candidate is created or modified, the 
number of downstream nodes managed by upstream node 
needs to be modified according to the received NPAreq packet.   
When a node receives an NPArep packet, it looks for a 
forwarding candidate with the producer node ID and nonce in 
the packet, and increments the number of downstream nodes 
managed by this node by one.   
Figure 3 shows an example of this protocol.  As shown in 
Figure 3(a), there are six producer side nodes connected with 
wireless links shown in dashed lines.  Among them, node 2 is 
a producer and the others are NDN routers.  As shown in 
Figure 3(b), in the beginning, node 2 broadcasts an NPAreq 
packet with producer node ID = 2, nonce1, ‚Äúname‚Äù, hop count 
= 1, and number of downstream nodes = 0.  Nodes 1, 2, and 5 
receive this packet, create an FIB entry as shown in the figure, 
and return an NPArep packet individually.  Then node 5 
rebroadcasts the NPAreq packet with changing hop count to 
2, and nodes 4 and 6 respond.  Node 2 receives the packet but 
ignores it.  When node 5 receives the NPArep packets from 
nodes 4 and 6, the number of downstream nodes in this node 
is set to 2.   
Next, node 1 rebroadcasts the NPAreq packet, to which 
node 4 responds.  As a result, the FIB entry in node 4 has two 
forwarding candidates to node 1 and 5.  Similarly, the NPAreq 
packet rebroadcasted by node 3 is handled by node 6.  In the 
end of this advertisement, the NPAreq packets are 
rebroadcasted by nodes 4 and 6, but nobody responds to them.  
The generated DAG is shown in Figure 3(c).   
After some periods, node 2 broadcasts a new NPAreq 
packet with nonce2.  After this new NPAreq packet is 
disseminated, the FIBs of individual nodes are set as shown in 
the figure.  It should be noted that the FIBs in nodes 4 and 6 
have two forwarding candidates with node 5 and nodes 1/3 as 
the upstream nodes, respectively.  These candidates are 
ranked by the number of downstream nodes managed by 
upstream node (‚Äúdw2‚Äù).  Since node 5 has two downstream 
nodes, the forwarding candidate to node 5 is ranked first.   
So far in this subsection, we do not mention PIT in 
producer side nodes.  The PIT structure in producer side nodes 
is identical to that used in original NDN nodes [15], except 
 
Figure 3.  Communication sequence at producer side.   
1
2
3
4
5
6
(a) example network
(c) generated DAG
(b) sequence of NPAreq and NPArep exchange
1
2
3
4
5
6
1
2
3
4
5
6
NPAreq (2, nonce1, name, hc=1, dw=0)
name, hc:1, 
up:2, (2, nonce1), 
dw1:0, dw:2:0
name, hc:1, 
up:2, (2, nonce1), 
dw1:0, dw:2:0
name, hc:1, 
up:2, (2, nonce1), 
dw1:0, dw:2:0
NPArep
NPArep
NPArep
NPAreq (2, nonce1, name, hc=1, dw=0)
ignore
name, hc:2, 
up:5, (2, nonce1), 
dw1:0, dw:2:0
name, hc:2, 
up:5, (2, nonce1), 
dw1:0, dw:2:0
NPArep
NPArep
name, hc:2, 
up:2, (2, nonce1), 
dw1:0, dw:2:2
NPAreq (2, nonce1, name, hc=3, dw=0)
NPAreq (2, nonce1, name, hc=2, 
dw=0)
name, hc:2, 
up:5, (2, nonce1), 
dw1:0, dw:2:0, 
up:1, (2, nonce1), 
dw1:0, dw2:0
ignore
NPArep
NPArep
name, hc:1, 
up:2, (2, nonce1), 
dw1:0, dw:2:1
NPAreq (2, nonce1, name, hc=2, dw=0)
ignore
name, hc:2, 
up:5, (2, nonce1), 
dw1:0, dw:2:0, 
up:3, (2, nonce1),
dw1:0, dw2:0
name, hc:1, 
up:2, (2, nonce1), 
dw1:0, dw:2:1
name, hc:1, 
up:2, (2, nonce2), 
dw1:3, dw:2:1
name, hc:1, 
up:2, (2, nonce2), 
dw1:3, dw:2:1
name, hc:2, 
up:5, (2, nonce2), 
dw1:2, dw:2:0, 
up:1, (2, nonce2), 
dw1:1, dw2:0
name, hc:1, 
up:2, (2, nonce2), 
dw1:3, dw:2:2
name, hc:2, 
up:5, (2, nonce2), 
dw1:2, dw:2:0, 
up:3, (2, nonce2),
dw1:1, dw2:0
NPAreq (2, nonce1, name, hc=3, dw=0)
ignore
ignore
ignore
ignore
next turn with nonce2
: broadcast
name, hc:1, 
up:2, (2, nonce2), 
dw1:3, dw:2:1
: FIB with hc (hop count), up 
(upstream node), dw1 and dw2 
(number of downstream nodes).  
4
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

that the face ID is replaced by the neighbor node ID (MAC 
address).   
C. Detaild design for consumer side 
We introduce a reactive routing mechanism to the 
consumer side network in the following way.  FIB is not set 
in the consumer side in the beginning.  When a node starts to 
retrieve a specific content, the first Interest packet for the 
content is flooded among consumer side nodes.  When an 
Interest packet reaches some producer side node, it will be 
transferred to the corresponding producer.  The producer 
sends back the Data packet containing the requested content.  
It is transferred through the reverse path of the Interest packet.  
When it goes through the consumer side nodes, FIB entry is 
set in individual nodes.  The following Interest packets 
accessing to this name prefix use the FIB arranged.  For the 
consumer side, we use the original formats of Interest and 
Data packets and the original structures of FIB and PIT, 
except that the first Interest packet is broadcasted and that a 
neighbor node MAC address is used as a face ID.   
Figure 4 shows an example of the communication 
sequence between a mobile consumer and a producer.  As 
shown in Figure 4(a), the producer side nodes are the same as 
in Figure 3(a), and there are three consumer side nodes (nodes 
p, q, r).  The dashed line shows a wireless link.   
We assume that the FIBs are arranged in the producer side 
nodes.  As shown in Figure 3(b), node p starts contest retrieval 
for name prefix ‚Äúname‚Äù and the first Interest is for ‚Äúname/001‚Äù.  
The Interest packet is broadcasted and nodes q and r receive 
it.  Then node q rebroadcasts the Interest packet, and nodes 6 
and p receive it.  Node p ignores this Interest, because it is a 
duplicate one.  Node 6 relays the received Interest packet to 
node 5 according to its FIB.  On the other hand, node r also 
rebroadcasts the Interest packet, which nodes 6 and p receive.  
But both nodes ignore this Interest because of the duplication.   
The Interest packet is sent to node 2, the producer, via 
node 5, and in response to it, the Data packet containing the 
content of ‚Äúname/001‚Äù is returned along the reverse path of 
the Interest packet.  That is, the Data packet goes via nodes 5, 
6, and q, and reaches node p.  When node q relays the Data 
packet, it creates an FIB entry for ‚Äúname‚Äù which indicates that 
the upstream node is node 6.  Similarly, when node p, the 
consumer, receives this Data packet, it creates an FIB entry 
for ‚Äúname‚Äù indicating that the upstream node is node q.  For 
the following Interest packets, nodes p and q use the created 
FIB.  That is, the next Interest packet requesting content for 
‚Äúname/002‚Äù is sent to node q in the unicast communication.  
Similarly, node q relays this Interest to node 6 directly.   
When some nodes move and the communication link is 
broken, the Data packet is not returned and the timer for 
Interest packet will expire.  At that time, node p will broadcast 
the lost Interest packet, and the similar procedure with the first 
Interest is performed.   
IV. PERFORMANCE EVALUATION WITH FIXED NODE 
CONFIGURATION 
This section describes the results of performance 
evaluation using a configuration where the node position is 
fixed.  The evaluation focuses on the overhead of routing 
control and Interest packet transfer.  We compare our proposal, 
TOP-CCN as an example of proactive mechanism, and 
REMIF as an example of reactive mechanism.   
A.  Experiment configuration 
Figure 5 shows the network configuration used in this 
evaluation.  Nodes are arranged in a grid network, n nodes in 
the horizontal direction and 4 nodes in the vertical direction.  
Similarly with the examples above, the dashed line is a 
wireless link.   
Figure 5(a) shows the detailed configuration for our 
proposal.  The first and second rows are the producer side, and 
the third and fourth rows are the consumer side.  Figure 5(b) 
shows the detailed configuration for TOP-CCN.  According 
to [8], the light gray nodes are PMPRs and the dark gray nodes 
are MPRs.  In REMIF, all nodes are handled equally.   
We assume that some nodes in the first row work as 
producers.  That is, the number of producers change from 1 to 
n.  We also assume that consumers are located in the third and 
fourth rows.  In the evaluation, one consumer communicates 
with one producer for independent content.  So, the cache is 
not effective in this evaluation.   
B. Results of routing control overhead 
Since our proposal and TOP-CCN use a proactive routing 
mechanism, they have some overheads in routing control.  
Routing control is performed periodically, but in this 
evaluation, we calculate the total number of control packets 
exchanged in one turn.  We suppose there are ùëö producers.   
 
Figure 4.  Communication sequence between consumer and producer.   
(b) communication sequence
1
2
3
4
5
6
(a) example network
p
q
r
nodes 1-6: producer side
nodes p-r: consumer side
2
5
6
q
r
p
Interest (name/001)
ignore
name, node:6
ignore
Interest (name/001)
Interest (name/001)
ignore
Interest (name/001)
Interest (name/001)
Data (name/001)
Data (name/001)
Data (name/001)
name, node:q
Data (name/001)
Interest (name/002)
Interest (name/002)
Interest (name/002)
Data (name/002)
Interest (name/002)
Data (name/002)
Data (name/002)
Data (name/002)
5
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

(1) Our proposal 
The details for our proposal are as follows.  First, we 
consider the case that there is one producer (a node among 1,1 
through 1,n).  The producer issues an NPAreq packet, and it 
is rebroadcasted by any other nodes in the first and second 
rows, once per node.  So, the total number of broadcasted 
NPAreq packets is 2ùëõ.  As a result of routing control, a rudder 
style network is generated as a DAG (see Figure 3(c)).  In 
order to generate this configuration, one NPArep packet is 
transferred once over one wireless link.  Therefore, the total 
number of transmitted NPArep packets is equal to the number 
of wireless links, that is, 3ùëõ ‚àí 2.  So, the routing overhead for 
one producer is 5ùëõ ‚àí 2 in our proposal.  For the case of ùëö 
producers, the total number becomes ùëö times as the case of 
one producer.  Therefore, the result is ùëö(5ùëõ ‚àí 2).   
(2) TOP-CCN 
In the case of TOP-CCN, the number of control packets 
does not depend on the number of producers.  The details for 
TOP-CCN are as follows.  For non-MPR nodes (white nodes 
in Figure 5(b)), one CA packet is sent for advertising itself, 
and another CA packet is sent for MPR selection.  So, the 
number of CA packets is 2 per node.  For MPR nodes, a CA 
packet is sent for one neighbor detection, and the number of 
neighbors is 3.  One CA packet is sent for MPR selection.  For 
route announcement, it sends CA packets as many as the 
number of PMPR.  Therefore, the number of CA packets is 4 
+ number of PMPR per node.  For PMPR nodes, one CA 
packet is sent after one neighbor detection (there are four 
neighbors), and one for MPR selection.  For relaying multi-
hop CA packets, the number of CA packet transfer is equal to 
the number of PMPR nodes.  Therefore, the total number is 5 
+ number of PMPR per node.  The number of MPR and PMPR 
is 2ùëõ  and 2(ùëõ ‚àí 2) , respectively.  As a result, the total 
number is  
2 √ó 4 + 2ùëõ(4 + 2(ùëõ ‚àí 2)) + 2(ùëõ ‚àí 2)(5 + 2(ùëõ ‚àí 2)) =
8ùëõ2 ‚àí 6ùëõ + 4. 
(3) Results 
Figure 6 shows the number of routing control packets 
when n is 10 and 20, by changing the number of producers (m) 
from 1 to 10.  When n is 10, the results are summarized in the 
following way (see Figure 6(a)).  In our proposal, the number 
of NPAreq and NPArep packets changes from 48 to 480 when 
m changes from 1 to 10.  On the other hand, in TOP-CCN, the 
number of CA packets is always 744 independently of m.  In 
REMIF, there are no routing control packets.   
When the number of nodes in the horizontal axis becomes 
twice, as shown in Figure 6(b), the situation changes as 
follows.  The number of CA packets in TOP-CCN increases 
from 744 to 3,084.  On the other hand, the number of control 
packets in our proposal changes from 98 to 980 in response to 
the increase of m.  The number of CA packets in TOP-CCN 
has a larger increase compared with that of our case.  This is 
because the CA packet number depends on the order of ùëõ2.  In 
this sense, our proposal is effective in terms of the routing 
control overhead for the node number increase.   
C. Results of Interest transfer overhead 
In spite of the weakness in routing control overheads, the 
proactive mechanism provides more efficient Interest packet 
transfer then the reactive mechanism.  Here, we suppose that 
there are one hundred Interest packets for one specific name 
 
Figure 5.  Evaluation network for proposal and TOP-CCN.   
1,1
1,2
1,3
1,n-1
1,n
2,1
2,2
2,3
2,n-1
2,n
3,1
3,2
3,3
3,n-1
3,n
4,1
4,2
4,3
4,n-1
4,n
1,1
1,2
1,3
1,n-1
1,n
2,1
2,2
2,3
2,n-1
2,n
3,1
3,2
3,3
3,n-1
3,n
4,1
4,2
4,3
4,n-1
4,n
: producer 
side node
: consumer 
side node
: PMPR
: MPR
: non-MPR
(a) evaluation network for proposal
(b) evaluation network for TOP-CCN
 
(a) n=10 
 
(b) n=20 
Figure 6.  Number of routing control packets.   
0
100
200
300
400
500
600
700
800
1
2
3
4
5
6
7
8
9
10
number of packets
number of producers
proposal
TOP-CCN
REMIF
0
500
1000
1500
2000
2500
3000
3500
1
2
3
4
5
6
7
8
9
10
number of packets
number of producers
proposal
TOP-CCN
REMIF
6
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

prefix, and count the total number of Interest packets 
transmitted over wireless links (total Interest hop count).  The 
calculation is done by changing the number of consumer and 
producer pairs from 1 to n.   
(1) TOP-CCN 
In the case of TOP-CCN, the optimum route is used for all 
Interest packets.  When there is one consumer / producer pair, 
the average hop count of one Interest packet is obtained in the 
following formula.  Please remember that a producer is 
located in the first row, and a consumer is located in the third 
or fourth row.  The first item is an average vertical hop and 
the second is for horizontal transfer.   
 
5
2 +
‚àë
‚àë
|ùëñ‚àíùëó|
ùëõ
ùëñ=1
ùëõ
ùëó=1
ùëõ2
=
5
2 +
ùëõ2‚àí1
3ùëõ   
For 100 Interests with m consumer / producer pairs, the total 
Interest hop count (average) for TOP-CCN is  
100ùëö (
5
2 +
ùëõ2‚àí1
3ùëõ ).   
(2) Our proposal 
In the case of our proposal, only the first Interest packet is 
flooded among consumer side nodes and producer side nodes 
except the producer itself.  So, the total Interest hop count 
(average) for our proposal is  
(4ùëõ ‚àí 1)ùëö + 99ùëö (
5
2 +
ùëõ2‚àí1
3ùëõ ). 
(3) REMIF 
In the case of REMIF, since there is no FIB, every Interest 
packet is flooded.  In the grid configuration used here, every 
node except the producer will rebroadcast each Interest once.  
So, the result is 100(4ùëõ ‚àí 1)ùëö.   
(4) Results 
Figure 7 shows the total Interest hop count (average) when 
n is 10 and 20, by changing the number of consumer /producer 
pairs (m) from 1 to 10.  This figure indicates that the total 
number of REMIF is much larger than the others.  The result 
of our proposal is slightly higher than TOP-CCN.  By 
comparing Figures 7(a) and 7(b).  the tendency is similar for 
two cases that n is 10 and 20.  This is because the number of 
transmitted Interest packet changes in the order of n for three 
methods.   
V. PERFORMANCE EVALUATION WITH MOVING NODE 
CONFIGURATION 
In this section, we show the performance evaluation when 
one of the consumer side nodes moves around.   
A. Experiment configuration 
We use a network configuration as shown in Figure 8, 
which consists of thirty one nodes; thirty nodes are fixed, and 
 
(a) n=10 
 
(b) n=20 
Figure 7.  Total Interest hop count (average).   
0
5000
10000
15000
20000
25000
30000
35000
40000
45000
1
2
3
4
5
6
7
8
9
10
total Interest hop count
number of consumer / producer pairs
proposal
TOP-CCN
REMIF
0
10000
20000
30000
40000
50000
60000
70000
80000
90000
1
2
3
4
5
6
7
8
9
10
total Interest hop count
number of consumer / producer pairs
proposal
TOP-CCN
REMIF
1,1
1,2
1,3
1,9
1,10
2,1
2,2
2,3
2,9
2,10
3,1
3,2
3,3
3,9
3,10
4
: producer 
side node
: consumer 
side node
(a) evaluation network with moving consumer for proposal
(b) evaluation network with moving consumer for TOP-CCN
moving
1,1
1,2
1,3
1,9
1,10
2,1
2,2
2,3
2,9
2,10
3,1
3,2
3,3
3,9
3,10
4
: PMPR
: MPR
: non-MPR
1,1
1,2
1,3
1,9
1,10
2,1
2,2
2,3
2,9
2,10
3,1
3,2
3,3
3,9
3,10
4
: PMPR
: MPR
: non-MPR
moving
(c) status of evaluation network for TOP-CCN when moving 
consumer connected to node 3.2
 
Figure 8.  Evaluation network with moving consumer node for proposal 
and TOP-CCN.   
7
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

one is moving from the left side end to the right side end.  We 
assume that the distance between adjacent nodes is 10 meter 
and the speed of the moving node is 1 meter/sec.  In this 
experiment, the moving node (node 4) is only the consumer 
that originates Interest packets, and the node located at the 
upper right position (node 1,1) is the producer.   
In the case of our proposal, as shown in Figure 8(a), twenty 
nodes (1,1 through 2,10) work as producer side nodes, and 
eleven nodes (3,1 through 3,10 and 4) are consumer side nodes.   
In TOP-CCN, the assignment of PMPR and MPR is given 
in Figures 8(b) and 8(c).  When the moving node is 
communicating with the left end node in the third row (node 
3,1), this node works as an MPR and its next node (node 3,2) 
is a PMPR (see Figure 8(b)).  The situation is similar when 
node 4 communicates with node 3,10.  In other cases, as 
shown in Figure (c), nodes 3,1 and 3,10 are non-MPRs, and 
the other nodes in the third row are MPRs.   
In the case of REMIF, all nodes work in the same way, 
which is similar with the evaluation in the previous section.  
We assume that node 4 sends Interest packet once per 100 
msec, that is, the Interest sending rate is 10 packets/sec.  In the 
cases of our proposal and TOP-CCN, we assume that the 
initial routing setting is done just before node 4 starts moving.  
We also assume the following route maintenance in our 
proposal and TOP-CCN.  In our proposal, the route establish 
procedure, i.e. the exchange of the NPAreq and NPArep 
packets are performed once per 10 seconds among the 
producer side nodes.  In TOP-CCN, CA packets are sent 
periodically, once in one second by each node, to detect the 
change of network configuration, and if any route happens, 
CA packets are flooded that carry the changed neighborhood 
information.   
B. Number of transmitted packets 
Here, we analyze the time variation of the number of 
transmitted packets.  The number of transmitted packets 
means the total hops of all packets used in the individual 
methods; control packets, Interest packets and Data packets.   
(1) Our proposal 
In the case of our proposal, the route setting is done at the 
beginning.  The number of packets is obtained in the same as 
VI.B(1).  The NPAreq packet originated by node 1,1 is 
rebroadcasted by the producer side nodes, once per node.  One 
NPArep packet is replied over each node.  Therefore, the 
number of transmitted packets is 5 √ó 10 ‚àí 2 = 48 .  As 
described above, this name prefix advertisement procedure is 
repeated every 10 second.   
On the other hand, when the consumer (node 4) sends the 
first Interest packet, it will be flooded throughout the 
consumer side node network.  In this case, eleven nodes 
including the consumer itself are in the consumer side.  
Therefore, the first Interest packet is transmitted 11 times 
(rebroadcasted 10 times) in the consumer side.  In the 
producer side network, it is forwarded once per a producer 
side node; 19 times in total.  Therefore, in the case of the first 
Interest packet, it is transmitted 30 times.  Since it establishes 
an FIB entry in the consumer side node, the following Interest 
packets are sent through the shortest path to the producer 1,1.  
When node 4 is in the area of node 3,1, it is 3 hops.   
When node 4 moves to the area of the next consumer side 
node, e.g., from node 3,1 to node 3,2, it is detected in a way 
such as the link level retry-out.  Then, the consumer repeats 
the same procedure as the first Interest packet.   
As for the Data packets from node 1,1 to node 4, we 
suppose that the shortest path is applied.   
Figure 9 shows the time variation of the number of 
transmitted packets for our proposal.  NPAreq and NPArep 
packets are transmitted at every 10 second, the number is 48.  
At other timings, the number is zero.  When sending the first 
Interest packet and when the consumer node changes the 
upstream node to the producer (every 10 second), the number 
of flooded or forwarded Interest packets becomes 30 or 31.  At 
other timings, the number of transmitted Interest starts from 3 
and goes up to 12 for each content request.  The number of 
transmitted Data packet is 3 through 12 for each content 
request.   
(2) TOP-CCN 
In the case of TOP-CCN, the route setting is also 
performed at the beginning in the following way.  As given in 
Figure 8(b), there are 9 PMPR nodes and 18 MPR nodes when 
the consumer is located in the left-most position.  In this case, 
the number of CA packets required for the route setting is 
calculated similarly with IV.B(2).  That is  
2 √ó 4 + 18 √ó (4 + 9) + 9 √ó (5 + 9) = 368. 
After that, each node sends a CA packet once per one 
second for keeping the neighborhood relationship.   
Next, when the consumer changes the upstream node to 
the producer from node 3,1 to node 3,2, the CA packets are 
exchanged in the following way.  First, the consumer and the 
former MPA (node 3,1) broadcast a CA packet to report the 
change of network configuration.  Then, node 3,2 reports the 
change to PMPR node 2,2 by a CA packet.  Receiving this CA 
packet, node 2,2 generates a multi-hop CA packet which will 
be flooded among PMPR nodes.  In the end, MPR nodes also 
report new routing information to their own MPR selectors.  
So, the total number of transmitted CA packets is  
2 + 1 + 8 + 18 = 29. 
When the consumer moves to the area of node 3,3, the 
situation is a little different.  Since the route information of 
 
Figure 9.  Time variation of transmitted packets for proposal.   
0
10
20
30
40
50
60
0
20
40
60
80
number of transmitted packets
time (sec)
NPAreq/rep
Interest
Data
8
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

PMPR nodes 2,2 and 2,3 changes, two multi-hop CA packets 
are flooded.  The result is  
1 + 2 + 2 √ó 8 + 2 √ó 18 = 55. 
As for the Interest and Data packets, the shortest path 
(minimum hop transmission) is selected.   
Figure 10 shows the time variation of the number of 
transmitted packets for TOP-CCN.  In this case, the number 
of CA packets is either 368 (in the beginning), 29, 31, 55 or 
zeno.  The number of the Interest and Data packets is an 
optimal one.   
(3) REMIF 
In the case of REMIF, Interest packets are always flooded 
through all nodes except the producer.  We suppose that Data 
packets are returned via the shortest path.  Figure 11 shows 
the time variation of the number of transmitted packets for 
REMIF.   
(4) Summary 
Figure 12 shows the time variation of the total number of 
all kinds of packets transmitted.  In the case of TOP-CCN, 
large number of CA packets need to be exchanged at the 
beginning as described above.  After that, CA packets need to 
be exchanged occasionally, and otherwise the number of 
packets is relatively low.  In the case of REMIF, the number 
of packets is relatively high throughout the experiment.  In the 
proposed method, the number becomes high occasionally, but 
it is lower than TOP-CCN, and otherwise, the number is 
similar with TOP-CCN.  Table II shows the total number of 
packets throughout one experimental run.  This table shows 
that the number of packets in the proposed method is the 
smallest among the tree methods discussed here.   
VI. CONCLUSIONS 
In this paper, we proposed a new NDN based ad hoc 
routing protocol, which combines the proactive and reactive 
approaches.  We assume that, in a common ad hoc network, 
nodes in the information provider side are located in a fixed 
position and user nodes are mobile terminals.  The proposed 
method introduces a proactive routing in the producer side and 
a reactive routing in the consumer side.  Our proactive routing 
focuses only on the name prefix advertisement.  Through a 
theoretical analysis, we showed that our proposal provides a 
lighter routing overhead than TOP-CCN, a proactive approach, 
and the similar Interest transfer overhead with TOP-CCN, 
which is much better than REMIF, a reactive approach.  We 
also conducted an analysis of the number of packets 
transferred in the network configuration where one consumer 
node moves.  The results showed that the proposed method 
requires smaller packets, including Interest, data and control 
packets, than TOP-CCN and REMIF.   
REFERENCES 
[1] N. Minh, R. Yamamoto, S. Ohzahata, and T. Kato, ‚ÄúA Routing 
Protocol Proposal for NDN Based Ad Hoc Networks 
Combining Proactive and Reavtive Routing Mechanisms,‚Äù 
Proc. of AICT 2017, pp. 80-86, Jun. 2017.   
[2] V. Jacobson et al., ‚ÄúNetworking Named Content,‚Äù Proc. of 
CoNEXT ‚Äô09, pp. 1-12, Dec. 2009.   
[3] D. Saxena, V. Raychoudhury, N. Suri, C. Becker, and J. Cao, 
‚ÄúNamed Data Networking: A survey,‚Äù Computer Science 
Review, Vol. 19, pp. 15-55, Feb. 2016.   
[4] L. Wang, A. Hoque, C. Yi, A. Alyyan, and B. Zhang, ‚ÄúOSPFN: 
An OSPF Based Routing Protocol for Named Data 
Networking,‚Äù NDN, Technical Report NDN-0003, pp. 1-15, 
Jul. 2012. 
[5] A. Hoque et al., ‚ÄúNLSR: Named-data Link State Routing 
Protocol,‚Äù Proc. of ICN ‚Äô13, pp. 1-6, Aug. 2013.   
 
Figure 10.  Time variation of transmitted packets for TOP-CCN. 
 
Figure 11.  Time variation of transmitted packets for REMIF.   
0
50
100
150
200
250
300
350
400
0
20
40
60
80
number of transmitted packets
time (sec)
CA
Interest
Data
0
5
10
15
20
25
30
35
0
20
40
60
80
number of transmitted packets
time (sec)
Interest
Data
 
Figure 12.  Time variation of total of transmitted packets.   
TABLE II.  TOTAL NUMBER OF TRANSMITTED PACKETS 
THROUGHOUT EXPERIMENT 
proposed
14,220
TOP-CCN
17,133
REMIF
33,783
 
0
50
100
150
200
250
300
350
400
0
20
40
60
80
total of transmitted packets
time (sec)
proposal
TOP-CCN
REMIF
9
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

[6] E. Hemmati and J. Garcia-Luna-Aceves, ‚ÄúA New Approach to 
Name-Based Link-State Routing for Information-Centric 
Networks,‚Äù Proc. of ICN ‚Äô15, pp. 29-38, Sep. 2015.   
[7] X. Liu, Z. Li, P. Yang, and Y. Dong, ‚ÄúInformation-centric 
mobile ad hoc networks and content routing: A survey,‚Äù Ad 
Hoc Network, Available online, pp. 1-14, Apr. 2016.   
[8] S. Yao, X. Zhang, F. Lao, and Z. Guo, ‚ÄúMobileCCN: Wireless 
Ad-hoc Content-centric Networks over SmartPhone,‚Äù Proc.of 
ACM International Conference on Future Internet Tech. 
(CFI ‚Äô13), pp. 1-2, Jun. 2013.   
[9] J. Kim, D. Shin, and Y. Ko, ‚ÄúTOP-CCN: Topology aware 
Content Centric Networking for Mobile Ad Hoc Networks,‚Äù 
Proc. of ICON ‚Äô13, pp. 1-6, Dec. 2013.   
[10] M. Amadeo, A. Molinaro, and G. Ruggeri, ‚ÄúE-CHANET: 
Rouiting, fowarding and transport in Information-Centric  
multihop wireless networks,‚Äù Conputer Communications, 
Vol.36, pp. 792-803, 2013.   
[11] R. Rehman, T. Hieu, and H. Bae, ‚ÄúRobust and Efficient 
Multipath Interest Forwarding for NDN-based MANETs,‚Äù 
Proc. of WMNC ‚Äô16, pp. 1-6, Jul. 2016.   
[12] G. Malkin, ‚ÄúRIP Version 2,‚Äù IETF RFC 2453, Nov. 1998.   
[13] T. Clausen and P. Jacquet, ‚ÄúOptimized Link State Routing 
Protocol (OLSR)‚Äù, IETF RFC 3626, Oct. 2003.   
[14] C. Perkins, E. Belding-Royer, and S. Das, ‚ÄúAd hoc On-
Demand Distance Vector (AODV) Routing,‚Äù IETF RFC 3561, 
Jul. 2003.   
[15] F. Ducatelle, G. Caro, and L. Gambardella, ‚ÄúA New Approach 
for Integrating Proactive and Reactive Routing in MANETs,‚Äù 
Proc. of MASS 2008, pp. 377-383, Sep. 2008.   
[16] J. Moy, ‚ÄúOSPF Version 2,‚Äù IETF RFC 2328, Apr. 1998.   
[17] C. Yi et al., ‚ÄúA Case for Stateful Forwarding Plane,‚Äù NDN, 
Technical Report NDN-0002, 2012.   
 
10
International Journal on Advances in Networks and Services, vol 11 no 1 & 2, year 2018, http://www.iariajournals.org/networks_and_services/
2018, ¬© Copyright by authors, Published under agreement with IARIA - www.iaria.org

