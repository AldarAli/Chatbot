A Low-Complexity Floor Determination Method Based on WiFi for  
Multi-Floor Buildings 
 
Jian Shi and Yoan Shin 
School of Electronic Engineering 
Soongsil University 
Seoul, Korea 
{shijian, yashin}@ssu.ac.kr 
 
 
Abstract—Floor determination has become an extremely 
urgent issue to resolve because many applications require 
accurate information on floor numbers to provide better 
localization services. This paper presents a Wi-Fi based, low-
complexity floor determination method for multi-floor 
buildings. In this paper, the Multi-Wall-Floor (MWF) model is 
used in the simulation and the analysis. Simulation results 
show that the floor determination accuracy is nearly 100% if 
the deployment density of Wireless Access Points (WAPs) is 
sufficiently high on each floor. It is also shown that the 
proposed method provides a good estimation of floor 
determination even when only a few WAPs are implemented 
on each floor. In our scheme, detailed information on the WAP 
coordinates is not needed, except floor ID and Received Signal 
Strength (RSS) of each WAP. The novelty of the proposed 
method is that it can work in extreme conditions, where there 
are no WAPs on the floor. 
Keywords—Indoor positioning; Floor determination; WiFi; 
Wireless access point;  Received signal strength. 
I. 
 INTRODUCTION 
Determining a user’s floor number in multi-floor 
buildings is still a difficult issue. As urbanization increases, 
more and more tall buildings will be built in cities. Many 
applications need accurate floor number information to 
provide better services. For example, such information could 
prevent school violence in multi-floor buildings by providing 
a faster and more efficient response to student alarm signals. 
Thus, floor determination has become extremely urgent to be 
resolved. 
Outdoor positioning relies for the most part on GPS 
(Global Positioning System), which has an accuracy ranging 
from 1 meter to 10 meters. It is widely used in military 
applications such as surveillance and in civilian sectors such 
as scientific research, tracking, and navigation as well as e-
commerce. However, due to attenuation and scattering, GPS 
is not suitable for indoors use. Hence, the requirements of 
indoor positioning systems differ from those of their outdoor 
counterparts. Many technologies have been proposed for 
indoor positioning in the last decade. Among these, Wi-Fi 
has attracted a lot of research effort because it is a mature 
and relatively low-cost technology. Wi-Fi hot spots are now 
becoming commonplace in city buildings. The utilization of 
these Wi-Fi hot spots’ signals offers a feasible solution to 
floor determination [1-2,12-13]. 
Nowadays, numerous computing devices such as smart 
phones and tablet PCs are equipping Wi-Fi modules. 
Simultaneously, the floor number of each WAP can be 
known in advance. The following work is to find an effective 
floor determination method with RSS and ID information of 
scanned WAPs. To this end, we propose a Wi-Fi based, low-
complexity floor determination method for multi-floor 
buildings. The rest of this paper is organized as follows. 
Section II summarizes current state-of-art on Wi-Fi based 
floor determination, and Section III discusses the system 
model and proposes our method. Simulation results are 
presented in Section IV to demonstrate the efficacy of the 
proposed method. The final section presents conclusion and 
future works. 
II. 
CURRENT STATE-OF-ART OF WIFI-BASED FLOOR 
DETERMINATION 
There 
are 
many 
technology 
options 
for 
floor 
determination such as time of arrival, angle of arrival, and 
RSS. This paper focuses on RSS-based choices because of 
cost and implementation consideration.  
Some Wi-Fi based floor determination systems have 
been proposed [2-6]. Among these systems, fingerprinting-
based systems play an important role [2-5]. In particular, Liu 
et al. [3] have demonstrated a Wi-Fi based indoor positioning 
system based on fingerprinting. In their research, their floor 
positioning experimental results showed that the floor 
determination was highly accurate closed to 100%. However, 
in common with any fingerprinting systems, the main 
disadvantage is that a database is usually required to train an 
accurate localization model. To create a fingerprinting 
localization model for use in multi-floor buildings, we need a 
sufficient number of sample points on each floor. This can be 
time-consuming and expensive. The indoor environment is 
also very complex, not only due to the presence of walls and 
floors, but also due to uncertain factors such as human 
activity and furniture or equipment rearrangements. The 
effects of such factors are difficult to test and measure with 
today’s technologies. They also hamper the potential utility 
129
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

of fingerprinting systems in the indoor environment. These 
systems are also unable to accommodate any changes in the 
Wi-Fi infrastructure and require a complete recalibration. 
The need to replace the database is another troublesome 
issue.  
Alsehly et al. [2] have designed two different models for 
using Wi-Fi signals to determine the floor number in multi-
floor buildings. One is called the “nearest floor algorithm.” 
Essentially, it is a simplified solution of the well-known 
nearest 
neighbor 
classification 
algorithm 
used 
in 
fingerprinting. 
Although 
they 
used 
the 
system 
to 
simultaneously update records of Wireless Access Points 
(WAPs) in the database, the system still cannot overcome the 
aforementioned disadvantages. Their second model, called 
the “group variance algorithm” can be divided into three 
steps. The first step involves grouping the Wi-Fi RSS 
depending on the floor number. The second step entails 
calculating 
the 
floor 
parameters 
(range, 
variance, 
availability) for each floor. The last step involves selecting 
the floor number with the maximum number of points as the 
estimation result. Their experimental results showed that the 
group variance algorithm performed worse than the nearest 
floor algorithm. However, it was more reliable in areas such 
as washrooms and building edges where the received signal 
is weak. More importantly, the group variance algorithm 
does not require the creation of a database in advance. 
However, the disadvantage of this algorithm will be 
discussed later in Section IV. 
The attenuations of horizontal and vertical signals are 
significantly different in buildings due to different materials 
used in the floors and the walls along with their different 
thicknesses. Generally, the attenuation of the floors is greater 
than that of the walls. This property may be exploited to 
estimate the floor number based on the characteristics of the 
received signals. Actually, floor determination will be easy if 
the signal attenuation of the floor is much larger up to the 
user’s device unable to receive a signal or if the received 
signal is very small from the WAPs on the other floors. Thus, 
a critical issue that needs to be addressed in those buildings 
is the moderate loss of the floor penetration value.  
Another disadvantage of the conventional systems is that 
none considers the effect of accidents, e.g., all the WAPs on 
one floor stopping working, but those on the other floors 
remaining operational as usual. The existing algorithm 
would be unable to determine the floor number in such a 
situation. 
III. 
SYSTEM MODEL AND PROPOSED FLOOR 
DETERMINATION METHOD 
A. System Model 
 Path loss greatly impacts the localization accuracy of 
algorithms based on the RSS. It results in varying degrees of 
loss when the radio signals propagate in different 
environments. Thus, choosing a suitable path loss model is 
very important. Research has shown that the Multi-Wall-
Floor (MWF) path loss model might be the most precise 
model when compared to all the other models including the 
Motley-Keenan model for both office and commercial indoor 
topologies [7-11]. The following equation describes the 
MWF model. 
0
1
1
1
1
10 log( )
fj
wi
K
K
I
J
MWF
wik
fjk
l
k
j
k
L
L
n
d
L
L










     (1) 
where  
0
L : Pass loss at a distance of 1 meter 
n : Power decay index  
d : Distance between the transmitter and the receiver 
Lwik
: Attenuation due to wall type i and
th
k traversed wall 
Lfjk
 : Attenuation due to floor type j and
th
k traversed floor 
I : Number of wall types 
J : Number of floor types 
Kwi
: Number of traversed walls of category I  
fj
K : Number of traversed floors of category J  
 
In addition, taking into account the influence of 
obstruction in indoor environment, we add a normal random 
variable N  with zero-mean and variance of 
2
  to represent 
shadow noise. Then, the RSSI value from WAP can be 
written as: 
r
MWF
L
L
N


                                 (2) 
 To make the simulation easier, we suppose that all the 
floors are the same type and all the walls are the same type in 
our model. We represent the received Wi-Fi signals of the 
user using the set  , which contains the number of signals. 
The set 
iR contains the floor identity and the RSS value of 
the WAP. 
 
1
2
[
,
,
,
i ]
R R
R
 
                                 (3) 
[
,
]
i
i
i
R
 FloorID Rss
                               (4) 
B. Proposed Feedback Method 
In an indoor environment, the thickness of each part of 
each floor and the thickness of the materials in the floors are 
nearly equal. In most cases, the thickness of each floor and 
the thickness of the material are also nearly equal. Based on 
the signal’s propagation, the floor penetration loss value will 
fall in a certain range. In our research, we assume that 
random attenuation value due to the floor follows a constant 
value which is denoted as 
fL . In practical applications, we 
can measure the attenuation value of each part of each floor 
of the building, and then average these values as the 
attenuation due to the floor. Based on the analysis described 
above, we propose a floor determination algorithm called the 
“feedback method.” 
130
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

The following steps describe how the proposed feedback 
method calculates the floor number during the analysis. 
1) Pre-estimation step: We conduct a pre-estimation of 
the user’s floor number. Generally, we choose those floor 
IDs that have occurred in the set  . 
2) Feedback step: We suppose that the user is on the 
th
p  
floor which is part of the pre-estimated floor numbers. Based 
on this assumption, it is simple to determine how many 
floors the signal penetrated before the user received it. Then, 
we feedback the attenuation value of the floor to  . The 
feedback value equals to 
f
i
L
FloorID
p


. 
3) Estimation step: We calculate the variance of all the 
RSS values for each pre-estimation. We then compare the 
variances of all the pre-estimation steps and select the floor 
number with the minimum variance value. 
If the pre-estimation is correct, the feedback value will 
eliminate the influence of the floor attenuation. If not, the 
received RSS values in set   will become more confused 
due to incorrect feedback. Thus, we selected the minimum 
variance value as the last estimation result. Compared to 
fingerprinting-based approaches, our proposed scheme does 
not require frequent updates of the attenuation values after 
accurate measurement, because the location and make-up of 
the floor will not usually change after the building has been 
built, except in exceptional cases. Compared to the group 
variance method, the proposed feedback method can handle 
the effects of accidents mentioned above. The group variance 
algorithm groups the RSS values according to the floor 
number and the last estimation results from these groups. 
Thus, this algorithm is unable to determine the number of the 
floor where the accident occurred. In contrast, our proposed 
scheme can handle the effects of accidents by selecting all 
the floor numbers as the pre-estimation. 
IV. 
SIMULATION RESULTS 
A. Simulation Environment 
The simulations were performed on a multi-floor 
building model with eight floors. The detailed parameters 
and settings for the simulations are summarized in Table I. 
TABLE I.  
PARAMETERS OF SIMULATION ENVIRONMENTS 
Parameters 
Values 
Areas of each floor 
36.5 22.7 m2

 
Thickness of each floor/wall 
40 cm, 30 cm 
Height between floors 
3 m 
Attenuation due to each floor/wall 
fL = 25 dB, 
w
L =10 dB 
MWF model 
0
L = 20 dB, n = 2.5 
N ~
(0, 2
 )
,  =3 
RSS value 
 110 dBm
 
Note that, in order to reduce the workload, we used a 
simple model where the structure of each floor in the 
building is the same. From the commonly used free space 
propagation model for path loss at a distance of 1 meter and 
frequency of 2.4GHz (i.e., Wi-Fi frequency) we set 
0
L  = 
20dB. 
B. Analysis of Proposed Feedback Method 
 The estimated points were chosen at three random 
positions on the 1st, 5th, and 6th floor, and there were two 
WAPs on each floor.  
1
2
3
4
5
6
7
8
0
200
400
600
800
1000
1200
1400
1600
1800
Floor Number
Variacne
 
 
Test point 1
Test point 2
Test point 3
 
Figure 1.  Simulation results for the 1st floor. 
1
2
3
4
5
6
7
8
0
200
400
600
800
1000
1200
1400
1600
1800
Floor Number
Variacne
 
 
Test point 1
Test point 2
Test point 3
 
Figure 2.  Simulation results for the 5th floor. 
 Figs. 1 and 2 show the simulation results for pre-
estimation floor IDs that occur in the received Wi-Fi signals 
set. These figures illustrate that the lowest variance occurs 
when the assumed number from the pre-estimation step 
equals that of the actual floor number of the user.  
In this paper, we also consider a specific case. In that 
case, all of the WAPs on the floor where an accident happens 
have stopped working, while WAPs on other floors can still 
work normally. In this case, we will choose all the floor 
numbers as the pre-estimation in the simulation as shown in 
Fig. 3.  
131
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

1
2
3
4
5
6
7
8
0
100
200
300
400
500
600
700
800
900
1000
Floor Number
Variacne
 
 
Test point 1
Test point 2
Test point 3
 
Figure 3.  Simulation results for the 6th floor. 
In terms of the pre-estimation, the variance maintains the 
same value for all the floors except the 6th floor. To explain 
aforementioned phenomena, we present in Table II an 
example with the received signals set 
1
2
3
[
,
,
  R R R ]
 on the 
6th floor. The table clearly indicates that the variance is the 
same for the first five floors and the last two floors with an 
exception of the 6th floor. 
TABLE II.  
EXAMPLE OF THE 6TH FLOOR 
Pre-
estimation 
Feedback 
Variance 
1
1
[5,
]
R
Rss

 
2
2
[6,
]
R
Rss

 
3
3
[7,
]
R
Rss

 
1  
1
4
f
Rss
  L
 
2
5
f
Rss
  L
 
3
6
f
Rss
  L
 
1
V  
2 
1
3
f
Rss
  L
 
2
4
f
Rss
  L
 
3
5
f
Rss
  L
 
2
V  
3 
1
2
f
Rss
  L
 
2
3
f
Rss
  L
 
3
4
f
Rss
  L
 
3
V  
4 
1
f
Rss
 L
 
2
2
f
Rss
  L
 
3
3
f
Rss
  L
 
4
V  
5 
1
Rss  
2
f
Rss
 L
 
3
2
f
Rss
  L
 
5
V  
6 
1
f
Rss
 L
 
2
Rss  
3
f
Rss
 L
 
6
V  
7 
1
2
f
Rss
  L
 
2
f
Rss
 L
 
3
Rss  
7
V  
8 
1
3
f
Rss
  L
 
2
2
f
Rss
  L
 
3
f
Rss
 L
 
8
V  
C. Comparsion with Group Variance Algorithm 
 As shown in Figs. 4 and 5, the comparison of the 
performance of the proposed feedback method with that of 
the conventional group variance algorithm reveals a 
significant change according to the number of WAPs on each 
floor. The simulation results are based on four different cases. 
Table III shows the detailed parameters.   
Cases #1-4 show that the floor determination accuracy 
gradually deteriorates with the reduction in the number of 
WAPs on each floor. However, the degree of deterioration in 
the performance of the two methods is quite different. The 
proposed feedback method is always able to achieve 
accuracy of 95% in terms of floor determination especially 
for Case #1. It shows that the correct determination by the 
proposed method is significantly close to 100% because the 
deployment density of the WAPs is relatively high. In 
contrast, the performance of the group variance algorithm is 
worse than the feedback method for each case and the 
performance of former one decreases rather rapidly. As 
shown in Case #4, the group variance algorithm can realize 
accuracy of just 30–40%. 
1
2
3
4
5
6
7
8
0
5
10
15
20
25
30
35
Floor Number
Percentage Of Determination Error(%)
 
 
FeedBack Case #1
FeedBack Case #2
Group Variance Algorithm Case #1
Group Variance Algorithm Case #2
 
Figure 4.  Comparison of the performance (Cases #1 and #2). 
1
2
3
4
5
6
7
8
0
10
20
30
40
50
60
70
Floor Number
Percentage Of Determination Error(%)
 
 
FeedBack Case #3
FeedBack Case #4
Group Variance Algorithm Case #3
Group Variance Algorithm Case #4
 
Figure 5.  Comparison of the performance (Cases #3 and #4). 
TABLE III.  
COORDINATE INFORMATION 
Cases 
Positions of WAPs on each floor 
 
Case #1 
(5.3 5.3) (5.3 17.4) (15.6 5.3) 
(15.6 17.4) (25.9 5.3) (25.9 17.4) 
(33.7 5.3) (33.7 17.4) (15.6 11.4) 
Case #2 
(10.3 10.3) (20.6 12.4) (30 5) 
(4 20) (30 20) 
Case #3 
(10.3 10.3) (20.6 12.4) (30 5) 
Case #4 
(10.3 10.3) (20.6 12.4) 
TABLE IV.  
COORDINATE INFORMATION 
Floor ID 
Range 
Variance 
Availability 
F1 
0.5 
0 
0 
F2 
0.5 
0 
0 
F3 
0.5 
0 
0 
The poor performance of the group variance algorithm is 
due to its inability to distinguish which floor the user is on 
when the variables shown in Table IV are present. In this 
132
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

situation, the group variance algorithm cannot make a choice 
due to the three groups having the same points. 
D. Effects of Accidents 
 
We assumed that there are no WAPs on the 1st floor and 
the 6th floor, and nine WAPs on the other floors. An 
estimated point was chosen from 1,000 random positions on 
each floor.  
 
1
2
3
4
5
6
7
8
0
100
200
300
400
500
600
700
800
900
1000
Floor Number
The Number of Errors
 
 
FeedBack
Group Variance Algorithm
 
Figure 6.  Comparison of the performance under extreme conditions. 
 
Fig. 6 presents the simulation results based on this 
scenario. The results clearly show that the group variance 
algorithm was unable to adapt to this case. In contrast, the 
feedback method was still operational under this extreme 
condition. In particular, the accuracy of floor determination 
was high, with the change in the number of WAPs on the 6th 
floor seemingly causing no influence. 
 
In order to demonstrate it clearly, we divide floor IDs 
into two types, as shown in Table V, since the received 
signals are from single direction (up-floor or down-floor), 
when the user locates on the accident floor which belongs to 
the edge building. Similarly, the signals will come from 
double directions (up-floor and down-floor) when the user 
locates on the accident floor belonging to middle building. 
Based on that, we can observe that the ability to deal with 
accidents happening on middle building is stronger than that 
on edge building. 
TABLE V.  
TYPE OF FLOOR 
TYPE 
Floor ID 
Middle building 
2nd ~ 7th floor 
Edge building 
1st and 8th floor 
 
Meanwhile, the accuracy of the proposed feedback 
method falls off sharply when the floors are close to those 
without WAPs (2nd, 5th and 7th floor), because the received 
signals are from single direction on those floors adjacent to 
the accident floor. 
V. 
CONCLUSION AND FUTURE WORK 
 This paper presented a Wi-Fi based floor determination 
method for multi-floor buildings. Compared to traditional 
approaches, there are three advantages of the scheme 
proposed in this paper: robustness, simplicity, and an ability 
to deal with accidents. First, the simulation results showed 
the floor determination accuracy was nearly 100%, if the 
deployment density of the WAPs is sufficiently high on each 
floor. They also showed that the proposed method performs 
well in terms of floor determination, even in the presence of 
just two WAPs on each floor. Second, there is no need for 
detailed coordinate information on the WAPs in this scheme. 
In our research, the floor ID and the RSS value of each WAP 
are sufficient. Third, the final simulation results showed that 
this method can work under extreme conditions where there 
are no WAPs on the floor.  
 Future work will focus on perfecting the proposed 
algorithm for the floor determination and developing a 
mobile application in real environments.  
ACKNOWLEDGMENT 
This research was partly supported by the MSIP, Korea 
under the Convergence-ITRC support program (NIPA-2013-
H0401-13-1004) supervised by the NIPA, and by the Human 
Resources Development program (No. 20114010203110) of 
the KETEP grant funded by the Korea Government Ministry 
of Knowledge Economy. 
 
REFERENCES 
[1] T. S. Perry, “Navigating the great indoors,” IEEE Spectrum, vol. 49, 
no. 11, Nov. 2012, pp. 15. 
[2] F. Alsehly, T. Arslan, Z. Sevak, and M. King, “Indoor positioning 
with floor determination in multi story building,” Proc. IPIN 2011, 
Guimarães, 
Portugal, 
Sept. 
2011, 
pp. 
1-7, 
doi:10.1109/IPIN.2011.6071945. 
[3] H. H. Liu and Y. N. Yang, “WiFi-based indoor positioning for multi-
floor environment,” Proc. IEEE TENCON 2011, Bali, Indonesia, Nov. 
2011, pp. 597-601, doi:10.1109/TENCON.2011.6129175. 
 
[4] A. S. Al-Ahmadi, A. I. Omer, M. R. Kamarudin, and T. A. Rahman, 
“Multi-floor indoor positioning system using Bayesian graphical 
models,” Progress in Electromag. Research B, vol. 25, Sept. 2010, pp. 
241-259. 
[5] H. Y. Wang, V. W. Zheng, J. H. Zhao, and Q. Yang, “Indoor 
localization in multi-floor environments with reduced effort,” Proc. 
IEEE PerCom 2010, Mannheim, Germany, Mar. 2010, pp. 244-252, 
doi:10.1109/PERCOM.2010.5466971. 
[6] S. Gansemer, U. Gropmann, and S. Hakobyan, “RSSI-based 
Euclidean distance algorithm for indoor positioning adapted for the 
use in dynamically changing WLAN environment and multi-level 
building,” Proc. IPIN 2010, Zurich, Switzerland, Sept. 2010, pp. 1-6, 
doi:10.1109/IPIN.2010.5648247. 
[7] M. Lott and I. Forkel, “A multi-wall-and-floor model for indoor radio 
propagation,” Proc. IEEE VTC 2001-Spring, Rhodes, Greece, May 
2001, pp. 464-468, doi:10.1109/VETECS.2001.944886. 
[8] T. Chrysikos, G. Georgopoulos, and S. Kotsopoulos, “Wireless 
channel characterization for a home indoor propagation topolopy at 
2.4 GHz,” Proc. WTS 2011, New York City, USA, Apr. 2011, pp. 1-
10, doi:10.1109/WTS.2011.5960879. 
[9] T. Chrysikos, G. Georgopoulos, and S. Kotsopoulos, “Impact of 
shadowing on wireless channel characterization for public indoor 
commercial topology at 2.4GHz, ” Proc. ICUMT 2010, Moscow, 
Russia, Oct. 2010, pp. 281-286, doi:10.1109/ICUMT.2010.5676625. 
[10] J. Koo and H. Cha, “Localizing WiFi access point using signal 
strength, ” IEEE Commun.Lett., Feb. 2011, pp. 187-189, doi:10.1109/ 
LCOMM.2011.121410.101379.  
[11] A. Lima and L. Menezes, “Motley-Keenan model adjusted to the 
thickness of the wall,” Proc. SBMO/IEEE MTT-S MOC 2005, 
133
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

Brasilia, Brazil, July 2005, pp. 180-182,  doi:10.1109/IMOC.2005. 
1580040. 
[12] P. Brida, J. Benikovsky, and J. Machaj, “Performance Investigation 
of WifiLOC positioning system,” Proc. TSP 2011, Budapest, 
Hungary, Aug. 2011, pp. 203-207, doi:10.1109/TSP.2011.6043743. 
[13] J. Benikovsky, P. Brida, and J. Machaj, “Proposal of user adaptive 
modular localization system for ubiquitous positioning,” Proc. 
ACIIDS 2012, Kaohsiuing, Taiwan, Mar. 2012, pp. 391-400. 
134
Copyright (c) IARIA, 2013.     ISBN:  978-1-61208-279-0
AICT 2013 : The Ninth Advanced International Conference on Telecommunications

