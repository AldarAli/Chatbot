Behavior Modeling of Networked Wireless Sensors for 
Energy Consumption Using Petri Nets 
 
Jin-Shyan Lee 
Department of Electrical Engineering 
National Taipei University of Technology (Taipei Tech.) 
Taipei, Taiwan 
e-mail: jslee@mail.ntut.edu.tw  
Yuan-Heng Sun 
Information & Communications Research Labs 
Industrial Technology Research Institute (ITRI) 
Hsinchu, Taiwan 
e-mail: gilbertsun@itri.org.tw  
 
 
Abstract— Energy efficiency is a critical design issue in 
wireless sensor networks. In order to analyze the energy 
consumption of a single node, a system model of networked 
wireless sensors is thus required. Based on a Petri net framework, 
this paper is proposing a systematic approach to the modeling 
and measurement of energy consumption for ZigBee-equipped 
sensors. Moreover, an experiment has been conducted to measure 
the real power consumption and to provide input parameters to 
the Petri net model. The comparative results show that the Petri 
net model could approximate the real measurement under the 
assumed scenarios. It is believed that the technique presented in 
this paper could be further applied to complex and non-periodic 
operations in wireless sensor networks. 
Keywords-energy consumption; Petri nets; sensor models; 
wireless sensor networks; ZigBee. 
 
I. INTRODUCTION 
Recently, there has been an increasing emphasis on 
developing distributed Wireless Sensor Networks (WSNs) 
with self-organization capabilities to cope with device failures, 
changing environmental conditions, and different sensing and 
measurement applications [1]-[4]. WSNs consist of hundreds 
or even thousands of networked wireless sensors which are 
linked by radio frequencies to perform distributed sensing 
tasks. In general, since these wireless sensors are equipped 
with batteries, energy consumption is a major design issue. 
Researchers have attempted to determine the best topology, the 
optimal way of routing, or whether the sensor node should 
aggregate data or not. All these topics are investigated with the 
intention of prolonging network lifetime from a global 
networking point of view [5]-[7]. 
On the other hand, from a single node point of view, the 
energy conservation could be achieved by applying some 
power management techniques. However, in order to propose 
methods by which power consumption can be minimized in 
networked wireless sensors, it is first necessary to gain an 
accurate 
understanding 
of 
their 
energy 
consumption 
characteristics. Thus, a system model of wireless sensors is 
required so as to analyze the energy consumption of a single 
node.  
Starting from measurements carried out on the off-the-shelf 
radio, Bougard et al. [8] evaluated the potential of an IEEE 
802.15.4 radio for use in an ultra-low power sensor node 
operating in a dense network. Their resulting model has been 
used to optimize the parameters of both the physical and 
medium access control layers in a dense sensor network 
scenario. Also, based on the empirical energy consumption 
measurements of Bluetooth modules, Ekstrom et al. [9] 
presented a realistic model of the radio energy consumption for 
Bluetooth-equipped sensor nodes used in a low-duty-cycle 
network. Their model gives users the possibility to optimize 
their radio communication with respect to energy consumption 
while sustaining the data rate. From a hybrid system point of 
view, Sousa et al. [10] modeled and analyzed the power 
consumption of a wireless sensor node in sensor networks 
using differential hybrid Petri Nets (PNs). With the discrete 
event evolution, the continuous battery discharge profile is 
updated and the remaining battery capacity is estimated. 
Moreover, their Petri net model was further applied to the 
design and evaluation of several dynamic power management 
solutions [11]. Based on Petri nets, Shareef et al. [12] also 
developed a model of a wireless sensor node that can 
accurately estimate the energy consumption. They used this 
model to identify an optimal threshold for powering down a 
sensor node of a specific wireless sensor application. 
Most of the previous work focused on developing a 
conceptual sensor model and provided limited results on 
realistic measurement or comparative experiments. By 
applying our previously proposed Petri net framework in [13], 
this work has modeled the energy consumption of a 
ZigBee-equipped sensor node. Furthermore, an experiment has 
been conducted to measure the real power consumption and 
provide input parameters to the PN model, which could be 
applied to further simulations of ZigBee-based WSNs. This is 
the sense to use the PN model to describe the power 
consumption of sensor nodes. 
The rest of this paper is organized as follows. Section II 
introduces the Petri net model of a wireless sensor. Then, 
experimental results are provided in Section III. Finally, 
Section IV concludes this paper. 
64
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

 
 
II. PETRI NET MODELING OF WIRELESS SENSORS 
This section will introduce the MultiParadigm Modeling 
(MPaM) methodology, and then show the behavior modeling 
of networked wireless sensors. 
A. MultiParadigm Modeling (MPaM) 
To deal with specific and complicated problems, we have to 
integrate heterogeneous modeling arts, thereby resulting in the 
MPaM methodology. It is based on a proposition of giving 
different entities of a complex system the most appropriate 
modeling abstractions [13]. From a viewpoint of MPaM, the 
PN is adopted to design and analyze coordination controllers in 
a discrete-event domain. The primary motivation for 
employing PN as hybrid models is the situation that all those 
good characteristics that make discrete PN a valuable 
discrete-event model still be available to hybrid systems. 
Examples of these characteristics include: PN does not need 
the exhaustive enumeration of the state space at the design 
stage and can finitely model systems with an infinite state 
space. Moreover, PN provides a modular description where the 
structure of each module is maintained in the composed model. 
Furthermore, discrete states of PN are modeled by a vector and 
not by a symbolic label, thus linear algebraic techniques may 
be adopted for system analysis. 
Figure 1 represents the previously proposed PN framework 
for modeling a system in discrete-event and discrete-time 
domains [13]. Each operation is modeled with a command 
transition to start the operation, a progressive working place, a 
response transition to end the operation, and a completed place. 
Note that the start transition (drawn with a dark symbol) is a 
controllable event as “command” input, while the end 
transition is an uncontrollable event as “response” output. The 
working place is a Hierarchical Hybrid Place (HHP, drawn 
with a triple circle), in which the state equations of the systems 
to be controlled are contained and interacted through the 
boundary interface. The interaction between event-driven and 
time-driven domains is realized in the following way: a token 
put into the working place triggers a discrete (or continuous) 
time process with the corresponding equations. Thresholds are 
monitored concurrently. Each threshold is corresponding to a 
transition, that is, the response transitions. When the threshold 
is reached or crossed, it indicates that the associated event is 
happening, and the corresponding transition is fired. Next, a 
new marking is evaluated, and the combination of the hybrid 
system restarts. 
 
 
Figure 1. Multiparadigm modeling within a Petri net framework [13]. 
 
 
 
 
 
Figure 2. Petri net model of a networked wireless sensor. 
Command:
start operation 
Response:
end operation
state equations of
to be controlled
subsystems
boundary interface
Working
Completed
= Hierarchical Hybrid Place (HHP)
Example:
x1= f (x1, t)
x2= f (x2, t)
y= f (x1, x2, t)
p2
p3
t2
t1
p4
p5
t4
t3
p1
p8
p9
t8
t7
p6
p7
t6
t5
p17
p11
t10
t9
p10
Startup Sequence
MCU Running
Radio in RX mode
for CSMA/CA
p14
t14
t13
p12
p13
t12
t11
Shutdown Sequence
Process Packets
Controllable transitions
Hierarchical Hybrid Places
Transmit Packets
Receive Packets
p15
p16
65
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

 
 
TABLE I.  
NOTATION FOR PETRI NET OF A WIRELESS SENSOR IN FIGURE 1 
 
 
B. Behavior Modeling of Networked Wireless Sensors 
In general, the radio communication is the most energy 
consuming part of a wireless sensor as compared with its 
sensing and computation tasks. Hence, our model focuses on 
the operations of packet transmission and reception. By 
applying the design procedure in [13], the PN model of a 
networked wireless sensor is constructed as shown in Figure 2, 
which consists of 17 places and 14 transitions, respectively. 
The corresponding notations are described in Table I. The 
model is based on a scenario where a sensor node periodically 
transmits and receives some data towards, for example, a base 
station. 
 
III. EXPERIMENT AND RESULTS 
This section will firstly show the measurement setup and 
experimental results. Then, the comparisons between the 
measurement and PN model will be described. 
A. Measurement Setup 
In this section, the energy consumption of a wireless sensor 
as computed via its Petri net model will be compared against 
real measurements collected from a ZigBee-equipped sensor 
node. The measurement setup in [14] has been adopted as 
shown in Figure 3 (a), in which a ZigBee End Device is the 
Device Under Test (DUT) and powered by a power supply. 
The energy consumption measurements are performed at the 
End Device, which periodically (every 0.5 sec in our 
measurement) wakes up and sends data to the coordinator (base 
station). The voltage across a 10 Ohm resistor is monitored to 
determine the current draw of the system. The measurement 
system has been calibrated with both a digital oscilloscope and 
a digital multimeter to ensure an accurate measurement. Figure 
3 (b) shows the hardware setup during energy consumption 
measurement. 
 
 
Figure 3. (a) Measurement configuration and (b) hardware setup during energy 
consumption measurement. 
 
B. Measurement Results 
Figure 4 (a) shows the power consumption during sleep and 
awake states. The time base on the oscilloscope is set to 500 ms 
per division, and it can be seen that it is about 0.5 sec among 
each current peak, showing the power consumption when the 
device is awake to send the data to the coordinator. Figure 4 (b) 
is a zoomed version of Figure 4 (a) and shows the current 
consumption during the active modes in more details. This 
snapshot has a time base of 1 ms per division. The duration of 
the active mode is about 7 ms. According to the measurement 
results, the consumed energy and duration of each operation 
can be estimated. 
C. Comparisons between Measurement and Petri Net Model 
With the measured sets of consumed current and duration 
for each transition as the inputs to the Petri net model, the 
energy consumption can be obtained as shown in Figure 5.  In 
general, the energy consumption of the Petri net model is close 
to the practical measurement with a mean difference of around 
0.9%. However, several peak currents appear during the state 
transitions, especially the startup sequence t1. Moreover, note 
that between transitions t7 and t9, there are two V-shaped 
gullies, which present the transceiver turnaround operations 
(RX to TX and TX to RX). Future work would attempt to 
model such detailed behaviors.  
 
Place
Description
Transition
Description
p1
Node in sleep mode
t1
Cmd: start startup sequence
p2
MCU running at 16MHz
t2
Re: end startup sequence
p3
Startup sequence completed
t3
Cmd: start running MCU at 32MHz
p4
MCU running at 32MHz
t4
Re: end running MCU
p5
MCU running completed
t5
Cmd: start CSMA/CA operation
p6
Radio in RX mode
t6
Re: end CSMA/CA operation
p7
CSMA/CA operation completed
t7
Cmd: start transmitting packets
p8
Radio in TX mode
t8
Re: end transmitting packets
p9
Packet transmission completed
t9
Cmd: start receiving packets
p10
Radio in RX mode
t10
Re: end receiving packets
p11
Packet reception completed
t11
Cmd: start processing packets
p12
Processing packets
t12
Re: end processing packets
p13
Processing packets completed
t13
Cmd: start shutdown sequence
p14
MCU running at 16MHz
t14
Re: end shutdown sequence
p15
Shutdown sequence completed
p16
MCU is available
p17
Radio is available
Coordinator
Node
End Device
(Device Under Test)
(a)
(b)
 
Power Supply 
  
-  +       
ZigBee 
Coordinator 
Resistor 
10  
ZigBee         
End Device 
(Device Under Test) 
Oscilloscope  
     
1              2    
66
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

 
 
 
Figure 4. Measurement results for the division scale at (a) 500 ms and (b) 1 ms. 
 
 
Figure 5. Comparison of energy consumption between measurement and Petri 
net model. 
 
Obviously, the description of the power consumption of a 
single node during a standard RX/TX procedure is a very 
isolated scenario. For example, the power consumption of a 
node would significantly change when a collision is happening 
during transmission with a subsequent packet loss which 
requires a repeated transmission. Future work would consider 
more practical interactions between the nodes so as to simulate 
the power consumption of a whole sensor network for different 
scenarios. 
 
IV. CONCLUSION AND FUTURE WORK 
In this paper, a systematic approach to modeling and 
measurement of energy consumption for wireless sensors has 
been presented. The sensor operation is modeled using the 
Petri nets. Then, an experiment has been conducted to measure 
the real power consumption and provide input parameters to 
the Petri net model. The comparative results indicate the Petri 
net model has approximated the real measurement under the 
assumed scenarios. Besides the periodical operations 
demonstrated in this paper, the measurement scheme is also 
useful for other specific applications and could be fed back to 
the Petri net model as a calibration source. 
Since the proposed Petri net model in this paper is mainly 
designed for packet transmission and reception, as a future 
work, operations of sensing and computation tasks could be 
further considered so as to make the model much more realistic. 
Moreover, with a given battery, the proposed model could be 
further applied to the lifetime estimation for periodical 
operations. 
ACKNOWLEDGMENT 
This paper was supported by the Ministry of Science and 
Technology 
(MOST) 
of 
Taiwan 
under 
grant 
MOST-106-2221-E-027-057. 
The authors would like to thank Mr. Yu-Kai Wang from 
Information & Communications Research Labs, Industrial 
Technology Research Institute (ITRI) for his help with the 
experiment. 
REFERENCES 
[1] J. S. Lee and Y. C. Lee, “An application of grey prediction to transmission 
power control in mobile sensor networks,” IEEE Internet of Things J., vol. 
5, no. 3, pp. 2154-2162, Jun. 2018. 
[2] W. Q. Guo, W. M. Healy, and M. C. Zhou, “Impacts of 2.4-GHz ISM band 
interference on IEEE 802.15.4 wireless sensor network reliability in 
buildings,” IEEE Trans. Instrum. Meas., vol. 61, no. 9, pp. 2533-2544, 
Sep. 2012. 
[3] J. S. Lee and W. L. Cheng, “A fuzzy-logic-based clustering approach for 
wireless sensor networks using energy predication,” IEEE Sensors J., vol. 
12, no. 9, pp. 2891-2897, Sep. 2012. 
[4] J. S. Lee, “A Petri net design of command filters for semi-autonomous 
mobile sensor networks,” IEEE Trans. Ind. Electron., vol. 55, no. 4, pp. 
1835-1841, Apr. 2008. 
[5] G. Anastasi, M. Conti, M. D. Francesco, and A. Passarella, “Energy 
conservation in wireless sensor networks: A survey,” Ad Hoc Netw., vol. 7, 
no. 3, pp. 537-568, May 2009. 
[6] J. S. Lee and T. Y. Kao, “An improved three-layer low-energy adaptive 
clustering hierarchy for wireless sensor networks,” IEEE Internet of 
Things J., vol. 3, no. 6, pp. 951-958, Dec. 2016. 
[7] J. S. Lee and C. L. Teng, “An enhanced hierarchical clustering approach 
for mobile sensor networks using fuzzy inference systems,” IEEE Internet 
of Things J., vol. 4, no. 4, pp. 1095-1103, Aug. 2017. 
[8] B. Bougard, F. Catthoor, D. C. Daly, A. Chandrakasan, and W. Dehaene, 
“Energy efficiency of the IEEE 802.15.4 standard in dense wireless 
microsensor networks: Modeling and improvement perspectives,” in Proc. 
of Design, Automation and Test in Europe Conference and Exhibition 
(DATE), Munich, Germany, Mar. 2005, pp. 196-201. 
[9] M. C. Ekstrom, M. Bergblomma, M. Linden, M. Bjorkman, and M. 
Ekstrom, “A Bluetooth radio energy consumption model for 
low-duty-cycle applications,” IEEE Trans. Instrum. Meas., vol. 61, no. 3, 
pp. 609-617, Mar. 2012. 
[10] J. R. B. Sousa, A. M. N. Lima, and A. Perkusich, “Modeling and analyzing 
power consumption in sensor networks nodes based on differential hybrid 
(a)
(b)
0
1
2
3
4
5
6
7
8
9
10
0
5
10
15
20
25
30
Time (ms)
Current Consumption (mA)
 
 
measurement
Petri net model
t5
t11
t3
t7
t9
t13
t1
67
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

 
 
Petri nets,” in Proc. The Annual Conf. IEEE Industrial Electronics Society 
(IECON), Raleigh, NC, Nov. 2005, pp. 389-394. 
[11] P. S. Sausen, J. R. B. Sousa, M. A. Spohn, A. Perkusich, and A. M. N. 
Lima, “Dynamic power management with scheduled switching modes,” 
Comput. Commun., vol. 31, pp. 3625-3637, Sep. 2008. 
[12] A. Shareef and Y. F. Zhu, “Power modeling of wireless sensor nodes 
based on Petri net,” in Proc. The 39th Int. Conf. Parallel Processing, San 
Diego, CA, Sep. 2010, pp. 101-110. 
[13] J. S. Lee, M. C. Zhou, and P. L. Hsu, “Multiparadigm modeling for hybrid 
dynamic systems using a Petri net framework,” IEEE Trans. Syst., Man, 
Cybern. A, Syst., Humans,  vol. 38,  no. 2, pp. 493-498, Mar. 2008. 
[14] B. Selvig, “Measuring power consumption with CC2430 & Z-Stack,” 
Application Note AN053, Texas Instruments. Jul. 2007. 
68
Copyright (c) IARIA, 2018.     ISBN:  978-1-61208-669-9
ICSNC 2018 : The Thirteenth International Conference on Systems and Networks Communications

