Design and Implementation of IoT Sensor Network Architecture with the Concept 
of Differential Security Level 
 
Jaekeun Lee, Daebeom Jeong, Ji-Seok Han, Seongman Jang, Sanghoon Lee, Keonhee Cho, and Sehyun Park 
School of Electrical and Electronics Engineering 
Chung-Ang University 
Seoul, Republic of Korea 
e-mail: li0825, dhmk815, bluephontine, jangsm221, leessan0, thckwall, shpark@cau.ac.kr 
 
 
Abstract— Internet of things sensor networks (ISNs) have been 
widely used in various fields. Especially, it is a key technology 
to design environmental monitoring solution in a building 
space. However, it is not easy to implement ISNs in a building 
space due to their spatial and structural complexity. Unlike a 
home space, a building has a variety of variables such as 
people, rooms, and different structures. Therefore, we 
considered diverse components of a building which influence 
2.4GHz wireless communication and designed efficient ISN 
structure utilizing sensor node information to provide better 
network performance. We proposed the ZigBee sensor 
network system consisting of the environmental information 
sensor (EIS) and server, designed various user services, and 
implemented it in a test bed. To verify the efficiency of the 
system, we conducted two experiments about the network 
reliability and battery consumption of the EIS, and both 
results show improvements. 
Keywords- environmental monitoring; IoT sensor network; 
ZigBee communication; network reliability; differential security 
level 
I. 
 INTRODUCTION 
Recently, Internet of things sensor networks (ISNs) have 
received much attention all over the world. Especially with 
the development of low power wireless communication and 
micro electro mechanical systems (MEMS), the ISNs can be 
configured on a large scale and applied in a variety of areas. 
ISN is a network in which sensor nodes with computing and 
wireless communication capabilities are deployed and 
configure autonomous network. This technology utilizes 
gathered information from the sensor nodes through wireless 
communication for monitoring and controlling other devices. 
Therefore, various services through configuring ISNs such as 
environmental monitoring, health care service and energy 
management service are being provided around us [1]. 
Nowadays, many studies are focusing on the developing 
environmental monitoring solution in buildings. ISN is key 
technology to design and develop environmental monitoring 
solution in buildings due to its ability to manage situational 
information. However, it is so difficult to implement the ISN 
in buildings due to their spatial and structural complexity. 
A 
building 
has 
complex 
structural 
and 
spatial 
characteristics compared to a house. Furthermore, in the 
building, there are various types of people. Thus, there are 
many challenges to deploy ISNs for the environmental 
monitoring solution in the building. For example, too many 
sensors are needed in order to gather and manage the 
complex environmental and situational events, which 
inevitably increase costs. Furthermore, the sensor module is 
more affected by physical characteristics of the wireless link 
due to structural and spatial characteristics of the building. 
In order to manage this complex building information, 
many researchers studied building information modeling 
(BIM). BIM [2] is the process of generating and managing 
building information. BIM encompasses building geometry, 
spatial relationships, geographic information, and quantities 
and properties of building components. Geographic 
information system (GIS) [3] is similar to BIM. GIS gathers 
the data related to geographic and location-based information. 
And then it analyzes this information in order to provide 
user-centric location based service (LBS). It is expected that 
these systems are evolving into the direction where existing 
models are applied to various fields such as sensor network 
management, architecture design, transportation services, etc. 
As the number of buildings increases rapidly due to the 
population growth and industrial factors, there has been a 
growing interest in safety and energy saving in buildings. 
Accordingly, the importance of user-centric environmental 
monitoring 
services 
by 
collecting 
and 
analyzing 
environmental information in buildings is growing bigger 
and bigger. Therefore, like BIM and GIS, the environmental 
monitoring service should effectively gather environmental 
and situational information and provide new services by 
using gathered information. And this service needs to be 
operated with energy efficient way, safety of gathered 
information, and ISN structure suitable for buildings. 
In this paper, we considered the design of ISN 
architecture with the concept of differential security level 
suitable for the buildings. We proposed the ZigBee-based 
and reliable sensor network system by utilizing information 
related to buildings and sensor nodes that configure the 
network. We utilized the ZigBee technology because of its 
low-cost and low-power characteristics [4]. Therefore, our 
system adaptively establishes the network topology, 
automatically discovers and recovers the faulty nodes 
according to building information and sensor node 
information. In this way, we can efficiently manage the ISN 
and strengthen security of the ISN. And we can also provide 
better services.  
224
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

II. 
PROBLEMS AND REQUIREMENTS OF CONFIGURING 
ISN IN THE BUILDING 
As mentioned above, a building has complex structural 
and spatial characteristics compared to a house. Thus, there 
are many problems to configure ISNs for environmental 
monitoring solution in a building as follows. 
• 
Interference from other sources: Radio source 
transmitting in the same frequency band will 
interfere with each other. In addition to interference 
from transmitting source, electromagnetic noise 
within the building environment can result in 
interference [5]. 
• 
Multipath propagation: This phenomenon occurs 
when portions of the electromagnetic wave reflect 
off objects and the ground, taking paths of different 
lengths between a sender and a receiver. This results 
in the blurring of the received signal at the receiver 
[5]. 
• 
Faulty node detection and recovery: Some sensor 
nodes may fail due to various reasons such as energy 
depletion, environmental interference, or malicious 
attacks. This often results in a non-uniform network 
topology and some nodes will lose contact with the 
rest of the network. Therefore, the sensor nodes 
should have a robust and reliable feature to detect 
faulty nodes and take appropriate measures to 
recovery from the failure status. This ability is 
essential to guarantee sensor network reliability and 
connectivity after one or more nodes are loss in 
connection with the network [6]. 
Configuring ISN in consideration of these problems that 
occur in buildings is essential. Therefore, ISN suitable for 
buildings needs to have the following requirements: 
• 
Adaptive network management: Due to the complex 
structure and spatial characteristics of a building, 
adaptive network management is essential for 
securing   network reliability. Therefore, in order to 
configure ISN  in a building, various components of 
a building such as closed or open structure, the 
number of walls and the number of wireless LAN 
need to be considered. Furthermore, ISN is required 
to be managed by considering the status of each 
sensor node. 
• 
Energy Efficient Operation: Extending lifetime of a 
sensor node in ISN is very important element. 
Discontinuity of data transmission due to the lack of 
battery reduces network reliability and can cause 
incorrect data transmission to users. Thus, battery 
condition of each node should be analyzed for 
configuring ISN, and data transmission path needs to 
be determined based on the battery conditions of 
surrounding nodes. 
III. 
WIRELESS ENVIRONMENTAL IOT SENSOR NETWORK 
SYSTEM ARCHITECTURE 
The architecture of the proposed system is shown in 
Figure 1. Environmental information sensor (EIS) consists of 
6 type of sensors, such as temperature, humidity, motion 
sensor, carbon monoxide (CO), and illumination.  
 
Figure 1. Overview of wireless environmental IoT sensor network system. 
Moreover, it contains LEDs and a buzzer for notifying 
operation of current status. If every environmental sensor is 
included in the sensor node, it would be wasteful because 
some environmental sensors could not be used in some spots. 
Therefore, each sensor is designed to be detachable and also 
shut out power source in case of that some sensors are not 
used. 
Both 
EIS 
and 
server 
use 
ZigBee 
wireless 
communication for efficient energy use. The EIS plays a role 
of gathering environmental information about situations that 
occur in the buildings. The server analyzes and stores the 
information received from the EISs to provide user services. 
Users are able to confirm the analyzed data through 
smartphone application and web server. 
A. Network Structure of the Proposed System 
The whole network structure of the proposed system is 
optimized to consider various variables in building spaces. 
1) Network Initialization of the Proposed System 
A coordinator manages the certain number of sensor 
nodes or nodes in a particular space. However, in this 
structure of sensor networks, if a coordinator does not work, 
it influences the network performance which the coordinator 
manages. Therefore, each sensor node has the same 
middleware and hardware specification so that every node 
can play a role of the coordinator. Figure 2 shows network 
initialization of the proposed system. At the beginning of the 
network initialization, a coordinator is selected by the server, 
and it can be changed according to various cases. The 
selected coordinator gathers and stores the data from 
assigned nodes, and transmits to the server. 
First, the server is installed, and each sensor node is 
distributed in a specific area. In this paper, the server uses 
connectivity between the sensor network and building area 
so 16 area codes that help to understand where it is deployed 
have to be selected in the nodes. By using a switch in the EIS 
node, users can change or choose one of the area codes, and 
the selected code is added to the event message of the 
coordinator. Therefore, the server can link the node position 
with a building floor plan. 
225
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

 
Figure 2. Network initialization of the proposed system. 
For the network initialization, the server needs to select a 
coordinator among the nodes, and this process is as below. 
First, the server transmits the Confirmation Msg around itself, 
and the nodes receiving this Msg also send the Response 
Msg to the server. The selected nodes are candidates of the 
reserved coordinator. Secondly, these candidates transmit 
2nd Confirmation Msg, and other nodes, which did not 
receive anything in the primary network configuration, send 
Response Msg to the candidates. The server repeats this 
process until every sensor node is found, and every node has 
graded level to be a coordinator. That is, the node connected 
during primary network configuration has the highest graded 
level. As described above, if multiple candidates of the 
reserved coordinator are selected, the server chooses one of 
them as a coordinator that is located in the largest area and 
has a wide coverage range, and other candidates gain a 
qualification of the reserved coordinator. Therefore, if the 
selected coordinator does not work, the server selects one of 
the candidates to maintain a certain network. Moreover, one 
of the EIS nodes, which are in the same section and have 
same area code, is selected as a sub-coordinator according to 
the coverage area, and this sub-coordinator collects and 
transmits data to the coordinator. 
2) Building Elements Considered for Configuring 
Wireless Environmental IoT Sensor Network 
For efficient wireless environmental IoT sensor network 
suitable for buildings, we considered several components of 
a building. First of all, we found factors which have effects 
on 2.4 GHz frequency in a building area. High frequency 
communications such as ZigBee and WLAN are influenced 
by various factors more compared with low frequency 
communications. Furthermore, positions where sensor nodes 
are placed would be important in network performance. 
Therefore, we analyzed researches related to ZigBee 
communication and chose some factors [7], and designed the 
proposed sensor network according to the factors. The types 
of evaluation factors are as follows. 
• 
Coverage area: grasping the optimal number of 
nodes and service quality 
• 
Closed or open structure: if a node is placed in a 
closed structure, the server least chooses the node as 
a coordinator 
• 
Wall quality and the number of walls: if a node is 
placed near aluminum quality walls, the server least 
chooses the node as a coordinator 
• 
The number of wireless LAN used in a space: related 
to 
communication 
interference 
in 
the 
same 
frequency band 
• 
Degree of communication interference between 
floors: related to communication interference in 
different floors 
3) Hierarchical Network Structure 
In this paper, the wireless environmental IoT sensor 
network system is hierarchized based on the status of sensor 
nodes such as battery status, the number of performed events 
and node area. Figure 3 shows the hierarchical network 
composition. The green node means a coordinator, and 
colored nodes means hierarchical nodes according to the 
network initialization. For example, the blue node which is 
in the Alternative path is included in two common paths, and 
the server assigns this node in the one of the two networks, 
which has lower battery status. If a node placed near the 
Alternative path does not work, the coordinator replaces the 
node with one in the Alternative path. If there is no node in 
the Alternative path, the server reports that a node needs to 
be changed. And, each node has a differential security level. 
The coordinator has a high security level because it deals 
with a lot of information. Furthermore, in order to improve 
battery life and reliable data transmission, environmental 
sensors of the EIS nodes are controlled by the coordinator. If 
battery status of an EIS node is below 20%, the node turns 
off the environmental sensors according to the control 
command of the coordinator. By doing this, the node, which 
can be in a critical path, can save power and focus on data 
transmission instead of wasting power for sensing 
environmental information. 
 
Figure 3. Area-code based hierarchical network structure. 
In organizing the sensor network, the orphan problem is 
always an important issue. Especially, if a node is in a 
critical route path and has a problem, a network which is 
connected to the node cannot operate well. In a building 
space, it is not usual to place hundreds of sensor nodes at the 
same place so that the orphan problem is getting more 
important. In some cases like the red node, some nodes could 
not reply in the first network initialization and be included in 
the network, and this causes another type of the orphan 
problem. However, we designed this sensor network system 
by grouping the certain number of nodes in the same place 
like Figure 3, and users have to input the total number of 
nodes to compare the initial number of the nodes with the 
226
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

number of the installed ones. Thus, the server can detect how 
many nodes are not included in the network. 
B. Data Packet Structure of the Proposed system 
Figure 4 shows the data packet structure of the proposed 
system and management of the data packets in the server. 
The data packet of an EIS includes area code, data length, 
event code, environmental information and battery status. 
The coordinator creates data packets by gathering 
information from EISs and send them to the server. Since the 
coordinator does not have sufficient internal storage space 
and processing performance, all the data is translated into the 
hex codes and deleted after the data transmission. As 
described above, each node can select one of the 16 area 
codes by a switch and every area is also allocated for one of 
16 area codes. After the network initialization, the server 
checks whether data is received or not through coordinators. 
That is, each coordinator checks and stores detailed network 
connections between a node and the coordinator. Therefore, 
these data are transmitted to the server, and the server figures 
out what events happen in each node and can analyze 
network statistics. Furthermore, the coordinator counts time 
by using internal timer so that time can be added to each 
event. 
 
Figure 4. Data packet structure of the proposed system. 
Basically, the server not only gathers environmental 
information but also analyzes the data packet so that every 
event can be inferred. For example, the EIS sends a 
temperature data periodically but motion-detection or gas 
data is transmitted when specific events are discovered. 
Furthermore, the coordinator also gathers a battery status of 
each node because a Micro Control Unit (MCU) of each 
node checks and sends the battery status. That is, if a specific 
node takes a role of a router and runs down battery, the 
server reports this data to replace the battery or change 
power source. 
The server also can find communication problems in 
specific routes. For example, if the server knows the total 
number of temperature events in a node, it can also infer the 
ratio of data transmission success or fail. Furthermore, the 
server can find a period of each event based on the time 
counted by the coordinator. Therefore, the server arranges 
every event in time table so that it is easy to figure out what 
events happen at the same time and change a time schedule 
of events that have a problem. 
IV. 
SERVICE PROVISIONS OF THE PROPOSED SYSTEM 
In this paper, we also designed various user services 
through the smart phone application and web service as 
shown in Figure 5. Especially, smart phone is widely used in 
these days to provide mobile services and various 
applications [8]. Furthermore, users do not need to be in 
limited places to access web sites, and it is available to 
confirm what they want to check in various places and let 
users know certain events by using push service. 
 
Figure 5. Management program, web site, and smartphone application 
The services that the server and EIS provide are as 
follows. 
• 
Provision of collected environmental information 
• 
Sensor node management 
• 
Reporting specific events 
As we described above, total 6 environmental sensors are 
included in the EIS, and the system provides real time 
monitoring services, such as motion detection of users, and 
risk factors like gas and fire. According to the purpose and 
importance, the environmental information is divided into 
three parts, and each part is managed differently. 
• 
General environmental information: Temperature, 
humidity, illumination 
- 
Indirectly used in other application 
- 
Periodically gathered 
- 
Low data grade 
• 
Event-based environmental information: Motion 
detection 
- 
Detected when specific events happen 
- 
Indirectly or directly used in other application 
(crime prevention, people density) 
- 
Information period is not irregular 
• 
High priority environmental information: CO, gas 
- 
Detected when specific events happen 
- 
Indirectly or directly used in other application 
227
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

- 
reported immediately to users or the server 
- 
High data grade 
The general environmental information is not used 
immediately but first gathered periodically to help to manage 
battery status in the EIS. This information is gathered by the 
coordinator, and sent to the server to provide real time 
environmental monitoring or used in additional services. 
The event-based environmental information includes 
only the motion detection sensor, and it is gathered 
irregularly and used indirectly or directly according to 
applications. 
Therefore, 
according 
to 
services, 
the 
coordinator sends this information instantly or periodically to 
the server. 
The high priority environmental information consists of 
two sensors, CO and gas. If a fire breaks out, CO is 
generated so that the server can detect fire by using a CO 
sensor. Therefore, CO and gas information have high priority 
because these are connected with risk factors in a building 
space. If some nodes are performing other events, all events 
are stopped, and the coordinator transmits this high priority 
information instantly to the server. 
V. 
IMPLEMENTATION 
First of all, figure 6 shows the hardware structure of the 
EIS. The EIS includes, 
• 
MCU: controlling each part of the EIS 
• 
Power Part: consisting of battery and power source 
• 
Battery status part: checking the battery status 
• 
Sensor part: including 6 types of environmental 
sensors and converting analog input to digital 
• 
ZigBee part : ZigBee communication 
The server is designed by using C++ based programming 
language, and a ZigBee module is attached to communicate 
with the EIS nodes. 
 
Figure 6. (a) ZigBee module with an antenna used in the server, (b) 
Hardware structure of an EIS, (c), and (d) Hardware structure of sensor part. 
The EIS nodes and server are implemented in the test bed 
environment. Figure 7 shows the floor plan of the test bed. 
Through the network initialization, total 8 coordinators are 
selected in 8 areas, and the server is located in the red field. 
In each section, 10 EIS nodes with 6 types of environmental 
sensors 
are 
placed. 
Above 
this, 
the 
experimental 
environments are in Table 1. 
TABLE I.  
EXPERIMENTAL ENVIRONMENT 
Classification 
 
The Number of Used WLAN 
1~3 
Status of Wall Quality 
Normal 
Extent of Testbed 
3200 m2 
 
The component about communication interference 
between floors is excluded because the test is performed in 
only one-story house. In summary, there are the total 8 
sections and 80 EIS nodes with 6 types of environmental 
sensors, and we tested to monitor environmental information 
and control sensor nodes by using the server, web page, and 
smart phone application. 
 
Figure 7. Testbed floor plan; blue points means coordinator, and the server 
is located in a red section. 
VI. 
TEST AND RESULTS 
Based on this test bed environment, we tested 2 
experiments about reliability and efficiency of this system. 
Performed experiments are as follows: 
• 
Network reliability of the proposed network 
structure 
• 
Comparison of battery consumption 
 
Figure 8. Comparison of data reliablility between two networks. 
228
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

The first experiment describes how high the system 
provides network reliability. We compared a network, which 
uses general star topology, with the proposed network 
structure. Figure 8 shows the success rate of data 
transmission between each coordinator and the server. For 
this experiment, each coordinator transmitted 1000 data 
packets to the server, and we analyzed this result. The result 
shows that the highest rate is obtained the D section, and the 
lowest rate is obtained the E section in Table 2. This result 
means the number of walls and distances between the 
coordinator 
and 
the 
server 
influence 
the 
network 
performance, and the system improves it. 
TABLE II.  
FIRST EXPERIMENTAL RESULTS ACCORDING TO DISTANCE 
AND THE NUMBER OF WALLS 
Section 
Distance 
The 
Number of 
Walls 
Success Rate (%) 
General 
Star 
Topology 
Proposed 
Network 
Structure 
A 
75M 
4 
85.3 
89.3 
B 
55M 
3 
90.6 
91.2 
C 
35M 
2 
92.8 
94.3 
D 
15M 
1 
98.5 
98.9 
E 
82M 
5 
83.7 
87.2 
F 
60M 
4 
86.4 
89.7 
G 
49M 
3 
88.8 
91.8 
H 
35M 
2 
89.8 
93.3 
 
The second experiment shows how much the system 
improves battery life. The EIS node has a 900mAh battery, 
and the network operated for 1 day. To result this experiment, 
we compared the sum of battery amount of the two network 
cases described in the first experiment. Figure 9 shows the 
comparison of battery amount of two network cases. 
 
Figure 9. Comparison of battery amount. 
This result shows that the proposed network structure 
saves about 34 % battery life. That is, the server checks 
service quality of each section and control power of used 
environmental sensors. Therefore, the proposed network can 
maintain the entire nodes’ battery life longer. 
VII. CONCLUSION 
In this paper, we designed the wireless environmental 
IoT sensor network system by using the EIS and server in a 
building space. The main point is that this sensor network 
system considered various building elements which 
influence ZigBee communication and used sensor node 
information for providing better performance of the network. 
Users can confirm various environmental conditions such as 
temperature, humidity, illumination, CO, gas, and motion-
detection through the smart phone application or web site. 
We implemented this sensor network system in the test bed 
and performed two experiments about performance of the 
system. The experimental results demonstrate the improved 
network reliability and longer battery life by using the 
proposed sensor network system. 
ACKNOWLEDGMENT 
This work was supported by the MSIP(Ministry of 
Science, ICT and Future Planning), Korea, under the 
ITRC(Information Technology Research Center) support 
program (NIPA-2014-H0301-14-1044) supervised by the 
NIPA(National IT Industry Promotion Agency), and by the 
Human Resources Development (No.20124030200060) and 
the Energy Efficiency & Resources (No.20132010101850) 
of the Korea Institute of Energy Technology Evaluation and 
Planning (KETEP) grant funded by the Korea government 
Ministry of Trade, Industry and Energy. 
 
REFERENCES 
[1] M. Erol-Kantarci and H. T. Mouftah, “Wireless Sensor 
Networks for Cost-Efficient Residential Energy Management 
in the Smart Grid,” Smart Grid, IEEE Transactions on, vol. 2, 
pp. 314-325, June 2011. 
[2] S. Azhar, M. Hein, and B. Sketo, “Building Information 
Modeling (BIM): Benefits, Risks and Challenges,” In 
Proceedings of the 44th ASC Annual Conference USA, vol. 2, 
pp. 2-5, April 2008 
[3] C. P. Lo and W. Yeung, Concepts and Techniques of 
Geographic Information Systems (Ph Series in Geographic 
Information Science): Prentice-Hall, 2006. 
[4] A. Wheeler, “Commercial applications of wireless sensor 
networks using ZigBee,” Communications Magazine, IEEE, 
vol. 45, no. 4 , pp. 70-77, Apr 2007. 
[5] J. Kurose and K. Ross, Computer Networking: A Top-Down 
Approach: Pearson Education, 2008. 
[6] M. S. Pan, C. H. Tsai, and Y. C. Tseng, “The orphan problem 
in zigbee wireless networks,”. IEEE Transactions on Mobile 
Computing, pp. 1573-1584, Nov 2009. 
[7] L. Chan-Ping, J. L. Volakis, K. Sertel, R. W. Kindt, and A. 
Anastasopoulos, “Indoor propagation models based on 
rigorous methods for site-specific multipath environments,” 
Antennas and Propagation, IEEE Transactions on, vol. 54, no. 
6, pp. 1718-1725, June 2006. 
[8] P. Zheng and L. M. Ni. “Spotlight: the rise of the smart 
phone,” Disributed Systems, Online, IEEE, vol. 7, no. 3, Mar 
2006, doi:10.1109/MDSO.2006.22. 
 
229
Copyright (c) IARIA, 2015.     ISBN:  978-1-61208-398-8
ICN 2015 : The Fourteenth International Conference on Networks

