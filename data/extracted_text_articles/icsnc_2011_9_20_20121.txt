Optimization of link capacity for telemedicine applications
Karol Molnar∗, Jiri Hosek∗, Lukas Rucka∗, Pavel Vajsar∗ and Otto Dostal†
∗Department of Telecommunications
FEEC, Brno University of Technology
Purkynova 118, 612 00 Brno, Czech Republic
Email: molnar@feec.vutbr.cz, hosek@feec.vutbr.cz, rucka.lukas@phd.feec.vutbr.cz, pavel.vajsar@phd.feec.vutbr.cz
†Institute of Computer Science
Masaryk University
Botanicka 554/68a, 602 00 Brno, Czech Republic
Email: otto@ics.muni.cz
Abstract—Interactive telemedicine services have become very
popular due to their cost efﬁciency and low response times. On
the other hand, several acquisition units connected to a network
can signiﬁcantly increase the network load on communication
links connecting hospital facilities to the Internet. Since these
links are often leased from commercial ISPs, there is much
interest in minimizing the cost, i.e. the capacity of leased
links, without a signiﬁcant degradation of the quality of
telemedicine services. The paper presents the results of the
initial analysis of network trafﬁc generated by Computed
Radiography, introduces the corresponding statistical model,
and presents the simulation results obtained by optimizing the
network capacity from the point of view of application response
time.
Keywords-Computed Radiography; medical image process-
ing; OPNET Modeler; transmission capacity; WFQ;
I. INTRODUCTION
The number of digitized medical facilities which can take
advantage of integrated solutions for data handling, storing
and transmitting, according to the DICOM standard, is
rapidly increasing [1]. The demand of current telemedicine
equipment on instantaneous bandwidth varies from tens of
kbps to tens of Mbps. It causes that the requirement on the
capacity of communication links is highly affected by the
type and exact number of such equipment items (modalities)
in the medical facility. Usually these facilities are connected
to a regional centre for medical image processing and stor-
ing, which coordinates data sharing and mutual exploitation
of technical resources of the collaborating parties. These
centres also provide sophisticated analyses of trafﬁc ﬂows to
estimate trafﬁc proﬁles, time-distributions, delays, etc. This
paper presents the results of such an investigation.
The aim of our work was to estimate the minimum
link-capacity towards commercial ISPs which still preserves
acceptable service quality for telemedicine applications. The
quality was expressed as the delay of images transmitted
from the medical modality. We also conducted an investi-
gation into differentiated trafﬁc treatment and analysed how
signiﬁcantly preferential treatment of selected trafﬁc-ﬂows
affects the response-time in the case of different services.
The methods used for analysis, modelling and evaluation
are described in the following structure: section II describes
our initial premises, ways of collecting and the methods of
statistical processing of measured data. Section III contains
the description of the simulation models built based on
the statistical description of the modality investigated. This
section also evaluates the simulation results with and without
preferential trafﬁc treatment. The last section concludes our
activities and presents our plans for future investigation.
II. INITIAL PREMISES AND STATISTICAL ANALYSIS
Current hospital facilities are usually equipped with sev-
eral modalities such as MRI (Magnetic Resonance Imag-
ing), US (UltraSound), CT (Computed Tomography) or CR
(Computer Rentgen/X-ray). The last of these modalities is
the most common representative of current telemedicine
applications. For this reason our analysis was primarily
focused on the CR modality.
Information required for the analysis was obtained by di-
rect measurement of corresponding trafﬁc-ﬂow parameters.
To preserve the faithfulness of data, these measurements
were conducted between 7 am and 4 pm only. Trafﬁc
ﬂows from non-working days were also excluded to avoid
additional statistical errors. Additionally, to eliminate the
inﬂuence of transport network, the measurements were car-
ried out only on modalities which were connected to the
regional centre via 100 Mbps or faster links. The whole
trafﬁc generated by these modalities was captured by the
tcpdump tool and it was then statistically analysed. Pear-
son’s chi-square test [2] was used to validate the ﬁdelity
of distribution functions and their parameters, which were
chosen to describe trafﬁc ﬂows generated by CT and CR
modalities.
A. Computed Radiography Modality
In the case of CR modality there were 392 inter-request
times identiﬁed and measured between subsequent TCP con-
nections. The values measured ranged from 8s to 25963s. It
was also evident that a CR transmission consisted of random
206
ICSNC 2011 : The Sixth International Conference on Systems and Networks Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-166-3

bursts of TCP connections. Each burst contained from one
to seven separate connections. Therefore it was desirable
to analyse separately the period between subsequent bursts,
the number of TCP connections in a burst and the duration
between TCP connections within a burst.
Without a detailed semantic analysis of the trafﬁc-ﬂows it
is quite difﬁcult to specify the boundaries of the bursts and
decide if a given TCP connection belongs to the current
burst or represents the beginning of the next burst. We
empirically chose a period of 150 seconds to limit the length
of each burst. After excluding the extremely outlying values,
the periods between subsequent bursts were ranged in the
interval from 150s to 3986s with a sample mean of 837.63s
and a sample standard deviation of 840.01s.
We assumed that the length of the period between bursts
was of exponential distribution with probability density
according to (1).
f(x) = 1
λe− x
λ
(1)
for x > 0, where λ > 0 is the parameter to be speciﬁed
based on the measurement results.
In the case of exponential distribution parameter λ equals
the mean-value of the random variable. The sample coun-
terpart of the mean is the average of the values in the
selective statistical population, which means that the period
between the beginnings of two subsequent TCP bursts can
be described by exponential distribution with parameter λ =
837.63s.
The period between subsequent TCP connections within
a burst ranges from 8s to 150s. After excluding the most
outlying values, we obtained 150 values between 8s and
116s. These values were symmetrically centred around an
obvious mean. A random variable with normal probability
distribution was therefore assumed with the probability
density according to Eq. (2):
f(x) =
1
√
2πσ exp(−(x − µ)2
2σ2
),
(2)
-∞ < x < ∞, where µ ∈ (-∞, ∞) and σ > 0 are constants
and can be derived from the values measured.
The mean value of a random variable with normal distri-
bution is equal to parameter µ and the standard deviation is
equal to parameter σ. The selective counterpart of the mean
is the average of the values in the statistical population. The
selective counterpart of the standard deviation is represented
by the sample standard deviation according to Eq. (3):
σ =
1
n − 1(
X
(xi − xs)2)
1
2 .
(3)
After applying these presumptions on the values measured
we found that the period between the beginnings of two
subsequent TCP connections within a burst is normally
distributed with parameters µ = 57.87s and σ = 27.88s.
Each of the bursts examined contained a random number
of TCP connections, from one to seven. Based on an
empirical evaluation we assumed that the number of TCP
connections in a burst has a Poisson probability distribution
with the following probability function Eq. (4):
P(x) = λχe−λ/x!.
(4)
The mean value of a random variable with the Poisson
distribution is equal to parameter λ. The selective counter-
part of this mean is the average of the values in the statistical
population.
In our analysis we dealt with a total of 225 values of
one to four connections and found that the number of TCP
connections in a burst can be described by the Poisson
probability distribution with parameter λ = 1.45s.
Finally we had to statistically describe the amount of
data transmitted within the TCP connections. In total we
had 401 TCP connections captured for the CR modality.
From these connections, 301 represented a transmission of
10.25MB of data and the remaining 100 cases corresponded
to a transmission of 8.5MB each. This behaviour can clearly
be described by an alternative distribution of probability 0.25
for 8.5MB and 0.75 for 10.25MB.
B. Final notes on statistical analysis
For any of the CR modalities neither the beginnings of
the TCP sessions nor the amount of transmitted data shows
any sign of dependence, which means that in the simulation
model we can consider the beginnings of the TCP sessions
and the amount of data to be independent. We used the pivot
table to verify the independence of these parameters.
III. SIMULATION OF TELEMEDICINE APPLICATION
A. Description of the simulation model
Within our simulations we examined the impact of total
link capacity and differentiated queue management on the
response-time of the CR modalities. For this purpose a
simulation model was built in the OPNET Modeler sim-
ulation environment
[3]. The model consisted of 8 traf-
ﬁc sources with CR trafﬁc-proﬁle. Additional background
trafﬁc was modelled by TCP sources generating trafﬁc
bursts with Poison distribution. During the simulations, the
application-level response-time was evaluated. Because of
close behavioural analogy, the FTP (File Transfer Protocol)
protocol was used to model the TCP communication of the
modalities. To simulate limited link capacities, rate-limiting
was applied to the common communication link. All the
other communication links operated at a full speed of 1Gbps.
The inter-request time, ﬁle size and number of repetitions
were conﬁgured according to the results of the statistical
analysis. The inﬂuence of controlled queue management was
veriﬁed by using the WFQ (Weighted Fair Queuing) [4], [5]
scheduling scheme. This scheduling scheme was chosen due
to its frequent use in real networks installations.
207
ICSNC 2011 : The Sixth International Conference on Systems and Networks Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-166-3

25
30
35
40
45
50
55
60
65
70
50000
100000
150000
200000
250000
300000
350000
Upload response time [s]
Time [s]
5Mbps total link capacity, 1 preferentially treated CR modality
18
19
20
21
22
23
24
25
50000
100000
150000
200000
250000
300000
350000
Upload response time [s]
Time [s]
10Mbps total link capacity, 1 preferentially treated CR modality
13.8
14
14.2
14.4
14.6
14.8
15
15.2
15.4
15.6
15.8
50000
100000
150000
200000
250000
300000
350000
Upload response time [s]
Time [s]
20Mbps total link capacity, 1 preferentially treated CR modality
Without WFQ
WFQ, 20% reserved
WFQ, 30% reserved
WFQ, 50% reserved
WFQ, 80% reserved
a)
b)
c)
Figure 1. Impact of the relative distribution of link-capacity between WFQ
queues for 5Mbps (a) 10Mbps (b) and 20Mbps (c) links in the case of 8
CR modalities
B. Simulation results
The impact of the bandwidth distribution between WFQ
queues on the response time of one preferentially treated
CR modality is shown in Fig. 1a) to 1c). The background
trafﬁc is processed by the second queue, which can use
the remaining capacity of the communication link. It is
evident that for the CR modality the bandwidth guarantee
has a clearly positive impact on the response time. It is
also evident that the resulting effect of WFQ scheduling
depends on the total link capacity. More exactly, in the case
of the 5Mbps total link-capacity at least 50% of the capacity
must be guaranteed for the selected CR modality to achieve
a shorter response time than without the use of WFQ.
For higher link capacities already the guarantee of 20% of
capacity brings improvements. Simulation results show that
the improvement is relative and the absolute response times
are dependent on the actual connection speed.
IV. CONCLUSION
After a comparison of the simulation results with the
network administrators’ practical experience we found that
our simulation model showed very good matching with
the measurement results obtained from real networks. It
means that the simulation model can be used to estimate
the required link capacity if we know the type and number
of corresponding modalities.
The simulation scenarios clearly showed that for a given
combination of devices it is possible to specify a minimum
data rate for which the average response time will remain
within the required limits. It was also found that preferential
treatment can decrease the response time for Computed
Radiography.
We have for some time been working on the statistical
models for the remaining modalities. If completed, they will
also be integrated into the simulation model and used for the
optimization.
ACKNOWLEDGMENT
This paper has been supported by the Grant Agency of
the Czech Republic (Grant No. GA102/09/1130) and the
Ministry of Education of the Czech Republic (Project No.
MSM0021630513).
REFERENCES
[1] K. Slavicek, M. Javornik, O. Dostal, ”Technology back-
ground of international collaboration on medicine multimedia
knowledge base establishment”, Proc. 2nd WSEAS Interna-
tional Conference on Computer Engineering and Applications
(CEA’08), Acapulco, Mexico, pp. 137-142, 2008.
[2] P. E. Greenwood, M. S. Nikulin, A guide to chi-squared testing,
Wiley-Interscience, New York, 1996.
[3] OPNET Technologies, OPNET Modeler Product Documenta-
tion Release 15.0, 2009.
[4] K. I. Park, QoS in Packet Networks, Springer, New York, 2004.
[5] L. Rucka, J. Hosek, K. Molnar, ”Advanced Modelling of
DiffServ Technology”, Proc. 32nd International Conference on
Telecommunications and Signal Processing, Budapest, Hun-
gary, pp. 1-6, 2009.
208
ICSNC 2011 : The Sixth International Conference on Systems and Networks Communications
Copyright (c) IARIA, 2011.     ISBN: 978-1-61208-166-3

