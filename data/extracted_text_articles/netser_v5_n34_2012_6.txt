236
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
Association Control for Wireless LANs:
Pursuing Throughput Maximization and Energy Efﬁciency
Oyunchimeg Shagdar∗, Suhua Tang†, Akio Hasegawa†, Tatsuo Shibata†, Masayoshi Ohashi†, and Sadao Obana‡
Email: oyunchimeg.shagdar@inria.fr, {shtang, ahase, shibata, ohashi}@atr.jp, and obana@cs.uec.ac.jp
∗ IMARA Project-Team, INRIA Rocquencourt
Domaine de Voluceau, B.P. 105 78153, Le Chesnay, FRANCE
† ATR Adaptive Communications Research Laboratories
Hikaridai, Keihanna Science City, Kyoto, JAPAN
‡ Graduate School of Informatics and Engineering, University of Electro-Communications
1-5-1 Chofugaoka, Chofu, Tokyo, JAPAN
Abstract—Because the access points (APs) and the stations
(STAs) of a community access network are deployed at the
users’ desired places, the APs and STAs tend to concentrate
in certain areas. A concentration of STAs often results in the
AP(s) and STAs in that particular area suffering from severe
congestion. A concentration of APs, on the other hand, may
cause energy wastage. While a number of association control
schemes are proposed to alleviate congestion in WLANs, the
existing schemes do not necessarily maximize throughput and do
not consider energy consumption. In this paper, we analytically
formulate the network throughput as the multiplication of the
success probability, frame transmission rate, and channel air-time
ratio. The second and third components can easily be monitored
and controlled based on measurements of local link and channel
condition using the off-the-shelf WLAN devices. On the other
hand, the ﬁrst component, success probability is a function of
the number of contending nodes that is extremely difﬁcult to
monitor in overlapping WLANs. Due to this reason, we extend
our theoretical study and show that success probability can be
indirectly maximized by controlling air-time ratio. Finally, we
propose an association control scheme that aims at maximizing
throughput and reducing energy consumption by taking account
of the multiplication of frame transmission rate and air-time
ratio. The proposed scheme is evaluated by computer simulations
and testbed experiments conducted under real-world complex
scenarios with UDP and TCP trafﬁc. Both the simulations and
actual implementations conﬁrm the correctness of the theoretical
work and the effectiveness of the proposed scheme.
Index Terms—association control; throughput maximization; suc-
cess probability; air-time ratio; congestion alleviation; energy
efﬁciency
I. INTRODUCTION
Due to the increasing popularity of WLAN technology,
users (i.e., STAs) are often in the vicinity of one or more
APs deployed at ofﬁces, school campuses, hotspot areas (e.g.,
cafes, train stations, airports), and individuals’ homes. Such a
widespread deployment of WLAN triggered a launch of com-
munity access networks, including FON [2], which are built
exploiting user-owned APs. As community access networks
enable users to enjoy ubiquitous Internet access, it has the
potential to play an important role in the future networking
paradigm.
The APs of a community access network are deployed at the
users’ desired places. Therefore, the fundamental difference
Train station (Akihabara)
Condominium building
McDonalds
Circle1
Circle3
Circle2
Circle4
600m
600m
FON AP
Figure 1.
A map showing locations of FON APs in 600m×600m area in
Tokyo. 8 out of the total 16 APs are concentrated in a small area (1/8 of the
overall area). (The information is taken from maps.fon.com on July 20, 2010)
of community networks from, e.g., enterprise wireless access
networks is that a systematic placement of the APs is not
possible. In community networks, APs are often concentrated
in areas such as a residential street, and their distribution
is highly non-uniform. Fig. 1 shows a FON map for an
approximately 600m×600m area in Tokyo (near Akihabara
station). Out of the total 14 APs installed in the overall area,
8 APs are concentrated in a small area in the upper left part of
the map (approximately 1/8 of the overall area). The majority
of these APs are in fact deployed in a condominium building,
where residential homes, a caf´e, conference spaces, and a
ﬁtness centre are. The remaining 6 APs are distributed in the
rest 7/8 of the overall area as shown in the ﬁgure. STAs (i.e.,
users) are, on the other hand, expected to be concentrated in
public places, such as caf´es and train stations. Therefore, it
is clear that STAs and APs are not necessarily concentrated

237
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
in a same area. A concentration of STAs often results in the
AP(s) and STAs in that particular area suffering from severe
congestion [3]-[4]. A concentration of APs, on the other hand,
may cause energy wastage [5].
Congestion can be effectively alleviated by a proper associa-
tion control. Indeed, a number of association control schemes
are proposed for WLANs, mainly aiming at load balancing
among cells under different deﬁnitions of load (e.g., load is
deﬁned as the number of nodes in [3], [6], channel condition
in [7], and trafﬁc rate in [8], [4]).
In [1], we analytically formulated the throughput maxi-
mization problem for overlapping WLANs, and showed that
the existing schemes do not necessarily operate towards
throughput maximization. The throughput can be expressed
as the multiplication of three components: success probability,
frame transmission rate, and air-time ratio (ATR). The success
probability is the probability of collision-free transmission and
it is a function of the number of contending nodes. The frame
transmission rate is the speed of the data transmission, and it
is a function of the link quality. ATR is the ratio of the channel
busy time to the total time. While link quality and ATR can
easily be monitored in WLAN systems, counting the number
of contending nodes is extremely difﬁcult because the nodes
can be beyond the transmission range of each other. Thus
in [1], we proposed an association control scheme that aims
at throughput maximization by maximizing the multiplication
of frame transmission rate and ATR. Success probability is
indirectly maximized by controlling ATR. Moreover, because
the existing association control schemes aim at load balancing
among cells, they tend to use all the existing APs. However,
especially in AP-concentrated areas, throughput maximization
can be achieved by utilizing fewer APs. Such an association
control provides a positive impact on energy efﬁciency since
the unused APs can be in the power-saving mode. Indeed
the proposed scheme does not aim at load balancing and it
can reduce the number of active APs without hampering the
network throughput.
This paper extends our work by a detailed theoretical study
and extensive performance investigations. More speciﬁcally,
the contributions of this paper are:
• An analytical study that explains why and how the
success probability can be maximized by controlling air-
time ratio.
• An extensive investigation of the proposed scheme
through testbed evaluations targeting UDP and TCP traf-
ﬁc in complex real-world scenarios.
The remainder of the paper is organized as follows. Sec-
tion II formulates the throughput maximization problem and
introduces the related works. In section III, we provide a
theoretical study on ATR and its relation with success proba-
bility. Section IV introduces the proposed association control
scheme that aims at maximizing network throughput and
reducing energy consumption. Sections V and VI evaluate the
proposed scheme through computer simulations and testbed
experiments. Finally, we conclude the paper in section VII.
II. PROBLEM FORMULATION AND RELATED WORK
The throughput of a node in a WLAN operating under
DCF (Distributed Coordination Function) is expressed as
follows [9], [10].
s =
PsPtrE[P]
(1 − Ptr)σ + PtrT
(1)
Here, E[P] is the average data size, Ptr is the probability that
there is at least one node transmitting in the sensing range of
the node, and Ps is the probability of a successful transmission.
σ is the slot time and T is the average time required for
transmission of a data (includes DIFS and etc.). The numerator
of (1) corresponds to the successfully transmitted payload
length and the denominator is the total time. The former
and the latter components of the denominator are the time
that channel is idle and busy (either due to successful or
unsuccessful transmissions), respectively.
The transmission of a data is successful if the frame is not
collided and the frame does not contain errors (due to poor link
quality). Thus, letting Psc and Pse represent the probabilities
of the former and the latter events, respectively, Ps=Psc×Pse.
Psc (in what follows we call Psc as success probability) is
expressed as
Psc = τ(1 − τ)n−1
1 − (1 − τ)n
,
(2)
where n is the number of nodes. τ is the channel access
probability, which is determined by the contention window
size (CW) and the probability that a node has a frame to
transmit [10].
Letting r≡Pse×E[P]/T, we rewrite (1) as
s = Psc×r×
PtrT
(1 − Ptr)σ + PtrT
.
(3)
E[P]/T, the average frame transmission rate, is variable if
rate adaptation is deployed at MAC (Medium Access Control
protocol), and it is ﬁxed otherwise. If rate adaptation is
deployed, the better the link quality (stronger RSSI), the
higher is the selected transmission rate. Furthermore, if the
rate adaption operates such that packet error rate (PER) is
minimized (i.e., Pse is maximized), the second component of
(3), r, depends mainly on the selected transmission rate, i.e.,
r≈E[P]/T. The last component of (3) is the ratio of time the
channel is determined to be busy to the total time. Letting ATR
(air-time ratio) represent the last component, the throughput
of a node is the multiplication of Psc, r, and ATR.
Finally, the throughput maximization problem for a network
that consists of multiple overlapping WLANs is the maximiza-
tion of
S =
N
X
i=1
ni
X
j=1
si,j
,
(4)
where N is the number of cells, ni is the number of STAs at
the ith cell, and si,j is the throughput of the jth STA at the ith
cell. It should be noted that the nodes that operate under the

238
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
same frequency channel and that are in each others’ sensing
range share the same Psc and ATR regardless if they associated
with a same or different APs.
In the traditional AP selection policy, a STA associates with
the AP corresponding to the strongest RSSI. Thus, such a
scheme takes account of only the second component of (3), r.
However, increasing r alone does not necessarily increase the
total throughput, especially when STAs distribution is highly
non-uniform. In such a scenario, it is possible that most of
the STAs select a same AP (because they are closer to that
AP). As it can be seen in (2), Psc decreases sharply with
the increase of n (because the numerator approaches zero
and denominator approaches 1). Thus, in such a case, the
throughput of the traditional scheme is poor because of a
small Psc for the crowded cell(s) and likely a small ATR for
the scarce neighboring cell(s). This suggests distributing STAs
to the existing cells. Indeed several schemes are proposed to
distribute the number of STAs among cells, and some of them
take account of the link quality (RSSI in [3], and packet error
rate in [6]). A drawback of these schemes is that they do not
consider ATR, the channel availability.
Reference [7] proposed to balance effective channel busy-
time (i.e., time the channel is busy for successful trans-
missions) among cells. Because it does not discriminate the
time corresponding to unsuccessful transmissions and the idle
time, [7] may suffer from such estimation errors. Moreover,
because [7] ignores offered trafﬁc volume, it might take a long
time until load is balanced.
ATR is also the ratio of the amount of bandwidth consumed
for transmissions to the total bandwidth. Thus, an increase of
the offered trafﬁc volume (injected trafﬁc) increases ATR until
it reaches its saturation value. Further increase of the offered
trafﬁc, however, results in congestion (i.e., buffer overﬂow)
that signiﬁcantly hampers communication performance. Since
a cell with a small ATR can accommodate additional trafﬁc,
the overall throughput can be improved by moving STAs from
the congested cell to such a non-congested cell. References [8],
[4] proposed schemes that balance trafﬁc volume among cells.
A drawback of the schemes is that they do not consider the fact
that the overlapping cells operating under the same frequency
channel share the same channel resource. Moreover, [7], [8],
[4] do not consider the link quality (the second component
of (3)), and thus they may force STAs to use links with
poor quality, degrading the users’ throughput. To the best of
our knowledge, none of the existing schemes takes account
of the overall of (3), thus they do not necessarily maximize
throughput.
To this end, we propose an association control scheme
that takes account of the overall of (3). The direct target
of the proposed scheme is to maximize the sum of the
multiplication of the second and third components of (3), r and
ATR, by taking account of RSSI, ATR, and the offered trafﬁc
volume. The success probability, Psc, is indirectly maximized
by maintaining ATR smaller than a threshold value. The next
section provides an analytical study on why and how Psc can be
maximized by controlling ATR. An important difference of the
1.E-05 
1.E-04 
1.E-03 
1.E-02 
1.E-01 
1.E+00 
0 
20 
40 
60 
80 
100 
Success probability (Psc) 
Number of nodes (n) 
q=0.1 
q=0.5 
q=1.0 
Figure 2.
Success probability as a function of the number of contending
nodes. The ﬁgure shows that Psc sharply decreases with the increase of the
number of nodes. The smaller the probability of having a pending frame (q),
the larger is the Psc.
proposed scheme from the previous schemes is that because
both the offered trafﬁc and channel availability are estimated
for each cell, the proposed scheme does not aim at load
balancing. This enables the scheme to maximize throughput
by utilizing fewer APs, providing a positive impact on energy
efﬁciency.
III. STUDY ON AIR-TIME RATIO AND SUCCESS
PROBABILITY
Equation (3) shows that the throughput of a node can be
expressed by the multiplication of the three components: the
success probability (Psc), the average data transmission rate
(r), and air-time ratio (ATR). The ﬁrst and second components
are further expressed as functions of the number of contending
nodes (n) and link quality (RSSI), respectively. RSSI and ATR
are local link and channel condition that can easily be moni-
tored using the existing WLAN devices. On the other hand, the
nodes that contribute Psc can be beyond the transmission range
of each other (i.e., they cannot correctly receive the packets
from each other). Therefore it is an extremely difﬁcult task to
count the number of such nodes.
This section will show that the success probability (Psc)
can be indirectly maximized by controlling the air-time ratio
(ATR). Before getting into the details, we will ﬁrst show that
it is necessary to maximize Psc for throughput maximization.
As (2) shows, Psc is a function of the number of nodes and
the channel access probability (τ). τ is further expressed in
[10]
τ = q ×
1 + PLretry
k=1 (1 − Psc)k
CW0[1 + PLretry
k=1 2k(1 − Psc)k]
,
(5)
where q is the probability of having a pending data frame
(to transmit), CW0 is the minimum contention window size,
and Lretry is the frame retransmission limit [11]. We now
calculate the success probability (using (5) and (2)) for the
IEEE 802.11a system [11]. Table I shows the parameters used
in the calculation. Fig. 2 shows the success probability (Psc)

239
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
PLCP 
Preamble 
SIG SER 
Protocol Headers  
(MAC, IP, UDP) 
          DATA (E[P]) 
FCS 
Transmitted at 6Mbps 
transmitted at a selected data rate (TxRate) 
PLCP 
Preamble 
PLCP 
Header 
MAC_H 
FCS 
Transmitted at 6Mbps 
T(DATA) 
T(ACK) 
PLCP Header 
PSDU 
Figure 3.
T’ the sum of the times required for transmissions of a data frame
and the corresponding acknowledgment frame. PLCP SIGNAL ﬁeld duration
and ACK frame are generally coded with 1/2 BPSK (i.e., 6 Mbps rate) in the
IEEE 802.11a systems. The shaded area of the data frame is transmitted at a
rate (TxRate) selected by the MAC rate adaptation mechanism.
for different numbers of nodes. While the smaller the q, the
larger is the Psc, it is clear that Psc sharply degrades with the
increase of the number of nodes (note that the vertical axis is
on a logarithmic scale).
We now express ATR by Psc. Ptr, the probability that there
is at least one station transmits (see (1)) is
Ptr = 1 − (1 − τ)n
.
(6)
By substituting Ptr to the formula of ATR (the 3rd com-
ponent of (3)), the following relation of ATR and Psc can be
achieved.
ATR =
1
Psc
(1−τ)σ
T’τ
+ DIFS+SIFS
T’
+ 1
(7)
Here T’ is the time required for the transmission of a data
frame without including the inter-frame spaces (DIFS and
SIFS). Because T’ is more convenient to monitor than T
(which includes the inter-frame spaces) in the real systems, we
use T’ in this and the following sessions. For simpliﬁcation
of the mathematical calculations, we target the basic access
method (i.e., the RTS/CTS (Request to Send and Clear to
Send) handshake is not used). In such a case, T’ is the sum
of the average time required for the transmissions of a data
frame and the corresponding acknowledgement frame (ACK)
(see Fig. 3).
Substituting (7) to (3), the throughput of a node is expressed
slightly differently from (3):
s = r’ ×
1
(1−τ)σ
T’τ
+ ( DIFS+SIFS
T’
+ 1) 1
Psc
,
(8)
where r’=E[P]/T’.
Using (8), (5), and (2) we now calculate the throughput
for the IEEE 802.11a system. In the IEEE 802.11a, the
acknowledgement frame (ACK) and the SIGNAL ﬁeld of the
PLCP header (the PLCP header ﬁelds excluding the SERVICE
ﬁeld) are generally coded with 1/2 BPSK (6 Mbps). The PSDU
(physical layer service data unit) and the SERVICE ﬁeld of
the PLCP header in the data frame (the shaded part in Fig. 3)
TABLE I
PARAMETERS USED IN THE PERFORMANCE ANALYSIS
Parameter
Value
Note
σ
9µs
Slot time
SIFS
16µs
Short Inter-Frame Space
DIFS
34µs
DCF Inter-Frame Space
CW0
16
Minimum contention window size
Lretry
4
Frame retransmission limit
PLCP preamble
16µs
PLCP preamble duration
PLCP SIG
3 bytes
PLCP SIGNAL ﬁeld length
PLCP SER
4 bytes
PLCP SERVICE ﬁeld length
MAC H of data frame
24 bytes
MAC header of data frame
MAC H of ACK frame
10 bytes
MAC header of ACK frame
FCS ﬁeld
2 bytes
IP header size
40 bytes
IPv6 header
UDP header size
8 bytes
E[P]
500 bytes
Data size
0 
5 
10 
15 
20 
1.E-03 
1.E-02 
1.E-01 
1.E+00 
Throughput (s) [Mbps] 
Success Probability (Psc) 
6Mbps 
12Mbps 
24Mbps 
54Mbps 
Figure 4.
The throughput performance as a function of the success
probability. The ﬁgure shows that for a sufﬁcient throughput is achieved only
when the success probability is large.
are subject to the MAC rate adaptation and thus we calculate
the corresponding transmission time for different data rates.
Fig. 4 shows the impact of the success probability, Psc, on the
throughput performance for different data rates. First of all,
the ﬁgure shows that higher the utilized data rate (i.e., better
link quality), the larger is the achieved throughout, implying
the necessity of considering the link quality, i.e., the second
component of (3). An important observation that can be made
from the ﬁgure is that a sufﬁcient throughput can be achieved
only when Psc is large.
Now we will show the impact of Psc on ATR. In fact we
can easily see in (7) that ATR takes on its maximum value,
ATRmax, when Psc is 0. In this case, however, the channel is
occupied with packet collisions, and obviously, the throughput
is minimized (see Figure 4). On the other hand, if Psc is 1
(i.e., channel utilization is maximized), ATR takes on a value
smaller than ATRmax, implying that the optimal value of ATR,
ATRopt is below ATRmax [12].
Now we will have a closer look at the relationship of ATR
and Psc. We substitute (5) to (7) and calculate ATR for the
IEEE 802.11a system.

240
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
0 
0.1 
0.2 
0.3 
0.4 
0.5 
0.6 
0.7 
0.8 
0.9 
1 
0 
0.1 
0.2 
0.3 
0.4 
0.5 
0.6 
0.7 
0.8 
0.9 
1 
0 
0.2 
0.4 
0.6 
0.8 
1 
ATR 
Psc 
E[P] = 1000 bytes 
E[P] = 500 bytes 
Figure 5.
ATR characteristics with respect to the success probability, Psc.
Note that the solid (dashed) lines correspond to 500 bytes (1000 bytes) of data
size. The ﬁgure clearly shows that ATR is maximized when Psc is minimized.
The optimal value of ATR (that maximizes Psc) is smaller than the maximum
value of ATR. The ﬁgure also shows that the larger the data rate, the smaller
is the ATR and the larger the data size, the larger is the ATR.
Fig. 5 shows the ATR characteristics with respect to Psc for
different data sizes (E[P]) and data rates. The ﬁgure clearly
shows that ATR is maximized when Psc is minimized; an
increase of Psc results in a gradual decrease of ATR. Moreover
the larger the utilized data rate, the smaller is the ATR; the
larger the data size, the larger is the ATR. The ﬁgure clearly
shows that different optimal values exist for different data rate
and data size. For example ATRopt is 0.57, 0.66, 0.88, and 0.92
for the data rate and data size combinations of (54 Mbps,
500 bytes), (54 Mbps, 1000 bytes), (6 Mbps, 500 bytes), and
(6 Mbps, 1000 bytes), respectively. (ATRopt are shown with
the round markers in the ﬁgure).
Our objective is to ﬁnd a threshold value, ATRth, which
is used by our association control scheme to ensure Psc be
sufﬁciently large. Because ATRopt takes on different values
depending on the data size and the data rate, it is maybe
possible to design a mechanism that ﬁnds the exact ATRopt and
set ATRth to that value. However, designing such a mechanism
can be very complex because it requires a precise estimation
of the average data rate and the average data size. We believe
that it is simple and thus realistic to set ATRth to a ﬁxed value.
In WLANs, the users can be very close to the APs, i.e., the
link quality (RSSI) can be good enough for a use of the highest
data rate. Thus, it is safe to set ATRth to ATRopt corresponding
to the highest data rate (i.e., 54 Mbps for the IEEE 802.11a).
The data size, on the other hand, can be monitored or it can
be set to a value, which is used by the typical applications.
Thus according to Fig. 5, if the data size is 500 bytes, ATRth
should be set to 0.57. In fact, in our previous work [1], we
have empirically found that it is appropriate to set ATRth to
0.58 for WLANs for scenarios where data size takes on a
value between 500 to 540 bytes. The analytical calculation
achieved in Fig. 5 proves the correctness of the empirically-
found threshold value.
As the success probability, Psc, can be maximized by main-
Status 
information
STA
AP
Corresponding 
node (CN)
Control manager
Information server
Internet
STA
AP
Figure 6.
Besides having user-owned APs and STAs, the target community
network has a centralized control manager. The information that are necessary
for network management is collected by APs and/or STAs and gathered at an
information server.
taining ATR below the threshold value (ATRth), the throughput
maximization problem can be rewritten as
Maximize
S = PN
i=1
Pni
j=1[ri,j×ATRi,j]
.
subject to
ATRi,j < ATRth
∀(i, j)
(9)
where N is the number of cells, ni is the number of STAs at
the ith cell. ri,j and ATRi,j are the average frame transmission
rate and ATR corresponds to the jth node at the ith cell.
IV. PROPOSED SCHEME
A user-owned AP is integrated into a community network by
a common equipment/software program provided by the entity
(e.g., FON [2]). Besides integrating users’ APs, the entity can
play an important role for, e.g., network management for better
communication quality. Hence, community networks are cen-
trally controllable and we expect that the community members
(i.e., the users) are cooperative to such a control. To this end,
while a distributed mechanism can also be designed, in this
paper, we propose a centralized association control scheme due
to ease of management and better performance [7], [8], [5].
The proposed scheme aims at maximizing network throughput
by a congestion alleviation mechanism and reducing energy
consumption by a cell aggregation mechanism. For a large
community network, the network can be divided into sub-
networks, which are independently and separately controlled.
Fig. 6 shows the network architecture.
Besides APs and STAs, the network has an information
server (server) and control manager (manager). The server and
manager can be physically separated or coexist in a same
machine. APs and STAs periodically inform the server of
information on the link quality, channel availability, and trafﬁc
volume. Periodically referring to the information, the manager
triggers STAs’ handover for improved network throughput
and/or energy efﬁciency.
A. Estimation of Channel Availability and Offered Trafﬁc
STAs and APs measure RSSI, ATR, and the offered trafﬁc
volume, and inform the server of the information. The manager

241
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
uses the information to estimate channel availability and trafﬁc
condition for each cell, and changes STAs associations.
• Frame transmission rate
By periodically performing channel scanning, STAs are aware
of the existence of the neighboring APs and the corresponding
RSSIAP,STA. Such background scanning is supported by the off-
the-shelf wireless LAN cards [13], and some efforts have been
made for fast channel scanning [14]. Transmission rate for
frame payload ﬁeld is estimated from RSSIAP,STA and ﬁnally
the frame transmission rate, rAP,STA (≈E[P]/T), for each pair
of STA and AP is calculated.
• ATR
Because ATR value does not largely change over the space
(e.g., it is around the same in the transmission range), only APs
measure ATR on their operating channel. Such a measurement
can easily be made using the existing WLAN cards [7], [5],
[15]. We empirically found that the appropriate values for
ATRth are 0.58.
• Potential Throughput
The manager estimates the maximum achievable throughput
for each pair of STA and its neighboring AP (which is not
the STAs currently associated AP). Let PTSTA,AP (potential
throughput) represent the maximum achievable throughput for
such a STA and an AP. Equation (3) shows that the potential
throughput is a function of Psc, the estimated transmission rate
(rAP,STA), and ATRAP. As discussed in the previous section,
however, Psc can be maximized by ensuring ATR below
ATRth. This enables PT to be estimated only from rAP,STA and
ATRAP. Thus the manager calculates PT for each STA and its
neighboring AP as
PTAP,STA=
 0
ATRAP≥ATRth
(ATRth−ATRAP)×rAP,STA
otherwise
.
(10)
The upper equation is to not move the STA to the AP, at
which ATRAP exceeds ATRth. Otherwise, the AP is a candidate
destination AP for the STA, and the maximum achievable
throughput at the candidate cell is expressed as the lower
equation. In our previous work [15], we conﬁrmed that such
an estimation of PT can be achieved with a high accuracy
using the existing WLAN cards.
• Offered Trafﬁc
A STA can be moved to a neighboring AP, if it does not
cause congestion at the neighboring cell. The condition can be
veriﬁed by comparing the offered trafﬁc volume for the STA
and PTSTA,AP (to be discussed later). Letting EnqueueRateA,B
be the rate at which packets destined to node B are inserted
into the IP queue at node A, the offered trafﬁc volume for a
STA is deﬁned as
OfferedRateSTA=EnqueueRateSTA,AP+EnqueueRateAP,STA.
(11)
If the WLAN is the bottleneck link of the end-to-end route,
the OfferedRate is approximately equal to the trafﬁc generation
rate.
B. Congestion Alleviation
A cell is considered to be congested if
ATR>ATRth
.
(12)
If the condition (12) is met for a cell, the manager checks if the
aggregate offered rate exceeds the aggregate packet throughput
for that cell, i.e.,
α
X
STAs
OfferedRateSTA >
X
STAs
PacketThroughputSTA
(13)
Here α (<1) is a system parameter to absorb rate ﬂuctuation.
PacketThroughputSTA is the sum of the rates at which packets
are successfully transmitted on the uplink and downlink for
the STA. The condition (13) indicates that one or more nodes
belonging to the cell are experiencing buffer overﬂow. It is
possible that a cell satisﬁes (12) but not (13), in a case, when
the cell does not have much trafﬁc but the channel is congested
due to the transmission activities at the overlapping cells.
A cell that satisﬁes both (12) and (13) becomes a target cell
of congestion control. Letting APt be the AP of the target cell,
the manager selects STAs to move from APt to its neighboring
cells. The association control is made based on the following
policies:
1) The number of moving STAs should be as small as
possible.
2) A STA should be moved only if it will not cause
congestion at the destination cell.
3) Among the candidate destination APs, the STA should
be moved to the AP corresponding to the strongest RSSI.
The more the number of handovers, the larger is the control
overhead. Thus policy 1 is to minimize the number of moving
STAs. To support this objective, we deﬁne load of a STA, as
LoadSTA=OfferedRateSTA/TxRateSTA,APt. Here TxRateSTA,APt
is the data rate used for transmissions of frame payload
ﬁelds between the STA and APt (the shaded part in Fig. 3).
Obviously, the larger the offered trafﬁc and/or the lower the
transmission rate, the heavier loaded is the STA for APt. For
policy 1, heavier loaded STAs are preferred to be moved (from
APt) over lighter loaded STAs. For policy 2, a STA is moved
to a neighboring AP, APd, only if the condition (14) is met.
OfferedRateSTA < PTSTA,APd
(14)
In other words, the STA is moved to APd only if the destina-
tion cell can accommodate the offered trafﬁc volume for the
STA. Finally, among the candidate destination APs (i.e., the
APs that satisfy (14) for the STA), the AP corresponding to
the strongest RSSI is selected as the destination AP for the
STA.
When a STA, STAm, is selected to be moved from APt,
the manager updates the aggregate offered rate (see (13))
for the target cell by decrementing it by OfferedRateSTAm.
Moreover ATR for the destination cell and its overlapping
cells (which operate using the same channel) is incremented
by OfferedRateSTAm/rAPd,STAm. After updating the values, the

242
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
manager checks if the target cell still satisﬁes (13). If it does,
the manager searches the next STA to move from APt.
• Discussion on TCP trafﬁc
TCP reacts to congestion and controls its rate based on
AIMD (Additive Increase Multiplicative Decrease) algorithm.
However such a rate change occurs in the order of RTT (round-
trip time), i.e., in order of milliseconds, while the control
period at the manager is in order of seconds. Therefore we
expect that the proposed scheme does not react to the AIMD-
based rate ﬂuctuation, but only to the gradual change of
the average rate. Hence, the proposed scheme and TCP can
stably coexist. Moreover because TCP adjusts its trafﬁc rate,
OfferedRateSTA for STA might be largely changed due to the
STAs movement. However, it should be reminded that a STA
is moved to a neighboring cell only if the destination cell
can accommodate the current OfferedRate for the STA (see
(14)). Thus, we expect that TCP throughput will be increased
or maintained after the STAs movement. Furthermore, since
some amount of channel resource is released at the previous
cell of the moving STA, STAs in that cell can now increase
their rate.
C. Cell Aggregation
Since both of the offered trafﬁc volume and the channel
availability are known for each cell, load balancing among
cells is not necessary. Indeed, if all the associated STAs of an
AP can be moved to its neighboring cells without hampering
the network throughput, such STA movements should be
encouraged for energy efﬁciency, since the AP can now be
in the power-saving mode. Our scheme can provide such an
association control based on the following policies:
1) The target AP is an AP that is associated with preferably
few STAs, which all can be moved to the neighboring
cells.
2) To suppress channel interference, the target AP should
have overlapping cells that operate using the same
frequency channel.
3) Policy 2 described in the previous subsection.
4) Policy 3 described in the previous subsection.
The manager triggers a handover only if destination APs are
found for all the STAs of the target AP. A detailed protocol
design for actually putting APs in the power-saving mode is
left for our future work. The main concern of such a protocol
design is to ensure newly arriving STAs are covered by the
network. For such a control, Wake-on-WLAN technology [16]
can be used.
D. Changing STA’s Association
To change a STA’s association, the manager sends a control
frame to the STA, indicating the destination AP and the
corresponding channel information. Such a network directed
association control can be supported by the upcoming IEEE
802.11v [17], which enables APs to explicitly request STAs
to re-associate with an alternate AP.
TABLE II
USER DISTRIBUTION FOR EACH SCENARIO
Circle1
Circle2
Circle3
Circle4
(station)
(condominium)
(McDonalds)
(overall area)
S1
0
0
0
40
S2
10
10
10
10
S3
10
20
0
10
S4
10
20
10
0
S5
20
10
0
10
S6
30
0
0
10
S7
40
0
0
0
V. SIMULATION EVALUATION
Using Scenargie network simulator [18], we investigate the
proposed scheme with and without cell aggregation capability.
The performance of the proposed scheme is compared against:
• Strongest RSSI: The traditional AP selection scheme.
• LB(NumofSTAs): A load balancing scheme [3], which
takes account of the number of STAs and RSSI.
• LB(Trafﬁc): A load balancing scheme [8], where load of
a cell is deﬁned by trafﬁc rate.
In each scheme, STAs initially associate with APs based on the
strongest RSSI policy. In the proposed scheme, STAs inform
the server of the measured information using a 160-bytes
packet. The manager checks the collected information in every
second. 20-bytes of packets are used for handover requests and
replies between the manager and moving STAs. α (see (13))
is set to 0.98.
The performances of the schemes are investigated targeting
the real-world scenario depicted in Fig. 1, where 14 APs are
non-uniformly distributed in a 600×600 m2 area. 8 APs are
concentrated in the small area (around the condominium),
the remaining 6 APs are installed in the rest of the overall
area as shown in the ﬁgure. The network operates using the
IEEE 802.11a [11], using 3 orthogonal frequency channels.
The frequency channels are allocated (to the APs) following
a simple graph coloring technique.
STAs (users) can be anywhere, but it is natural to expect that
users are especially attracted to the public places speciﬁcally,
the train station, condominium building (for the caf´e), and
McDonalds shown in the target area. Thus, in our simulations,
40 STAs are distributed in the circle-shaped areas centered at
the 1) train station, 2) condominium building, 3) McDonalds,
and 4) the center of the map, with a radius of 100, 10, 10
and 300 meters, respectively (see Fig. 1). The ﬁrst three areas
are to create users concentration in the public places, while the
last area is for uniform distribution of users in the overall area.
Table II shows the simulation scenarios, which have different
number of STAs in each circle-shaped area. The smaller the
scenario number, the more uniform is the STAs’ distribution.
The simulation evaluations are conducted for TCP and UDP
trafﬁc. In TCP simulations, STAs upload 5 MB of ﬁle using
FTP/TCP-SACK. In UDP simulations, STAs have uplink and
downlink CBR trafﬁc generated at a random rate in the range
of [0 Mbps, 1.2 Mbps]. The data size is set to 512 bytes for

243
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
0 
10 
20 
30 
40 
S1 
S2 
S3 
S4 
S5 
S6 
S7 
Throughput [Mbps]	
Scenarios 
Strongest RSSI 
LB(NumofSTAs) 
LB(Traffic) 
Proposed(w/o cell 
aggregation) 
Proposed(with cell 
aggregation) 
(a) TCP trafﬁc
0 
10 
20 
30 
40 
S1 
S2 
S3 
S4 
S5 
S6 
S7 
Throughput [Mbps] 
Scenarios 
Strongest RSSI 
LB 
(NumofSTAs) 
LB (Traffic) 
Proposed (w/o 
cell aggregation) 
Proposed (with 
cell aggregation) 
(b) UDP trafﬁc
Figure 7.
Comparing throughput performance for TCP and UDP trafﬁc. The
ﬁgures show that Strongest RSSI scheme is inferior to the remaining schemes
and the proposed scheme shows the best performance.
both TCP and UDP trafﬁc.
Fig. 7 compares the network throughput for the TCP and
UDP trafﬁc. As the ﬁgures show, the performance of Strongest
RSSI scheme is inferior to the remaining schemes and the
proposed scheme shows the best performance. The proposed
scheme with the cell aggregation mechanism achieves around
the same throughput performance as the scheme without cell
aggregation, especially for UDP trafﬁc. The load balancing
schemes have lower throughput than the proposed scheme,
conceivably because they do not take account of the overall
of (3).
The ﬁgures also show that, in general, the throughput tends
to be smaller when STAs’ distribution is less uniform (e.g.,
the throughput of S7 is smaller than that of S5). As discussed
in Section II, the reason is clear for the strongest RSSI scheme
(many STAs select the same AP). The reason for the remaining
schemes is as follows. When STAs are highly concentrated
around a particular AP, the schemes have to move some of
the STAs to farther APs. This reduces the frame transmission
rate, r, for the moving STAs, resulting in lower throughput
compared to that of a scenario where STAs’ distribution is
0 
2 
4 
6 
8 
10 
12 
14 
S1 
S2 
S3 
S4 
S5 
S6 
S7 
Number of active APs	
Scenarios 
Strongest RSSI 
LB(NumofSTAs) 
LB(Traffic) 
Proposed(w/o 
cell aggregation) 
Proposed(with 
cell aggregation) 
(a) TCP trafﬁc
0 
2 
4 
6 
8 
10 
12 
14 
S1 
S2 
S3 
S4 
S5 
S6 
S7 
Number of active APs 
Scenario ID 
Strongest RSSI 
LB (NumofSTAs) 
LB (Traffic) 
Proposed (w/o 
cell aggregation) 
Proposed (with 
cell aggregation) 
(b) UDP trafﬁc
Figure 8.
Comparing the number of active APs for each scheme. The ﬁgures
show that the load balancing schemes tend to use all the existing APs. The
proposed scheme without cell aggregation utilizes around the same number
of APs as that of Strongest RSSI scheme. The proposed scheme with cell
aggregation utilizes the smallest number of APs.
more uniform. Nevertheless, compared with the strongest RSSI
scheme, the overall throughput is improved due to an increase
of the 1st and 3rd components of (3). Finally, S1 (where STAs’
distribution is uniform), however, does not show the largest
throughput due to the non-uniform AP distribution.
Fig. 8 compares the number of active APs, i.e., the number
of APs that actually serve for the users. As the ﬁgure shows,
the load balancing schemes use all the existing APs (except in
scenario S7, where STAs are concentrated only at the train
station). Strongest RSSI scheme, on the other hand, does
not use many APs due to its simple AP selection policy.
The proposed scheme without cell aggregation utilizes around
the same number of APs as that of Strongest RSSI scheme.
Finally, the scheme with cell aggregation utilizes the smallest
number of APs. This is especially attractive because compared
to the existing schemes, the proposed scheme largely improves
throughput by utilizing fewer APs. Our future work includes
a study on how much energy reduction can be achieved by
such an association control.

244
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
EV 
EV 
STA1 
STA2 
STA3 
STA4 
STA5 
STA6 
STA7 
STA8 
STA9 
STA10 
STA11 
STA12 
AP1 
AP2 
AP3 
AP4 
Figure 9.
An active ofﬁce area, which has a complicated room and obstacle
structure and intermittent movement of people, is used as the test environment.
The test scenario consists of 4 APs and 12 STAs. STAs are initially associated
with the APs using the strongest RSSI method.
VI. TESTBED EVALUATION
We implemented the proposed scheme in a wireless testbed
and evaluated its throughput performance. Computers with
Cent OS 5.5 (kernel 2.6.25-17) are used for STAs, APs,
and the manager (note that the manager and server coexist
on a same machine). The APs, the manager, and a source
computer (acting as a corresponding node (CN)) are connected
to a 100 Mbps Ethernet. The APs and STAs are equipped
with IEEE 802.11a WLAN cards made by NEC (Aterm
WL54AG). We modiﬁed the Atheros device driver to enable
measurements of ATR and PacketThroughput (see (13)). The
packet transmission rate from the kernel to the device driver is
monitored to measure EnqueueRate (see (11)). TCP is used for
information collection at the server and for handover requests
and replies.
As the testbed environment, we selected an active ofﬁce
area, which has a complicated room and obstacle structure
and intermittent movement of people. Fig 9 shows the testbed
environment. It consists of multiple rooms connected by long
corridors, surrounding a central well. Unless otherwise noted,
the test system consists 4 access points (AP1-AP4) and 12
STAs (STA1-STA12) that are positioned as illustrated in the
ﬁgure. STAs are initially associated with APs based on the
strongest RSSI method. The relative positioning enables each
AP to be initially associated with 3 STAs (STA1-STA3 are
with AP1, STA4-STA6 are with AP2, STA7-STA9 are with
AP3, and STA10-STA12 are with AP4).
To see the impact of the proposed scheme, the manager is
initially disabled and it is activated after around 40 seconds.
Unless otherwise noted, the offered trafﬁc volume for individ-
ual cells are initially set to be largely different. Moreover, in
order to create trafﬁc dynamics, additional trafﬁc is injected
to some cells after around 30 seconds. To simplify experi-
0 
20 
40 
60 
80 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Throughput [Mbps] 
Time [s] 
Cell 1 
Cell 2 
Cell 3 
Cell 4 
Total 
Manager 
OFF 
Manager 
ON 
Traffic 
increase 
Figure 10.
Throughput performance of the congestion alleviation method. In
this scenario all STAs have CBR/UDP trafﬁc. Upon activation of the manager,
STAs are moved from the congested cells (cells 2 and 3) to the non-congested
neighboring cells (cells 1 and 4). The aggregate throughput is largely improved
by the association control.
0 
0.2 
0.4 
0.6 
0.8 
1 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Packet delivery ratio 
Time [s] 
Cell 1 
Cell 2 
Cell 3 
Cell 4 
Traffic 
increase 
Manager 
OFF 
Manager 
ON 
Figure 11. Packet delivery performance of the congestion alleviation method.
Due to the additional trafﬁc injected after around 30 seconds, the packet
delivery ratio largely degrades down to 60%. Upon activation of the manager,
the delivery performance is recovered back to 100%.
mentation, the CN (corresponding node) generates trafﬁc for
individual STAs (i.e., downlink trafﬁc), enabling the offered
trafﬁc volume to be adjusted only at CN. Three orthogonal
frequency channels of the IEEE 802.11a are allocated such
that AP1 and AP3 share the same channel and AP2 and AP4
use the remaining two channels. The testbed evaluations made
for three scenarios: the ﬁrst scenario is to evaluate congestion
alleviation method for UDP trafﬁc, the second scenario is
to evaluate congestion alleviation method for TCP and UDP
trafﬁc, and the last scenario is to evaluate cell aggregation
method.
A. Congestion alleviation for UDP trafﬁc
CBR/UDP trafﬁc is generated for individual STAs. Initial
setting of the aggregate offered trafﬁc at cells 1, 2, 3 and 4
are 5, 20, 18, and 3 Mbps, respectively. At 30 seconds, the
offered trafﬁc rate for cells 2 and 3 are further increased by
10 Mbps.

245
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
0 
0.2 
0.4 
0.6 
0.8 
1 
0 
20 
40 
60 
80 
100 120 140 160 180 
ATR 
Time [s] 
Cell 1 
Cell 2 
Cell 3 
Cell 4 
Traffic 
increase 
Manager 
OFF 
Manager 
ON 
Figure 12.
ATR measured at each APs. The ﬁgure shows that ATR can be
well tuned by the association control to the desired value.
-2  
0  
2  
4  
6  
8  
10  
12  
14  
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
α×OfferedRate-Throughput 
Time [s] 
Cell 1 
Cell 2 
Cell 3 
Cell 4 
Traffic 
increase 
Manager 
OFF 
Manager ON 
Figure 13.
α× P
STAs OfferedRateSTAs - P
STAs PacketThroughputSTAs at
each cell. The ﬁgure shows that the parameter reacts well to buffer overﬂow.
Figs. 10 and 11 show the time series plots of the throughput
and packet delivery performance for each cell. Because cells 2
and 3 were initially very loaded, the additional trafﬁc injected
to the cells (at around 30 seconds) results in only a slight
increase of the total throughput. As the offered trafﬁc volume
requires a larger resource, as Fig. 11 shows, the cells could
not accommodate the overall offered trafﬁc, and hence the
packet delivery ratio drops down to 60%. Upon activation of
the manager (at around 40 seconds), STAs are moved from
congested cells (cells 2 and 3) to non-congested neighboring
cells (cells 1 and 4), and the packet delivery ratio is maximized
by the association control.
Figs. 12 and 13 show the time series plots of ATR
and α× P
STAs OfferedRateSTAs-P
STAs PacketThroughputSTAs,
the parameters used to trigger congestion control (see (12)
and (13)). Two important observations can be made from
Fig. 12. Firstly, before the congestion (before 30 seconds),
ATR at Cell2 already exceeds the threshold value, but as it
can be seen in Figs. 11 and 13, there was no buffer overﬂow.
This teaches us that ATR above ATRth does not necessarily
indicates buffer overﬂow. The second point can be observed
0 
10 
20 
30 
40 
50 
60 
70 
80 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Throughput [Mbps] 
Time [s] 
Figure 14.
Throughput performance of each cell. In this scenario, TCP and
UDP trafﬁc share the same resource at Cell2. Upon activation of the manager,
a STA with UDP trafﬁc is moved to Cell3. With this association control, more
than 10 Mbps throughput improvement is achieved.
in Fig. 12 is that ATR can be tuned well to the desired
level, ATRth. Fig. 13 shows that α× P
STAs OfferedRateSTAs-
P
STAs PacketThroughputSTAs reacts well to the congestion and
together with ATR, it can be a good indication of congestion
for UDP trafﬁc.
Figs. 10-13 show that unfortunately, it took approximately
6 seconds to complete the handover (without depending on the
number of moving STAs). The 6 seconds are used for 1) MAC
layer disassociation/association, 2) IP route advertisement, 3)
IP duplicate address detection, 4) Mobile IP binding update,
and 5) Mobile IP binding acknowledgement. Among the
operations, there was a software bug corresponding to 2) and
we conﬁrmed that by ﬁxing this bug, handover time can be
reduced down to 3 seconds. We are now working on this issue.
B. Congestion control for TCP and UDP trafﬁc
The CN generates TCP trafﬁc to the STAs at cells 1, 3,
and 4. For Cell2, TCP trafﬁc is generated for STA5, and UDP
trafﬁc is generated for STA4 and STA6. The initial settings
of the maximum offered trafﬁc volume (i.e., the sum of the
CBR rate and the maximum rate of TCP) for the cells 1, 2, 3,
and 4 are 15 , 27, 12, and 15 Mbps, respectively. At around
30 seconds, the UDP trafﬁc for STA4 is further increased by
5 Mbps. Fig. 14 shows the time series plots of the aggregate
throughput and throughput of individual cells. Upon activation
of the manager, STA6 is moved from Cell2 to Cell3. This
improves the aggregate throughput by approximately 10 Mbps.
Fig. 15 gives a closer look at the time series plots of the
individual throughput at Cell2 and Cell3. The offered CBR
rate and the maximum offered TCP rate for each STA are
also noted in the ﬁgure. Until 30 seconds, the UDP throughput
achieved for STA4 and STA6 (in Cell2) are 10 Mbps, which
are equal to the offered rate. On the other hand, the throughput

246
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
0 
2 
4 
6 
8 
10 
12 
14 
16 
18 
20 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Throughput [Mbps] 
Time [s] 
Figure 15.
Throughput of individual STAs at cells 2 and 3. Upon activation
of the manager, STA6 is moved from Cell2 to Cell3. This enables TCP trafﬁc
at STA5 to increase its rate up to its maximum rate and the UDP trafﬁc at
STA4 also achieves its maximum throughput.
of TCP trafﬁc (for STA5) is only 2 Mbps, which is much
lower than the maximum offered rate (7 Mbps). The additional
trafﬁc injected for STA4 (at around 30 seconds) results in
a large throughput degradation for both STA6 and STA5.
The throughput degradation is especially signiﬁcant for the
TCP trafﬁc for STA5 (down to 0 Mbps). This clearly shows
severe unfairness between TCP and UDP trafﬁc. At around 40
seconds, the manager is activated, then STA6 is moved to cell
3. After approximately 5 seconds of handover delay (due to
the issues mentioned in the previous subsection), all the trafﬁc
at both the cells could be transmitted at their maximum rate,
resulting in 10 Mbps of throughput improvement.
In the above mentioned scenario, a STA with UDP trafﬁc
is moved from the congested cell. Fig. 16 shows results
achieved from an experiment where STAs with TCP trafﬁc
are moved. In the experiment, the target scenario consists of
two cells: one has three STAs (STA1-STA3) and the other
has one STA (STA4). The manager is activated at around
70 seconds. STA1 and STA4 have UDP trafﬁc with 25 and
10 Mbps of offered rates, respectively. STA2 and STA3 have
TCP trafﬁc with maximum 6 Mbps of offered rate. As the
ﬁgure shows, until activation of the manager, due to the large
trafﬁc volume offered to STA1, the coexisting TCP trafﬁc
signiﬁcantly reduced their trafﬁc rate down to 0 Mbps. Upon
activation of the manager, the STAs with TCP trafﬁc are moved
from Cell1 to Cell2. The association control results in the
TCPs increase their trafﬁc rate at the destination cell.
The results achieved in Figs. 10-16 also show that monitor-
ing/estimation of trafﬁc, channel, and link condition made at
Layer1-Layer 3 are realized with sufﬁcient accuracy. However
because TCP controls its rate at Layer 4, the OfferedTrafﬁc
estimated at Layer 3 is the result of the TCP’s rate adap-
0 
10 
20 
30 
40 
50 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Throughput [Mbps] 
Time [s] 
STA3 (TCP, 6Mbps) 
Total 
STA1 (UDP, 25Mbps) 
STA4 (UDP, 10Mbps) 
STA2 (TCP, 6Mbps) 
Manager OFF 
Manager ON 
Figure 16.
Thoughput of individual STAs for a scenario where STAs with
TCP trafﬁc are moved (STA2 and STA3). The TCP trafﬁc could achieve
increased throughput at the destination cell.
tation. This implies, on the one hand, that the proposed
congestion alleviation scheme does not negatively affect the
TCP’s congestion control, and the two congestion control
schemes can stably coexist. On the other hand, however, if
the proposed scheme is aware of the TCP’s maximum rate,
further throughput improvement is possible. The following is
a list of some approaches for this challenging task.
• Enhancement of the proposed scheme by tuning the
control parameter (e.g, by increasing α).
• Exploit TCP ﬂow characteristics for association control.
As Figs. 15 and 16 show, if TCP is transmitting at its
maximum rate (i.e., at RWND), the throughput does not
ﬂuctuate with time. On the other hand, if TCP is not
transmitting at its maximum rate, the throughput tends
to ﬂuctuate largely. By monitoring such characteristics,
we believe that it is possible to ”guess” that TCP is not
transmitting at its maximum rate.
• Cross layer approach that enables direct information
exchange between between Layer 4 and Layer 3.
C. Cell aggregation
We evaluate the performance of the cell aggregation tech-
nique. The testbed scenario is the same as shown in Fig. 9.
Each cell has STAs with UDP trafﬁc whose aggregate offered
rate is 9 Mbps, thus congestion is not an issue. Fig. 17 shows
the evaluation result. As the ﬁgure shows, upon activation of
the manager (at around 30 seconds), the STAs at cells 1 and
4 are moved to cells 2 and 3, enabling AP1 and AP4 be in
the power-saving mode. Although the throughput is degraded
during the disconnection period, as soon as the STAs are
associated with the destination APs, the network achieves its
maximum throughput utilizing the half of the total number of
APs.
VII. CONCLUSION
In community WLANs, APs and STAs (i.e., users) tend to
concentrate on different areas. A concentration of STAs often

247
International Journal on Advances in Networks and Services, vol 5 no 3 & 4, year 2012, http://www.iariajournals.org/networks_and_services/
2012, © Copyright by authors, Published under agreement with IARIA - www.iaria.org
0 
10 
20 
30 
40 
0 
20 
40 
60 
80 
100 
120 
140 
160 
180 
Throughput [Mbps] 
Time [s] 
Cell1 
Cell2 
Cell3 
Cell4 
Total 
Figure 17. Throughput performance of the cell aggregation mechanism. STAs
at cells 1 and 4 are moved to cells 2 and 3.
results in the APs and STAs in that particular area suffer from
congestion. A concentration of APs, on the other hand, causes
energy wastage. In this paper, we proposed an association
control scheme that aims at maximizing throughput by con-
gestion alleviation method and reducing energy consumption
by cell aggregation method. We ﬁrst analytically formulated
that the throughput of a node belonging to a WLAN can be
expressed as the multiplication of three components: success
probability, frame transmission rate, and air-time ratio. The
success probability is the probability of collision-free trans-
mission. The frame transmission rate is the speed of the data
transmission, and it is a function of the link quality. The air-
time ratio is the ratio of the channel busy time to the total time.
The frame transmission rate and air-time ratio can easily be
monitored and estimated. The success probability, on the other
hand, is a function of the number of contending nodes, which
are extremely difﬁcult to monitor in the real systems. Due
to this reason, we extended our theoretical study and showed
that success probability can be maximized by controlling air-
time ratio. Finally, we proposed our association control scheme
for throughput maximization and energy efﬁciency by taking
account of the multiplication of frame transmission rate and
air-time ratio. The performance of the proposed scheme is
investigated by extensive evaluations using computer simula-
tions and testbed experiments. Both the simulation and testbed
evaluations strongly indicate the correctness of the theoretical
work and the effectiveness of the proposed scheme for realistic
network scenario with both UDP and TCP trafﬁc. The testbed
experiments prove that the proposed scheme and TCP can
stably coexist for congestion control. We plan to further
enhance the proposed scheme for improved TCP throughput.
In addition to simulation and testbed evaluations, we intend to
evaluate the scheme using statistical analysis. Our future work
also includes a study on energy efﬁciency induced by the cell
aggregation mechanism.
ACKNOWLEDGMENT
This research was performed under research contract of
”Research and Development for Reliability Improvement by
The Dynamic Utilization of Heterogeneous Radio Systems”,
for the Ministry of Internal Affairs and Communications,
Japan.
REFERENCES
[1] O. Shagdar, S. Tang, A. Hasegawa, T. Shibata, and S. Obana.
As-
sociation Control for Throughput Maximization and Energy Efﬁciency
for Wireless LANs.
In Emerging 2011: Proceedings of the Third
International Conference on Emerging Network Intelligence, Lisbon,
Portugal, November 2011. pp. 112-117.
[2] FON Community. http://corp.fon.com/ (last accessed 22/12/2012).
[3] S. Sheu and C. Wu. Dynamic load balance algorithm (dlba) for ieee
802.11 wireless lan. Tamkang Journal of Science and Engineering, 1999.
vol. 2, no. 1, pp.45-52.
[4] H. Velayos, V. Aleo, and G. Karlsson. Load balancing in overlapping
wireless lan cells.
IEEE ICC 2004: Proceedings of International
Conference on Communications, June 2004. vol. 7, pp.3833-3836.
[5] A. J. Jardosh, K. Papagiannaki, E. M. Belding, K. C. Almeroth,
G. Iannaccone, and B. Vinnakota.
Green wlan: On-demand wlan
infrastructures. Springer, Journal on Mobile Networks and Applications,
December 2009. vol. 14, issue 6, pp.798-814.
[6] Y. Fukuda and Y. Oie. Decentralized access point selection architecture
for wireless lans. IEICE Transactions on Communications, 2007. vol.
E90-B, no. 9, pp.675-684.
[7] F. Guo and T-C. Chiueh. Scalable and robust wlan connectivity using
access point array. In IEEE DSN 2005: Proceedings of International
Conference on Dependable Systems and Networks, July 2005. pp.288-
297.
[8] I. Jabri, N. Krommenacker, T. Divoux, and A. Soudani. Ieee 802.11 load
balancing: An approach for qos enhancement. Springer, International
Journal on Wireless Information Networks, 2008. vol. 15, pp.16-30.
[9] G. Bianchi. Performance evaluation and enhancement of the csma/ca
mac protocol for 802.11 wireless lansanalysis of the ieee 802.11 dis-
tributed coordination function. PIMRC’96: Seventh IEEE International
Symposium on Personal, Indoor and Mobile Radio Communications, Oct
1996. vol. 2, pp.392-396.
[10] Q. Zhao, D. H. K. Tsang, and T. Sakurai.
A simple model for
nonsaturated ieee 802.11 dcf networks. IEEE Communications Letters,
September 2009. vol. 12, no. 8, pp.563-565.
[11] IEEE Standard for Information technology Telecommunications and
information exchange between systems-Local and metropolitan area
networks Speciﬁc requirements Part 11: Wireless LAN Medium Access
Control (MAC) and Physical Layer (PHY) Speciﬁcations, June 2007.
IEEE Std 802.11-2007.
[12] H. Zhai, X. Chen, and Y. Fang.
How well can the ieee 802.11
wireless lan suport quality of service. IEEE Transaction on Wireless
Communications, November 2005. vol. 4, no. 6, pp.3084-3094.
[13] MadWiﬁ. http://madwiﬁ-project.org/ (last accessed 22/12/2012).
[14] I. Ramani and S. Savage. Syncscan: practical fast handoff for 802.11
infrastructure networks. INFOCOM 2005: Proceeding of IEEE Interna-
tional Conference on Computer Communications, 2005. vol. 1, pp.675-
684.
[15] S. Tang, N. Taniguchi, O. Shagdar, M. Tamai, H. Yomo, A. Hasegawa,
T. Ueda, R. Miura, and S. Obana. Potential throughput based access
point selection. APCC 2010: Proceeding of IEEE Asia-Paciﬁc Confer-
ence on Communications, 2010. vol. 1, pp.470- 475.
[16] N. Mishra, K. Chebroulu, B. Raman, and A. Pathak. Wake-on-wlan.
WWW 2006: Proceeding of ACM International Conference on World
Wide Web, 2006. pp.761- 769.
[17] IEEE 802.11v: IEEE Standard for Information Technology Telecom-
munications and information exchange between systems Local and
metropolitan area networks Speciﬁc requirements, Part 11: Wireless
LAN Medium Access Control (MAC) and Physical Layer (PHY) spec-
iﬁcations Amendment 8: IEEE 802.11 Wireless Network Management,
February 2011. IEEE Std 802.11v-2011.
[18] Scenargie network simulator. http://www.spacetime-eng.com (last ac-
cessed 22/12/2012).

