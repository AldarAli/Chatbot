The Internet of Things system combined with the cloud platform applied to the data 
collection and analysis of the elderly's home life style 
 
Bing-Hong Jiang 
Institute of Mechatronic 
Engineering of NTUT 
Taipei, Taiwan 
Email: t110408015@ntut.edu.tw 
Jung-Tang Huang 
Institute of Mechatronic 
Engineering of NTUT 
Taipei, Taiwan 
Email: jthuang@ntut.edu.tw 
 
 
Abstract—This study combines Google Cloud Platform (GCP), 
Google Assistant, Firebase and MongoDB for data streaming 
and storage through smart bracelets, smart amulets (9-axis 
IMU), and smart speakers (Google Home Next Mini), and the 
collected data changes are displayed on the webpage 
immediately to form a home care internet of things system for 
the elderly. The experiment visited five groups of families for 
actual testing, with ten people experimenting for one week, all 
wearing the smart bracelet and the smart amulet at the same 
time. The bracelets and amulets were transmitted by Bluetooth 
broadcasting, and received various physiological information 
and posture changes through the peripheral devices, which were 
stored in Firestore (Firebase's no-SQL) and MongoDB and 
analyzed 
by 
Cloud 
Function 
to 
provide 
relevant 
recommendations based on the elderly's body information. 
Finally, the results of the analysis and recommendations are 
broadcasted by smart speakers to improve the bad habits of 
daily life. Lightweight and inexpensive wearable devices will 
reduce the discomfort caused by wearing many sensors in the 
past, and at the same time will reduce the cost of setting up a 
home care Internet of Things system, which will assist the 
elderly in the field of home care by creating a long-term 
automated care system, giving a major boost to the issue of 
elderly care in an aging society. 
Keywords-IoT; Smart Healthcare; Data flow; Big Data 
Analysis;  Cloud Services; 
I. 
 INTRODUCTION  
Many care systems collect various physiological 
information and activity status of the user through many 
wireless technologies and sensors [1] and receive this 
information through peripheral devices or mobile applications 
so that the user can confirm the current physiological status [2] 
[3], thus forming a simple care system. In addition, there are 
also many studies that use a large number of sensors to collect 
large amounts of data for machine learning analysis of sleep 
and behavior of the elderly, aiming to confirm detailed sleep 
status and rhythm of the elderly [4], etc. Sampling of frailty 
gait and fall patterns, or deep learning or visual analysis 
training through open-source datasets provided by medical 
institutions [5], predicts or confirms the occurrence of 
diseases. 
Although the aforementioned studies have employed a 
wealth of research methods and techniques to perform 
different aspects of analysis, they have unfortunately not been 
successfully applied to real-world situations. The extensive 
use of sensors causes user reactions and inconvenience, as 
well as tension; it does not maximize the value of the 
quantified data and causes a decrease in willingness to use. 
These problems make the system less intelligent and 
personalized. 
Therefore, this study only requires the wearing of the 
smart bracelet and the smart amulet to improve the discomfort 
and rebound caused by excessive wearing of sensors in the 
past. The physiological data from the smart bracelet analyzed 
the daily physiological status of the subject, and the data from 
the smart amulet analyzed the walking stability. Several 
studies in the past found that the duration of TUG was closely 
related to moderate and severe Parkinson's disease [6]. The 
duration of TUG can be used to determine whether there is a 
risk of falling. Finally, the analyzed results were 
communicated to the subjects through the smart speaker 
(Google Home Nest mini) as an information disseminator and 
appropriate suggestions were given. 
In Section 2, the experimental system architecture is 
introduced, using Raspberry Pi combined with smart bracelets 
and smart amulets with cloud platform services to form an 
Internet of Things, collecting subjects' physiological data, 
activity posture and movement status in a lightweight way to 
establish a daily physiological model. In Section 3, the actual 
wearing of the smart bracelet and the smart amulet will be 
carried out for daily physiological status and posture 
monitoring experiment, and the data will be collected and the 
subjects will be judged by the "Timed Up and Go Test (TUG) 
evaluation standard" to determine whether they have 
weakness symptoms. In Section 4, the data collected from the 
smart bracelet and the smart amulet are analyzed and the 
conclusions of this paper and the future directions of 
optimization are summarized.  
II. 
SYSTEM ARCHITECTURE 
The Bluetooth devices used in this study are shown in 
Table 1. A complete care system is constructed by lightweight 
and inexpensive devices. The smart bracelet and smart amulet 
are the only devices that need to be worn. The rest of the 
devices are fixed and placed to solve the problem of wearing 
too many sensors while ensuring high accuracy of data. 
The smart bracelet can detect the subject's heart rate, blood 
pressure, body temperature, step count, walking mileage, 
calories and other daily physiological data; the smart amulet 
19
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-056-8
DBKDA 2023 : The Fifteenth International Conference on Advances in Databases, Knowledge, and Data Applications

can collect the subject's posture, movement changes, indoor 
positioning and other data. Since the development of smart 
bracelets in the market has been quite complete and the types 
of physiological data measured are quite comprehensive, 
considering the generality of the future experimental process, 
we designed the smart amulet to receive data from the 
broadcast package of commercially available smart bracelets. 
At the same time, because the smart bracelet function is well 
developed, we choose not to include the smart bracelet 
function when developing the smart amulet. 
TABLE I.  
DEVICES USED IN IOT CARE SYSTEMS 
Device 
Function 
Advantage 
Smart Bracelet 
Blood pressure, Step, 
Mileage, Temperature, 
Heart rate and Calorie 
with bracelet 
protocol, Cheap 
Smart Amulet 
(9-axis IMU) 
Attitude, Motion, Height 
monitoring, Fall 
monitoring, Emergency 
alert and indoor 
positioning 
With 9-axis sensor, 
accurate 
identification 
Smart Speaker 
(Google Home 
Nest Mini) 
Notifications, 
Conversations, Sentence 
Collection and Care 
Google has a series 
of services and 
functions 
Beacon 
Indoor positioning 
Accurate 
positioning function 
Edge Device 
(Raspberry Pi 4B) 
Collect Bluetooth device 
data and store in database 
Speed up data 
processing and 
response time 
 
This study is a combination of cloud platform and Internet 
of Things application, as shown in Figure 1. The data is 
received from the smart amulet, merged and sent to the edge 
device, and the edge device sends the data to the cloud 
database (firestore) of Google cloud platform (GCP) for 
storage via MQTT, and stored in the local database 
(MongoDB). The data stored in firestore is classified, 
organized and analyzed by the cloud function provided by 
GCP, and the data analysis results are displayed on the web 
page in real time so that the subjects can view the current 
physiological data; the data in the local database is used as a 
data set for future training of the machine learning classifier 
to maximize the value of the data. The analyzed results are 
actively pushed through the smart speaker using the data 
stream integration function of the cloud platform. 
 
Figure 1.  IoT System Architecture Diagram. 
In order to realize the function of active push message 
by speaker, this study uses the triggering function of Cloud 
Functions and Cloud Pub/Sub to realize it, the data change 
triggers Cloud Functions through HTTP, Cloud Pub/Sub 
sends the object to the corresponding topic, the program in 
Raspberry Pi will subscribe to the same topic, through 
Google Text to Speech API receives and processes the text 
content in the object, converts the text content into voice 
messages, and finally pushes the voice messages actively 
through Google Speaker, as shown in Figure 2. 
When the smart amulet detects that the subject is in an 
emergency situation, it allows the speaker to make an 
emergency broadcast through the data stream. Since the smart 
speaker is placed in the subject's home, the microphone radio 
system will only be turned on when the smart speaker hears 
the wake-up call, taking into account the subject's privacy 
concerns. In the absence of a wake-up call, the subject's 
privacy is protected. 
 
Figure 2.  Flowchart of active broadcasting by speakers 
III. 
METHOD 
In this section, we describe in detail the types of subjects 
and the methods used to collect three types of data: 
physiological data, daily posture and exercise behavior. 
A. Subjects  
The subjects were 10 people, 5 elderly people aged 70 to 
80 years and 5 young people aged 24 to 26 years, and the 
system was set up in 5 households. The height and weight of 
the elderly were as shown in Table 2, and the height values 
shown in Table 2 were measured without hunchback. The 
purpose of including young subjects in this experiment is to 
collect comparative data for future training of the frailty 
classifier. All data were transferred to the cloud and local 
databases through the edge device. The experiments were 
conducted with the consent of the subjects who received daily 
data collection for this experiment. 
TABLE II.  
SUBJECT'S PHYSICAL INFORMATION 
Subjects 
(Elder) 
Height
(cm) 
Weight 
(kg) 
Humpbacked 
Illness & Injury 
Elder 1 
158 
62 
No 
Had ankle 
surgery 
Elder 2 
155 
58 
Yes 
Bipolar disorder 
& Effusion of 
knee joint 
Elder 3 
155 
45 
Yes 
Had knee 
surgery 
20
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-056-8
DBKDA 2023 : The Fifteenth International Conference on Advances in Databases, Knowledge, and Data Applications

Subjects 
(Elder) 
Height
(cm) 
Weight 
(kg) 
Humpbacked 
Illness & Injury 
Elder 4 
157 
58 
Yes 
Back sprain 
Elder 5 
168 
65 
No 
None 
 
B. Physiological State Data and Daily Posture Collection 
During the experiment, the subjects will be asked to wear 
the smart bracelet and the smart amulet for 7 days. Except for 
washing, they would wear them during the rest of the time. 
The smart bracelet is shown in Figure 3. The smart amulet was 
attached to the chest by means of biocompatible adhesive, as 
shown in Figure 4. The purpose of using the adhesive is to 
control the correctness of data collection, to ensure that the 
movement of the amulet is consistent with the body movement 
and does not affect the data interpretation of the 9-axis sensor. 
If the amulet is worn by hanging, it will cause the smart amulet 
to shake, which will generate noise and affect the sensor's 
interpretation. 
The 9-axis sensor in the smart amulet includes 3-axis 
accelerometer, 3-axis gyroscope and 3-axis magnetometer. 
The coordinate system is shown in Figure 5, which can 
measure the acceleration, rotation angle and geomagnetic 
direction respectively, and calculate the subject's posture and 
movement distance. The G-value (1) can be calculated by 
taking the root of the sum of the squared acceleration of each 
axis. The change of G-value is used to determine whether the 
subject is active or not. If the subject is at rest, the G value is 
equal to the gravitational acceleration (about 1G). 
 G-value = √(ACCx)2 + (ACCy)2 + (ACCz)2              (1) 
Through the orientation algorithm (gradient descent 
algorithm) proposed by Madgwick [7], the acceleration value, 
magnetometer value, and gyroscope value are calculated to 
derive the 3-axis rotation angle, which are Roll, Yaw, and 
Pitch. Observation of Roll, Yaw, and Pitch can analyze the 
walking deflection condition of the subject. 
 
Figure 3.  Smart bracelet to wear on the wrist. 
 
Figure 4.  Smart amulet (9-axis IMU) developed and designed by our 
laboratory  
 
Figure 5.  Smart amulet (9-axis IMU) Coordinate System 
C. Behavioral Data Collection 
The Timed Up and Go Test (TUG) frailty assessment 
standard was conducted to check the movement changes of 
the subject and to determine whether the subject had frailty 
symptoms. Time Up and Go Test uses the standard TUG 
protocol and starts from the center of the foot and goes 
forward 3m, using tape at the 3m mark and turning around the 
cross mark. The TUG experiment was conducted using a chair 
with no back rest. During the experiment, the subjects will 
wear smart amulets and smart bracelets to collect 
physiological state data and experimental posture data. Finally, 
the test results and exercise performance data of young and 
old people are compared to analyze the differences and train 
the classifier model. 
IV. 
RESULTS AND DISCUSSION 
Based on the system architecture and the experimental 
method, the experiments are conducted to validate the care 
IoT cloud system designed in this study, and finally the 
collected data are analyzed completely. 
A. Physiological Information and Daily Posture Collection 
Results 
The data collected during the experiment will be uploaded 
and stored to the cloud database through the edge device, and 
the current posture changes will be displayed through the 
webpage for the subjects to view in real time, as shown in 
Figure. 6. In the future, the system will be developed in such 
a way that caregivers can check the activity of the elderly in 
21
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-056-8
DBKDA 2023 : The Fifteenth International Conference on Advances in Databases, Knowledge, and Data Applications

real time through the webpage. For the elderly with frail 
symptoms, the caregiver can check whether there is a fall in 
real time. If unfortunately a fall occurs, the fall posture of the 
smart amulet will be sent to the cloud platform to trigger the 
speaker to broadcast a fall warning message, and through the 
screen warning and broadcast warning to achieve double 
reminders to avoid the regret caused by negligence. 
 
Figure 6.  The status of smart amulet is displayed instantly on the web 
The physiological data and postural changes collected daily 
were plotted for analysis. The graphs were used to clearly 
analyze the physiological data and postural distribution of the 
subjects during one hour at a point in time, as shown in Figure. 
7 and 8. Figure. 7C shows that the blood pressure changes 
during the first 30 minutes implied a trend of pre-
hypertension. According to the criteria for hypertension 
published by the American Heart Association [8], a diastolic 
blood pressure between 120 mmHg and 129 mmHg and a 
systolic blood pressure below 80 mmHg are the criteria for 
prehypertension. However, the blood pressure status returned 
to normal in the last 30 minutes, and the heart rate was higher 
in the first 30 minutes when compared with the heart rate 
variation graph in Figure. 7A. At the same time, the posture 
distribution in Figure. 8 showed a prolonged sedentary state, 
which was verified with the experimental activity records, 
and the subject was watching a movie at that time, which was 
presumed to be caused by the tension of the drama. 
 
 
Figure 7.  Line graph of the physiological data changes during a certain 
hour of the experiment (the same sampling time as in Figure. 8). 
 
Figure 8.  The pie chart of the posture distribution during an certain hour 
of the experiment (the same sampling time as Figure. 7). 
B. Daily Behavior Analysis 
The results of the TUG experiment with the same 
conditions for young person 1 and elder 1 are shown in Figure. 
9. The 3-axis acceleration and G-value are magnified 512 
times for easy observation and plotting on the graph. From 
Figure. 9A and 9C for comparison of the difference in 3-axis 
acceleration changes, we can observe that the amplitude of 
G-value of young person 1 is larger than that of elder 1. By 
comparing the amplitudes and observing the experimental 
procedure, it was inferred that the young people walked at a 
larger pace and faster speed. 
On the other hand, comparing the difference of Z-axis 
acceleration, the maximum amplitude of Z-axis acceleration 
reached -400 as shown in the red circles in Figure. 9A and 9C, 
indicating that elder 1 was leaning forward than young person 
1 in getting up, which could be inferred from observing the 
experimental procedure that elder 1's leg muscles were 
relatively weak and needed to be guided to stand by body 
strength. At the same time, the TUG test time of elder 1 was 
greater than 12 seconds, and it is presumed that there may be 
a risk of falling [9]. 
 
Figure 9.  Comparison chart of TUG experimental data between the elderly 
and young people. 
22
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-056-8
DBKDA 2023 : The Fifteenth International Conference on Advances in Databases, Knowledge, and Data Applications

V. 
CONCLUSION AND FUTURE WORK 
Through the combination of physiological data and 
behavioral posture analysis, the care system can monitor the 
living condition of the elderly at home more effectively. The 
smart bracelet and the smart amulet are combined with the 
edge device to form an Internet of Things for data collection 
and pre-processing. The edge device uploads data to the cloud 
platform database and the local database for storage, and the 
cloud platform further analyzes the data and broadcasts the 
results through the smart speaker; the local database stores the 
data for long-term use as a training data set for the classifier 
model in the future. The system can effectively observe the 
fall risk of the elderly. The data stored in the cloud database 
can be displayed on the web page in real time, and the fall can 
be broadcasted through the smart speaker in real time to avoid 
regrets. The experimental results confirm that the system 
designed in this experiment is a cost-effective tool for daily 
care of the elderly by combining the Internet of Things with 
the cloud platform. Although this study has completed the 
design of the elderly care IoT system and conducted some 
experiments and studies, the hidden risks and varying degrees 
of cooperation in inviting elderly people to participate in the 
experiments have led to relatively limited experiments and 
data collection, and limited sampling target groups. In the 
future, we plan to enter more homes to conduct experiments 
and optimize the system function to conduct more realistic and 
long-term experiments as the primary improvement point. It 
is believed that a more comprehensive and perfect 
personalized care system will be established in the near future. 
REFERENCES 
[1] R. K. Kodali, G. Swamy, and B. Lakshmi, "An implementation 
of IoT for healthcare," 2015 IEEE Recent Advances in 
Intelligent Computational Systems (RAICS), 2015, pp. 411-
416, doi: 10.1109/RAICS.2015.7488451. 
[2] M. M. Khan, T. M. Alanazi, A. A. Albraikan, and F. A. Almalki, 
“IoT-Based Health Monitoring System Development and 
Analysis,” Security and Communication Networks , pp. 1-11, 
April 2022. 
[3] P. Visutsak, and M. Daoudi, "The smart home for the elderly: 
Perceptions, technologies and psychological accessibilities: 
The requirements analysis for the elderly in Thailand," 2017 
XXVI 
International 
Conference 
on 
Information, 
Communication and Automation Technologies (ICAT), 
Sarajevo, Bosnia and Herzegovina, 2017, pp. 1-6, doi: 
10.1109/ICAT.2017.8171625. 
[4] F. Sun, W. Zang, R. Gravina, G. Fortino, and Y. Li, “Gait-
based identification for elderly users in wearable healthcare 
systems,” Information Fusion, pp. 134-144, 2020. 
[5] M. C. H. Yeh, et al, “Artificial Intelligence–Based Prediction 
of Lung Cancer Risk Using Nonimaging Electronic Medical 
Records: Deep Learning Approach,” Journal of Medical 
Internet Research, vol. 23, pp. 1-13, August 2021. 
[6] G. Sprint, D. J. Cook and D. L. Weeks, "Toward Automating 
Clinical Assessments: A Survey of the Timed Up and Go," in 
IEEE Reviews in Biomedical Engineering, vol. 8, pp. 64-77, 
2015, doi: 10.1109/RBME.2015.2390646. 
[7] S. O. H. Madgwick, A. J. L. Harrison, and R. Vaidyanathan, 
"Estimation of IMU and MARG orientation using a gradient 
descent algorithm," 2011 IEEE International Conference on 
Rehabilitation Robotics, Zurich, Switzerland, 2011, pp. 1-7, 
doi: 10.1109/ICORR.2011.5975346. 
[8] "Understanding Blood Pressure Readings | American Heart 
Association,"   Heart, Feb 2023. 
https://www.heart.org/en/health-topics/high-blood-
pressure/understanding-blood-pressure-readings 
[9] "Timed Up and Go Test (TUG) - Physiopedia,"   Physio-
pedia, Feb 2023. https://www.physio-
pedia.com/Timed_Up_and_Go_Test_(TUG) 
23
Copyright (c) IARIA, 2023.     ISBN:  978-1-68558-056-8
DBKDA 2023 : The Fifteenth International Conference on Advances in Databases, Knowledge, and Data Applications

