 
CMOS Readout Circuit with Wide Dynamic Range for an UV-NIR Silicon Sensor 
 
Emmanuel Gómez-Ramírez, A. Díaz-Méndez, 
Mariano Aceves Mijares, José Miguel Rocha Pérez, 
and Jorge Miguel Pedraza Chávez 
INAOE 
Puebla, Mexico  
e-mail: {emmanuelgomez, ajdiaz, maceves, jmr, 
jpch}@inaoep.mx 
 
Carlos Domínguez Horna, Ángel Merlos 
IMB-CNM (CSIC) 
Barcelona, Spain 
e-mail: carlos.dominguez@imb-cnm.csic.es 
 
 
 
 
Abstract— Currently, a CMOS imager capable of detecting 
from Ultraviolet-to-Near Infrared (UV to NIR) light is 
desirable. A new silicon sensor that detects from UV to NIR to 
be used for CMOS imaging was developed. However, the range 
of photo current generated by this sensor is wide. Then, there 
is a need to develop CMOS circuits with a wide dynamic range 
to be used with this sensor, or any other with wide output 
signal. This paper describes a CMOS readout circuit for 
applications in UV-NIR imaging with sensors that generate 
current in many orders of magnitude.  The developed UV-NIR 
sensor is compatible with a CMOS technology. A new topology 
of a wide dynamic range readout circuit using a multimode 
sensing technique is proposed. Also, the design, computer 
simulation, and experimental corroboration are shown. It is 
demonstrated that automatic switching between different 
modes is achieved, and then a dynamic range up to 160 dB can 
be obtained.  
Keywords-UV sensor; silicon sensor; smart-sensor; wide 
dynamic range; CMOS imagers; PWM sensors; continuously 
operating sensors; multimode sensing. 
I. 
 INTRODUCTION 
Complementary Metal Oxide Semiconductor (CMOS) 
imagers capable of detecting from Ultraviolet-to-Near 
Infrared (UV to NIR) light is an area of research among the 
circuits and systems community. In our previous work [1], 
the design of an integrated circuit with a wide dynamic range 
was presented; this paper extends our results to show 
experimental feasibility. 
Currently, CMOS technology allows the integration of 
complex electronic systems that include devices such as 
optical sensors. The integration of CMOS readout electronics 
and sensors allow the formation of CMOS imagers that offer 
several advantages compared to Charge-Coupled Device 
(CCD’s) [2]. These include small power consumption, low 
voltage, low cost, etc., and have enabled the creation of 
imagers that represent single-chip solutions [2].  
A CMOS imager capable of detecting radiation from UV 
to NIR is desirable for many applications in different areas, 
but these types of imagers have been difficult to implement 
due in part to the fact that silicon sensors have a reduced 
sensitivity in the UV light range when compared with the 
visible and NIR range. 
To increase the response in the lower wavelength range it 
is necessary to use technologies that normally are not 
compatible with the CMOS technology, which generates 
difficulties for integration and extra cost. 
A silicon detector sensible to UV light is reported in [3], 
which is compatible with CMOS technology [4]. This sensor 
increases the UV response, but it is necessary to have a 
readout system capable to respond in a wide range of 
currents, that is, the dynamic range has to be wide. 
In order to have an integrated circuit that includes both 
the CMOS readout electronic functions and the mentioned 
sensor, two integrated circuits were designed. One of them 
has a CMOS 0.5 micrometer (μm) minimum feature with a 
new technique to improve the dynamic range and to face the 
problem of detecting currents from nanoamperes (nA) to 
microamperes (μA). The other one is done with 2.5 μm 
minimum feature CMOS technology. This technology is 
versatile enough to allow extra process steps to include the 
sensor fabrication. 
Currently, both circuits are under fabrication. Moreover, 
it has been demonstrated that the sensor and the circuit can 
be built in the same process, 2.5 μm CMOS technology, with 
both conserving their characteristics [4]. On the order hand 
the design of the circuit with 0.5 μm technology was 
presented in [1]. 
In this paper, the design details and the experimental 
implementation of a CMOS pixel using the UV-NIR sensor 
and its acquisition circuitry with increased dynamic range to 
measure a wide range of currents are presented. The paper is 
divided into two sections; the first part corresponds to design 
details and the simulation of the integrated CMOS circuit 
with the 0.5 μm technology. The second part corresponds to 
the experimental section obtained using a discrete CMOS 
transistors implemented with Advanced Linear Devices 
(ALDs), which is a technique normally used to confirm the 
circuit design in a very economical way. 
This paper is organized as follows: Section II presents the 
definition and basic assumptions of the multimode technique 
proposed and the design of the readout circuit. Sections III 
and IV present the results obtained in the simulation part and 
the experimental procedure of the proposed circuit, 
respectively. Section V summarizes the study. 
 
23
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

II. 
PWM AND DIRECT MODE METHOD 
In a CMOS imager, one of the most important figures of 
merit is the Dynamic Range (DR) [2] given by (1). The DR 
permits the differentiation between high and low excitation 
conditions in general, and, in the case of an image, between 
lightly and highly illuminated conditions.  
It is clear that systems with higher DR would resolve 
extreme conditions without the loss of information.  
 
DR = 20log(Vmax/Vmin) [dB].
 
Many efforts have been made to obtain vision systems 
with wide DR. Different techniques to increase the DR have 
been reported; some of them are reviewed in [5-6] and are 
listed here: logarithmic method, clipping sensors, multimode 
sensors, frequency-based sensors, time-to-saturation sensors, 
multiple sampling methods, and multiple integration time 
methods. 
As mentioned above, one technique to increase the DR is 
the multimode sensor. Multiple sensing techniques can be 
used in only one system to enhance the DR, by taking 
advantage of the best resolution of each one. 
In this work, a multimode technique is used to increase 
the DR, with the combination of integration and direct mode 
detection methods.   
In the first case (i.e., integration-based sensor or 
integration mode), photogenerated charges are integrated to 
produce a linear response. Using this method, current in the 
order of femtoamperes (fA) can be detected [7], 
corresponding to very small illumination intensities. 
In the direct mode operated sensor technique, the current 
generated by a Photodiode (PD) is directly transferred to the 
measurement system. In this case, the current detected is in 
the order of nA to miliamperes (mA), corresponding to very 
high illumination intensities. Then, a combination of both 
readout techniques allows detecting the current of a PD 
from fA to mA. 
A block diagram of the multimode technique used is 
shown in Fig. 1. As can be seen, the photocurrent from the 
sensor could be integrated in the upper branch (steps 1 to 3) 
or it could be amplified directly to the lower branch (steps 1 
and 4).  
In the integration mode, the photocurrent, Iph, obtained in 
the step 1 (with the switch activated in the up position) is 
integrated and converted to a voltage ramp, step 2. In step 3, 
when the voltage ramp reaches the comparator reference 
voltage a shot pulse is obtained and this pulse controls the 
switch. In the direct mode, step 4, the Iph is directly fed to an 
amplifier. Both readout signals are passed into a counter and 
an analog-to-digital converter respectively, and finally, in 
step 5, a Digital Word (DW) proportional to the incident 
light in the sensor is obtained. 
Both techniques are explained with more details in next 
sections. 
A. Pulse Width Modulation Mode Readout  
When a sensor works in the integration mode, the 
parasitic capacitor of a PD is charged to a reference 
potential; when light shines on it, this potential decreases 
almost in a linear fashion, due to the photocurrent discharge 
of the capacitor. 
By measuring the voltage drop, the amount of light 
received can be obtained, using (2), where Iph is the 
photocurrent, Tint is the integration time, and CPD is the 
parasitic capacitance of the PD. 
 
V = Iph*Tint/CPD.
 
As it can be seen, ΔV is directly depend of Tint, so, it is 
necessary, a fine control over Tint to obtain an suitable output 
signal. To solve this, in Pulse Width Modulation (PWM) [8] 
mode, the current generated by each PD defines the 
integration time, Tint, so that very small are integrated until 
an adequate output is obtained. 
In favor of greater clarity, in Fig. 1, integration mode is 
represented by steps 1 and 2, and PWM mode by steps 1 to 
3. So, hereafter, the first part of the system (from steps 1 to 
3) is referred as PWM mode and the second part (steps 1 and 
4) as direct mode. 
 The circuit shown in Fig. 2 is an example of how to 
implement the PWM mode. The current is integrated and 
then compared with the reference voltage. 
The P-type Metal Oxide Semiconductor (PMOS) 
transistor called Mrst in Fig. 2, works as a reset switch; in the 
ON state the PD voltage (Vpd) is near Vdd. If the switch is 
turned OFF, the incident light produces Vpd to decrease 
linearly.  
When Vpd reaches the reference voltage, the comparator 
generates an output voltage pulse. Measuring the width of 
this pulse, the amount of light shining on the PD can be 
estimated.  
The problem with this technique is that have limited DR. 
At higher levels of photocurrent, the integration time would 
be too short and in some cases imperceptible, restraining this 
method to low currents only. This technique works very well 
at small light power levels but fails to work adequately with 
high power levels, as shown in Fig. 3. In other words, a low 
illumination level produces a small photocurrent, as the light 
intensity is augmented the photocurrent increases reducing 
the integration time. If the light is intense, the integration 
time will be very difficult to measure. 
To solve the high current problem bright light would be 
detected by direct mode technique. 
 
 
 
 
 
24
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

Figure 1. Multimode sensing block diagram. 
 
B. Direct Mode Readout  
In the direct output mode (or direct mode), the PD 
current is directly transferred to current mirrors with or 
without 
amplification. 
The 
disadvantage 
with 
this 
architecture is that suffers from low sensitivity at low levels 
of illumination; however, it works fine detecting high 
illumination levels. 
Flipped-Voltage Follower (FVF) in current mode [9] is 
used to sense the PD current due to its very low input 
impedance and because it can drive large input current 
variations, as shown in Fig. 4. The FVF is shown in Fig. 4a; 
in this circuit, the input impedance Zin is very low and given 
by  
 
in = 1/(gm1gm2r01).
    
        
 
 
Figure 2. Circuit used to implement the PWM technique. The upper 
graph shows the Vpd voltage linear decay due to the incident light. The 
lower graph shows Vout as a function of time. 
where gm1 and gm2 are the transistor transconductances and 
r01 is the transistor’s output resistance in M1. 
The input impedance is low due to the shunt feedback 
provided by M2. The output current is given by the 
expression Iout = Iph - Ibias, where Ibias is the bias current 
provided by the current source in M1 and Iph is the current 
from PD.  
Normally, the current needs to be amplified so a current 
mirror is used and the gain is given by the ratio W/L of the 
transistors. 
To make the mirrored current as accurate as possible it is 
necessary to use an operational amplifier, as shown in Fig. 
4b, that keeps the bias voltage equal in the drains of M2 and 
M3. 
Fig. 5 compares the fidelity of the current copy with and 
without the operational amplifier. As shown, the advantage 
of using the operational amplifier is clear. 
 
 
Figure 3. Photocurrent vs integration time; as the current increases the 
time tends toward zero. 
 
 
25
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
 
Figure 4. a) Flipped-Voltage Follower in current mode and b) with a 
current mirror. 
 
C. PWM and Direct Mode Circuit Implementation  
A schematic diagram of the proposed circuit is shown in 
Fig. 6, which combines both readout topologies: PWM and 
direct mode. When low illumination is shining on the PD, 
the PWM mode works, and when bright illumination is 
received, the direct mode topology comes into operation.  
Internal switches that are controlled by the PWM output 
select one of the two topologies.  
The PWM output voltage for a single sensor signal is 
shown in Fig. 7a; when the voltage ramp reaches the voltage 
reference a step is produced and the voltage gets a constant 
value. This voltage is then used to switch to the direct mode 
and the output current increases to a new value proportional 
to the current in the sensor, as shown in Fig. 7b. 
As displayed in Figs. 2 and 6, an operational amplifier is 
needed in both topologies. So, sharing the operational 
amplifier in each pixel to run both techniques reduces the 
number of transistors and improves circuit performance. 
III. 
CIRCUIT SIMULATION 
Computer simulations of the circuit shown in Fig. 6 were 
performed, using HSPICE A-2008.03 [10]. The sensor was 
simulated using a simple photo-diode model, which consists 
of a voltage controlled current source in parallel with a 
capacitor and an exponential diode. The control voltage is 
proportional to the wavelength of the incident light in the 
sensor. 
 
Figure 5. Input and output current comparison in the current mirror with 
and without the operational amplifier. 
 
Figure 6. Dual mode circuit, when S1 and S2 are closed the direct mode 
is activated. When S1 is open and S2 is at the REF voltage, the PWM 
mode is activated. 
 
Fig. 8 shows the results of simulations when dull incident 
light is cast on the sensor. As shown, the integration time 
starts when the reset command is triggered and Vpd is at Vdd 
(3.3V); then, different Vpd voltage ramps are produced by 
different light intensities. After some time, each ramp 
reaches the reference (in this case 1.5V). At that moment, the 
comparator output produces a voltage step. 
This voltage step triggers the switches S1 and S2 to start 
the direct mode (switch S1 was off and S2 was in the REF 
position at the start), it is also used to bias the transistor, M4, 
allowing the Iout to increase to a value given by (Iph-Ibias). 
Fig. 8b shows the PWM output current; as can be seen, 
the current is zero until the voltage reference is reached then 
a high current is obtained. The elapsed period can be used to 
estimate the light intensity. In this case, the input current 
used was from 20 to 200 picoA (labels A and B correspond 
to the lower and the higher intensities, respectively). 
Conversely, in Fig. 9, simulation results of the high 
current regime are shown.  
 
 
 
Figure 7. Output voltage and current of the PWM and direct mode 
sections. In a) the ramp of voltage is shown and after it reaches the 
reference a constant voltage step is produced. In b) as the PWM mode is 
active the Iout is low and when the direct mode is activated the Iout 
increases proportionally to the sensor’s current.
26
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
Figure 8. Simulation results of a low intensity light regimen, a) after 200us the Vpd linear decay starts and after reaching the reference a constant voltage is 
obtained; b) low intensities light sweep presents different integration time proportional to the light intensity. 
 
 
 
Figure 9. Simulation results of a high intensity light regimen, a) the Vpd linear decay is too fast and it is not differentiable due to the high current; then b) the 
current is measured in a straight forward manner. 
Intensity B 
Intensity A 
Intensity B 
Intensity A 
Intensity C 
Intensity D 
Intensity C 
Intensity D 
27
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

In Fig. 9a, the PWM Vout is presented when the input 
currents varied from 50 to 500 nA. Labels C and D 
correspond to the lower and the higher intensities 
respectively. Comparatively in the results of Fig. 8a, after 
certain light intensity it is not possible to discriminate 
between the Vout ramps; intensities C and D cannot be 
differentiated. In this case, the output current is directly 
proportional to the current sensor and it is processed by the 
direct mode circuit. In Fig. 8b, the step of current is constant 
at a low value, approximately 1.6 μA, and starts at different 
times; on the other hand, in Fig. 9a, the current steps are 
variable in amplitude and practically start at the same time. 
In this way, switches S1 and S2 are activated to select PWM 
or the direct mode. 
The output current, Iout, is the difference of Iph-Ibias, when 
the output voltage switches to the direct mode and when Iph 
is higher than Ibias, a detectable Iout current is obtained. 
Therefore, the output current is used to estimate the light 
intensity. 
Both 
topologies 
work 
for 
different 
illumination 
intensities; this allows increasing the DR. PWM topology 
working at tenuous light and direct current mode topology 
working at brighter illumination.  
To measure the robustness of the design against process 
variations, 4-corners simulation is used submitting the circuit 
to extreme conditions.   
Two examples of 4-corners simulation with 100 and 600 
pA input current (labeled Typ1 and Typ2, respectively) using 
PWM mode readout are shown in Fig. 10; as can be seen in 
the first case (Typ1), the difference between the 4 
simulations could be depreciate. 
In the second case (Typ2), the maximum error was less 
than 5%, however, the variation in the voltage step is 
approximately 10%, due to the finite resistance of the 
switches. To solve this, an exhaustive study will be done to 
reduce the error using other topologies for the switches.  
 
 
 
Figure 10. 4-corners simulation for PWM circuit with 100 and 600 
picoA input currents, for the low current regimen no difference is 
observed. The high regime current shows variations of 5% in the ramp 
voltage and 10% in the voltage step. 
 
 
Figure 11. 4-corner simulation for direct mode circuit with 4 and 10 
microA input currents; variations up to 10% are obtained. 
 
 
Fig. 11 presents two examples of 4-corners simulation 
with 4 and 10 μA input currents (labeled Typ1 and Typ2, 
respectively); in this case, direct mode readout is used. In 
both cases, the worst case variation was 10% reflecting the 
10% variations of the Vout. 
Fig. 12 presents Vout for the PWM circuit and Iout for the 
direct mode circuit. As can be seen in the low current 
regimen, the PWM works well up to 1X10-8A; after this 
value, the output current starts to be measured directly. 
Consequently, the DR obtained in simulations is 160 dB, 
taking into account that the lower limit used to calculate it 
was the dark current of the photodiode. 
The circuit was simulated using HSPICE, for a CMOS 
technology of 0.5 μm from MOSIS; all the simulations 
presented here were post-layout simulations. Fig. 13 shows 
the layout of one pixel. 
 
 
 
 
Figure 12. PWM and direct mode work ranges as function of 
photocurrent. 
 
 
 
28
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

 
 
Figure 13. Layout of the PWM and direct mode circuit, using the 0.5 
microns technology. The sensor area is 13x13 square microns and the total 
area is 50x50 square microns. 
 
IV. 
EXPERIMENTAL CIRCUIT 
 In this section, experimental results are presented. First, 
the experimental procedure is explained. Second, results 
from characterization of UV sensor are presented. And 
finally, results from UV-ALD circuit with a variable source 
of light are presented. 
A. Experimental Procedure  
Currently, two integrated circuits are under fabrication: 
one is in a 2.5 microns technology and the other one is in 0.5 
microns. The 2.5 microns technology is from CNM of 
Barcelona, Spain, and it allows modifying the process steps 
in order to integrate the sensor with the readout circuit. The 
compatibility of the sensor fabrication with a CMOS 
technology has been corroborated [4]. The 0.5 microns 
technology is from MOSIS. It is a standard technology and 
the same used in the simulation part. The MOS transistors 
used in the ALD arrays have characteristics similar to that of 
the MOSIS technology. 
Experimentally, the circuit implementation was done 
using the quad N-channel matched pair MOSFET array 
ALD1106 [11] and the quad P-channel matched pair 
MOSFET array ALD1117 [12] with a discrete UV sensor.  
The circuit in Fig. 6 was implemented with ALDs. The 
operational amplifier was accomplished using a Miller´s 
model amplifier. Instead of PMOS transistor Mrst, an 
external master reset was used. The dimensions of the ALDs 
transistors are fixed, so, it was necessary to use ten 
transistors in parallel to implement the FVF with a gain of 
ten. Transistors like transmission gates were used to 
implement the switches that allow the change between PWM 
to direct mode. The circuit was biased with a voltage of 5V 
and a current of 2.5 μA. 
This discrete UV sensor was fabricated using a 2.5 
microns technology. The sensor was not a standard Si PN 
junction; rather it incorporated special process steps during 
its fabrication [13]. Four sensors of area 0.0015 cm2 were 
built in the same chip and were packaged in a TO5. In this 
experiment, the four sensors were used simultaneously in 
parallel. Hereafter this arrangement is referred as “the 
sensor.” 
In order to characterize the sensor and the circuit from 
the 200 to 1000 nm wavelength range, the excitation light of 
a spectrofluorometer Horiba Jobin Yvon model FluourMax3 
was used. The sensor was placed in a window normal to the 
light beam running from UV to NIR. To control the power 
intensity two configurations were used and referred to as: 5 
slit and 15 slit. In order to do so the slit in the 
spectrofluorometer was in position 5 and 15. 
Two measurements were done. First, the sensor current 
under different wavelengths was characterized. The 
spectrofluorometer was programmed to maintain each 
wavelength during 10 seconds and the current under each 
wavelength light was manually recorded using an 
electrometer Keitlhey model 6517A. 
Next, the sensor was connected to the ALD circuit. The 
time and the current were measured from the outputs of the 
circuit. The output time was measured using an oscilloscope 
Agilent model 54622A and the current with the electrometer 
previously mentioned.  
With this experimental setting the circuit implementation 
is expected to work as follows: when the master reset is 
turned on, the parasitic capacitor from the sensor is charged 
to Vdd, in this case 5V; when the excitation light from the 
spectrofluorometer illuminates the sensor and the master 
reset is turned off, a photocurrent from the sensor is 
generated. It is directly injected into the input of the FVF 
circuit implemented with ALD transistors, with the PWM 
topology enabled (S1 is turned off and S2 is in the REF 
position); this start the discharge of the capacitor. When the 
voltage of the sensor reaches the reference voltage (2.5V) a 
step is generated in the output of the operational amplifier 
working as a comparator, Vout. The elapsed time (or output 
time), since the reset is turned off until the voltage step is 
generated, is recorded using the oscilloscope and this time is 
proportional to the current. 
The step in Vout is used to switch from PWM to direct 
mode topology automatically (S1 is turned on and S2 change 
to position p2), this is when the direct mode is activated. So, 
the photocurrent is directly injected to the FVF and is 
amplified by the current mirror. After, the photocurrent is 
measured directly by the electrometer. 
When the power intensity used is low, 5 slit, a fine work 
for the PWM topology is expected. On the other hand, when 
the lamp has 15 slit the direct mode topology will have a 
better performance.  
Both topologies work at separate times. The PWM 
topology works first and when the step in Vout appears, the 
PWM topology is automatically disabled and the direct mode 
topology starts to work.  
29
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

B. Experimental Results and Discussion 
1) UV-NIR Silicon Sensor 
As mentioned above, a sensor capable of detecting from 
UV-NIR light is presented in [3]. This sensor was 
characterized under different types of illumination. Basic 
characteristics of the sensor were measured under these 
illuminations, and are showed in next figures: Fig. 14 shows 
the dark current, which is approximately 2pA; the current 
from the sensor with two power excitations is shown in Fig. 
15; the typical responsivity is shown in Fig. 16; and the 
capacitance versus reverse bias voltage is presented in Fig. 
17. 
As seen in Figs. 14 and 15, depending on the power of 
the optical input the circuit has to be able to discriminate 
currents in the range of pA to μA. 
2) Circuit 
As is mentioned above, the UV-NIR sensor was 
connected to the arrangement and data obtained from the 
experiment are depicted in Table I, which shows: the current 
of the sensor (column “Current Sensor”); the output current 
of the current mirror (column “Iout-Ibias”); and the output 
time, from reset off to the step in Vout (column “Time Tout”); 
for 5 and 15 slit. 
As it can be seen, for 5 slit the output time is clearly and 
easily discernible. However, for 15 slit, the current is higher 
and hence it is better to measure it directly.  
For example, analyzing the case when the wavelength is 
400nm, with 5 slit, the current from the sensor is 0.711 μA 
and the output current is 4x10-05 μA, hence there is no 
comparison between them. In this case, it is necessary to use 
the output time to have an adequate output, which is easily 
discernable (in this case 180 us). On the other hand, when 
the intensity increase to 15 slit, it is better to take the output 
current, since it is 4.10 μA, which agrees with the current 
from the sensor that is 4.290 μA and the output time is too 
small. 
The different wavelengths used, have different intensities 
corresponding to the Xe lamp spectrum [14], but it is clear, 
from Table I, which variable (current or time) is better to use 
depending on the power of each wavelength. 
 
Figure 14. Dark current from different UV silicon photodiodes. 
200
400
600
800
1000
1E-9
1E-8
1E-7
1E-6
1E-5
Current (A)
Wavelength (nm)
 5slits
 15slits
 
Figure 15. Typical UV sensor current as a function of wavelength for 
different optical power excitation. 
 
TABLE I.  
DATA FROM SENSOR AND THE CIRCUIT IMPLEMENTATION 
FOR DIFFERENT LIGHT EXCITATIONS 
Wavelength 
(nm) 
5 slit 
15 slit 
Current 
Sensor 
(μA) 
Iout - Ibias 
 (μA) 
Time 
Tout 
(us) 
Current 
Sensor 
(μA) 
 Iout - Ibias 
 (μA) 
Time 
Tout 
(us) 
200 
0.002 
0.000155 
492 
0.009 
1.60 
472 
250 
0.033 
0.000155 
416 
0.283 
1.20 
288 
300 
0.248 
0.000120 
336 
1.730 
0.50 
132 
350 
0.415 
0.000085 
228 
2.930 
2.40 
68 
400 
0.711 
0.000040 
180 
4.290 
4.10 
48 
450 
1.050 
0.000010 
152 
5.590 
5.70 
36 
500 
1.080 
0.000020 
153 
5.970 
5.50 
36 
550 
0.835 
0.000040 
156 
5.040 
4.80 
36 
600 
0.900 
0.000040 
156 
5.290 
4.60 
36 
650 
0.839 
0.000030 
156 
4.860 
4.80 
36 
700 
0.735 
0.000060 
176 
4.600 
4.40 
36 
750 
0.667 
0.000070 
192 
4.450 
3.60 
44 
800 
0.503 
0.000080 
224 
3.400 
2.60 
36 
850 
0.211 
0.000120 
316 
2.240 
1.20 
92 
900 
0.740 
0.000060 
184 
6.060 
6.50 
40 
950 
0.489 
0.000090 
232 
3.170 
2.20 
72 
1000 
0.137 
0.000095 
368 
2.180 
0.80 
104 
 
To visualize better the different cases: when it is 
necessary the use one output (current) or the other one 
(time), figures 18-20 shows the discharge voltage of the 
capacitor and the output voltage for 5 and 15 slit, with 
different wavelengths. 
 
30
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

250
350
450
550
650
750
850
950
0.01
0.1
1
 Wavelength (nm)
Responsivity
 
Figure 16. Typical responsivity of the sensor. 
 
In Fig. 18, the fall off voltage of the parasitic capacitor of 
the UV sensor (when a beam of 200nm and 5 slit is applied) 
and the output signal from the comparator are shown. 
In Figs. 19 and 20, the voltage in the PD and the output 
time are shown when the sensor is illuminated with different 
wavelengths but the same power intensity (5 slit). From this 
figure, it is clear that, for different light intensities, the 
current is different and that different time intervals are 
produced, which means the higher the current the shorter the 
output time.  
The voltage in the PD and Vout as a function of time are 
shown in Figs. 21 and 22, respectively, but this time 15 slit 
was used. Comparing Figs. 19 and 20 with 21 and 22, it can 
be seen that the time out is shorter as the power is increased. 
This is a confirmation that as the power increases, the output 
time could be so short that it will be difficult to measure and 
differentiate a change in power or wavelength. In this case, 
for 15 slit it is hard to differentiate between 400, 600 and 800 
nm, but for 5 slit it is difficult only to differentiate between 
400 and 600 nm. 
A comparison between the current from the sensor with 
the current from the output of the circuit is shown. In Fig. 23, 
the comparison is for 5 slit, while in Fig. 24 it is for 15 slit, 
and it is confirmed that only for the high power case most of 
the points correspond. 
 
 
Figure 17. Typical capacitance VS reverse bias voltage. 
0.0
2.0x10
-4
4.0x10
-4
6.0x10
-4
8.0x10
-4
1.0x10
-3
0
1
2
3
4
5
6
Output Time
Voltage (V)
Time (s)
 Vpd
 Vout
reset
ON OFF
Vref
Figure 18. Output time and sensor decay voltage with a light excitation at 
the input of 200nm with 5slit 
0.0
2.0x10
-4
4.0x10
-4
6.0x10
-4
8.0x10
-4
1.0x10
-3
-1
0
1
2
3
4
5
6
reset
Voltage (V)
Time (s)
 200nm
 400nm
 600nm
 800nm
 1000nm
ON
OFF
Vref
Figure 19. The discharge voltage of the capacitor as function of time is 
shown for different wavelengths. The input was illuminated with 5 slit. 
0.0
2.0x10
-4
4.0x10
-4
6.0x10
-4
8.0x10
-4
1.0x10
-3
0
1
2
3
4
5
6
OFF
ON
Output Time
reset
Voltage (V)
Time (s)
 200nm
 400nm
 600nm
 800nm
 1000nm
Figure 20. Output voltage for different wavelengths with 5 slit, the elapsed 
time for 200 nm is the largest time. The shortest elapsed time corresponds to 
the 400 nm wavelength, indicating that the blue color is the more intense in 
the Xenon lamp and produces the highest current in the sensor. 
31
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

0.0
2.0x10
-4
4.0x10
-4
6.0x10
-4
8.0x10
-4
1.0x10
-3
-1
0
1
2
3
4
5
6
ON
reset
Vref
Voltage (V)
Time (s)
 200nm
 400nm
 600nm
 800nm
 1000nm
OFF
Figure 21. The discharge voltage of the capacitor as function of time is 
shown for different wavelengths. The input was illuminated with 15 slit. 
 
It is clear that using the PWM and direct mode 
sequentially it is possible to sense low and high power 
signals. So, it has been proven experimentally that the circuit 
of Fig. 6 can be used to measure automatically very low and 
high currents with precision. The circuit has a total DR of 
143 dB taking into account that the lower limit to calculate it 
was the intrinsic noise of the ALD circuits, and the upper 
limit was determined by the saturation current. Moreover, the 
DR can be incremented towards the upper limit, increasing 
the bias current, but this will cause an augment in the power 
consumption. 
In Table II, a comparison between different topologies 
using the multimode techniques to increase DR is presented. 
From this table it is inferred that only one, the Lineal-
Logarithmic, reports a higher DR than the one presented 
here. However, the authors [17] used a smaller technology 
without reporting the power consumption.  
Other articles present DR that exceeds the one reported 
here, but these works do not use the multimode technique 
nor the same technology [20]. Some reports do not mention 
the methods or techniques used to obtain a high DR [21]. 
 
0.0
2.0x10
-4
4.0x10
-4
6.0x10
-4
8.0x10
-4
1.0x10
-3
0
1
2
3
4
5
6
Voltage (V)
Time (s)
 200nm
 400nm
 600nm
 800nm
 1000nm
reset
ON
OFF
Output Time
 
Figure 22. Output voltage for different wavelengths with 15 slit. 
200
400
600
800
1000
0.0
0.2
0.4
0.6
0.8
1.0
1.2
Current (uA)
Wavelength (nm)
 Current from sensor
 Output current
 
Figure 23. Comparison between the currents from the sensor and the 
circuit output currents with 5 slit. 
 
TABLE II.  
MULTIMODE SENSING TECHNIQUES COMPARISON 
 
Specifications 
Tech 
DR 
Area 
Power 
Consumption 
Year 
Ref 
Lineal – 
Logarithmic 
0.35 
124 
7.5x7.5 
--- 
2005 
15 
Lineal – 
Logarithmic 
0.18 
143 
5.6x5.6 
61mW y 
84mW 
2006 
16 
Lineal –
Logarithmic 
0.35 
200 
20x20 
--- 
2006 
17 
Lineal – 
Logarithmic 
0.35 
112 
9.4x9.4 
--- 
2011 
18 
PWM –  
PFM 
0.18 
143 
30x30 
175mW 
2011 
19 
PWM – 
Direct Mode 
0.5 
160 
50x50 
36 μW 
--- 
This 
work 
ALDs 
143 
discrete 
70 μW 
--- 
 
Another advantage to our approach is the improvement 
of the power consumption compared with those in Table II. 
This is because FVF working in current mode consumes 
negligible power. 
 
200
400
600
800
1000
0
1
2
3
4
5
6
7
Current (uA)
Wavelength (nm)
 Current from sensor
 Output current
Figure 24. Comparison between the currents from the sensor and the circuit 
output currents with 15 slit. 
32
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

V. 
CONCLUSIONS 
A circuit that can be used in an integrated smart-pixel 
was designed, simulated and validated experimentally. It 
was corroborated that a wide dynamic range is achieved 
combining the pulse width modulation and direct current 
amplifications techniques in the same pixel; experimentally 
and by simulation, a DR of 143 dB and 160 dB were 
respectively obtained.  
A reduced number of transistors were obtained sharing an 
operational amplifier by both techniques. The PWM and 
Direct mode are automatically selected depending on the 
range of current provided by the sensor. In the PWM mode 
the output time is used to estimate small photocurrents; in 
the direct mode high photocurrents are directly obtained. In 
comparison with similar circuits reported, the circuit 
proposed here improves the state of art. 
In order to reduce area and power consumption, a single 
pixel circuit was designed using a 0.5 microns CMOS 
technology from MOSIS and occupying 50x50 square 
microns in total area. 
The implementation with ALDs was tested in various 
wavelengths using a spectrofluorometer like the source of 
light. 
Results show that the PWM topology works in cases 
when illumination is lower and the direct mode topology 
when is effective when it is higher.  
Compared with other circuits reported in the literature, 
our approach has one of the highest DRs and smallest power 
consumptions, as demonstrated by the simulation.  
 
ACKNOWLEDGMENT 
The authors appreciate the English revision done by 
Rebekah Hosse Clark, also we appreciate the support of 
CONACyT. 
 
   REFERENCES 
 
[1] E. Gómez-Ramírez, A. Díaz-Méndez, M. Aceves-Mijares, J. M. 
Rocha-Pérez, J. M. Pedraza-Chávez, and C. Domínguez-Horna, 
“Wide dynamic range readout for cmos pixel using pwm and direct 
mode sensing techniques,” in Proceedings of the Fourth International 
Conference on Sensor Device Technologies and Applications IARIA, 
Aug. 2013, pp 64-70, ISBN: 978-1-61208-297-4 
[2] J. Ohta, “Smart CMOS Image Sensors and Applications,” CRC Press, 
2008. 
[3] D. Berman-Mendoza, M. Aceves-Mijares, L. R. Berriel-Valdos, J. 
Pedraza, and A. Vera-Marquina “Fabrication, characterization, and 
optimization of an ultraviolet silicon sensor,” Optical Engineering, 
vol. 47, no. 10 , Oct. 2008, p. 104001, doi:10.1117/1.3000434 
[4] M. Aceves-Mijares, E. Gómez-Ramírez, A. Díaz-Méndez, J. M. 
Rocha-Pérez, J. M. Pedraza-Chávez, J. Alarcón-Salazar, S. Román-
López, C. Domínguez-Horna, A. Merlos, X. Formatjé, and A. 
Morales-Sánchez “Conservation of the optical properties of sro after 
cmos IC processing,” in press. 
[5] A. Spivak, A. Belenky, A. Fish, and O. Yadid-Pecht “Wide-dynamic-
range cmos image sensors: comparative performance analysis,” IEEE 
Transactions on Electron Devices, vol. 56, no. 11, Nov. 2009, pp. 
2446-2461. 
[6] D. Park, J. Rhee, and Y. Joo “A wide dynamic-range cmos image 
sensor using self-reset technique,” IEEE Electron Device Letters, vol. 
28, no. 10, Oct. 2007, pp. 890-892. 
[7] B. Goldstein, D. Kim, A. Rottigni, J. Xu, T. K. Vanderlick, and E. 
Culurciello “Cmos low current measurement system for biomedical 
applications,” IEEE International Symposium on Circuits and 
Systems (ISCAS), May 2011, pp. 1017-1020. 
[8] A. Zarándy, “Focal-Plane Sensor-Processor Chips,” Springer, 2011. 
[9] R. González-Carvajal, J. Ramirez-Angulo, A. J. Lopez-Martin, A. 
Torralba, J.A. Gómez-Galan, A. Carlosena, and F. Muñoz-Chavero, 
“The flipped voltage follower: a useful cell for low voltage low 
power circuits design,” IEEE Transactions On Circuits And Systems, 
vol. 52, no. 7, Jul. 2005, pp. 1276-1291. 
[10] Synopsys, “HSPICE”, URL: http://www.synopsys.com/, 2013. 
[11] N-channel 
MOSFET, 
URL:http://html.alldatasheet.net/html-
pdf/55017/ALD/ALD1106/46/1/ALD1106.html, 2014. 
[12] P-channel 
MOSFET, 
URL:http://html.alldatasheet.es/html-
pdf/55019/ALD/ALD1117/46/1/ALD1117.html, 2014. 
[13] D. Berman-Mendoza, M. Aceves-Mijares, L. R. Berriel-Valdos, J. 
Carranza, J. Pedraza, C. Domínguez-Horna, and C. Falcony “Silicon-
rich silicon oxide films boost UV sensitivity,” Laser Focus World, 
vol. 41, no. 9, Sept. 2005, p.103. 
[14] Fluoro max-3 operation manual, URL:http://www. Jobinyvon.com, 
2013. 
[15] K. Hara, H. Kubo, M. Kimura, F. Murao, and S. Komori “A linear-
logarithmic cmos sensor with offset calibration using an injected 
charge signal,” IEEE International Solid-State Circuits Conference, 
vol. 1, Feb. 2005, pp. 354-603. 
[16] G. Storm, R. Henderson, J. E. D. Hurwitz, D. Renshaw, K. Findlater, 
and M. Purcell “Extended dynamic range from a combined linear-
logarithmic cmos image sensor,” IEEE Journal of Solid-State 
Circuits, vol. 41, no. 9, Sept. 2006, pp. 2095-2106. 
[17] N. Akahane, R. Ryuzaki, S. Adachi, K. Mizobuchi, and S. Sugawa “A 
200dB dynamic range iris-less cmos image,” IEEE International 
Solid-State Circuits Conference, Feb. 2006, pp. 1161-1170. 
[18] M. Vatteroni, P. Valdastri, A. Sartori, A. Menciassi, and P. Dario 
“Linear–logarithmic cmos pixel with tunable dynamic range,” IEEE 
Transactions On Electron Devices, vol. 58, no. 4, Apr. 2011, pp. 
1108-1115. 
[19] C. Posch, D. Matolin, and R. Wohlgenannt “A qvga 143 dB dynamic 
range frame free pwm image sensor with lossless pixel,” IEEE 
Journal Of Solid-State Circuits, vol. 46, no. 1, Jan. 2011, pp. 259-275. 
[20] N. Ide, W. Lee, N. Akahane, and S. Sugawa “A wide DR and linear 
response cmos image sensor with three photocurrent integrations in 
photodiodes, lateral overflow capacitors, and column capacitors,” 
IEEE Journal Of Solid-State Circuits, vol. 43, no. 7, Jul. 2008, pp. 
1577-1587. 
[21] Electronic Publication:  Omron Corporation: “German venture 
company develops highly advanced wide dynamic range cmos image 
sensor,” 
[Online]. 
URL: 
http:// 
industrial.omron.fr/fr/news/news/cmos-image-sensor, 2003. 
 
 
33
International Journal on Advances in Systems and Measurements, vol 7 no 1 & 2, year 2014, http://www.iariajournals.org/systems_and_measurements/
2014, © Copyright by authors, Published under agreement with IARIA - www.iaria.org

