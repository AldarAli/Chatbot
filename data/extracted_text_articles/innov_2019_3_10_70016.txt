Optical Coding Label Reuse Scheme to Support More Routing Paths  
over Multi-Protocol Label Switching Networks 
Chun-Chieh Liu, Jen-Fa Huang*, En-Sheng Cheng  
Institute of Computer and Communications Engineering, 
Department of Electrical Engineering,  
National Cheng Kung University,  
Tainan, Taiwan.  
*e-mail: huajf@ee.ncku.edu.tw  
Chao-Chin Yang 
Department of Electro-Optical Engineering 
Kun Shan University 
Tainan, Taiwan  
e-mail: ccyang@mail.ksu.edu.tw
Abstract—In a Multi-Protocol Label Switching (MPLS) 
network based on Optical Code Division Multiplexing 
(OCDM), each core switching node is assigned one code 
sequence with N chips for each specific input/output pair. With 
optical code division multiplexing, it creates a new way to 
utilize optical codes as optical labels. As the users and Internet 
traffic continue to grow rapidly, it is expected that optical 
networks will support a larger number of users in the future. 
However, there is a scalability problem that the large the 
number of core nodes, the more code sequences are needed. To 
solve this critical problem, we consider a situation that can 
reuse label in order to save the number of utilized labels. 
Under this structure, there is a significant increase in the 
number of users that can be supported compared to the 
original ones. In this paper, we compare the relationship of the 
number of utilized labels and supported LSPs (label switching 
paths) in both situations with and without reusing labels. We 
also discuss the issue of cost efficiency and bandwidth 
efficiency. Further, the discussion of BER performance is also 
included. (Abstract)
Keywords- Optical code division multiplexing (OCDM); 
multi-protocol label switching (MPLS); label stacking; spectral 
amplitude coding (SAC) (key words)  
I.
INTRODUCTION 
Multi-Protocol Label Switching (MPLS) is a switching 
protocol between data link layer (layers 2) and network 
layer (layer 3), which labels are added in packet headers and 
the labelled packets are forwarded in corresponding paths 
using  label switching [1]. The term ‘multi-protocol’ has the 
meaning that it can be used in different network layer 
protocols. MPLS maps IP addresses into simple fixed-length 
protocol-specific identifiers called ‘labels’ which are 
distinguishing forwarding information (label) from the 
content of the IP headers [2], in other words, MPLS enables 
the forwarding of packets based on looking up the labels 
rather than the IP addresses [3].  
Many MPLS techniques based on different multiplexing 
methods have been proposed in optical domain, such as 
Time-Division Multiplexing (TDM) [4], Wavelength-
Division Multiplexing (WDM) [5], Subcarrier-Division 
Multiplexing (SDM) [6] and Optical Code Division 
Multiplexing (OCDM) [7]. With OCDM, it creates a new 
way to utilize optical codes as optical labels [8]. In [9], 
author proposes a method to check the label in the core node 
with the function of optical correlation, because logic 
operations corresponding a look-up table is the toughest 
challenge for optical processing.  
Some researches had been proposed, focusing on 
increasing the user capacity in OCDMA system [10][11].  
However, in the OCDM-based MPLS network, the length of 
a label is mainly related to the number of nodes of core 
network [12]. The bigger the core network is, the more core 
nodes are needed. When more nodes are required, the more 
code sequences are needed, which means the code length 
must be increased due to the reason that the number of code 
sequence is limited by the code length [13]. Therefore, we 
consider a scenario which can reuse labels in order to save 
the number of utilized labels when the number of core nodes 
is limited. We will compare the relationship of the number 
of utilized labels and supported LSPs in the situation with 
and without reusing labels; BER performance, cost 
efficiency and bandwidth efficiency in both situations are 
also discussed.  
Spectral-Amplitude Coding (SAC) has the advantages of 
low-cost implementation and high switching speed. It is 
easy to eliminate the Multiple-Access Interference (MAI) 
when code sequences are with fixed in-phase cross 
correlation (such as M-sequence or MQC code) [14][15]. 
However, we use the method of label stacking based on 
SAC, which is compatible with label stacking, to generate 
labels [16]. With the label stacking method, the size of 
forwarding tables can be reduced, and the speed of routing 
process can also be increased, moreover, the repeated 
process of label swapping can be avoided. In our proposed 
system architecture, we use Arrayed Waveguide Grating 
(AWG) as the codec in order to generate labels and do the 
optical correlation.  
The rest of this paper is organized as follows. Section II 
introduces the label stacking method base on SAC, and the 
system structure we used. Section III describes the concept 
of label reuse and we will first mention the problems from 
the aspect of OCDMA, then we discuss these problems when 
applying OCDMA to MPLS. In Section IV, we compare the 
relationship of the number of utilized labels and supported 
LSPs when labels are with or without reused, also, the cost 
42
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

efficiency and bandwidth efficiency are also included in the 
discussion. Finally, conclusions are presented in Section V.
II. LABEL STACKING BASED ON SPECTRAL-AMPLITUDE 
CODING 
A label stacking method based on SAC is first proposed 
in [16]. With this approach, each label is assigned to each 
intermediate node rather than link. Here, one label means a 
specific bond, in other words, the forwarding information of 
two links adjacent to an intermediate node. At the ingress 
node, it chooses the path and sends all the labels 
corresponding to the intermediate node attached to the 
payload, and the intermediate node only needs to check a 
short label that is assigned to it. This approach reduces the 
size of forwarding tables and increases the speed of routing 
processing; moreover, the repeated process of label 
swapping can be avoided.  
Here, we take an example of simple MPLS network in 
order to introduce the concept of label stacking based on 
SAC with the proposed scheme that AWG is used as the 
codec. The example is shown in Figure 1, which we assume 
that the ingress node has chosen two Label Switching Paths 
(LSPs) and each of them contains three core nodes. In one 
LSP, each core node is assigned with a specific code 
sequence (label), in this example, labels C1 to C3 belong to 
LSP1 and C4 to C6 belong to LSP2.  
Figure 1.
Example of a simple MPLS network topology.  
Figure 2 illustrates the system structure of the ingress 
node. The broadband light source will be sent to the splitter, 
then, the light source will be encoded on the spectrum in 
order to generate the corresponding code sequences. Here, 
we utilize AWG as the codec to encode and decode code 
sequences, and the M-sequence with code length 7, code 
weight 4 and correlation value 2 is also used as the label. On 
the other hand, the electrical header has the information of 
the desired LSP for the user and it determines the 
corresponding code sequences to be encoded into a label 
stack.  
After the label stack has been chosen, the label stack will 
modulate the payload bit with intensity modulation in order 
to generate the labelled packet. Therefore, each bit in the 
labelled packet includes the information of label stack, in 
other words, the payload and the label stack occupy the 
same bandwidth in the labelled packet, which also increases 
the bandwidth efficiency. Figure 3 shows the spectrums of 
the labelled packet bit of LSP1 and LSP2.  
Figure 2.
System structure of ingress node.
Figure 3.
Spectrum of the labelled packet bit of (a). user of LSP1;  
and (b). user of LSP2. 
As shown in Figure 4, at the core node, the bit of the 
labelled packet is first sent to the splitter, and the label 
processor will do the optical correlation by the optical 
decoder, also, the optical switch will forward the packet to 
the correct output. The structure of the decoder (C1) is 
illustrated in Figure 5, it will remove the power of undesired 
code sequences by the balanced detector, and the output of 
the decoder is used as the control signal to order the 
corresponding optical switch to forward the packet to the 
correct output port.
Figure 4.
The structure of core node (node A).
43
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

Figure 5.
The structure of decoder (C1).  
III. CONCEPT OF LABEL REUSE 
From the aspect of OCDM, the most direct method to 
support more users is increasing the code length. Most 
Optical Orthogonal Codes (OOCs) have limited number of 
users for a reasonable code-length and code-weight, for 
example, the M-sequence codes with code length 3 and code 
weight 2 can only support 3 users, as shown in Figure 6. If 
we want to support more users, then the code length must be 
increased for the reason that the code length increases with 
the increase in the number of users.  
Figure 6.
M-sequence code (length 3, weight 2).
When the bandwidth of the broadband light source is 
fixed and we increase the code length, as shown in Figure 7, 
the port numbers of AWG codec will also increase, resulting 
in a higher cost. In second case, the bandwidth of the 
wavelength channels is fixed and two times the bandwidth 
of broadband light source is used than before increasing the 
code length, as shown in Figure 8. This situation causes a 
lower bandwidth efficiency.  
Figure 7.
Increasing code length when the bandwidth of  
the broadband light source is fixed.  
Figure 8.
Increasing code length when the bandwidth of  
the wavelength channels is fixed.
As mentioned above, from the aspect of OCDM, the 
discussions are focused on how to increase the number of 
supported users. However, when applying OCDM to MPLS, 
the point will be how to save the number of utilized labels 
and support more LSPs when the number of available labels 
is limited. The following will describe the concept of label 
reuse with a simple example. The concept of label reuse is 
quite intuitive. When one intermediate node is not 
intersected with other LSP, a specific label which has been 
assigned to other node can be reused by this intermediate 
node. An example is shown in Figures 9 and 10.  
Figure 9.
Example of MPLS network (without label reuse).  
Figure 10. Example of MPLS network (with label reuse).  
Two LSPs are assumed. Two payload bits, each with 
different label stack. Except intermediate node A, the nodes 
in LSP1 and those in LSP2 are independent. Therefore, as 
illustrated in Figure 10, it is intuitive that C2 and C5 can be 
reused in LSP1 and LSP2, separately.  
IV. COMPARISON AND DISCUSSION 
We want to know the difference between the label-
reused scenario and the situation without reusing the labels. 
In the following examples of grid topology, we assume that 
every LSP has only three intermediate nodes, and only one 
of them intersects by other LSPs, in other words, the rest 
two nodes are not related to other LSPs. Here, we discuss 
44
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

the relationship between the number of utilized labels and 
supported LSPs when labels are with or without reused. We 
first fix the number of supported LSP to compare the 
number of utilized labels between the label-reused scenario 
and the situation without reusing labels. It is assumed that 
the number of supported LSPs is 2, and we take examples of 
the grid topology to illustrate this case in Figures 11 and 12. 
As illustrated in Table I, according to Figures 11 and 12, we 
can save two labels from being utilized when reusing labels 
(case 1 in Table I).
In order to see a more obvious change, we consider two 
more cases that the fixed number of supported LSPs is set as 
6 and 10. As shown in Table I, in case 2, the number of 
utilized labels is 18 without label reused, however, we can 
save four labels when reusing labels. On the other hand, in 
case 3, the number of utilized labels will be decreased down 
to 20 when reusing labels, in the contrast, it is 30 when 
labels without reused.  
Here, we fix the number of utilized labels to compare the 
number of supported LSP between the label-reused scenario 
and the situation without reusing labels. We assume that the 
number of utilized labels is 2, and we take examples of the 
grid topology to illustrate this case in Figures 11 and 13 
(case 1 in Table II). Table II shows that, in case 1, only two 
LSP can be supported when labels are not reused, however, 
in the label-reused scenario, the number of supported LSP 
reaches to 4. 
Figure 11. Grid topology (without label reuse).
Figure 12. Grid topology (with label reuse / fixed number of  
supported LSPs). 
Figure 13. Grid topology (with label-reuse / fixed number of  
utilized labels). 
TABLE I. 
NUMBER OF UTILIZED LABELS AND SUPPORTED LSP
WITH AND WITHOUT LABELS REUSING WHEN THE FIXED NUMBER OF 
SUPPORTED LSP IS 2/6/10.
Case 
The number of 
utilized labels 
The number of 
supported LSPs 
Case1 
Lwor 
6 
2 
Lwr 
4 
2 
Case2 
Lwor 
18 
6 
Lwr 
12 
6 
Case3 
Lwor 
30 
10 
Lwr 
20 
10 
Lwor: Labels without reuse / Lwr: Labels with reuse.  
TABLE II. 
NUMBER OF UTILIZED LABELS AND SUPPORTED LSP
WITH AND WITHOUT LABELS REUSING WHEN THE FIXED NUMBER OF 
SUPPORTED LSP IS 6/15/30
Case 
The number of 
utilized labels 
The number of 
supported LSPs 
Case1 
Lwor 
6 
2 
Lwr 
6 
3 
Case2 
Lwor 
15 
5 
Lwr 
15 
8 
Case3 
Lwor 
30 
10 
Lwr 
30 
15 
Lwor: Labels without reuse / Lwr: Labels with reuse.  
In addition for viewing a more explicit change, we also 
consider other two cases that the fixed number of utilized 
labels is set to be 15 and 30. In case 2, we let the number of 
utilized labels be 15. If labels are not reused, the number of 
supported can only be 5, however, it can be up to 8 when 
reusing labels.  On the other side, in case 3, the number of 
supported LSPs increases from 10 to 15. 
From the cases of comparison above, we can derive the 
mathematical relationship between the number of utilized 
labels and supported LSPs in a intuitive way. First, we 
assume the following parameters:  
n: The number of core nodes in every LSP.  
: The number of core nodes which intersect with other 
LSPs in each LSP.  
K: The number of utilized labels.  
45
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

L: The number of supported labels.  
As mentioned, from the cases of comparison above, we 
can derive the mathematical relationship intuitively. The 
mathematical relationship between the number of utilized 
labels and supported LSPs is as follows:  
K = n ∙ L.                                  
 K = ceiling (∙L + L) = ceiling (L∙( + 1))

where ceiling(x) is the ceiling function which gives the 
smallest integer greater than or equal to x.  
Equation (1) denotes the relationship between the 
numbers of utilized labels and supported LSPs when labels 
are without reused. On the other hand, (2) is for the case that 
labels are reused. For example, if labels are without reused 
and there are two LSPs (L=2), every of them has five core 
nodes (n=5), one of these nodes are intersected with other 
LSPs ( = 1), then from (1), we can obtain the number of 
utilized labels K is 10 (K = n∙L = 5∙2 = 10). On the other 
hand, if in the label-reused scenario, we can obtain from (2) 
that the number of utilized labels K is 4 (K = L∙(+1) = 
2∙(1+1) = 4).  
Based on the assumption that every LSP has only three 
intermediate nodes and only one of them intersects by other 
LSPs, under the situation that the bandwidth of the 
broadband light source is fixed, if we let the number of 
supported LSPs is 10, then the number of utilized labels will 
be 30, which means we need the codes with code length at 
least 30. However, in the label-reused scenario, we only 
need code with code length with at least 20. This situation is 
related to the cost of AWG codecs. In other words, if we use 
codes with longer code length as the labels, then we need 
AWG codecs with more ports which increases the cost. 
Therefore, the situation with label-reused is more cost 
efficient.  
Based on the same assumption that every LSP has only 
three intermediate nodes and only one of them intersects by 
other LSPs, if we let the number of supported LSPs is 10 
and the bandwidth of wavelength channel of AWG is fixed, 
then we need the codes with code length at least 30, 
therefore, the bandwidth of broadband light source will be 
30 times the one of wavelength channel. However, in the 
label-reused scenario, we only need code with code length 
with at least 20, in other words, the bandwidth of broadband 
light source will only need to be 20 times the one of 
wavelength channel. So, the bandwidth of the broadband 
light source will not be wasted too much when labels are 
reused, therefore, the bandwidth efficiency is better.  
We analyze the BER performance in both situations that 
with and without label reuse. It is assumed that the number 
of core nodes in every LSP is 6 (n=6), the number of core 
nodes which intersect with other LSPs in each LSP is 1 
(=1) and the number of supported labels is 4 (L=4). 
Besides, we use M-sequence code with code length 15, code 
weight 8 and correlation value 4 as the label sequence. As 
illustrated in Figure 14, when labels are without reuse, the 
BER is higher for the reason that the label stack contains six 
code sequences. However, if labels are reused, the BER 
performance becomes better, because when reusing labels, 
the number of code sequences in the label stack will 
decrease. For example, in this case, the number of code 
sequences in the label stack is two when reusing labels. In 
the previous research [17], the BER performance between 
labels coded with stuffed quadratic congruence (SQC) codes 
and conventional M-sequence codes had been discussed. 
The BER of M-sequence label in [17] at the power level of  
-16 dBm is about 10-11, however, as seen in Figure 14, at the 
same power level, the BER of M-sequence labels with label 
reuse is about 10-67 theoretically, which is much better than 
the result derived in [17].  
Figure 14. BER vs. effective received power when labels are  
with and without reuse.  
V. CONCLUSION 
Mathematical relationship of the number of utilized 
labels and supported LSPs when labels are reused or not 
reused were well derived. Some advantages with label reuse 
were found out as following: (1). If the number of utilized 
labels was limited, then the number of supported LSPs 
increased when labels were reused; (2). If the number of 
supported LSPs was limited, then we can save more labels 
being utilized when reusing labels; (3). When labels were 
reused and the bandwidth of broadband light source was 
fixed, the cost of AWG codecs will be decreased due to the 
smaller code length of the utilized code which was because 
the number of utilized labels was smaller; and (4). When the 
labels are reused and the bandwidth of wavelength channels 
of AWG codecs was fixed, more bandwidth can be saves 
due to due to the smaller code length of the utilized code. It 
was concluded that the number of code sequences in one 
label stack can be reduced when labels were reused. 
Therefore, the BER performance in the label-reused 
scenario will be better than the situation without reusing 
labels.  
46
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

REFERENCES 
[1]
R. Xu, Q. Gong and P. Ye, “A novel IP with MPLS over WDM-based 
broadband wavelength switched IP network,” IEEE J. Lightwave 
Technology, vol. 19, pp. 596–602, 2001.
[2]
H. Ghafouri-Shiraz and M. Massoud Karbassian, Optical CDMA 
Networks: Principles, Analysis and Applications. John Wiley & Sons 
Ltd, United Kingdom, 2012.  
[3]
L. D. Ghein, MPLS Fundamentals. Cisco Press, USA, 2007.
[4]
R. K. Singh and Y. N. Singh, “An overview of photonic packet 
switching architectures,” IETE Technical Review, vol. 23, pp. 15–34, 
2006.  
[5]
N. Wada, H. Harai, W. Chujo, and F. Kubota, “Photonic packet 
switching based on multi-wavelength label switching using fiber 
Bragg gratings,” ECOC'2000, Munich, Germany paper P10.4.6, 2000.  
[6]
J. Capmany, D. Pastor, S. Sales, and B. Ortega, “Subcarrier 
multiplexed optical label swapping based on subcarrier multiplexing: 
a network paradigm for the implementation of optical Internet,” The 
5th International Conference on Transparent Optical Networks
(ICTON) , Warsaw, Poland, pp. 154-157, 2003.
[7]
K. Kitayama, N. Wada, and H. Sotobayashi, “Architectural 
considerations for photonic IP router based on optical code 
correlation,” IEEE J. Lightwave Technology, vol. 18, pp. 1834–1844, 
2000.  
[8]
T. Khattab and H. Alnuweiri, “Optical CDMA for all-optical sub-
wavelength switching in core GMPLS networks,” IEEE J. on 
Selected Areas in Commu., vol. 25, pp. 905–921, 2007.  
[9]
N. Wada and K. Kitayama, “10 Gb/s optical code division 
multiplexing using 8-chip optical bipolar code and coherent 
detection,” IEEE J. Lightwave Technology, vol. 17, pp. 1758–1765, 
1999.  
[10] M. K. Eghbal, F. Aminian and M. Shadaram, “Effect of different 
optical codes on a W-band WDM-over- OCDMA system," The 19th 
International Conference on Transparent Optical Networks (ICTON), 
Girona, Spain, pp. 1-4, 2017.  
[11] D. Jia, C. Du, Z. Ji, H. Zhang, T. Liu, and Y. Zhang, “An Approach 
for Increasing User Capacity of OCDMA System Based on Vernier 
Effect” IEEE J. Lightwave Technology, vol. 34, pp. 4877-4883, 2016.  
[12] W. H. Yang and C. S. Wu, “Optical CDMA Label Encoding for 
Optical Packet Switching in All-Optical Networks,” The 14th 
International Conference on Networks, Singapore, vol. 2, pp. 1-5, 
2006.  
[13] A. Borude and S. Krishnan, “Simulation of Optical CDMA using 
OOC Code,” International Journal of Scientific and Research 
Publications, vol. 2, pp1-5, 2012.  
[14] A. A. Isaac, C. Yongsheng, C. Fushen, and A. E. Ampoma, 
“Performance of 40, 80 and 112 Gb/s PDM-DQPSK optical label 
switching system with spectral amplitude code labels,” the 22nd Asia-
Pacific Conference on Communications (APCC), Yogyakarta, 
Indonesia, pp. 161-166, 2016.  
[15] S. H. Meng, K. S. Chen, J. F. Huang, and C. C. Yang, “Orthogonal 
stacked composite M-sequence labels for quick packet routing over 
optical MPLS network,” the 28th Canadian Conference on Electrical 
and Computer Engineering (CCECE), Halifax, NS, Canada, pp. 908-
913, 2015.  
[16] P. Seddighian, S. Ayotte, J. B. Rosas-Fernandez, J. Penon, L. A. 
Rusch, and S. LaRochelle, “Label Stacking in Photonic Packet- 
Switched Networks With Spectral Amplitude Code Labels,” IEEE J. 
Lightwave Technology, vol. 25, pp. 463-471, 2007.  
[17] K. S. Chen, C. C. Yang, and J. F. Huang, “Stuffed Quadratic 
Congruence Codes for SAC Labels in Optical Packet Switching 
Network, ” IEEE Communications Letters, vol. 19, pp. 1093-1096, 
2015.
47
Copyright (c) IARIA, 2019.     ISBN:  978-1-61208-758-0
INNOV 2019 : The Eighth International Conference on Communications, Computation, Networks and Technologies

