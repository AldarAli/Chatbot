High Speed Magneto–Optical Sensor for Magnetic Stripe Readout
Johannes Egger
Johannes Kepler University, Linz, Austria
Email: johannes.egger@jku.at
Bernhard Zagar
Johannes Kepler University, Linz, Austria
Email: bernhard.zagar@jku.at
Abstract—We report on a Faraday–sensor to read out optically
test pattern recorded to magnetic stripes on smart cards in a non–
contacting way at scanning speeds of several meters per second.
The pattern densities of several bits per millimeter can be resolved
properly. The sensor employs a magneto–optical crystal of iron
doped Yttrium–Aluminum–Garnet known to exhibit one of the
highest known Verdet–constants (≈ 130 rad/Tm). It is epitaxially
grown to a rather small thickness of approximately 50µm, a small
thickness that on the one hand reduces the overall sensitivity
dramatically but on the other hand allows for a very ﬁne pitched
spatial resolution to image the normal component of the magnetic
ﬂux density. The to be tested specimen in the production line is
moving at a rather high speed so the optical system and the
readout electronics is geared toward rapid scan and to maintain
a rather high sustained data streaming rate onto a solid state
disk for archival purposes. Scan rates exceeding 50.000 scans per
second (@ 128 pixels per scan) were attained and the camera
still is sufﬁciently exposed to attain a fair signal to noise ratio.
Keywords–Faraday effect; magnetic ﬁeld sensor; magnetic ﬁeld
imaging; magnetic tape; quality control
I.
INTRODUCTION
For compatibility reasons, most smart cards still have a
magnetic stripe to store some basic information that typically
is not cryptographically secured from inadvertent access. At
the end of the production line of such cards it is necessary to
also check with high speed scanners the successful magnetic
recording of a test pattern, which ultimately is erased again.
The characterization of these magnetic stripes that ultimately
be attachted to the back of, e.g., credit cards or smart cards
is necessary for the in–line quality control of the production
line [1]. Typical feed rates are in the several meters per second
range and the ﬁnest period of the recorded magnetic pattern
is in the tens µm–range. The magnetic sensor to be employed
needs to operate contact–free to avoid mechanical damages and
must be able to also resolve any transversal (error–) pattern to
check for cross–sectional evenness. This requirement prevents
the usage of very well known and cheap magnetic tape readout
heads, since those provide information about the magnetic ﬂux
(actually the time derivative of the magnetic ﬂux) as an integral
measure only.
The contribution is organized as follows. In section II the
theory on the sensing effect is detailed. Section III details the
chosen optical set–up and the problems encountered designing
the illumination unit. This is followed in section IV by the
description of the signal processing necessary to attain a
sustained data and streaming rate in excess of 10 Mbytes/s.
In the results section preliminary measurement results are
presented followed by a short conclusion.
II.
FARADAY–EFFECT
We developed a sensor system using the Faraday–effect
[2], which is a magneto–optical effect rotating the plane
of polarized light dependent on the magnetic ﬂux density
component parallel to the incident light. It’s operating principle
is depicted in Figure 1. Polarized collimated light that can
be seen as the superposition of a right– and a left–circularly
polarized light enters the medium exhibiting the Faraday–effect
[3]. The magnetic ﬁeld in matter can be seen as the effect
of spinning or circularly moving charges. For the direction
of the B–ﬁeld indicated in Figure 1, the two superimposed
rotating (circularly polarized) electric ﬁeld vectors will affect
differently co– or counterrotating charges thus the net B–ﬁeld
is diminished or enhanced in one direction or the other. Thus
effectively the direction of polarization is rotated slightly ones
superimposed again. This effect is seen in any matter to a rather
small degree. There are, however, a few materials, in particular
Yttrium-Iron-Garnet (YIG), that exhibit rather strong effects
(show a rather large so–called Verdet constant that can go up
— for near infrared light — to 130 rad/Tm).
Figure 1. Faraday effect effectively rotating the plane of linearly polarized
light (represented by its electric ﬁeld vector E) dependent on the magnetic
ﬂux density B in direction of light propagation [4].
In a sensor type application the YIG–crystal typically has
one face mirrored so the light traverses the crystal twice
thus effectively doubling the sensitivity and also giving spatial
access for placing the mirrored surface in close proximity to
a magnetized object to be measured.
To mathematically describe this phenomenon the permeability
µ needs to be treated as a non–diagonal tensor as can be seen
68
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-494-7
SENSORDEVICES 2016 : The Seventh International Conference on Sensor Device Technologies and Applications

from (1) [5].
B(ω) =

µ1
−jµ2
0
jµ2
µ1
0
0
0
µ2
 · H(ω)
(1)
with:
B
T
vector of magnetic ﬂux density
H
A/m
vector of magnetic ﬁeld strength
µx
Vs/Am
components of permeability tensor
ω
rad/s
angular frequency of light
The net effect of (1) can by summed into a constant V , the
Verdet–constant (which is a function of the frequency ω of
the light used). It turns out that the largest sensitivity is seen
for light in the infrared region of the spectrum. The angle of
rotation β can then be written as:
β =
d
Z
x=0
V (x) · Bn(x) · dx
(2)
with:
β
radians
angle of rotation
Bn(x)
T
magnetic ﬂux density in the
direction of light propagation
as a function of position x
V (x) = V
rad/Tm
Verdet constant
d
m
interacting distance
With typical values of the Verdet–constant for the material YIG
in the range of 100 rad/Tm.
The Farady–sensor yields a rotation angle of the polariza-
tion that, according to (2), is averaging the normal component
of the magnetic ﬂux density over the thickness of the crystal d.
Thus the thickness of the YIG disk must be rather thin (here
on the order of a few tens of µm) to measure very locally.
Furthermore, one is interested to measure the magnetic ﬂux
density in a non–contacting way right at the surface of the
magnetic tape. So the distance of the crystal with respect to
the tape surface has to be kept constant and in close proximity
to the tape. This will be accomplished in the ﬁnal version of
the sensor by an appropriate aerodynamic design.
The overall rotation of the polarization that can be attained
while still maintaining a sufﬁcient spatial resolution while
realizing a non–contact measurement action is very limited
as the example shows:
For typical magnetic stripes, two coercitivities are used
(HiCo with approx. 275 to 400 mT and LoCo with 30 mT of
remanence). Given these parameters and considering the mirror
action close to the specimen effectively doubling the thickness
of d = 50µm one can estimate the maximum rotation β for
the lower remanence (B = 0.03 T) zu be
βmax = 2 · 100 · 0.03 · 50 · 10−6 = 0.15 mrad .
(3)
This rotation is barely detectable with the used low cost (foil–
) polarizers resulting in an intensity modulation following
the typical cos2–rule for the recorded intensity at the camera
(Malus’–law [6]). In the presented sensor system we didn’t aim
to and probably wouldn’t be able to quantitatively measure the
locally averaged magnetic ﬂux density but were only interested
in visualizing the presence of magnetizable domains of similar
magnetization strenghts to check for error patterns that might
be present.
III.
OPTICAL SET–UP
The major problem encountered while developing this
magnetic ﬁeld sensor was the required scan rate of more
than 50,000 scans per second, which is necessary in order to
accomodate the spatial resolution along the stripe direction and
realizing approximately 100 pixels perpendicular to the stripe
direction using a line–scan camera with sufﬁcient resolution.
While there are line–scan cameras available to cope with
those requirements the problem of properly exposing them
isn’t trivial since the Faraday–cell readout requires crossed
polarizers thereby diminishing greatly any light intensity used
for illumination. Even foil polarizers attain so–called extinction
ratios greater than 1:1000, transmitting only light according to
Malus’–law (4).
I(β) = I0 · cos2(π/2 − β) .
(4)
In (4), I0 is the incident intensity of light to the crossed pair
of polarizers and β is the angle of rotation due to the magnetic
ﬁeld in the setup.
We chose a Hamamatsu camera (type S11106-10) that has a
pixel size of 63.5µm×63.5µm and offers a spatial resolution of
128 pixels. It allows for a sustained data rate of 10 Msamples/s,
which is equivalent to approximately 64,000 scan lines per
second. In order to properly expose this camera (to a maximum
of 80% of saturation value) at its spectral peak sensitivity
(80 V/(lx s) @ 700 nm wavelength) very intensive light for
illumination is necessary as can be seen from (5) considering
the fact that the exposure time T has to be lower than 20µs
for the intended scan rates above 50.000 lines per second.
ICCD =
Uv
E · T
(5)
with:
Uv
V
analog out of camera (0.8 V max.)
E
V/(lx s)
photosensitivity (here 80 V/(lx s))
T
s
exposure time (here < 20µs)
ICCD
illuminance at face plate
For the parameters given above and an exposure time T =
20 · 10−6s aiming for 80% of saturation voltage one requires
— at the cameras face plate 400 lx. The objective lens is
designed to yield an optical magniﬁcation of unity which,
given optical principles [6] reduces the effective aperture by
two stops. Given an objective lens with a numerical aperture
of f/2.8 becoming an f/5.6 lens thus requires an intensity of
400 · 5.62 ≈ 12800 lx from the object, which is rather much.
Using a LED illumination able to supply (at maximum) 40
lumens and employing an appropriate condenser optics this
requirements can be met, however.
Figure 2 shows the devised ﬁrst prototype of the scanning–
system built using standard optical components (Linos Photon-
ics [7]). It consists of a high power LED illumination system
69
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-494-7
SENSORDEVICES 2016 : The Seventh International Conference on Sensor Device Technologies and Applications

Figure 2. Optical set–up of the experimental Faraday–sensor.
Figure 3. Photo of the thin–sheet Faraday cell.
(manufacturer Cree, type XRCRED-L1) delivering a luminous
ﬂux of 40 lm at 620 nm wavelength, a high numerical aperture
collimating optics (free diameter 21.4 mm, focal length 16
mm), which collimates the emitted light into a beam of approx
12 mm diameter, the polarizer I (Linos sheet polarizer with an
extinction ratio of 1:3500 at 42% transmission for randomly
polarized white light), followed by a non–polarizing beam–
splitter that allows for a perpendicular viewing direction with
the camera path in the second arm, and a beam stop for
spurious reﬂections off the illuminating path. On the return
path an objective lens (free aperture f/2.8) is used to project
a focussed image (optical magniﬁcation 1:1) of the magnetic
ﬁeld via the second polarizer onto the camera’s face plate. The
camera is a Hamamatsu S11106-10 camera with 128 square
pixels (63.5 × 63.5µm2).
Figure 3 shows a view onto the mirrored face plate of
the Faraday crystal. The YIG–crystal is approximately 50
µm thin and is traversed twice by light thus doubling its
effective rotation. To protected it from abrasion it is coated
by a highly reﬂective and scratch–resistant layer of chemical
vapor deposited nano–crystalline diamond giving it this golden
color observed.
IV.
SIGNAL PROCESSING
A position encoder is used to meter the feed rate of the
stripe. This encoder via a phase locked loop circuit synchro-
nizes the camera clock signals appropriately thus allowing a
bit–synchronized optical scanning of the magnetic pattern by
the camera. The analog video signal is digitized via a video
AD–converter (Analog Devices type AD9057) and stored into
a 4kB dual–ported RAM (type IDT72240). This RAM type
allows for non–synchronized writing and reading processes to
take place concurrently. By avoiding byte–by–byte memory
access and reading at least 4089 (full–minus–7–byte ﬂag
asserted) the overhead of a single PC interrupt is split upon
more than 4000 read bytes. This allows a sustained data rate
of 10 Mbytes/s even with a medium performance Raspberry
Pi unit.
Each scan–line is analyzed for mean, maximum and min-
imum values of the magnetization and an error is ﬂagged (a
single bit per unit length) if set thresholds are exceeded.
V.
RESULTS
Preliminary results are shown in Figure 4 where 150 scan
lines with 128 pixels each are displayed. The ﬁgure shows the
normal component (out of plane direction) of the magnetic
ﬂux density at an estimated distance of approximately 60µm
from the magnetic tape surface. One can clearly observe that
the system is able to image with the designed scan density,
although the ﬁner pitched structures on the right hand side
seem to exhibit some problems that might be attributed to
aliasing effects [8] stemming from a still too low spatial
sampling rate for that particular testing pattern density. The
depicted result was obtained with the still experimental unit
depicted in Figure 2. The optical ﬁeld imaged has a width of
approximately 12 mm, the acquisition rate was reduced to only
1000 lines per second and the video signal was acquired using
a digital storage oscilloscope.
Unfortunately it isn’t possible to ascribe numerical values to
the imaged magnetic ﬂux density. It would be possible to do
so if the rotation angle β were measured via a fast acting
compensation scheme sweeping over all possible rotation
angles of the local polarization, but this would require a totally
different concept to be realized. For the quality control purpose
it is sufﬁcient to simply show the presence of magnetizable
domains and not so much their actual magnetization, since that
is only dependent on the material used and wouldn’t change
along the stripe.
VI.
CONCLUSION
We reported on the ﬁrst version of a high scanning speed
magneto–optical system able to image and process up to (and
beyond) 50.000 scan lines (at a resolution of 128 pixels) per
second of magnetic test patterns recorded on a magnetic stripe
ﬁlm. This system is designed to be included for the in–line
inspection and quality control at the production line up to
feed rates of approximately 3 meters per second (considering
necessary at least two scans per bit length at the highest
magnetic pattern density).
70
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-494-7
SENSORDEVICES 2016 : The Seventh International Conference on Sensor Device Technologies and Applications

Figure 4. Image (120 pixels wide) of the magnetization of a credit card.
Clearly discernible are two tracks the right one recorded with a typically
density of 210 bits per inch (8.27 bits per mm), while the left track typically
has a recording density of 75 bits per inch (2.95 bits per mm). Currently the
magnetic ﬂux density can only be visualized qualitatively. To ascribe
numerical values of B to image intenisty values had proven to be rather
difﬁcult.
The attached Linux–based PC (a Raspberry Pi/2 model
B) is streaming the scanned image data via a FIFO–memory
unit at a sustained rate of 10 MB/s onto a solid state disk
for archival purposes. It is further planned to have a fully
operational system by the end of this year. Improvements to
be made include a better synchronization of the camera clocks
to the position encoder signals to avoid smearing effects, a
more compact optical arrangement less prone to vibrations, a
better digital signal processing scheme, allowing to scan for
additional quality measures to still be discussed and overall a
more thourough qualiﬁcation test of the complete system. Fur-
thermore, research has to be put into the question of assigning
quantitative ﬂux denisty values to intensity values recorded
by the camera. Here a standardized calibration procedure is
deﬁnitely needed, and will be worked upon.
ACKNOWLEDGMENT
This work has been carried out at LCM GmbH as part of
a K2 project. K2 projects are ﬁnanced using funding from the
Austrian COMET K2 programme. The COMET K2 projects
at LCM are supported by the Austrian federal government, the
federal state of Upper Austria, the Johannes Kepler University
and all of the scientiﬁc partners, which form part of the
COMET K2 Consortium. Furthermore, the authors gratefully
acknowledge the partial ﬁnancial support of this work by the
Austrian Research Promotion Agency under grant 838515.
REFERENCES
[1]
J.J. Blackwell, K. O’Grady, N.K. Nelson, M.P. Sharrock, The character-
isation of magnetic pigment dispersions using pulsed magnetic ﬁelds, J.
Magnetism and Magnetic Materials, 266, 2003, pp. 119–130
[2]
M. von Ardenne, G. Mussiol, S. Reball, Effekte der Physik, Harri
Deutsch, 1997
[3]
P. F. Kelly, Electricity and Magnetism, CRC–Press, Boca Raton, 2014
[4]
http://www.matesy.de/ [retrieved: May, 2016]
[5]
P. Ripka ed., Magnetic Sensors and Magnetometers, Artech House,
Boston, 2001
[6]
E. Hecht, Optics, Prentice Hall International, 2016
[7]
http://www.qioptiq-shop.com/en/Precision-Optics [retrieved: May, 2016]
[8]
A. V. Oppenheim and R. W. Schafer, Discrete–Time Signal Processing,
Prentice Hall International, 2015
71
Copyright (c) IARIA, 2016.     ISBN:  978-1-61208-494-7
SENSORDEVICES 2016 : The Seventh International Conference on Sensor Device Technologies and Applications

